(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-20b75cfa","chunk-acf0bcce","chunk-4e73ede3","chunk-1a8cd384","chunk-637a61d3","chunk-386c4a71","chunk-1fae82ec","chunk-2d0e2366","fail","chunk-5aea28e2","chunk-8b86f61e","chunk-637a61d3","chunk-382e2891","chunk-de0acff6","chunk-3279ea98","user","chunk-ec926e5e","chunk-2b52a609","chunk-314e963c","chunk-3076b886","chunk-79c08526","chunk-355d80d2","chunk-0025e323","chunk-9a2b7030","chunk-63c868c5","chunk-cd119914","chunk-a25ffa9c","chunk-b4b546ec","chunk-ab16b958","chunk-773d5c8e","chunk-45251b6a","chunk-8d077ba6","chunk-456730dd","chunk-e551902e","chunk-27251802","chunk-3434f587","chunk-f4c2b020","chunk-5cf0b15f","chunk-37e91924","chunk-155d1d61","chunk-f0fce26a","chunk-6a9ee39d","chunk-5133e6cc","chunk-1b0f33b0","chunk-3292f24c","chunk-1efc5b97","chunk-774a8e22","chunk-a9e58134","chunk-b8114340","chunk-3f544492","chunk-73343c51","chunk-35757404","chunk-059ed1b0","chunk-23cccaf0","chunk-58e060ed","chunk-637a85be","chunk-dcec768e","chunk-6344b590","chunk-10b1e910","chunk-b249978a","chunk-1f97fb41","chunk-4d93dbe9","chunk-2ab8afe8","chunk-0f84a1b1","chunk-57bb7720","chunk-304ee0a0","chunk-cec8630a","chunk-e08ce9b4","chunk-3e69302b","chunk-2d124c71","chunk-09606371","chunk-84fc8d28","chunk-68ff8a58","chunk-a5f2247e","chunk-62ec2dc4","chunk-30ad38bb","chunk-7f6a83ef","chunk-7c6a5d7c","chunk-19c7ca16","chunk-2352b25e","chunk-09b939f2","chunk-c3477bb8","chunk-30c74116","chunk-30c913cb","chunk-30d2b0d5","chunk-7aab803c","chunk-1de2c333","chunk-19319dea","chunk-56830af9","chunk-0568f6a4","chunk-d56e4812","chunk-0bff7d51","chunk-307332c9","chunk-e9ca8404","chunk-69198a96","chunk-b706c73c","chunk-43763ee6","chunk-162dbbed","chunk-34cacdd2","chunk-9de60898","chunk-14a31191","chunk-05ad0f38","chunk-2d0e95df","chunk-2d210c28","chunk-2d210bbe","chunk-2d0e4e51","chunk-2d0c8bc6","chunk-2d0aecfc","chunk-2d209ae6","chunk-2d0ae949","chunk-2d0cef18","chunk-2d221f96","chunk-2d0e9974","chunk-2d0dde11","chunk-2d0a3c6b","chunk-2d0c1d57","chunk-2d238425","chunk-2d0a3cbb","chunk-2d0b9b65","chunk-2d0be1b3","chunk-2d238446","chunk-2d0f05f3","chunk-2d0a3776","chunk-2d0c9207","chunk-2d22cc26","chunk-2d0d30b9","chunk-2d22d262","chunk-2d0d4043","chunk-2d0dec69","chunk-2d0c4e25","chunk-2d0d01f4","chunk-2d20e7f3","chunk-2d0c230b","chunk-2d216d93","chunk-2d0c45fa","chunk-2d0ba8d9","chunk-2d0cfe94","chunk-2d21dfe7","chunk-2d229a09","chunk-2d0b1e33","chunk-2d0e1f65","chunk-2d23019d"],{"001a":function(e,t,n){},"004c":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("page-layout",{attrs:{avatar:e.avatar}},[n("div",{attrs:{slot:"headerContent"},slot:"headerContent"},[n("div",{staticClass:"title"},[e._v(e._s(e.timeFix)+"，"+e._s(e.nickname())),n("span",{staticClass:"welcome-text"},[e._v("，"+e._s(e.welcome()))])]),n("div",[e._v("前端工程师 | 蚂蚁金服 - 某某某事业群 - VUE平台")])]),n("div",{attrs:{slot:"extra"},slot:"extra"},[n("a-row",{staticClass:"more-info"},[n("a-col",{attrs:{span:8}},[n("head-info",{attrs:{title:"项目数",content:"56",center:!1,bordered:!1}})],1),n("a-col",{attrs:{span:8}},[n("head-info",{attrs:{title:"团队排名",content:"8/24",center:!1,bordered:!1}})],1),n("a-col",{attrs:{span:8}},[n("head-info",{attrs:{title:"项目访问",content:"2,223",center:!1}})],1)],1)],1),n("div",[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{xl:16,lg:24,md:24,sm:24,xs:24}},[n("a-card",{staticClass:"project-list",staticStyle:{"margin-bottom":"24px"},attrs:{loading:e.loading,bordered:!1,title:"进行中的项目","body-style":{padding:0}}},[n("a",{attrs:{slot:"extra"},slot:"extra"},[e._v("全部项目")]),n("div",e._l(e.projects,(function(t,r){return n("a-card-grid",{key:r,staticClass:"project-card-grid"},[n("a-card",{attrs:{bordered:!1,"body-style":{padding:0}}},[n("a-card-meta",[n("div",{staticClass:"card-title",attrs:{slot:"title"},slot:"title"},[n("a-avatar",{attrs:{size:"small",src:t.cover}}),n("a",[e._v(e._s(t.title))])],1),n("div",{staticClass:"card-description",attrs:{slot:"description"},slot:"description"},[e._v("\n                    "+e._s(t.description)+"\n                  ")])]),n("div",{staticClass:"project-item"},[n("a",{attrs:{href:"/#/"}},[e._v("科学搬砖组")]),n("span",{staticClass:"datetime"},[e._v("9小时前")])])],1)],1)})),1)]),n("a-card",{attrs:{loading:e.loading,title:"动态",bordered:!1}},[n("a-list",e._l(e.activities,(function(t,r){return n("a-list-item",{key:r},[n("a-list-item-meta",[n("a-avatar",{attrs:{slot:"avatar",src:t.user.avatar},slot:"avatar"}),n("div",{attrs:{slot:"title"},slot:"title"},[n("span",[e._v(e._s(t.user.nickname))]),e._v(" \n                  在 "),n("a",{attrs:{href:"#"}},[e._v(e._s(t.project.name))]),e._v(" \n                  "),n("span",[e._v(e._s(t.project.action))]),e._v(" \n                  "),n("a",{attrs:{href:"#"}},[e._v(e._s(t.project.event))])]),n("div",{attrs:{slot:"description"},slot:"description"},[e._v(e._s(t.time))])],1)],1)})),1)],1)],1),n("a-col",{staticStyle:{padding:"0 12px"},attrs:{xl:8,lg:24,md:24,sm:24,xs:24}},[n("a-card",{staticStyle:{"margin-bottom":"24px"},attrs:{title:"快速开始 / 便捷导航",bordered:!1,"body-style":{padding:0}}},[n("div",{staticClass:"item-group"},[n("a",[e._v("操作一")]),n("a",[e._v("操作二")]),n("a",[e._v("操作三")]),n("a",[e._v("操作四")]),n("a",[e._v("操作五")]),n("a",[e._v("操作六")]),n("a-button",{attrs:{size:"small",type:"primary",ghost:"",icon:"plus"}},[e._v("添加")])],1)]),n("a-card",{staticStyle:{"margin-bottom":"24px"},attrs:{title:"XX 指数",loading:e.radarLoading,bordered:!1,"body-style":{padding:0}}},[n("div",{staticStyle:{"min-height":"400px"}},[n("radar",{attrs:{data:e.radarData}})],1)]),n("a-card",{attrs:{loading:e.loading,title:"团队",bordered:!1}},[n("div",{staticClass:"members"},[n("a-row",e._l(e.teams,(function(t,r){return n("a-col",{key:r,attrs:{span:12}},[n("a",[n("a-avatar",{attrs:{size:"small",src:t.avatar}}),n("span",{staticClass:"member"},[e._v(e._s(t.name))])],1)])})),1)],1)])],1)],1)],1)])},i=[],o=n("ca00"),a=n("2f62"),s=n("b445"),l=n("81d1"),c=n("3981"),u=n("0fea");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=n("7104"),m={name:"Workplace",components:{PageLayout:s["default"],HeadInfo:l["default"],Radar:c["default"]},data:function(){return{timeFix:Object(o["l"])(),avatar:"",user:{},projects:[],loading:!0,radarLoading:!0,activities:[],teams:[],axis1Opts:{dataKey:"item",line:null,tickLine:null,grid:{lineStyle:{lineDash:null},hideFirstLine:!1}},axis2Opts:{dataKey:"score",line:null,tickLine:null,grid:{type:"polygon",lineStyle:{lineDash:null}}},scale:[{dataKey:"score",min:0,max:80}],axisData:[{item:"引用",a:70,b:30,c:40},{item:"口碑",a:60,b:70,c:40},{item:"产量",a:50,b:60,c:40},{item:"贡献",a:40,b:50,c:40},{item:"热度",a:60,b:70,c:40},{item:"引用",a:70,b:50,c:40}],radarData:[]}},computed:{userInfo:function(){return this.$store.getters.userInfo}},created:function(){this.user=this.userInfo,this.avatar=Object(u["d"])(this.userInfo.avatar),Object(u["f"])().then((function(e){})),Object(u["g"])().then((function(e){}))},mounted:function(){this.getProjects(),this.getActivity(),this.getTeams(),this.initRadar()},methods:f(f({},Object(a["c"])(["nickname","welcome"])),{},{getProjects:function(){var e=this;this.$http.get("/api/list/search/projects").then((function(t){e.projects=t.result&&t.result.data,e.loading=!1}))},getActivity:function(){var e=this;this.$http.get("/api/workplace/activity").then((function(t){e.activities=t.result}))},getTeams:function(){var e=this;this.$http.get("/api/workplace/teams").then((function(t){e.teams=t.result}))},initRadar:function(){var e=this;this.radarLoading=!0,this.$http.get("/api/workplace/radar").then((function(t){var n=(new p.View).source(t.result);n.transform({type:"fold",fields:["个人","团队","部门"],key:"user",value:"score"}),e.radarData=n.rows,e.radarLoading=!1}))}})},g=m,v=(n("3386"),n("2877")),b=Object(v["a"])(g,r,i,!1,null,"245d43a6",null);t["default"]=b.exports},"0096":function(e,t,n){"use strict";n.r(t);for(var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{style:{padding:"0 0 32px 32px"}},[n("h4",{style:{marginBottom:"20px"}},[e._v(e._s(e.title))]),n("v-chart",{attrs:{height:"254",data:e.datasource,forceFit:!0,padding:["auto","auto","40","50"]}},[n("v-tooltip"),n("v-axis"),n("v-bar",{attrs:{position:"x*y"}})],1)],1)},i=[],o=[],a=0;a<12;a+=1)o.push({x:"".concat(a+1,"月"),y:Math.floor(1e3*Math.random())+200});var s=["x*y",function(e,t){return{name:e,value:t}}],l=[{dataKey:"x",min:2},{dataKey:"y",title:"时间",min:1,max:22}],c={name:"Bar",props:{title:{type:String,default:""}},mounted:function(){this.datasource=o},data:function(){return{datasource:[],scale:l,tooltip:s}}},u=c,d=n("2877"),f=Object(d["a"])(u,r,i,!1,null,null,null);t["default"]=f.exports},"00c1":function(e,t,n){},"01c0":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-row",{attrs:{gutter:10}},[n("a-col",{staticStyle:{"margin-bottom":"20px"},attrs:{md:e.leftColMd,sm:24}},[n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchQuery(t)}}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{md:12,sm:8}},[n("a-form-item",{attrs:{label:"角色名称",labelCol:{span:5},wrapperCol:{span:18,offset:1}}},[n("a-input",{attrs:{placeholder:""},model:{value:e.queryParam.roleName,callback:function(t){e.$set(e.queryParam,"roleName",t)},expression:"queryParam.roleName"}})],1)],1),n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-col",{attrs:{md:12,sm:24}},[n("a-button",{staticStyle:{"margin-left":"21px"},attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")])],1)],1)],1)],1)],1),n("div",{staticClass:"table-operator",staticStyle:{margin:"5px 0 10px 2px"}},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("新建角色")]),n("a-upload",{attrs:{name:"file",showUploadList:!1,multiple:!1,headers:e.tokenHeader,action:e.importExcelUrl},on:{change:e.handleImportExcel}},[n("a-button",{attrs:{type:"primary",icon:"import"}},[e._v("导入")])],1),n("a-button",{attrs:{type:"primary",icon:"download"},on:{click:function(t){return e.handleExportXls("角色管理")}}},[e._v("导出")])],1),n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),e._v(" 已选择 "),n("a",[n("b",[e._v(e._s(e.selectedRowKeys1.length))])]),e._v("项\n        "),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected1}},[e._v("清空")])]),n("div",{staticStyle:{"margin-top":"15px"}},[n("a-table",{ref:"table",staticStyle:{height:"500px"},attrs:{size:"middle",bordered:"",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys1,onChange:e.onSelectChange1,type:"radio"}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleOpen(r)}}},[e._v("用户")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link"},[e._v("\n              更多 "),n("a-icon",{attrs:{type:"down"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a",{on:{click:function(t){return e.handlePerssion(r.id)}}},[e._v("授权")])]),n("a-menu-item",[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")])]),n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete1(r.id)}}},[n("a",[e._v("删除")])])],1)],1)],1)],1)}}])})],1),n("user-role-modal",{ref:"modalUserRole"}),n("role-modal",{ref:"modalForm",on:{ok:e.modalFormOk}})],1)],1),1==this.rightcolval?n("a-col",{attrs:{md:e.rightColMd,sm:24}},[n("a-card",{attrs:{bordered:!1}},[n("div",{staticStyle:{"text-align":"right"}},[n("a-icon",{attrs:{type:"close-circle"},on:{click:e.hideUserList}})],1),n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{md:12,sm:12}},[n("a-form-item",{attrs:{label:"用户账号"}},[n("a-input",{attrs:{placeholder:""},model:{value:e.queryParam2.username,callback:function(t){e.$set(e.queryParam2,"username",t)},expression:"queryParam2.username"}})],1)],1),n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-col",{attrs:{md:9,sm:24}},[n("a-button",{staticStyle:{"margin-left":"21px"},attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery2}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset2}},[e._v("重置")])],1)],1)],1)],1)],1),n("div",{staticClass:"table-operator",attrs:{md:24,sm:24}},[n("a-button",{staticStyle:{"margin-top":"16px"},attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd2}},[e._v("新增用户")]),n("a-button",{staticStyle:{"margin-top":"16px"},attrs:{type:"primary",icon:"plus"},on:{click:e.handleAddUserRole}},[e._v("已有用户")]),e.selectedRowKeys2.length>0?n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:e.batchDel2}},[n("a-icon",{attrs:{type:"delete"}}),e._v("\n              删除\n            ")],1)],1),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v(" 批量操作\n            "),n("a-icon",{attrs:{type:"down"}})],1)],1):e._e()],1),n("div",[n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),e._v(" 已选择 "),n("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRowKeys2.length))]),e._v("项\n          "),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected2}},[e._v("清空")])]),n("a-table",{ref:"table2",staticStyle:{height:"500px"},attrs:{bordered:"",size:"middle",rowKey:"id",columns:e.columns2,dataSource:e.dataSource2,pagination:e.ipagination2,loading:e.loading2,rowSelection:{selectedRowKeys:e.selectedRowKeys2,onChange:e.onSelectChange2}},on:{change:e.handleTableChange2},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit2(r)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link"},[e._v("\n            更多 "),n("a-icon",{attrs:{type:"down"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete2(r.id)}}},[n("a",[e._v("删除")])])],1)],1)],1)],1)}}],null,!1,4047252981)})],1),n("role-modal",{ref:"modalForm",on:{ok:e.modalFormOk}}),n("user-modal",{ref:"modalForm2",on:{ok:e.modalFormOk2}}),n("Select-User-Modal",{ref:"selectUserModal",on:{selectFinished:e.selectOK}})],1)],1):e._e()],1)},i=[],o=n("b65a"),a=n("0fea"),s=n("b3c4"),l=n("2a70"),c=n("418f"),u=n("ca00"),d=n("ee18"),f=n("c1df"),h=n.n(f),p={name:"RoleUserList",mixins:[o["a"]],components:{UserRoleModal:d["default"],SelectUserModal:s["default"],RoleModal:l["default"],UserModal:c["default"],moment:h.a},data:function(){return{model1:{},model2:{},currentRoleId:"",queryParam1:{},queryParam2:{},dataSource1:[],dataSource2:[],ipagination1:{current:1,pageSize:10,pageSizeOptions:["10","20","30"],showTotal:function(e,t){return t[0]+"-"+t[1]+" 共"+e+"条"},showQuickJumper:!0,showSizeChanger:!0,total:0},ipagination2:{current:1,pageSize:10,pageSizeOptions:["10","20","30"],showTotal:function(e,t){return t[0]+"-"+t[1]+" 共"+e+"条"},showQuickJumper:!0,showSizeChanger:!0,total:0},isorter1:{column:"createTime",order:"desc"},isorter2:{column:"createTime",order:"desc"},filters1:{},filters2:{},loading1:!1,loading2:!1,selectedRowKeys1:[],selectedRowKeys2:[],selectionRows1:[],selectionRows2:[],test:{},rightcolval:0,columns:[{title:"角色编码",align:"center",dataIndex:"roleCode"},{title:"角色名称",align:"center",dataIndex:"roleName"},{title:"创建时间",dataIndex:"createTime",align:"center",sorter:!0,customRender:function(e){return h()(e).format("YYYY-MM-DD")}},{title:"操作",dataIndex:"action",align:"center",scopedSlots:{customRender:"action"}}],columns2:[{title:"用户账号",align:"center",dataIndex:"username",width:120},{title:"用户名称",align:"center",width:100,dataIndex:"realname"},{title:"状态",align:"center",width:80,dataIndex:"status_dictText"},{title:"操作",dataIndex:"action",scopedSlots:{customRender:"action"},align:"center",width:120}],superQueryParams2:"",superQueryMatchType2:"and",url:{list:"/sys/role/list",delete:"/sys/role/delete",list2:"/sys/user/userRoleList",addUserRole:"/sys/user/addSysUserRole",delete2:"/sys/user/deleteUserRole",deleteBatch2:"/sys/user/deleteUserRoleBatch",exportXlsUrl:"sys/role/exportXls",importExcelUrl:"sys/role/importExcel"}}},computed:{importExcelUrl:function(){return"".concat(window._CONFIG["domianURL"],"/").concat(this.url.importExcelUrl)},leftColMd:function(){return 0===this.selectedRowKeys1.length?24:12},rightColMd:function(){return 0===this.selectedRowKeys1.length?0:12}},methods:{onSelectChange2:function(e,t){this.selectedRowKeys2=e,this.selectionRows2=t},onClearSelected2:function(){this.selectedRowKeys2=[],this.selectionRows2=[]},onClearSelected1:function(){this.selectedRowKeys1=[],this.selectionRows1=[]},onSelectChange1:function(e,t){this.rightcolval=1,this.selectedRowKeys1=e,this.selectionRows1=t,this.model1=Object.assign({},t[0]),this.currentRoleId=e[0],this.loadData2()},onClearSelected:function(){},getQueryParams2:function(){var e={};this.superQueryParams2&&(e["superQueryParams"]=encodeURI(this.superQueryParams2),e["superQueryMatchType"]=this.superQueryMatchType2);var t=Object.assign(e,this.queryParam2,this.isorter2,this.filters2);return t.field=this.getQueryField2(),t.pageNo=this.ipagination2.current,t.pageSize=this.ipagination2.pageSize,Object(u["d"])(t)},getQueryField2:function(){var e="id,";return this.columns2.forEach((function(t){e+=","+t.dataIndex})),e},handleEdit2:function(e){this.$refs.modalForm2.title="编辑",this.$refs.modalForm2.roleDisabled=!0,this.$refs.modalForm2.edit(e)},handleAdd2:function(){""==this.currentRoleId?this.$message.error("请选择一个角色!"):(this.$refs.modalForm2.roleDisabled=!0,this.$refs.modalForm2.selectedRole=[this.currentRoleId],this.$refs.modalForm2.add(),this.$refs.modalForm2.title="新增")},modalFormOk2:function(){this.loadData2()},loadData2:function(e){var t=this;if(this.url.list2){if(1===e&&(this.ipagination2.current=1),""!==this.currentRoleId){var n=this.getQueryParams2();n.roleId=this.currentRoleId,this.loading2=!0,Object(a["c"])(this.url.list2,n).then((function(e){e.success&&(t.dataSource2=e.result.records,t.ipagination2.total=e.result.total),t.loading2=!1}))}}else this.$message.error("请设置url.list2属性!")},handleDelete1:function(e){this.handleDelete(e),this.dataSource2=[],this.currentRoleId=""},handleDelete2:function(e){if(this.url.delete2){var t=this;Object(a["a"])(t.url.delete2,{roleId:this.currentRoleId,userId:e}).then((function(e){e.success?(t.$message.success(e.message),t.loadData2()):t.$message.warning(e.message)}))}else this.$message.error("请设置url.delete2属性!")},batchDel2:function(){if(this.url.deleteBatch2)if(this.selectedRowKeys2.length<=0)this.$message.warning("请选择一条记录！");else{for(var e="",t=0;t<this.selectedRowKeys2.length;t++)e+=this.selectedRowKeys2[t]+",";var n=this;this.$confirm({title:"确认删除",content:"是否删除选中数据?",onOk:function(){Object(a["a"])(n.url.deleteBatch2,{roleId:n.currentRoleId,userIds:e}).then((function(e){e.success?(n.$message.success(e.message),n.loadData2(),n.onClearSelected()):n.$message.warning(e.message)}))}})}else this.$message.error("请设置url.deleteBatch2属性!")},selectOK:function(e){var t=this,n={};n.roleId=this.currentRoleId,n.userIdList=[];for(var r=0;r<e.length;r++)n.userIdList.push(e[r]);Object(a["i"])(this.url.addUserRole,n).then((function(e){e.success?(t.loadData2(),t.$message.success(e.message)):t.$message.warning(e.message)}))},handleAddUserRole:function(){""==this.currentRoleId?this.$message.error("请选择一个角色!"):this.$refs.selectUserModal.visible=!0},handleOpen:function(e){this.rightcolval=1,this.selectedRowKeys1=[e.id],this.model1=Object.assign({},e),this.currentRoleId=e.id,this.onClearSelected2(),this.loadData2()},searchQuery2:function(){this.loadData2(1)},searchReset2:function(){this.queryParam2={},this.loadData2(1)},handleTableChange2:function(e,t,n){Object.keys(n).length>0&&(this.isorter2.column=n.field,this.isorter2.order="ascend"==n.order?"asc":"desc"),this.ipagination2=e,this.loadData2()},hideUserList:function(){this.selectedRowKeys1=[]},handlePerssion:function(e){this.$refs.modalUserRole.show(e)}}},m=p,g=(n("04a7"),n("2877")),v=Object(g["a"])(m,r,i,!1,null,"bf4ed0e2",null);t["default"]=v.exports},"01f7":function(e,t,n){},"01fe":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("j-editable-table",{attrs:{columns:e.columns,dataSource:e.dataSource,rowNumber:!0,actionButton:!0,rowSelection:!0,maxHeight:400},on:{valueChange:e.handleValueChange}})},i=[],o=n("e2e0"),a=n("7550"),s={name:"ThreeLinkage",components:{JEditableTable:a["default"]},data:function(){return{columns:[{title:"省/直辖市/自治区",key:"s1",type:o["a"].select,width:"240px",options:[],placeholder:"请选择${title}"},{title:"市",key:"s2",type:o["a"].select,width:"240px",options:[],placeholder:"请选择${title}"},{title:"县/区",key:"s3",type:o["a"].select,width:"240px",options:[],placeholder:"请选择${title}"}],dataSource:[],mockData:[{label:"北京市",value:"110000",parent:null},{label:"天津市",value:"120000",parent:null},{label:"河北省",value:"130000",parent:null},{label:"上海市",value:"310000",parent:null},{label:"北京市",value:"110100",parent:"110000"},{label:"天津市市",value:"120100",parent:"120000"},{label:"石家庄市",value:"130100",parent:"130000"},{label:"唐山市",value:"130200",parent:"130000"},{label:"秦皇岛市",value:"130300",parent:"130000"},{label:"上海市",value:"310100",parent:"310000"},{label:"东城区",value:"110101",parent:"110100"},{label:"西城区",value:"110102",parent:"110100"},{label:"朝阳区",value:"110105",parent:"110100"},{label:"和平区",value:"120101",parent:"120000"},{label:"河东区",value:"120102",parent:"120000"},{label:"河西区",value:"120103",parent:"120000"},{label:"黄浦区",value:"310101",parent:"310100"},{label:"徐汇区",value:"310104",parent:"310100"},{label:"长宁区",value:"310105",parent:"310100"},{label:"长安区",value:"130102",parent:"130100"},{label:"桥西区",value:"130104",parent:"130100"},{label:"新华区",value:"130105",parent:"130100"},{label:"路南区",value:"130202",parent:"130200"},{label:"路北区",value:"130203",parent:"130200"},{label:"古冶区",value:"130204",parent:"130200"},{label:"海港区",value:"130302",parent:"130300"},{label:"山海关区",value:"130303",parent:"130300"},{label:"北戴河区",value:"130304",parent:"130300"}]}},mounted:function(){this.columns[0].options=this.request(null)},methods:{request:function(e){return this.mockData.filter((function(t){return t.parent===e}))},handleValueChange:function(e){var t=e.type,n=e.row,r=e.column,i=e.value,a=e.target;t===o["a"].select&&("s1"===r.key?(this.columns[1].options=this.request(i),a.setValues([{rowKey:n.id,values:{s2:"",s3:""}}]),this.columns[2].options=[]):"s2"===r.key&&(this.columns[2].options=this.request(i),a.setValues([{rowKey:n.id,values:{s3:""}}])))}}},l=s,c=n("2877"),u=Object(c["a"])(l,r,i,!1,null,"24c4c731",null);t["default"]=u.exports},"02d6":function(e,t,n){"use strict";var r=n("3608"),i=n.n(r);i.a},"02f0":function(e,t,n){(function(e){e(n("56b3"))})((function(e){"use strict";e.defineMode("shell",(function(){var t={};function n(e,n){for(var r=0;r<n.length;r++)t[n[r]]=e}var r=["true","false"],i=["if","then","do","else","elif","while","until","for","in","esac","fi","fin","fil","done","exit","set","unset","export","function"],o=["ab","awk","bash","beep","cat","cc","cd","chown","chmod","chroot","clear","cp","curl","cut","diff","echo","find","gawk","gcc","get","git","grep","hg","kill","killall","ln","ls","make","mkdir","openssl","mv","nc","nl","node","npm","ping","ps","restart","rm","rmdir","sed","service","sh","shopt","shred","source","sort","sleep","ssh","start","stop","su","sudo","svn","tee","telnet","top","touch","vi","vim","wall","wc","wget","who","write","yes","zsh"];function a(e,n){if(e.eatSpace())return null;var r=e.sol(),i=e.next();if("\\"===i)return e.next(),null;if("'"===i||'"'===i||"`"===i)return n.tokens.unshift(s(i,"`"===i?"quote":"string")),u(e,n);if("#"===i)return r&&e.eat("!")?(e.skipToEnd(),"meta"):(e.skipToEnd(),"comment");if("$"===i)return n.tokens.unshift(c),u(e,n);if("+"===i||"="===i)return"operator";if("-"===i)return e.eat("-"),e.eatWhile(/\w/),"attribute";if(/\d/.test(i)&&(e.eatWhile(/\d/),e.eol()||!/\w/.test(e.peek())))return"number";e.eatWhile(/[\w-]/);var o=e.current();return"="===e.peek()&&/\w+/.test(o)?"def":t.hasOwnProperty(o)?t[o]:null}function s(e,t){var n="("==e?")":"{"==e?"}":e;return function(r,i){var o,a=!1;while(null!=(o=r.next())){if(o===n&&!a){i.tokens.shift();break}if("$"===o&&!a&&"'"!==e&&r.peek()!=n){a=!0,r.backUp(1),i.tokens.unshift(c);break}if(!a&&e!==n&&o===e)return i.tokens.unshift(s(e,t)),u(r,i);if(!a&&/['"]/.test(o)&&!/['"]/.test(e)){i.tokens.unshift(l(o,"string")),r.backUp(1);break}a=!a&&"\\"===o}return t}}function l(e,t){return function(n,r){return r.tokens[0]=s(e,t),n.next(),u(n,r)}}e.registerHelper("hintWords","shell",r.concat(i,o)),n("atom",r),n("keyword",i),n("builtin",o);var c=function(e,t){t.tokens.length>1&&e.eat("$");var n=e.next();return/['"({]/.test(n)?(t.tokens[0]=s(n,"("==n?"quote":"{"==n?"def":"string"),u(e,t)):(/\d/.test(n)||e.eatWhile(/\w/),t.tokens.shift(),"def")};function u(e,t){return(t.tokens[0]||a)(e,t)}return{startState:function(){return{tokens:[]}},token:function(e,t){return u(e,t)},closeBrackets:"()[]{}''\"\"``",lineComment:"#",fold:"brace"}})),e.defineMIME("text/x-sh","shell"),e.defineMIME("application/x-sh","shell")}))},"030f":function(e,t,n){(function(e){(function(t){"use strict";var n=function(){},r=function(e){return function(){return e()}},i=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e(t.apply(null,n))}},o=function(e,t){return function(n){return e(t(n))}},a=function(e){return function(){return e}},s=function(e){return e};function l(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.concat(n);return e.apply(null,i)}}var c=function(e){return function(t){return!e(t)}},u=function(e){return function(){throw new Error(e)}},d=a(!1),f=a(!0),h=tinymce.util.Tools.resolve("tinymce.ThemeManager"),p=function(){return p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},p.apply(this,arguments)};function m(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var v,b=function(){return y},y=function(){var e=function(e){return e.isNone()},t=function(e){return e()},r=function(e){return e},i={fold:function(e,t){return e()},is:d,isSome:d,isNone:f,getOr:r,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:a(null),getOrUndefined:a(void 0),or:r,orThunk:t,map:b,each:n,bind:b,exists:d,forall:f,filter:b,equals:e,equals_:e,toArray:function(){return[]},toString:a("none()")};return i}(),C=function(e){var t=a(e),n=function(){return i},r=function(t){return t(e)},i={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:f,isNone:d,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return C(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?i:y},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(d,(function(t){return n(e,t)}))}};return i},w=function(e){return null===e||void 0===e?y:C(e)},x={some:C,none:b,from:w},I=function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},A=function(e){return function(t){return I(t)===e}},k=function(e){return function(t){return typeof t===e}},S=function(e){return function(t){return e===t}},_=A("string"),T=A("object"),E=A("array"),O=k("boolean"),R=S(void 0),N=function(e){return null===e||void 0===e},L=function(e){return!N(e)},D=k("function"),B=k("number"),M=function(e,t){if(E(e)){for(var n=0,r=e.length;n<r;++n)if(!t(e[n]))return!1;return!0}return!1},P=Array.prototype.slice,F=Array.prototype.indexOf,j=Array.prototype.push,H=function(e,t){return F.call(e,t)},z=function(e,t){var n=H(e,t);return-1===n?x.none():x.some(n)},$=function(e,t){return H(e,t)>-1},V=function(e,t){for(var n=0,r=e.length;n<r;n++){var i=e[n];if(t(i,n))return!0}return!1},W=function(e,t){for(var n=[],r=0;r<e;r++)n.push(t(r));return n},K=function(e,t){for(var n=[],r=0;r<e.length;r+=t){var i=P.call(e,r,r+t);n.push(i)}return n},G=function(e,t){for(var n=e.length,r=new Array(n),i=0;i<n;i++){var o=e[i];r[i]=t(o,i)}return r},Z=function(e,t){for(var n=0,r=e.length;n<r;n++){var i=e[n];t(i,n)}},U=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];t(r,n)}},q=function(e,t){for(var n=[],r=[],i=0,o=e.length;i<o;i++){var a=e[i],s=t(a,i)?n:r;s.push(a)}return{pass:n,fail:r}},X=function(e,t){for(var n=[],r=0,i=e.length;r<i;r++){var o=e[r];t(o,r)&&n.push(o)}return n},Y=function(e,t,n){return U(e,(function(e){n=t(n,e)})),n},J=function(e,t,n){return Z(e,(function(e){n=t(n,e)})),n},Q=function(e,t,n){for(var r=0,i=e.length;r<i;r++){var o=e[r];if(t(o,r))return x.some(o);if(n(o,r))break}return x.none()},ee=function(e,t){return Q(e,t,d)},te=function(e,t){for(var n=0,r=e.length;n<r;n++){var i=e[n];if(t(i,n))return x.some(n)}return x.none()},ne=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!E(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);j.apply(t,e[n])}return t},re=function(e,t){return ne(G(e,t))},ie=function(e,t){for(var n=0,r=e.length;n<r;++n){var i=e[n];if(!0!==t(i,n))return!1}return!0},oe=function(e){var t=P.call(e,0);return t.reverse(),t},ae=function(e,t){return X(e,(function(e){return!$(t,e)}))},se=function(e,t){for(var n={},r=0,i=e.length;r<i;r++){var o=e[r];n[String(o)]=t(o,r)}return n},le=function(e,t){var n=P.call(e,0);return n.sort(t),n},ce=function(e){return 0===e.length?x.none():x.some(e[0])},ue=function(e){return 0===e.length?x.none():x.some(e[e.length-1])},de=D(Array.from)?Array.from:function(e){return P.call(e)},fe=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return x.none()},he=function(e){var t=function(t){return e===t},n=function(t){return he(e)},r=function(t){return he(e)},i=function(t){return he(t(e))},o=function(t){return he(e)},s=function(t){t(e)},l=function(t){return t(e)},c=function(t,n){return n(e)},u=function(t){return t(e)},h=function(t){return t(e)},p=function(){return x.some(e)};return{is:t,isValue:f,isError:d,getOr:a(e),getOrThunk:a(e),getOrDie:a(e),or:n,orThunk:r,fold:c,map:i,mapError:o,each:s,bind:l,exists:u,forall:h,toOption:p}},pe=function(e){var t=function(e){return e()},r=function(){return u(String(e))()},i=function(e){return e},o=function(e){return e()},a=function(t){return pe(e)},l=function(t){return pe(t(e))},c=function(t){return pe(e)},h=function(t,n){return t(e)};return{is:d,isValue:d,isError:f,getOr:s,getOrThunk:t,getOrDie:r,or:i,orThunk:o,fold:h,map:a,mapError:l,each:n,bind:c,exists:d,forall:f,toOption:x.none}},me=function(e,t){return e.fold((function(){return pe(t)}),he)},ge={value:he,error:pe,fromOption:me};(function(e){e[e["Error"]=0]="Error",e[e["Value"]=1]="Value"})(v||(v={}));var ve=function(e,t,n){return e.stype===v.Error?t(e.serror):n(e.svalue)},be=function(e){var t=[],n=[];return Z(e,(function(e){ve(e,(function(e){return n.push(e)}),(function(e){return t.push(e)}))})),{values:t,errors:n}},ye=function(e,t){return e.stype===v.Error?{stype:v.Error,serror:t(e.serror)}:e},Ce=function(e,t){return e.stype===v.Value?{stype:v.Value,svalue:t(e.svalue)}:e},we=function(e,t){return e.stype===v.Value?t(e.svalue):e},xe=function(e,t){return e.stype===v.Error?t(e.serror):e},Ie=function(e){return{stype:v.Value,svalue:e}},Ae=function(e){return{stype:v.Error,serror:e}},ke=function(e){return ve(e,ge.error,ge.value)},Se=function(e){return e.fold(Ae,Ie)},_e={fromResult:Se,toResult:ke,svalue:Ie,partition:be,serror:Ae,bind:we,bindError:xe,map:Ce,mapError:ye,fold:ve},Te=Object.keys,Ee=Object.hasOwnProperty,Oe=function(e,t){for(var n=Te(e),r=0,i=n.length;r<i;r++){var o=n[r],a=e[o];t(a,o)}},Re=function(e,t){return Ne(e,(function(e,n){return{k:n,v:t(e,n)}}))},Ne=function(e,t){var n={};return Oe(e,(function(e,r){var i=t(e,r);n[i.k]=i.v})),n},Le=function(e){return function(t,n){e[n]=t}},De=function(e,t,n,r){var i={};return Oe(e,(function(e,i){(t(e,i)?n:r)(e,i)})),i},Be=function(e,t){var r={};return De(e,t,Le(r),n),r},Me=function(e,t){var n=[];return Oe(e,(function(e,r){n.push(t(e,r))})),n},Pe=function(e,t){for(var n=Te(e),r=0,i=n.length;r<i;r++){var o=n[r],a=e[o];if(t(a,o,e))return x.some(a)}return x.none()},Fe=function(e){return Me(e,(function(e){return e}))},je=function(e,t){return He(e,t)?x.from(e[t]):x.none()},He=function(e,t){return Ee.call(e,t)},ze=function(e,t){return He(e,t)&&void 0!==e[t]&&null!==e[t]},$e=function(e){if(!E(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");var n=[],r={};return Z(e,(function(i,o){var a=Te(i);if(1!==a.length)throw new Error("one and only one name per case");var s=a[0],l=i[s];if(void 0!==r[s])throw new Error("duplicate key detected:"+s);if("cata"===s)throw new Error("cannot have a case named cata (sorry)");if(!E(l))throw new Error("case arguments must be an array");n.push(s),r[s]=function(){var r=arguments.length;if(r!==l.length)throw new Error("Wrong number of arguments to case "+s+". Expected "+l.length+" ("+l+"), got "+r);for(var i=new Array(r),a=0;a<i.length;a++)i[a]=arguments[a];var c=function(e){var t=Te(e);if(n.length!==t.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+"\nActual: "+t.join(","));var r=ie(n,(function(e){return $(t,e)}));if(!r)throw new Error("Not all branches were specified when using match. Specified: "+t.join(", ")+"\nRequired: "+n.join(", "));return e[s].apply(null,i)};return{fold:function(){if(arguments.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+arguments.length);var t=arguments[o];return t.apply(null,i)},match:c,log:function(e){t.console.log(e,{constructors:n,constructor:s,params:i})}}}})),r},Ve={generate:$e},We=Object.prototype.hasOwnProperty,Ke=function(e,t){return t},Ge=function(e,t){var n=T(e)&&T(t);return n?Ue(e,t):t},Ze=function(e){return function(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];if(0===t.length)throw new Error("Can't merge zero objects");for(var r={},i=0;i<t.length;i++){var o=t[i];for(var a in o)We.call(o,a)&&(r[a]=e(r[a],o[a]))}return r}},Ue=Ze(Ge),qe=Ze(Ke),Xe=function(e){var t,n=!1;return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return n||(n=!0,t=e.apply(null,r)),t}},Ye=Ve.generate([{strict:[]},{defaultedThunk:["fallbackThunk"]},{asOption:[]},{asDefaultedOptionThunk:["fallbackThunk"]},{mergeWithThunk:["baseThunk"]}]),Je=function(e){return Ye.defaultedThunk(a(e))},Qe=function(e){return Ye.mergeWithThunk(a(e))},et=Ye.strict,tt=Ye.asOption,nt=Ye.defaultedThunk,rt=(Ye.asDefaultedOptionThunk,Ye.mergeWithThunk),it=function(e,t){var n={};return Oe(e,(function(e,r){$(t,r)||(n[r]=e)})),n},ot=function(e,t){var n;return n={},n[e]=t,n},at=function(e){var t={};return Z(e,(function(e){t[e.key]=e.value})),t},st=(Ve.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]),function(e){var t=[],n=[];return Z(e,(function(e){e.fold((function(e){t.push(e)}),(function(e){n.push(e)}))})),{errors:t,values:n}}),lt=function(e,t){return it(e,t)},ct=function(e,t){return ot(e,t)},ut=function(e){return at(e)},dt=function(e,t){return 0===e.length?ge.value(t):ge.value(Ue(t,qe.apply(void 0,e)))},ft=function(e){return ge.error(ne(e))},ht=function(e,t){var n=st(e);return n.errors.length>0?ft(n.errors):dt(n.values,t)},pt=function(e,t){return e.length>0?_e.svalue(Ue(t,qe.apply(void 0,e))):_e.svalue(t)},mt=function(e){return i(_e.serror,ne)(e)},gt=function(e,t){var n=_e.partition(e);return n.errors.length>0?mt(n.errors):pt(n.values,t)},vt=function(e){var t=_e.partition(e);return t.errors.length>0?mt(t.errors):_e.svalue(t.values)},bt={consolidateObj:gt,consolidateArr:vt},yt=function(e){return T(e)&&Te(e).length>100?" removed due to size":JSON.stringify(e,null,2)},Ct=function(e){var t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:function(){return"... (only showing first ten failures)"}}]):e;return G(t,(function(e){return"Failed path: ("+e.path.join(" > ")+")\n"+e.getErrorInfo()}))},wt=function(e,t){return _e.serror([{path:e,getErrorInfo:t}])},xt=function(e,t,n){return wt(e,(function(){return'Could not find valid *strict* value for "'+t+'" in '+yt(n)}))},It=function(e,t){return wt(e,(function(){return'Choice schema did not contain choice key: "'+t+'"'}))},At=function(e,t,n){return wt(e,(function(){return'The chosen schema: "'+n+'" did not exist in branches: '+yt(t)}))},kt=function(e,t){return wt(e,(function(){return"There are unsupported fields: ["+t.join(", ")+"] specified"}))},St=function(e,t){return wt(e,(function(){return t}))},_t=Ve.generate([{field:["key","okey","presence","prop"]},{state:["okey","instantiator"]}]),Tt=function(e,t,n){return je(t,n).fold((function(){return xt(e,n,t)}),_e.svalue)},Et=function(e,t,n){var r=je(e,t).fold((function(){return n(e)}),s);return _e.svalue(r)},Ot=function(e,t){return _e.svalue(je(e,t))},Rt=function(e,t,n){var r=je(e,t).map((function(t){return!0===t?n(e):t}));return _e.svalue(r)},Nt=function(e,t,n,r){return n.fold((function(n,i,o,s){var l=function(t){var o=s.extract(e.concat([n]),r,t);return _e.map(o,(function(e){return ot(i,r(e))}))},c=function(t){return t.fold((function(){var e=ot(i,r(x.none()));return _e.svalue(e)}),(function(t){var o=s.extract(e.concat([n]),r,t);return _e.map(o,(function(e){return ot(i,r(x.some(e)))}))}))};return function(){return o.fold((function(){return _e.bind(Tt(e,t,n),l)}),(function(e){return _e.bind(Et(t,n,e),l)}),(function(){return _e.bind(Ot(t,n),c)}),(function(e){return _e.bind(Rt(t,n,e),c)}),(function(e){var r=e(t),i=_e.map(Et(t,n,a({})),(function(e){return Ue(r,e)}));return _e.bind(i,l)}))}()}),(function(e,n){var i=n(t);return _e.svalue(ot(e,r(i)))}))},Lt=function(e,t,n,r){var i=G(n,(function(n){return Nt(e,t,n,r)}));return bt.consolidateObj(i,{})},Dt=function(e){var t=function(t,n,r){return e().extract(t,n,r)},n=function(){return e().toString()};return{extract:t,toString:n}},Bt=function(e){var t=function(t,n,r){return _e.bindError(e(r,n),(function(e){return St(t,e)}))},n=function(){return"val"};return{extract:t,toString:n}},Mt=function(e){return Te(Be(e,(function(e){return void 0!==e&&null!==e})))},Pt=function(e){var t=Ft(e),n=Y(e,(function(e,t){return t.fold((function(t){return Ue(e,ct(t,!0))}),a(e))}),{}),r=function(e,r,i){var o=O(i)?[]:Mt(i),a=X(o,(function(e){return!ze(n,e)}));return 0===a.length?t.extract(e,r,i):kt(e,a)};return{extract:r,toString:t.toString}},Ft=function(e){var t=function(t,n,r){return Lt(t,r,e,n)},n=function(){var t=G(e,(function(e){return e.fold((function(e,t,n,r){return e+" -> "+r.toString()}),(function(e,t){return"state("+e+")"}))}));return"obj{\n"+t.join("\n")+"}"};return{extract:t,toString:n}},jt=function(e){var t=function(t,n,r){var i=G(r,(function(r,i){return e.extract(t.concat(["["+i+"]"]),n,r)}));return bt.consolidateArr(i)},n=function(){return"array("+e.toString()+")"};return{extract:t,toString:n}},Ht=function(e){var t=function(t,n,r){for(var i=[],o=0,a=e;o<a.length;o++){var s=a[o],l=s.extract(t,n,r);if(l.stype===v.Value)return l;i.push(l)}return bt.consolidateArr(i)},n=function(){return"oneOf("+G(e,(function(e){return e.toString()})).join(", ")+")"};return{extract:t,toString:n}},zt=function(e,t){var n=function(t,n){return jt(Bt(e)).extract(t,s,n)},r=function(e,r,i){var o=Te(i),a=n(e,o);return _e.bind(a,(function(n){var o=G(n,(function(e){return _t.field(e,e,et(),t)}));return Ft(o).extract(e,r,i)}))},i=function(){return"setOf("+t.toString()+")"};return{extract:r,toString:i}},$t=a(Bt(_e.svalue)),Vt=i(jt,Ft),Wt=_t.state,Kt=_t.field,Gt=function(e,t,n,r,i){var o=je(r,i);return o.fold((function(){return At(e,r,i)}),(function(r){return r.extract(e.concat(["branch: "+i]),t,n)}))},Zt=function(e,t){var n=function(n,r,i){var o=je(i,e);return o.fold((function(){return It(n,e)}),(function(e){return Gt(n,r,i,t,e)}))},r=function(){return"chooseOn("+e+"). Possible values: "+Te(t)};return{extract:n,toString:r}},Ut=Bt(_e.svalue),qt=function(e){return Vt(e)},Xt=function(){return jt(Ut)},Yt=Dt,Jt=function(e){return Bt((function(t){return e(t).fold(_e.serror,_e.svalue)}))},Qt=function(e,t){return zt((function(t){return _e.fromResult(e(t))}),t)},en=function(e,t,n,r){var i=t.extract([e],n,r);return _e.mapError(i,(function(e){return{input:r,errors:e}}))},tn=function(e,t,n){return _e.toResult(en(e,t,s,n))},nn=function(e){return e.fold((function(e){throw new Error(on(e))}),s)},rn=function(e,t,n){return nn(tn(e,t,n))},on=function(e){return"Errors: \n"+Ct(e.errors).join("\n")+"\n\nInput object: "+yt(e.input)},an=function(e,t){return Zt(e,t)},sn=function(e,t){return Zt(e,Re(t,Ft))},ln=a(Ut),cn=function(e,t){return Bt((function(n){var r=typeof n;return e(n)?_e.svalue(n):_e.serror("Expected type: "+t+" but got: "+r)}))},un=cn(B,"number"),dn=cn(_,"string"),fn=cn(O,"boolean"),hn=cn(D,"function"),pn=function(e){var t=function(e,t){var n=e.next();while(!n.done){if(!t(n.value))return!1;n=e.next()}return!0};if(Object(e)!==e)return!0;switch({}.toString.call(e).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(e).every((function(t){return pn(e[t])}));case"Map":return t(e.keys(),pn)&&t(e.values(),pn);case"Set":return t(e.keys(),pn);default:return!1}},mn=Bt((function(e){return pn(e)?_e.svalue(e):_e.serror("Expected value to be acceptable for sending via postMessage")})),gn=function(e){return Jt((function(t){return $(e,t)?ge.value(t):ge.error('Unsupported value: "'+t+'", choose one of "'+e.join(", ")+'".')}))},vn=function(e){return Kt(e,e,et(),$t())},bn=function(e,t){return Kt(e,e,et(),t)},yn=function(e){return bn(e,un)},Cn=function(e){return bn(e,dn)},wn=function(e,t){return Kt(e,e,et(),gn(t))},xn=function(e){return bn(e,fn)},In=function(e){return bn(e,hn)},An=function(e,t){return Kt(e,e,tt(),Bt((function(n){return _e.serror("The field: "+e+" is forbidden. "+t)})))},kn=function(e,t){return Kt(e,e,et(),Ft(t))},Sn=function(e,t){return Kt(e,e,et(),Vt(t))},_n=function(e,t){return Kt(e,e,et(),jt(t))},Tn=function(e){return Kt(e,e,tt(),$t())},En=function(e,t){return Kt(e,e,tt(),t)},On=function(e){return En(e,un)},Rn=function(e){return En(e,dn)},Nn=function(e){return En(e,hn)},Ln=function(e,t){return En(e,jt(t))},Dn=function(e,t){return En(e,Ft(t))},Bn=function(e,t){return En(e,Pt(t))},Mn=function(e,t){return Kt(e,e,Je(t),$t())},Pn=function(e,t,n){return Kt(e,e,Je(t),n)},Fn=function(e,t){return Pn(e,t,un)},jn=function(e,t){return Pn(e,t,dn)},Hn=function(e,t,n){return Pn(e,t,gn(n))},zn=function(e,t){return Pn(e,t,fn)},$n=function(e,t){return Pn(e,t,hn)},Vn=function(e,t){return Pn(e,t,mn)},Wn=function(e,t,n){return Pn(e,t,jt(n))},Kn=function(e,t,n){return Pn(e,t,Ft(n))},Gn=function(e,t){return Wt(e,t)},Zn=function(e){var t=e,n=function(){return t},r=function(e){t=e};return{get:n,set:r}},Un=function(e,n){var r=n||t.document,i=r.createElement("div");if(i.innerHTML=e,!i.hasChildNodes()||i.childNodes.length>1)throw t.console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return Yn(i.childNodes[0])},qn=function(e,n){var r=n||t.document,i=r.createElement(e);return Yn(i)},Xn=function(e,n){var r=n||t.document,i=r.createTextNode(e);return Yn(i)},Yn=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:a(e)}},Jn=function(e,t,n){var r=e.dom();return x.from(r.elementFromPoint(t,n)).map(Yn)},Qn={fromHtml:Un,fromTag:qn,fromText:Xn,fromDom:Yn,fromPoint:Jn},er=function(e,t,n){return 0!==(e.compareDocumentPosition(t)&n)},tr=function(e,n){return er(e,n,t.Node.DOCUMENT_POSITION_CONTAINED_BY)},nr=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}},rr=function(e,t){var n=nr(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return ar(r(1),r(2))},ir=function(e,t){var n=String(t).toLowerCase();return 0===e.length?or():rr(e,n)},or=function(){return ar(0,0)},ar=function(e,t){return{major:e,minor:t}},sr={nu:ar,detect:ir,unknown:or},lr="Edge",cr="Chrome",ur="IE",dr="Opera",fr="Firefox",hr="Safari",pr=function(){return mr({current:void 0,version:sr.unknown()})},mr=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isEdge:r(lr),isChrome:r(cr),isIE:r(ur),isOpera:r(dr),isFirefox:r(fr),isSafari:r(hr)}},gr={unknown:pr,nu:mr,edge:a(lr),chrome:a(cr),ie:a(ur),opera:a(dr),firefox:a(fr),safari:a(hr)},vr="Windows",br="iOS",yr="Android",Cr="Linux",wr="OSX",xr="Solaris",Ir="FreeBSD",Ar="ChromeOS",kr=function(){return Sr({current:void 0,version:sr.unknown()})},Sr=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isWindows:r(vr),isiOS:r(br),isAndroid:r(yr),isOSX:r(wr),isLinux:r(Cr),isSolaris:r(xr),isFreeBSD:r(Ir),isChromeOS:r(Ar)}},_r={unknown:kr,nu:Sr,windows:a(vr),ios:a(br),android:a(yr),linux:a(Cr),osx:a(wr),solaris:a(xr),freebsd:a(Ir),chromeos:a(Ar)},Tr=function(e,t,n,r){var i=e.isiOS()&&!0===/ipad/i.test(n),o=e.isiOS()&&!i,s=e.isiOS()||e.isAndroid(),l=s||r("(pointer:coarse)"),c=i||!o&&s&&r("(min-device-width:768px)"),u=o||s&&!c,d=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),f=!u&&!c&&!d;return{isiPad:a(i),isiPhone:a(o),isTablet:a(c),isPhone:a(u),isTouch:a(l),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:a(d),isDesktop:a(f)}},Er=function(e,t){var n=String(t).toLowerCase();return ee(e,(function(e){return e.search(n)}))},Or=function(e,t){return Er(e,t).map((function(e){var n=sr.detect(e.versionRegexes,t);return{current:e.name,version:n}}))},Rr=function(e,t){return Er(e,t).map((function(e){var n=sr.detect(e.versionRegexes,t);return{current:e.name,version:n}}))},Nr={detectBrowser:Or,detectOs:Rr},Lr=function(e,t,n){return""===t||e.length>=t.length&&e.substr(n,n+t.length)===t},Dr=function(e,t){return-1!==e.indexOf(t)},Br=function(e,t){return Lr(e,t,e.length-t.length)},Mr=function(e){return function(t){return t.replace(e,"")}},Pr=Mr(/^\s+|\s+$/g),Fr=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,jr=function(e){return function(t){return Dr(t,e)}},Hr=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return Dr(e,"edge/")&&Dr(e,"chrome")&&Dr(e,"safari")&&Dr(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Fr],search:function(e){return Dr(e,"chrome")&&!Dr(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return Dr(e,"msie")||Dr(e,"trident")}},{name:"Opera",versionRegexes:[Fr,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:jr("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:jr("firefox")},{name:"Safari",versionRegexes:[Fr,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(Dr(e,"safari")||Dr(e,"mobile/"))&&Dr(e,"applewebkit")}}],zr=[{name:"Windows",search:jr("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return Dr(e,"iphone")||Dr(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:jr("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:jr("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:jr("linux"),versionRegexes:[]},{name:"Solaris",search:jr("sunos"),versionRegexes:[]},{name:"FreeBSD",search:jr("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:jr("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],$r={browsers:a(Hr),oses:a(zr)},Vr=function(e,t){var n=$r.browsers(),r=$r.oses(),i=Nr.detectBrowser(n,e).fold(gr.unknown,gr.nu),o=Nr.detectOs(r,e).fold(_r.unknown,_r.nu),a=Tr(o,i,e,t);return{browser:i,os:o,deviceType:a}},Wr={detect:Vr},Kr=function(e){return t.window.matchMedia(e).matches},Gr=Xe((function(){return Wr.detect(t.navigator.userAgent,Kr)})),Zr=function(){return Gr()},Ur=9,qr=11,Xr=1,Yr=3,Jr=function(e,t){var n=e.dom();if(n.nodeType!==Xr)return!1;var r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},Qr=function(e){return e.nodeType!==Xr&&e.nodeType!==Ur&&e.nodeType!==qr||0===e.childElementCount},ei=function(e,n){var r=void 0===n?t.document:n.dom();return Qr(r)?[]:G(r.querySelectorAll(e),Qn.fromDom)},ti=function(e,n){var r=void 0===n?t.document:n.dom();return Qr(r)?x.none():x.from(r.querySelector(e)).map(Qn.fromDom)},ni=function(e,t){return e.dom()===t.dom()},ri=function(e,t){var n=e.dom(),r=t.dom();return n!==r&&n.contains(r)},ii=function(e,t){return tr(e.dom(),t.dom())},oi=function(e,t){return Zr().browser.isIE()?ii(e,t):ri(e,t)},ai=function(e){return D(e)?e:a(!1)},si=function(e,t,n){var r=e.dom(),i=ai(n);while(r.parentNode){r=r.parentNode;var o=Qn.fromDom(r),a=t(o);if(a.isSome())return a;if(i(o))break}return x.none()},li=function(e,t,n){var r=t(e),i=ai(n);return r.orThunk((function(){return i(e)?x.none():si(e,t,i)}))},ci=function(e,t){return ni(e.element(),t.event().target())},ui=function(e){if(!ze(e,"can")&&!ze(e,"abort")&&!ze(e,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(e,null,2)+" does not have can, abort, or run!");return rn("Extracting event.handler",Pt([Mn("can",a(!0)),Mn("abort",a(!1)),Mn("run",n)]),e)},di=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return J(e,(function(e,r){return e&&t(r).apply(void 0,n)}),!0)}},fi=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return J(e,(function(e,r){return e||t(r).apply(void 0,n)}),!1)}},hi=function(e){return D(e)?{can:a(!0),abort:a(!1),run:e}:e},pi=function(e){var t=di(e,(function(e){return e.can})),n=fi(e,(function(e){return e.abort})),r=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Z(e,(function(e){e.run.apply(void 0,t)}))};return ui({can:t,abort:n,run:r})},mi=a("touchstart"),gi=a("touchmove"),vi=a("touchend"),bi=a("touchcancel"),yi=a("mousedown"),Ci=a("mousemove"),wi=a("mouseout"),xi=a("mouseup"),Ii=a("mouseover"),Ai=a("focusin"),ki=a("focusout"),Si=a("keydown"),_i=a("keyup"),Ti=a("input"),Ei=a("change"),Oi=a("click"),Ri=a("transitionend"),Ni=a("selectstart"),Li={tap:a("alloy.tap")},Di=a("alloy.focus"),Bi=a("alloy.blur.post"),Mi=a("alloy.paste.post"),Pi=a("alloy.receive"),Fi=a("alloy.execute"),ji=a("alloy.focus.item"),Hi=Li.tap,zi=a("alloy.longpress"),$i=a("alloy.sandbox.close"),Vi=a("alloy.typeahead.cancel"),Wi=a("alloy.system.init"),Ki=a("alloy.system.touchmove"),Gi=a("alloy.system.touchend"),Zi=a("alloy.system.scroll"),Ui=a("alloy.system.resize"),qi=a("alloy.system.attached"),Xi=a("alloy.system.detached"),Yi=a("alloy.system.dismissRequested"),Ji=a("alloy.system.repositionRequested"),Qi=a("alloy.focusmanager.shifted"),eo=a("alloy.slotcontainer.visibility"),to=a("alloy.change.tab"),no=a("alloy.dismiss.tab"),ro=a("alloy.highlight"),io=a("alloy.dehighlight"),oo=function(e,t){co(e,e.element(),t,{})},ao=function(e,t,n){co(e,e.element(),t,n)},so=function(e){oo(e,Fi())},lo=function(e,t,n){co(e,t,n,{})},co=function(e,t,n,r){var i=p({target:t},r);e.getSystem().triggerEvent(n,t,Re(i,a))},uo=function(e,t,n,r){e.getSystem().triggerEvent(n,t,r.event())},fo=function(e){return ut(e)},ho=function(e,t){return{key:e,value:ui({abort:t})}},po=function(e,t){return{key:e,value:ui({can:t})}},mo=function(e){return{key:e,value:ui({run:function(e,t){t.event().prevent()}})}},go=function(e,t){return{key:e,value:ui({run:t})}},vo=function(e,t,n){return{key:e,value:ui({run:function(e,r){t.apply(void 0,[e,r].concat(n))}})}},bo=function(e){return function(t){return go(e,t)}},yo=function(e){return function(t){return{key:e,value:ui({run:function(e,n){ci(e,n)&&t(e,n)}})}}},Co=function(e,t){return go(e,(function(n,r){n.getSystem().getByUid(t).each((function(t){uo(t,t.element(),e,r)}))}))},wo=function(e,t,n){var r=t.partUids[n];return Co(e,r)},xo=function(e,t){return go(e,(function(e,n){var r=n.event(),i=e.getSystem().getByDom(r.target()).fold((function(){var t=li(r.target(),(function(t){return e.getSystem().getByDom(t).toOption()}),a(!1));return t.getOr(e)}),(function(e){return e}));t(e,i,n)}))},Io=function(e){return go(e,(function(e,t){t.cut()}))},Ao=function(e){return go(e,(function(e,t){t.stop()}))},ko=function(e,t){return yo(e)(t)},So=yo(qi()),_o=yo(Xi()),To=yo(Wi()),Eo=bo(Fi()),Oo=("undefined"!==typeof t.window?t.window:Function("return this;")(),function(e){var t=e.dom().nodeName;return t.toLowerCase()}),Ro=function(e){return e.dom().nodeType},No=function(e){return function(t){return Ro(t)===e}},Lo=No(Xr),Do=No(Yr),Bo=No(Ur),Mo=No(qr),Po=function(e){return Qn.fromDom(e.dom().ownerDocument)},Fo=function(e){return Bo(e)?e:Po(e)},jo=function(e){return Qn.fromDom(e.dom().ownerDocument.documentElement)},Ho=function(e){return Qn.fromDom(e.dom().ownerDocument.defaultView)},zo=function(e){return x.from(e.dom().parentNode).map(Qn.fromDom)},$o=function(e){return x.from(e.dom().offsetParent).map(Qn.fromDom)},Vo=function(e){return x.from(e.dom().nextSibling).map(Qn.fromDom)},Wo=function(e){return G(e.dom().childNodes,Qn.fromDom)},Ko=function(e,t){var n=e.dom().childNodes;return x.from(n[t]).map(Qn.fromDom)},Go=function(e){return Ko(e,0)},Zo=function(e,t){var n=zo(e);n.each((function(n){n.dom().insertBefore(t.dom(),e.dom())}))},Uo=function(e,t){var n=Vo(e);n.fold((function(){var n=zo(e);n.each((function(e){Xo(e,t)}))}),(function(e){Zo(e,t)}))},qo=function(e,t){var n=Go(e);n.fold((function(){Xo(e,t)}),(function(n){e.dom().insertBefore(t.dom(),n.dom())}))},Xo=function(e,t){e.dom().appendChild(t.dom())},Yo=function(e,t,n){Ko(e,n).fold((function(){Xo(e,t)}),(function(e){Zo(e,t)}))},Jo=function(e,t){Z(t,(function(t){Zo(e,t)}))},Qo=function(e,t){Z(t,(function(t){Xo(e,t)}))},ea=function(e){e.dom().textContent="",Z(Wo(e),(function(e){ta(e)}))},ta=function(e){var t=e.dom();null!==t.parentNode&&t.parentNode.removeChild(t)},na=function(e){var t=Wo(e);t.length>0&&Jo(e,t),ta(e)},ra=function(e,n){var r=n||t.document,i=r.createElement("div");return i.innerHTML=e,Wo(Qn.fromDom(i))},ia=function(e){return e.dom().innerHTML},oa=function(e,t){var n=Po(e),r=n.dom(),i=Qn.fromDom(r.createDocumentFragment()),o=ra(t,r);Qo(i,o),ea(e),Xo(e,i)},aa=function(e){var t=Qn.fromTag("div"),n=Qn.fromDom(e.dom().cloneNode(!0));return Xo(t,n),ia(t)},sa=function(e,n,r){if(!(_(r)||O(r)||B(r)))throw t.console.error("Invalid call to Attr.set. Key ",n,":: Value ",r,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(n,r+"")},la=function(e,t,n){sa(e.dom(),t,n)},ca=function(e,t){var n=e.dom();Oe(t,(function(e,t){sa(n,t,e)}))},ua=function(e,t){var n=e.dom().getAttribute(t);return null===n?void 0:n},da=function(e,t){return x.from(ua(e,t))},fa=function(e,t){var n=e.dom();return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},ha=function(e,t){e.dom().removeAttribute(t)},pa=function(e,t){return Qn.fromDom(e.dom().cloneNode(t))},ma=function(e){return pa(e,!1)},ga=function(e){var t=ma(e);return aa(t)},va=function(e){return ga(e)},ba=function(e,t,n){return ni(t,e.element())&&!ni(t,n)},ya=fo([po(Di(),(function(e,n){var r=n.event().originator(),i=n.event().target();return!ba(e,r,i)||(t.console.warn(Di()+" did not get interpreted by the desired target. \nOriginator: "+va(r)+"\nTarget: "+va(i)+"\nCheck the "+Di()+" event handlers"),!1)}))]),Ca=Object.freeze({__proto__:null,events:ya}),wa=0,xa=function(e){var t=new Date,n=t.getTime(),r=Math.floor(1e9*Math.random());return wa++,e+"_"+r+wa+String(n)},Ia=a("alloy-id-"),Aa=a("data-alloy-id"),ka=Ia(),Sa=Aa(),_a=function(e,t){var n=xa(ka+e);return Ta(t,n),n},Ta=function(e,t){Object.defineProperty(e.dom(),Sa,{value:t,writable:!0})},Ea=function(e){var t=Lo(e)?e.dom()[Sa]:null;return x.from(t)},Oa=function(e){return xa(e)},Ra=s,Na=function(e){var t=function(t){return function(){throw new Error("The component must be in a context to send: "+t+(e?"\n"+va(e().element())+" is not in context.":""))}};return{debugInfo:a("fake"),triggerEvent:t("triggerEvent"),triggerFocus:t("triggerFocus"),triggerEscape:t("triggerEscape"),build:t("build"),addToWorld:t("addToWorld"),removeFromWorld:t("removeFromWorld"),addToGui:t("addToGui"),removeFromGui:t("removeFromGui"),getByUid:t("getByUid"),getByDom:t("getByDom"),broadcast:t("broadcast"),broadcastOn:t("broadcastOn"),broadcastEvent:t("broadcastEvent"),isConnected:a(!1)}},La=Na(),Da=function(e,t,n){var r=n.toString(),i=r.indexOf(")")+1,o=r.indexOf("("),a=r.substring(o+1,i-1).split(/,\s*/);return e.toFunctionAnnotation=function(){return{name:t,parameters:Ba(a.slice(0,1).concat(a.slice(3)))}},e},Ba=function(e){return G(e,(function(e){return Br(e,"/*")?e.substring(0,e.length-"/*".length):e}))},Ma=function(e,t){var n=e.toString(),r=n.indexOf(")")+1,i=n.indexOf("("),o=n.substring(i+1,r-1).split(/,\s*/);return e.toFunctionAnnotation=function(){return{name:t,parameters:Ba(o)}},e},Pa=function(e,t){var n=t.toString(),r=n.indexOf(")")+1,i=n.indexOf("("),o=n.substring(i+1,r-1).split(/,\s*/);return e.toFunctionAnnotation=function(){return{name:"OVERRIDE",parameters:Ba(o.slice(1))}},e},Fa=xa("alloy-premade"),ja=function(e){return ct(Fa,e)},Ha=function(e){return je(e,Fa)},za=function(e){return Pa((function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return e.apply(void 0,g([t.getApis(),t],n))}),e)},$a={init:function(){return Va({readState:function(){return"No State required"}})}},Va=function(e){return e},Wa=function(e,t){var n=G(t,(function(e){return Dn(e.name(),[vn("config"),Mn("state",$a)])})),r=tn("component.behaviours",Ft(n),e.behaviours).fold((function(t){throw new Error(on(t)+"\nComplete spec:\n"+JSON.stringify(e,null,2))}),(function(e){return e}));return{list:t,data:Re(r,(function(e){var t=e.map((function(e){return{config:e.config,state:e.state.init(e.config)}}));return function(){return t}}))}},Ka=function(e){return e.list},Ga=function(e){return e.data},Za=function(e,t){var n={};return Oe(e,(function(e,r){Oe(e,(function(e,i){var o=je(n,i).getOr([]);n[i]=o.concat([t(r,e)])}))})),n},Ua=function(e){return{classes:void 0!==e.classes?e.classes:[],attributes:void 0!==e.attributes?e.attributes:{},styles:void 0!==e.styles?e.styles:{}}},qa=function(e,t){return p(p({},e),{attributes:p(p({},e.attributes),t.attributes),styles:p(p({},e.styles),t.styles),classes:e.classes.concat(t.classes)})},Xa=function(e,t,n,r){var i=p({},t);Z(n,(function(t){i[t.name()]=t.exhibit(e,r)}));var o=Za(i,(function(e,t){return{name:e,modification:t}})),a=function(e){return Y(e,(function(e,t){return p(p({},t.modification),e)}),{})},s=Y(o.classes,(function(e,t){return t.modification.concat(e)}),[]),l=a(o.attributes),c=a(o.styles);return Ua({classes:s,attributes:l,styles:c})},Ya=function(e,t,n,r){try{var i=le(n,(function(n,i){var o=n[t](),a=i[t](),s=r.indexOf(o),l=r.indexOf(a);if(-1===s)throw new Error("The ordering for "+e+" does not have an entry for "+o+".\nOrder specified: "+JSON.stringify(r,null,2));if(-1===l)throw new Error("The ordering for "+e+" does not have an entry for "+a+".\nOrder specified: "+JSON.stringify(r,null,2));return s<l?-1:l<s?1:0}));return ge.value(i)}catch(o){return ge.error([o])}},Ja=function(e,t){return{handler:e,purpose:a(t)}},Qa=function(e,t){return{cHandler:e,purpose:a(t)}},es=function(e,t){return Qa(l.apply(void 0,[e.handler].concat(t)),e.purpose())},ts=function(e){return e.cHandler},ns=function(e,t){return{name:a(e),handler:a(t)}},rs=function(e,t){var n={};return Z(e,(function(e){n[e.name()]=e.handlers(t)})),n},is=function(e,t,n){var r=p(p({},n),rs(t,e));return Za(r,ns)},os=function(e,t,n,r){var i=is(e,n,r);return cs(i,t)},as=function(e){var t=hi(e);return function(e,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var o=[e,n].concat(r);t.abort.apply(void 0,o)?n.stop():t.can.apply(void 0,o)&&t.run.apply(void 0,o)}},ss=function(e,t){return ge.error(["The event ("+e+') has more than one behaviour that listens to it.\nWhen this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).\nThe behaviours that can trigger it are: '+JSON.stringify(G(t,(function(e){return e.name()})),null,2)])},ls=function(e,t,n){var r=t[n];return r?Ya("Event: "+n,"name",e,r).map((function(e){var t=G(e,(function(e){return e.handler()}));return pi(t)})):ss(n,e)},cs=function(e,t){var n=Me(e,(function(e,n){var r=1===e.length?ge.value(e[0].handler()):ls(e,t,n);return r.map((function(r){var i=as(r),o=e.length>1?X(t[n],(function(t){return V(e,(function(e){return e.name()===t}))})).join(" > "):e[0].name();return ct(n,Ja(i,o))}))}));return ht(n,{})},us=function(e){return tn("custom.definition",Ft([Kt("dom","dom",et(),Ft([vn("tag"),Mn("styles",{}),Mn("classes",[]),Mn("attributes",{}),Tn("value"),Tn("innerHtml")])),vn("components"),vn("uid"),Mn("events",{}),Mn("apis",{}),Kt("eventOrder","eventOrder",Qe({"alloy.execute":["disabling","alloy.base.behaviour","toggling","typeaheadevents"],"alloy.focus":["alloy.base.behaviour","focusing","keying"],"alloy.system.init":["alloy.base.behaviour","disabling","toggling","representing"],input:["alloy.base.behaviour","representing","streaming","invalidating"],"alloy.system.detached":["alloy.base.behaviour","representing","item-events","tooltipping"],mousedown:["focusing","alloy.base.behaviour","item-type-events"],touchstart:["focusing","alloy.base.behaviour","item-type-events"],mouseover:["item-type-events","tooltipping"],"alloy.receive":["receiving","reflecting","tooltipping"]}),ln()),Tn("domModification")]),e)},ds=function(e){return p(p({},e.dom),{uid:e.uid,domChildren:G(e.components,(function(e){return e.element()}))})},fs=function(e){return e.domModification.fold((function(){return Ua({})}),Ua)},hs=function(e){return e.events},ps=function(e,t){var n=ua(e,t);return void 0===n||""===n?[]:n.split(" ")},ms=function(e,t,n){var r=ps(e,t),i=r.concat([n]);return la(e,t,i.join(" ")),!0},gs=function(e,t,n){var r=X(ps(e,t),(function(e){return e!==n}));return r.length>0?la(e,t,r.join(" ")):ha(e,t),!1},vs=function(e){return void 0!==e.dom().classList},bs=function(e){return ps(e,"class")},ys=function(e,t){return ms(e,"class",t)},Cs=function(e,t){return gs(e,"class",t)},ws=function(e,t){vs(e)?e.dom().classList.add(t):ys(e,t)},xs=function(e){var t=vs(e)?e.dom().classList:bs(e);0===t.length&&ha(e,"class")},Is=function(e,t){if(vs(e)){var n=e.dom().classList;n.remove(t)}else Cs(e,t);xs(e)},As=function(e,t){return vs(e)&&e.dom().classList.contains(t)},ks=function(e,t){Z(t,(function(t){ws(e,t)}))},Ss=function(e,t){Z(t,(function(t){Is(e,t)}))},_s=function(e){return void 0!==e.style&&D(e.style.getPropertyValue)},Ts=function(e){return Mo(e)},Es=D(t.Element.prototype.attachShadow)&&D(t.Node.prototype.getRootNode),Os=a(Es),Rs=Es?function(e){return Qn.fromDom(e.dom().getRootNode())}:Fo,Ns=function(e){return Ts(e)?e:Qn.fromDom(Fo(e).dom().body)},Ls=function(e){var t=Rs(e);return Ts(t)?x.some(t):x.none()},Ds=function(e){return Qn.fromDom(e.dom().host)},Bs=function(e){if(Os()&&L(e.target)){var t=Qn.fromDom(e.target);if(Lo(t)&&Ms(Qn.fromDom(e.target))){var n=e;if(n.composed&&n.composedPath){var r=n.composedPath();if(r)return ce(r)}}}return x.from(e.target)},Ms=function(e){return L(e.dom().shadowRoot)},Ps=function(e){var t=Do(e)?e.dom().parentNode:e.dom();return void 0!==t&&null!==t&&null!==t.ownerDocument&&Ls(Qn.fromDom(t)).fold((function(){return t.ownerDocument.body.contains(t)}),o(Ps,Ds))},Fs=function(){return js(Qn.fromDom(t.document))},js=function(e){var t=e.dom().body;if(null===t||void 0===t)throw new Error("Body is not available yet");return Qn.fromDom(t)},Hs=function(e,n,r){if(!_(r))throw t.console.error("Invalid call to CSS.set. Property ",n,":: Value ",r,":: Element ",e),new Error("CSS value must be a string: "+r);_s(e)&&e.style.setProperty(n,r)},zs=function(e,t){_s(e)&&e.style.removeProperty(t)},$s=function(e,t,n){var r=e.dom();Hs(r,t,n)},Vs=function(e,t){var n=e.dom();Oe(t,(function(e,t){Hs(n,t,e)}))},Ws=function(e,t){var n=e.dom();Oe(t,(function(e,t){e.fold((function(){zs(n,t)}),(function(e){Hs(n,t,e)}))}))},Ks=function(e,n){var r=e.dom(),i=t.window.getComputedStyle(r),o=i.getPropertyValue(n);return""!==o||Ps(e)?o:Gs(r,n)},Gs=function(e,t){return _s(e)?e.style.getPropertyValue(t):""},Zs=function(e,t){var n=e.dom(),r=Gs(n,t);return x.from(r).filter((function(e){return e.length>0}))},Us=function(e){var t={},n=e.dom();if(_s(n))for(var r=0;r<n.style.length;r++){var i=n.style.item(r);t[i]=n.style[i]}return t},qs=function(e,t,n){var r=Qn.fromTag(e);$s(r,t,n);var i=Zs(r,t);return i.isSome()},Xs=function(e,t){var n=e.dom();zs(n,t),da(e,"style").map(Pr).is("")&&ha(e,"style")},Ys=function(e){return e.dom().offsetWidth},Js=function(e){return e.dom().value},Qs=function(e,t){if(void 0===t)throw new Error("Value.set was undefined");e.dom().value=t},el=function(e){var t=Qn.fromTag(e.tag);ca(t,e.attributes),ks(t,e.classes),Vs(t,e.styles),e.innerHtml.each((function(e){return oa(t,e)}));var n=e.domChildren;return Qo(t,n),e.value.each((function(e){Qs(t,e)})),e.uid,Ta(t,e.uid),t},tl=function(e){var t=je(e,"behaviours").getOr({}),n=X(Te(t),(function(e){return void 0!==t[e]}));return G(n,(function(e){return t[e].me}))},nl=function(e,t){return Wa(e,t)},rl=function(e){var t=tl(e);return nl(e,t)},il=function(e,t,n){var r=ds(e),i=fs(e),o={"alloy.base.modification":i},a=t.length>0?Xa(n,o,t,r):i;return qa(r,a)},ol=function(e,t,n){var r={"alloy.base.behaviour":hs(e)};return os(n,e.eventOrder,t,r).getOrDie()},al=function(e){var t=function(){return y},n=Zn(La),r=nn(us(e)),i=rl(e),o=Ka(i),s=Ga(i),l=il(r,o,s),c=el(l),u=ol(r,o,s),d=Zn(r.components),f=function(e){n.set(e)},h=function(){n.set(Na(t))},p=function(){var e=Wo(c),t=re(e,(function(e){return n.get().getByDom(e).fold((function(){return[]}),(function(e){return[e]}))}));d.set(t)},m=function(t){var n=s,r=D(n[t.name()])?n[t.name()]:function(){throw new Error("Could not find "+t.name()+" in "+JSON.stringify(e,null,2))};return r()},g=function(e){return D(s[e.name()])},v=function(){return r.apis},b=function(e){return s[e]().map((function(e){return e.state.readState()})).getOr("not enabled")},y={getSystem:n.get,config:m,hasConfigured:g,spec:a(e),readState:b,getApis:v,connect:f,disconnect:h,element:a(c),syncComponents:p,components:d.get,events:a(u)};return y},sl=function(e){var t=je(e,"components").getOr([]);return G(t,fl)},ll=function(e){var t=Ra(e),n=t.events,r=m(t,["events"]),i=sl(r),o=p(p({},r),{events:p(p({},Ca),n),components:i});return ge.value(al(o))},cl=function(e){var t=Qn.fromText(e);return ul({element:t})},ul=function(e){var t=rn("external.component",Pt([vn("element"),Tn("uid")]),e),r=Zn(Na()),i=function(e){r.set(e)},o=function(){r.set(Na((function(){return s})))};t.uid.each((function(e){Ta(t.element,e)}));var s={getSystem:r.get,config:x.none,hasConfigured:a(!1),connect:i,disconnect:o,getApis:function(){return{}},element:a(t.element),spec:a(e),readState:a("No state"),syncComponents:n,components:a([]),events:a({})};return ja(s)},dl=Oa,fl=function(e){return Ha(e).fold((function(){var t=e.hasOwnProperty("uid")?e:p({uid:dl("")},e);return ll(t).getOrDie()}),(function(e){return e}))},hl=ja;function pl(e,t){var n=function(t,n){if(!B(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);var r=t.dom();_s(r)&&(r.style[e]=n+"px")},r=function(n){var r=t(n);if(r<=0||null===r){var i=Ks(n,e);return parseFloat(i)||0}return r},i=r,o=function(e,t){return J(t,(function(t,n){var r=Ks(e,n),i=void 0===r?0:parseInt(r,10);return isNaN(i)?t:t+i}),0)},a=function(e,t,n){var r=o(e,n),i=t>r?t-r:0;return i};return{set:n,get:r,getOuter:i,aggregate:o,max:a}}var ml=pl("height",(function(e){var t=e.dom();return Ps(e)?t.getBoundingClientRect().height:t.offsetHeight})),gl=function(e){return ml.get(e)},vl=function(e){return ml.getOuter(e)},bl=function(e,t){var n=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],r=ml.max(e,t,n);$s(e,"max-height",r+"px")},yl=function(e,t){var n=function(n,r){return yl(e+n,t+r)};return{left:a(e),top:a(t),translate:n}},Cl=yl,wl=function(e){var t=e.getBoundingClientRect();return Cl(t.left,t.top)},xl=function(e,t){return void 0!==e?e:void 0!==t?t:0},Il=function(e){var t=e.dom().ownerDocument,n=t.body,r=t.defaultView,i=t.documentElement;if(n===e.dom())return Cl(n.offsetLeft,n.offsetTop);var o=xl(r.pageYOffset,i.scrollTop),a=xl(r.pageXOffset,i.scrollLeft),s=xl(i.clientTop,n.clientTop),l=xl(i.clientLeft,n.clientLeft);return Al(e).translate(a-l,o-s)},Al=function(e){var t=e.dom(),n=t.ownerDocument,r=n.body;return r===t?Cl(r.offsetLeft,r.offsetTop):Ps(e)?wl(t):Cl(0,0)},kl=pl("width",(function(e){return e.dom().offsetWidth})),Sl=function(e,t){return kl.set(e,t)},_l=function(e){return kl.get(e)},Tl=function(e){return kl.getOuter(e)},El=function(e,t){var n=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],r=kl.max(e,t,n);$s(e,"max-width",r+"px")},Ol=function(e,t,n,r,i,o,s){return{target:a(e),x:a(t),y:a(n),stop:r,prevent:i,kill:o,raw:a(s)}},Rl=function(e){var t=Qn.fromDom(Bs(e).getOr(e.target)),n=function(){return e.stopPropagation()},r=function(){return e.preventDefault()},o=i(r,n);return Ol(t,e.clientX,e.clientY,n,r,o,e)},Nl=function(e,t){return function(n){e(n)&&t(Rl(n))}},Ll=function(e,t,n,r,i){var o=Nl(n,r);return e.dom().addEventListener(t,o,i),{unbind:l(Ml,e,t,o,i)}},Dl=function(e,t,n,r){return Ll(e,t,n,r,!1)},Bl=function(e,t,n,r){return Ll(e,t,n,r,!0)},Ml=function(e,t,n,r){e.dom().removeEventListener(t,n,r)},Pl=function(e){var n=void 0!==e?e.dom():t.document,r=n.body.scrollLeft||n.documentElement.scrollLeft,i=n.body.scrollTop||n.documentElement.scrollTop;return Cl(r,i)},Fl=function(e,n,r){var i=void 0!==r?r.dom():t.document,o=i.defaultView;o.scrollTo(e,n)},jl=function(e){var n=void 0===e?t.window:e;return x.from(n["visualViewport"])},Hl=function(e,t,n,r){return{x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}},zl=function(e){var n=void 0===e?t.window:e,r=n.document,i=Pl(Qn.fromDom(r));return jl(n).fold((function(){var e=n.document.documentElement,t=e.clientWidth,r=e.clientHeight;return Hl(i.left(),i.top(),t,r)}),(function(e){return Hl(Math.max(e.pageLeft,i.left()),Math.max(e.pageTop,i.top()),e.width,e.height)}))},$l=function(e,t){var n=e.view(t);return n.fold(a([]),(function(t){var n=e.owner(t),r=$l(e,n);return[t].concat(r)}))},Vl=function(e,t){var n=t.owner(e),r=$l(t,n);return x.some(r)},Wl=function(e){var n=e.dom()===t.document?x.none():x.from(e.dom().defaultView.frameElement);return n.map(Qn.fromDom)},Kl=function(e){return Po(e)},Gl=Object.freeze({__proto__:null,view:Wl,owner:Kl}),Zl=function(e){var n=Qn.fromDom(t.document),r=Pl(n),i=Vl(e,Gl);return i.fold(l(Il,e),(function(t){var n=Al(e),i=Y(t,(function(e,t){var n=Al(t);return{left:e.left+n.left(),top:e.top+n.top()}}),{left:0,top:0});return Cl(i.left+n.left()+r.left(),i.top+n.top()+r.top())}))},Ul=function(e,t,n){return{point:e,width:t,height:n}},ql=function(e,t,n,r){return{x:e,y:t,width:n,height:r}},Xl=function(e,t,n,r){return{x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}},Yl=function(e){var t=Il(e),n=Tl(e),r=vl(e);return Xl(t.left(),t.top(),n,r)},Jl=function(e){var t=Zl(e),n=Tl(e),r=vl(e);return Xl(t.left(),t.top(),n,r)},Ql=function(){return zl(t.window)};function ec(e,t,n,r,i){return e(n,r)?x.some(n):D(i)&&i(n)?x.none():t(n,r,i)}var tc,nc=function(e,t,n){var r=e.dom(),i=D(n)?n:a(!1);while(r.parentNode){r=r.parentNode;var o=Qn.fromDom(r);if(t(o))return x.some(o);if(i(o))break}return x.none()},rc=function(e,t,n){var r=function(e,t){return t(e)};return ec(r,nc,e,t,n)},ic=function(e,t){var n=function(e){for(var r=0;r<e.childNodes.length;r++){var i=Qn.fromDom(e.childNodes[r]);if(t(i))return x.some(i);var o=n(e.childNodes[r]);if(o.isSome())return o}return x.none()};return n(e.dom())},oc=function(e,t,n){return rc(e,t,n).isSome()},ac=function(e,t,n){return nc(e,(function(e){return Jr(e,t)}),n)},sc=function(e,t){return ti(t,e)},lc=function(e,t,n){var r=function(e,t){return Jr(e,t)};return ec(r,ac,e,t,n)},cc=function(e){var t=rc(e,(function(e){if(!Lo(e))return!1;var t=ua(e,"id");return void 0!==t&&t.indexOf("aria-owns")>-1}));return t.bind((function(e){var t=ua(e,"id"),n=Po(e);return sc(n,'[aria-owns="'+t+'"]')}))},uc=function(){var e=xa("aria-owns"),t=function(t){la(t,"aria-owns",e)},n=function(e){ha(e,"aria-owns")};return{id:e,link:t,unlink:n}},dc=function(e,t){return cc(t).exists((function(t){return fc(e,t)}))},fc=function(e,t){return oc(t,(function(t){return ni(t,e.element())}),a(!1))||dc(e,t)},hc="unknown";(function(e){e[e["STOP"]=0]="STOP",e[e["NORMAL"]=1]="NORMAL",e[e["LOGGING"]=2]="LOGGING"})(tc||(tc={}));var pc,mc=Zn({}),gc=function(e,n){var r=[],i=(new Date).getTime();return{logEventCut:function(e,t,n){r.push({outcome:"cut",target:t,purpose:n})},logEventStopped:function(e,t,n){r.push({outcome:"stopped",target:t,purpose:n})},logNoParent:function(e,t,n){r.push({outcome:"no-parent",target:t,purpose:n})},logEventNoHandlers:function(e,t){r.push({outcome:"no-handlers-left",target:t})},logEventResponse:function(e,t,n){r.push({outcome:"response",purpose:n,target:t})},write:function(){var o=(new Date).getTime();$(["mousemove","mouseover","mouseout",Wi()],e)||t.console.log(e,{event:e,time:o-i,target:n.dom(),sequence:G(r,(function(e){return $(["cut","stopped","response"],e.outcome)?"{"+e.purpose+"} "+e.outcome+" at ("+va(e.target)+")":e.outcome}))})}}},vc=function(e,t,n){var r=je(mc.get(),e).orThunk((function(){var t=Te(mc.get());return fe(t,(function(t){return e.indexOf(t)>-1?x.some(mc.get()[t]):x.none()}))})).getOr(tc.NORMAL);switch(r){case tc.NORMAL:return n(xc());case tc.LOGGING:var i=gc(e,t),o=n(i);return i.write(),o;case tc.STOP:return!0}},bc=["alloy/data/Fields","alloy/debugging/Debugging"],yc=function(){var e=new Error;if(void 0!==e.stack){var t=e.stack.split("\n");return ee(t,(function(e){return e.indexOf("alloy")>0&&!V(bc,(function(t){return e.indexOf(t)>-1}))})).getOr(hc)}return hc},Cc={logEventCut:n,logEventStopped:n,logNoParent:n,logEventNoHandlers:n,logEventResponse:n,write:n},wc=function(e,t,n){return vc(e,t,n)},xc=a(Cc),Ic=a([vn("menu"),vn("selectedMenu")]),Ac=a([vn("item"),vn("selectedItem")]),kc=(a(Ft(Ac().concat(Ic()))),a(Ft(Ac()))),Sc=kn("initSize",[vn("numColumns"),vn("numRows")]),_c=function(){return bn("markers",kc())},Tc=function(){return kn("markers",[vn("backgroundMenu")].concat(Ic()).concat(Ac()))},Ec=function(e){return kn("markers",G(e,vn))},Oc=function(e,t,n){yc();return Kt(t,t,n,Jt((function(e){return ge.value((function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.apply(void 0,t)}))})))},Rc=function(e){return Oc("onHandler",e,Je(n))},Nc=function(e){return Oc("onKeyboardHandler",e,Je(x.none))},Lc=function(e){return Oc("onHandler",e,et())},Dc=function(e){return Oc("onKeyboardHandler",e,et())},Bc=function(e,t){return Gn(e,a(t))},Mc=function(e){return Gn(e,s)},Pc=a(Sc),Fc=function(e,t,n,r,i,o){return{x:a(e),y:a(t),bubble:a(n),direction:a(r),boundsRestriction:a(i),label:a(o)}},jc=Ve.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),Hc=function(e,t,n,r,i,o,a,s,l){return e.fold(t,n,r,i,o,a,s,l)},zc=function(e,t,n,r){return e.fold(t,t,r,r,t,r,n,n)},$c=function(e,t,n,r){return e.fold(t,r,t,r,n,n,t,r)},Vc=jc.southeast,Wc=jc.southwest,Kc=jc.northeast,Gc=jc.northwest,Zc=jc.south,Uc=jc.north,qc=jc.east,Xc=jc.west,Yc=function(e,t){switch(t){case 1:return e.x;case 0:return e.x+e.width;case 2:return e.y;case 3:return e.y+e.height}},Jc=function(e,t){return se(["left","right","top","bottom"],(function(n){return je(t,n).map((function(t){return Yc(e,t)}))}))},Qc=function(e,t,n){var r=function(e,r){var i="top"===e||"bottom"===e?n.top():n.left();return je(t,e).bind(s).bind((function(t){return"left"===e||"top"===e?t>=r?x.some(t):x.none():t<=r?x.some(t):x.none()})).map((function(e){return e+i})).getOr(r)},i=r("left",e.x),o=r("top",e.y),a=r("right",e.right),l=r("bottom",e.bottom);return Xl(i,o,a-i,l-o)},eu=function(e){return e.x},tu=function(e,t){return e.x+e.width/2-t.width/2},nu=function(e,t){return e.x+e.width-t.width},ru=function(e,t){return e.y-t.height},iu=function(e){return e.y+e.height},ou=function(e,t){return e.y+e.height/2-t.height/2},au=function(e){return e.x+e.width},su=function(e,t){return e.x-t.width},lu=function(e,t,n){return Fc(eu(e),iu(e),n.southeast(),Vc(),Jc(e,{left:1,top:3}),"layout-se")},cu=function(e,t,n){return Fc(nu(e,t),iu(e),n.southwest(),Wc(),Jc(e,{right:0,top:3}),"layout-sw")},uu=function(e,t,n){return Fc(eu(e),ru(e,t),n.northeast(),Kc(),Jc(e,{left:1,bottom:2}),"layout-ne")},du=function(e,t,n){return Fc(nu(e,t),ru(e,t),n.northwest(),Gc(),Jc(e,{right:0,bottom:2}),"layout-nw")},fu=function(e,t,n){return Fc(tu(e,t),ru(e,t),n.north(),Uc(),Jc(e,{bottom:2}),"layout-n")},hu=function(e,t,n){return Fc(tu(e,t),iu(e),n.south(),Zc(),Jc(e,{top:3}),"layout-s")},pu=function(e,t,n){return Fc(au(e),ou(e,t),n.east(),qc(),Jc(e,{left:0}),"layout-e")},mu=function(e,t,n){return Fc(su(e,t),ou(e,t),n.west(),Xc(),Jc(e,{right:1}),"layout-w")},gu=function(){return[lu,cu,uu,du,hu,fu,pu,mu]},vu=function(){return[cu,lu,du,uu,hu,fu,pu,mu]},bu=function(){return[uu,du,lu,cu,fu,hu]},yu=function(){return[du,uu,cu,lu,fu,hu]},Cu=function(){return[lu,cu,uu,du,hu,fu]},wu=function(){return[cu,lu,du,uu,hu,fu]},xu=function(e,t,n){return Eo((function(r){n(r,e,t)}))},Iu=function(e,t,n){return To((function(r,i){n(r,e,t)}))},Au=function(e,t,n,r,i,o){var a=Pt(e),s=Dn(t,[Bn("config",e)]);return Tu(a,s,t,n,r,i,o)},ku=function(e,t,n,r,i,o){var a=e,s=Dn(t,[En("config",e)]);return Tu(a,s,t,n,r,i,o)},Su=function(e,t,n){var r=function(r){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var s=[r].concat(i);return r.config({name:a(e)}).fold((function(){throw new Error("We could not find any behaviour configuration for: "+e+". Using API: "+n)}),(function(e){var n=Array.prototype.slice.call(s,1);return t.apply(void 0,[r,e.config,e.state].concat(n))}))};return Da(r,n,t)},_u=function(e){return{key:e,value:void 0}},Tu=function(e,t,n,r,i,o,a){var s=function(e){return ze(e,n)?e[n]():x.none()},c=Re(i,(function(e,t){return Su(n,e,t)})),u=Re(o,(function(e,t){return Ma(e,t)})),d=p(p(p({},u),c),{revoke:l(_u,n),config:function(t){var r=rn(n+"-config",e,t);return{key:n,value:{config:r,me:d,configAsRaw:Xe((function(){return rn(n+"-config",e,t)})),initialConfig:t,state:a}}},schema:function(){return t},exhibit:function(e,t){return s(e).bind((function(e){return je(r,"exhibit").map((function(n){return n(t,e.config,e.state)}))})).getOr(Ua({}))},name:function(){return n},handlers:function(e){return s(e).map((function(e){var t=je(r,"events").getOr((function(){return{}}));return t(e.config,e.state)})).getOr({})}});return d},Eu=function(e){return ut(e)},Ou=Pt([vn("fields"),vn("name"),Mn("active",{}),Mn("apis",{}),Mn("state",$a),Mn("extra",{})]),Ru=function(e){var t=rn("Creating behaviour: "+e.name,Ou,e);return Au(t.fields,t.name,t.active,t.apis,t.extra,t.state)},Nu=Pt([vn("branchKey"),vn("branches"),vn("name"),Mn("active",{}),Mn("apis",{}),Mn("state",$a),Mn("extra",{})]),Lu=function(e){var t=rn("Creating behaviour: "+e.name,Nu,e);return ku(sn(t.branchKey,t.branches),t.name,t.active,t.apis,t.extra,t.state)},Du=a(void 0),Bu=function(e,t){return t.universal()?e:X(e,(function(e){return $(t.channels(),e)}))},Mu=function(e){return fo([go(Pi(),(function(t,n){var r=e.channels,i=Te(r),o=n,a=Bu(i,o);Z(a,(function(e){var n=r[e],i=n.schema,a=rn("channel["+e+"] data\nReceiver: "+va(t.element()),i,o.data());n.onReceive(t,a)}))}))])},Pu=Object.freeze({__proto__:null,events:Mu}),Fu=[bn("channels",Qt(ge.value,Pt([Lc("onReceive"),Mn("schema",ln())])))],ju=Ru({fields:Fu,name:"receiving",active:Pu}),Hu=function(e,t){return Ua({classes:[],styles:t.useFixed()?{}:{position:"relative"}})},zu=Object.freeze({__proto__:null,exhibit:Hu}),$u=function(){return Qn.fromDom(t.document)},Vu=function(e){return e.dom().focus()},Wu=function(e){return e.dom().blur()},Ku=function(e){var t=Rs(e).dom();return e.dom()===t.activeElement},Gu=function(e){return void 0===e&&(e=$u()),x.from(e.dom().activeElement).map(Qn.fromDom)},Zu=function(e){return Gu(Rs(e)).filter((function(t){return e.dom().contains(t.dom())}))},Uu=function(e,t){var r=Po(t),i=Gu(r).bind((function(e){var n=function(t){return ni(e,t)};return n(t)?x.some(t):ic(t,n)})),o=e(t);return i.each((function(e){Gu(r).filter((function(t){return ni(t,e)})).fold((function(){Vu(e)}),n)})),o},qu=function(e,t,n,r,i){return{position:a(e),left:a(t),top:a(n),right:a(r),bottom:a(i)}},Xu=function(e,t){var n=function(e){return e+"px"};Ws(e,{position:x.some(t.position()),left:t.left().map(n),top:t.top().map(n),right:t.right().map(n),bottom:t.bottom().map(n)})},Yu=Ve.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),Ju=function(e,t,n,r,i,o){var a=t.x-n,s=t.y-r,l=t.width,c=t.height,u=i-(a+l),d=o-(s+c),f=x.some(a),h=x.some(s),p=x.some(u),m=x.some(d),g=x.none();return Hc(t.direction,(function(){return qu(e,f,h,g,g)}),(function(){return qu(e,g,h,p,g)}),(function(){return qu(e,f,g,g,m)}),(function(){return qu(e,g,g,p,m)}),(function(){return qu(e,f,h,g,g)}),(function(){return qu(e,f,g,g,m)}),(function(){return qu(e,f,h,g,g)}),(function(){return qu(e,g,h,p,g)}))},Qu=function(e,t){return e.fold((function(){return qu("absolute",x.some(t.x),x.some(t.y),x.none(),x.none())}),(function(e,n,r,i){return Ju("absolute",t,e,n,r,i)}),(function(e,n,r,i){return Ju("fixed",t,e,n,r,i)}))},ed=function(e,t){var n=l(Zl,t),r=e.fold(n,n,(function(){var e=Pl();return Zl(t).translate(-e.left(),-e.top())})),i=Tl(t),o=vl(t);return Xl(r.left(),r.top(),i,o)},td=function(e,t){return t.fold((function(){return e.fold(Ql,Ql,Xl)}),(function(t){return e.fold(t,t,(function(){var n=t(),r=nd(e,n.x,n.y);return Xl(r.left(),r.top(),n.width,n.height)}))}))},nd=function(e,t,n){var r=Cl(t,n),i=function(){var e=Pl();return r.translate(-e.left(),-e.top())};return e.fold(a(r),a(r),i)},rd=function(e,t,n,r){return e.fold(t,n,r)},id=(Yu.none,Yu.relative),od=Yu.fixed,ad=function(e,t){return{anchorBox:a(e),origin:a(t)}},sd=function(e,t){return ad(e,t)},ld=function(e,t,n,r){var i=e+t;return i>r?n:i<n?r:i},cd=function(e,t,n){return Math.min(Math.max(e,t),n)},ud=Ve.generate([{fit:["reposition"]},{nofit:["reposition","deltaW","deltaH"]}]),dd=function(e,t,n,r,i){var o=i.x,a=i.y,s=i.width,l=i.height,c=e>=o,u=t>=a,d=c&&u,f=e+n<=o+s,h=t+r<=a+l,p=f&&h,m=Math.abs(Math.min(n,c?o+s-e:o-(e+n))),g=Math.abs(Math.min(r,u?a+l-t:a-(t+r))),v=Math.max(i.x,i.right-n),b=Math.max(i.y,i.bottom-r),y=cd(e,i.x,v),C=cd(t,i.y,b);return{originInBounds:d,sizeInBounds:p,limitX:y,limitY:C,deltaW:m,deltaH:g}},fd=function(e,t,n,r){var i=e.x(),o=e.y(),s=e.bubble().offset(),l=s.left(),c=s.top(),u=Qc(r,e.boundsRestriction(),s),d=u.y,f=u.bottom,h=u.x,p=u.right,m=i+l,g=o+c,v=dd(m,g,t,n,u),b=v.originInBounds,y=v.sizeInBounds,C=v.limitX,w=v.limitY,x=v.deltaW,I=v.deltaH,A=a(w+I-d),k=a(f-w),S=zc(e.direction(),k,k,A),_=a(C+x-h),T=a(p-C),E=$c(e.direction(),T,T,_),O={x:C,y:w,width:x,height:I,maxHeight:S,maxWidth:E,direction:e.direction(),classes:{on:e.bubble().classesOn(),off:e.bubble().classesOff()},label:e.label(),candidateYforTest:g};return b&&y?ud.fit(O):ud.nofit(O,x,I)},hd=function(e,t,n,r,i){var o=n.width,a=n.height,c=function(e,s,l,c){var u=e(t,n,r),d=fd(u,o,a,i);return d.fold(ud.fit,(function(e,t,n){var r=n>c||t>l;return r?ud.nofit(e,t,n):ud.nofit(s,l,c)}))},u=J(e,(function(e,t){var n=l(c,t);return e.fold(ud.fit,n)}),ud.nofit({x:t.x,y:t.y,width:n.width,height:n.height,maxHeight:n.height,maxWidth:n.width,direction:Vc(),classes:{on:[],off:[]},label:"none",candidateYforTest:t.y},-1,-1));return u.fold(s,s)},pd=function(e){return{width:Tl(e),height:vl(e)}},md=function(e,t,n,r){Xs(t,"max-height"),Xs(t,"max-width");var i=pd(t);return hd(r.preference,e,i,n,r.bounds)},gd=function(e,t){var n=t.classes;Ss(e,n.off),ks(e,n.on)},vd=function(e,t,n){var r=n.maxHeightFunction;r(e,t.maxHeight)},bd=function(e,t,n){var r=n.maxWidthFunction;r(e,t.maxWidth)},yd=function(e,t,n){Xu(e,Qu(n.origin,t))},Cd=function(e,t){bl(e,Math.floor(t))},wd=a((function(e,t){Cd(e,t),Vs(e,{"overflow-x":"hidden","overflow-y":"auto"})})),xd=a((function(e,t){Cd(e,t)})),Id=function(e,t,n){return void 0===e[t]?n:e[t]},Ad=function(e,t,r,i,o,a){var s=Id(a,"maxHeightFunction",wd()),l=Id(a,"maxWidthFunction",n),c=e.anchorBox(),u=e.origin(),d={bounds:td(u,o),origin:u,preference:i,maxHeightFunction:s,maxWidthFunction:l};kd(c,t,r,d)},kd=function(e,t,n,r){var i=md(e,t,n,r);yd(t,i,r),gd(t,i),vd(t,i,r),bd(t,i,r)},Sd=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right"],_d=function(e,t,n){var r=function(e){return je(n,e).getOr([])},i=function(e,t,n){var i=ae(Sd,n);return{offset:function(){return Cl(e,t)},classesOn:function(){return re(n,r)},classesOff:function(){return re(i,r)}}};return{southeast:function(){return i(-e,t,["top","alignLeft"])},southwest:function(){return i(e,t,["top","alignRight"])},south:function(){return i(-e/2,t,["top","alignCentre"])},northeast:function(){return i(-e,-t,["bottom","alignLeft"])},northwest:function(){return i(e,-t,["bottom","alignRight"])},north:function(){return i(-e/2,-t,["bottom","alignCentre"])},east:function(){return i(e,-t/2,["valignCentre","left"])},west:function(){return i(-e,-t/2,["valignCentre","right"])},innerNorthwest:function(){return i(-e,t,["top","alignRight"])},innerNortheast:function(){return i(e,t,["top","alignLeft"])},innerNorth:function(){return i(-e/2,t,["top","alignCentre"])},innerSouthwest:function(){return i(-e,-t,["bottom","alignRight"])},innerSoutheast:function(){return i(e,-t,["bottom","alignLeft"])},innerSouth:function(){return i(-e/2,-t,["bottom","alignCentre"])},innerWest:function(){return i(e,-t/2,["valignCentre","right"])},innerEast:function(){return i(-e,-t/2,["valignCentre","left"])}}},Td=function(){return _d(0,0,{})},Ed=function(e){return e},Od=function(e,t){return function(n){return"rtl"===Rd(n)?t:e}},Rd=function(e){return"rtl"===Ks(e,"direction")?"rtl":"ltr"};(function(e){e["TopToBottom"]="toptobottom",e["BottomToTop"]="bottomtotop"})(pc||(pc={}));var Nd="data-alloy-vertical-dir",Ld=function(e){return oc(e,(function(e){return Lo(e)&&ua(e,Nd)===pc.BottomToTop}))},Dd=function(){return Dn("layouts",[vn("onLtr"),vn("onRtl"),Tn("onBottomLtr"),Tn("onBottomRtl")])},Bd=function(e,t,n,r,i,o,a){var s=a.map(Ld).getOr(!1),l=t.layouts.map((function(t){return t.onLtr(e)})),c=t.layouts.map((function(t){return t.onRtl(e)})),u=s?t.layouts.bind((function(t){return t.onBottomLtr.map((function(t){return t(e)}))})).or(l).getOr(i):l.getOr(n),d=s?t.layouts.bind((function(t){return t.onBottomRtl.map((function(t){return t(e)}))})).or(c).getOr(o):c.getOr(r),f=Od(u,d);return f(e)},Md=function(e,t,n){var r=t.hotspot,i=ed(n,r.element()),o=Bd(e.element(),t,Cu(),wu(),bu(),yu(),x.some(t.hotspot.element()));return x.some(Ed({anchorBox:i,bubble:t.bubble.getOr(Td()),overrides:t.overrides,layouts:o,placer:x.none()}))},Pd=[vn("hotspot"),Tn("bubble"),Mn("overrides",{}),Dd(),Bc("placement",Md)],Fd=function(e,t,n){var r=nd(n,t.x,t.y),i=Xl(r.left(),r.top(),t.width,t.height),o=Bd(e.element(),t,gu(),vu(),gu(),vu(),x.none());return x.some(Ed({anchorBox:i,bubble:t.bubble,overrides:t.overrides,layouts:o,placer:x.none()}))},jd=[vn("x"),vn("y"),Mn("height",0),Mn("width",0),Mn("bubble",Td()),Mn("overrides",{}),Dd(),Bc("placement",Fd)],Hd="\ufeff",zd=" ",$d=function(e,t,n,r){return{start:a(e),soffset:a(t),finish:a(n),foffset:a(r)}},Vd={create:$d},Wd=Ve.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Kd=function(e,t,n,r){return e.fold(t,n,r)},Gd=function(e){return e.fold(s,s,s)},Zd=Wd.before,Ud=Wd.on,qd=Wd.after,Xd={before:Zd,on:Ud,after:qd,cata:Kd,getStart:Gd},Yd=Ve.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Jd=function(e){return Yd.exact(e.start(),e.soffset(),e.finish(),e.foffset())},Qd=function(e){return e.match({domRange:function(e){return Qn.fromDom(e.startContainer)},relative:function(e,t){return Xd.getStart(e)},exact:function(e,t,n,r){return e}})},ef=Yd.domRange,tf=Yd.relative,nf=Yd.exact,rf=function(e){var t=Qd(e);return Ho(t)},of=Vd.create,af={domRange:ef,relative:tf,exact:nf,exactFromRange:Jd,getWin:rf,range:of},sf=function(e,t){t.fold((function(t){e.setStartBefore(t.dom())}),(function(t,n){e.setStart(t.dom(),n)}),(function(t){e.setStartAfter(t.dom())}))},lf=function(e,t){t.fold((function(t){e.setEndBefore(t.dom())}),(function(t,n){e.setEnd(t.dom(),n)}),(function(t){e.setEndAfter(t.dom())}))},cf=function(e,t,n){var r=e.document.createRange();return sf(r,t),lf(r,n),r},uf=function(e,t,n,r,i){var o=e.document.createRange();return o.setStart(t.dom(),n),o.setEnd(r.dom(),i),o},df=function(e){return{left:a(e.left),top:a(e.top),right:a(e.right),bottom:a(e.bottom),width:a(e.width),height:a(e.height)}},ff=function(e){var t=e.getClientRects(),n=t.length>0?t[0]:e.getBoundingClientRect();return n.width>0||n.height>0?x.some(n).map(df):x.none()},hf=Ve.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),pf=function(e,t,n){return t(Qn.fromDom(n.startContainer),n.startOffset,Qn.fromDom(n.endContainer),n.endOffset)},mf=function(e,t){return t.match({domRange:function(e){return{ltr:a(e),rtl:x.none}},relative:function(t,n){return{ltr:Xe((function(){return cf(e,t,n)})),rtl:Xe((function(){return x.some(cf(e,n,t))}))}},exact:function(t,n,r,i){return{ltr:Xe((function(){return uf(e,t,n,r,i)})),rtl:Xe((function(){return x.some(uf(e,r,i,t,n))}))}}})},gf=function(e,t){var n=t.ltr();if(n.collapsed){var r=t.rtl().filter((function(e){return!1===e.collapsed}));return r.map((function(e){return hf.rtl(Qn.fromDom(e.endContainer),e.endOffset,Qn.fromDom(e.startContainer),e.startOffset)})).getOrThunk((function(){return pf(e,hf.ltr,n)}))}return pf(e,hf.ltr,n)},vf=function(e,t){var n=mf(e,t);return gf(e,n)},bf=function(e,t){var n=vf(e,t);return n.match({ltr:function(t,n,r,i){var o=e.document.createRange();return o.setStart(t.dom(),n),o.setEnd(r.dom(),i),o},rtl:function(t,n,r,i){var o=e.document.createRange();return o.setStart(r.dom(),i),o.setEnd(t.dom(),n),o}})};hf.ltr,hf.rtl;function yf(e,t){var n=function(n){if(!e(n))throw new Error("Can only get "+t+" value of a "+t+" node");return r(n).getOr("")},r=function(t){return e(t)?x.from(t.dom().nodeValue):x.none()},i=function(n,r){if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom().nodeValue=r};return{get:n,getOption:r,set:i}}var Cf=yf(Do,"text"),wf=function(e){return Cf.get(e)},xf=function(e){return Cf.getOption(e)},If=function(e){return"img"===Oo(e)?1:xf(e).fold((function(){return Wo(e).length}),(function(e){return e.length}))},Af=function(e){return xf(e).filter((function(e){return 0!==e.trim().length||e.indexOf(zd)>-1})).isSome()},kf=["img","br"],Sf=function(e){var t=Af(e);return t||$(kf,Oo(e))},_f=function(e){return Tf(e,Sf)},Tf=function(e,t){var n=function(e){for(var r=Wo(e),i=r.length-1;i>=0;i--){var o=r[i];if(t(o))return x.some(o);var a=n(o);if(a.isSome())return a}return x.none()};return n(e)},Ef=function(e,t){return ei(t,e)},Of=function(e,t,n,r){var i=Po(e),o=i.dom().createRange();return o.setStart(e.dom(),t),o.setEnd(n.dom(),r),o},Rf=function(e,t,n,r){var i=Of(e,t,n,r),o=ni(e,n)&&t===r;return i.collapsed&&!o},Nf=function(e){if(e.rangeCount>0){var t=e.getRangeAt(0),n=e.getRangeAt(e.rangeCount-1);return x.some(Vd.create(Qn.fromDom(t.startContainer),t.startOffset,Qn.fromDom(n.endContainer),n.endOffset))}return x.none()},Lf=function(e){var t=Qn.fromDom(e.anchorNode),n=Qn.fromDom(e.focusNode);return Rf(t,e.anchorOffset,n,e.focusOffset)?x.some(Vd.create(t,e.anchorOffset,n,e.focusOffset)):Nf(e)},Df=function(e){return x.from(e.getSelection()).filter((function(e){return e.rangeCount>0})).bind(Lf)},Bf=function(e,t){var n=bf(e,t);return ff(n)},Mf=function(e,t){return{element:e,offset:t}},Pf=function(e,t){var n=Wo(e);if(0===n.length)return Mf(e,t);if(t<n.length)return Mf(n[t],0);var r=n[n.length-1],i=Do(r)?wf(r).length:Wo(r).length;return Mf(r,i)},Ff=Ve.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),jf=function(e){return e.fold(s,(function(e,t,n){return e.translate(-t,-n)}))},Hf=function(e){return e.fold(s,s)},zf=function(e){return J(e,(function(e,t){return e.translate(t.left(),t.top())}),Cl(0,0))},$f=function(e){var t=G(e,jf);return zf(t)},Vf=function(e){var t=G(e,Hf);return zf(t)},Wf=Ff.screen,Kf=Ff.absolute,Gf=function(e,t,n){var r=Ho(n.root).dom(),i=function(t){var n=Po(t),r=Po(e.element());return ni(n,r)};return x.from(r.frameElement).map(Qn.fromDom).filter(i).map(Il)},Zf=function(e,t,n){var r=Po(e.element()),i=Pl(r),o=Gf(e,t,n).getOr(i);return Kf(o,i.left(),i.top())},Uf=function(e,t,n,r){var i=e,o=t,a=n,s=r;e<0&&(i=0,a=n+e),t<0&&(o=0,s=r+t);var l=Wf(Cl(i,o));return x.some(Ul(l,a,s))},qf=function(e,t,n,r,i){return e.map((function(e){var o=[t,e.point],a=rd(r,(function(){return Vf(o)}),(function(){return Vf(o)}),(function(){return $f(o)})),s=ql(a.left(),a.top(),e.width,e.height),l=n.showAbove?bu():Cu(),c=(n.showAbove,wu()),u=Bd(i,n,l,c,l,c,x.none());return Ed({anchorBox:s,bubble:n.bubble.getOr(Td()),overrides:n.overrides,layouts:u,placer:x.none()})}))},Xf=function(e,t){return{element:e,offset:t}},Yf=function(e,t){return Do(e)?Xf(e,t):Pf(e,t)},Jf=function(e,t){var n=t.getSelection.getOrThunk((function(){return function(){return Df(e)}}));return n().map((function(e){var t=Yf(e.start(),e.soffset()),n=Yf(e.finish(),e.foffset());return af.range(t.element,t.offset,n.element,n.offset)}))},Qf=function(e,t,n){var r=Ho(t.root).dom(),i=Zf(e,n,t),o=Jf(r,t).bind((function(e){var t=Bf(r,af.exactFromRange(e)).orThunk((function(){var t=Qn.fromText(Hd);return Zo(e.start(),t),Bf(r,af.exact(t,0,t,1)).map((function(e){return ta(t),e}))}));return t.bind((function(e){return Uf(e.left(),e.top(),e.width(),e.height())}))})),a=Jf(r,t).bind((function(e){return Lo(e.start())?x.some(e.start()):zo(e.start())})),s=a.getOr(e.element());return qf(o,i,t,n,s)},eh=[Tn("getSelection"),vn("root"),Tn("bubble"),Dd(),Mn("overrides",{}),Mn("showAbove",!1),Bc("placement",Qf)],th=function(e,t,n){var r=Zf(e,n,t);return t.node.bind((function(i){var o=i.dom().getBoundingClientRect(),a=Uf(o.left,o.top,o.width,o.height),s=t.node.getOr(e.element());return qf(a,r,t,n,s)}))},nh=[vn("node"),vn("root"),Tn("bubble"),Dd(),Mn("overrides",{}),Mn("showAbove",!1),Bc("placement",th)],rh=function(e){return e.x+e.width},ih=function(e,t){return e.x-t.width},oh=function(e,t){return e.y-t.height+e.height},ah=function(e){return e.y},sh=function(e,t,n){return Fc(rh(e),ah(e),n.southeast(),Vc(),Jc(e,{left:0,top:2}),"link-layout-se")},lh=function(e,t,n){return Fc(ih(e,t),ah(e),n.southwest(),Wc(),Jc(e,{right:1,top:2}),"link-layout-sw")},ch=function(e,t,n){return Fc(rh(e),oh(e,t),n.northeast(),Kc(),Jc(e,{left:0,bottom:3}),"link-layout-ne")},uh=function(e,t,n){return Fc(ih(e,t),oh(e,t),n.northwest(),Gc(),Jc(e,{right:1,bottom:3}),"link-layout-nw")},dh=function(){return[sh,lh,ch,uh]},fh=function(){return[lh,sh,uh,ch]},hh=function(e,t,n){var r=ed(n,t.item.element()),i=Bd(e.element(),t,dh(),fh(),dh(),fh(),x.none());return x.some(Ed({anchorBox:r,bubble:Td(),overrides:t.overrides,layouts:i,placer:x.none()}))},ph=[vn("item"),Dd(),Mn("overrides",{}),Bc("placement",hh)],mh=sn("anchor",{selection:eh,node:nh,hotspot:Pd,submenu:ph,makeshift:jd}),gh=function(){var e=t.document.documentElement;return od(0,0,e.clientWidth,e.clientHeight)},vh=function(e){var t=Il(e.element()),n=e.element().dom().getBoundingClientRect();return id(t.left(),t.top(),n.width,n.height)},bh=function(e,t,n,r,i){var o=sd(n.anchorBox,t);Ad(o,i.element(),n.bubble,n.layouts,r,n.overrides)},yh=function(e,t,n,r,i){Ch(e,t,n,r,i,x.none())},Ch=function(e,t,n,r,i,o){var a=o.map(Yl);return wh(e,t,n,r,i,a)},wh=function(e,t,n,r,i,o){var s=rn("positioning anchor.info",mh,r);Uu((function(){$s(i.element(),"position","fixed");var n=Zs(i.element(),"visibility");$s(i.element(),"visibility","hidden");var r=t.useFixed()?gh():vh(e),l=s.placement,c=o.map(a).or(t.getBounds);l(e,s,r).each((function(t){var n=t.placer.getOr(bh);n(e,r,t,c,i)})),n.fold((function(){Xs(i.element(),"visibility")}),(function(e){$s(i.element(),"visibility",e)})),Zs(i.element(),"left").isNone()&&Zs(i.element(),"top").isNone()&&Zs(i.element(),"right").isNone()&&Zs(i.element(),"bottom").isNone()&&Zs(i.element(),"position").is("fixed")&&Xs(i.element(),"position")}),i.element())},xh=function(e,t,n){return t.useFixed()?"fixed":"absolute"},Ih=Object.freeze({__proto__:null,position:yh,positionWithin:Ch,positionWithinBounds:wh,getMode:xh}),Ah=[Mn("useFixed",d),Tn("getBounds")],kh=Ru({fields:Ah,name:"positioning",active:zu,apis:Ih}),Sh=function(e){oo(e,Xi());var t=e.components();Z(t,Sh)},_h=function(e){var t=e.components();Z(t,_h),oo(e,qi())},Th=function(e,t){Xo(e.element(),t.element())},Eh=function(e){Z(e.components(),(function(e){return ta(e.element())})),ea(e.element()),e.syncComponents()},Oh=function(e,t){var n=e.components();Eh(e);var r=ae(n,t);Z(r,(function(t){Sh(t),e.getSystem().removeFromWorld(t)})),Z(t,(function(t){t.getSystem().isConnected()?Th(e,t):(e.getSystem().addToWorld(t),Th(e,t),Ps(e.element())&&_h(t)),e.syncComponents()}))},Rh=function(e,t){Nh(e,t,Xo)},Nh=function(e,t,n){e.getSystem().addToWorld(t),n(e.element(),t.element()),Ps(e.element())&&_h(t),e.syncComponents()},Lh=function(e){Sh(e),ta(e.element()),e.getSystem().removeFromWorld(e)},Dh=function(e){var t=zo(e.element()).bind((function(t){return e.getSystem().getByDom(t).toOption()}));Lh(e),t.each((function(e){e.syncComponents()}))},Bh=function(e){var t=e.components();Z(t,Lh),ea(e.element()),e.syncComponents()},Mh=function(e,t){Fh(e,t,Xo)},Ph=function(e,t){Fh(e,t,Uo)},Fh=function(e,t,n){n(e,t.element());var r=Wo(t.element());Z(r,(function(e){t.getByDom(e).each(_h)}))},jh=function(e){var t=Wo(e.element());Z(t,(function(t){e.getByDom(t).each(Sh)})),ta(e.element())},Hh=function(e,t,n,r){n.get().each((function(t){Bh(e)}));var i=t.getAttachPoint(e);Rh(i,e);var o=e.getSystem().build(r);return Rh(e,o),n.set(o),o},zh=function(e,t,n,r){var i=Hh(e,t,n,r);return t.onOpen(e,i),i},$h=function(e,t,n,r){return n.get().map((function(){return Hh(e,t,n,r)}))},Vh=function(e,t,n,r,i){Xh(e,t),zh(e,t,n,r),i(),Jh(e,t)},Wh=function(e,t,n){n.get().each((function(r){Bh(e),Dh(e),t.onClose(e,r),n.clear()}))},Kh=function(e,t,n){return n.isOpen()},Gh=function(e,t,n,r){return Kh(e,t,n)&&n.get().exists((function(n){return t.isPartOf(e,n,r)}))},Zh=function(e,t,n){return n.get()},Uh=function(e,t,n,r){Zs(e.element(),t).fold((function(){ha(e.element(),n)}),(function(t){la(e.element(),n,t)})),$s(e.element(),t,r)},qh=function(e,t,n){da(e.element(),n).fold((function(){return Xs(e.element(),t)}),(function(n){return $s(e.element(),t,n)}))},Xh=function(e,t,n){var r=t.getAttachPoint(e);$s(e.element(),"position",kh.getMode(r)),Uh(e,"visibility",t.cloakVisibilityAttr,"hidden")},Yh=function(e){return V(["top","left","right","bottom"],(function(t){return Zs(e,t).isSome()}))},Jh=function(e,t,n){Yh(e.element())||Xs(e.element(),"position"),qh(e,"visibility",t.cloakVisibilityAttr)},Qh=Object.freeze({__proto__:null,cloak:Xh,decloak:Jh,open:zh,openWhileCloaked:Vh,close:Wh,isOpen:Kh,isPartOf:Gh,getState:Zh,setContent:$h}),ep=function(e,t){return fo([go($i(),(function(n,r){Wh(n,e,t)}))])},tp=Object.freeze({__proto__:null,events:ep}),np=[Rc("onOpen"),Rc("onClose"),vn("isPartOf"),vn("getAttachPoint"),Mn("cloakVisibilityAttr","data-precloak-visibility")],rp=function(){var e=Zn(x.none()),t=a("not-implemented"),n=function(){return e.get().isSome()},r=function(t){e.set(x.some(t))},i=function(){return e.get()},o=function(){e.set(x.none())};return Va({readState:t,isOpen:n,clear:o,set:r,get:i})},ip=Object.freeze({__proto__:null,init:rp}),op=Ru({fields:np,name:"sandboxing",active:tp,apis:Qh,state:ip}),ap=a("dismiss.popups"),sp=a("reposition.popups"),lp=a("mouse.released"),cp=Pt([Mn("isExtraPart",a(!1)),Dn("fireEventInstead",[Mn("event",Yi())])]),up=function(e){var t,n=rn("Dismissal",cp,e);return t={},t[ap()]={schema:Pt([vn("target")]),onReceive:function(e,t){if(op.isOpen(e)){var r=op.isPartOf(e,t.target)||n.isExtraPart(e,t.target);r||n.fireEventInstead.fold((function(){return op.close(e)}),(function(t){return oo(e,t.event)}))}}},t},dp=Pt([Dn("fireEventInstead",[Mn("event",Ji())]),In("doReposition")]),fp=function(e){var t,n=rn("Reposition",dp,e);return t={},t[sp()]={onReceive:function(e){op.isOpen(e)&&n.fireEventInstead.fold((function(){return n.doReposition(e)}),(function(t){return oo(e,t.event)}))}},t},hp=function(e,t,n){t.store.manager.onLoad(e,t,n)},pp=function(e,t,n){t.store.manager.onUnload(e,t,n)},mp=function(e,t,n,r){t.store.manager.setValue(e,t,n,r)},gp=function(e,t,n){return t.store.manager.getValue(e,t,n)},vp=function(e,t,n){return n},bp=Object.freeze({__proto__:null,onLoad:hp,onUnload:pp,setValue:mp,getValue:gp,getState:vp}),yp=function(e,t){var n=e.resetOnDom?[So((function(n,r){hp(n,e,t)})),_o((function(n,r){pp(n,e,t)}))]:[Iu(e,t,hp)];return fo(n)},Cp=Object.freeze({__proto__:null,events:yp}),wp=function(){var e=Zn(null),t=function(){return{mode:"memory",value:e.get()}},n=function(){return null===e.get()},r=function(){e.set(null)};return Va({set:e.set,get:e.get,isNotSet:n,clear:r,readState:t})},xp=function(){var e=function(){};return Va({readState:e})},Ip=function(){var e=Zn({}),t=Zn({}),n=function(){return{mode:"dataset",dataByValue:e.get(),dataByText:t.get()}},r=function(){e.set({}),t.set({})},i=function(n){return je(e.get(),n).orThunk((function(){return je(t.get(),n)}))},o=function(n){var r=e.get(),i=t.get(),o={},a={};Z(n,(function(e){o[e.value]=e,je(e,"meta").each((function(t){je(t,"text").each((function(t){a[t]=e}))}))})),e.set(p(p({},r),o)),t.set(p(p({},i),a))};return Va({readState:n,lookup:i,update:o,clear:r})},Ap=function(e){return e.store.manager.state(e)},kp=Object.freeze({__proto__:null,memory:wp,dataset:Ip,manual:xp,init:Ap}),Sp=function(e,t,n,r){var i=t.store;n.update([r]),i.setValue(e,r),t.onSetValue(e,r)},_p=function(e,t,n){var r=t.store,i=r.getDataKey(e);return n.lookup(i).fold((function(){return r.getFallbackEntry(i)}),(function(e){return e}))},Tp=function(e,t,n){var r=t.store;r.initialValue.each((function(r){Sp(e,t,n,r)}))},Ep=function(e,t,n){n.clear()},Op=[Tn("initialValue"),vn("getFallbackEntry"),vn("getDataKey"),vn("setValue"),Bc("manager",{setValue:Sp,getValue:_p,onLoad:Tp,onUnload:Ep,state:Ip})],Rp=function(e,t,n){return t.store.getValue(e)},Np=function(e,t,n,r){t.store.setValue(e,r),t.onSetValue(e,r)},Lp=function(e,t,n){t.store.initialValue.each((function(n){t.store.setValue(e,n)}))},Dp=[vn("getValue"),Mn("setValue",n),Tn("initialValue"),Bc("manager",{setValue:Np,getValue:Rp,onLoad:Lp,onUnload:n,state:$a.init})],Bp=function(e,t,n,r){n.set(r),t.onSetValue(e,r)},Mp=function(e,t,n){return n.get()},Pp=function(e,t,n){t.store.initialValue.each((function(e){n.isNotSet()&&n.set(e)}))},Fp=function(e,t,n){n.clear()},jp=[Tn("initialValue"),Bc("manager",{setValue:Bp,getValue:Mp,onLoad:Pp,onUnload:Fp,state:wp})],Hp=[Pn("store",{mode:"memory"},sn("mode",{memory:jp,manual:Dp,dataset:Op})),Rc("onSetValue"),Mn("resetOnDom",!1)],zp=Ru({fields:Hp,name:"representing",active:Cp,apis:bp,extra:{setValueFrom:function(e,t){var n=zp.getValue(t);zp.setValue(e,n)}},state:kp}),$p=function(e,t){return Kn(e,{},G(t,(function(t){return An(t.name(),"Cannot configure "+t.name()+" for "+e)})).concat([Gn("dump",s)]))},Vp=function(e){return e.dump},Wp=function(e,t){return p(p({},e.dump),Eu(t))},Kp={field:$p,augment:Wp,get:Vp},Gp="placeholder",Zp=Ve.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),Up=function(e){return He(e,"uiType")},qp=function(e,t,n,r){return e.exists((function(e){return e!==n.owner}))?Zp.single(!0,a(n)):je(r,n.name).fold((function(){throw new Error("Unknown placeholder component: "+n.name+"\nKnown: ["+Te(r)+"]\nNamespace: "+e.getOr("none")+"\nSpec: "+JSON.stringify(n,null,2))}),(function(e){return e.replace()}))},Xp=function(e,t,n,r){return Up(n)&&n.uiType===Gp?qp(e,t,n,r):Zp.single(!1,a(n))},Yp=function(e,t,n,r){var i=Xp(e,t,n,r);return i.fold((function(i,o){var a=Up(n)?o(t,n.config,n.validated):o(t),s=je(a,"components").getOr([]),l=re(s,(function(n){return Yp(e,t,n,r)}));return[p(p({},a),{components:l})]}),(function(e,r){if(Up(n)){var i=r(t,n.config,n.validated),o=n.validated.preprocess.getOr(s);return o(i)}return r(t)}))},Jp=function(e,t,n,r){return re(n,(function(n){return Yp(e,t,n,r)}))},Qp=function(e,t){var n=!1,r=function(){return n},i=function(){if(n)throw new Error("Trying to use the same placeholder more than once: "+e);return n=!0,t},o=function(){return t.fold((function(e,t){return e}),(function(e,t){return e}))};return{name:a(e),required:o,used:r,replace:i}},em=function(e,t,n,r){var i=Re(r,(function(e,t){return Qp(t,e)})),o=Jp(e,t,n,i);return Oe(i,(function(n){if(!1===n.used()&&n.required())throw new Error("Placeholder: "+n.name()+" was not found in components list\nNamespace: "+e.getOr("none")+"\nComponents: "+JSON.stringify(t.components,null,2))})),o},tm=Zp.single,nm=Zp.multiple,rm=a(Gp),im=Ve.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),om=Mn("factory",{sketch:s}),am=Mn("schema",[]),sm=vn("name"),lm=Kt("pname","pname",nt((function(e){return"<alloy."+xa(e.name)+">"})),ln()),cm=Gn("schema",(function(){return[Tn("preprocess")]})),um=Mn("defaults",a({})),dm=Mn("overrides",a({})),fm=Ft([om,am,sm,lm,um,dm]),hm=Ft([om,am,sm,um,dm]),pm=Ft([om,am,sm,lm,um,dm]),mm=Ft([om,cm,sm,vn("unit"),lm,um,dm]),gm=function(e){return e.fold(x.some,x.none,x.some,x.some)},vm=function(e){var t=function(e){return e.name};return e.fold(t,t,t,t)},bm=function(e){return e.fold(s,s,s,s)},ym=function(e,t){return function(n){var r=rn("Converting part type",t,n);return e(r)}},Cm=ym(im.required,fm),wm=ym(im.external,hm),xm=ym(im.optional,pm),Im=ym(im.group,mm),Am=a("entirety"),km=Object.freeze({__proto__:null,required:Cm,external:wm,optional:xm,group:Im,asNamedPart:gm,name:vm,asCommon:bm,original:Am}),Sm=function(e,t,n,r){return Ue(t.defaults(e,n,r),n,{uid:e.partUids[t.name]},t.overrides(e,n,r))},_m=function(e,t,n){var r={},i={};return Z(n,(function(e){e.fold((function(e){r[e.pname]=tm(!0,(function(t,n,r){return e.factory.sketch(Sm(t,e,n,r))}))}),(function(e){var n=t.parts[e.name];i[e.name]=a(e.factory.sketch(Sm(t,e,n[Am()]),n))}),(function(e){r[e.pname]=tm(!1,(function(t,n,r){return e.factory.sketch(Sm(t,e,n,r))}))}),(function(e){r[e.pname]=nm(!0,(function(t,n,r){var i=t[e.name];return G(i,(function(n){return e.factory.sketch(Ue(e.defaults(t,n,r),n,e.overrides(t,n)))}))}))}))})),{internals:a(r),externals:a(i)}},Tm=function(e,t){var n={};return Z(t,(function(t){gm(t).each((function(t){var r=Em(e,t.pname);n[t.name]=function(n){var i=rn("Part: "+t.name+" in "+e,Ft(t.schema),n);return p(p({},r),{config:n,validated:i})}}))})),n},Em=function(e,t){return{uiType:rm(),owner:e,name:t}},Om=function(e,t,n){return{uiType:rm(),owner:e,name:t,config:n,validated:{}}},Rm=function(e){return re(e,(function(e){return e.fold(x.none,x.some,x.none,x.none).map((function(e){return kn(e.name,e.schema.concat([Mc(Am())]))})).toArray()}))},Nm=function(e){return G(e,vm)},Lm=function(e,t,n){return _m(e,t,n)},Dm=function(e,t,n){return em(x.some(e),t,t.components,n)},Bm=function(e,t,n){var r=t.partUids[n];return e.getSystem().getByUid(r).toOption()},Mm=function(e,t,n){return Bm(e,t,n).getOrDie("Could not find part: "+n)},Pm=function(e,t,n){var r={},i=t.partUids,o=e.getSystem();return Z(n,(function(e){r[e]=a(o.getByUid(i[e]))})),r},Fm=function(e,t){var n=e.getSystem();return Re(t.partUids,(function(e,t){return a(n.getByUid(e))}))},jm=function(e){return Te(e.partUids)},Hm=function(e,t,n){var r={},i=t.partUids,o=e.getSystem();return Z(n,(function(e){r[e]=a(o.getByUid(i[e]).getOrDie())})),r},zm=function(e,t){var n=Nm(t);return ut(G(n,(function(t){return{key:t,value:e+"-"+t}})))},$m=function(e){return Kt("partUids","partUids",rt((function(t){return zm(t.uid,e)})),ln())},Vm=Object.freeze({__proto__:null,generate:Tm,generateOne:Om,schemas:Rm,names:Nm,substitutes:Lm,components:Dm,defaultUids:zm,defaultUidsSchema:$m,getAllParts:Fm,getAllPartNames:jm,getPart:Bm,getPartOrDie:Mm,getParts:Pm,getPartsOrDie:Hm}),Wm=function(e,t){var n=e.length>0?[kn("parts",e)]:[];return n.concat([vn("uid"),Mn("dom",{}),Mn("components",[]),Mc("originalSpec"),Mn("debug.sketcher",{})]).concat(t)},Km=function(e,t,n,r,i){var o=Wm(r,i);return rn(e+" [SpecSchema]",Pt(o.concat(t)),n)},Gm=function(e,t,n,r){var i=qm(r),o=Km(e,t,i,[],[]);return n(o,i)},Zm=function(e,t,n,r,i){var o=qm(i),a=Rm(n),s=$m(n),l=Km(e,t,o,a,[s]),c=Lm(e,l,n),u=Dm(e,l,c.internals());return r(l,u,o,c.externals())},Um=function(e){return He(e,"uid")},qm=function(e){return Um(e)?e:p(p({},e),{uid:Oa("uid")})};function Xm(e){return void 0!==e.uid}var Ym,Jm=Pt([vn("name"),vn("factory"),vn("configFields"),Mn("apis",{}),Mn("extraApis",{})]),Qm=Pt([vn("name"),vn("factory"),vn("configFields"),vn("partFields"),Mn("apis",{}),Mn("extraApis",{})]),eg=function(e){var t=rn("Sketcher for "+e.name,Jm,e),n=function(e){return Gm(t.name,t.configFields,t.factory,e)},r=Re(t.apis,za),i=Re(t.extraApis,(function(e,t){return Ma(e,t)}));return p(p({name:a(t.name),configFields:a(t.configFields),sketch:n},r),i)},tg=function(e){var t=rn("Sketcher for "+e.name,Qm,e),n=function(e){return Zm(t.name,t.configFields,t.partFields,t.factory,e)},r=Tm(t.name,t.partFields),i=Re(t.apis,za),o=Re(t.extraApis,(function(e,t){return Ma(e,t)}));return p(p({name:a(t.name),partFields:a(t.partFields),configFields:a(t.configFields),sketch:n,parts:a(r)},i),o)},ng=function(e){for(var t=[],n=function(e){t.push(e)},r=0;r<e.length;r++)e[r].each(n);return t},rg=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];if(!r.isSome())return x.none();t.push(r.getOrDie())}return x.some(t)},ig=function(e,t,n){return e.isSome()&&t.isSome()?x.some(n(e.getOrDie(),t.getOrDie())):x.none()},og=function(e,t,n,r){return e.isSome()&&t.isSome()&&n.isSome()?x.some(r(e.getOrDie(),t.getOrDie(),n.getOrDie())):x.none()},ag=function(e){return"input"===Oo(e)&&"radio"!==ua(e,"type")||"textarea"===Oo(e)},sg=function(e,t,n){return t.find(e)},lg=Object.freeze({__proto__:null,getCurrent:sg}),cg=[vn("find")],ug=Ru({fields:cg,name:"composing",apis:lg}),dg=function(e,t,n,r){var i=Ef(e.element(),"."+t.highlightClass);Z(i,(function(n){V(r,(function(e){return e.element()===n}))||(Is(n,t.highlightClass),e.getSystem().getByDom(n).each((function(n){t.onDehighlight(e,n),oo(n,io())})))}))},fg=function(e,t,n){return dg(e,t,n,[])},hg=function(e,t,n,r){yg(e,t,n,r)&&(Is(r.element(),t.highlightClass),t.onDehighlight(e,r),oo(r,io()))},pg=function(e,t,n,r){dg(e,t,n,[r]),yg(e,t,n,r)||(ws(r.element(),t.highlightClass),t.onHighlight(e,r),oo(r,ro()))},mg=function(e,t,n){xg(e,t).each((function(r){pg(e,t,n,r)}))},gg=function(e,t,n){Ig(e,t).each((function(r){pg(e,t,n,r)}))},vg=function(e,t,n,r){wg(e,t,n,r).fold((function(e){throw new Error(e)}),(function(r){pg(e,t,n,r)}))},bg=function(e,t,n,r){var i=_g(e,t),o=ee(i,r);o.each((function(r){pg(e,t,n,r)}))},yg=function(e,t,n,r){return As(r.element(),t.highlightClass)},Cg=function(e,t,n){return sc(e.element(),"."+t.highlightClass).bind((function(t){return e.getSystem().getByDom(t).toOption()}))},wg=function(e,t,n,r){var i=Ef(e.element(),"."+t.itemClass);return x.from(i[r]).fold((function(){return ge.error("No element found with index "+r)}),e.getSystem().getByDom)},xg=function(e,t,n){return sc(e.element(),"."+t.itemClass).bind((function(t){return e.getSystem().getByDom(t).toOption()}))},Ig=function(e,t,n){var r=Ef(e.element(),"."+t.itemClass),i=r.length>0?x.some(r[r.length-1]):x.none();return i.bind((function(t){return e.getSystem().getByDom(t).toOption()}))},Ag=function(e,t,n,r){var i=Ef(e.element(),"."+t.itemClass),o=te(i,(function(e){return As(e,t.highlightClass)}));return o.bind((function(t){var n=ld(t,r,0,i.length-1);return e.getSystem().getByDom(i[n]).toOption()}))},kg=function(e,t,n){return Ag(e,t,n,-1)},Sg=function(e,t,n){return Ag(e,t,n,1)},_g=function(e,t,n){var r=Ef(e.element(),"."+t.itemClass);return ng(G(r,(function(t){return e.getSystem().getByDom(t).toOption()})))},Tg=Object.freeze({__proto__:null,dehighlightAll:fg,dehighlight:hg,highlight:pg,highlightFirst:mg,highlightLast:gg,highlightAt:vg,highlightBy:bg,isHighlighted:yg,getHighlighted:Cg,getFirst:xg,getLast:Ig,getPrevious:kg,getNext:Sg,getCandidates:_g}),Eg=[vn("highlightClass"),vn("itemClass"),Rc("onHighlight"),Rc("onDehighlight")],Og=Ru({fields:Eg,name:"highlighting",apis:Tg}),Rg=function(){return[8]},Ng=function(){return[9]},Lg=function(){return[13]},Dg=function(){return[27]},Bg=function(){return[32]},Mg=function(){return[37]},Pg=function(){return[38]},Fg=function(){return[39]},jg=function(){return[40]},Hg=function(e,t,n){var r=oe(e.slice(0,t)),i=oe(e.slice(t+1));return ee(r.concat(i),n)},zg=function(e,t,n){var r=oe(e.slice(0,t));return ee(r,n)},$g=function(e,t,n){var r=e.slice(0,t),i=e.slice(t+1);return ee(i.concat(r),n)},Vg=function(e,t,n){var r=e.slice(t+1);return ee(r,n)},Wg=function(e){return function(t){var n=t.raw();return $(e,n.which)}},Kg=function(e){return function(t){return ie(e,(function(e){return e(t)}))}},Gg=function(e){var t=e.raw();return!0===t.shiftKey},Zg=function(e){var t=e.raw();return!0===t.ctrlKey},Ug=c(Gg),qg=function(e,t){return{matches:e,classification:t}},Xg=function(e,t){var n=ee(e,(function(e){return e.matches(t)}));return n.map((function(e){return e.classification}))},Yg=function(e,t,n){var r=t.exists((function(e){return n.exists((function(t){return ni(t,e)}))}));r||ao(e,Qi(),{prevFocus:t,newFocus:n})},Jg=function(){var e=function(e){return Zu(e.element())},t=function(t,n){var r=e(t);t.getSystem().triggerFocus(n,t.element());var i=e(t);Yg(t,r,i)};return{get:e,set:t}},Qg=function(){var e=function(e){return Og.getHighlighted(e).map((function(e){return e.element()}))},t=function(t,r){var i=e(t);t.getSystem().getByDom(r).fold(n,(function(e){Og.highlight(t,e)}));var o=e(t);Yg(t,i,o)};return{get:e,set:t}};(function(e){e["OnFocusMode"]="onFocus",e["OnEnterOrSpaceMode"]="onEnterOrSpace",e["OnApiMode"]="onApi"})(Ym||(Ym={}));var ev=function(e,t,n,r,i){var o=function(){return e.concat([Mn("focusManager",Jg()),Pn("focusInside","onFocus",Jt((function(e){return $(["onFocus","onEnterOrSpace","onApi"],e)?ge.value(e):ge.error("Invalid value for focusInside")}))),Bc("handler",l),Bc("state",t),Bc("sendFocusIn",i)])},a=function(e,t,n,r,i){var o=n(e,t,r,i);return Xg(o,t.event()).bind((function(n){return n(e,t,r,i)}))},s=function(e,t){var o=e.focusInside!==Ym.OnFocusMode?x.none():i(e).map((function(n){return go(Di(),(function(r,i){n(r,e,t),i.stop()}))})),s=function(n,r){var o=Wg(Bg().concat(Lg()))(r.event());e.focusInside===Ym.OnEnterOrSpaceMode&&o&&ci(n,r)&&i(e).each((function(i){i(n,e,t),r.stop()}))},l=[go(Si(),(function(r,i){a(r,i,n,e,t).fold((function(){s(r,i)}),(function(e){i.stop()}))})),go(_i(),(function(n,i){a(n,i,r,e,t).each((function(e){i.stop()}))}))];return fo(o.toArray().concat(l))},l={schema:o,processKey:a,toEvents:s};return l},tv=function(e){var t=[Tn("onEscape"),Tn("onEnter"),Mn("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Mn("firstTabstop",0),Mn("useTabstopAt",a(!0)),Tn("visibilitySelector")].concat([e]),n=function(e,t){var n=e.visibilitySelector.bind((function(e){return lc(t,e)})).getOr(t);return gl(n)>0},r=function(e,t){var r=Ef(e.element(),t.selector),i=X(r,(function(e){return n(t,e)}));return x.from(i[t.firstTabstop])},i=function(e,t){return t.focusManager.get(e).bind((function(e){return lc(e,t.selector)}))},o=function(e,t){return n(e,t)&&e.useTabstopAt(t)},s=function(e,t,n){r(e,t).each((function(n){t.focusManager.set(e,n)}))},c=function(e,t,n,r,i){return i(t,n,(function(e){return o(r,e)})).fold((function(){return r.cyclic?x.some(!0):x.none()}),(function(t){return r.focusManager.set(e,t),x.some(!0)}))},u=function(e,t,n,r){var o=Ef(e.element(),n.selector);return i(e,n).bind((function(t){var i=te(o,l(ni,t));return i.bind((function(t){return c(e,o,t,n,r)}))}))},d=function(e,t,n){var r=n.cyclic?Hg:zg;return u(e,t,n,r)},f=function(e,t,n){var r=n.cyclic?$g:Vg;return u(e,t,n,r)},h=function(e,t,n){return n.onEnter.bind((function(n){return n(e,t)}))},p=function(e,t,n){return n.onEscape.bind((function(n){return n(e,t)}))},m=a([qg(Kg([Gg,Wg(Ng())]),d),qg(Wg(Ng()),f),qg(Wg(Dg()),p),qg(Kg([Ug,Wg(Lg())]),h)]),g=a([]);return ev(t,$a.init,m,g,(function(){return x.some(s)}))},nv=tv(Gn("cyclic",a(!1))),rv=tv(Gn("cyclic",a(!0))),iv=function(e,t,n){return lo(e,n,Fi()),x.some(!0)},ov=function(e,t,n){var r=ag(n)&&Wg(Bg())(t.event());return r?x.none():iv(e,t,n)},av=function(e,t){return x.some(!0)},sv=[Mn("execute",ov),Mn("useSpace",!1),Mn("useEnter",!0),Mn("useControlEnter",!1),Mn("useDown",!1)],lv=function(e,t,n){return n.execute(e,t,e.element())},cv=function(e,t,n,r){var i=n.useSpace&&!ag(e.element())?Bg():[],o=n.useEnter?Lg():[],a=n.useDown?jg():[],s=i.concat(o).concat(a);return[qg(Wg(s),lv)].concat(n.useControlEnter?[qg(Kg([Zg,Wg(Lg())]),lv)]:[])},uv=function(e,t,n,r){return n.useSpace&&!ag(e.element())?[qg(Wg(Bg()),av)]:[]},dv=ev(sv,$a.init,cv,uv,(function(){return x.none()})),fv=function(){var e=Zn(x.none()),t=function(t,n){e.set(x.some({numRows:t,numColumns:n}))},n=function(){return e.get().map((function(e){return e.numRows}))},r=function(){return e.get().map((function(e){return e.numColumns}))};return Va({readState:function(){return e.get().map((function(e){return{numRows:String(e.numRows),numColumns:String(e.numColumns)}})).getOr({numRows:"?",numColumns:"?"})},setGridSize:t,getNumRows:n,getNumColumns:r})},hv=function(e){return e.state(e)},pv=Object.freeze({__proto__:null,flatgrid:fv,init:hv}),mv=function(e){return function(t,n,r,i){var o=e(t.element());return yv(o,t,n,r,i)}},gv=function(e,t){var n=Od(e,t);return mv(n)},vv=function(e,t){var n=Od(t,e);return mv(n)},bv=function(e){return function(t,n,r,i){return yv(e,t,n,r,i)}},yv=function(e,t,n,r,i){var o=r.focusManager.get(t).bind((function(n){return e(t.element(),n,r,i)}));return o.map((function(e){return r.focusManager.set(t,e),!0}))},Cv=bv,wv=bv,xv=bv,Iv=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},Av=function(e){return!Iv(e.dom())},kv=function(e,t){return te(e,t).map((function(t){return{index:a(t),candidates:a(e)}}))},Sv=function(e,t,n){var r=function(e){return ni(e,t)},i=Ef(e,n),o=X(i,Av);return kv(o,r)},_v=function(e,t){return te(e,(function(e){return ni(t,e)}))},Tv=function(e,t,n,r){var i=Math.floor(t/n),o=t%n;return r(i,o).bind((function(t){var r=t.row()*n+t.column();return r>=0&&r<e.length?x.some(e[r]):x.none()}))},Ev=function(e,t,n,r,i){return Tv(e,t,r,(function(t,o){var s=t===n-1,l=s?e.length-t*r:r,c=ld(o,i,0,l-1);return x.some({row:a(t),column:a(c)})}))},Ov=function(e,t,n,r,i){return Tv(e,t,r,(function(t,o){var s=ld(t,i,0,n-1),l=s===n-1,c=l?e.length-s*r:r,u=cd(o,0,c-1);return x.some({row:a(s),column:a(u)})}))},Rv=function(e,t,n,r){return Ev(e,t,n,r,1)},Nv=function(e,t,n,r){return Ev(e,t,n,r,-1)},Lv=function(e,t,n,r){return Ov(e,t,n,r,-1)},Dv=function(e,t,n,r){return Ov(e,t,n,r,1)},Bv=[vn("selector"),Mn("execute",ov),Nc("onEscape"),Mn("captureTab",!1),Pc()],Mv=function(e,t,n){sc(e.element(),t.selector).each((function(n){t.focusManager.set(e,n)}))},Pv=function(e,t){return t.focusManager.get(e).bind((function(e){return lc(e,t.selector)}))},Fv=function(e,t,n,r){return Pv(e,n).bind((function(r){return n.execute(e,t,r)}))},jv=function(e){return function(t,n,r,i){return Sv(t,n,r.selector).bind((function(t){return e(t.candidates(),t.index(),i.getNumRows().getOr(r.initSize.numRows),i.getNumColumns().getOr(r.initSize.numColumns))}))}},Hv=function(e,t,n){return n.captureTab?x.some(!0):x.none()},zv=function(e,t,n){return n.onEscape(e,t)},$v=jv(Nv),Vv=jv(Rv),Wv=jv(Lv),Kv=jv(Dv),Gv=a([qg(Wg(Mg()),gv($v,Vv)),qg(Wg(Fg()),vv($v,Vv)),qg(Wg(Pg()),Cv(Wv)),qg(Wg(jg()),wv(Kv)),qg(Kg([Gg,Wg(Ng())]),Hv),qg(Kg([Ug,Wg(Ng())]),Hv),qg(Wg(Dg()),zv),qg(Wg(Bg().concat(Lg())),Fv)]),Zv=a([qg(Wg(Bg()),av)]),Uv=ev(Bv,fv,Gv,Zv,(function(){return x.some(Mv)})),qv=function(e,t,n,r){var i=function(e){return"button"===Oo(e)&&"disabled"===ua(e,"disabled")},o=function(e,t,n){var a=ld(t,r,0,n.length-1);return a===e?x.none():i(n[a])?o(e,a,n):x.from(n[a])};return Sv(e,n,t).bind((function(e){var t=e.index(),n=e.candidates();return o(t,t,n)}))},Xv=[vn("selector"),Mn("getInitial",x.none),Mn("execute",ov),Nc("onEscape"),Mn("executeOnMove",!1),Mn("allowVertical",!0)],Yv=function(e,t){return t.focusManager.get(e).bind((function(e){return lc(e,t.selector)}))},Jv=function(e,t,n){return Yv(e,n).bind((function(r){return n.execute(e,t,r)}))},Qv=function(e,t,n){t.getInitial(e).orThunk((function(){return sc(e.element(),t.selector)})).each((function(n){t.focusManager.set(e,n)}))},eb=function(e,t,n){return qv(e,n.selector,t,-1)},tb=function(e,t,n){return qv(e,n.selector,t,1)},nb=function(e){return function(t,n,r,i){return e(t,n,r,i).bind((function(){return r.executeOnMove?Jv(t,n,r):x.some(!0)}))}},rb=function(e,t,n){return n.onEscape(e,t)},ib=function(e,t,n,r){var i=Mg().concat(n.allowVertical?Pg():[]),o=Fg().concat(n.allowVertical?jg():[]);return[qg(Wg(i),nb(gv(eb,tb))),qg(Wg(o),nb(vv(eb,tb))),qg(Wg(Lg()),Jv),qg(Wg(Bg()),Jv),qg(Wg(Dg()),rb)]},ob=a([qg(Wg(Bg()),av)]),ab=ev(Xv,$a.init,ib,ob,(function(){return x.some(Qv)})),sb=function(e,t,n){return x.from(e[t]).bind((function(e){return x.from(e[n]).map((function(e){return{rowIndex:t,columnIndex:n,cell:e}}))}))},lb=function(e,t,n,r){var i=e[t],o=i.length,a=ld(n,r,0,o-1);return sb(e,t,a)},cb=function(e,t,n,r){var i=ld(n,r,0,e.length-1),o=e[i].length,a=cd(t,0,o-1);return sb(e,i,a)},ub=function(e,t,n,r){var i=e[t],o=i.length,a=cd(n+r,0,o-1);return sb(e,t,a)},db=function(e,t,n,r){var i=cd(n+r,0,e.length-1),o=e[i].length,a=cd(t,0,o-1);return sb(e,i,a)},fb=function(e,t,n){return lb(e,t,n,1)},hb=function(e,t,n){return lb(e,t,n,-1)},pb=function(e,t,n){return cb(e,n,t,-1)},mb=function(e,t,n){return cb(e,n,t,1)},gb=function(e,t,n){return ub(e,t,n,-1)},vb=function(e,t,n){return ub(e,t,n,1)},bb=function(e,t,n){return db(e,n,t,-1)},yb=function(e,t,n){return db(e,n,t,1)},Cb=[kn("selectors",[vn("row"),vn("cell")]),Mn("cycles",!0),Mn("previousSelector",x.none),Mn("execute",ov)],wb=function(e,t,n){var r=t.previousSelector(e).orThunk((function(){var n=t.selectors;return sc(e.element(),n.cell)}));r.each((function(n){t.focusManager.set(e,n)}))},xb=function(e,t,n){return Zu(e.element()).bind((function(r){return n.execute(e,t,r)}))},Ib=function(e,t){return G(e,(function(e){return Ef(e,t.selectors.cell)}))},Ab=function(e,t){return function(n,r,i){var o=i.cycles?e:t;return lc(r,i.selectors.row).bind((function(e){var t=Ef(e,i.selectors.cell);return _v(t,r).bind((function(t){var r=Ef(n,i.selectors.row);return _v(r,e).bind((function(e){var n=Ib(r,i);return o(n,e,t).map((function(e){return e.cell}))}))}))}))}},kb=Ab(hb,gb),Sb=Ab(fb,vb),_b=Ab(pb,bb),Tb=Ab(mb,yb),Eb=a([qg(Wg(Mg()),gv(kb,Sb)),qg(Wg(Fg()),vv(kb,Sb)),qg(Wg(Pg()),Cv(_b)),qg(Wg(jg()),wv(Tb)),qg(Wg(Bg().concat(Lg())),xb)]),Ob=a([qg(Wg(Bg()),av)]),Rb=ev(Cb,$a.init,Eb,Ob,(function(){return x.some(wb)})),Nb=[vn("selector"),Mn("execute",ov),Mn("moveOnTab",!1)],Lb=function(e,t,n){return n.focusManager.get(e).bind((function(r){return n.execute(e,t,r)}))},Db=function(e,t,n){sc(e.element(),t.selector).each((function(n){t.focusManager.set(e,n)}))},Bb=function(e,t,n){return qv(e,n.selector,t,-1)},Mb=function(e,t,n){return qv(e,n.selector,t,1)},Pb=function(e,t,n,r){return n.moveOnTab?xv(Bb)(e,t,n,r):x.none()},Fb=function(e,t,n,r){return n.moveOnTab?xv(Mb)(e,t,n,r):x.none()},jb=a([qg(Wg(Pg()),xv(Bb)),qg(Wg(jg()),xv(Mb)),qg(Kg([Gg,Wg(Ng())]),Pb),qg(Kg([Ug,Wg(Ng())]),Fb),qg(Wg(Lg()),Lb),qg(Wg(Bg()),Lb)]),Hb=a([qg(Wg(Bg()),av)]),zb=ev(Nb,$a.init,jb,Hb,(function(){return x.some(Db)})),$b=[Nc("onSpace"),Nc("onEnter"),Nc("onShiftEnter"),Nc("onLeft"),Nc("onRight"),Nc("onTab"),Nc("onShiftTab"),Nc("onUp"),Nc("onDown"),Nc("onEscape"),Mn("stopSpaceKeyup",!1),Tn("focusIn")],Vb=function(e,t,n){return[qg(Wg(Bg()),n.onSpace),qg(Kg([Ug,Wg(Lg())]),n.onEnter),qg(Kg([Gg,Wg(Lg())]),n.onShiftEnter),qg(Kg([Gg,Wg(Ng())]),n.onShiftTab),qg(Kg([Ug,Wg(Ng())]),n.onTab),qg(Wg(Pg()),n.onUp),qg(Wg(jg()),n.onDown),qg(Wg(Mg()),n.onLeft),qg(Wg(Fg()),n.onRight),qg(Wg(Bg()),n.onSpace),qg(Wg(Dg()),n.onEscape)]},Wb=function(e,t,n){return n.stopSpaceKeyup?[qg(Wg(Bg()),av)]:[]},Kb=ev($b,$a.init,Vb,Wb,(function(e){return e.focusIn})),Gb=nv.schema(),Zb=rv.schema(),Ub=ab.schema(),qb=Uv.schema(),Xb=Rb.schema(),Yb=dv.schema(),Jb=zb.schema(),Qb=Kb.schema(),ey=Object.freeze({__proto__:null,acyclic:Gb,cyclic:Zb,flow:Ub,flatgrid:qb,matrix:Xb,execution:Yb,menu:Jb,special:Qb}),ty=function(e){return ze(e,"setGridSize")},ny=Lu({branchKey:"mode",branches:ey,name:"keying",active:{events:function(e,t){var n=e.handler;return n.toEvents(e,t)}},apis:{focusIn:function(e,t,n){t.sendFocusIn(t).fold((function(){e.getSystem().triggerFocus(e.element(),e.element())}),(function(r){r(e,t,n)}))},setGridSize:function(e,n,r,i,o){ty(r)?r.setGridSize(i,o):t.console.error("Layout does not support setGridSize")}},state:pv}),ry=function(e,t,n,r){Uu((function(){var t=G(r,e.getSystem().build);Oh(e,t)}),e.element())},iy=function(e,t,n,r){var i=e.getSystem().build(r);Nh(e,i,n)},oy=function(e,t,n,r){iy(e,t,Xo,r)},ay=function(e,t,n,r){iy(e,t,qo,r)},sy=function(e,t,n,r){var i=ly(e),o=ee(i,(function(e){return ni(r.element(),e.element())}));o.each(Dh)},ly=function(e,t){return e.components()},cy=function(e,t,n,r,i){var o=ly(e);return x.from(o[r]).map((function(o){return sy(e,t,n,o),i.each((function(n){iy(e,t,(function(e,t){Yo(e,t,r)}),n)})),o}))},uy=function(e,t,n,r,i){var o=ly(e);return te(o,r).bind((function(r){return cy(e,t,n,r,i)}))},dy=Object.freeze({__proto__:null,append:oy,prepend:ay,remove:sy,replaceAt:cy,replaceBy:uy,set:ry,contents:ly}),fy=Ru({fields:[],name:"replacing",apis:dy}),hy=function(e,t){var n=fo(t);return Ru({fields:[vn("enabled")],name:e,active:{events:a(n)}})},py=function(e,t){var n=hy(e,t);return{key:e,value:{config:{},me:n,configAsRaw:a({}),initialConfig:{},state:$a}}},my=function(e,t){t.ignore||(Vu(e.element()),t.onFocus(e))},gy=function(e,t){t.ignore||Wu(e.element())},vy=function(e){return Ku(e.element())},by=Object.freeze({__proto__:null,focus:my,blur:gy,isFocused:vy}),yy=function(e,t){var n=t.ignore?{}:{attributes:{tabindex:"-1"}};return Ua(n)},Cy=function(e){return fo([go(Di(),(function(t,n){my(t,e),n.stop()}))].concat(e.stopMousedown?[go(yi(),(function(e,t){t.event().prevent()}))]:[]))},wy=Object.freeze({__proto__:null,exhibit:yy,events:Cy}),xy=[Rc("onFocus"),Mn("stopMousedown",!1),Mn("ignore",!1)],Iy=Ru({fields:xy,name:"focusing",active:wy,apis:by}),Ay=function(e,t,n){var r=t.aria;r.update(e,r,n.get())},ky=function(e,t,n){t.toggleClass.each((function(t){n.get()?ws(e.element(),t):Is(e.element(),t)}))},Sy=function(e,t,n){Ey(e,t,n,!n.get())},_y=function(e,t,n){n.set(!0),ky(e,t,n),Ay(e,t,n)},Ty=function(e,t,n){n.set(!1),ky(e,t,n),Ay(e,t,n)},Ey=function(e,t,n,r){var i=r?_y:Ty;i(e,t,n)},Oy=function(e,t,n){return n.get()},Ry=function(e,t,n){Ey(e,t,n,t.selected)},Ny=Object.freeze({__proto__:null,onLoad:Ry,toggle:Sy,isOn:Oy,on:_y,off:Ty,set:Ey}),Ly=function(){return Ua({})},Dy=function(e,t){var n=xu(e,t,Sy),r=Iu(e,t,Ry);return fo(ne([e.toggleOnExecute?[n]:[],[r]]))},By=Object.freeze({__proto__:null,exhibit:Ly,events:Dy}),My=function(e){var t=function(){var t=Zn(e),n=function(){return t.get()},r=function(e){return t.set(e)},i=function(){return t.set(e)},o=function(){return t.get()};return{get:n,set:r,clear:i,readState:o}};return{init:t}},Py=function(e,t,n){la(e.element(),"aria-pressed",n),t.syncWithExpanded&&Hy(e,t,n)},Fy=function(e,t,n){la(e.element(),"aria-selected",n)},jy=function(e,t,n){la(e.element(),"aria-checked",n)},Hy=function(e,t,n){la(e.element(),"aria-expanded",n)},zy=[Mn("selected",!1),Tn("toggleClass"),Mn("toggleOnExecute",!0),Pn("aria",{mode:"none"},sn("mode",{pressed:[Mn("syncWithExpanded",!1),Bc("update",Py)],checked:[Bc("update",jy)],expanded:[Bc("update",Hy)],selected:[Bc("update",Fy)],none:[Bc("update",n)]}))],$y=Ru({fields:zy,name:"toggling",active:By,apis:Ny,state:My(!1)}),Vy=function(){var e=function(e,t){t.stop(),so(e)};return[go(Oi(),e),go(Hi(),e),Io(mi()),Io(yi())]},Wy=function(e){var t=function(e){return Eo((function(t,n){e(t),n.stop()}))};return fo(ne([e.map(t).toArray(),Vy()]))},Ky="alloy.item-hover",Gy="alloy.item-focus",Zy=function(e){(Zu(e.element()).isNone()||Iy.isFocused(e))&&(Iy.isFocused(e)||Iy.focus(e),ao(e,Ky,{item:e}))},Uy=function(e){ao(e,Gy,{item:e})},qy=a(Ky),Xy=a(Gy),Yy=function(e){return{dom:e.dom,domModification:p(p({},e.domModification),{attributes:p(p(p({role:e.toggling.isSome()?"menuitemcheckbox":"menuitem"},e.domModification.attributes),{"aria-haspopup":e.hasSubmenu}),e.hasSubmenu?{"aria-expanded":!1}:{})}),behaviours:Kp.augment(e.itemBehaviours,[e.toggling.fold($y.revoke,(function(e){return $y.config(p({aria:{mode:"checked"}},e))})),Iy.config({ignore:e.ignoreFocus,stopMousedown:e.ignoreFocus,onFocus:function(e){Uy(e)}}),ny.config({mode:"execution"}),zp.config({store:{mode:"memory",initialValue:e.data}}),py("item-type-events",g(Vy(),[go(Ii(),Zy),go(ji(),Iy.focus)]))]),components:e.components,eventOrder:e.eventOrder}},Jy=[vn("data"),vn("components"),vn("dom"),Mn("hasSubmenu",!1),Tn("toggling"),Kp.field("itemBehaviours",[$y,Iy,ny,zp]),Mn("ignoreFocus",!1),Mn("domModification",{}),Bc("builder",Yy),Mn("eventOrder",{})],Qy=function(e){return{dom:e.dom,components:e.components,events:fo([Ao(ji())])}},eC=[vn("dom"),vn("components"),Bc("builder",Qy)],tC=function(){return"item-widget"},nC=a([Cm({name:"widget",overrides:function(e){return{behaviours:Eu([zp.config({store:{mode:"manual",getValue:function(t){return e.data},setValue:function(){}}})])}}})]),rC=function(e){var t=Lm(tC(),e,nC()),n=Dm(tC(),e,t.internals()),r=function(t){return Bm(t,e,"widget").map((function(e){return ny.focusIn(e),e}))},i=function(t,n){return ag(n.event().target())?x.none():function(){return e.autofocus?(n.setSource(t.element()),x.none()):x.none()}()};return{dom:e.dom,components:n,domModification:e.domModification,events:fo([Eo((function(e,t){r(e).each((function(e){t.stop()}))})),go(Ii(),Zy),go(ji(),(function(t,n){e.autofocus?r(t):Iy.focus(t)}))]),behaviours:Kp.augment(e.widgetBehaviours,[zp.config({store:{mode:"memory",initialValue:e.data}}),Iy.config({ignore:e.ignoreFocus,onFocus:function(e){Uy(e)}}),ny.config({mode:"special",focusIn:e.autofocus?function(e){r(e)}:Du(),onLeft:i,onRight:i,onEscape:function(t,n){return Iy.isFocused(t)||e.autofocus?e.autofocus?(n.setSource(t.element()),x.none()):x.none():(Iy.focus(t),x.some(!0))}})])}},iC=[vn("uid"),vn("data"),vn("components"),vn("dom"),Mn("autofocus",!1),Mn("ignoreFocus",!1),Kp.field("widgetBehaviours",[zp,Iy,ny]),Mn("domModification",{}),$m(nC()),Bc("builder",rC)],oC=sn("type",{widget:iC,item:Jy,separator:eC}),aC=function(e,t){return{mode:"flatgrid",selector:"."+e.markers.item,initSize:{numColumns:t.initSize.numColumns,numRows:t.initSize.numRows},focusManager:e.focusManager}},sC=function(e,t){return{mode:"matrix",selectors:{row:t.rowSelector,cell:"."+e.markers.item},focusManager:e.focusManager}},lC=function(e,t){return{mode:"menu",selector:"."+e.markers.item,moveOnTab:t.moveOnTab,focusManager:e.focusManager}},cC=a([Im({factory:{sketch:function(e){var t=rn("menu.spec item",oC,e);return t.builder(t)}},name:"items",unit:"item",defaults:function(e,t){return t.hasOwnProperty("uid")?t:p(p({},t),{uid:Oa("item")})},overrides:function(e,t){return{type:t.type,ignoreFocus:e.fakeFocus,domModification:{classes:[e.markers.item]}}}})]),uC=a([vn("value"),vn("items"),vn("dom"),vn("components"),Mn("eventOrder",{}),$p("menuBehaviours",[Og,zp,ug,ny]),Pn("movement",{mode:"menu",moveOnTab:!0},sn("mode",{grid:[Pc(),Bc("config",aC)],matrix:[Bc("config",sC),vn("rowSelector")],menu:[Mn("moveOnTab",!0),Bc("config",lC)]})),_c(),Mn("fakeFocus",!1),Mn("focusManager",Jg()),Rc("onHighlight")]),dC=a("alloy.menu-focus"),fC=function(e,t,n,r){return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:Wp(e.menuBehaviours,[Og.config({highlightClass:e.markers.selectedItem,itemClass:e.markers.item,onHighlight:e.onHighlight}),zp.config({store:{mode:"memory",initialValue:e.value}}),ug.config({find:x.some}),ny.config(e.movement.config(e,e.movement))]),events:fo([go(Xy(),(function(e,t){var n=t.event();e.getSystem().getByDom(n.target()).each((function(n){Og.highlight(e,n),t.stop(),ao(e,dC(),{menu:e,item:n})}))})),go(qy(),(function(e,t){var n=t.event().item();Og.highlight(e,n)}))]),components:t,eventOrder:e.eventOrder,domModification:{attributes:{role:"menu"}}}},hC=tg({name:"Menu",configFields:uC(),partFields:cC(),factory:fC}),pC=function(e){return Ne(e,(function(e,t){return{k:e,v:t}}))},mC=function(e,t,n,r){return je(n,r).bind((function(r){return je(e,r).bind((function(r){var i=mC(e,t,n,r);return x.some([r].concat(i))}))})).getOr([])},gC=function(e,t){var n={};Oe(e,(function(e,t){Z(e,(function(e){n[e]=t}))}));var r=t,i=pC(t),o=Re(i,(function(e,t){return[t].concat(mC(n,r,i,t))}));return Re(n,(function(e){return je(o,e).getOr([e])}))},vC=function(){var e=Zn({}),t=Zn({}),n=Zn({}),r=Zn(x.none()),i=Zn({}),o=function(){e.set({}),t.set({}),n.set({}),r.set(x.none())},a=function(){return r.get().isNone()},s=function(e,n){var r;t.set(p(p({},t.get()),(r={},r[e]={type:"prepared",menu:n},r)))},l=function(o,a,s,l){r.set(x.some(o)),e.set(s),t.set(a),i.set(l);var c=gC(l,s);n.set(c)},c=function(t){return Pe(e.get(),(function(e,n){return e===t}))},u=function(e,t,n){return g(e).bind((function(r){return c(e).bind((function(e){return t(e).map((function(e){return{triggeredMenu:r,triggeringItem:e,triggeringPath:n}}))}))}))},d=function(e,t){var i=X(b(e).toArray(),(function(e){return g(e).isSome()}));return je(n.get(),e).bind((function(e){var n=oe(i.concat(e)),o=re(n,(function(e,i){return u(e,t,n.slice(0,i+1)).fold((function(){return r.get().is(e)?[]:[x.none()]}),(function(e){return[x.some(e)]}))}));return rg(o)}))},f=function(t){return je(e.get(),t).map((function(e){var r=je(n.get(),t).getOr([]);return[e].concat(r)}))},h=function(e){return je(n.get(),e).bind((function(e){return e.length>1?x.some(e.slice(1)):x.none()}))},m=function(e){return je(n.get(),e)},g=function(e){return v(e).bind(bC)},v=function(e){return je(t.get(),e)},b=function(t){return je(e.get(),t)},y=function(e){var t=i.get();return ae(Te(t),e)},C=function(){return r.get().bind(g)},w=function(){return t.get()};return{setMenuBuilt:s,setContents:l,expand:f,refresh:m,collapse:h,lookupMenu:v,lookupItem:b,otherMenus:y,getPrimary:C,getMenus:w,clear:o,isClear:a,getTriggeringPath:d}},bC=function(e){return"prepared"===e.type?x.some(e.menu):x.none()},yC={init:vC,extractPreparedMenu:bC},CC=function(e,t){var n,r=Zn(x.none()),i=function(t,n,r){return Re(r,(function(r,i){var o=function(){return hC.sketch(p(p({},r),{value:i,markers:e.markers,fakeFocus:e.fakeFocus,onHighlight:e.onHighlight,focusManager:e.fakeFocus?Qg():Jg()}))};return i===n?{type:"prepared",menu:t.getSystem().build(o())}:{type:"notbuilt",nbMenu:o}}))},o=yC.init(),a=function(t){var n=i(t,e.data.primary,e.data.menus),r=c();return o.setContents(e.data.primary,n,e.data.expansions,r),o.getPrimary()},s=function(e){return zp.getValue(e).value},l=function(e,t,n){return fe(t,(function(e){if(!e.getSystem().isConnected())return x.none();var t=Og.getCandidates(e);return ee(t,(function(e){return s(e)===n}))}))},c=function(t){return Re(e.data.menus,(function(e,t){return re(e.items,(function(e){return"separator"===e.type?[]:[e.data.value]}))}))},u=function(e,t){Og.highlight(e,t),Og.getHighlighted(t).orThunk((function(){return Og.getFirst(t)})).each((function(t){lo(e,t.element(),ji())}))},d=function(e,t){return ng(G(t,(function(t){return e.lookupMenu(t).bind((function(e){return"prepared"===e.type?x.some(e.menu):x.none()}))})))},f=function(t,n,r){var i=d(n,n.otherMenus(r));Z(i,(function(n){Ss(n.element(),[e.markers.backgroundMenu]),e.stayInDom||fy.remove(t,n)}))},h=function(t){return r.get().getOrThunk((function(){var n={},i=Ef(t.element(),"."+e.markers.item),o=X(i,(function(e){return"true"===ua(e,"aria-haspopup")}));return Z(o,(function(e){t.getSystem().getByDom(e).each((function(e){var t=s(e);n[t]=e}))})),r.set(x.some(n)),n}))},m=function(e,t){var n=h(e);Oe(n,(function(e,n){var r=$(t,n);la(e.element(),"aria-expanded",r)}))},g=function(t,n,r){return x.from(r[0]).bind((function(i){return n.lookupMenu(i).bind((function(i){if("notbuilt"===i.type)return x.none();var o=i.menu,a=d(n,r.slice(1));return Z(a,(function(t){ws(t.element(),e.markers.backgroundMenu)})),Ps(o.element())||fy.append(t,hl(o)),Ss(o.element(),[e.markers.backgroundMenu]),u(t,o),f(t,n,r),x.some(o)}))}))};(function(e){e[e["HighlightSubmenu"]=0]="HighlightSubmenu",e[e["HighlightParent"]=1]="HighlightParent"})(n||(n={}));var v=function(e,t,n){if("notbuilt"===n.type){var r=e.getSystem().build(n.nbMenu());return o.setMenuBuilt(t,r),r}return n.menu},b=function(t,r,i){void 0===i&&(i=n.HighlightSubmenu);var a=s(r);return o.expand(a).bind((function(a){return m(t,a),x.from(a[0]).bind((function(s){return o.lookupMenu(s).bind((function(l){var c=v(t,s,l);return Ps(c.element())||fy.append(t,hl(c)),e.onOpenSubmenu(t,r,c,oe(a)),i===n.HighlightSubmenu?(Og.highlightFirst(c),g(t,o,a)):(Og.dehighlightAll(c),x.some(r))}))}))}))},y=function(t,n){var r=s(n);return o.collapse(r).bind((function(r){return m(t,r),g(t,o,r).map((function(r){return e.onCollapseMenu(t,n,r),r}))}))},C=function(e,t){var n=s(t);return o.refresh(n).bind((function(t){return m(e,t),g(e,o,t)}))},w=function(e,t){return ag(t.element())?x.none():b(e,t,n.HighlightSubmenu)},I=function(e,t){return ag(t.element())?x.none():y(e,t)},A=function(t,n){return y(t,n).orThunk((function(){return e.onEscape(t,n).map((function(){return t}))}))},k=function(t){return function(n,r){return lc(r.getSource(),"."+e.markers.item).bind((function(e){return n.getSystem().getByDom(e).toOption().bind((function(e){return t(n,e).map((function(){return!0}))}))}))}},S=fo([go(dC(),(function(e,t){var n=t.event().item();o.lookupItem(s(n)).each((function(){var n=t.event().menu();Og.highlight(e,n);var r=s(t.event().item());o.refresh(r).each((function(t){return f(e,o,t)}))}))})),Eo((function(t,r){var i=r.event().target();t.getSystem().getByDom(i).each((function(r){var i=s(r);0===i.indexOf("collapse-item")&&y(t,r),b(t,r,n.HighlightSubmenu).fold((function(){e.onExecute(t,r)}),(function(){}))}))})),So((function(t,n){a(t).each((function(n){fy.append(t,hl(n)),e.onOpenMenu(t,n),e.highlightImmediately&&u(t,n)}))}))].concat(e.navigateOnHover?[go(qy(),(function(t,r){var i=r.event().item();C(t,i),b(t,i,n.HighlightParent),e.onHover(t,i)}))]:[])),_=function(e){return Og.getHighlighted(e).bind(Og.getHighlighted)},T=function(e){_(e).each((function(t){y(e,t)}))},E=function(e){o.getPrimary().each((function(t){u(e,t)}))},O=function(e){return x.from(e.components()[0]).filter((function(e){return"menu"===ua(e.element(),"role")}))},R=function(t){var n=o.getPrimary().bind((function(e){return _(t).bind((function(e){var n=s(e),r=Fe(o.getMenus()),i=ng(G(r,yC.extractPreparedMenu));return o.getTriggeringPath(n,(function(e){return l(t,i,e)}))})).map((function(t){return{primary:e,triggeringPath:t}}))}));n.fold((function(){O(t).each((function(n){e.onRepositionMenu(t,n,[])}))}),(function(n){var r=n.primary,i=n.triggeringPath;e.onRepositionMenu(t,r,i)}))},N={collapseMenu:T,highlightPrimary:E,repositionMenus:R};return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:Wp(e.tmenuBehaviours,[ny.config({mode:"special",onRight:k(w),onLeft:k(I),onEscape:k(A),focusIn:function(e,t){o.getPrimary().each((function(t){lo(e,t.element(),ji())}))}}),Og.config({highlightClass:e.markers.selectedMenu,itemClass:e.markers.menu}),ug.config({find:function(e){return Og.getHighlighted(e)}}),fy.config({})]),eventOrder:e.eventOrder,apis:N,events:S}},wC=a("collapse-item"),xC=function(e,t,n){return{primary:e,menus:t,expansions:n}},IC=function(e,t){return{primary:e,menus:ct(e,t),expansions:{}}},AC=function(e){return{value:xa(wC()),meta:{text:e}}},kC=eg({name:"TieredMenu",configFields:[Dc("onExecute"),Dc("onEscape"),Lc("onOpenMenu"),Lc("onOpenSubmenu"),Rc("onRepositionMenu"),Rc("onCollapseMenu"),Mn("highlightImmediately",!0),kn("data",[vn("primary"),vn("menus"),vn("expansions")]),Mn("fakeFocus",!1),Rc("onHighlight"),Rc("onHover"),Tc(),vn("dom"),Mn("navigateOnHover",!0),Mn("stayInDom",!1),$p("tmenuBehaviours",[ny,Og,ug,fy]),Mn("eventOrder",{})],apis:{collapseMenu:function(e,t){e.collapseMenu(t)},highlightPrimary:function(e,t){e.highlightPrimary(t)},repositionMenus:function(e,t){e.repositionMenus(t)}},factory:CC,extraApis:{tieredData:xC,singleData:IC,collapseItem:AC}}),SC=function(e,t,n,r,i){var o=function(){return e.lazySink(t)},a="horizontal"===r.type?{layouts:{onLtr:function(){return Cu()},onRtl:function(){return wu()}}}:{},s=function(e){return 2===e.length},l=function(e){return s(e)?a:{}};return kC.sketch({dom:{tag:"div"},data:r.data,markers:r.menu.markers,highlightImmediately:r.menu.highlightImmediately,onEscape:function(){return op.close(t),e.onEscape.map((function(e){return e(t)})),x.some(!0)},onExecute:function(){return x.some(!0)},onOpenMenu:function(e,t){kh.positionWithinBounds(o().getOrDie(),n,t,i())},onOpenSubmenu:function(e,t,n,r){var i=o().getOrDie();kh.position(i,p({anchor:"submenu",item:t},l(r)),n)},onRepositionMenu:function(e,t,r){var a=o().getOrDie();kh.positionWithinBounds(a,n,t,i()),Z(r,(function(e){var t=l(e.triggeringPath);kh.position(a,p({anchor:"submenu",item:e.triggeringItem},t),e.triggeredMenu)}))}})},_C=function(e,t){var n=function(t,n){var r=e.getRelated(t);return r.exists((function(e){return fc(e,n)}))},r=function(e,t){op.setContent(e,t)},i=function(e,t,n){o(e,t,n,x.none())},o=function(e,t,n,r){a(e,t,n,(function(){return r.map((function(e){return Yl(e)}))}))},a=function(t,n,r,i){var o=e.lazySink(t).getOrDie();op.openWhileCloaked(t,r,(function(){return kh.positionWithinBounds(o,n,t,i())})),zp.setValue(t,x.some({mode:"position",anchor:n,getBounds:i}))},s=function(e,t,n){l(e,t,n,(function(){return x.none()}))},l=function(t,n,r,i){var o=SC(e,t,n,r,i);op.open(t,o),zp.setValue(t,x.some({mode:"menu",menu:o}))},c=function(e){op.isOpen(e)&&(zp.setValue(e,x.none()),op.close(e))},u=function(e){return op.getState(e)},d=function(t){op.isOpen(t)&&zp.getValue(t).each((function(n){switch(n.mode){case"menu":op.getState(t).each((function(e){kC.repositionMenus(e)}));break;case"position":var r=e.lazySink(t).getOrDie();kh.positionWithinBounds(r,n.anchor,t,n.getBounds());break}}))},f={setContent:r,showAt:i,showWithin:o,showWithinBounds:a,showMenuAt:s,showMenuWithinBounds:l,hide:c,getContent:u,reposition:d,isOpen:op.isOpen};return{uid:e.uid,dom:e.dom,behaviours:Wp(e.inlineBehaviours,[op.config({isPartOf:function(e,t,r){return fc(t,r)||n(e,r)},getAttachPoint:function(t){return e.lazySink(t).getOrDie()},onOpen:function(t){e.onShow(t)},onClose:function(t){e.onHide(t)}}),zp.config({store:{mode:"memory",initialValue:x.none()}}),ju.config({channels:p(p({},up(p({isExtraPart:t.isExtraPart},e.fireDismissalEventInstead.map((function(e){return{fireEventInstead:{event:e.event}}})).getOr({})))),fp(p(p({},e.fireRepositionEventInstead.map((function(e){return{fireEventInstead:{event:e.event}}})).getOr({})),{doReposition:d})))})]),eventOrder:e.eventOrder,apis:f}},TC=eg({name:"InlineView",configFields:[vn("lazySink"),Rc("onShow"),Rc("onHide"),Nn("onEscape"),$p("inlineBehaviours",[op,zp,ju]),Dn("fireDismissalEventInstead",[Mn("event",Yi())]),Dn("fireRepositionEventInstead",[Mn("event",Ji())]),Mn("getRelated",x.none),Mn("isExtraPart",d),Mn("eventOrder",x.none)],factory:_C,apis:{showAt:function(e,t,n,r){e.showAt(t,n,r)},showWithin:function(e,t,n,r,i){e.showWithin(t,n,r,i)},showWithinBounds:function(e,t,n,r,i){e.showWithinBounds(t,n,r,i)},showMenuAt:function(e,t,n,r){e.showMenuAt(t,n,r)},showMenuWithinBounds:function(e,t,n,r,i){e.showMenuWithinBounds(t,n,r,i)},hide:function(e,t){e.hide(t)},isOpen:function(e,t){return e.isOpen(t)},getContent:function(e,t){return e.getContent(t)},setContent:function(e,t,n){e.setContent(t,n)},reposition:function(e,t){e.reposition(t)}}}),EC=function(e){return e.x},OC=function(e,t){return e.x+e.width/2-t.width/2},RC=function(e,t){return e.x+e.width-t.width},NC=function(e){return e.y},LC=function(e,t){return e.y+e.height-t.height},DC=function(e,t,n){return Fc(RC(e,t),LC(e,t),n.innerSoutheast(),Gc(),Jc(e,{right:0,bottom:3}),"layout-inner-se")},BC=function(e,t,n){return Fc(EC(e),LC(e,t),n.innerSouthwest(),Kc(),Jc(e,{left:1,bottom:3}),"layout-inner-sw")},MC=function(e,t,n){return Fc(RC(e,t),NC(e),n.innerNortheast(),Wc(),Jc(e,{right:0,top:2}),"layout-inner-ne")},PC=function(e,t,n){return Fc(EC(e),NC(e),n.innerNorthwest(),Vc(),Jc(e,{left:1,top:2}),"layout-inner-nw")},FC=function(e,t,n){return Fc(OC(e,t),NC(e),n.innerNorth(),Zc(),Jc(e,{top:2}),"layout-inner-n")},jC=function(e,t,n){return Fc(OC(e,t),LC(e,t),n.innerSouth(),Uc(),Jc(e,{bottom:3}),"layout-inner-s")},HC=tinymce.util.Tools.resolve("tinymce.util.Delay"),zC=function(e){var t=Wy(e.action),n=e.dom.tag,r=function(t){return je(e.dom,"attributes").bind((function(e){return je(e,t)}))},i=function(){if("button"===n){var e=r("type").getOr("button"),t=r("role").map((function(e){return{role:e}})).getOr({});return p({type:e},t)}var i=r("role").getOr("button");return{role:i}};return{uid:e.uid,dom:e.dom,components:e.components,events:t,behaviours:Kp.augment(e.buttonBehaviours,[Iy.config({}),ny.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:i()},eventOrder:e.eventOrder}},$C=eg({name:"Button",factory:zC,configFields:[Mn("uid",void 0),vn("dom"),Mn("components",[]),Kp.field("buttonBehaviours",[Iy,ny]),Tn("action"),Tn("role"),Mn("eventOrder",{})]}),VC=function(e){var t=Xm(e)&&ze(e,"uid")?e.uid:Oa("memento"),n=function(e){return e.getSystem().getByUid(t).getOrDie()},r=function(e){return e.getSystem().getByUid(t).toOption()},i=function(){return p(p({},e),{uid:t})};return{get:n,getOpt:r,asSpec:i}},WC=function(e){return x.from(e()["temporary-placeholder"]).getOr("!not found!")},KC=function(e,t){return x.from(t()[e.toLowerCase()]).getOrThunk((function(){return WC(t)}))},GC=function(e,t,n){return x.from(t()[e.toLowerCase()]).or(n).getOrThunk((function(){return WC(t)}))},ZC=function(e,t){return fe(e,(function(e){return x.from(t()[e.toLowerCase()])})).getOrThunk((function(){return WC(t)}))},UC={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},qC=function(e){var t=VC({dom:{tag:"p",innerHtml:e.translationProvider(e.text)},behaviours:Eu([fy.config({})])}),n=function(e){return{dom:{tag:"div",classes:["tox-bar"],attributes:{style:"width: "+e+"%"}}}},r=function(e){return{dom:{tag:"div",classes:["tox-text"],innerHtml:e+"%"}}},i=VC({dom:{tag:"div",classes:e.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(0)]},r(0)],behaviours:Eu([fy.config({})])}),o=function(e,t){e.getSystem().isConnected()&&i.getOpt(e).each((function(e){fy.set(e,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(t)]},r(t)])}))},a=function(e,n){if(e.getSystem().isConnected()){var r=t.get(e);fy.set(r,[cl(n)])}},s={updateProgress:o,updateText:a},l=ne([e.icon.toArray(),e.level.toArray(),e.level.bind((function(e){return x.from(UC[e])})).toArray()]);return{uid:e.uid,dom:{tag:"div",attributes:{role:"alert"},classes:e.level.map((function(e){return["tox-notification","tox-notification--in","tox-notification--"+e]})).getOr(["tox-notification","tox-notification--in"])},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:ZC(l,e.iconProvider)}},{dom:{tag:"div",classes:["tox-notification__body"]},components:[t.asSpec()],behaviours:Eu([fy.config({})])}].concat(e.progress?[i.asSpec()]:[]).concat(e.closeButton?[$C.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[{dom:{tag:"div",classes:["tox-icon"],innerHtml:KC("close",e.iconProvider),attributes:{"aria-label":e.translationProvider("Close")}}}],action:function(t){e.onAction(t)}})]:[]),apis:s}},XC=eg({name:"Notification",factory:qC,configFields:[Tn("level"),vn("progress"),vn("icon"),vn("onAction"),vn("text"),vn("iconProvider"),vn("translationProvider"),zn("closeButton",!0)],apis:{updateProgress:function(e,t,n){e.updateProgress(t,n)},updateText:function(e,t,n){e.updateText(t,n)}}});function YC(e,t,n){var r=t.backstage,i=function(e){switch(e){case"bc-bc":return jC;case"tc-tc":return FC;case"tc-bc":return fu;case"bc-tc":default:return hu}},o=function(e){Z(e,(function(e){return e.moveTo(0,0)}))},a=function(e){e.length>0&&(ce(e).each((function(e){return e.moveRel(null,"banner")})),Z(e,(function(t,n){n>0&&t.moveRel(e[n-1].getEl(),"bc-tc")})))},s=function(e){o(e),a(e)},l=function(e,o){var a=!e.closeButton&&e.timeout&&(e.timeout>0||e.timeout<0),s=function(){o(),TC.hide(c)},l=fl(XC.sketch({text:e.text,level:$(["success","error","warning","warn","info"],e.type)?e.type:void 0,progress:!0===e.progressBar,icon:x.from(e.icon),closeButton:!a,onAction:s,iconProvider:r.shared.providers.icons,translationProvider:r.shared.providers.translate})),c=fl(TC.sketch(p({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:t.backstage.shared.getSink,fireDismissalEventInstead:{}},r.shared.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}})));return n.add(c),e.timeout>0&&HC.setTimeout((function(){s()}),e.timeout),{close:s,moveTo:function(e,t){TC.showAt(c,{anchor:"makeshift",x:e,y:t},hl(l))},moveRel:function(e,n){if("banner"!==n){var r=i(n),o={anchor:"node",root:Fs(),node:x.some(Qn.fromDom(e)),layouts:{onRtl:function(){return[r]},onLtr:function(){return[r]}}};TC.showAt(c,o,hl(l))}else TC.showAt(c,t.backstage.shared.anchors.banner(),hl(l))},text:function(e){XC.updateText(l,e)},settings:e,getEl:function(){return l.element().dom()},progressBar:{value:function(e){XC.updateProgress(l,e)}}}},c=function(e){e.close()},u=function(e){return e.settings};return{open:l,close:c,reposition:s,getArgs:u}}var JC,QC=function(e,n){var r=null,i=function(){null!==r&&(t.clearTimeout(r),r=null)},o=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];null===r&&(r=t.setTimeout((function(){e.apply(null,i),r=null}),n))};return{cancel:i,throttle:o}},ew=function(e,n){var r=null,i=function(){null!==r&&(t.clearTimeout(r),r=null)},o=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];null!==r&&t.clearTimeout(r),r=t.setTimeout((function(){e.apply(null,i),r=null}),n)};return{cancel:i,throttle:o}},tw=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"),nw=function(e,t){return e.isBlock(t)||$(["BR","IMG","HR","INPUT"],t.nodeName)||"false"===e.getContentEditable(t)},rw=function(e,t,n,r,i){var o=tw(e,(function(t){return nw(e,t)}));return x.from(o.backwards(t,n,r,i))},iw="[data-mce-autocompleter]",ow=function(e,t){return aw(Qn.fromDom(e.selection.getNode())).getOrThunk((function(){var n=Qn.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',e.getDoc());return Xo(n,Qn.fromDom(t.extractContents())),t.insertNode(n.dom()),zo(n).each((function(e){return e.dom().normalize()})),_f(n).map((function(t){e.selection.setCursorLocation(t.dom(),If(t))})),n}))},aw=function(e){return lc(e,iw)},sw=function(e){return e.collapsed&&3===e.startContainer.nodeType},lw=function(e){return e.toString().replace(/\u00A0/g," ").replace(/\uFEFF/g,"")},cw=function(e){return""!==e&&-1!=="  \f\n\r\t\v".indexOf(e)},uw=function(e,t){return e.substring(t.length)},dw=function(e,t,n){var r;for(r=t-1;r>=0;r--){var i=e.charAt(r);if(cw(i))return x.none();if(i===n)break}return x.some(r)},fw=function(e,t,n,r){if(void 0===r&&(r=0),!sw(t))return x.none();var i=function(e,t,r){return dw(r,t,n).getOr(t)},o=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return rw(e,t.startContainer,t.startOffset,i,o).bind((function(e){var i=t.cloneRange();if(i.setStart(e.container,e.offset),i.setEnd(t.endContainer,t.endOffset),i.collapsed)return x.none();var o=lw(i),a=o.lastIndexOf(n);return 0!==a||uw(o,n).length<r?x.none():x.some({text:uw(o,n),range:i,triggerChar:n})}))},hw=function(e,t,n,r){return void 0===r&&(r=0),aw(Qn.fromDom(t.startContainer)).fold((function(){return fw(e,t,n,r)}),(function(t){var r=e.createRng();r.selectNode(t.dom());var i=lw(r);return x.some({range:r,text:uw(i,n),triggerChar:n})}))},pw=function(e,t){t.on("keypress compositionend",e.onKeypress.throttle),t.on("remove",e.onKeypress.cancel);var n=function(e,t){ao(e,Si(),{raw:t})};t.on("keydown",(function(t){var r=function(){return e.getView().bind(Og.getHighlighted)};8===t.which&&e.onKeypress.throttle(t),e.isActive()&&(27===t.which&&e.cancelIfNecessary(),e.isMenuOpen()?13===t.which?(r().each(so),t.preventDefault()):40===t.which?(r().fold((function(){e.getView().each(Og.highlightFirst)}),(function(e){n(e,t)})),t.preventDefault(),t.stopImmediatePropagation()):37!==t.which&&38!==t.which&&39!==t.which||r().each((function(e){n(e,t),t.preventDefault(),t.stopImmediatePropagation()})):13!==t.which&&38!==t.which&&40!==t.which||e.cancelIfNecessary())})),t.on("NodeChange",(function(t){e.isActive()&&!e.isProcessingAction()&&aw(Qn.fromDom(t.element)).isNone()&&e.cancelIfNecessary()}))},mw={setup:pw},gw=tinymce.util.Tools.resolve("tinymce.util.Promise"),vw=function(e,t){return{container:e,offset:t}},bw=function(e){return e.nodeType===t.Node.TEXT_NODE},yw=function(e){return e.nodeType===t.Node.ELEMENT_NODE},Cw=function(e){if(bw(e))return vw(e,e.data.length);var t=e.childNodes;return t.length>0?Cw(t[t.length-1]):vw(e,t.length)},ww=function(e,t){var n=e.childNodes;return n.length>0&&t<n.length?ww(n[t],0):n.length>0&&yw(e)&&n.length===t?Cw(n[n.length-1]):vw(e,t)},xw=function(e,t){return rw(e,t.container,t.offset,(function(e,t){return 0===t?-1:t}),e.getRoot()).filter((function(e){var t=e.container.data.charAt(e.offset-1);return!cw(t)})).isSome()},Iw=function(e){return function(t){var n=ww(t.startContainer,t.startOffset);return!xw(e,n)}},Aw=function(e,t,n){return fe(n.triggerChars,(function(n){return hw(e,t,n)}))},kw=function(e,t){var n=t(),r=e.selection.getRng();return Aw(e.dom,r,n).bind((function(n){return Sw(e,t,n)}))},Sw=function(e,t,n,r){void 0===r&&(r={});var i=t(),o=e.selection.getRng(),a=o.startContainer.nodeValue,s=X(i.lookupByChar(n.triggerChar),(function(t){return n.text.length>=t.minChars&&t.matches.getOrThunk((function(){return Iw(e.dom)}))(n.range,a,n.text)}));if(0===s.length)return x.none();var l=gw.all(G(s,(function(e){var t=e.fetch(n.text,e.maxResults,r);return t.then((function(t){return{matchText:n.text,items:t,columns:e.columns,onAction:e.onAction}}))})));return x.some({lookupData:l,context:n})},_w=Ft([Cn("type"),Rn("text")]),Tw=function(e){return tn("separatormenuitem",_w,e)},Ew=Ft([Gn("type",(function(){return"autocompleteitem"})),Gn("active",(function(){return!1})),Gn("disabled",(function(){return!1})),Mn("meta",{}),Cn("value"),Rn("text"),Rn("icon")]),Ow=Ft([Cn("type"),Cn("ch"),Fn("minChars",1),Mn("columns",1),Fn("maxResults",10),Nn("matches"),In("fetch"),In("onAction")]),Rw=function(e){return tn("Autocompleter.Separator",_w,e)},Nw=function(e){return tn("Autocompleter.Item",Ew,e)},Lw=function(e){return tn("Autocompleter",Ow,e)},Dw=function(e){var t={};return Z(e,(function(e){t[e]={}})),Te(t)},Bw=function(e){var t=e.ui.registry.getAll().popups,n=Re(t,(function(e){return Lw(e).fold((function(e){throw new Error(on(e))}),(function(e){return e}))})),r=Dw(Me(n,(function(e){return e.ch}))),i=Fe(n),o=function(e){return X(i,(function(t){return t.ch===e}))};return{dataset:n,triggerChars:r,lookupByChar:o}};(function(e){e[e["CLOSE_ON_EXECUTE"]=0]="CLOSE_ON_EXECUTE",e[e["BUBBLE_TO_SANDBOX"]=1]="BUBBLE_TO_SANDBOX"})(JC||(JC={}));var Mw,Pw=JC,Fw="tox-menu-nav__js",jw="tox-collection__item",Hw="tox-swatch",zw={normal:Fw,color:Hw},$w="tox-collection__item--enabled",Vw="tox-collection__group-heading",Ww="tox-collection__item-icon",Kw="tox-collection__item-label",Gw="tox-collection__item-accessory",Zw="tox-collection__item-caret",Uw="tox-collection__item-checkmark",qw="tox-collection__item--active",Xw="tox-collection__item-icon-rtl",Yw=function(e){return je(zw,e).getOr(Fw)},Jw=function(e){return"color"===e?"tox-swatches":"tox-menu"},Qw=function(e){return{backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:Jw(e),tieredMenu:"tox-tiered-menu"}},ex=function(e){var t=Qw(e);return{backgroundMenu:t.backgroundMenu,selectedMenu:t.selectedMenu,menu:t.menu,selectedItem:t.selectedItem,item:Yw(e)}},tx=function(e,t,n){var r=Qw(n);return{tag:"div",classes:ne([[r.menu,"tox-menu-"+t+"-column"],e?[r.hasIcons]:[]])}},nx=[hC.parts().items({})],rx=function(e,t,n){var r=Qw(n),i={tag:"div",classes:ne([[r.tieredMenu]])};return{dom:i,markers:ex(n)}},ix=function(e,t){return function(n){var r=K(n,t);return G(r,(function(t){return{dom:e,components:t}}))}},ox=function(e){return{dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[hC.parts().items({preprocess:"auto"!==e?ix({tag:"div",classes:["tox-swatches__row"]},e):s})]}]}},ax=function(e){return{dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[hC.parts().items({preprocess:ix({tag:"div",classes:["tox-collection__group"]},e)})]}},sx=function(e,t){var n=[],r=[];return Z(e,(function(e,i){t(e,i)?(r.length>0&&n.push(r),r=[],He(e.dom,"innerHtml")&&r.push(e)):r.push(e)})),r.length>0&&n.push(r),G(n,(function(e){return{dom:{tag:"div",classes:["tox-collection__group"]},components:e}}))},lx=function(e,t,n){return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(1===e?["tox-collection--list"]:["tox-collection--grid"])},components:[hC.parts().items({preprocess:function(n){return"auto"!==e&&e>1?ix({tag:"div",classes:["tox-collection__group"]},e)(n):sx(n,(function(e,n){return"separator"===t[n].type}))}})]}},cx=function(e,t){return{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[hC.parts().items({preprocess:function(t){return sx(t,(function(t,n){return"separator"===e[n].type}))}})]}},ux=function(e){return V(e,(function(e){return"icon"in e&&void 0!==e.icon}))},dx=function(e){return t.console.error(on(e)),t.console.log(e),x.none()},fx=function(e,t,n,r,i){var o=cx(n);return{value:e,dom:o.dom,components:o.components,items:n}},hx=function(e,t,n,r,i){if("color"===i){var o=ox(r);return{value:e,dom:o.dom,components:o.components,items:n}}if("normal"===i&&"auto"===r){o=lx(r,n);return{value:e,dom:o.dom,components:o.components,items:n}}if("normal"===i&&1===r){o=lx(1,n);return{value:e,dom:o.dom,components:o.components,items:n}}if("normal"===i){o=lx(r,n);return{value:e,dom:o.dom,components:o.components,items:n}}if("listpreview"===i&&"auto"!==r){o=ax(r);return{value:e,dom:o.dom,components:o.components,items:n}}return{value:e,dom:tx(t,r,i),components:nx,items:n}},px=[zn("disabled",!1),Rn("text"),Rn("shortcut"),Kt("value","value",nt((function(){return xa("menuitem-value")})),ln()),Mn("meta",{})],mx=Ft([Cn("type"),zn("active",!1),Rn("icon")].concat(px)),gx=function(e){return tn("choicemenuitem",mx,e)},vx=["inserttable","colorswatch"],bx=Ft([Cn("type"),wn("fancytype",vx),$n("onAction",n)]),yx=function(e){return tn("fancymenuitem",bx,e)},Cx=Ft([Cn("type"),$n("onSetup",(function(){return n})),$n("onAction",n),Rn("icon")].concat(px)),wx=function(e){return tn("menuitem",Cx,e)},xx=Ft([Cn("type"),In("getSubmenuItems"),$n("onSetup",(function(){return n})),Rn("icon")].concat(px)),Ix=function(e){return tn("nestedmenuitem",xx,e)},Ax=Ft([Cn("type"),Rn("icon"),zn("active",!1),$n("onSetup",(function(){return n})),In("onAction")].concat(px)),kx=function(e){return tn("togglemenuitem",Ax,e)},Sx=function(e,t,n){var r=Ef(e.element(),"."+n);if(r.length>0){var i=te(r,(function(e){var n=e.dom().getBoundingClientRect().top,i=r[0].dom().getBoundingClientRect().top;return Math.abs(n-i)>t})).getOr(r.length);return x.some({numColumns:i,numRows:Math.ceil(r.length/i)})}return x.none()},_x=function(e,t){return Eu([py(e,t)])},Tx=function(e){return _x(xa("unnamed-events"),e)},Ex={namedEvents:_x,unnamedEvents:Tx},Ox=[vn("lazySink"),vn("tooltipDom"),Mn("exclusive",!0),Mn("tooltipComponents",[]),Mn("delay",300),Hn("mode","normal",["normal","follow-highlight"]),Mn("anchor",(function(e){return{anchor:"hotspot",hotspot:e,layouts:{onLtr:a([hu,fu,lu,uu,cu,du]),onRtl:a([hu,fu,lu,uu,cu,du])}}})),Rc("onHide"),Rc("onShow")],Rx=function(){var e=Zn(x.none()),n=Zn(x.none()),r=function(){return n.get()},i=function(e){n.set(x.some(e))},o=function(){n.set(x.none())},s=function(){e.get().each((function(e){t.clearTimeout(e)}))},l=function(n,r){s(),e.set(x.some(t.setTimeout((function(){n()}),r)))},c=function(){return n.get().isSome()},u=a("not-implemented");return Va({getTooltip:r,isShowing:c,setTooltip:i,clearTooltip:o,clearTimer:s,resetTimer:l,readState:u})},Nx=Object.freeze({__proto__:null,init:Rx}),Lx=xa("tooltip.exclusive"),Dx=xa("tooltip.show"),Bx=xa("tooltip.hide"),Mx=function(e,t,n){e.getSystem().broadcastOn([Lx],{})},Px=function(e,t,n,r){n.getTooltip().each((function(e){e.getSystem().isConnected()&&fy.set(e,r)}))},Fx=Object.freeze({__proto__:null,hideAllExclusive:Mx,setComponents:Px}),jx=function(e,t){var n=function(n){t.getTooltip().each((function(r){Dh(r),e.onHide(n,r),t.clearTooltip()})),t.clearTimer()},r=function(n){if(!t.isShowing()){Mx(n);var r=e.lazySink(n).getOrDie(),i=n.getSystem().build({dom:e.tooltipDom,components:e.tooltipComponents,events:fo("normal"===e.mode?[go(Ii(),(function(e){oo(n,Dx)})),go(wi(),(function(e){oo(n,Bx)}))]:[]),behaviours:Eu([fy.config({})])});t.setTooltip(i),Rh(r,i),e.onShow(n,i),kh.position(r,e.anchor(n),i)}};return fo(ne([[go(Dx,(function(n){t.resetTimer((function(){r(n)}),e.delay)})),go(Bx,(function(r){t.resetTimer((function(){n(r)}),e.delay)})),go(Pi(),(function(e,t){var r=t;$(r.channels(),Lx)&&n(e)})),_o((function(e){n(e)}))],"normal"===e.mode?[go(Ai(),(function(e){oo(e,Dx)})),go(Bi(),(function(e){oo(e,Bx)})),go(Ii(),(function(e){oo(e,Dx)})),go(wi(),(function(e){oo(e,Bx)}))]:[go(ro(),(function(e,t){oo(e,Dx)})),go(io(),(function(e){oo(e,Bx)}))]]))},Hx=Object.freeze({__proto__:null,events:jx}),zx=Ru({fields:Ox,name:"tooltipping",active:Hx,state:Nx,apis:Fx}),$x=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Vx=tinymce.util.Tools.resolve("tinymce.util.I18n"),Wx=["input","button","textarea","select"],Kx=function(e,t,n){var r=t.disabled()?Qx:eI;r(e,t,n)},Gx=function(e,t){return!0===t.useNative&&$(Wx,Oo(e.element()))},Zx=function(e){return fa(e.element(),"disabled")},Ux=function(e){la(e.element(),"disabled","disabled")},qx=function(e){ha(e.element(),"disabled")},Xx=function(e){return"true"===ua(e.element(),"aria-disabled")},Yx=function(e){la(e.element(),"aria-disabled","true")},Jx=function(e){la(e.element(),"aria-disabled","false")},Qx=function(e,t,n){t.disableClass.each((function(t){ws(e.element(),t)}));var r=Gx(e,t)?Ux:Yx;r(e),t.onDisabled(e)},eI=function(e,t,n){t.disableClass.each((function(t){Is(e.element(),t)}));var r=Gx(e,t)?qx:Jx;r(e),t.onEnabled(e)},tI=function(e,t){return Gx(e,t)?Zx(e):Xx(e)},nI=function(e,t,n,r){var i=r?Qx:eI;i(e,t,n)},rI=Object.freeze({__proto__:null,enable:eI,disable:Qx,isDisabled:tI,onLoad:Kx,set:nI}),iI=function(e,t){return Ua({classes:t.disabled()?t.disableClass.toArray():[]})},oI=function(e,t){return fo([ho(Fi(),(function(t,n){return tI(t,e)})),Iu(e,t,Kx)])},aI=Object.freeze({__proto__:null,exhibit:iI,events:oI}),sI=[$n("disabled",d),Mn("useNative",!0),Tn("disableClass"),Rc("onDisabled"),Rc("onEnabled")],lI=Ru({fields:sI,name:"disabling",active:aI,apis:rI}),cI=tinymce.util.Tools.resolve("tinymce.EditorManager"),uI=function(e){var t=e.getParam("skin"),n=e.getParam("skin_url");if(!1!==t){var r=t||"oxide";n=n?e.documentBaseURI.toAbsolute(n):cI.baseURL+"/skins/ui/"+r}return n},dI=function(e){return e.getParam("readonly",!1,"boolean")},fI=function(e){return!1===e.getParam("skin")},hI=function(e){return e.getParam("height",Math.max(e.getElement().offsetHeight,200))},pI=function(e){return e.getParam("width",$x.DOM.getStyle(e.getElement(),"width"))},mI=function(e){return x.from(e.getParam("min_width")).filter(B)},gI=function(e){return x.from(e.getParam("min_height")).filter(B)},vI=function(e){return x.from(e.getParam("max_width")).filter(B)},bI=function(e){return x.from(e.getParam("max_height")).filter(B)},yI=function(e){return x.from(e.getParam("style_formats")).filter(E)},CI=function(e){return e.getParam("style_formats_merge",!1,"boolean")},wI=function(e){return e.getParam("removed_menuitems","")},xI=function(e){return!1!==e.getParam("menubar",!0,"boolean")},II=function(e){var t=e.getParam("toolbar",!0),n=!0===t,r=_(t),i=E(t)&&t.length>0;return!kI(e)&&(i||r||n)},AI=function(e){var t=W(9,(function(t){return e.getParam("toolbar"+(t+1),!1,"string")})),n=X(t,(function(e){return"string"===typeof e}));return n.length>0?x.some(n):x.none()},kI=function(e){return AI(e).fold((function(){var t=e.getParam("toolbar",[],"string[]");return t.length>0}),(function(){return!0}))};(function(e){e["default"]="wrap",e["floating"]="floating",e["sliding"]="sliding",e["scrolling"]="scrolling"})(Mw||(Mw={}));var SI,_I=function(e){return e.getParam("toolbar_mode","","string")};(function(e){e["auto"]="auto",e["top"]="top",e["bottom"]="bottom"})(SI||(SI={}));var TI=function(e){return e.getParam("toolbar_groups",{},"object")},EI=function(e){return e.getParam("toolbar_location",SI.auto,"string")},OI=function(e){return EI(e)===SI.bottom},RI=function(e){return e.getParam("fixed_toolbar_container","","string")},NI=function(e){var t=RI(e);return t.length>0&&e.inline?sc(Fs(),t):x.none()},LI=function(e){return e.inline&&NI(e).isSome()},DI=function(e){var t=NI(e);return t.getOr(Fs())},BI=function(e){return e.inline&&!xI(e)&&!II(e)&&!kI(e)},MI=function(e){var t=e.getParam("toolbar_sticky",!1,"boolean");return(t||e.inline)&&!LI(e)&&!BI(e)},PI=function(e){return e.getParam("draggable_modal",!1,"boolean")},FI=function(e){var t=e.getParam("menu");return t?Re(t,(function(e){return p(p({},e),{items:e.items})})):{}},jI=function(e){return e.getParam("menubar")},HI=function(e){return e.getParam("toolbar",!0)},zI=function(e){return e.getParam("file_picker_callback")},$I=function(e){return e.getParam("file_picker_types")},VI=function(e){return e.getParam("file_browser_callback_types")},WI=function(e){return!1===e.getParam("typeahead_urls")},KI=function(e){return e.getParam("anchor_top","#top","string")},GI=function(e){return e.getParam("anchor_bottom","#bottom","string")},ZI=function(e){var t=e.getParam("file_picker_validator_handler",void 0,"function");return void 0===t?e.getParam("filepicker_validator_handler",void 0,"function"):t},UI="silver.readonly",qI=Ft([xn("readonly")]),XI=function(e,t){var n=e.outerContainer,r=n.element();t&&(e.mothership.broadcastOn([ap()],{target:r}),e.uiMothership.broadcastOn([ap()],{target:r})),e.mothership.broadcastOn([UI],{readonly:t}),e.uiMothership.broadcastOn([UI],{readonly:t})},YI=function(e,t){e.on("init",(function(){e.mode.isReadOnly()&&XI(t,!0)})),e.on("SwitchMode",(function(){return XI(t,e.mode.isReadOnly())})),dI(e)&&e.setMode("readonly")},JI=function(){var e;return ju.config({channels:(e={},e[UI]={schema:qI,onReceive:function(e,t){lI.set(e,t.readonly)}},e)})},QI=function(e){return lI.config({disabled:e,disableClass:"tox-collection__item--state-disabled"})},eA=function(e){return lI.config({disabled:e})},tA=function(e){return lI.config({disabled:e,disableClass:"tox-tbtn--disabled"})},nA=function(e){return lI.config({disabled:e,disableClass:"tox-tbtn--disabled",useNative:!1})},rA={item:QI,button:eA,splitButton:tA,toolbarButton:nA},iA=function(e,t){var n=e.getApi(t);return function(e){e(n)}},oA=function(e,t){return So((function(n){var r=iA(e,n);r((function(n){var r=e.onSetup(n);null!==r&&void 0!==r&&t.set(r)}))}))},aA=function(e,t){return _o((function(n){return iA(e,n)(t.get())}))},sA=function(e,t){return Eo((function(n,r){iA(e,n)(e.onAction),e.triggersSubmenu||t!==Pw.CLOSE_ON_EXECUTE||(oo(n,$i()),r.stop())}))},lA={"alloy.execute":["disabling","alloy.base.behaviour","toggling","item-events"]},cA=function(e){return re(e,(function(e){return e.toArray()}))},uA=function(e,t,r,i){var o=Zn(n);return{type:"item",dom:t.dom,components:cA(t.optComponents),data:e.data,eventOrder:lA,hasSubmenu:e.triggersSubmenu,itemBehaviours:Eu([py("item-events",[sA(e,r),oA(e,o),aA(e,o)]),rA.item((function(){return e.disabled||i.isReadOnly()})),JI(),fy.config({})].concat(e.itemBehaviours))}},dA=function(e){return{value:e.value,meta:p({text:e.text.getOr("")},e.meta)}},fA=tinymce.util.Tools.resolve("tinymce.Env"),hA=function(e){var t={alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"},n={meta:"Ctrl",access:"Shift+Alt"},r=fA.mac?t:n,i=e.split("+"),o=G(i,(function(e){var t=e.toLowerCase().trim();return He(r,t)?r[t]:e}));return fA.mac?o.join(""):o.join("+")},pA=function(e){return{dom:{tag:"div",classes:[Ww],innerHtml:e}}},mA=function(e){return{dom:{tag:"div",classes:[Kw]},components:[cl(Vx.translate(e))]}},gA=function(e){return{dom:{tag:"div",classes:[Kw],innerHtml:e}}},vA=function(e,t){return{dom:{tag:"div",classes:[Kw]},components:[{dom:{tag:e.tag,styles:e.styles},components:[cl(Vx.translate(t))]}]}},bA=function(e){return{dom:{tag:"div",classes:[Gw],innerHtml:hA(e)}}},yA=function(e){return{dom:{tag:"div",classes:[Uw],innerHtml:KC("checkmark",e)}}},CA=function(e){return{dom:{tag:"div",classes:[Zw],innerHtml:KC("chevron-right",e)}}},wA=function(e){return{dom:{tag:"div",classes:[Zw],innerHtml:KC("chevron-down",e)}}},xA=function(e,t,n,r){var i="custom",o="remove",a=function(){var a=Hw,s=n.getOr(""),l=e.map((function(e){return{title:r.translate(e)}})).getOr({}),c={tag:"div",attributes:l,classes:[a]};return p(p({},c),t===i?{tag:"button",classes:g(c.classes,["tox-swatches__picker-btn"]),innerHtml:s}:t===o?{classes:g(c.classes,["tox-swatch--remove"]),innerHtml:s}:{attributes:p(p({},c.attributes),{"data-mce-color":t}),styles:{"background-color":t}})};return{dom:a(),optComponents:[]}},IA=function(e,t,n,r,i){var o=n?t.or(x.some("")).map(pA):x.none(),a=e.checkMark,s=e.ariaLabel.map((function(e){return{attributes:{title:Vx.translate(e)}}})).getOr({}),l=p({tag:"div",classes:[Fw,jw].concat(i?[Xw]:[])},s),c=e.htmlContent.fold((function(){return e.textContent.map(r)}),(function(e){return x.some(gA(e))})),u={dom:l,optComponents:[o,c,e.shortcutContent.map(bA),a,e.caret]};return u},AA=["list-num-default","list-num-lower-alpha","list-num-lower-greek","list-num-lower-roman","list-num-upper-alpha","list-num-upper-roman"],kA=["list-bull-circle","list-bull-default","list-bull-square"],SA=function(e,t,n,r){void 0===r&&(r=x.none());var i=function(e){return e.map((function(e){return Vx.isRtl()&&$(AA,e)?e+"-rtl":e}))},o=Vx.isRtl()&&e.iconContent.exists((function(e){return $(kA,e)})),a=i(e.iconContent).map((function(e){return GC(e,t.icons,r)})),s=x.from(e.meta).fold((function(){return mA}),(function(e){return He(e,"style")?l(vA,e.style):mA}));return"color"===e.presets?xA(e.ariaLabel,e.value,a,t):IA(e,a,n,s,o)},_A=function(e,t){return je(e,"tooltipWorker").map((function(e){return[zx.config({lazySink:t.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:function(e){return{anchor:"submenu",item:e,overrides:{maxHeightFunction:xd}}},mode:"follow-highlight",onShow:function(t,n){e((function(e){zx.setComponents(t,[ul({element:Qn.fromDom(e)})])}))}})]})).getOr([])},TA=function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},EA=function(e){return $x.DOM.encode(e)},OA=function(e,t){var n=Vx.translate(e),r=EA(n);if(t.length>0){var i=new RegExp(TA(t),"gi");return r.replace(i,(function(e){return'<span class="tox-autocompleter-highlight">'+e+"</span>"}))}return r},RA=function(e,t,n,r,i,o,a,s){void 0===s&&(s=!0);var l=SA({presets:r,textContent:x.none(),htmlContent:n?e.text.map((function(e){return OA(e,t)})):x.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:x.none(),checkMark:x.none(),caret:x.none(),value:e.value},a.providers,s,e.icon);return uA({data:dA(e),disabled:e.disabled,getApi:function(){return{}},onAction:function(t){return i(e.value,e.meta)},onSetup:function(){return function(){}},triggersSubmenu:!1,itemBehaviours:_A(e.meta,a)},l,o,a.providers)},NA=function(e,t,n,r,i,o,a,s){void 0===s&&(s=!0);var l=function(e){return{setActive:function(t){$y.set(e,t)},isActive:function(){return $y.isOn(e)},isDisabled:function(){return lI.isDisabled(e)},setDisabled:function(t){return lI.set(e,t)}}},c=SA({presets:n,textContent:t?e.text:x.none(),htmlContent:x.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:t?e.shortcut:x.none(),checkMark:t?x.some(yA(a.icons)):x.none(),caret:x.none(),value:e.value},a,s);return Ue(uA({data:dA(e),disabled:e.disabled,getApi:l,onAction:function(t){return r(e.value)},onSetup:function(e){return e.setActive(i),function(){}},triggersSubmenu:!1,itemBehaviours:[]},c,o,a),{toggling:{toggleClass:$w,toggleOnExecute:!1,selected:e.active}})},LA=a(Tm(tC(),nC())),DA=xa("cell-over"),BA=xa("cell-execute"),MA=function(e,t,n){var r,i=function(n){return ao(n,DA,{row:e,col:t})},o=function(n){return ao(n,BA,{row:e,col:t})},a=function(e,t){t.stop(),o(e)};return fl({dom:{tag:"div",attributes:(r={role:"button"},r["aria-labelledby"]=n,r)},behaviours:Eu([py("insert-table-picker-cell",[go(Ii(),Iy.focus),go(Fi(),o),go(Oi(),a),go(Hi(),a)]),$y.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Iy.config({onFocus:i})])})},PA=function(e,t,n){for(var r=[],i=0;i<t;i++){for(var o=[],a=0;a<n;a++)o.push(MA(i,a,e));r.push(o)}return r},FA=function(e,t,n,r,i){for(var o=0;o<r;o++)for(var a=0;a<i;a++)$y.set(e[o][a],o<=t&&a<=n)},jA=function(e){return re(e,(function(e){return G(e,hl)}))},HA=function(e,t){return cl(t+1+"x"+(e+1))},zA=function(e){var t=10,n=10,r=xa("size-label"),i=PA(r,t,n),o=VC({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:r}},components:[cl("0x0")],behaviours:Eu([fy.config({})])});return{type:"widget",data:{value:xa("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[LA().widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:jA(i).concat(o.asSpec()),behaviours:Eu([py("insert-table-picker",[xo(DA,(function(e,r,a){var s=a.event().row(),l=a.event().col();FA(i,s,l,t,n),fy.set(o.get(e),[HA(s,l)])})),xo(BA,(function(t,n,r){e.onAction({numRows:r.event().row()+1,numColumns:r.event().col()+1}),oo(t,$i())}))]),ny.config({initSize:{numRows:t,numColumns:n},mode:"flatgrid",selector:'[role="button"]'})])})]}},$A=function(e){return{value:e}},VA=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,WA=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,KA=function(e){return VA.test(e)||WA.test(e)},GA=function(e){var t=e.value.replace(VA,(function(e,t,n,r){return t+t+n+n+r+r}));return{value:t}},ZA=function(e){var t=GA(e),n=WA.exec(t.value);return null===n?["FFFFFF","FF","FF","FF"]:n},UA=function(e){var t=e.toString(16);return 1===t.length?"0"+t:t},qA=function(e){var t=UA(e.red)+UA(e.green)+UA(e.blue);return $A(t)},XA=Math.min,YA=Math.max,JA=Math.round,QA=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,ek=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,tk=function(e,t,n,r){return{red:e,green:t,blue:n,alpha:r}},nk=function(e){var t=parseInt(e,10);return t.toString()===e&&t>=0&&t<=255},rk=function(e){var t,n,r,i=(e.hue||0)%360,o=e.saturation/100,a=e.value/100;if(o=YA(0,XA(o,1)),a=YA(0,XA(a,1)),0===o)return t=n=r=JA(255*a),tk(t,n,r,1);var s=i/60,l=a*o,c=l*(1-Math.abs(s%2-1)),u=a-l;switch(Math.floor(s)){case 0:t=l,n=c,r=0;break;case 1:t=c,n=l,r=0;break;case 2:t=0,n=l,r=c;break;case 3:t=0,n=c,r=l;break;case 4:t=c,n=0,r=l;break;case 5:t=l,n=0,r=c;break;default:t=n=r=0}return t=JA(255*(t+u)),n=JA(255*(n+u)),r=JA(255*(r+u)),tk(t,n,r,1)},ik=function(e){var t=ZA(e),n=parseInt(t[1],16),r=parseInt(t[2],16),i=parseInt(t[3],16);return tk(n,r,i,1)},ok=function(e,t,n,r){var i=parseInt(e,10),o=parseInt(t,10),a=parseInt(n,10),s=parseFloat(r);return tk(i,o,a,s)},ak=function(e){if("transparent"===e)return x.some(tk(0,0,0,0));var t=QA.exec(e);if(null!==t)return x.some(ok(t[1],t[2],t[3],"1"));var n=ek.exec(e);return null!==n?x.some(ok(n[1],n[2],n[3],n[4])):x.none()},sk=function(e){return"rgba("+e.red+","+e.green+","+e.blue+","+e.alpha+")"},lk=tk(255,0,0,1),ck=function(e){return e.fire("SkinLoaded")},uk=function(e,t){return e.fire("SkinLoadError",t)},dk=function(e){return e.fire("ResizeEditor")},fk=function(e,t){return e.fire("ResizeContent",t)},hk=function(e,t){return e.fire("ScrollContent",t)},pk=function(e,t){return e.fire("TextColorChange",t)},mk=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),gk="tinymce-custom-colors";function vk(e){void 0===e&&(e=10);var t=mk.getItem(gk),n=_(t)?JSON.parse(t):[],r=function(t){var n=e-t.length;return n<0?t.slice(0,e):t},i=r(n),o=function(t){z(i,t).each(a),i.unshift(t),i.length>e&&i.pop(),mk.setItem(gk,JSON.stringify(i))},a=function(e){i.splice(e,1)},s=function(){return i.slice(0)};return{add:o,state:s}}var bk="choiceitem",yk=[{type:bk,text:"Light Green",value:"#BFEDD2"},{type:bk,text:"Light Yellow",value:"#FBEEB8"},{type:bk,text:"Light Red",value:"#F8CAC6"},{type:bk,text:"Light Purple",value:"#ECCAFA"},{type:bk,text:"Light Blue",value:"#C2E0F4"},{type:bk,text:"Green",value:"#2DC26B"},{type:bk,text:"Yellow",value:"#F1C40F"},{type:bk,text:"Red",value:"#E03E2D"},{type:bk,text:"Purple",value:"#B96AD9"},{type:bk,text:"Blue",value:"#3598DB"},{type:bk,text:"Dark Turquoise",value:"#169179"},{type:bk,text:"Orange",value:"#E67E23"},{type:bk,text:"Dark Red",value:"#BA372A"},{type:bk,text:"Dark Purple",value:"#843FA1"},{type:bk,text:"Dark Blue",value:"#236FA1"},{type:bk,text:"Light Gray",value:"#ECF0F1"},{type:bk,text:"Medium Gray",value:"#CED4D9"},{type:bk,text:"Gray",value:"#95A5A6"},{type:bk,text:"Dark Gray",value:"#7E8C8D"},{type:bk,text:"Navy Blue",value:"#34495E"},{type:bk,text:"Black",value:"#000000"},{type:bk,text:"White",value:"#ffffff"}],Ck=vk(10),wk=function(e){var n=[],r=t.document.createElement("canvas");r.height=1,r.width=1;for(var i=r.getContext("2d"),o=function(e,t){var n=255,r=t/255,i=Math.round(e*r+n*(1-r));return("0"+i.toString(16)).slice(-2).toUpperCase()},a=function(e){if(/^[0-9A-Fa-f]{6}$/.test(e))return"#"+e.toUpperCase();i.clearRect(0,0,r.width,r.height),i.fillStyle="#FFFFFF",i.fillStyle=e,i.fillRect(0,0,1,1);var t=i.getImageData(0,0,1,1).data,n=t[0],a=t[1],s=t[2],l=t[3];return"#"+o(n,l)+o(a,l)+o(s,l)},s=0;s<e.length;s+=2)n.push({text:e[s+1],value:a(e[s]),type:"choiceitem"});return n},xk=function(e,t){return e.getParam("color_cols",t,"number")},Ik=function(e){return!1!==e.getParam("custom_colors")},Ak=function(e){return e.getParam("color_map")},kk=function(e){var t=Ak(e);return void 0!==t?wk(t):yk},Sk=function(){return G(Ck.state(),(function(e){return{type:bk,text:e,value:e}}))},_k=function(e){Ck.add(e)},Tk=function(e,t){var n;return e.dom.getParents(e.selection.getStart(),(function(e){var r;(r=e.style["forecolor"===t?"color":"background-color"])&&(n=n||r)})),n},Ek=function(e,t,n){e.undoManager.transact((function(){e.focus(),e.formatter.apply(t,{value:n}),e.nodeChanged()}))},Ok=function(e,t){e.undoManager.transact((function(){e.focus(),e.formatter.remove(t,{value:null},null,!0),e.nodeChanged()}))},Rk=function(e){e.addCommand("mceApplyTextcolor",(function(t,n){Ek(e,t,n)})),e.addCommand("mceRemoveTextcolor",(function(t){Ok(e,t)}))},Nk=function(e){return Math.max(5,Math.ceil(Math.sqrt(e)))},Lk=function(e){var t=kk(e),n=Nk(t.length);return xk(e,n)},Dk=function(e){var t="choiceitem",n={type:t,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"},r={type:t,text:"Custom color",icon:"color-picker",value:"custom"};return e?[n,r]:[n]},Bk=function(e,t,n,r){if("custom"===n){var i=zk(e);i((function(n){n.each((function(n){_k(n),e.execCommand("mceApplyTextcolor",t,n),r(n)}))}),"#000000")}else"remove"===n?(r(""),e.execCommand("mceRemoveTextcolor",t)):(r(n),e.execCommand("mceApplyTextcolor",t,n))},Mk=function(e,t){return e.concat(Sk().concat(Dk(t)))},Pk=function(e,t){return function(n){n(Mk(e,t))}},Fk=function(e,t,n){var r=function(t,n){e.setIconFill(t,n),e.setIconStroke(t,n)},i="forecolor"===t?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";r(i,n)},jk=function(e,t,n,r,i){e.ui.registry.addSplitButton(t,{tooltip:r,presets:"color",icon:"forecolor"===t?"text-color":"highlight-bg-color",select:function(t){var r=x.from(Tk(e,n));return r.bind((function(e){return ak(e).map((function(e){var n=qA(e).value;return Dr(t.toLowerCase(),n)}))})).getOr(!1)},columns:Lk(e),fetch:Pk(kk(e),Ik(e)),onAction:function(t){null!==i.get()&&Bk(e,n,i.get(),(function(){}))},onItemAction:function(r,o){Bk(e,n,o,(function(n){i.set(n),pk(e,{name:t,color:n})}))},onSetup:function(n){null!==i.get()&&Fk(n,t,i.get());var r=function(e){e.name===t&&Fk(n,e.name,e.color)};return e.on("TextColorChange",r),function(){e.off("TextColorChange",r)}}})},Hk=function(e,t,r,i){e.ui.registry.addNestedMenuItem(t,{text:i,icon:"forecolor"===t?"text-color":"highlight-bg-color",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"colorswatch",onAction:function(t){Bk(e,r,t.value,n)}}]}})},zk=function(e){return function(t,n){var r=function(e){return function(t){var n=t.getData();e(x.from(n.colorpicker)),t.close()}},i=function(e,t){"hex-valid"===t.name&&(t.value?e.enable("ok"):e.disable("ok"))},o={colorpicker:n},a=r(t);e.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:o,onAction:i,onSubmit:a,onClose:function(){},onCancel:function(){t(x.none())}})}},$k=function(e){Rk(e);var t=Zn(null),n=Zn(null);jk(e,"forecolor","forecolor","Text color",t),jk(e,"backcolor","hilitecolor","Background color",n),Hk(e,"forecolor","forecolor","Text color"),Hk(e,"backcolor","hilitecolor","Background color")},Vk=function(e,t,n,r,i,o,a,s){var l=ux(t),c="color"!==i?"normal":"color",u=Wk(t,n,r,c,o,a,s);return hx(e,l,u,r,i)},Wk=function(e,t,n,r,i,o,a){return ng(G(e,(function(s){return"choiceitem"===s.type?gx(s).fold(dx,(function(l){return x.some(NA(l,1===n,r,t,o(s.value),i,a,ux(e)))})):x.none()})))},Kk=function(e,t){var n=ex(t);if(1===e)return{mode:"menu",moveOnTab:!0};if("auto"===e)return{mode:"grid",selector:"."+n.item,initSize:{numColumns:1,numRows:1}};var r="color"===t?"tox-swatches__row":"tox-collection__group";return{mode:"matrix",rowSelector:"."+r}},Gk=function(e,t){return 1===e?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:"auto"===e?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:"color"===t?".tox-swatches__row":".tox-collection__group",cell:"color"===t?"."+Hw:"."+jw}}};function Zk(e,t){var n=Mk(t.colorinput.getColors(),t.colorinput.hasCustomColors()),r=t.colorinput.getColorCols(),i="color",o=Vk(xa("menu-value"),n,(function(t){e.onAction({value:t})}),r,i,Pw.CLOSE_ON_EXECUTE,(function(){return!1}),t.shared.providers),a=p(p({},o),{markers:ex(i),movement:Kk(r,i)});return{type:"widget",data:{value:xa("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[LA().widget(hC.sketch(a))]}}var Uk,qk={inserttable:zA,colorswatch:Zk},Xk=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)?x.some(e[t]):x.none()},Yk=function(e,t){return Xk(qk,e.fancytype).map((function(n){return n(e,t)}))},Jk=function(e,t,n,r){void 0===r&&(r=!0);var i=function(e){return{isDisabled:function(){return lI.isDisabled(e)},setDisabled:function(t){return lI.set(e,t)}}},o=SA({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:x.none(),ariaLabel:e.text,caret:x.none(),checkMark:x.none(),shortcutContent:e.shortcut},n,r);return uA({data:dA(e),getApi:i,disabled:e.disabled,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},o,t,n)},Qk=function(e,t,r,i,o){void 0===i&&(i=!0),void 0===o&&(o=!1);var a=o?wA(r.icons):CA(r.icons),s=function(e){return{isDisabled:function(){return lI.isDisabled(e)},setDisabled:function(t){return lI.set(e,t)}}},l=SA({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:x.none(),ariaLabel:e.text,caret:x.some(a),checkMark:x.none(),shortcutContent:e.shortcut},r,i);return uA({data:dA(e),getApi:s,disabled:e.disabled,onAction:n,onSetup:e.onSetup,triggersSubmenu:!0,itemBehaviours:[]},l,t,r)},eS=function(e){var t=e.text.fold((function(){return{}}),(function(e){return{innerHtml:e}}));return{type:"separator",dom:p({tag:"div",classes:[jw,Vw]},t),components:[]}},tS=function(e,t,n,r){void 0===r&&(r=!0);var i=function(e){return{setActive:function(t){$y.set(e,t)},isActive:function(){return $y.isOn(e)},isDisabled:function(){return lI.isDisabled(e)},setDisabled:function(t){return lI.set(e,t)}}},o=SA({iconContent:e.icon,textContent:e.text,htmlContent:x.none(),ariaLabel:e.text,checkMark:x.some(yA(n.icons)),caret:x.none(),shortcutContent:e.shortcut,presets:"normal",meta:e.meta},n,r);return Ue(uA({data:dA(e),disabled:e.disabled,getApi:i,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},o,t,n),{toggling:{toggleClass:$w,toggleOnExecute:!1,selected:e.active}})},nS=RA,rS=eS,iS=Jk,oS=Qk,aS=tS,sS=Yk;(function(e){e[e["ContentFocus"]=0]="ContentFocus",e[e["UiFocus"]=1]="UiFocus"})(Uk||(Uk={}));var lS=function(e,n,r,i,o){var a=r.shared.providers,s=function(e){return o?p(p({},e),{shortcut:x.none(),icon:e.text.isSome()?x.none():e.icon}):e};switch(e.type){case"menuitem":return wx(e).fold(dx,(function(e){return x.some(iS(s(e),n,a,i))}));case"nestedmenuitem":return Ix(e).fold(dx,(function(e){return x.some(oS(s(e),n,a,i,o))}));case"togglemenuitem":return kx(e).fold(dx,(function(e){return x.some(aS(s(e),n,a,i))}));case"separator":return Tw(e).fold(dx,(function(e){return x.some(rS(e))}));case"fancymenuitem":return yx(e).fold(dx,(function(e){return sS(s(e),r)}));default:return t.console.error("Unknown item in general menu",e),x.none()}},cS=function(e,t,n,r,i,o){var a=1===r,s=!a||ux(e);return ng(G(e,(function(e){return"separator"===e.type?Rw(e).fold(dx,(function(e){return x.some(rS(e))})):Nw(e).fold(dx,(function(e){return x.some(nS(e,t,a,"normal",n,i,o,s))}))})))},uS=function(e,t,n,r,i){var o=ux(t),a=ng(G(t,(function(e){var t=function(e){return i?!e.hasOwnProperty("text"):o},a=function(e){return lS(e,n,r,t(e),i)};return"nestedmenuitem"===e.type&&e.getSubmenuItems().length<=0?a(p(p({},e),{disabled:!0})):a(e)}))),s=i?fx:hx;return s(e,o,a,1,"normal")},dS=function(e){return kC.singleData(e.value,e)},fS=function(e,t,n,r){var i=n===Uk.ContentFocus?Qg():Jg(),o=Kk(t,r),a=ex(r);return{dom:e.dom,components:e.components,items:e.items,value:e.value,markers:{selectedItem:a.selectedItem,item:a.item},movement:o,fakeFocus:n===Uk.ContentFocus,focusManager:i,menuBehaviours:Ex.unnamedEvents("auto"!==t?[]:[So((function(e,t){Sx(e,4,a.item).each((function(t){var n=t.numColumns,r=t.numRows;ny.setGridSize(e,r,n)}))}))])}},hS=function(e,n){var r=Zn(x.none()),i=Zn(!1),o=fl(TC.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:Eu([py("dismissAutocompleter",[go(Yi(),(function(){return c()}))])]),lazySink:n.getSink})),a=function(){return TC.isOpen(o)},s=function(){return r.get().isSome()},l=function(){s()&&TC.hide(o)},c=function(){if(s()){var t=r.get().map((function(e){return e.element}));aw(t.getOr(Qn.fromDom(e.selection.getNode()))).each(na),l(),r.set(x.none()),i.set(!1)}},u=Xe((function(){return Bw(e)})),d=function(r,o){var a=fe(o,(function(e){return x.from(e.columns)})).getOr(1);return re(o,(function(o){var s=o.items;return cS(s,o.matchText,(function(n,a){var s=e.selection.getRng();hw(e.dom,s,r).fold((function(){return t.console.error("Lost context. Cursor probably moved")}),(function(e){var t=e.range,r={hide:function(){c()},reload:function(e){l(),m(e)}};i.set(!0),o.onAction(r,t,n,a),i.set(!1)}))}),a,Pw.BUBBLE_TO_SANDBOX,n)}))},f=function(t){if(!s()){var n=ow(e,t.range);r.set(x.some({triggerChar:t.triggerChar,element:n,matchLength:t.text.length})),i.set(!1)}},h=function(t,n,r,i){t.matchLength=n.text.length;var a=fe(r,(function(e){return x.from(e.columns)})).getOr(1);TC.showAt(o,{anchor:"node",root:Qn.fromDom(e.getBody()),node:x.from(t.element)},hC.sketch(fS(hx("autocompleter-value",!0,i,a,"normal"),a,Uk.ContentFocus,"normal"))),TC.getContent(o).each(Og.highlightFirst)},p=function(t){return r.get().map((function(n){return hw(e.dom,e.selection.getRng(),n.triggerChar).bind((function(n){return Sw(e,u,n,t)}))})).getOrThunk((function(){return kw(e,u)}))},m=function(e){p(e).fold(c,(function(e){f(e.context),e.lookupData.then((function(t){r.get().map((function(n){var r=e.context;if(n.triggerChar===r.triggerChar){var i=d(r.triggerChar,t);i.length>0?h(n,r,t,i):r.text.length-n.matchLength>=10?c():l()}}))}))}))},g=ew((function(e){27!==e.which&&m()}),50),v={onKeypress:g,cancelIfNecessary:c,isMenuOpen:a,isActive:s,isProcessingAction:i.get,getView:function(){return TC.getContent(o)}};mw.setup(v,e)},pS={register:hS},mS=a(!0),gS=function(e,t,n){return Dl(e,t,mS,n)},vS=function(e,t,n){return Bl(e,t,mS,n)},bS=Rl,yS=function(e,t,n){return lc(e,t,n).isSome()};function CS(e,n){var r=null,i=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];r=t.setTimeout((function(){e.apply(null,i),r=null}),n)},o=function(){null!==r&&(t.clearTimeout(r),r=null)};return{cancel:o,schedule:i}}var wS=5,xS=400,IS=function(e){var t=e.raw();return void 0===t.touches||1!==t.touches.length?x.none():x.some(t.touches[0])},AS=function(e,t){var n=Math.abs(e.clientX-t.x),r=Math.abs(e.clientY-t.y);return n>wS||r>wS},kS=function(e){var t=Zn(x.none()),n=Zn(!1),r=CS((function(t){e.triggerEvent(zi(),t),n.set(!0)}),xS),i=function(e){return IS(e).each((function(i){r.cancel();var o={x:i.clientX,y:i.clientY,target:e.target()};r.schedule(e),n.set(!1),t.set(x.some(o))})),x.none()},o=function(e){return r.cancel(),IS(e).each((function(e){t.get().each((function(n){AS(e,n)&&t.set(x.none())}))})),x.none()},a=function(i){r.cancel();var o=function(e){return ni(e.target,i.target())};return t.get().filter(o).map((function(t){return n.get()?(i.prevent(),!1):e.triggerEvent(Hi(),i)}))},s=ut([{key:mi(),value:i},{key:gi(),value:o},{key:vi(),value:a}]),l=function(e,t){return je(s,t).bind((function(t){return t(e)}))};return{fireIfReady:l}},SS=function(e){var t=e.raw();return t.which===Rg()[0]&&!$(["input","textarea"],Oo(e.target()))&&!yS(e.target(),'[contenteditable="true"]')},_S=function(){return Zr().browser.isFirefox()},TS=Pt([In("triggerEvent"),Mn("stopBackspace",!0)]),ES=function(e,t){return _S()?vS(e,"focus",t):gS(e,"focusin",t)},OS=function(e,t){return _S()?vS(e,"blur",t):gS(e,"focusout",t)},RS=function(e,n){var r=rn("Getting GUI events settings",TS,n),i=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],o=kS(r),a=G(i.concat(["selectstart","input","contextmenu","change","transitionend","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),(function(t){return gS(e,t,(function(e){o.fireIfReady(e,t).each((function(t){t&&e.kill()}));var n=r.triggerEvent(t,e);n&&e.kill()}))})),s=Zn(x.none()),l=gS(e,"paste",(function(e){o.fireIfReady(e,"paste").each((function(t){t&&e.kill()}));var n=r.triggerEvent("paste",e);n&&e.kill(),s.set(x.some(t.setTimeout((function(){r.triggerEvent(Mi(),e)}),0)))})),c=gS(e,"keydown",(function(e){var t=r.triggerEvent("keydown",e);t?e.kill():!0===r.stopBackspace&&SS(e)&&e.prevent()})),u=ES(e,(function(e){var t=r.triggerEvent("focusin",e);t&&e.kill()})),d=Zn(x.none()),f=OS(e,(function(e){var n=r.triggerEvent("focusout",e);n&&e.kill(),d.set(x.some(t.setTimeout((function(){r.triggerEvent(Bi(),e)}),0)))})),h=function(){Z(a,(function(e){e.unbind()})),c.unbind(),u.unbind(),f.unbind(),l.unbind(),s.get().each(t.clearTimeout),d.get().each(t.clearTimeout)};return{unbind:h}},NS=function(e,t){var n=je(e,"target").map((function(e){return e()})).getOr(t);return Zn(n)},LS=function(e,t){var n=Zn(!1),r=Zn(!1),i=function(){n.set(!0)},o=function(){r.set(!0)};return{stop:i,cut:o,isStopped:n.get,isCut:r.get,event:a(e),setSource:t.set,getSource:t.get}},DS=function(e){var t=Zn(!1),r=function(){t.set(!0)};return{stop:r,cut:n,isStopped:t.get,isCut:a(!1),event:a(e),setSource:u("Cannot set source of a broadcasted event"),getSource:u("Cannot get source of a broadcasted event")}},BS=Ve.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),MS=function(e,t,n,r,i,o){var a=e(t,r),s=LS(n,i);return a.fold((function(){return o.logEventNoHandlers(t,r),BS.complete()}),(function(e){var n=e.descHandler,r=ts(n);return r(s),s.isStopped()?(o.logEventStopped(t,e.element,n.purpose()),BS.stopped()):s.isCut()?(o.logEventCut(t,e.element,n.purpose()),BS.complete()):zo(e.element).fold((function(){return o.logNoParent(t,e.element,n.purpose()),BS.complete()}),(function(r){return o.logEventResponse(t,e.element,n.purpose()),BS.resume(r)}))}))},PS=function(e,t,n,r,i,o){return MS(e,t,n,r,i,o).fold((function(){return!0}),(function(r){return PS(e,t,n,r,i,o)}),(function(){return!1}))},FS=function(e,t,n,r,i){var o=NS(n,r);return MS(e,t,n,r,o,i)},jS=function(e,t,n){var r=DS(t);return Z(e,(function(e){var t=e.descHandler(),n=ts(t);n(r)})),r.isStopped()},HS=function(e,t,n,r){var i=n.target();return zS(e,t,n,i,r)},zS=function(e,t,n,r,i){var o=NS(n,r);return PS(e,t,n,r,o,i)},$S=function(e,t){return{element:e,descHandler:t}},VS=function(e,t){return{id:a(e),descHandler:a(t)}};function WS(){var e={},t=function(t,n,r){Oe(r,(function(r,i){var o=void 0!==e[i]?e[i]:{};o[n]=es(r,t),e[i]=o}))},n=function(e,t){return Ea(t).fold((function(){return x.none()}),(function(n){return e.bind((function(e){return je(e,n)})).map((function(e){return $S(t,e)}))}))},r=function(t){return je(e,t).map((function(e){return Me(e,(function(e,t){return VS(t,e)}))})).getOr([])},i=function(t,r,i){var o=je(e,r);return li(i,(function(e){return n(o,e)}),t)},o=function(t){Oe(e,(function(e,n){e.hasOwnProperty(t)&&delete e[t]}))};return{registerId:t,unregisterId:o,filterByType:r,find:i}}function KS(){var e=WS(),t={},n=function(e){var t=e.element();return Ea(t).fold((function(){return _a("uid-",e.element())}),(function(e){return e}))},r=function(e,n){var r=t[n];if(r!==e)throw new Error('The tagId "'+n+'" is already used by: '+va(r.element())+"\nCannot use it for: "+va(e.element())+"\nThe conflicting element is"+(Ps(r.element())?" ":" not ")+"already in the DOM");o(e)},i=function(i){var o=n(i);ze(t,o)&&r(i,o);var a=[i];e.registerId(a,o,i.events()),t[o]=i},o=function(n){Ea(n.element()).each((function(n){delete t[n],e.unregisterId(n)}))},a=function(t){return e.filterByType(t)},s=function(t,n,r){return e.find(t,n,r)},l=function(e){return je(t,e)};return{find:s,filter:a,register:i,unregister:o,getById:l}}var GS=function(e){var t=e.dom,n=t.attributes,r=m(t,["attributes"]);return{uid:e.uid,dom:p({tag:"div",attributes:p({role:"presentation"},n)},r),components:e.components,behaviours:Vp(e.containerBehaviours),events:e.events,domModification:e.domModification,eventOrder:e.eventOrder}},ZS=eg({name:"Container",factory:GS,configFields:[Mn("components",[]),$p("containerBehaviours",[]),Mn("events",{}),Mn("domModification",{}),Mn("eventOrder",{})]}),US=function(e){var t=function(t){return zo(e.element()).fold((function(){return!0}),(function(e){return ni(t,e)}))},r=KS(),i=function(e,n){return r.find(t,e,n)},o=RS(e.element(),{triggerEvent:function(e,t){return wc(e,t.target(),(function(n){return HS(i,e,t,n)}))}}),s={debugInfo:a("real"),triggerEvent:function(e,t,n){wc(e,t,(function(r){return zS(i,e,n,t,r)}))},triggerFocus:function(e,t){Ea(e).fold((function(){Vu(e)}),(function(r){wc(Di(),e,(function(r){return FS(i,Di(),{originator:a(t),kill:n,prevent:n,target:a(e)},e,r),!1}))}))},triggerEscape:function(e,t){s.triggerEvent("keydown",e.element(),t.event())},getByUid:function(e){return v(e)},getByDom:function(e){return b(e)},build:fl,addToGui:function(e){u(e)},removeFromGui:function(e){d(e)},addToWorld:function(e){l(e)},removeFromWorld:function(e){c(e)},broadcast:function(e){p(e)},broadcastOn:function(e,t){m(e,t)},broadcastEvent:function(e,t){g(e,t)},isConnected:a(!0)},l=function(e){e.connect(s),Do(e.element())||(r.register(e),Z(e.components(),l),s.triggerEvent(Wi(),e.element(),{target:a(e.element())}))},c=function(e){Do(e.element())||(Z(e.components(),c),r.unregister(e)),e.disconnect()},u=function(t){Rh(e,t)},d=function(e){Dh(e)},f=function(){o.unbind(),ta(e.element())},h=function(e){var t=r.filter(Pi());Z(t,(function(t){var n=t.descHandler(),r=ts(n);r(e)}))},p=function(e){h({universal:a(!0),data:a(e)})},m=function(e,t){h({universal:a(!1),channels:a(e),data:a(t)})},g=function(e,t){var n=r.filter(e);return jS(n,t)},v=function(e){return r.getById(e).fold((function(){return ge.error(new Error('Could not find component with uid: "'+e+'" in system.'))}),ge.value)},b=function(e){var t=Ea(e).getOr("not found");return v(t)};return l(e),{root:a(e),element:e.element,destroy:f,add:u,remove:d,getByUid:v,getByDom:b,addToWorld:l,removeFromWorld:c,broadcast:p,broadcastOn:m,broadcastEvent:g}},qS=function(e,t){return{dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:G(e.items,t.interpreter)}},XS=a([Mn("prefix","form-field"),$p("fieldBehaviours",[ug,zp])]),YS=a([xm({schema:[vn("dom")],name:"label"}),xm({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}}}},schema:[vn("text")],name:"aria-descriptor"}),Cm({factory:{sketch:function(e){var t=lt(e,["factory"]);return e.factory.sketch(t)}},schema:[vn("factory")],name:"field"})]),JS=function(e,t,n,r){var i=Wp(e.fieldBehaviours,[ug.config({find:function(t){return Bm(t,e,"field")}}),zp.config({store:{mode:"manual",getValue:function(e){return ug.getCurrent(e).bind(zp.getValue)},setValue:function(e,t){ug.getCurrent(e).each((function(e){zp.setValue(e,t)}))}}})]),o=fo([So((function(t,n){var r=Pm(t,e,["label","field","aria-descriptor"]);r.field().each((function(t){var n=xa(e.prefix);r.label().each((function(e){la(e.element(),"for",n),la(t.element(),"id",n)})),r["aria-descriptor"]().each((function(n){var r=xa(e.prefix);la(n.element(),"id",r),la(t.element(),"aria-describedby",r)}))}))}))]),a={getField:function(t){return Bm(t,e,"field")},getLabel:function(t){return Bm(t,e,"label")}};return{uid:e.uid,dom:e.dom,components:t,behaviours:i,events:o,apis:a}},QS=tg({name:"FormField",configFields:XS(),partFields:YS(),factory:JS,apis:{getField:function(e,t){return e.getField(t)},getLabel:function(e,t){return e.getLabel(t)}}}),e_=function(e,t){return Ua({attributes:ut([{key:t.tabAttr,value:"true"}])})},t_=Object.freeze({__proto__:null,exhibit:e_}),n_=[Mn("tabAttr","data-alloy-tabstop")],r_=Ru({fields:n_,name:"tabstopping",active:t_}),i_=function(e,t,n,r){var i=a_(e,t,n,r);return QS.sketch(i)},o_=function(e,t){return i_(e,t,[],[])},a_=function(e,t,n,r){return{dom:l_(n),components:e.toArray().concat([t]),fieldBehaviours:Eu(r)}},s_=function(){return l_([])},l_=function(e){return{tag:"div",classes:["tox-form__group"].concat(e)}},c_=function(e,t){return QS.parts().label({dom:{tag:"label",classes:["tox-label"],innerHtml:t.translate(e)}})},u_=xa("form-component-change"),d_=xa("form-close"),f_=xa("form-cancel"),h_=xa("form-action"),p_=xa("form-submit"),m_=xa("form-block"),g_=xa("form-unblock"),v_=xa("form-tabchange"),b_=xa("form-resize"),y_=function(e,t){var n=e.label.map((function(e){return c_(e,t)})),r=function(e){return function(t,n){lc(n.event().target(),"[data-collection-item-value]").each((function(r){e(t,n,r,ua(r,"data-collection-item-value"))}))}},i=function(e){return'"'===e?"&quot;":e},o=function(n,r){var o=G(r,(function(n){var r=Vx.translate(n.text),o=1===e.columns?'<div class="tox-collection__item-label">'+r+"</div>":"",a='<div class="tox-collection__item-icon">'+n.icon+"</div>",s={_:" "," - ":" ","-":" "},l=r.replace(/\_| \- |\-/g,(function(e){return s[e]})),c=t.isReadOnly()?" tox-collection__item--state-disabled":"";return'<div class="tox-collection__item'+c+'" tabindex="-1" data-collection-item-value="'+i(n.value)+'" title="'+l+'" aria-label="'+l+'">'+a+o+"</div>"})),a=e.columns>1&&"auto"!==e.columns?K(o,e.columns):[o],s=G(a,(function(e){return'<div class="tox-collection__group">'+e.join("")+"</div>"}));oa(n.element(),s.join(""))},a=r((function(n,r,i,o){r.stop(),t.isReadOnly()||ao(n,h_,{name:e.name,value:o})})),l=[go(Ii(),r((function(e,t,n){Vu(n)}))),go(Oi(),a),go(Hi(),a),go(Ai(),r((function(e,t,n){sc(e.element(),"."+qw).each((function(e){Is(e,qw)})),ws(n,qw)}))),go(ki(),r((function(e){sc(e.element(),"."+qw).each((function(e){Is(e,qw)}))}))),Eo(r((function(t,n,r,i){ao(t,h_,{name:e.name,value:i})})))],c=function(e,t){return G(Ef(e.element(),".tox-collection__item"),t)},u=QS.parts().field({dom:{tag:"div",classes:["tox-collection"].concat(1!==e.columns?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:s},behaviours:Eu([lI.config({disabled:t.isReadOnly,onDisabled:function(e){c(e,(function(e){ws(e,"tox-collection__item--state-disabled"),la(e,"aria-disabled",!0)}))},onEnabled:function(e){c(e,(function(e){Is(e,"tox-collection__item--state-disabled"),ha(e,"aria-disabled")}))}}),JI(),fy.config({}),zp.config({store:{mode:"memory",initialValue:[]},onSetValue:function(t,n){o(t,n),"auto"===e.columns&&Sx(t,5,"tox-collection__item").each((function(e){var n=e.numRows,r=e.numColumns;ny.setGridSize(t,n,r)})),oo(t,b_)}}),r_.config({}),ny.config(Gk(e.columns,"normal")),py("collection-events",l)]),eventOrder:{"alloy.execute":["disabling","alloy.base.behaviour","collection-events"]}}),d=["tox-form__group--collection"];return i_(n,u,d,[])},C_=a([Tn("data"),Mn("inputAttributes",{}),Mn("inputStyles",{}),Mn("tag","input"),Mn("inputClasses",[]),Rc("onSetValue"),Mn("styles",{}),Mn("eventOrder",{}),$p("inputBehaviours",[zp,Iy]),Mn("selectOnFocus",!0)]),w_=function(e){return Eu([Iy.config({onFocus:e.selectOnFocus?function(e){var t=e.element(),n=Js(t);t.dom().setSelectionRange(0,n.length)}:n})])},x_=function(e){return p(p({},w_(e)),Wp(e.inputBehaviours,[zp.config({store:p(p({mode:"manual"},e.data.map((function(e){return{initialValue:e}})).getOr({})),{getValue:function(e){return Js(e.element())},setValue:function(e,t){var n=Js(e.element());n!==t&&Qs(e.element(),t)}}),onSetValue:e.onSetValue})]))},I_=function(e){return{tag:e.tag,attributes:p({type:"text"},e.inputAttributes),styles:e.inputStyles,classes:e.inputClasses}},A_=function(e,t){return{uid:e.uid,dom:I_(e),components:[],behaviours:x_(e),eventOrder:e.eventOrder}},k_=eg({name:"Input",configFields:C_(),factory:A_}),S_={},__={exports:S_};(function(t,n,r,i){(function(i){if("object"===typeof n&&"undefined"!==typeof r)r.exports=i();else if("function"===typeof t&&t.amd)t([],i);else{var o;o="undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:this,o.EphoxContactWrapper=i()}})((function(){return function(){function e(t,n,r){function o(s,l){if(!n[s]){if(!t[s]){var c="function"==typeof i&&i;if(!l&&c)return c(s,!0);if(a)return a(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var d=n[s]={exports:{}};t[s][0].call(d.exports,(function(e){var n=t[s][1][e];return o(n||e)}),d,d.exports,e,t,n,r)}return n[s].exports}for(var a="function"==typeof i&&i,s=0;s<r.length;s++)o(r[s]);return o}return e}()({1:[function(e,t,n){var r,i,o=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function l(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}function c(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{return i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(function(){try{r="function"===typeof setTimeout?setTimeout:a}catch(e){r=a}try{i="function"===typeof clearTimeout?clearTimeout:s}catch(e){i=s}})();var u,d=[],f=!1,h=-1;function p(){f&&u&&(f=!1,u.length?d=u.concat(d):h=-1,d.length&&m())}function m(){if(!f){var e=l(p);f=!0;var t=d.length;while(t){u=d,d=[];while(++h<t)u&&u[h].run();h=-1,t=d.length}u=null,f=!1,c(e)}}function g(e,t){this.fun=e,this.array=t}function v(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];d.push(new g(e,t)),1!==d.length||f||l(m)},g.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],2:[function(e,t,n){(function(e){(function(n){var r=setTimeout;function i(){}function o(e,t){return function(){e.apply(t,arguments)}}function a(e){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(e,this)}function s(e,t){while(3===e._state)e=e._value;0!==e._state?(e._handled=!0,a._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(i){return void c(t.promise,i)}l(t.promise,r)}else(1===e._state?l:c)(t.promise,e._value)}))):e._deferreds.push(t)}function l(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"===typeof t||"function"===typeof t)){var n=t.then;if(t instanceof a)return e._state=3,e._value=t,void u(e);if("function"===typeof n)return void f(o(n,t),e)}e._state=1,e._value=t,u(e)}catch(r){c(e,r)}}function c(e,t){e._state=2,e._value=t,u(e)}function u(e){2===e._state&&0===e._deferreds.length&&a._immediateFn((function(){e._handled||a._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)s(e,e._deferreds[t]);e._deferreds=null}function d(e,t,n){this.onFulfilled="function"===typeof e?e:null,this.onRejected="function"===typeof t?t:null,this.promise=n}function f(e,t){var n=!1;try{e((function(e){n||(n=!0,l(t,e))}),(function(e){n||(n=!0,c(t,e))}))}catch(r){if(n)return;n=!0,c(t,r)}}a.prototype["catch"]=function(e){return this.then(null,e)},a.prototype.then=function(e,t){var n=new this.constructor(i);return s(this,new d(e,t,n)),n},a.all=function(e){var t=Array.prototype.slice.call(e);return new a((function(e,n){if(0===t.length)return e([]);var r=t.length;function i(o,a){try{if(a&&("object"===typeof a||"function"===typeof a)){var s=a.then;if("function"===typeof s)return void s.call(a,(function(e){i(o,e)}),n)}t[o]=a,0===--r&&e(t)}catch(l){n(l)}}for(var o=0;o<t.length;o++)i(o,t[o])}))},a.resolve=function(e){return e&&"object"===typeof e&&e.constructor===a?e:new a((function(t){t(e)}))},a.reject=function(e){return new a((function(t,n){n(e)}))},a.race=function(e){return new a((function(t,n){for(var r=0,i=e.length;r<i;r++)e[r].then(t,n)}))},a._immediateFn="function"===typeof e?function(t){e(t)}:function(e){r(e,0)},a._unhandledRejectionFn=function(e){"undefined"!==typeof console&&console},a._setImmediateFn=function(e){a._immediateFn=e},a._setUnhandledRejectionFn=function(e){a._unhandledRejectionFn=e},"undefined"!==typeof t&&t.exports?t.exports=a:n.Promise||(n.Promise=a)})(this)}).call(this,e("timers").setImmediate)},{timers:3}],3:[function(e,t,n){(function(t,r){var i=e("process/browser.js").nextTick,o=Function.prototype.apply,a=Array.prototype.slice,s={},l=0;function c(e,t){this._id=e,this._clearFn=t}n.setTimeout=function(){return new c(o.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new c(o.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},c.prototype.unref=c.prototype.ref=function(){},c.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n.setImmediate="function"===typeof t?t:function(e){var t=l++,r=!(arguments.length<2)&&a.call(arguments,1);return s[t]=!0,i((function(){s[t]&&(r?e.apply(null,r):e.call(null),n.clearImmediate(t))})),t},n.clearImmediate="function"===typeof r?r:function(e){delete s[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(e,t,n){var r=e("promise-polyfill"),i=function(){return"undefined"!==typeof window?window:Function("return this;")()}();t.exports={boltExport:i.Promise||r}},{"promise-polyfill":2}]},{},[4])(4)}))})(void 0,S_,__,void 0);var T_,E_=__.exports.boltExport,O_=function(e){var n=x.none(),r=[],i=function(e){return O_((function(t){o((function(n){t(e(n))}))}))},o=function(e){s()?c(e):r.push(e)},a=function(e){s()||(n=x.some(e),l(r),r=[])},s=function(){return n.isSome()},l=function(e){Z(e,c)},c=function(e){n.each((function(n){t.setTimeout((function(){e(n)}),0)}))};return e(a),{get:o,map:i,isReady:s}},R_=function(e){return O_((function(t){t(e)}))},N_={nu:O_,pure:R_},L_=function(e){t.setTimeout((function(){throw e}),0)},D_=function(e){var t=function(t){e().then(t,L_)},n=function(t){return D_((function(){return e().then(t)}))},r=function(t){return D_((function(){return e().then((function(e){return t(e).toPromise()}))}))},i=function(t){return D_((function(){return e().then((function(){return t.toPromise()}))}))},o=function(){return N_.nu(t)},a=function(){var t=null;return D_((function(){return null===t&&(t=e()),t}))},s=e;return{map:n,bind:r,anonBind:i,toLazy:o,toCached:a,toPromise:s,get:t}},B_=function(e){return D_((function(){return new E_(e)}))},M_=function(e){return D_((function(){return E_.resolve(e)}))},P_={nu:B_,pure:M_},F_=["input","textarea"],j_=function(e){var t=Oo(e);return $(F_,t)},H_=function(e,t){var n=t.getRoot(e).getOr(e.element());Is(n,t.invalidClass),t.notify.each((function(t){j_(e.element())&&la(e.element(),"aria-invalid",!1),t.getContainer(e).each((function(e){oa(e,t.validHtml)})),t.onValid(e)}))},z_=function(e,t,n,r){var i=t.getRoot(e).getOr(e.element());ws(i,t.invalidClass),t.notify.each((function(t){j_(e.element())&&la(e.element(),"aria-invalid",!0),t.getContainer(e).each((function(e){oa(e,r)})),t.onInvalid(e,r)}))},$_=function(e,t,n){return t.validator.fold((function(){return P_.pure(ge.value(!0))}),(function(t){return t.validate(e)}))},V_=function(e,t,n){return t.notify.each((function(t){t.onValidate(e)})),$_(e,t).map((function(r){return e.getSystem().isConnected()?r.fold((function(r){return z_(e,t,n,r),ge.error(r)}),(function(n){return H_(e,t),ge.value(n)})):ge.error("No longer in system")}))},W_=function(e,t){var n=t.getRoot(e).getOr(e.element());return As(n,t.invalidClass)},K_=Object.freeze({__proto__:null,markValid:H_,markInvalid:z_,query:$_,run:V_,isInvalid:W_}),G_=function(e,t){return e.validator.map((function(r){return fo([go(r.onEvent,(function(n){V_(n,e,t).get(s)}))].concat(r.validateOnLoad?[So((function(r){V_(r,e,t).get(n)}))]:[]))})).getOr({})},Z_=Object.freeze({__proto__:null,events:G_}),U_=[vn("invalidClass"),Mn("getRoot",x.none),Dn("notify",[Mn("aria","alert"),Mn("getContainer",x.none),Mn("validHtml",""),Rc("onValid"),Rc("onInvalid"),Rc("onValidate")]),Dn("validator",[vn("validate"),Mn("onEvent","input"),Mn("validateOnLoad",!0)])],q_=Ru({fields:U_,name:"invalidating",active:Z_,apis:K_,extra:{validation:function(e){return function(t){var n=zp.getValue(t);return P_.pure(e(n))}}}}),X_=function(e,t,n,r){return n.getOrCreate(e,t,r)},Y_=Object.freeze({__proto__:null,getCoupled:X_}),J_=[bn("others",Qt(ge.value,ln()))],Q_=function(){var e={},t=function(t,n,r){var i=Te(n.others);if(i)return je(e,r).getOrThunk((function(){var i=je(n.others,r).getOrDie("No information found for coupled component: "+r),o=i(t),a=t.getSystem().build(o);return e[r]=a,a}));throw new Error("Cannot find coupled component: "+r+". Known coupled components: "+JSON.stringify(i,null,2))},n=a({});return Va({readState:n,getOrCreate:t})},eT=Object.freeze({__proto__:null,init:Q_}),tT=Ru({fields:J_,name:"coupling",apis:Y_,state:eT}),nT=a("sink"),rT=a(xm({name:nT(),overrides:a({dom:{tag:"div"},behaviours:Eu([kh.config({useFixed:f})]),events:fo([Io(Si()),Io(yi()),Io(Oi())])})}));(function(e){e[e["HighlightFirst"]=0]="HighlightFirst",e[e["HighlightNone"]=1]="HighlightNone"})(T_||(T_={}));var iT=function(e,t){var n=e.getHotspot(t).getOr(t),r="hotspot",i=e.getAnchorOverrides();return e.layouts.fold((function(){return{anchor:r,hotspot:n,overrides:i}}),(function(e){return{anchor:r,hotspot:n,overrides:i,layouts:e}}))},oT=function(e,t,n){var r=e.fetch;return r(n).map(t)},aT=function(e,t,n,r,i,o,a){var s=oT(e,t,r),l=dT(r,e);return s.map((function(e){return e.bind((function(e){return x.from(kC.sketch(p(p({},o.menu()),{uid:Oa(""),data:e,highlightImmediately:a===T_.HighlightFirst,onOpenMenu:function(e,t){var r=l().getOrDie();kh.position(r,n,t),op.decloak(i)},onOpenSubmenu:function(e,t,n){var r=l().getOrDie();kh.position(r,{anchor:"submenu",item:t},n),op.decloak(i)},onRepositionMenu:function(e,t,r){var i=l().getOrDie();kh.position(i,n,t),Z(r,(function(e){kh.position(i,{anchor:"submenu",item:e.triggeringItem},e.triggeredMenu)}))},onEscape:function(){return Iy.focus(r),op.close(i),x.some(!0)}})))}))}))},sT=function(e,t,n,r,i,o,a){var s=iT(e,n),l=aT(e,t,s,n,r,i,a);return l.map((function(e){return e.fold((function(){op.isOpen(r)&&op.close(r)}),(function(e){op.cloak(r),op.open(r,e),o(r)})),r}))},lT=function(e,t,n,r,i,o,a){return op.close(r),P_.pure(r)},cT=function(e,t,n,r,i,o){var a=tT.getCoupled(n,"sandbox"),s=op.isOpen(a),l=s?lT:sT;return l(e,t,n,a,r,i,o)},uT=function(e,t,n){var r=ug.getCurrent(t).getOr(t),i=_l(e.element());n?$s(r.element(),"min-width",i+"px"):Sl(r.element(),i)},dT=function(e,t){return e.getSystem().getByUid(t.uid+"-"+nT()).map((function(e){return function(){return ge.value(e)}})).getOrThunk((function(){return t.lazySink.fold((function(){return function(){return ge.error(new Error("No internal sink is specified, nor could an external sink be found"))}}),(function(t){return function(){return t(e)}}))}))},fT=function(e){op.getState(e).each((function(e){kC.repositionMenus(e)}))},hT=function(e,t,n){var r=uc(),i=function(i,o){var a=iT(e,t);r.link(t.element()),e.matchWidth&&uT(a.hotspot,o,e.useMinWidth),e.onOpen(a,i,o),void 0!==n&&void 0!==n.onOpen&&n.onOpen(i,o)},o=function(e,i){r.unlink(t.element()),void 0!==n&&void 0!==n.onClose&&n.onClose(e,i)},a=dT(t,e);return{dom:{tag:"div",classes:e.sandboxClasses,attributes:{id:r.id,role:"listbox"}},behaviours:Kp.augment(e.sandboxBehaviours,[zp.config({store:{mode:"memory",initialValue:t}}),op.config({onOpen:i,onClose:o,isPartOf:function(e,n,r){return fc(n,r)||fc(t,r)},getAttachPoint:function(){return a().getOrDie()}}),ug.config({find:function(e){return op.getState(e).bind((function(e){return ug.getCurrent(e)}))}}),ju.config({channels:p(p({},up({isExtraPart:d})),fp({doReposition:fT}))})])}},pT=function(e){var t=tT.getCoupled(e,"sandbox");fT(t)},mT=function(){return[Mn("sandboxClasses",[]),Kp.field("sandboxBehaviours",[ug,ju,op,zp])]},gT=a([vn("dom"),vn("fetch"),Rc("onOpen"),Nc("onExecute"),Mn("getHotspot",x.some),Mn("getAnchorOverrides",a({})),Dd(),$p("dropdownBehaviours",[$y,tT,ny,Iy]),vn("toggleClass"),Mn("eventOrder",{}),Tn("lazySink"),Mn("matchWidth",!1),Mn("useMinWidth",!1),Tn("role")].concat(mT())),vT=a([wm({schema:[Tc()],name:"menu",defaults:function(e){return{onExecute:e.onExecute}}}),rT()]),bT=function(e,t,r,i){var o,a=function(t){return je(e.dom,"attributes").bind((function(e){return je(e,t)}))},s=function(e){op.getState(e).each((function(e){kC.highlightPrimary(e)}))},l=function(t){var r=s;cT(e,(function(e){return e}),t,i,r,T_.HighlightFirst).get(n)},c={expand:function(t){$y.isOn(t)||cT(e,(function(e){return e}),t,i,n,T_.HighlightNone).get(n)},open:function(t){$y.isOn(t)||cT(e,(function(e){return e}),t,i,n,T_.HighlightFirst).get(n)},isOpen:$y.isOn,close:function(t){$y.isOn(t)&&cT(e,(function(e){return e}),t,i,n,T_.HighlightFirst).get(n)},repositionMenus:function(e){$y.isOn(e)&&pT(e)}},u=function(e,t){return so(e),x.some(!0)};return{uid:e.uid,dom:e.dom,components:t,behaviours:Wp(e.dropdownBehaviours,[$y.config({toggleClass:e.toggleClass,aria:{mode:"expanded"}}),tT.config({others:{sandbox:function(t){return hT(e,t,{onOpen:function(){$y.on(t)},onClose:function(){$y.off(t)}})}}}),ny.config({mode:"special",onSpace:u,onEnter:u,onDown:function(e,t){if(yT.isOpen(e)){var n=tT.getCoupled(e,"sandbox");s(n)}else yT.open(e);return x.some(!0)},onEscape:function(e,t){return yT.isOpen(e)?(yT.close(e),x.some(!0)):x.none()}}),Iy.config({})]),events:Wy(x.some(l)),eventOrder:p(p({},e.eventOrder),(o={},o[Fi()]=["disabling","toggling","alloy.base.behaviour"],o)),apis:c,domModification:{attributes:p(p({"aria-haspopup":"true"},e.role.fold((function(){return{}}),(function(e){return{role:e}}))),"button"===e.dom.tag?{type:a("type").getOr("button")}:{})}}},yT=tg({name:"Dropdown",configFields:gT(),partFields:vT(),factory:bT,apis:{open:function(e,t){return e.open(t)},expand:function(e,t){return e.expand(t)},close:function(e,t){return e.close(t)},isOpen:function(e,t){return e.isOpen(t)},repositionMenus:function(e,t){return e.repositionMenus(t)}}}),CT=function(){return Ua({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})},wT=function(){return fo([ho(Ni(),a(!0))])},xT=Object.freeze({__proto__:null,events:wT,exhibit:CT}),IT=Ru({fields:[],name:"unselecting",active:xT}),AT=function(e,t){return yT.sketch({dom:e.dom,components:e.components,toggleClass:"mce-active",dropdownBehaviours:Eu([rA.button(t.providers.isReadOnly),JI(),IT.config({}),r_.config({})]),layouts:e.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:t.getSink,fetch:function(n){return P_.nu((function(t){return e.fetch(t)})).map((function(r){return x.from(dS(Ue(Vk(xa("menu-value"),r,(function(t){e.onItemAction(n,t)}),e.columns,e.presets,Pw.CLOSE_ON_EXECUTE,(function(){return!1}),t.providers),{movement:Kk(e.columns,e.presets)})))}))},parts:{menu:rx(!1,1,e.presets)}})},kT=xa("color-input-change"),ST=xa("color-swatch-change"),_T=xa("color-picker-cancel"),TT=function(e,t,n){var r=QS.parts().field({factory:k_,inputClasses:["tox-textfield"],onSetValue:function(e){return q_.run(e).get((function(){}))},inputBehaviours:Eu([lI.config({disabled:t.providers.isReadOnly}),JI(),r_.config({}),q_.config({invalidClass:"tox-textbox-field-invalid",getRoot:function(e){return zo(e.element())},notify:{onValid:function(e){var t=zp.getValue(e);ao(e,kT,{color:t})}},validator:{validateOnLoad:!1,validate:function(e){var t=zp.getValue(e);if(0===t.length)return P_.pure(ge.value(!0));var n=Qn.fromTag("span");$s(n,"background-color",t);var r=Zs(n,"background-color").fold((function(){return ge.error("blah")}),(function(e){return ge.value(t)}));return P_.pure(r)}}})]),selectOnFocus:!1}),i=e.label.map((function(e){return c_(e,t.providers)})),o=function(e,t){ao(e,ST,{value:t})},a=function(e,t){s.getOpt(e).each((function(e){"custom"===t?n.colorPicker((function(t){t.fold((function(){return oo(e,_T)}),(function(t){o(e,t),_k(t)}))}),"#ffffff"):o(e,"remove"===t?"":t)}))},s=VC(AT({dom:{tag:"span",attributes:{"aria-label":t.providers.translate("Color swatch")}},layouts:{onRtl:function(){return[cu,lu,hu]},onLtr:function(){return[lu,cu,hu]}},components:[],fetch:Pk(n.getColors(),n.hasCustomColors()),columns:n.getColorCols(),presets:"color",onItemAction:a},t));return QS.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:i.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[r,s.asSpec()]}]),fieldBehaviours:Eu([py("form-field-events",[go(kT,(function(t,n){s.getOpt(t).each((function(e){$s(e.element(),"background-color",n.event().color())})),ao(t,u_,{name:e.name})})),go(ST,(function(e,t){QS.getField(e).each((function(n){zp.setValue(n,t.event().value()),ug.getCurrent(e).each(Iy.focus)}))})),go(_T,(function(e,t){QS.getField(e).each((function(t){ug.getCurrent(e).each(Iy.focus)}))}))])])})},ET=function(e,t,n){return{hue:e,saturation:t,value:n}},OT=function(e){var t=0,n=0,r=0,i=e.red/255,o=e.green/255,a=e.blue/255,s=Math.min(i,Math.min(o,a)),l=Math.max(i,Math.max(o,a));if(s===l)return r=s,ET(0,0,100*r);var c=i===s?o-a:a===s?i-o:a-i;return t=i===s?3:a===s?1:5,t=60*(t-c/(l-s)),n=(l-s)/l,r=l,ET(Math.round(t),Math.round(100*n),Math.round(100*r))},RT=function(e){var t=(100-e)/100*360,n=ET(t,100,100),r=rk(n);return qA(r)},NT=xa("rgb-hex-update"),LT=xa("slider-update"),DT=xa("palette-update"),BT=xm({schema:[vn("dom")],name:"label"}),MT=function(e){return xm({name:e+"-edge",overrides:function(t){var n=t.model.manager.edgeActions[e];return n.fold((function(){return{}}),(function(e){return{events:fo([vo(mi(),(function(t,n,r){return e(t,r)}),[t]),vo(yi(),(function(t,n,r){return e(t,r)}),[t]),vo(Ci(),(function(t,n,r){r.mouseIsDown.get()&&e(t,r)}),[t])])}}))}})},PT=MT("top-left"),FT=MT("top"),jT=MT("top-right"),HT=MT("right"),zT=MT("bottom-right"),$T=MT("bottom"),VT=MT("bottom-left"),WT=MT("left"),KT=Cm({name:"thumb",defaults:a({dom:{styles:{position:"absolute"}}}),overrides:function(e){return{events:fo([wo(mi(),e,"spectrum"),wo(gi(),e,"spectrum"),wo(vi(),e,"spectrum"),wo(yi(),e,"spectrum"),wo(Ci(),e,"spectrum"),wo(xi(),e,"spectrum")])}}}),GT=Cm({schema:[Gn("mouseIsDown",(function(){return Zn(!1)}))],name:"spectrum",overrides:function(e){var t=e.model,n=t.manager,r=function(t,r){return n.getValueFromEvent(r).map((function(r){return n.setValueFrom(t,e,r)}))};return{behaviours:Eu([ny.config({mode:"special",onLeft:function(t){return n.onLeft(t,e)},onRight:function(t){return n.onRight(t,e)},onUp:function(t){return n.onUp(t,e)},onDown:function(t){return n.onDown(t,e)}}),Iy.config({})]),events:fo([go(mi(),r),go(gi(),r),go(yi(),r),go(Ci(),(function(t,n){e.mouseIsDown.get()&&r(t,n)}))])}}}),ZT=[BT,WT,HT,FT,$T,PT,jT,VT,zT,KT,GT],UT="slider.change.value",qT=a(UT),XT=function(e){return-1!==e.type.indexOf("touch")},YT=function(e){var t=e.event().raw();if(XT(t)){var n=t;return void 0!==n.touches&&1===n.touches.length?x.some(n.touches[0]).map((function(e){return Cl(e.clientX,e.clientY)})):x.none()}var r=t;return void 0!==r.clientX?x.some(r).map((function(e){return Cl(e.clientX,e.clientY)})):x.none()},JT="top",QT="right",eE="bottom",tE="left",nE=function(e){return e.model.minX},rE=function(e){return e.model.minY},iE=function(e){return e.model.minX-1},oE=function(e){return e.model.minY-1},aE=function(e){return e.model.maxX},sE=function(e){return e.model.maxY},lE=function(e){return e.model.maxX+1},cE=function(e){return e.model.maxY+1},uE=function(e,t,n){return t(e)-n(e)},dE=function(e){return uE(e,aE,nE)},fE=function(e){return uE(e,sE,rE)},hE=function(e){return dE(e)/2},pE=function(e){return fE(e)/2},mE=function(e){return e.stepSize},gE=function(e){return e.snapToGrid},vE=function(e){return e.snapStart},bE=function(e){return e.rounded},yE=function(e,t){return void 0!==e[t+"-edge"]},CE=function(e){return yE(e,tE)},wE=function(e){return yE(e,QT)},xE=function(e){return yE(e,JT)},IE=function(e){return yE(e,eE)},AE=function(e){return e.model.value.get()},kE=function(e){return{x:a(e)}},SE=function(e){return{y:a(e)}},_E=function(e,t){return{x:a(e),y:a(t)}},TE=function(e,t){ao(e,qT(),{value:t})},EE=function(e,t){TE(e,_E(iE(t),oE(t)))},OE=function(e,t){TE(e,SE(oE(t)))},RE=function(e,t){TE(e,_E(hE(t),oE(t)))},NE=function(e,t){TE(e,_E(lE(t),oE(t)))},LE=function(e,t){TE(e,kE(lE(t)))},DE=function(e,t){TE(e,_E(lE(t),pE(t)))},BE=function(e,t){TE(e,_E(lE(t),cE(t)))},ME=function(e,t){TE(e,SE(cE(t)))},PE=function(e,t){TE(e,_E(hE(t),cE(t)))},FE=function(e,t){TE(e,_E(iE(t),cE(t)))},jE=function(e,t){TE(e,kE(iE(t)))},HE=function(e,t){TE(e,_E(iE(t),pE(t)))},zE=function(e,t,n,r){return e<t?e:e>n?n:e===t?t-1:Math.max(t,e-r)},$E=function(e,t,n,r){return e>n?e:e<t?t:e===n?n+1:Math.min(n,e+r)},VE=function(e,t,n){return Math.max(t,Math.min(n,e))},WE=function(e,t,n,r,i){return i.fold((function(){var i=e-t,o=Math.round(i/r)*r;return VE(t+o,t-1,n+1)}),(function(t){var i=(e-t)%r,o=Math.round(i/r),a=Math.floor((e-t)/r),s=Math.floor((n-t)/r),l=Math.min(s,a+o),c=t+l*r;return Math.max(t,c)}))},KE=function(e,t,n){return Math.min(n,Math.max(e,t))-t},GE=function(e){var t=e.min,n=e.max,r=e.range,i=e.value,o=e.step,a=e.snap,s=e.snapStart,l=e.rounded,c=e.hasMinEdge,u=e.hasMaxEdge,d=e.minBound,f=e.maxBound,h=e.screenRange,p=c?t-1:t,m=u?n+1:n;if(i<d)return p;if(i>f)return m;var g=KE(i,d,f),v=VE(g/h*r+t,p,m);return a&&v>=t&&v<=n?WE(v,t,n,o,s):l?Math.round(v):v},ZE=function(e){var t=e.min,n=e.max,r=e.range,i=e.value,o=e.hasMinEdge,a=e.hasMaxEdge,s=e.maxBound,l=e.maxOffset,c=e.centerMinEdge,u=e.centerMaxEdge;return i<t?o?0:c:i>n?a?s:u:(i-t)/r*l},UE="top",qE="right",XE="bottom",YE="left",JE="width",QE="height",eO=function(e){return e.element().dom().getBoundingClientRect()},tO=function(e,t){return e[t]},nO=function(e){var t=eO(e);return tO(t,YE)},rO=function(e){var t=eO(e);return tO(t,qE)},iO=function(e){var t=eO(e);return tO(t,UE)},oO=function(e){var t=eO(e);return tO(t,XE)},aO=function(e){var t=eO(e);return tO(t,JE)},sO=function(e){var t=eO(e);return tO(t,QE)},lO=function(e,t,n){return(e+t)/2-n},cO=function(e,t){var n=eO(e),r=eO(t),i=tO(n,YE),o=tO(n,qE),a=tO(r,YE);return lO(i,o,a)},uO=function(e,t){var n=eO(e),r=eO(t),i=tO(n,UE),o=tO(n,XE),a=tO(r,UE);return lO(i,o,a)},dO=function(e,t){ao(e,qT(),{value:t})},fO=function(e){return{x:a(e)}},hO=function(e,t,n){var r={min:nE(t),max:aE(t),range:dE(t),value:n,step:mE(t),snap:gE(t),snapStart:vE(t),rounded:bE(t),hasMinEdge:CE(t),hasMaxEdge:wE(t),minBound:nO(e),maxBound:rO(e),screenRange:aO(e)};return GE(r)},pO=function(e,t,n){var r=hO(e,t,n),i=fO(r);return dO(e,i),r},mO=function(e,t){var n=nE(t);dO(e,fO(n))},gO=function(e,t){var n=aE(t);dO(e,fO(n))},vO=function(e,t,n){var r=e>0?$E:zE,i=r(AE(n).x(),nE(n),aE(n),mE(n));return dO(t,fO(i)),x.some(i)},bO=function(e){return function(t,n){return vO(e,t,n).map((function(){return!0}))}},yO=function(e){var t=YT(e);return t.map((function(e){return e.left()}))},CO=function(e,t,n,r,i){var o=0,a=aO(e),s=r.bind((function(t){return x.some(cO(t,e))})).getOr(o),l=i.bind((function(t){return x.some(cO(t,e))})).getOr(a),c={min:nE(t),max:aE(t),range:dE(t),value:n,hasMinEdge:CE(t),hasMaxEdge:wE(t),minBound:nO(e),minOffset:o,maxBound:rO(e),maxOffset:a,centerMinEdge:s,centerMaxEdge:l};return ZE(c)},wO=function(e,t,n,r,i,o){var a=CO(t,o,n,r,i);return nO(t)-nO(e)+a},xO=function(e,t,n,r){var i=AE(n),o=wO(e,r.getSpectrum(e),i.x(),r.getLeftEdge(e),r.getRightEdge(e),n),a=_l(t.element())/2;$s(t.element(),"left",o-a+"px")},IO=bO(-1),AO=bO(1),kO=x.none,SO=x.none,_O={"top-left":x.none(),top:x.none(),"top-right":x.none(),right:x.some(LE),"bottom-right":x.none(),bottom:x.none(),"bottom-left":x.none(),left:x.some(jE)},TO=Object.freeze({__proto__:null,setValueFrom:pO,setToMin:mO,setToMax:gO,findValueOfOffset:hO,getValueFromEvent:yO,findPositionOfValue:wO,setPositionFromValue:xO,onLeft:IO,onRight:AO,onUp:kO,onDown:SO,edgeActions:_O}),EO=function(e,t){ao(e,qT(),{value:t})},OO=function(e){return{y:a(e)}},RO=function(e,t,n){var r={min:rE(t),max:sE(t),range:fE(t),value:n,step:mE(t),snap:gE(t),snapStart:vE(t),rounded:bE(t),hasMinEdge:xE(t),hasMaxEdge:IE(t),minBound:iO(e),maxBound:oO(e),screenRange:sO(e)};return GE(r)},NO=function(e,t,n){var r=RO(e,t,n),i=OO(r);return EO(e,i),r},LO=function(e,t){var n=rE(t);EO(e,OO(n))},DO=function(e,t){var n=sE(t);EO(e,OO(n))},BO=function(e,t,n){var r=e>0?$E:zE,i=r(AE(n).y(),rE(n),sE(n),mE(n));return EO(t,OO(i)),x.some(i)},MO=function(e){return function(t,n){return BO(e,t,n).map((function(){return!0}))}},PO=function(e){var t=YT(e);return t.map((function(e){return e.top()}))},FO=function(e,t,n,r,i){var o=0,a=sO(e),s=r.bind((function(t){return x.some(uO(t,e))})).getOr(o),l=i.bind((function(t){return x.some(uO(t,e))})).getOr(a),c={min:rE(t),max:sE(t),range:fE(t),value:n,hasMinEdge:xE(t),hasMaxEdge:IE(t),minBound:iO(e),minOffset:o,maxBound:oO(e),maxOffset:a,centerMinEdge:s,centerMaxEdge:l};return ZE(c)},jO=function(e,t,n,r,i,o){var a=FO(t,o,n,r,i);return iO(t)-iO(e)+a},HO=function(e,t,n,r){var i=AE(n),o=jO(e,r.getSpectrum(e),i.y(),r.getTopEdge(e),r.getBottomEdge(e),n),a=gl(t.element())/2;$s(t.element(),"top",o-a+"px")},zO=x.none,$O=x.none,VO=MO(-1),WO=MO(1),KO={"top-left":x.none(),top:x.some(OE),"top-right":x.none(),right:x.none(),"bottom-right":x.none(),bottom:x.some(ME),"bottom-left":x.none(),left:x.none()},GO=Object.freeze({__proto__:null,setValueFrom:NO,setToMin:LO,setToMax:DO,findValueOfOffset:RO,getValueFromEvent:PO,findPositionOfValue:jO,setPositionFromValue:HO,onLeft:zO,onRight:$O,onUp:VO,onDown:WO,edgeActions:KO}),ZO=function(e,t){ao(e,qT(),{value:t})},UO=function(e,t){return{x:a(e),y:a(t)}},qO=function(e,t,n){var r=hO(e,t,n.left()),i=RO(e,t,n.top()),o=UO(r,i);return ZO(e,o),o},XO=function(e,t,n,r){var i=e>0?$E:zE,o=t?AE(r).x():i(AE(r).x(),nE(r),aE(r),mE(r)),a=t?i(AE(r).y(),rE(r),sE(r),mE(r)):AE(r).y();return ZO(n,UO(o,a)),x.some(o)},YO=function(e,t){return function(n,r){return XO(e,t,n,r).map((function(){return!0}))}},JO=function(e,t){var n=nE(t),r=rE(t);ZO(e,UO(n,r))},QO=function(e,t){var n=aE(t),r=sE(t);ZO(e,UO(n,r))},eR=function(e){return YT(e)},tR=function(e,t,n,r){var i=AE(n),o=wO(e,r.getSpectrum(e),i.x(),r.getLeftEdge(e),r.getRightEdge(e),n),a=jO(e,r.getSpectrum(e),i.y(),r.getTopEdge(e),r.getBottomEdge(e),n),s=_l(t.element())/2,l=gl(t.element())/2;$s(t.element(),"left",o-s+"px"),$s(t.element(),"top",a-l+"px")},nR=YO(-1,!1),rR=YO(1,!1),iR=YO(-1,!0),oR=YO(1,!0),aR={"top-left":x.some(EE),top:x.some(RE),"top-right":x.some(NE),right:x.some(DE),"bottom-right":x.some(BE),bottom:x.some(PE),"bottom-left":x.some(FE),left:x.some(HE)},sR=Object.freeze({__proto__:null,setValueFrom:qO,setToMin:JO,setToMax:QO,getValueFromEvent:eR,setPositionFromValue:tR,onLeft:nR,onRight:rR,onUp:iR,onDown:oR,edgeActions:aR}),lR=[Mn("stepSize",1),Mn("onChange",n),Mn("onChoose",n),Mn("onInit",n),Mn("onDragStart",n),Mn("onDragEnd",n),Mn("snapToGrid",!1),Mn("rounded",!0),Tn("snapStart"),bn("model",sn("mode",{x:[Mn("minX",0),Mn("maxX",100),Gn("value",(function(e){return Zn(e.mode.minX)})),vn("getInitialValue"),Bc("manager",TO)],y:[Mn("minY",0),Mn("maxY",100),Gn("value",(function(e){return Zn(e.mode.minY)})),vn("getInitialValue"),Bc("manager",GO)],xy:[Mn("minX",0),Mn("maxX",100),Mn("minY",0),Mn("maxY",100),Gn("value",(function(e){return Zn({x:a(e.mode.minX),y:a(e.mode.minY)})})),vn("getInitialValue"),Bc("manager",sR)]})),$p("sliderBehaviours",[ny,zp]),Gn("mouseIsDown",(function(){return Zn(!1)}))],cR=function(e,t,n,r){var i,o=function(t){return Mm(t,e,"thumb")},s=function(t){return Mm(t,e,"spectrum")},l=function(t){return Bm(t,e,"left-edge")},c=function(t){return Bm(t,e,"right-edge")},u=function(t){return Bm(t,e,"top-edge")},d=function(t){return Bm(t,e,"bottom-edge")},f=e.model,h=f.manager,p=function(t,n){h.setPositionFromValue(t,n,e,{getLeftEdge:l,getRightEdge:c,getTopEdge:u,getBottomEdge:d,getSpectrum:s})},m=function(t,n){f.value.set(n);var r=o(t);return p(t,r),e.onChange(t,r,n),x.some(!0)},g=function(t){h.setToMin(t,e)},v=function(t){h.setToMax(t,e)},b=function(t){var n=function(){Bm(t,e,"thumb").each((function(n){var r=f.value.get();e.onChoose(t,n,r)}))},r=e.mouseIsDown.get();e.mouseIsDown.set(!1),r&&n()},y=function(t,n){n.stop(),e.mouseIsDown.set(!0),e.onDragStart(t,o(t))},C=function(t,n){n.stop(),e.onDragEnd(t,o(t)),b(t)};return{uid:e.uid,dom:e.dom,components:t,behaviours:Wp(e.sliderBehaviours,[ny.config({mode:"special",focusIn:function(t){return Bm(t,e,"spectrum").map(ny.focusIn).map(a(!0))}}),zp.config({store:{mode:"manual",getValue:function(e){return f.value.get()}}}),ju.config({channels:(i={},i[lp()]={onReceive:b},i)})]),events:fo([go(qT(),(function(e,t){m(e,t.event().value())})),So((function(t,n){var r=f.getInitialValue();f.value.set(r);var i=o(t);p(t,i);var a=s(t);e.onInit(t,i,a,f.value.get())})),go(mi(),y),go(vi(),C),go(yi(),y),go(xi(),C)]),apis:{resetToMin:g,resetToMax:v,changeValue:m,refresh:p},domModification:{styles:{position:"relative"}}}},uR=tg({name:"Slider",configFields:lR,partFields:ZT,factory:cR,apis:{resetToMin:function(e,t){e.resetToMin(t)},resetToMax:function(e,t){e.resetToMax(t)},refresh:function(e,t){e.refresh(t)}}}),dR=function(e,t){var n=uR.parts().spectrum({dom:{tag:"div",classes:[t("hue-slider-spectrum")],attributes:{role:"presentation"}}}),r=uR.parts().thumb({dom:{tag:"div",classes:[t("hue-slider-thumb")],attributes:{role:"presentation"}}});return uR.sketch({dom:{tag:"div",classes:[t("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:a({y:a(0)})},components:[n,r],sliderBehaviours:Eu([Iy.config({})]),onChange:function(e,t,n){ao(e,LT,{value:n})}})},fR="form",hR=[$p("formBehaviours",[zp])],pR=function(e){return"<alloy.field."+e+">"},mR=function(e){var t=function(){var e=[],t=function(t,n){return e.push(t),Om(fR,pR(t),n)};return{field:t,record:function(){return e}}}(),n=e(t),r=t.record(),i=G(r,(function(e){return Cm({name:e,pname:pR(e)})}));return Zm(fR,hR,i,vR,n)},gR=function(e,t){return e.fold((function(){return ge.error(t)}),ge.value)},vR=function(e,t){return{uid:e.uid,dom:e.dom,components:t,behaviours:Wp(e.formBehaviours,[zp.config({store:{mode:"manual",getValue:function(t){var n=Fm(t,e);return Re(n,(function(e,t){return e().bind((function(e){var n=ug.getCurrent(e);return gR(n,new Error("Cannot find a current component to extract the value from for form part '"+t+"': "+va(e.element())))})).map(zp.getValue)}))},setValue:function(t,n){Oe(n,(function(n,r){Bm(t,e,r).each((function(e){ug.getCurrent(e).each((function(e){zp.setValue(e,n)}))}))}))}}})]),apis:{getField:function(t,n){return Bm(t,e,n).bind(ug.getCurrent)}}}},bR={getField:za((function(e,t,n){return e.getField(t,n)})),sketch:mR},yR=xa("valid-input"),CR=xa("invalid-input"),wR=xa("validating-input"),xR="colorcustom.rgb.",IR=function(e,t,r,i){var o=function(n,r){return q_.config({invalidClass:t("invalid"),notify:{onValidate:function(e){ao(e,wR,{type:n})},onValid:function(e){ao(e,yR,{type:n,value:zp.getValue(e)})},onInvalid:function(e){ao(e,CR,{type:n,value:zp.getValue(e)})}},validator:{validate:function(t){var n=zp.getValue(t),i=r(n)?ge.value(!0):ge.error(e("aria.input.invalid"));return P_.pure(i)},validateOnLoad:!1}})},a=function(r,i,a,s,l){var c=e(xR+"range"),u=QS.parts().label({dom:{tag:"label",innerHtml:a,attributes:{"aria-label":s}}}),d=QS.parts().field({data:l,factory:k_,inputAttributes:p({type:"text"},"hex"===i?{"aria-live":"polite"}:{}),inputClasses:[t("textfield")],inputBehaviours:Eu([o(i,r),r_.config({})]),onSetValue:function(e){if(q_.isInvalid(e)){var t=q_.run(e);t.get(n)}}}),f=[u,d],h="hex"!==i?[QS.parts()["aria-descriptor"]({text:c})]:[],m=f.concat(h);return{dom:{tag:"div",attributes:{role:"presentation"}},components:m}},s=function(e,t){var n=qA(t);return bR.getField(e,"hex").each((function(t){Iy.isFocused(t)||zp.setValue(e,{hex:n.value})})),n},l=function(e,t){var n=t.red,r=t.green,i=t.blue;zp.setValue(e,{red:n,green:r,blue:i})},c=VC({dom:{tag:"div",classes:[t("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),u=function(e,t){c.getOpt(e).each((function(e){$s(e.element(),"background-color","#"+t.value)}))},d=function(){var n={red:Zn(x.some(255)),green:Zn(x.some(255)),blue:Zn(x.some(255)),hex:Zn(x.some("ffffff"))},o=function(e,t){var n=ik(t);l(e,n),p(n)},d=function(e){return n[e].get()},f=function(e,t){n[e].set(t)},h=function(){return d("red").bind((function(e){return d("green").bind((function(t){return d("blue").map((function(n){return tk(e,t,n,1)}))}))}))},p=function(e){var t=e.red,n=e.green,r=e.blue;f("red",x.some(t)),f("green",x.some(n)),f("blue",x.some(r))},m=function(e,t){var n=t.event();"hex"!==n.type()?f(n.type(),x.none()):i(e)},g=function(e,t){r(e);var n=$A(t);f("hex",x.some(t));var i=ik(n);l(e,i),p(i),ao(e,NT,{hex:n}),u(e,n)},v=function(e,t,n){var r=parseInt(n,10);f(t,x.some(r)),h().each((function(t){var n=s(e,t);u(e,n)}))},b=function(e){return"hex"===e.type()},y=function(e,t){var n=t.event();b(n)?g(e,n.value()):v(e,n.type(),n.value())},C=function(t){return{label:e(xR+t+".label"),description:e(xR+t+".description")}},w=C("red"),I=C("green"),A=C("blue"),k=C("hex");return Ue(bR.sketch((function(n){return{dom:{tag:"form",classes:[t("rgb-form")],attributes:{"aria-label":e("aria.color.picker")}},components:[n.field("red",QS.sketch(a(nk,"red",w.label,w.description,255))),n.field("green",QS.sketch(a(nk,"green",I.label,I.description,255))),n.field("blue",QS.sketch(a(nk,"blue",A.label,A.description,255))),n.field("hex",QS.sketch(a(KA,"hex",k.label,k.description,"ffffff"))),c.asSpec()],formBehaviours:Eu([q_.config({invalidClass:t("form-invalid")}),py("rgb-form-events",[go(yR,y),go(CR,m),go(wR,m)])])}})),{apis:{updateHex:function(e,t){zp.setValue(e,{hex:t.value}),o(e,t),u(e,t)}}})},f=eg({factory:d,name:"RgbForm",configFields:[],apis:{updateHex:function(e,t,n){e.updateHex(t,n)}},extraApis:{}});return f},AR=function(e,t){var n=uR.parts().spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[t("sv-palette-spectrum")]}}),r=uR.parts().thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette-thumb")],innerHtml:"<div class="+t("sv-palette-inner-thumb")+' role="presentation"></div>'}}),i=function(e,t){var n=e.width,r=e.height,i=e.getContext("2d");if(null!==i){i.fillStyle=t,i.fillRect(0,0,n,r);var o=i.createLinearGradient(0,0,n,0);o.addColorStop(0,"rgba(255,255,255,1)"),o.addColorStop(1,"rgba(255,255,255,0)"),i.fillStyle=o,i.fillRect(0,0,n,r);var a=i.createLinearGradient(0,0,0,r);a.addColorStop(0,"rgba(0,0,0,0)"),a.addColorStop(1,"rgba(0,0,0,1)"),i.fillStyle=a,i.fillRect(0,0,n,r)}},o=function(e,t){var n=e.components()[0].element().dom();i(n,sk(t))},s=function(e){var o=a({x:a(0),y:a(0)}),s=function(e,t,n){ao(e,DT,{value:n})},l=function(e,t,n,r){i(n.element().dom(),sk(lk))},c=Eu([ug.config({find:x.some}),Iy.config({})]);return uR.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette")]},model:{mode:"xy",getInitialValue:o},rounded:!1,components:[n,r],onChange:s,onInit:l,sliderBehaviours:c})},l=eg({factory:s,name:"SaturationBrightnessPalette",configFields:[],apis:{setRgba:function(e,t,n){o(t,n)}},extraApis:{}});return l},kR=function(e,t){var r=function(n){var r=IR(e,t,n.onValidHex,n.onInvalidHex),i=AR(e,t),o={paletteRgba:Zn(lk)},a=VC(i.sketch({})),s=VC(r.sketch({})),l=function(e,t){a.getOpt(e).each((function(e){var n=ik(t);o.paletteRgba.set(n),i.setRgba(e,n)}))},c=function(e,t){s.getOpt(e).each((function(e){r.updateHex(e,t)}))},u=function(e,t,n){Z(n,(function(n){n(e,t)}))},d=function(){var e=[c];return function(t,n){var r=n.event().value(),i=o.paletteRgba.get(),a=OT(i),s=ET(a.hue,r.x(),100-r.y()),l=rk(s),c=qA(l);u(t,c,e)}},f=function(){var e=[l,c];return function(t,n){var r=n.event().value(),i=RT(r.y());u(t,i,e)}};return{uid:n.uid,dom:n.dom,components:[a.asSpec(),dR(e,t),s.asSpec()],behaviours:Eu([py("colour-picker-events",[go(DT,d()),go(LT,f())]),ug.config({find:function(e){return s.getOpt(e)}}),ny.config({mode:"acyclic"})])}},i=eg({name:"ColourPicker",configFields:[vn("dom"),Mn("onValidHex",n),Mn("onInvalidHex",n)],factory:r});return i},SR=function(){return ug.config({find:x.some})},_R=function(e){return ug.config({find:e.getOpt})},TR=function(e){return ug.config({find:function(t){return Ko(t.element(),e).bind((function(e){return t.getSystem().getByDom(e).toOption()}))}})},ER={self:SR,memento:_R,childAt:TR},OR={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.sb.saturation":"Saturation","colorcustom.sb.brightness":"Brightness","colorcustom.sb.picker":"Saturation and Brightness Picker","colorcustom.sb.palette":"Saturation and Brightness Palette","colorcustom.sb.instructions":"Use arrow keys to select saturation and brightness, on x and y axes","colorcustom.hue.hue":"Hue","colorcustom.hue.slider":"Hue Slider","colorcustom.hue.palette":"Hue Palette","colorcustom.hue.instructions":"Use arrow keys to select a hue","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},RR=function(e){return OR[e]},NR=function(e){return RR(e)},LR=function(e){var n=function(e){return"tox-"+e},r=kR(NR,n),i=function(e){ao(e,h_,{name:"hex-valid",value:!0})},o=function(e){ao(e,h_,{name:"hex-valid",value:!1})},a=VC(r.sketch({dom:{tag:"div",classes:[n("color-picker-container")],attributes:{role:"presentation"}},onValidHex:i,onInvalidHex:o}));return{dom:{tag:"div"},components:[a.asSpec()],behaviours:Eu([zp.config({store:{mode:"manual",getValue:function(e){var t=a.get(e),n=ug.getCurrent(t),r=n.bind((function(e){var t=zp.getValue(e);return t.hex}));return r.map((function(e){return"#"+e})).getOr("")},setValue:function(e,n){var r=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,i=r.exec(n),o=a.get(e),s=ug.getCurrent(o);s.fold((function(){t.console.log("Can not find form")}),(function(e){zp.setValue(e,{hex:x.from(i[1]).getOr("")}),bR.getField(e,"hex").each((function(e){oo(e,Ti())}))}))}}}),ER.self()])}},DR=tinymce.util.Tools.resolve("tinymce.Resource"),BR=function(e){return Object.prototype.hasOwnProperty.call(e,"init")},MR=function(e){var t=Zn(x.none()),n=VC({dom:{tag:e.tag}}),r=Zn(x.none());return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Eu([py("editor-foo-events",[So((function(i){n.getOpt(i).each((function(n){(BR(e)?e.init(n.element().dom()):DR.load(e.scriptId,e.scriptUrl).then((function(t){return t(n.element().dom(),e.settings)}))).then((function(e){r.get().each((function(t){e.setValue(t)})),r.set(x.none()),t.set(x.some(e))}))}))}))]),zp.config({store:{mode:"manual",getValue:function(){return t.get().fold((function(){return r.get().getOr("")}),(function(e){return e.getValue()}))},setValue:function(e,n){t.get().fold((function(){r.set(x.some(n))}),(function(e){return e.setValue(n)}))}}}),ER.self()]),components:[n.asSpec()]}},PR=Ft([Mn("preprocess",s),Mn("postprocess",s)]),FR=function(e,t){var n=rn("RepresentingConfigs.memento processors",PR,t);return zp.config({store:{mode:"manual",getValue:function(t){var r=e.get(t),i=zp.getValue(r);return n.postprocess(i)},setValue:function(t,r){var i=n.preprocess(r),o=e.get(t);zp.setValue(o,i)}}})},jR=function(e,t,n){return zp.config(Ue({store:{mode:"manual",getValue:t,setValue:n}},e.map((function(e){return{store:{initialValue:e}}})).getOr({})))},HR=function(e,t,n){return jR(e,(function(e){return t(e.element())}),(function(e,t){return n(e.element(),t)}))},zR=function(e){return HR(e,Js,Qs)},$R=function(e){return HR(e,ia,oa)},VR=function(e){return zp.config({store:{mode:"memory",initialValue:e}})},WR={memento:FR,withElement:HR,withComp:jR,domValue:zR,domHtml:$R,memory:VR},KR=".jpg,.jpeg,.png,.gif",GR=function(e){var t=new RegExp("("+KR.split(/\s*,\s*/).join("|")+")$","i");return X(de(e),(function(e){return t.test(e.name)}))},ZR=function(e,t){var n=function(e,t){t.stop()},r=function(e){return function(t,n){Z(e,(function(e){e(t,n)}))}},i=function(e,t){if(!lI.isDisabled(e)){var n=t.event().raw();a(e,n.dataTransfer.files)}},o=function(e,t){var n=t.event().raw().target.files;a(e,n)},a=function(t,n){zp.setValue(t,GR(n)),ao(t,u_,{name:e.name})},s=VC({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Eu([py("input-file-events",[Io(Oi()),Io(Hi())])])}),l=function(e){return{uid:e.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Eu([WR.memory([]),ER.self(),lI.config({}),$y.config({toggleClass:"dragenter",toggleOnExecute:!1}),py("dropzone-events",[go("dragenter",r([n,$y.toggle])),go("dragleave",r([n,$y.toggle])),go("dragover",n),go("drop",r([n,i])),go(Ei(),o)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p",innerHtml:t.translate("Drop an image here")}},$C.sketch({dom:{tag:"button",innerHtml:t.translate("Browse for an image"),styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[s.asSpec()],action:function(e){var t=s.get(e);t.element().dom().click()},buttonBehaviours:Eu([r_.config({}),rA.button(t.isReadOnly),JI()])})]}]}},c=e.label.map((function(e){return c_(e,t)})),u=QS.parts().field({factory:{sketch:l}});return i_(c,u,["tox-form__group--stretched"],[])},UR=function(e,t){return{dom:{tag:"div",classes:["tox-form__grid","tox-form__grid--"+e.columns+"col"]},components:G(e.items,t.interpreter)}},qR=xa("alloy-fake-before-tabstop"),XR=xa("alloy-fake-after-tabstop"),YR=function(e){return{dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:e},behaviours:Eu([Iy.config({ignore:!0}),r_.config({})])}},JR=function(e){return{dom:{tag:"div",classes:["tox-navobj"]},components:[YR([qR]),e,YR([XR])],behaviours:Eu([ER.childAt(1)])}},QR=function(e,t){ao(e,Si(),{raw:{which:9,shiftKey:t}})},eN=function(e,t){var n=t.element();As(n,qR)?QR(e,!0):As(n,XR)&&QR(e,!1)},tN=function(e){return yS(e,["."+qR,"."+XR].join(","),a(!1))},nN=!(Zr().browser.isIE()||Zr().browser.isEdge()),rN=function(e){var t=Zn("");return{getValue:function(e){return t.get()},setValue:function(n,r){if(e)la(n.element(),"srcdoc",r);else{la(n.element(),"src","javascript:''");var i=n.element().dom().contentWindow.document;i.open(),i.write(r),i.close()}t.set(r)}}},iN=function(e,t){var n=nN&&e.sandboxed,r=p(p({},e.label.map((function(e){return{title:e}})).getOr({})),n?{sandbox:"allow-scripts allow-same-origin"}:{}),i=rN(n),o=e.label.map((function(e){return c_(e,t)})),a=function(e){return JR({uid:e.uid,dom:{tag:"iframe",attributes:r},behaviours:Eu([r_.config({}),Iy.config({}),WR.withComp(x.none(),i.getValue,i.setValue)])})},s=QS.parts().field({factory:{sketch:a}});return i_(o,s,["tox-form__group--stretched"],[])};function oN(e,n){return lN(t.document.createElement("canvas"),e,n)}function aN(e){var t=oN(e.width,e.height),n=sN(t);return n.drawImage(e,0,0),t}function sN(e){return e.getContext("2d")}function lN(e,t,n){return e.width=t,e.height=n,e}function cN(e){return e.naturalWidth||e.width}function uN(e){return e.naturalHeight||e.height}var dN=function(){var e=function(e){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],u(e,r(a,this),r(s,this))},n=e.immediateFn||"function"===typeof window.setImmediate&&window.setImmediate||function(e){t.setTimeout(e,1)};function r(e,t){return function(){return e.apply(t,arguments)}}var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e){var t=this;null!==this._state?n((function(){var n=t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(i){return void e.reject(i)}e.resolve(r)}else(t._state?e.resolve:e.reject)(t._value)})):this._deferreds.push(e)}function a(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"===typeof e||"function"===typeof e)){var t=e.then;if("function"===typeof t)return void u(r(t,e),r(a,this),r(s,this))}this._state=!0,this._value=e,l.call(this)}catch(n){s.call(this,n)}}function s(e){this._state=!1,this._value=e,l.call(this)}function l(){for(var e=0,t=this._deferreds;e<t.length;e++){var n=t[e];o.call(this,n)}this._deferreds=[]}function c(e,t,n,r){this.onFulfilled="function"===typeof e?e:null,this.onRejected="function"===typeof t?t:null,this.resolve=n,this.reject=r}function u(e,t,n){var r=!1;try{e((function(e){r||(r=!0,t(e))}),(function(e){r||(r=!0,n(e))}))}catch(i){if(r)return;r=!0,n(i)}}return e.prototype.catch=function(e){return this.then(null,e)},e.prototype.then=function(t,n){var r=this;return new e((function(e,i){o.call(r,new c(t,n,e,i))}))},e.all=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Array.prototype.slice.call(1===t.length&&i(t[0])?t[0]:t);return new e((function(e,t){if(0===r.length)return e([]);var n=r.length;function i(o,a){try{if(a&&("object"===typeof a||"function"===typeof a)){var s=a.then;if("function"===typeof s)return void s.call(a,(function(e){i(o,e)}),t)}r[o]=a,0===--n&&e(r)}catch(l){t(l)}}for(var o=0;o<r.length;o++)i(o,r[o])}))},e.resolve=function(t){return t&&"object"===typeof t&&t.constructor===e?t:new e((function(e){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=0,i=t;r<i.length;r++){var o=i[r];o.then(e,n)}}))},e},fN=window.Promise?window.Promise:dN();function hN(e){return new fN((function(n,r){var i=t.URL.createObjectURL(e),o=new t.Image,a=function(){o.removeEventListener("load",s),o.removeEventListener("error",l)};function s(){a(),n(o)}function l(){a(),r("Unable to load data of type "+e.type+": "+i)}o.addEventListener("load",s),o.addEventListener("error",l),o.src=i,o.complete&&s()}))}function pN(e){var n=e.split(","),r=/data:([^;]+)/.exec(n[0]);if(!r)return x.none();for(var i=r[1],o=n[1],a=1024,s=t.atob(o),l=s.length,c=Math.ceil(l/a),u=new Array(c),d=0;d<c;++d){for(var f=d*a,h=Math.min(f+a,l),p=new Array(h-f),m=f,g=0;m<h;++g,++m)p[g]=s[m].charCodeAt(0);u[d]=new Uint8Array(p)}return x.some(new t.Blob(u,{type:i}))}function mN(e){return new fN((function(t,n){pN(e).fold((function(){n("uri is not base64: "+e)}),t)}))}function gN(e,n,r){return n=n||"image/png",t.HTMLCanvasElement.prototype.toBlob?new fN((function(t,i){e.toBlob((function(e){e?t(e):i()}),n,r)})):mN(e.toDataURL(n,r))}function vN(e,t,n){return t=t||"image/png",e.toDataURL(t,n)}function bN(e){return hN(e).then((function(e){CN(e);var t=oN(cN(e),uN(e)),n=sN(t);return n.drawImage(e,0,0),t}))}function yN(e){return new fN((function(n){var r=new t.FileReader;r.onloadend=function(){n(r.result)},r.readAsDataURL(e)}))}function CN(e){t.URL.revokeObjectURL(e.src)}function wN(e,t,n){var r=t.type,i=a(r);function o(){return fN.resolve(t)}var s=a(n);function l(){return n.split(",")[1]}function c(t,n){return e.then((function(e){return gN(e,t,n)}))}function u(t,n){return e.then((function(e){return vN(e,t,n)}))}function d(e,t){return u(e,t).then((function(e){return e.split(",")[1]}))}function f(){return e.then(aN)}return{getType:i,toBlob:o,toDataURL:s,toBase64:l,toAdjustedBlob:c,toAdjustedDataURL:u,toAdjustedBase64:d,toCanvas:f}}function xN(e){return yN(e).then((function(t){return wN(bN(e),e,t)}))}function IN(e,t){return gN(e,t).then((function(t){return wN(fN.resolve(e),t,e.toDataURL())}))}var AN=function(e){return xN(e)};function kN(e,t,n){var r="string"===typeof e?parseFloat(e):e;return r>n?r=n:r<t&&(r=t),r}function SN(){return[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1]}var _N=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10];function TN(e,t){for(var n,r=[],i=new Array(25),o=0;o<5;o++){for(var a=0;a<5;a++)r[a]=t[a+5*o];for(a=0;a<5;a++){n=0;for(var s=0;s<5;s++)n+=e[a+5*s]*r[s];i[a+5*o]=n}}return i}function EN(e,t){var n;return t=kN(t,-1,1),t*=100,t<0?n=127+t/100*127:(n=t%1,n=0===n?_N[t]:_N[Math.floor(t)]*(1-n)+_N[Math.floor(t)+1]*n,n=127*n+127),TN(e,[n/127,0,0,0,.5*(127-n),0,n/127,0,0,.5*(127-n),0,0,n/127,0,.5*(127-n),0,0,0,1,0,0,0,0,0,1])}function ON(e,t){return t=kN(255*t,-255,255),TN(e,[1,0,0,0,t,0,1,0,0,t,0,0,1,0,t,0,0,0,1,0,0,0,0,0,1])}function RN(e,t,n,r){return t=kN(t,0,2),n=kN(n,0,2),r=kN(r,0,2),TN(e,[t,0,0,0,0,0,n,0,0,0,0,0,r,0,0,0,0,0,1,0,0,0,0,0,1])}function NN(e,t){return e.toCanvas().then((function(n){return LN(n,e.getType(),t)}))}function LN(e,t,n){var r=sN(e);function i(e,t){for(var n,r,i,o,a=e.data,s=t[0],l=t[1],c=t[2],u=t[3],d=t[4],f=t[5],h=t[6],p=t[7],m=t[8],g=t[9],v=t[10],b=t[11],y=t[12],C=t[13],w=t[14],x=t[15],I=t[16],A=t[17],k=t[18],S=t[19],_=0;_<a.length;_+=4)n=a[_],r=a[_+1],i=a[_+2],o=a[_+3],a[_]=n*s+r*l+i*c+o*u+d,a[_+1]=n*f+r*h+i*p+o*m+g,a[_+2]=n*v+r*b+i*y+o*C+w,a[_+3]=n*x+r*I+i*A+o*k+S;return e}var o=i(r.getImageData(0,0,e.width,e.height),n);return r.putImageData(o,0,0),IN(e,t)}function DN(e,t){return e.toCanvas().then((function(n){return BN(n,e.getType(),t)}))}function BN(e,t,n){var r=sN(e);function i(e,t,n){function r(e,t,n){return e>n?e=n:e<t&&(e=t),e}for(var i=Math.round(Math.sqrt(n.length)),o=Math.floor(i/2),a=e.data,s=t.data,l=e.width,c=e.height,u=0;u<c;u++)for(var d=0;d<l;d++){for(var f=0,h=0,p=0,m=0;m<i;m++)for(var g=0;g<i;g++){var v=r(d+g-o,0,l-1),b=r(u+m-o,0,c-1),y=4*(b*l+v),C=n[m*i+g];f+=a[y]*C,h+=a[y+1]*C,p+=a[y+2]*C}var w=4*(u*l+d);s[w]=r(f,0,255),s[w+1]=r(h,0,255),s[w+2]=r(p,0,255)}return t}var o=r.getImageData(0,0,e.width,e.height),a=r.getImageData(0,0,e.width,e.height);return a=i(o,a,n),r.putImageData(a,0,0),IN(e,t)}function MN(e){var t=function(t,n,r){var i=sN(t),o=new Array(256);function a(e,t){for(var n=e.data,r=0;r<n.length;r+=4)n[r]=t[n[r]],n[r+1]=t[n[r+1]],n[r+2]=t[n[r+2]];return e}for(var s=0;s<o.length;s++)o[s]=e(s,r);var l=a(i.getImageData(0,0,t.width,t.height),o);return i.putImageData(l,0,0),IN(t,n)};return function(e,n){return e.toCanvas().then((function(r){return t(r,e.getType(),n)}))}}function PN(e){return function(t,n){return NN(t,e(SN(),n))}}function FN(e){return function(t){return NN(t,e)}}function jN(e){return function(t){return DN(t,e)}}var HN=FN([-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0,0,0,0,0,1]),zN=PN(ON),$N=PN(EN),VN=function(e,t,n,r){return NN(e,RN(SN(),t,n,r))},WN=jN([0,-1,0,-1,5,-1,0,-1,0]),KN=MN((function(e,t){return 255*Math.pow(e/255,1-t)}));function GN(e,t,n){var r=cN(e),i=uN(e),o=t/r,a=n/i,s=!1;(o<.5||o>2)&&(o=o<.5?.5:2,s=!0),(a<.5||a>2)&&(a=a<.5?.5:2,s=!0);var l=ZN(e,o,a);return s?l.then((function(e){return GN(e,t,n)})):l}function ZN(e,t,n){return new fN((function(r){var i=cN(e),o=uN(e),a=Math.floor(i*t),s=Math.floor(o*n),l=oN(a,s),c=sN(l);c.drawImage(e,0,0,i,o,0,0,a,s),r(l)}))}function UN(e,t){return e.toCanvas().then((function(n){return qN(n,e.getType(),t)}))}function qN(e,t,n){var r=oN(e.width,e.height),i=sN(r),o=0,a=0;return n=n<0?360+n:n,90!==n&&270!==n||lN(r,r.height,r.width),90!==n&&180!==n||(o=r.width),270!==n&&180!==n||(a=r.height),i.translate(o,a),i.rotate(n*Math.PI/180),i.drawImage(e,0,0),IN(r,t)}function XN(e,t){return e.toCanvas().then((function(n){return YN(n,e.getType(),t)}))}function YN(e,t,n){var r=oN(e.width,e.height),i=sN(r);return"v"===n?(i.scale(1,-1),i.drawImage(e,0,-r.height)):(i.scale(-1,1),i.drawImage(e,-r.width,0)),IN(r,t)}function JN(e,t,n,r,i){return e.toCanvas().then((function(o){return QN(o,e.getType(),t,n,r,i)}))}function QN(e,t,n,r,i,o){var a=oN(i,o),s=sN(a);return s.drawImage(e,-n,-r),IN(a,t)}function eL(e,t,n){return e.toCanvas().then((function(r){return GN(r,t,n).then((function(t){return IN(t,e.getType())}))}))}var tL=function(e){return HN(e)},nL=function(e){return WN(e)},rL=function(e,t){return KN(e,t)},iL=function(e,t,n,r){return VN(e,t,n,r)},oL=function(e,t){return zN(e,t)},aL=function(e,t){return $N(e,t)},sL=function(e,t){return XN(e,t)},lL=function(e,t,n,r,i){return JN(e,t,n,r,i)},cL=function(e,t,n){return eL(e,t,n)},uL=function(e,t){return UN(e,t)},dL=function(e,t){return p({dom:{tag:"span",innerHtml:e,classes:["tox-icon","tox-tbtn__icon-wrap"]}},t)},fL=function(e,t){return dL(KC(e,t),{})},hL=function(e,t){return dL(KC(e,t),{behaviours:Eu([fy.config({})])})},pL=function(e,t,n){return{dom:{tag:"span",innerHtml:n.translate(e),classes:[t+"__select-label"]},behaviours:Eu([fy.config({})])}},mL=xa("toolbar.button.execute"),gL=function(e){return Eo((function(t,n){iA(e,t)((function(n){ao(t,mL,{buttonApi:n}),e.onAction(n)}))}))},vL={"alloy.execute":["disabling","alloy.base.behaviour","toggling","toolbar-button-events"]},bL=xa("update-menu-text"),yL=xa("update-menu-icon"),CL=function(e,t,r){var i=Zn(n),o=e.text.map((function(e){return VC(pL(e,t,r.providers))})),a=e.icon.map((function(e){return VC(hL(e,r.providers.icons))})),s=function(e,t){var n=zp.getValue(e);return Iy.focus(n),ao(n,"keydown",{raw:t.event().raw()}),yT.close(n),x.some(!0)},l=e.role.fold((function(){return{}}),(function(e){return{role:e}})),c=e.tooltip.fold((function(){return{}}),(function(e){var t=r.providers.translate(e);return{title:t,"aria-label":t}})),u=VC(yT.sketch(p(p({},l),{dom:{tag:"button",classes:[t,t+"--select"].concat(G(e.classes,(function(e){return t+"--"+e}))),attributes:p({},c)},components:cA([a.map((function(e){return e.asSpec()})),o.map((function(e){return e.asSpec()})),x.some({dom:{tag:"div",classes:[t+"__select-chevron"],innerHtml:KC("chevron-down",r.providers.icons)}})]),matchWidth:!0,useMinWidth:!0,dropdownBehaviours:Eu(g(e.dropdownBehaviours,[rA.button((function(){return e.disabled||r.providers.isReadOnly()})),JI(),IT.config({}),fy.config({}),py("dropdown-events",[oA(e,i),aA(e,i)]),py("menubutton-update-display-text",[go(bL,(function(e,t){o.bind((function(t){return t.getOpt(e)})).each((function(e){fy.set(e,[cl(r.providers.translate(t.event().text()))])}))})),go(yL,(function(e,t){a.bind((function(t){return t.getOpt(e)})).each((function(e){fy.set(e,[hL(t.event().icon(),r.providers.icons)])}))}))])])),eventOrder:Ue(vL,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]}),sandboxBehaviours:Eu([ny.config({mode:"special",onLeft:s,onRight:s})]),lazySink:r.getSink,toggleClass:t+"--active",parts:{menu:rx(!1,e.columns,e.presets)},fetch:function(){return P_.nu(e.fetch)}})));return u.asSpec()},wL=function(e){return _(e)},xL=function(e){return"separator"===e.type},IL=function(e){return He(e,"getSubmenuItems")},AL={type:"separator"},kL=function(e,t){var n=J(e,(function(e,n){return wL(n)?""===n?e:"|"===n?e.length>0&&!xL(e[e.length-1])?e.concat([AL]):e:He(t,n.toLowerCase())?e.concat([t[n.toLowerCase()]]):e:e.concat([n])}),[]);return n.length>0&&xL(n[n.length-1])&&n.pop(),n},SL=function(e,t){var n=e.getSubmenuItems(),r=EL(n,t),i=Ue(r.menus,ct(e.value,r.items)),o=Ue(r.expansions,ct(e.value,e.value));return{item:e,menus:i,expansions:o}},_L=function(e,t){return IL(e)?SL(e,t):{item:e,menus:{},expansions:{}}},TL=function(e){if(xL(e))return e;var t=je(e,"value").getOrThunk((function(){return xa("generated-menu-item")}));return Ue({value:t},e)},EL=function(e,t){var n=kL(_(e)?e.split(" "):e,t);return Y(n,(function(e,n){var r=TL(n),i=_L(r,t);return{menus:Ue(e.menus,i.menus),items:[i.item].concat(e.items),expansions:Ue(e.expansions,i.expansions)}}),{menus:{},expansions:{},items:[]})},OL=function(e,t,n,r){var i=xa("primary-menu"),o=EL(e,n.shared.providers.menuItems());if(0===o.items.length)return x.none();var a=uS(i,o.items,t,n,r),s=Re(o.menus,(function(e,r){return uS(r,e,t,n,!1)})),l=Ue(s,ct(i,a));return x.from(kC.tieredData(i,l,o.expansions))},RL=function(e){return{isDisabled:function(){return lI.isDisabled(e)},setDisabled:function(t){return lI.set(e,t)},setActive:function(t){var n=e.element();t?(ws(n,"tox-tbtn--enabled"),la(n,"aria-pressed",!0)):(Is(n,"tox-tbtn--enabled"),ha(n,"aria-pressed"))},isActive:function(){return As(e.element(),"tox-tbtn--enabled")}}},NL=function(e,t,n,r){return CL({text:e.text,icon:e.icon,tooltip:e.tooltip,role:r,fetch:function(t){e.fetch((function(e){t(OL(e,Pw.CLOSE_ON_EXECUTE,n,!1))}))},onSetup:e.onSetup,getApi:RL,columns:1,presets:"normal",classes:[],dropdownBehaviours:[r_.config({})]},t,n.shared)},LL=function(e,t,n){var r=function(e){return function(r){var i=!r.isActive();r.setActive(i),e.storage.set(i),n.shared.getSink().each((function(n){t().getOpt(n).each((function(t){Vu(t.element()),ao(t,h_,{name:e.name,value:e.storage.get()})}))}))}},i=function(e){return function(t){t.setActive(e.storage.get())}};return function(t){t(G(e,(function(e){var t=e.text.fold((function(){return{}}),(function(e){return{text:e}}));return p(p({type:e.type,active:!1},t),{onAction:r(e),onSetup:i(e)})})))}},DL=function(e,t,n,r,i,o){void 0===n&&(n=[]);var a=t.fold((function(){return{}}),(function(e){return{action:e}})),s=p({buttonBehaviours:Eu([rA.button((function(){return e.disabled||o.isReadOnly()})),JI(),r_.config({}),py("button press",[mo("click"),mo("mousedown")])].concat(n)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]}},a),l=Ue(s,{dom:r});return Ue(l,{components:i})},BL=function(e,t,n,r){void 0===r&&(r=[]);var i=e.tooltip.map((function(e){return{"aria-label":n.translate(e),title:n.translate(e)}})).getOr({}),o={tag:"button",classes:["tox-tbtn"],attributes:i},a=e.icon.map((function(e){return fL(e,n.icons)})),s=cA([a]);return DL(e,t,r,o,s,n)},ML=function(e,t,n,r){void 0===r&&(r=[]);var i=BL(e,x.some(t),n,r);return $C.sketch(i)},PL=function(e,t,n,r,i){void 0===r&&(r=[]),void 0===i&&(i=[]);var o=n.translate(e.text),a=e.icon?e.icon.map((function(e){return fL(e,n.icons)})):x.none(),s=a.isSome()?cA([a]):[],l=a.isSome()?{}:{innerHtml:o},c=g(e.primary||e.borderless?["tox-button"]:["tox-button","tox-button--secondary"],a.isSome()?["tox-button--icon"]:[],e.borderless?["tox-button--naked"]:[],i),u=p(p({tag:"button",classes:c},l),{attributes:{title:o}});return DL(e,t,r,u,s,n)},FL=function(e,t,n,r,i){void 0===r&&(r=[]),void 0===i&&(i=[]);var o=PL(e,x.some(t),n,r,i);return $C.sketch(o)},jL=function(e,n){return function(r){"custom"===n?ao(r,h_,{name:e,value:{}}):"submit"===n?oo(r,p_):"cancel"===n?oo(r,f_):t.console.error("Unknown button type: ",n)}},HL=function(e,t){return"menu"===t},zL=function(e,t){return"custom"===t||"cancel"===t||"submit"===t},$L=function(e,r,i){if(HL(e,r)){var o=function(){return l},a=e,s=p(p({},e),{onSetup:function(t){return t.setDisabled(e.disabled),n},fetch:LL(a.items,o,i)}),l=VC(NL(s,"tox-tbtn",i,x.none()));return l.asSpec()}if(zL(e,r)){var c=jL(e.name,r),u=p(p({},e),{borderless:!1});return FL(u,c,i.shared.providers,[])}t.console.error("Unknown footer button type: ",r)},VL=function(e,t){var n=jL(e.name,"custom");return o_(x.none(),QS.parts().field(p({factory:$C},PL(e,x.some(n),t,[WR.memory(""),ER.self()]))))},WL=a([Mn("field1Name","field1"),Mn("field2Name","field2"),Lc("onLockedChange"),Ec(["lockClass"]),Mn("locked",!1),Kp.field("coupledFieldBehaviours",[ug,zp])]),KL=function(e,t,n){return Bm(e,t,n).bind(ug.getCurrent)},GL=function(e,t){return Cm({factory:QS,name:e,overrides:function(e){return{fieldBehaviours:Eu([py("coupled-input-behaviour",[go(Ti(),(function(n){KL(n,e,t).each((function(t){Bm(n,e,"lock").each((function(r){$y.isOn(r)&&e.onLockedChange(n,t,r)}))}))}))])])}}})},ZL=a([GL("field1","field2"),GL("field2","field1"),Cm({factory:$C,schema:[vn("dom")],name:"lock",overrides:function(e){return{buttonBehaviours:Eu([$y.config({selected:e.locked,toggleClass:e.markers.lockClass,aria:{mode:"pressed"}})])}}})]),UL=function(e,t,n,r){return{uid:e.uid,dom:e.dom,components:t,behaviours:Kp.augment(e.coupledFieldBehaviours,[ug.config({find:x.some}),zp.config({store:{mode:"manual",getValue:function(t){var n,r=Hm(t,e,["field1","field2"]);return n={},n[e.field1Name]=zp.getValue(r.field1()),n[e.field2Name]=zp.getValue(r.field2()),n},setValue:function(t,n){var r=Hm(t,e,["field1","field2"]);ze(n,e.field1Name)&&zp.setValue(r.field1(),n[e.field1Name]),ze(n,e.field2Name)&&zp.setValue(r.field2(),n[e.field2Name])}}})]),apis:{getField1:function(t){return Bm(t,e,"field1")},getField2:function(t){return Bm(t,e,"field2")},getLock:function(t){return Bm(t,e,"lock")}}}},qL=tg({name:"FormCoupledInputs",configFields:WL(),partFields:ZL(),factory:UL,apis:{getField1:function(e,t){return e.getField1(t)},getField2:function(e,t){return e.getField2(t)},getLock:function(e,t){return e.getLock(t)}}}),XL=function(e){var t={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},n=function(e){return e in t?t[e]:1},r=e.value.toFixed(n(e.unit));return-1!==r.indexOf(".")&&(r=r.replace(/\.?0*$/,"")),r+e.unit},YL=function(e){var t=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/,n=t.exec(e);if(null!==n){var r=parseFloat(n[1]),i=n[2];return ge.value({value:r,unit:i})}return ge.error(e)},JL=function(e,t){var n={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},r=function(e){return Object.prototype.hasOwnProperty.call(n,e)};return e.unit===t?x.some(e.value):r(e.unit)&&r(t)?n[e.unit]===n[t]?x.some(e.value):x.some(e.value/n[e.unit]*n[t]):x.none()},QL=function(e){return x.none()},eD=function(e,t){return function(n){return JL(n,t).map((function(n){return{value:n*e,unit:t}}))}},tD=function(e,t){var n=YL(e).toOption(),r=YL(t).toOption();return ig(n,r,(function(e,t){return JL(e,t.unit).map((function(e){return t.value/e})).map((function(e){return eD(e,t.unit)})).getOr(QL)})).getOr(QL)},nD=function(e,t){var n=QL,r=xa("ratio-event"),i=qL.parts().lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:t.translate(e.label.getOr("Constrain proportions"))}},components:[{dom:{tag:"span",classes:["tox-icon","tox-lock-icon__lock"],innerHtml:KC("lock",t.icons)}},{dom:{tag:"span",classes:["tox-icon","tox-lock-icon__unlock"],innerHtml:KC("unlock",t.icons)}}],buttonBehaviours:Eu([lI.config({disabled:function(){return e.disabled||t.isReadOnly()}}),JI(),r_.config({})])}),o=function(e){return{dom:{tag:"div",classes:["tox-form__group"]},components:e}},a=function(n){return QS.parts().field({factory:k_,inputClasses:["tox-textfield"],inputBehaviours:Eu([lI.config({disabled:function(){return e.disabled||t.isReadOnly()}}),JI(),r_.config({}),py("size-input-events",[go(Ai(),(function(e,t){ao(e,r,{isField1:n})})),go(Ei(),(function(t,n){ao(t,u_,{name:e.name})}))])]),selectOnFocus:!1})},s=function(e){return{dom:{tag:"label",classes:["tox-label"],innerHtml:t.translate(e)}}},l=qL.parts().field1(o([QS.parts().label(s("Width")),a(!0)])),c=qL.parts().field2(o([QS.parts().label(s("Height")),a(!1)]));return qL.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[l,c,o([s("&nbsp;"),i])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:function(e,t,r){YL(zp.getValue(e)).each((function(e){n(e).each((function(e){zp.setValue(t,XL(e))}))}))},coupledFieldBehaviours:Eu([lI.config({disabled:function(){return e.disabled||t.isReadOnly()},onDisabled:function(e){qL.getField1(e).bind(QS.getField).each(lI.disable),qL.getField2(e).bind(QS.getField).each(lI.disable),qL.getLock(e).each(lI.disable)},onEnabled:function(e){qL.getField1(e).bind(QS.getField).each(lI.enable),qL.getField2(e).bind(QS.getField).each(lI.enable),qL.getLock(e).each(lI.enable)}}),JI(),py("size-input-events2",[go(r,(function(e,t){var r=t.event().isField1(),i=r?qL.getField1(e):qL.getField2(e),o=r?qL.getField2(e):qL.getField1(e),a=i.map(zp.getValue).getOr(""),s=o.map(zp.getValue).getOr("");n=tD(a,s)}))])])})},rD=a(xa("undo")),iD=a(xa("redo")),oD=a(xa("zoom")),aD=a(xa("back")),sD=a(xa("apply")),lD=a(xa("swap")),cD=a(xa("transform")),uD=a(xa("temp-transform")),dD=a(xa("transform-apply")),fD={undo:rD,redo:iD,zoom:oD,back:aD,apply:sD,swap:lD,transform:cD,tempTransform:uD,transformApply:dD},hD=a("save-state"),pD=a("disable"),mD=a("enable"),gD={formActionEvent:h_,saveState:hD,disable:pD,enable:mD},vD=function(e,t){var r=function(e,n,r,i){return VC(FL({name:e,text:e,disabled:r,primary:i,icon:x.none(),borderless:!1},n,t))},i=function(e,n,r,i){return VC(ML({name:e,icon:x.some(e),tooltip:x.some(n),disabled:i,primary:!1,borderless:!1},r,t))},o=function(e,t){e.map((function(e){var n=e.get(t);n.hasConfigured(lI)&&lI.disable(n)}))},s=function(e,t){e.map((function(e){var n=e.get(t);n.hasConfigured(lI)&&lI.enable(n)}))},l={tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools-edit-panel"]},c=n,u=function(e,t,n){ao(e,t,n)},d=function(e){return oo(e,gD.disable())},f=function(e){return oo(e,gD.enable())},h=function(e,t){d(e),u(e,fD.transform(),{transform:t}),f(e)},p=function(e,t){d(e),u(e,fD.tempTransform(),{transform:t}),f(e)},m=function(e){return function(){ae.getOpt(e).each((function(e){fy.set(e,[ie])}))}},g=function(e,t){d(e),u(e,fD.transformApply(),{transform:t,swap:m(e)}),f(e)},v=function(){return r("Back",(function(e){return u(e,fD.back(),{swap:m(e)})}),!1,!1)},b=function(){return VC({dom:{tag:"div",classes:["tox-spacer"]},behaviours:Eu([lI.config({})])})},y=function(){return r("Apply",(function(e){return u(e,fD.apply(),{swap:m(e)})}),!0,!0)},C=function(){return function(t){var n=e.getRect();return lL(t,n.x,n.y,n.w,n.h)}},w=[v(),b(),r("Apply",(function(t){var n=C();g(t,n),e.hideCrop()}),!1,!0)],I=ZS.sketch({dom:l,components:w.map((function(e){return e.asSpec()})),containerBehaviours:Eu([py("image-tools-crop-buttons-events",[go(gD.disable(),(function(e,t){o(w,e)})),go(gD.enable(),(function(e,t){s(w,e)}))])])}),A=VC(nD({name:"size",label:x.none(),constrain:!0,disabled:!1},t)),k=function(e,t){return function(n){return cL(n,e,t)}},S=[v(),b(),A,b(),r("Apply",(function(e){A.getOpt(e).each((function(t){var n=zp.getValue(t),r=parseInt(n.width,10),i=parseInt(n.height,10),o=k(r,i);g(e,o)}))}),!1,!0)],_=ZS.sketch({dom:l,components:S.map((function(e){return e.asSpec()})),containerBehaviours:Eu([py("image-tools-resize-buttons-events",[go(gD.disable(),(function(e,t){o(S,e)})),go(gD.enable(),(function(e,t){s(S,e)}))])])}),T=function(e,t){return function(n){return e(n,t)}},E=T(sL,"h"),O=T(sL,"v"),R=T(uL,-90),N=T(uL,90),L=function(e,t){p(e,t)},D=[v(),b(),i("flip-horizontally","Flip horizontally",(function(e){L(e,E)}),!1),i("flip-vertically","Flip vertically",(function(e){L(e,O)}),!1),i("rotate-left","Rotate counterclockwise",(function(e){L(e,R)}),!1),i("rotate-right","Rotate clockwise",(function(e){L(e,N)}),!1),b(),y()],B=ZS.sketch({dom:l,components:D.map((function(e){return e.asSpec()})),containerBehaviours:Eu([py("image-tools-fliprotate-buttons-events",[go(gD.disable(),(function(e,t){o(D,e)})),go(gD.enable(),(function(e,t){s(D,e)}))])])}),M=function(e,n,r,i,o){var s=uR.parts().label({dom:{tag:"label",classes:["tox-label"],innerHtml:t.translate(e)}}),l=uR.parts().spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),c=uR.parts().thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return VC(uR.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:r,maxX:o,getInitialValue:a({x:a(i)})},components:[s,l,c],sliderBehaviours:Eu([Iy.config({})]),onChoose:n}))},P=function(e,t,n,r,i){var o=function(e,n,r){var i=T(t,r.x()/100);h(e,i)};return M(e,o,n,r,i)},F=function(e,t,n,r,i){return[v(),P(e,t,n,r,i),y()]},j=function(e,t,n,r,i){var a=F(e,t,n,r,i);return ZS.sketch({dom:l,components:a.map((function(e){return e.asSpec()})),containerBehaviours:Eu([py("image-tools-filter-panel-buttons-events",[go(gD.disable(),(function(e,t){o(a,e)})),go(gD.enable(),(function(e,t){s(a,e)}))])])})},H=[v(),b(),y()],z=ZS.sketch({dom:l,components:H.map((function(e){return e.asSpec()}))}),$=j("Brightness",oL,-100,0,100),V=j("Contrast",aL,-100,0,100),W=j("Gamma",rL,-100,0,100),K=function(e,t,n){return function(r){return iL(r,e,t,n)}},G=function(e){var t=function(e,t,n){var r=Z.getOpt(e),i=q.getOpt(e),o=U.getOpt(e);r.each((function(t){i.each((function(n){o.each((function(r){var i=zp.getValue(t).x()/100,o=zp.getValue(r).x()/100,a=zp.getValue(n).x()/100,s=K(i,o,a);h(e,s)}))}))}))};return M(e,t,0,100,200)},Z=G("R"),U=G("G"),q=G("B"),X=[v(),Z,U,q,y()],Y=ZS.sketch({dom:l,components:X.map((function(e){return e.asSpec()}))}),J=function(e,t,n){return function(r){var i=function(){ae.getOpt(r).each((function(t){fy.set(t,[e]),n(t)}))};u(r,fD.swap(),{transform:t,swap:i})}},Q=function(t){e.showCrop()},ee=function(t){A.getOpt(t).each((function(t){var n=e.getMeasurements(),r=n.width,i=n.height;zp.setValue(t,{width:r,height:i})}))},te=x.some(nL),ne=x.some(tL),re=[i("crop","Crop",J(I,x.none(),Q),!1),i("resize","Resize",J(_,x.none(),ee),!1),i("orientation","Orientation",J(B,x.none(),c),!1),i("brightness","Brightness",J($,x.none(),c),!1),i("sharpen","Sharpen",J(z,te,c),!1),i("contrast","Contrast",J(V,x.none(),c),!1),i("color-levels","Color levels",J(Y,x.none(),c),!1),i("gamma","Gamma",J(W,x.none(),c),!1),i("invert","Invert",J(z,ne,c),!1)],ie=ZS.sketch({dom:l,components:re.map((function(e){return e.asSpec()}))}),oe=ZS.sketch({dom:{tag:"div"},components:[ie],containerBehaviours:Eu([fy.config({})])}),ae=VC(oe),se=function(e){return ae.getOpt(e).map((function(e){var t=e.components()[0];return t.components()[t.components().length-1]}))};return{memContainer:ae,getApplyButton:se}},bD=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),yD=tinymce.util.Tools.resolve("tinymce.geom.Rect"),CD=tinymce.util.Tools.resolve("tinymce.util.Observable"),wD=tinymce.util.Tools.resolve("tinymce.util.Tools"),xD=tinymce.util.Tools.resolve("tinymce.util.VK");function ID(e){var t=Math.max,n=e.documentElement,r=e.body,i=t(n.scrollWidth,r.scrollWidth),o=t(n.clientWidth,r.clientWidth),a=t(n.offsetWidth,r.offsetWidth),s=t(n.scrollHeight,r.scrollHeight),l=t(n.clientHeight,r.clientHeight),c=t(n.offsetHeight,r.offsetHeight);return{width:i<a?o:i,height:s<c?l:s}}function AD(e){var t,n;if(e.changedTouches)for(t="screenX screenY pageX pageY clientX clientY".split(" "),n=0;n<t.length;n++)e[t[n]]=e.changedTouches[0][t[n]]}function kD(e,n){var r,i,o,a,s=n.document||t.document;n=n||{};var l=s.getElementById(n.handle||e),c=function(e){var c,f=ID(s);AD(e),e.preventDefault(),i=e.button;var h=l;o=e.screenX,a=e.screenY,c=t.window.getComputedStyle?t.window.getComputedStyle(h,null).getPropertyValue("cursor"):h.runtimeStyle.cursor,r=bD("<div></div>").css({position:"absolute",top:0,left:0,width:f.width,height:f.height,zIndex:2147483647,opacity:1e-4,cursor:c}).appendTo(s.body),bD(s).on("mousemove touchmove",u).on("mouseup touchend",d),n.start(e)},u=function(e){if(AD(e),e.button!==i)return d(e);e.deltaX=e.screenX-o,e.deltaY=e.screenY-a,e.preventDefault(),n.drag(e)},d=function(e){AD(e),bD(s).off("mousemove touchmove",u).off("mouseup touchend",d),r.remove(),n.stop&&n.stop(e)};this.destroy=function(){bD(l).off()},bD(l).on("mousedown touchstart",c)}var SD=0,_D=function(e,t,n,r,i){var o,a="tox-",s=a+"crid-"+SD++,l=[{name:"move",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:0,deltaH:0,label:"Crop Mask"},{name:"nw",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:-1,deltaH:-1,label:"Top Left Crop Handle"},{name:"ne",xMul:1,yMul:0,deltaX:0,deltaY:1,deltaW:1,deltaH:-1,label:"Top Right Crop Handle"},{name:"sw",xMul:0,yMul:1,deltaX:1,deltaY:0,deltaW:-1,deltaH:1,label:"Bottom Left Crop Handle"},{name:"se",xMul:1,yMul:1,deltaX:0,deltaY:0,deltaW:1,deltaH:1,label:"Bottom Right Crop Handle"}],c=["top","right","bottom","left"],u=function(e,t){return{x:t.x+e.x,y:t.y+e.y,w:t.w,h:t.h}},d=function(e,t){return{x:t.x-e.x,y:t.y-e.y,w:t.w,h:t.h}},f=function(){return d(n,e)};function h(t,r,i,o){var a,s,l,c,u;a=r.x,s=r.y,l=r.w,c=r.h,a+=i*t.deltaX,s+=o*t.deltaY,l+=i*t.deltaW,c+=o*t.deltaH,l<20&&(l=20),c<20&&(c=20),u=e=yD.clamp({x:a,y:s,w:l,h:c},n,"move"===t.name),u=d(n,u),x.fire("updateRect",{rect:u}),y(u)}function p(){function t(t){var n;return new kD(s,{document:r.ownerDocument,handle:s+"-"+t.name,start:function(){n=e},drag:function(e){h(t,n,e.deltaX,e.deltaY)}})}bD('<div id="'+s+'" class="'+a+'croprect-container" role="grid" aria-dropeffect="execute">').appendTo(r),wD.each(c,(function(e){bD("#"+s,r).append('<div id="'+s+"-"+e+'"class="'+a+'croprect-block" style="display: none" data-mce-bogus="all">')})),wD.each(l,(function(e){bD("#"+s,r).append('<div id="'+s+"-"+e.name+'" class="'+a+"croprect-handle "+a+"croprect-handle-"+e.name+'"style="display: none" data-mce-bogus="all" role="gridcell" tabindex="-1" aria-label="'+e.label+'" aria-grabbed="false" title="'+e.label+'">')})),o=wD.map(l,t),g(e),bD(r).on("focusin focusout",(function(e){bD(e.target).attr("aria-grabbed","focus"===e.type?"true":"false")})),bD(r).on("keydown",(function(t){var n;function r(e,t,r,i,o){e.stopPropagation(),e.preventDefault(),h(n,r,i,o)}switch(wD.each(l,(function(e){if(t.target.id===s+"-"+e.name)return n=e,!1})),t.keyCode){case xD.LEFT:r(t,n,e,-10,0);break;case xD.RIGHT:r(t,n,e,10,0);break;case xD.UP:r(t,n,e,0,-10);break;case xD.DOWN:r(t,n,e,0,10);break;case xD.ENTER:case xD.SPACEBAR:t.preventDefault(),i();break}}))}function m(e){var t=wD.map(l,(function(e){return"#"+s+"-"+e.name})).concat(wD.map(c,(function(e){return"#"+s+"-"+e}))).join(",");e?bD(t,r).show():bD(t,r).hide()}function g(e){function n(e,t){t.h<0&&(t.h=0),t.w<0&&(t.w=0),bD("#"+s+"-"+e,r).css({left:t.x,top:t.y,width:t.w,height:t.h})}wD.each(l,(function(t){bD("#"+s+"-"+t.name,r).css({left:e.w*t.xMul+e.x,top:e.h*t.yMul+e.y})})),n("top",{x:t.x,y:t.y,w:t.w,h:e.y-t.y}),n("right",{x:e.x+e.w,y:e.y,w:t.w-e.x-e.w+t.x,h:e.h}),n("bottom",{x:t.x,y:e.y+e.h,w:t.w,h:t.h-e.y-e.h+t.y}),n("left",{x:t.x,y:e.y,w:e.x-t.x,h:e.h}),n("move",e)}function v(t){e=t,g(e)}function b(n){t=n,g(e)}function y(e){v(u(n,e))}function C(t){n=t,g(e)}function w(){wD.each(o,(function(e){e.destroy()})),o=[]}p();var x=wD.extend({toggleVisibility:m,setClampRect:C,setRect:v,getInnerRect:f,setInnerRect:y,setViewPortRect:b,destroy:w},CD);return x},TD={create:_D},ED=function(e){return new gw((function(t){var n=function(){e.removeEventListener("load",n),t(e)};e.complete?t(e):e.addEventListener("load",n)}))},OD=function(e){var t=VC({dom:{tag:"div",classes:["tox-image-tools__image-bg"],attributes:{role:"presentation"}}}),n=Zn(1),r=Zn(x.none()),i=Zn({x:0,y:0,w:1,h:1}),o=Zn({x:0,y:0,w:1,h:1}),a=function(e,o){p.getOpt(e).each((function(e){var a=n.get(),s=_l(e.element()),l=gl(e.element()),c=o.dom().naturalWidth*a,u=o.dom().naturalHeight*a,d=Math.max(0,s/2-c/2),f=Math.max(0,l/2-u/2),h={left:d.toString()+"px",top:f.toString()+"px",width:c.toString()+"px",height:u.toString()+"px",position:"absolute"};Vs(o,h),t.getOpt(e).each((function(e){Vs(e.element(),h)})),r.get().each((function(e){var t=i.get();e.setRect({x:t.x*a+d,y:t.y*a+f,w:t.w*a,h:t.h*a}),e.setClampRect({x:d,y:f,w:c,h:u}),e.setViewPortRect({x:0,y:0,w:s,h:l})}))}))},s=function(e,t){p.getOpt(e).each((function(e){var r=_l(e.element()),i=gl(e.element()),o=t.dom().naturalWidth,a=t.dom().naturalHeight,s=Math.min(r/o,i/a);s>=1?n.set(1):n.set(s)}))},l=function(e,t){var n=Qn.fromTag("img");return la(n,"src",t),ED(n.dom()).then((function(){return p.getOpt(e).map((function(e){var t=ul({element:n});fy.replaceAt(e,1,x.some(t));var r=o.get(),l={x:0,y:0,w:n.dom().naturalWidth,h:n.dom().naturalHeight};o.set(l);var c=yD.inflate(l,-20,-20);return i.set(c),r.w===l.w&&r.h===l.h||s(e,n),a(e,n),n}))}))},c=function(e,t){var r=n.get(),i=t>0?Math.min(2,r+.1):Math.max(.1,r-.1);n.set(i),p.getOpt(e).each((function(e){var t=e.components()[1].element();a(e,t)}))},u=function(){r.get().each((function(e){e.toggleVisibility(!0)}))},d=function(){r.get().each((function(e){e.toggleVisibility(!1)}))},f=function(){return i.get()},h=ZS.sketch({dom:{tag:"div",classes:["tox-image-tools__image"]},components:[t.asSpec(),{dom:{tag:"img",attributes:{src:e}}},{dom:{tag:"div"},behaviours:Eu([py("image-panel-crop-events",[So((function(e){p.getOpt(e).each((function(e){var t=e.element().dom(),o=TD.create({x:10,y:10,w:100,h:100},{x:0,y:0,w:200,h:200},{x:0,y:0,w:200,h:200},t,(function(){}));o.toggleVisibility(!1),o.on("updateRect",(function(e){var t=e.rect,r=n.get(),o={x:Math.round(t.x/r),y:Math.round(t.y/r),w:Math.round(t.w/r),h:Math.round(t.h/r)};i.set(o)})),r.set(x.some(o))}))}))])])}],containerBehaviours:Eu([fy.config({}),py("image-panel-events",[So((function(t){l(t,e)}))])])}),p=VC(h),m=function(){var e=o.get();return{width:e.w,height:e.h}};return{memContainer:p,updateSrc:l,zoom:c,showCrop:u,hideCrop:d,getRect:f,getMeasurements:m}},RD=function(e,t,n,r,i){return ML({name:e,icon:x.some(t),disabled:n,tooltip:x.some(e),primary:!1,borderless:!1},r,i)},ND=function(e,t){t?lI.enable(e):lI.disable(e)},LD=function(e){var t=function(e,t,i){n.getOpt(e).each((function(e){ND(e,t)})),r.getOpt(e).each((function(e){ND(e,i)}))},n=VC(RD("Undo","undo",!0,(function(e){ao(e,fD.undo(),{direction:1})}),e)),r=VC(RD("Redo","redo",!0,(function(e){ao(e,fD.redo(),{direction:1})}),e)),i=ZS.sketch({dom:{tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools__sidebar"]},components:[n.asSpec(),r.asSpec(),RD("Zoom in","zoom-in",!1,(function(e){ao(e,fD.zoom(),{direction:1})}),e),RD("Zoom out","zoom-out",!1,(function(e){ao(e,fD.zoom(),{direction:-1})}),e)]});return{container:i,updateButtonUndoStates:t}};function DD(){var e=[],t=-1;function n(n){var r=e.splice(++t);return e.push(n),{state:n,removed:r}}function r(){if(o())return e[--t]}function i(){if(a())return e[++t]}function o(){return t>0}function a(){return-1!==t&&t<e.length-1}return{data:e,add:n,undo:r,redo:i,canUndo:o,canRedo:a}}var BD,MD=function(e){var n=Zn(e),r=Zn(x.none()),i=DD();i.add(e);var o=function(){return n.get()},a=function(e){n.set(e)},s=function(){return r.get().fold((function(){return n.get()}),(function(e){return e}))},l=function(e){var t=c(e);return f(),r.set(x.some(t)),t.url},c=function(e){return{blob:e,url:t.URL.createObjectURL(e)}},u=function(e){t.URL.revokeObjectURL(e.url)},d=function(e){wD.each(e,u)},f=function(){r.get().each(u),r.set(x.none())},h=function(e){var t=c(e);a(t);var n=i.add(t).removed;return d(n),t.url},p=function(e){var t=c(e);return r.set(x.some(t)),t.url},m=function(e){return r.get().fold((function(){}),(function(t){h(t.blob),e()}))},g=function(){var e=i.undo();return a(e),e.url},v=function(){var e=i.redo();return a(e),e.url},b=function(){var e=i.canUndo(),t=i.canRedo();return{undoEnabled:e,redoEnabled:t}};return{getBlobState:o,setBlobState:a,addBlobState:h,getTempState:s,updateTempState:l,addTempState:p,applyTempState:m,destroyTempState:f,undo:g,redo:v,getHistoryStates:b}},PD=function(e,r){var i=MD(e.currentState),o=function(e,t){var n=t.event().direction();k.zoom(e,n)},a=function(e){var t=i.getHistoryStates();S.updateButtonUndoStates(e,t.undoEnabled,t.redoEnabled),ao(e,gD.formActionEvent,{name:gD.saveState(),value:t.undoEnabled})},s=function(e){S.updateButtonUndoStates(e,!1,!1)},l=function(e,t){var n=i.undo();h(e,n).then((function(t){f(e),a(e)}))},c=function(e,t){var n=i.redo();h(e,n).then((function(t){f(e),a(e)}))},u=function(e){return e.toBlob()},d=function(e){ao(e,gD.formActionEvent,{name:gD.disable(),value:{}})},f=function(e){_.getApplyButton(e).each((function(e){lI.enable(e)})),ao(e,gD.formActionEvent,{name:gD.enable(),value:{}})},h=function(e,t){return d(e),k.updateSrc(e,t)},p=function(e,n,r,i,o){return d(e),AN(n).then(r).then(u).then(i).then((function(t){return h(e,t).then((function(t){return a(e),o(),f(e),t}))})).catch((function(n){return t.console.log(n),f(e),n}))},m=function(e,t,n){var r=i.getBlobState().blob,o=function(e){return i.updateTempState(e)};p(e,r,t,o,n)},g=function(e,t){var r=i.getTempState().blob,o=function(e){return i.addTempState(e)};p(e,r,t,o,n)},v=function(e,t,n){var r=i.getBlobState().blob,o=function(t){var n=i.addBlobState(t);return y(e),n};p(e,r,t,o,n)},b=function(e,t){var n=function(){y(e);var n=t.event().swap();n()};i.applyTempState(n)},y=function(e){var t=i.getBlobState().url;return i.destroyTempState(),a(e),t},C=function(e){var t=y(e);h(e,t).then((function(t){f(e)}))},w=function(e,t){C(e);var n=t.event().swap();n(),k.hideCrop()},x=function(e,t){return m(e,t.event().transform(),n)},I=function(e,t){return g(e,t.event().transform())},A=function(e,t){return v(e,t.event().transform(),t.event().swap())},k=OD(e.currentState.url),S=LD(r),_=vD(k,r),T=function(e,t){s(e);var n=t.event().transform(),r=t.event().swap();n.fold((function(){r()}),(function(t){m(e,t,r)}))};return{dom:{tag:"div",attributes:{role:"presentation"}},components:[_.memContainer.asSpec(),k.memContainer.asSpec(),S.container],behaviours:Eu([zp.config({store:{mode:"manual",getValue:function(){return i.getBlobState()}}}),py("image-tools-events",[go(fD.undo(),l),go(fD.redo(),c),go(fD.zoom(),o),go(fD.back(),w),go(fD.apply(),b),go(fD.transform(),x),go(fD.tempTransform(),I),go(fD.transformApply(),A),go(fD.swap(),T)]),ER.self()])}},FD=function(e,t){var n={dom:{tag:"label",innerHtml:t.providers.translate(e.label),classes:["tox-label"]}},r=G(e.items,t.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[n].concat(r),behaviours:Eu([ER.self(),fy.config({}),WR.domHtml(x.none()),ny.config({mode:"acyclic"})])}},jD=function(e,t){return{dom:{tag:"div",classes:e.classes},components:G(e.items,t.shared.interpreter)}},HD=function(e,t){var n=G(e.options,(function(e){return{dom:{tag:"option",value:e.value,innerHtml:e.text}}})),r=e.data.map((function(e){return ct("initialValue",e)})).getOr({});return{uid:e.uid,dom:{tag:"select",classes:e.selectClasses,attributes:e.selectAttributes},components:n,behaviours:Wp(e.selectBehaviours,[Iy.config({}),zp.config({store:p({mode:"manual",getValue:function(e){return Js(e.element())},setValue:function(t,n){var r=ee(e.options,(function(e){return e.value===n}));r.isSome()&&Qs(t.element(),n)}},r)})])}},zD=eg({name:"HtmlSelect",configFields:[vn("options"),$p("selectBehaviours",[Iy,zp]),Mn("selectClasses",[]),Mn("selectAttributes",{}),Tn("data")],factory:HD}),$D=function(e,t){var n=G(e.items,(function(e){return{text:t.translate(e.text),value:e.value}})),r=e.label.map((function(e){return c_(e,t)})),i=QS.parts().field({dom:{},selectAttributes:{size:e.size},options:n,factory:zD,selectBehaviours:Eu([lI.config({disabled:function(){return e.disabled||t.isReadOnly()}}),r_.config({}),py("selectbox-change",[go(Ei(),(function(t,n){ao(t,u_,{name:e.name})}))])])}),o=e.size>1?x.none():x.some({dom:{tag:"div",classes:["tox-selectfield__icon-js"],innerHtml:KC("chevron-down",t.icons)}}),a={dom:{tag:"div",classes:["tox-selectfield"]},components:ne([[i],o.toArray()])};return QS.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:ne([r.toArray(),[a]]),fieldBehaviours:Eu([lI.config({disabled:function(){return e.disabled||t.isReadOnly()},onDisabled:function(e){QS.getField(e).each(lI.disable)},onEnabled:function(e){QS.getField(e).each(lI.enable)}}),JI()])})},VD=function(e,t){var n=function(e){return{dom:{tag:"th",innerHtml:t.translate(e)}}},r=function(e){return{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:G(e,n)}]}},i=function(e){return{dom:{tag:"td",innerHtml:t.translate(e)}}},o=function(e){return{dom:{tag:"tr"},components:G(e,i)}},a=function(e){return{dom:{tag:"tbody"},components:G(e,o)}};return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[r(e.header),a(e.cells)],behaviours:Eu([r_.config({}),Iy.config({})])}},WD=function(e,t){var n=e.label.map((function(e){return c_(e,t)})),r=[lI.config({disabled:function(){return e.disabled||t.isReadOnly()}}),JI(),ny.config({mode:"execution",useEnter:!0!==e.multiline,useControlEnter:!0===e.multiline,execute:function(e){return oo(e,p_),x.some(!0)}}),py("textfield-change",[go(Ti(),(function(t,n){ao(t,u_,{name:e.name})})),go(Mi(),(function(t,n){ao(t,u_,{name:e.name})}))]),r_.config({})],i=e.validation.map((function(e){return q_.config({getRoot:function(e){return zo(e.element())},invalidClass:"tox-invalid",validator:{validate:function(t){var n=zp.getValue(t),r=e.validator(n);return P_.pure(!0===r?ge.value(n):ge.error(r))},validateOnLoad:e.validateOnLoad}})})).toArray(),o=e.placeholder.fold(a({}),(function(e){return{placeholder:t.translate(e)}})),s=e.inputMode.fold(a({}),(function(e){return{inputmode:e}})),l=p(p({},o),s),c=QS.parts().field({tag:!0===e.multiline?"textarea":"input",inputAttributes:l,inputClasses:[e.classname],inputBehaviours:Eu(ne([r,i])),selectOnFocus:!1,factory:k_}),u=e.flex?["tox-form__group--stretched"]:[],d=u.concat(e.maximized?["tox-form-group--maximize"]:[]),f=[lI.config({disabled:function(){return e.disabled||t.isReadOnly()},onDisabled:function(e){QS.getField(e).each(lI.disable)},onEnabled:function(e){QS.getField(e).each(lI.enable)}}),JI()];return i_(n,c,d,f)},KD=function(e,t){return WD({name:e.name,multiline:!1,label:e.label,inputMode:e.inputMode,placeholder:e.placeholder,flex:!1,disabled:e.disabled,classname:"tox-textfield",validation:x.none(),maximized:e.maximized},t)},GD=function(e,t){return WD({name:e.name,multiline:!0,label:e.label,inputMode:x.none(),placeholder:e.placeholder,flex:!0,disabled:e.disabled,classname:"tox-textarea",validation:x.none(),maximized:e.maximized},t)},ZD=function(e,t){var n=e.stream.streams,r=n.setup(e,t);return fo([go(e.event,r),_o((function(){return t.cancel()}))].concat(e.cancelEvent.map((function(e){return[go(e,(function(){return t.cancel()}))]})).getOr([])))},UD=Object.freeze({__proto__:null,events:ZD}),qD=function(e){var t=Zn(null),n=function(){return{timer:null!==t.get()?"set":"unset"}},r=function(e){t.set(e)},i=function(){var e=t.get();null!==e&&e.cancel()};return Va({readState:n,setTimer:r,cancel:i})},XD=function(e){return e.stream.streams.state(e)},YD=Object.freeze({__proto__:null,throttle:qD,init:XD}),JD=function(e,t){var n=e.stream,r=ew(e.onStream,n.delay);return t.setTimer(r),function(e,t){r.throttle(e,t),n.stopEvent&&t.stop()}},QD=[bn("stream",sn("mode",{throttle:[vn("delay"),Mn("stopEvent",!0),Bc("streams",{setup:JD,state:qD})]})),Mn("event","input"),Tn("cancelEvent"),Lc("onStream")],eB=Ru({fields:QD,name:"streaming",active:UD,state:YD}),tB=function(e,t,n){var r=zp.getValue(n);zp.setValue(t,r),rB(t)},nB=function(e,t){var n=e.element(),r=Js(n),i=n.dom();"number"!==ua(n,"type")&&t(i,r)},rB=function(e){nB(e,(function(e,t){return e.setSelectionRange(t.length,t.length)}))},iB=function(e,t){nB(e,(function(e,n){return e.setSelectionRange(t,n.length)}))},oB=function(e,t,n){if(e.selectsOver){var r=zp.getValue(t),i=e.getDisplayText(r),o=zp.getValue(n),a=e.getDisplayText(o);return 0===a.indexOf(i)?x.some((function(){tB(e,t,n),iB(t,i.length)})):x.none()}return x.none()},aB=a("alloy.typeahead.itemexecute"),sB=function(e,t,r,i){var o=function(t,r,o){e.previewing.set(!1);var a=tT.getCoupled(t,"sandbox");if(op.isOpen(a))ug.getCurrent(a).each((function(e){Og.getHighlighted(e).fold((function(){o(e)}),(function(){uo(a,e.element(),"keydown",r)}))}));else{var l=function(e){ug.getCurrent(e).each(o)};sT(e,s(t),t,a,i,l,T_.HighlightFirst).get(n)}},a=w_(e),s=function(e){return function(t){return t.map((function(t){var n=Fe(t.menus),r=re(n,(function(e){return X(e.items,(function(e){return"item"===e.type}))})),i=zp.getState(e);return i.update(G(r,(function(e){return e.data}))),t}))}},l=[Iy.config({}),zp.config({onSetValue:e.onSetValue,store:p({mode:"dataset",getDataKey:function(e){return Js(e.element())},getFallbackEntry:function(e){return{value:e,meta:{}}},setValue:function(t,n){Qs(t.element(),e.model.getDisplayText(n))}},e.initialData.map((function(e){return ct("initialValue",e)})).getOr({}))}),eB.config({stream:{mode:"throttle",delay:e.responseTime,stopEvent:!1},onStream:function(t,r){var o=tT.getCoupled(t,"sandbox"),a=Iy.isFocused(t);if(a&&Js(t.element()).length>=e.minChars){var l=ug.getCurrent(o).bind((function(e){return Og.getHighlighted(e).map(zp.getValue)}));e.previewing.set(!0);var c=function(t){ug.getCurrent(o).each((function(t){l.fold((function(){e.model.selectsOver&&Og.highlightFirst(t)}),(function(e){Og.highlightBy(t,(function(t){var n=zp.getValue(t);return n.value===e.value})),Og.getHighlighted(t).orThunk((function(){return Og.highlightFirst(t),x.none()}))}))}))};sT(e,s(t),t,o,i,c,T_.HighlightFirst).get(n)}},cancelEvent:Vi()}),ny.config({mode:"special",onDown:function(e,t){return o(e,t,Og.highlightFirst),x.some(!0)},onEscape:function(e){var t=tT.getCoupled(e,"sandbox");return op.isOpen(t)?(op.close(t),x.some(!0)):x.none()},onUp:function(e,t){return o(e,t,Og.highlightLast),x.some(!0)},onEnter:function(t){var n=tT.getCoupled(t,"sandbox"),r=op.isOpen(n);if(r&&!e.previewing.get())return ug.getCurrent(n).bind((function(e){return Og.getHighlighted(e)})).map((function(e){return ao(t,aB(),{item:e}),!0}));var i=zp.getValue(t);return oo(t,Vi()),e.onExecute(n,t,i),r&&op.close(n),x.some(!0)}}),$y.config({toggleClass:e.markers.openClass,aria:{mode:"expanded"}}),tT.config({others:{sandbox:function(t){return hT(e,t,{onOpen:function(){return $y.on(t)},onClose:function(){return $y.off(t)}})}}}),py("typeaheadevents",[Eo((function(t){var r=n;cT(e,s(t),t,i,r,T_.HighlightFirst).get(n)})),go(aB(),(function(t,n){var r=tT.getCoupled(t,"sandbox");tB(e.model,t,n.event().item()),oo(t,Vi()),e.onItemExecute(t,r,n.event().item(),zp.getValue(t)),op.close(r),rB(t)}))].concat(e.dismissOnBlur?[go(Bi(),(function(e){var t=tT.getCoupled(e,"sandbox");Zu(t.element()).isNone()&&op.close(t)}))]:[]))];return{uid:e.uid,dom:I_(Ue(e,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:p(p({},a),Wp(e.typeaheadBehaviours,l)),eventOrder:e.eventOrder}},lB=a([Tn("lazySink"),vn("fetch"),Mn("minChars",5),Mn("responseTime",1e3),Rc("onOpen"),Mn("getHotspot",x.some),Mn("getAnchorOverrides",a({})),Mn("layouts",x.none()),Mn("eventOrder",{}),Kn("model",{},[Mn("getDisplayText",(function(e){return void 0!==e.meta&&void 0!==e.meta.text?e.meta.text:e.value})),Mn("selectsOver",!0),Mn("populateFromBrowse",!0)]),Rc("onSetValue"),Nc("onExecute"),Rc("onItemExecute"),Mn("inputClasses",[]),Mn("inputAttributes",{}),Mn("inputStyles",{}),Mn("matchWidth",!0),Mn("useMinWidth",!1),Mn("dismissOnBlur",!0),Ec(["openClass"]),Tn("initialData"),$p("typeaheadBehaviours",[Iy,zp,eB,ny,$y,tT]),Gn("previewing",(function(){return Zn(!0)}))].concat(C_()).concat(mT())),cB=a([wm({schema:[Tc()],name:"menu",overrides:function(e){return{fakeFocus:!0,onHighlight:function(t,n){e.previewing.get()?t.getSystem().getByUid(e.uid).each((function(r){oB(e.model,r,n).fold((function(){return Og.dehighlight(t,n)}),(function(e){return e()}))})):t.getSystem().getByUid(e.uid).each((function(t){e.model.populateFromBrowse&&tB(e.model,t,n)})),e.previewing.set(!1)},onExecute:function(t,n){return t.getSystem().getByUid(e.uid).toOption().map((function(e){return ao(e,aB(),{item:n}),!0}))},onHover:function(t,n){e.previewing.set(!1),t.getSystem().getByUid(e.uid).each((function(t){e.model.populateFromBrowse&&tB(e.model,t,n)}))}}}})]),uB=tg({name:"Typeahead",configFields:lB(),partFields:cB(),factory:sB}),dB=function(e){var n=function(){return dB(e.toCached())},r=function(t){return dB(e.bind((function(e){return e.fold((function(e){return P_.pure(ge.error(e))}),(function(e){return t(e)}))})))},i=function(t){return dB(e.map((function(e){return e.bind(t)})))},o=function(t){return dB(e.map((function(e){return e.map(t)})))},a=function(t){return dB(e.map((function(e){return e.mapError(t)})))},s=function(t,n){return e.map((function(e){return e.fold(t,n)}))},l=function(n,r){return dB(P_.nu((function(i){var o=!1,a=t.setTimeout((function(){o=!0,i(ge.error(r()))}),n);e.get((function(e){o||(t.clearTimeout(a),i(e))}))})))};return p(p({},e),{toCached:n,bindFuture:r,bindResult:i,mapResult:o,mapError:a,foldResult:s,withTimeout:l})},fB=function(e){return dB(P_.nu(e))},hB=function(e){return dB(P_.pure(ge.value(e)))},pB=function(e){return dB(P_.pure(ge.error(e)))},mB=function(e){return dB(P_.pure(e))},gB=function(e){return dB(e.map(ge.value))},vB=function(e){return fB((function(t){e.then((function(e){t(ge.value(e))}),(function(e){t(ge.error(e))}))}))},bB={nu:fB,wrap:dB,pure:hB,value:hB,error:pB,fromResult:mB,fromFuture:gB,fromPromise:vB},yB={type:"separator"},CB=function(e){return{type:"menuitem",value:e.url,text:e.title,meta:{attach:e.attach},onAction:function(){}}},wB=function(e,t){return{type:"menuitem",value:t,text:e,meta:{attach:void 0},onAction:function(){}}},xB=function(e){return G(e,CB)},IB=function(e,t){return X(t,(function(t){return t.type===e}))},AB=function(e,t){return xB(IB(e,t))},kB=function(e){return AB("header",e.targets)},SB=function(e){return AB("anchor",e.targets)},_B=function(e){return x.from(e.anchorTop).map((function(e){return wB("<top>",e)})).toArray()},TB=function(e){return x.from(e.anchorBottom).map((function(e){return wB("<bottom>",e)})).toArray()},EB=function(e){return G(e,(function(e){return wB(e,e)}))},OB=function(e){return J(e,(function(e,t){var n=0===e.length||0===t.length;return n?e.concat(t):e.concat(yB,t)}),[])},RB=function(e,t){var n=e.toLowerCase();return X(t,(function(e){var t=void 0!==e.meta&&void 0!==e.meta.text?e.meta.text:e.text;return Dr(t.toLowerCase(),n)||Dr(e.value.toLowerCase(),n)}))},NB=function(e,t,n){var r=zp.getValue(t),i=void 0!==r.meta.text?r.meta.text:r.value,o=n.getLinkInformation();return o.fold((function(){return[]}),(function(t){var r=RB(i,EB(n.getHistory(e)));return"file"===e?OB([r,RB(i,kB(t)),RB(i,ne([_B(t),SB(t),TB(t)]))]):r}))},LB=xa("aria-invalid"),DB=function(e,t,r){var i,o=t.shared.providers,a=function(t){var n=zp.getValue(t);r.addToHistory(n.value,e.filetype)},s=QS.parts().field({factory:uB,dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":LB,type:"url"},minChars:0,responseTime:0,fetch:function(n){var i=NB(e.filetype,n,r),o=OL(i,Pw.BUBBLE_TO_SANDBOX,t,!1);return P_.pure(o)},getHotspot:function(e){return m.getOpt(e)},onSetValue:function(e,t){e.hasConfigured(q_)&&q_.run(e).get(n)},typeaheadBehaviours:Eu(ne([r.getValidationHandler().map((function(t){return q_.config({getRoot:function(e){return zo(e.element())},invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:function(e,t){u.getOpt(e).each((function(e){la(e.element(),"title",o.translate(t))}))}},validator:{validate:function(n){var r=zp.getValue(n);return bB.nu((function(n){t({type:e.filetype,url:r.value},(function(e){if("invalid"===e.status){var t=ge.error(e.message);n(t)}else{var r=ge.value(e.message);n(r)}}))}))},validateOnLoad:!1}})})).toArray(),[lI.config({disabled:function(){return e.disabled||o.isReadOnly()}}),r_.config({}),py("urlinput-events",ne(["file"===e.filetype?[go(Ti(),(function(t){ao(t,u_,{name:e.name})}))]:[],[go(Ei(),(function(t){ao(t,u_,{name:e.name}),a(t)})),go(Mi(),(function(t){ao(t,u_,{name:e.name}),a(t)}))]]))]])),eventOrder:(i={},i[Ti()]=["streaming","urlinput-events","invalidating"],i),model:{getDisplayText:function(e){return e.value},selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:t.shared.getSink,parts:{menu:rx(!1,1,"normal")},onExecute:function(e,t,n){ao(t,p_,{})},onItemExecute:function(t,n,r,i){a(t),ao(t,u_,{name:e.name})}}),l=e.label.map((function(e){return c_(e,o)})),c=function(e,t,n,r){return void 0===n&&(n=e),void 0===r&&(r=e),{dom:{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+e],innerHtml:KC(n,o.icons),attributes:p({title:o.translate(r),"aria-live":"polite"},t.fold((function(){return{}}),(function(e){return{id:e}})))}}},u=VC(c("invalid",x.some(LB),"warning")),d=VC({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[u.asSpec()]}),f=r.getUrlPicker(e.filetype),h=xa("browser.url.event"),m=VC({dom:{tag:"div",classes:["tox-control-wrap"]},components:[s,d.asSpec()],behaviours:Eu([lI.config({disabled:function(){return e.disabled||o.isReadOnly()}})])}),g=VC(FL({name:e.name,icon:x.some("browse"),text:e.label.getOr(""),disabled:e.disabled,primary:!1,borderless:!0},(function(e){return oo(e,h)}),o,[],["tox-browse-url"])),v=function(){return{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:ne([[m.asSpec()],f.map((function(){return g.asSpec()})).toArray()])}},b=function(t){ug.getCurrent(t).each((function(n){var r=zp.getValue(n),i=p({fieldname:e.name},r);f.each((function(r){r(i).get((function(r){zp.setValue(n,r),ao(t,u_,{name:e.name})}))}))}))};return QS.sketch({dom:s_(),components:l.toArray().concat([v()]),fieldBehaviours:Eu([lI.config({disabled:function(){return e.disabled||o.isReadOnly()},onDisabled:function(e){QS.getField(e).each(lI.disable),g.getOpt(e).each(lI.disable)},onEnabled:function(e){QS.getField(e).each(lI.enable),g.getOpt(e).each(lI.enable)}}),JI(),py("url-input-events",[go(h,b)])])})},BB=function(e,t){return ZS.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in","tox-notification--"+e.level]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[$C.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:KC(e.icon,t.icons),attributes:{title:t.translate(e.iconTooltip)}},action:function(t){ao(t,h_,{name:"alert-banner",value:e.url})}})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:t.translate(e.text)}}]})},MB=function(e,t){var n=zp.config({store:{mode:"manual",getValue:function(e){var t=e.element().dom();return t.checked},setValue:function(e,t){var n=e.element().dom();n.checked=t}}}),r=function(e){return e.element().dom().click(),x.some(!0)},i=QS.parts().field({factory:{sketch:s},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Eu([ER.self(),lI.config({disabled:function(){return e.disabled||t.isReadOnly()}}),r_.config({}),Iy.config({}),n,ny.config({mode:"special",onEnter:r,onSpace:r,stopSpaceKeyup:!0}),py("checkbox-events",[go(Ei(),(function(t,n){ao(t,u_,{name:e.name})}))])])}),o=QS.parts().label({dom:{tag:"span",classes:["tox-checkbox__label"],innerHtml:t.translate(e.label)},behaviours:Eu([IT.config({})])}),a=function(e){var n="checked"===e?"selected":"unselected";return{dom:{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+e],innerHtml:KC(n,t.icons)}}},l=VC({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[a("checked"),a("unchecked")]});return QS.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[i,l.asSpec(),o],fieldBehaviours:Eu([lI.config({disabled:function(){return e.disabled||t.isReadOnly()},disableClass:"tox-checkbox--disabled",onDisabled:function(e){QS.getField(e).each(lI.disable)},onEnabled:function(e){QS.getField(e).each(lI.enable)}}),JI()])})},PB=function(e){return"presentation"===e.presets?ZS.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html}}):ZS.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html,attributes:{role:"document"}},containerBehaviours:Eu([r_.config({}),Iy.config({})])})},FB=function(e){return function(t,n,r){return je(n,"name").fold((function(){return e(n,r)}),(function(i){return t.field(i,e(n,r))}))}},jB=function(e){return function(t,n,r){var i=Ue(n,{source:"dynamic"});return FB(e)(t,i,r)}},HB={bar:FB((function(e,t){return qS(e,t.shared)})),collection:FB((function(e,t){return y_(e,t.shared.providers)})),alertbanner:FB((function(e,t){return BB(e,t.shared.providers)})),input:FB((function(e,t){return KD(e,t.shared.providers)})),textarea:FB((function(e,t){return GD(e,t.shared.providers)})),label:FB((function(e,t){return FD(e,t.shared)})),iframe:jB((function(e,t){return iN(e,t.shared.providers)})),button:FB((function(e,t){return VL(e,t.shared.providers)})),checkbox:FB((function(e,t){return MB(e,t.shared.providers)})),colorinput:FB((function(e,t){return TT(e,t.shared,t.colorinput)})),colorpicker:FB(LR),dropzone:FB((function(e,t){return ZR(e,t.shared.providers)})),grid:FB((function(e,t){return UR(e,t.shared)})),selectbox:FB((function(e,t){return $D(e,t.shared.providers)})),sizeinput:FB((function(e,t){return nD(e,t.shared.providers)})),urlinput:FB((function(e,t){return DB(e,t,t.urlinput)})),customeditor:FB(MR),htmlpanel:FB(PB),imagetools:FB((function(e,t){return PD(e,t.shared.providers)})),table:FB((function(e,t){return VD(e,t.shared.providers)})),panel:FB((function(e,t){return jD(e,t)}))},zB={field:function(e,t){return t}},$B=function(e,t,n){var r=Ue(n,{shared:{interpreter:function(t){return VB(e,t,r)}}});return VB(e,t,r)},VB=function(e,n,r){return je(HB,n.type).fold((function(){return t.console.error('Unknown factory type "'+n.type+'", defaulting to container: ',n),n}),(function(t){return t(e,n,r)}))},WB=function(e,t){var n=zB;return VB(n,e,t)},KB={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},GB=function(e,t,n){var r=_d(-12,12,KB),i={maxHeightFunction:xd()},o=function(){return{anchor:"node",root:js(Po(e())),node:x.from(e()),bubble:r,layouts:{onRtl:function(){return[PC]},onLtr:function(){return[MC]}},overrides:i}},a=function(){return{anchor:"hotspot",hotspot:t(),bubble:r,layouts:{onRtl:function(){return[lu]},onLtr:function(){return[cu]}},overrides:i}};return function(){return n()?o():a()}},ZB=function(e,t,n){var r=function(){return{anchor:"node",root:js(Po(e())),node:x.from(e()),layouts:{onRtl:function(){return[FC]},onLtr:function(){return[FC]}}}},i=function(){return{anchor:"hotspot",hotspot:t(),layouts:{onRtl:function(){return[hu]},onLtr:function(){return[hu]}}}};return function(){return n()?r():i()}},UB=function(e,t){return function(){return{anchor:"selection",root:t(),getSelection:function(){var t=e.selection.getRng();return x.some(af.range(Qn.fromDom(t.startContainer),t.startOffset,Qn.fromDom(t.endContainer),t.endOffset))}}}},qB=function(e){return function(t){return{anchor:"node",root:e(),node:t}}},XB=function(e,t,n){var r=LI(e),i=function(){return Qn.fromDom(e.getBody())},o=function(){return Qn.fromDom(e.getContentAreaContainer())},a=function(){return r||!n()};return{inlineDialog:GB(o,t,a),banner:ZB(o,t,a),cursor:UB(e,i),node:qB(i)}},YB=function(e){return function(t,n){var r=zk(e);r(t,n)}},JB=function(e){return function(){return Ik(e)}},QB=function(e){return function(){return kk(e)}},eM=function(e){return function(){return Lk(e)}},tM=function(e){return{colorPicker:YB(e),hasCustomColors:JB(e),getColors:QB(e),getColorCols:eM(e)}},nM=function(e){return function(){return PI(e)}},rM=function(e){return{isDraggableModal:nM(e)}},iM=function(e){var t=Zn(OI(e)?"bottom":"top");return{isPositionedAtTop:function(){return"top"===t.get()},getDockingMode:t.get,setDockingMode:t.set}},oM=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],aM=function(e){return He(e,"items")},sM=function(e){return He(e,"block")},lM=function(e){return He(e,"inline")},cM=function(e){return He(e,"selector")},uM=function(e){return J(e,(function(e,t){if(aM(t)){var n=uM(t.items);return{customFormats:e.customFormats.concat(n.customFormats),formats:e.formats.concat([{title:t.title,items:n.formats}])}}if(lM(t)||sM(t)||cM(t)){var r="custom-"+t.title.toLowerCase();return{customFormats:e.customFormats.concat([{name:r,format:t}]),formats:e.formats.concat([{title:t.title,format:r,icon:t.icon}])}}return p(p({},e),{formats:e.formats.concat(t)})}),{customFormats:[],formats:[]})},dM=function(e,t){var n=uM(t),r=function(t){Z(t,(function(t){e.formatter.has(t.name)||e.formatter.register(t.name,t.format)}))};return e.formatter?r(n.customFormats):e.on("init",(function(){r(n.customFormats)})),n.formats},fM=function(e){return yI(e).map((function(t){var n=dM(e,t);return CI(e)?oM.concat(n):n})).getOr(oM)},hM=function(e,t,n){var r={type:"formatter",isSelected:t(e.format),getStylePreview:n(e.format)};return Ue(e,r)},pM=function(e,t,n,r){var i=function(e){return hM(e,n,r)},o=function(e){var t={type:"submenu"};return Ue(e,t)},a=function(t){var i=xa(t.title),o={type:"formatter",format:i,isSelected:n(i),getStylePreview:r(i)},a=Ue(t,o);return e.formatter.register(i,a),a},s=function(e){return G(e,(function(e){var t=Te(e);if(ze(e,"items")){var n=s(e.items);return Ue(o(e),{getStyleItems:function(){return n}})}return ze(e,"format")?i(e):1===t.length&&$(t,"title")?Ue(e,{type:"separator"}):a(e)}))};return s(t)},mM=function(e){var t=function(t){return function(){return e.formatter.match(t)}},n=function(t){return function(){var n=e.formatter.get(t);return void 0!==n?x.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):x.none()}},r=function(e){var t=e.items;return void 0!==t&&t.length>0?re(t,r):[e.format]},i=Zn([]),o=Zn([]),a=Zn([]),s=Zn([]),l=Zn(!1);e.on("PreInit",(function(a){var s=fM(e),l=pM(e,s,t,n);i.set(l),o.set(re(l,r))})),e.on("addStyleModifications",(function(i){var o=pM(e,i.items,t,n);a.set(o),l.set(i.replace),s.set(re(o,r))}));var c=function(){var e=l.get()?[]:i.get(),t=a.get();return e.concat(t)},u=function(){var e=l.get()?[]:o.get(),t=s.get();return e.concat(t)};return{getData:c,getFlattenedKeys:u}},gM=wD.trim,vM=function(e){return function(t){if(t&&1===t.nodeType){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1}},bM=vM("true"),yM=vM("false"),CM=function(e,t,n,r,i){return{type:e,title:t,url:n,level:r,attach:i}},wM=function(e){while(e=e.parentNode){var t=e.contentEditable;if(t&&"inherit"!==t)return bM(e)}return!1},xM=function(e,t){return G(Ef(Qn.fromDom(t),e),(function(e){return e.dom()}))},IM=function(e){return e.innerText||e.textContent},AM=function(e){return e.id?e.id:xa("h")},kM=function(e){return e&&"A"===e.nodeName&&void 0!==(e.id||e.name)},SM=function(e){return kM(e)&&TM(e)},_M=function(e){return e&&/^(H[1-6])$/.test(e.nodeName)},TM=function(e){return wM(e)&&!yM(e)},EM=function(e){return _M(e)&&TM(e)},OM=function(e){return _M(e)?parseInt(e.nodeName.substr(1),10):0},RM=function(e){var t=AM(e),n=function(){e.id=t};return CM("header",IM(e),"#"+t,OM(e),n)},NM=function(e){var t=e.id||e.name,r=IM(e);return CM("anchor",r||"#"+t,"#"+t,0,n)},LM=function(e){return G(X(e,EM),RM)},DM=function(e){return G(X(e,SM),NM)},BM=function(e){var t=xM("h1,h2,h3,h4,h5,h6,a:not([href])",e);return t},MM=function(e){return gM(e.title).length>0},PM=function(e){var t=BM(e);return X(LM(t).concat(DM(t)),MM)},FM={find:PM},jM="tinymce-url-history",HM=5,zM=function(e){return _(e)&&/^https?/.test(e)},$M=function(e){return E(e)&&e.length<=HM&&ie(e,zM)},VM=function(e){return T(e)&&Pe(e,(function(e){return!$M(e)})).isNone()},WM=function(){var e,n=mk.getItem(jM);if(null===n)return{};try{e=JSON.parse(n)}catch(r){if(r instanceof SyntaxError)return t.console.log("Local storage "+jM+" was not valid JSON",r),{};throw r}return VM(e)?e:(t.console.log("Local storage "+jM+" was not valid format",e),{})},KM=function(e){if(!VM(e))throw new Error("Bad format for history:\n"+JSON.stringify(e));mk.setItem(jM,JSON.stringify(e))},GM=function(e){var t=WM();return Object.prototype.hasOwnProperty.call(t,e)?t[e]:[]},ZM=function(e,t){if(zM(e)){var n=WM(),r=Object.prototype.hasOwnProperty.call(n,t)?n[t]:[],i=X(r,(function(t){return t!==e}));n[t]=[e].concat(i).slice(0,HM),KM(n)}},UM=function(e){return!!e},qM=function(e){return Re(wD.makeMap(e,/[, ]/),UM)},XM=function(e){return x.from(zI(e)).filter(D)},YM=function(e){var t=x.some($I(e)).filter(UM),n=x.some(VI(e)).filter(UM),r=t.or(n).map(qM);return XM(e).fold((function(){return!1}),(function(e){return r.fold((function(){return!0}),(function(e){return Te(e).length>0&&e}))}))},JM=function(e,t){var n=YM(e);return O(n)?n?XM(e):x.none():n[t]?XM(e):x.none()},QM=function(e,t){return JM(e,t).map((function(n){return function(r){return P_.nu((function(i){var o=function(e,t){if(!_(e))throw new Error("Expected value to be string");if(void 0!==t&&!T(t))throw new Error("Expected meta to be a object");var n={value:e,meta:t};i(n)},a=p({filetype:t,fieldname:r.fieldname},x.from(r.meta).getOr({}));n.call(e,o,r.value,a)}))}}))},eP=function(e){return WI(e)?x.none():x.some({targets:FM.find(e.getBody()),anchorTop:KI(e),anchorBottom:GI(e)})},tP=function(e){return x.from(ZI(e))},nP=function(e){return{getHistory:GM,addToHistory:ZM,getLinkInformation:function(){return eP(e)},getValidationHandler:function(){return tP(e)},getUrlPicker:function(t){return QM(e,t)}}},rP=function(e,t,n){var r=Zn(!1),i=iM(t),o={shared:{providers:{icons:function(){return t.ui.registry.getAll().icons},menuItems:function(){return t.ui.registry.getAll().menuItems},translate:Vx.translate,isReadOnly:function(){return t.mode.isReadOnly()}},interpreter:function(e){return WB(e,o)},anchors:XB(t,n,i.isPositionedAtTop),header:i,getSink:function(){return ge.value(e)}},urlinput:nP(t),styleselect:mM(t),colorinput:tM(t),dialog:rM(t),isContextMenuOpen:function(){return r.get()},setContextMenuState:function(e){return r.set(e)}};return o},iP=a((function(e,t){El(e,Math.floor(t))})),oP="contexttoolbar-show",aP="contexttoolbar-hide",sP=a([vn("items"),Ec(["itemSelector"]),$p("tgroupBehaviours",[ny])]),lP=a([Im({name:"items",unit:"item"})]),cP=function(e,t,n,r){return{uid:e.uid,dom:e.dom,components:t,behaviours:Wp(e.tgroupBehaviours,[ny.config({mode:"flow",selector:e.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}},uP=tg({name:"ToolbarGroup",configFields:sP(),partFields:lP(),factory:cP}),dP=a([vn("dom"),Mn("shell",!0),$p("toolbarBehaviours",[fy])]),fP=function(){return{behaviours:Eu([fy.config({})])}},hP=a([xm({name:"groups",overrides:fP})]),pP=function(e,n,r,i){var o=function(e,n){a(e).fold((function(){throw t.console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")}),(function(e){fy.set(e,n)}))},a=function(t){return e.shell?x.some(t):Bm(t,e,"groups")},s=e.shell?{behaviours:[fy.config({})],components:[]}:{behaviours:[],components:n};return{uid:e.uid,dom:e.dom,components:s.components,behaviours:Wp(e.toolbarBehaviours,s.behaviours),apis:{setGroups:o},domModification:{attributes:{role:"group"}}}},mP=tg({name:"Toolbar",configFields:dP(),partFields:hP(),factory:pP,apis:{setGroups:function(e,t,n){e.setGroups(t,n)}}}),gP=function(e,t){var n={len:0,list:[]},r=J(e,(function(e,n){var r=t(n,e.len);return r.fold(a(e),(function(t){return{len:t.finish(),list:e.list.concat([t])}}))}),n);return r.list},vP=function(e,t,n){return{within:a(e),extra:a(t),withinWidth:a(n)}},bP=function(e,t,n){var r=gP(e,(function(e,t){var r=n(e);return x.some({element:a(e),start:a(t),finish:a(t+r),width:a(r)})})),i=X(r,(function(e){return e.finish()<=t})),o=Y(i,(function(e,t){return e+t.width()}),0),s=r.slice(i.length);return{within:a(i),extra:a(s),withinWidth:a(o)}},yP=function(e){return G(e,(function(e){return e.element()}))},CP=function(e,t,n){var r=yP(e.concat(t));return vP(r,[],n)},wP=function(e,t,n,r){var i=yP(e).concat([n]);return vP(i,yP(t),r)},xP=function(e,t,n){return vP(yP(e),[],n)},IP=function(e,t,n){var r=bP(t,e,n);return 0===r.extra().length?x.some(r):x.none()},AP=function(e,t,n,r){var i=IP(e,t,n).getOrThunk((function(){return bP(t,e-n(r),n)})),o=i.within(),a=i.extra(),s=i.withinWidth();return 1===a.length&&a[0].width()<=n(r)?CP(o,a,s):a.length>=1?wP(o,a,r,s):xP(o,a,s)},kP=function(e,t){var n=G(t,(function(e){return hl(e)}));mP.setGroups(e,n)},SP=function(e){return fe(e,(function(e){return Zu(e.element()).bind((function(t){return e.getSystem().getByDom(t).toOption()}))}))},_P=function(e,t,n){var r=Mm(e,t,"primary"),i=tT.getCoupled(e,"overflowGroup");$s(r.element(),"visibility","hidden");var o=t.builtGroups.get().concat([i]),a=SP(o);n([]),kP(r,o);var s=_l(r.element()),l=AP(s,t.builtGroups.get(),(function(e){return _l(e.element())}),i);0===l.extra().length?(fy.remove(r,i),n([])):(kP(r,l.within()),n(l.extra())),Xs(r.element(),"visibility"),Ys(r.element()),a.each(Iy.focus)},TP=a([$p("splitToolbarBehaviours",[tT]),Gn("builtGroups",(function(){return Zn([])}))]),EP=a([Ec(["overflowToggledClass"]),Nn("getOverflowBounds"),vn("lazySink"),Gn("overflowGroups",(function(){return Zn([])}))].concat(TP())),OP=a([Cm({factory:mP,schema:dP(),name:"primary"}),wm({schema:dP(),name:"overflow"}),wm({name:"overflow-button"}),wm({name:"overflow-group"})]),RP=a([Ec(["toggledClass"]),vn("lazySink"),In("fetch"),Nn("getBounds"),Dn("fireDismissalEventInstead",[Mn("event",Yi())]),Dd()]),NP=a([wm({name:"button",overrides:function(e){return{dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Eu([$y.config({toggleClass:e.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])}}}),wm({factory:mP,schema:dP(),name:"toolbar",overrides:function(e){return{toolbarBehaviours:Eu([ny.config({mode:"cyclic",onEscape:function(t){return Bm(t,e,"button").each(Iy.focus),x.none()}})])}}})]),LP=function(e,t){var n=tT.getCoupled(e,"toolbarSandbox");op.isOpen(n)?op.close(n):op.open(n,t.toolbar())},DP=function(e,t,n,r){var i=n.getBounds.map((function(e){return e()})),o=n.lazySink(e).getOrDie();kh.positionWithinBounds(o,{anchor:"hotspot",hotspot:e,layouts:r,overrides:{maxWidthFunction:iP()}},t,i)},BP=function(e,t,n,r,i){mP.setGroups(t,i),DP(e,t,n,r),$y.on(e)},MP=function(e,t,n){var r=uc(),i=function(i,o){n.fetch().get((function(i){BP(e,o,n,t.layouts,i),r.link(e.element()),ny.focusIn(o)}))},o=function(){$y.off(e),Iy.focus(e),r.unlink(e.element())};return{dom:{tag:"div",attributes:{id:r.id}},behaviours:Eu([ny.config({mode:"special",onEscape:function(e){return op.close(e),x.some(!0)}}),op.config({onOpen:i,onClose:o,isPartOf:function(t,n,r){return fc(n,r)||fc(e,r)},getAttachPoint:function(){return n.lazySink(e).getOrDie()}}),ju.config({channels:p(p({},up(p({isExtraPart:d},n.fireDismissalEventInstead.map((function(e){return{fireEventInstead:{event:e.event}}})).getOr({})))),fp({doReposition:function(){op.getState(tT.getCoupled(e,"toolbarSandbox")).each((function(r){DP(e,r,n,t.layouts)}))}}))})])}},PP=function(e,t,n,r){return p(p({},$C.sketch(p(p({},r.button()),{action:function(e){LP(e,r)},buttonBehaviours:Kp.augment({dump:r.button().buttonBehaviours},[tT.config({others:{toolbarSandbox:function(t){return MP(t,n,e)}}})])}))),{apis:{setGroups:function(t,r){op.getState(tT.getCoupled(t,"toolbarSandbox")).each((function(i){BP(t,i,e,n.layouts,r)}))},reposition:function(t){op.getState(tT.getCoupled(t,"toolbarSandbox")).each((function(r){DP(t,r,e,n.layouts)}))},toggle:function(e){LP(e,r)},getToolbar:function(e){return op.getState(tT.getCoupled(e,"toolbarSandbox"))}}})},FP=tg({name:"FloatingToolbarButton",factory:PP,configFields:RP(),partFields:NP(),apis:{setGroups:function(e,t,n){e.setGroups(t,n)},reposition:function(e,t){e.reposition(t)},toggle:function(e,t){e.toggle(t)},getToolbar:function(e,t){return e.getToolbar(t)}}}),jP=function(e){return G(e,(function(e){return hl(e)}))},HP=function(e,t,n){_P(e,n,(function(r){n.overflowGroups.set(r),t.getOpt(e).each((function(e){FP.setGroups(e,jP(r))}))}))},zP=function(e,t,n,r){var i=VC(FP.sketch({fetch:function(){return P_.nu((function(t){t(jP(e.overflowGroups.get()))}))},layouts:{onLtr:function(){return[cu,lu]},onRtl:function(){return[lu,cu]},onBottomLtr:function(){return[du,uu]},onBottomRtl:function(){return[uu,du]}},getBounds:n.getOverflowBounds,lazySink:e.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:e.markers.overflowToggledClass},parts:{button:r["overflow-button"](),toolbar:r.overflow()}}));return{uid:e.uid,dom:e.dom,components:t,behaviours:Wp(e.splitToolbarBehaviours,[tT.config({others:{overflowGroup:function(){return uP.sketch(p(p({},r["overflow-group"]()),{items:[i.asSpec()]}))}}})]),apis:{setGroups:function(t,n){e.builtGroups.set(G(n,t.getSystem().build)),HP(t,i,e)},refresh:function(t){return HP(t,i,e)},toggle:function(e){i.getOpt(e).each((function(e){FP.toggle(e)}))},reposition:function(e){i.getOpt(e).each((function(e){FP.reposition(e)}))},getOverflow:function(e){return i.getOpt(e).bind((function(e){return FP.getToolbar(e)}))}},domModification:{attributes:{role:"group"}}}},$P=tg({name:"SplitFloatingToolbar",configFields:EP(),partFields:OP(),factory:zP,apis:{setGroups:function(e,t,n){e.setGroups(t,n)},refresh:function(e,t){e.refresh(t)},reposition:function(e,t){e.reposition(t)},toggle:function(e,t){e.toggle(t)},getOverflow:function(e,t){return e.getOverflow(t)}}}),VP=function(e,t){return t.getAnimationRoot.fold((function(){return e.element()}),(function(t){return t(e)}))},WP=function(e){return e.dimension.property},KP=function(e,t){return e.dimension.getDimension(t)},GP=function(e,t){var n=VP(e,t);Ss(n,[t.shrinkingClass,t.growingClass])},ZP=function(e,t){Is(e.element(),t.openClass),ws(e.element(),t.closedClass),$s(e.element(),WP(t),"0px"),Ys(e.element())},UP=function(e,t){Is(e.element(),t.closedClass),ws(e.element(),t.openClass),Xs(e.element(),WP(t))},qP=function(e,t,n,r){n.setCollapsed(),$s(e.element(),WP(t),KP(t,e.element())),Ys(e.element()),GP(e,t),ZP(e,t),t.onStartShrink(e),t.onShrunk(e)},XP=function(e,t,n,r){var i=r.getOrThunk((function(){return KP(t,e.element())}));n.setCollapsed(),$s(e.element(),WP(t),i),Ys(e.element());var o=VP(e,t);Is(o,t.growingClass),ws(o,t.shrinkingClass),ZP(e,t),t.onStartShrink(e)},YP=function(e,t,n){var r=KP(t,e.element()),i="0px"===r?qP:XP;i(e,t,n,x.some(r))},JP=function(e,t,n){var r=VP(e,t),i=As(r,t.shrinkingClass),o=KP(t,e.element());UP(e,t);var a=KP(t,e.element()),s=function(){$s(e.element(),WP(t),o),Ys(e.element())},l=function(){ZP(e,t)},c=i?s:l;c(),Is(r,t.shrinkingClass),ws(r,t.growingClass),UP(e,t),$s(e.element(),WP(t),a),n.setExpanded(),t.onStartGrow(e)},QP=function(e,t,n){if(n.isExpanded()){Xs(e.element(),WP(t));var r=KP(t,e.element());$s(e.element(),WP(t),r)}},eF=function(e,t,n){n.isExpanded()||JP(e,t,n)},tF=function(e,t,n){n.isExpanded()&&YP(e,t,n)},nF=function(e,t,n){n.isExpanded()&&qP(e,t,n,x.none())},rF=function(e,t,n){return n.isExpanded()},iF=function(e,t,n){return n.isCollapsed()},oF=function(e,t,n){var r=VP(e,t);return!0===As(r,t.growingClass)},aF=function(e,t,n){var r=VP(e,t);return!0===As(r,t.shrinkingClass)},sF=function(e,t,n){return!0===oF(e,t)||!0===aF(e,t)},lF=function(e,t,n){var r=n.isExpanded()?YP:JP;r(e,t,n)},cF=Object.freeze({__proto__:null,refresh:QP,grow:eF,shrink:tF,immediateShrink:nF,hasGrown:rF,hasShrunk:iF,isGrowing:oF,isShrinking:aF,isTransitioning:sF,toggleGrow:lF,disableTransitions:GP}),uF=function(e,t,n){var r=t.expanded;return Ua(r?{classes:[t.openClass],styles:{}}:{classes:[t.closedClass],styles:ct(t.dimension.property,"0px")})},dF=function(e,t){return fo([ko(Ri(),(function(n,r){var i=r.event().raw();if(i.propertyName===e.dimension.property){GP(n,e),t.isExpanded()&&Xs(n.element(),e.dimension.property);var o=t.isExpanded()?e.onGrown:e.onShrunk;o(n)}}))])},fF=Object.freeze({__proto__:null,exhibit:uF,events:dF}),hF=[vn("closedClass"),vn("openClass"),vn("shrinkingClass"),vn("growingClass"),Tn("getAnimationRoot"),Rc("onShrunk"),Rc("onStartShrink"),Rc("onGrown"),Rc("onStartGrow"),Mn("expanded",!1),bn("dimension",sn("property",{width:[Bc("property","width"),Bc("getDimension",(function(e){return _l(e)+"px"}))],height:[Bc("property","height"),Bc("getDimension",(function(e){return gl(e)+"px"}))]}))],pF=function(e){var t=Zn(e.expanded),n=function(){return"expanded: "+t.get()};return Va({isExpanded:function(){return!0===t.get()},isCollapsed:function(){return!1===t.get()},setCollapsed:l(t.set,!1),setExpanded:l(t.set,!0),readState:n})},mF=Object.freeze({__proto__:null,init:pF}),gF=Ru({fields:hF,name:"sliding",active:fF,apis:cF,state:mF}),vF=a([Ec(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Rc("onOpened"),Rc("onClosed")].concat(TP())),bF=a([Cm({factory:mP,schema:dP(),name:"primary"}),Cm({factory:mP,schema:dP(),name:"overflow",overrides:function(e){return{toolbarBehaviours:Eu([gF.config({dimension:{property:"height"},closedClass:e.markers.closedClass,openClass:e.markers.openClass,shrinkingClass:e.markers.shrinkingClass,growingClass:e.markers.growingClass,onShrunk:function(t){Bm(t,e,"overflow-button").each((function(e){$y.off(e),Iy.focus(e)})),e.onClosed(t)},onGrown:function(t){ny.focusIn(t),e.onOpened(t)},onStartGrow:function(t){Bm(t,e,"overflow-button").each($y.on)}}),ny.config({mode:"acyclic",onEscape:function(t){return Bm(t,e,"overflow-button").each(Iy.focus),x.some(!0)}})])}}}),wm({name:"overflow-button",overrides:function(e){return{buttonBehaviours:Eu([$y.config({toggleClass:e.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])}}}),wm({name:"overflow-group"})]),yF=function(e,t){Bm(e,t,"overflow").each((function(n){CF(e,t),gF.toggleGrow(n)}))},CF=function(e,t){Bm(e,t,"overflow").each((function(n){_P(e,t,(function(e){var t=G(e,(function(e){return hl(e)}));mP.setGroups(n,t)})),Bm(e,t,"overflow-button").each((function(e){gF.hasGrown(n)&&$y.on(e)})),gF.refresh(n)}))},wF=function(e,t,n,r){var i="alloy.toolbar.toggle",o=function(t,n){var r=G(n,t.getSystem().build);e.builtGroups.set(r)};return{uid:e.uid,dom:e.dom,components:t,behaviours:Wp(e.splitToolbarBehaviours,[tT.config({others:{overflowGroup:function(e){return uP.sketch(p(p({},r["overflow-group"]()),{items:[$C.sketch(p(p({},r["overflow-button"]()),{action:function(t){oo(e,i)}}))]}))}}}),py("toolbar-toggle-events",[go(i,(function(t){Bm(t,e,"overflow").each((function(n){CF(t,e),gF.toggleGrow(n)}))}))])]),apis:{setGroups:function(t,n){o(t,n),CF(t,e)},refresh:function(t){return CF(t,e)},toggle:function(t){return yF(t,e)}},domModification:{attributes:{role:"group"}}}},xF=tg({name:"SplitSlidingToolbar",configFields:vF(),partFields:bF(),factory:wF,apis:{setGroups:function(e,t,n){e.setGroups(t,n)},refresh:function(e,t){e.refresh(t)},toggle:function(e,t){e.toggle(t)}}}),IF=a(xa("toolbar-height-change")),AF=function(e){var t=e.title.fold((function(){return{}}),(function(e){return{attributes:{title:e}}}));return{dom:p({tag:"div",classes:["tox-toolbar__group"]},t),components:[uP.parts().items({})],items:e.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])"},tgroupBehaviours:Eu([r_.config({}),Iy.config({})])}},kF=function(e){return uP.sketch(AF(e))},SF=function(e,t){var n=So((function(t){var n=G(e.initGroups,kF);mP.setGroups(t,n)}));return Eu([rA.toolbarButton(e.providers.isReadOnly),JI(),ny.config({mode:t,onEscape:e.onEscape,selector:".tox-toolbar__group"}),py("toolbar-events",[n])])},_F=function(e){var t=e.cyclicKeying?"cyclic":"acyclic";return{uid:e.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":AF({title:x.none(),items:[]}),"overflow-button":BL({name:"more",icon:x.some("more-drawer"),disabled:!1,tooltip:x.some("More..."),primary:!1,borderless:!1},x.none(),e.providers)},splitToolbarBehaviours:SF(e,t)}},TF=function(e){var t=_F(e),n=4,r=$P.parts().primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return $P.sketch(p(p({},t),{lazySink:e.getSink,getOverflowBounds:function(){var t=e.moreDrawerData.lazyHeader().element(),r=Jl(t),i=jo(t),o=Jl(i),a=Math.max(i.dom().scrollHeight,o.height);return Xl(r.x+n,o.y,r.width-2*n,a)},parts:p(p({},t.parts),{overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:e.attributes}}}),components:[r],markers:{overflowToggledClass:"tox-tbtn--enabled"}}))},EF=function(e){var t=xF.parts().primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),n=xF.parts().overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),r=_F(e);return xF.sketch(p(p({},r),{components:[t,n],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:function(e){e.getSystem().broadcastOn([IF()],{type:"opened"})},onClosed:function(e){e.getSystem().broadcastOn([IF()],{type:"closed"})}}))},OF=function(e){var t=e.cyclicKeying?"cyclic":"acyclic";return mP.sketch({uid:e.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(e.type===Mw.scrolling?["tox-toolbar--scrolling"]:[])},components:[mP.parts().groups({})],toolbarBehaviours:SF(e,t)})},RF=[zn("disabled",!1),Rn("tooltip"),Rn("icon"),Rn("text"),$n("onSetup",(function(){return n}))],NF=Ft([Cn("type"),In("onAction")].concat(RF)),LF=function(e){return tn("toolbarbutton",NF,e)},DF=[Rn("text"),Rn("tooltip"),Rn("icon"),In("fetch"),$n("onSetup",(function(){return n}))],BF=Ft(g([Cn("type")],DF)),MF=function(e){return tn("menubutton",BF,e)},PF=Ft([Cn("type"),Rn("tooltip"),Rn("icon"),Rn("text"),Nn("select"),In("fetch"),$n("onSetup",(function(){return n})),Hn("presets","normal",["normal","color","listpreview"]),Mn("columns",1),In("onAction"),In("onItemAction")]),FF=function(e){return tn("SplitButton",PF,e)},jF=[zn("active",!1)].concat(RF),HF=Ft(jF.concat([Cn("type"),In("onAction")])),zF=function(e){return tn("ToggleButton",HF,e)},$F=Ft([Cn("type"),bn("items",Ht([qt([Cn("name"),_n("items",dn)]),dn]))].concat(RF)),VF=function(e){return tn("GroupToolbarButton",$F,e)},WF=[$n("predicate",(function(){return!1})),Hn("scope","node",["node","editor"]),Hn("position","selection",["node","selection","line"])],KF=RF.concat([Mn("type","contextformbutton"),Mn("primary",!1),In("onAction"),Gn("original",s)]),GF=jF.concat([Mn("type","contextformbutton"),Mn("primary",!1),In("onAction"),Gn("original",s)]),ZF=RF.concat([Mn("type","contextformbutton")]),UF=jF.concat([Mn("type","contextformtogglebutton")]),qF=sn("type",{contextformbutton:KF,contextformtogglebutton:GF}),XF=Ft([Mn("type","contextform"),$n("initValue",(function(){return""})),Rn("label"),_n("commands",qF),En("launch",sn("type",{contextformbutton:ZF,contextformtogglebutton:UF}))].concat(WF)),YF=Ft([Mn("type","contexttoolbar"),Cn("items")].concat(WF)),JF=function(e){return tn("ContextToolbar",YF,e)},QF=function(e){return tn("ContextForm",XF,e)},ej=function(e,t,n){return n},tj=Object.freeze({__proto__:null,getState:ej}),nj=function(e,t){var n=function(n,r){e.updateState.each((function(e){var i=e(n,r);t.set(i)})),e.renderComponents.each((function(e){var i=e(r,t.get()),o=G(i,n.getSystem().build);Oh(n,o)}))};return fo([go(Pi(),(function(t,r){var i=r,o=e.channel;$(i.channels(),o)&&n(t,i.data())})),So((function(t,r){e.initialData.each((function(e){n(t,e)}))}))])},rj=Object.freeze({__proto__:null,events:nj}),ij=function(){var e=Zn(x.none()),t=function(t){return e.set(t)},n=function(){return e.set(x.none())},r=function(){return e.get()},i=function(){return e.get().fold((function(){return"none"}),(function(e){return e}))};return{readState:i,get:r,set:t,clear:n}},oj=Object.freeze({__proto__:null,init:ij}),aj=[vn("channel"),Tn("renderComponents"),Tn("updateState"),Tn("initialData")],sj=Ru({fields:aj,name:"reflecting",active:rj,apis:tj,state:oj}),lj=a([vn("toggleClass"),vn("fetch"),Lc("onExecute"),Mn("getHotspot",x.some),Mn("getAnchorOverrides",a({})),Dd(),Lc("onItemExecute"),Tn("lazySink"),vn("dom"),Rc("onOpen"),$p("splitDropdownBehaviours",[tT,ny,Iy]),Mn("matchWidth",!1),Mn("useMinWidth",!1),Mn("eventOrder",{}),Tn("role")].concat(mT())),cj=Cm({factory:$C,schema:[vn("dom")],name:"arrow",defaults:function(){return{buttonBehaviours:Eu([Iy.revoke()])}},overrides:function(e){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(t){t.getSystem().getByUid(e.uid).each(so)},buttonBehaviours:Eu([$y.config({toggleOnExecute:!1,toggleClass:e.toggleClass})])}}}),uj=Cm({factory:$C,schema:[vn("dom")],name:"button",defaults:function(){return{buttonBehaviours:Eu([Iy.revoke()])}},overrides:function(e){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(t){t.getSystem().getByUid(e.uid).each((function(n){e.onExecute(n,t)}))}}}}),dj=a([cj,uj,xm({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}}}},schema:[vn("text")],name:"aria-descriptor"}),wm({schema:[Tc()],name:"menu",defaults:function(e){return{onExecute:function(t,n){t.getSystem().getByUid(e.uid).each((function(r){e.onItemExecute(r,t,n)}))}}}}),rT()]),fj=function(e,t,r,i){var o=function(e){ug.getCurrent(e).each((function(e){Og.highlightFirst(e),ny.focusIn(e)}))},a=function(t){var r=o;cT(e,(function(e){return e}),t,i,r,T_.HighlightFirst).get(n)},s=function(e){return a(e),x.some(!0)},l=function(t){var n=Mm(t,e,"button");return so(n),x.some(!0)},c=p(p({},fo([So((function(t,n){var r=Bm(t,e,"aria-descriptor");r.each((function(e){var n=xa("aria");la(e.element(),"id",n),la(t.element(),"aria-describedby",n)}))}))])),Wy(x.some(a))),u={repositionMenus:function(e){$y.isOn(e)&&pT(e)}};return{uid:e.uid,dom:e.dom,components:t,apis:u,eventOrder:p(p({},e.eventOrder),{"alloy.execute":["disabling","toggling","alloy.base.behaviour"]}),events:c,behaviours:Wp(e.splitDropdownBehaviours,[tT.config({others:{sandbox:function(t){var n=Mm(t,e,"arrow"),r={onOpen:function(){$y.on(n),$y.on(t)},onClose:function(){$y.off(n),$y.off(t)}};return hT(e,t,r)}}}),ny.config({mode:"special",onSpace:l,onEnter:l,onDown:s}),Iy.config({}),$y.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:e.role.getOr("button"),"aria-haspopup":!0}}}},hj=tg({name:"SplitDropdown",configFields:lj(),partFields:dj(),factory:fj,apis:{repositionMenus:function(e,t){return e.repositionMenus(t)}}}),pj=function(e){return{isDisabled:function(){return lI.isDisabled(e)},setDisabled:function(t){return lI.set(e,t)}}},mj=function(e){return{setActive:function(t){$y.set(e,t)},isActive:function(){return $y.isOn(e)},isDisabled:function(){return lI.isDisabled(e)},setDisabled:function(t){return lI.set(e,t)}}},gj=function(e,t){return e.map((function(e){return{"aria-label":t.translate(e),title:t.translate(e)}})).getOr({})},vj=xa("focus-button"),bj=["checklist","ordered-list"],yj=["indent","outdent","table-insert-column-after","table-insert-column-before","unordered-list"],Cj=function(e,t,n,r,i,o){var a,s=function(e){return Vx.isRtl()&&$(bj,e)?e+"-rtl":e},l=Vx.isRtl()&&e.exists((function(e){return $(yj,e)}));return{dom:{tag:"button",classes:["tox-tbtn"].concat(t.isSome()?["tox-tbtn--select"]:[]).concat(l?["tox-tbtn__icon-rtl"]:[]),attributes:gj(n,o)},components:cA([e.map((function(e){return fL(s(e),o.icons)})),t.map((function(e){return pL(e,"tox-tbtn",o)}))]),eventOrder:(a={},a[yi()]=["focusing","alloy.base.behaviour","common-button-display-events"],a),buttonBehaviours:Eu([rA.toolbarButton(o.isReadOnly),JI(),py("common-button-display-events",[go(yi(),(function(e,t){t.event().prevent(),oo(e,vj)}))])].concat(r.map((function(n){return sj.config({channel:n,initialData:{icon:e,text:t},renderComponents:function(e,t){return cA([e.icon.map((function(e){return fL(s(e),o.icons)})),e.text.map((function(e){return pL(e,"tox-tbtn",o)}))])}})})).toArray()).concat(i.getOr([])))}},wj=function(e,t,n,r){var i=t.shared;return FP.sketch({lazySink:i.getSink,fetch:function(){return P_.nu((function(t){t(G(n(e.items),kF))}))},markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:Cj(e.icon,e.text,e.tooltip,x.none(),x.none(),i.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:r}}}})},xj=function(e,t,r){var i=Zn(n),o=Cj(e.icon,e.text,e.tooltip,x.none(),x.none(),r);return $C.sketch({dom:o.dom,components:o.components,eventOrder:vL,buttonBehaviours:Eu([py("toolbar-button-events",[gL({onAction:e.onAction,getApi:t.getApi}),oA(t,i),aA(t,i)]),rA.toolbarButton((function(){return e.disabled||r.isReadOnly()})),JI()].concat(t.toolbarButtonBehaviours))})},Ij=function(e,t){return Aj(e,t,[])},Aj=function(e,t,n){return xj(e,{toolbarButtonBehaviours:[].concat(n.length>0?[py("toolbarButtonWith",n)]:[]),getApi:pj,onSetup:e.onSetup},t)},kj=function(e,t){return Sj(e,t,[])},Sj=function(e,t,n){return Ue(xj(e,{toolbarButtonBehaviours:[fy.config({}),$y.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(n.length>0?[py("toolbarToggleButtonWith",n)]:[]),getApi:mj,onSetup:e.onSetup},t))},_j=function(e,t,n){return function(r){return P_.nu((function(e){return t.fetch(e)})).map((function(i){return x.from(dS(Ue(Vk(xa("menu-value"),i,(function(n){t.onItemAction(e(r),n)}),t.columns,t.presets,Pw.CLOSE_ON_EXECUTE,t.select.getOr((function(){return!1})),n),{movement:Kk(t.columns,t.presets),menuBehaviours:Ex.unnamedEvents("auto"!==t.columns?[]:[So((function(e,n){Sx(e,4,Yw(t.presets)).each((function(t){var n=t.numRows,r=t.numColumns;ny.setGridSize(e,n,r)}))}))])})))}))}},Tj=function(e,t){var r,i=xa("channel-update-split-dropdown-display"),o=function(e){return{isDisabled:function(){return lI.isDisabled(e)},setDisabled:function(t){return lI.set(e,t)},setIconFill:function(t,n){sc(e.element(),'svg path[id="'+t+'"], rect[id="'+t+'"]').each((function(e){la(e,"fill",n)}))},setIconStroke:function(t,n){sc(e.element(),'svg path[id="'+t+'"], rect[id="'+t+'"]').each((function(e){la(e,"stroke",n)}))},setActive:function(t){la(e.element(),"aria-pressed",t),sc(e.element(),"span").each((function(n){e.getSystem().getByDom(n).each((function(e){return $y.set(e,t)}))}))},isActive:function(){return sc(e.element(),"span").exists((function(t){return e.getSystem().getByDom(t).exists($y.isOn)}))}}},a=Zn(n),s={getApi:o,onSetup:e.onSetup};return hj.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:p({"aria-pressed":!1},gj(e.tooltip,t.providers))},onExecute:function(t){e.onAction(o(t))},onItemExecute:function(e,t,n){},splitDropdownBehaviours:Eu([rA.splitButton(t.providers.isReadOnly),JI(),py("split-dropdown-events",[go(vj,Iy.focus),oA(s,a),aA(s,a)]),IT.config({})]),eventOrder:(r={},r[qi()]=["alloy.base.behaviour","split-dropdown-events"],r),toggleClass:"tox-tbtn--enabled",lazySink:t.getSink,fetch:_j(o,e,t.providers),parts:{menu:rx(!1,e.columns,e.presets)},components:[hj.parts().button(Cj(e.icon,e.text,x.none(),x.some(i),x.some([$y.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),t.providers)),hj.parts().arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:KC("chevron-down",t.providers.icons)},buttonBehaviours:Eu([rA.splitButton(t.providers.isReadOnly),JI()])}),hj.parts()["aria-descriptor"]({text:t.providers.translate("To open the popup, press Shift+Enter")})]})},Ej=function(e){return{hide:function(){return oo(e,$i())},getValue:function(){return zp.getValue(e)}}},Oj=function(e,t){return go(mL,(function(n,r){var i=e.get(n),o=Ej(i);t.onAction(o,r.event().buttonApi())}))},Rj=function(e,t,n){var r=t.original,i=(r.primary,m(r,["primary"])),o=nn(LF(p(p({},i),{type:"button",onAction:function(){}})));return Aj(o,n.backstage.shared.providers,[Oj(e,t)])},Nj=function(e,t,n){var r=t.original,i=(r.primary,m(r,["primary"])),o=nn(zF(p(p({},i),{type:"togglebutton",onAction:function(){}})));return Sj(o,n.backstage.shared.providers,[Oj(e,t)])},Lj=function(e,t,n){var r={backstage:{shared:{providers:n}}};return"contextformtogglebutton"===t.type?Nj(e,t,r):Rj(e,t,r)},Dj=function(e,t,n){var r=G(t,(function(t){return VC(Lj(e,t,n))})),i=function(){return G(r,(function(e){return e.asSpec()}))},o=function(e){return fe(t,(function(t,n){return t.primary?x.from(r[n]).bind((function(t){return t.getOpt(e)})).filter(c(lI.isDisabled)):x.none()}))};return{asSpecs:i,findPrimary:o}},Bj=function(e,t){var n=e.label.fold((function(){return{}}),(function(e){return{"aria-label":e}})),r=VC(k_.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:e.initValue(),inputAttributes:n,selectOnFocus:!0,inputBehaviours:Eu([ny.config({mode:"special",onEnter:function(e){return i.findPrimary(e).map((function(e){return so(e),!0}))},onLeft:function(e,t){return t.cut(),x.none()},onRight:function(e,t){return t.cut(),x.none()}})])})),i=Dj(r,e.commands,t);return[{title:x.none(),items:[r.asSpec()]},{title:x.none(),items:i.asSpecs()}]},Mj=function(e,t,n){return OF({type:e,uid:xa("context-toolbar"),initGroups:Bj(t,n),onEscape:x.none,cyclicKeying:!0,providers:n})},Pj={renderContextForm:Mj,buildInitGroups:Bj},Fj=function(e,t){var n=Math.max(t.x,e.x),r=e.right-n,i=t.width-(n-t.x),o=Math.min(r,i);return{x:n,width:o}},jj=function(e,t,n,r){var i=Qn.fromDom(e.getContainer()),o=sc(i,".tox-editor-header").getOr(i),a=Yl(o),s=a.y>=t.bottom,l=r&&!s;if(e.inline&&l)return{y:Math.max(a.bottom,n.y),bottom:n.bottom};if(e.inline&&!l)return{y:n.y,bottom:Math.min(a.y,n.bottom)};var c=Yl(i);return l?{y:Math.max(a.bottom,n.y),bottom:Math.min(c.bottom,n.bottom)}:{y:Math.max(c.y,n.y),bottom:Math.min(a.y,n.bottom)}},Hj=function(e,n){var r=zl(t.window),i=Yl(Qn.fromDom(e.getContentAreaContainer())),o=xI(e)||II(e)||kI(e),a=Fj(i,r),s=a.x,l=a.width;if(e.inline&&!o)return Xl(s,r.y,l,r.height);var c=n.header.isPositionedAtTop(),u=jj(e,i,r,c),d=u.y,f=u.bottom;return Xl(s,d,l,f-d)},zj=function(e,t){var n=X(t,(function(t){return t.predicate(e.dom())})),r=q(n,(function(e){return"contexttoolbar"===e.type})),i=r.pass,o=r.fail;return{contextToolbars:i,contextForms:o}},$j=function(e){if(e.length<=1)return e;var t=function(t){return V(e,(function(e){return e.position===t}))},n=function(t){return X(e,(function(e){return e.position===t}))},r=t("selection"),i=t("node");if(r||i){if(i&&r){var o=n("node"),a=G(n("selection"),(function(e){return p(p({},e),{position:"node"})}));return o.concat(a)}return n(r?"selection":"node")}return n("line")},Vj=function(e){if(e.length<=1)return e;var t=function(t){return ee(e,(function(e){return e.position===t}))},n=t("selection").orThunk((function(){return t("node")})).orThunk((function(){return t("line")})).map((function(e){return e.position}));return n.fold((function(){return[]}),(function(t){return X(e,(function(e){return e.position===t}))}))},Wj=function(e,t,n){var r=zj(e,t);if(r.contextForms.length>0)return x.some({elem:e,toolbars:[r.contextForms[0]]});var i=zj(e,n);if(i.contextForms.length>0)return x.some({elem:e,toolbars:[i.contextForms[0]]});if(r.contextToolbars.length>0||i.contextToolbars.length>0){var o=$j(r.contextToolbars.concat(i.contextToolbars));return x.some({elem:e,toolbars:o})}return x.none()},Kj=function(e,t,n){return e(t)?x.none():si(t,(function(e){var t=zj(e,n.inNodeScope),r=t.contextToolbars,i=t.contextForms,o=i.length>0?i:Vj(r);return o.length>0?x.some({elem:e,toolbars:o}):x.none()}),e)},Gj=function(e,t){var n=Qn.fromDom(t.getBody()),r=function(e){return ni(e,n)},i=function(e){return!r(e)&&!oi(n,e)},o=Qn.fromDom(t.selection.getNode());return i(o)?x.none():Wj(o,e.inNodeScope,e.inEditorScope).orThunk((function(){return Kj(r,o,e)}))},Zj=function(e,t){var n={},r=[],i=[],o={},a={},s=function(e,s){var l=nn(QF(s));n[e]=l,l.launch.map((function(n){o["form:"+e]=p(p({},s.launch),{type:"contextformtogglebutton"===n.type?"togglebutton":"button",onAction:function(){t(l)}})})),"editor"===l.scope?i.push(l):r.push(l),a[e]=l},l=function(e,t){JF(t).each((function(n){"editor"===t.scope?i.push(n):r.push(n),a[e]=n}))},c=Te(e);return Z(c,(function(t){var n=e[t];"contextform"===n.type?s(t,n):"contexttoolbar"===n.type&&l(t,n)})),{forms:n,inNodeScope:r,inEditorScope:i,lookupTable:a,formNavigators:o}},Uj=xa("forward-slide"),qj=xa("backward-slide"),Xj=xa("change-slide-event"),Yj="tox-pop--resizing",Jj=function(e){var t=Zn([]);return TC.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:function(e){t.set([]),TC.getContent(e).each((function(e){Xs(e.element(),"visibility")})),Is(e.element(),Yj),Xs(e.element(),"width")},inlineBehaviours:Eu([py("context-toolbar-events",[ko(Ri(),(function(e,t){Is(e.element(),Yj),Xs(e.element(),"width")})),go(Xj,(function(e,t){Xs(e.element(),"width");var n=_l(e.element());TC.setContent(e,t.event().contents()),ws(e.element(),Yj);var r=_l(e.element());$s(e.element(),"width",n+"px"),TC.getContent(e).each((function(n){t.event().focus().bind((function(t){return Vu(t),Zu(e.element())})).orThunk((function(){return ny.focusIn(n),Gu()}))})),HC.setTimeout((function(){$s(e.element(),"width",r+"px")}),0)})),go(Uj,(function(e,n){TC.getContent(e).each((function(e){t.set(t.get().concat([{bar:e,focus:Gu()}]))})),ao(e,Xj,{contents:n.event().forwardContents(),focus:x.none()})})),go(qj,(function(e,n){ue(t.get()).each((function(n){t.set(t.get().slice(0,t.get().length-1)),ao(e,Xj,{contents:hl(n.bar),focus:n.focus})}))}))]),ny.config({mode:"special",onEscape:function(n){return ue(t.get()).fold((function(){return e.onEscape()}),(function(e){return oo(n,qj),x.some(!0)}))}})]),lazySink:function(){return ge.value(e.sink)}})},Qj=function(e,t,n){var r=function(e,r,o,a){var s=t.shared.providers.translate(e.title);if("separator"===e.type)return x.some({type:"separator",text:s});if("submenu"===e.type){var l=re(e.getStyleItems(),(function(e){return i(e,r,a)}));return 0===r&&l.length<=0?x.none():x.some({type:"nestedmenuitem",text:s,disabled:l.length<=0,getSubmenuItems:function(){return re(e.getStyleItems(),(function(e){return i(e,r,a)}))}})}return x.some(p({type:"togglemenuitem",text:s,icon:e.icon,active:e.isSelected(a),disabled:o,onAction:n.onAction(e)},e.getStylePreview().fold((function(){return{}}),(function(e){return{meta:{style:e}}}))))},i=function(e,t,i){var o="formatter"===e.type&&n.isInvalid(e);return 0===t?o?[]:r(e,t,!1,i).toArray():r(e,t,o,i).toArray()},o=function(e){var t=n.getCurrentValue(),r=n.shouldHide?0:1;return re(e,(function(e){return i(e,r,t)}))},a=function(e,t){return function(n){var r=t(),i=o(r),a=OL(i,Pw.CLOSE_ON_EXECUTE,e,!1);n(a)}};return{validateItems:o,getFetch:a}},eH=function(e,t,n){var r=n.dataset,i="basic"===r.type?function(){return G(r.data,(function(e){return hM(e,n.isSelectedFor,n.getPreviewFor)}))}:r.getData;return{items:Qj(e,t,n),getStyleItems:i}},tH=function(e,t,r){var i=eH(e,t,r),o=i.items,a=i.getStyleItems,s=function(e){return{getComponent:function(){return e}}},l=function(t){return r.setInitialValue.each((function(e){return e(t.getComponent())})),r.nodeChangeHandler.map((function(n){var r=n(t.getComponent());return e.on("NodeChange",r),function(){e.off("NodeChange",r)}})).getOr(n)};return CL({text:r.icon.isSome()?x.none():x.some(""),icon:r.icon,tooltip:x.from(r.tooltip),role:x.none(),fetch:o.getFetch(t,a),onSetup:l,getApi:s,columns:1,presets:"normal",classes:r.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",t.shared)},nH=function(e){return G(e,(function(e){var t=e,n=e,r=e.split("=");return r.length>1&&(t=r[0],n=r[1]),{title:t,format:n}}))},rH=function(e){return{type:"basic",data:e}};(function(e){e[e["SemiColon"]=0]="SemiColon",e[e["Space"]=1]="Space"})(BD||(BD={}));var iH,oH=function(e,t){return t===BD.SemiColon?e.replace(/;$/,"").split(";"):e.split(" ")},aH=function(e,t,n,r){var i=e.getParam(t,n,"string"),o=nH(oH(i,r));return{type:"basic",data:o}},sH=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],lH=function(e){var t=function(){return ee(sH,(function(t){return e.formatter.match(t.format)}))},n=function(t){return function(){return e.formatter.match(t)}},r=function(e){return function(){return x.none()}},i=function(e){var n=t(),r=n.fold((function(){return"left"}),(function(e){return e.title.toLowerCase()}));ao(e,yL,{icon:"align-"+r})},o=x.some((function(e){return function(){return i(e)}})),s=x.some((function(e){return i(e)})),l=rH(sH),c=function(t){return function(){return ee(sH,(function(e){return e.format===t.format})).each((function(t){return e.execCommand(t.command)}))}};return{tooltip:"Align",icon:x.some("align-left"),isSelectedFor:n,getCurrentValue:a(x.none()),getPreviewFor:r,onAction:c,setInitialValue:s,nodeChangeHandler:o,dataset:l,shouldHide:!1,isInvalid:function(t){return!e.formatter.canApply(t.format)}}},cH=function(e,t){return tH(e,t,lH(e))},uH=function(e,t){var n=eH(e,t,lH(e));e.ui.registry.addNestedMenuItem("align",{text:t.shared.providers.translate("Align"),getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})},dH="Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",fH=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],hH=function(e){var t=e.split(/\s*,\s*/);return G(t,(function(e){return e.replace(/^['"]+|['"]+$/g,"")}))},pH=function(e){var t=function(){var t=hH(e.toLowerCase());return ie(fH,(function(e){return t.indexOf(e.toLowerCase())>-1}))};return 0===e.indexOf("-apple-system")&&t()},mH=function(e){var t=function(){var t=function(e){return e?hH(e)[0]:""},n=e.queryCommandValue("FontName"),r=c.data,i=n?n.toLowerCase():"",o=ee(r,(function(e){var n=e.format;return n.toLowerCase()===i||t(n).toLowerCase()===t(i).toLowerCase()})).orThunk((function(){return pH(i)?x.from({title:"System Font",format:i}):x.none()}));return{matchOpt:o,font:n}},n=function(e){return function(t){return t.exists((function(t){return t.format===e}))}},r=function(){var e=t().matchOpt;return e},i=function(e){return function(){return x.some({tag:"div",styles:-1===e.indexOf("dings")?{"font-family":e}:{}})}},o=function(t){return function(){e.undoManager.transact((function(){e.focus(),e.execCommand("FontName",!1,t.format)}))}},a=function(e){var n=t(),r=n.matchOpt,i=n.font,o=r.fold((function(){return i}),(function(e){return e.title}));ao(e,bL,{text:o})},s=x.some((function(e){return function(){return a(e)}})),l=x.some((function(e){return a(e)})),c=aH(e,"font_formats",dH,BD.SemiColon);return{tooltip:"Fonts",icon:x.none(),isSelectedFor:n,getCurrentValue:r,getPreviewFor:i,onAction:o,setInitialValue:l,nodeChangeHandler:s,dataset:c,shouldHide:!1,isInvalid:function(){return!1}}},gH=function(e,t){return tH(e,t,mH(e))},vH=function(e,t){var n=eH(e,t,mH(e));e.ui.registry.addNestedMenuItem("fontformats",{text:t.shared.providers.translate("Fonts"),getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})},bH="8pt 10pt 12pt 14pt 18pt 24pt 36pt",yH={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},CH=function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n},wH=function(e,t){return/[0-9.]+px$/.test(e)?CH(72*parseInt(e,10)/96,t||0)+"pt":e},xH=function(e){return je(yH,e).getOr("")},IH=function(e){var t=function(){var t=x.none(),n=u.data,r=e.queryCommandValue("FontSize");if(r)for(var i=function(e){var i=wH(r,e),o=xH(i);t=ee(n,(function(e){return e.format===r||e.format===i||e.format===o}))},o=3;t.isNone()&&o>=0;o--)i(o);return{matchOpt:t,size:r}},n=function(e){return function(t){return t.exists((function(t){return t.format===e}))}},r=function(){var e=t().matchOpt;return e},i=a(a(x.none())),o=function(t){return function(){e.undoManager.transact((function(){e.focus(),e.execCommand("FontSize",!1,t.format)}))}},s=function(e){var n=t(),r=n.matchOpt,i=n.size,o=r.fold((function(){return i}),(function(e){return e.title}));ao(e,bL,{text:o})},l=x.some((function(e){return function(){return s(e)}})),c=x.some((function(e){return s(e)})),u=aH(e,"fontsize_formats",bH,BD.Space);return{tooltip:"Font sizes",icon:x.none(),isSelectedFor:n,getPreviewFor:i,getCurrentValue:r,onAction:o,setInitialValue:c,nodeChangeHandler:l,dataset:u,shouldHide:!1,isInvalid:function(){return!1}}},AH=function(e,t){return tH(e,t,IH(e))},kH=function(e,t){var n=eH(e,t,IH(e));e.ui.registry.addNestedMenuItem("fontsizes",{text:"Font sizes",getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})},SH=function(e,t,n){var r=t();return fe(n,(function(t){return ee(r,(function(n){return e.formatter.matchNode(t,n.format)}))})).orThunk((function(){return e.formatter.match("p")?x.some({title:"Paragraph",format:"p"}):x.none()}))},_H=function(e){var t=e.selection.getStart(!0)||e.getBody();return e.dom.getParents(t,(function(){return!0}),e.getBody())},TH=function(e,t){return function(n){var r=Zn(x.none()),i=function(){n.setActive(e.formatter.match(t));var i=e.formatter.formatChanged(t,n.setActive).unbind;r.set(x.some(i))};return e.initialized?i():e.on("init",i),function(){return r.get().each((function(e){return e()}))}}},EH=function(e){return function(t){return function(){e.undoManager.transact((function(){e.focus(),e.execCommand("mceToggleFormat",!1,t.format)}))}}},OH="Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre",RH=function(e){var t=function(t){return SH(e,(function(){return l.data}),t)},n=function(t){return function(){return e.formatter.match(t)}},r=function(t){return function(){var n=e.formatter.get(t);return x.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))})}},i=function(e,n){var r=t(e),i=r.fold((function(){return"Paragraph"}),(function(e){return e.title}));ao(n,bL,{text:i})},o=x.some((function(e){return function(t){return i(t.parents,e)}})),s=x.some((function(t){var n=_H(e);i(n,t)})),l=aH(e,"block_formats",OH,BD.SemiColon);return{tooltip:"Blocks",icon:x.none(),isSelectedFor:n,getCurrentValue:a(x.none()),getPreviewFor:r,onAction:EH(e),setInitialValue:s,nodeChangeHandler:o,dataset:l,shouldHide:!1,isInvalid:function(t){return!e.formatter.canApply(t.format)}}},NH=function(e,t){return tH(e,t,RH(e))},LH=function(e,t){var n=eH(e,t,RH(e));e.ui.registry.addNestedMenuItem("blockformats",{text:"Blocks",getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})},DH=function(e,t){var n=function(t){return function(){return e.formatter.match(t)}},r=function(t){return function(){var n=e.formatter.get(t);return void 0!==n?x.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):x.none()}},i=function(t,n){var r=function(e){var t=e.items;return void 0!==t&&t.length>0?re(t,r):[{title:e.title,format:e.format}]},i=re(fM(e),r),o=SH(e,(function(){return i}),t),a=o.fold((function(){return"Paragraph"}),(function(e){return e.title}));ao(n,bL,{text:a})},o=x.some((function(e){return function(t){return i(t.parents,e)}})),s=x.some((function(t){var n=_H(e);i(n,t)}));return{tooltip:"Formats",icon:x.none(),isSelectedFor:n,getCurrentValue:a(x.none()),getPreviewFor:r,onAction:EH(e),setInitialValue:s,nodeChangeHandler:o,shouldHide:e.getParam("style_formats_autohide",!1,"boolean"),isInvalid:function(t){return!e.formatter.canApply(t.format)},dataset:t}},BH=function(e,t){var n=p({type:"advanced"},t.styleselect);return tH(e,t,DH(e,n))},MH=function(e,t){var n=p({type:"advanced"},t.styleselect),r=eH(e,t,DH(e,n));e.ui.registry.addNestedMenuItem("formats",{text:"Formats",getSubmenuItems:function(){return r.items.validateItems(r.getStyleItems())}})},PH=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styleselect"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],FH=function(e,t){return function(n,r,i){var o=e(n).mapError((function(e){return on(e)})).getOrDie();return t(o,r,i)}},jH={button:FH(LF,(function(e,t){return Ij(e,t.backstage.shared.providers)})),togglebutton:FH(zF,(function(e,t){return kj(e,t.backstage.shared.providers)})),menubutton:FH(MF,(function(e,t){return NL(e,"tox-tbtn",t.backstage,x.none())})),splitbutton:FH(FF,(function(e,t){return Tj(e,t.backstage.shared)})),grouptoolbarbutton:FH(VF,(function(e,t,n){var r,i=n.ui.registry.getAll().buttons,o=function(e){return ZH(n,{buttons:i,toolbar:e,allowToolbarGroups:!1},t,x.none())},a=(r={},r[Nd]=t.backstage.shared.header.isPositionedAtTop()?pc.TopToBottom:pc.BottomToTop,r);switch(_I(n)){case Mw.floating:return wj(e,t.backstage,o,a);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}})),styleSelectButton:function(e,t){return BH(e,t.backstage)},fontsizeSelectButton:function(e,t){return AH(e,t.backstage)},fontSelectButton:function(e,t){return gH(e,t.backstage)},formatButton:function(e,t){return NH(e,t.backstage)},alignMenuButton:function(e,t){return cH(e,t.backstage)}},HH=function(e,n,r){return je(jH,e.type).fold((function(){return t.console.error("skipping button defined by",e),x.none()}),(function(t){return x.some(t(e,n,r))}))},zH={styleselect:jH.styleSelectButton,fontsizeselect:jH.fontsizeSelectButton,fontselect:jH.fontSelectButton,formatselect:jH.formatButton,align:jH.alignMenuButton},$H=function(e){var t=G(PH,(function(t){var n=X(t.items,(function(t){return He(e,t)||He(zH,t)}));return{name:t.name,items:n}}));return X(t,(function(e){return e.items.length>0}))},VH=function(e){var t=e.split("|");return G(t,(function(e){return{items:e.trim().split(" ")}}))},WH=function(e){return M(e,(function(e){return He(e,"name")&&He(e,"items")}))},KH=function(e){var n=e.toolbar,r=e.buttons;return!1===n?[]:void 0===n||!0===n?$H(r):_(n)?VH(n):WH(n)?n:(t.console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},GH=function(e,n,r,i,o,a){return je(n,r.toLowerCase()).orThunk((function(){return a.bind((function(e){return fe(e,(function(e){return je(n,e+r.toLowerCase())}))}))})).fold((function(){return je(zH,r.toLowerCase()).map((function(t){return t(e,o)})).orThunk((function(){return x.none()}))}),(function(n){return"grouptoolbarbutton"!==n.type||i?HH(n,o,e):(t.console.warn("Ignoring the '"+r+"' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested."),x.none())}))},ZH=function(e,t,n,r){var i=KH(t),o=G(i,(function(i){var o=re(i.items,(function(i){return 0===i.trim().length?[]:GH(e,t.buttons,i,t.allowToolbarGroups,n,r).toArray()}));return{title:x.from(e.translate(i.name)),items:o}}));return X(o,(function(e){return e.items.length>0}))},UH=12,qH={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},XH={maxHeightFunction:xd(),maxWidthFunction:iP()},YH={onLtr:function(){return[fu,hu,uu,lu,du,cu,FC,jC,MC,DC,PC,BC]},onRtl:function(){return[fu,hu,du,cu,uu,lu,FC,jC,PC,BC,MC,DC]}},JH={onLtr:function(){return[hu,lu,cu,uu,du,fu,FC,jC,MC,DC,PC,BC]},onRtl:function(){return[hu,cu,lu,du,uu,fu,FC,jC,PC,BC,MC,DC]}},QH=function(e,t){return"line"===e?{bubble:_d(UH,0,qH),layouts:{onLtr:function(){return[pu]},onRtl:function(){return[mu]}},overrides:XH}:{bubble:_d(0,UH,qH),layouts:t?JH:YH,overrides:XH}},ez=function(e,t,n,r){var i=Zr().deviceType.isTouch,o=fl(Jj({sink:n,onEscape:function(){return e.focus(),x.some(!0)}})),a=function(){return Hj(e,r.backstage.shared)},s=function(e,t,n,r){return Math.max(e,n)<=Math.min(t,r)},l=function(){var t=h.get().map((function(e){return e.getBoundingClientRect()})).getOrThunk((function(){return e.selection.getRng().getBoundingClientRect()})),n=e.inline?Pl().top():Jl(Qn.fromDom(e.getBody())).y;return{y:t.top+n,bottom:t.bottom+n}},c=function(){if(i()&&r.backstage.isContextMenuOpen())return!0;var e=l(),t=a();return!s(e.y,e.bottom,t.y,t.bottom)},u=function(){TC.hide(o)},d=function(){f.get().each((function(e){var t=o.element();Xs(t,"display"),c()?$s(t,"display","none"):kh.positionWithinBounds(n,e,o,x.some(a()))}))},f=Zn(x.none()),h=Zn(x.none()),m=Zn(null),g=function(t){return{dom:{tag:"div",classes:["tox-pop__dialog"]},components:[t],behaviours:Eu([ny.config({mode:"acyclic"}),py("pop-dialog-wrap-events",[So((function(t){e.shortcuts.add("ctrl+F9","focus statusbar",(function(){return ny.focusIn(t)}))})),_o((function(t){e.shortcuts.remove("ctrl+F9")}))])])}},v=Xe((function(){return Zj(t,(function(e){var t=C([e]);ao(o,Uj,{forwardContents:g(t)})}))})),b=function(t,n){return ZH(e,{buttons:t,toolbar:n.items,allowToolbarGroups:!1},r,x.some(["form:"]))},y=function(e,t){return Pj.buildInitGroups(e,t)},C=function(t){var n=e.ui.registry.getAll().buttons,i=v(),o=p(p({},n),i.formNavigators),a=_I(e)===Mw.scrolling?Mw.scrolling:Mw.default,s=ne(G(t,(function(e){return"contexttoolbar"===e.type?b(o,e):y(e,r.backstage.shared.providers)})));return OF({type:a,uid:xa("context-toolbar"),initGroups:s,onEscape:x.none,cyclicKeying:!0,providers:r.backstage.shared.providers})};e.on(oP,(function(t){var n=v();je(n.lookupTable,t.toolbarKey).each((function(n){I([n],t.target===e?x.none():x.some(t)),TC.getContent(o).each(ny.focusIn)}))}));var w=function(e,t){var n="node"===e?r.backstage.shared.anchors.node(t):r.backstage.shared.anchors.cursor();return Ue(n,QH(e,i()))},I=function(e,t){if(k(),!i()||!r.backstage.isContextMenuOpen()){var n=C(e),s=t.map(Qn.fromDom),l=w(e[0].position,s);f.set(x.some(l)),h.set(t);var u=o.element();Xs(u,"display"),TC.showWithinBounds(o,l,g(n),(function(){return x.some(a())})),c()&&$s(u,"display","none")}},A=function(){if(e.hasFocus()){var t=v();Gj(t,e).fold((function(){f.set(x.none()),TC.hide(o)}),(function(e){I(e.toolbars,x.some(e.elem.dom()))}))}},k=function(){var e=m.get();null!==e&&(HC.clearTimeout(e),m.set(null))},S=function(e){k(),m.set(e)};e.on("init",(function(){e.on(aP,u),e.on("ScrollContent ScrollWindow longpress",d),e.on("click keyup focus SetContent ObjectResized ResizeEditor",(function(){S(HC.setEditorTimeout(e,A,0))})),e.on("focusout",(function(t){HC.setEditorTimeout(e,(function(){Zu(n.element()).isNone()&&Zu(o.element()).isNone()&&(f.set(x.none()),TC.hide(o))}),0)})),e.on("SwitchMode",(function(){e.mode.isReadOnly()&&(f.set(x.none()),TC.hide(o))})),e.on("NodeChange",(function(t){Zu(o.element()).fold((function(){S(HC.setEditorTimeout(e,A,0))}),(function(e){}))}))}))},tz=function(e,n,r){var i=function(e,t){Z([n,r],(function(n){n.broadcastEvent(e,t)}))},o=function(e,t){Z([n,r],(function(n){n.broadcastOn([e],t)}))},a=function(e){return o(ap(),{target:e.target()})},s=gS(Qn.fromDom(t.document),"touchstart",a),l=gS(Qn.fromDom(t.document),"touchmove",(function(e){return i(Ki(),e)})),c=gS(Qn.fromDom(t.document),"touchend",(function(e){return i(Gi(),e)})),u=gS(Qn.fromDom(t.document),"mousedown",a),d=gS(Qn.fromDom(t.document),"mouseup",(function(e){0===e.raw().button&&o(lp(),{target:e.target()})})),f=function(e){return o(ap(),{target:Qn.fromDom(e.target)})},h=function(e){0===e.button&&o(lp(),{target:Qn.fromDom(e.target)})},p=function(e){return i(Zi(),bS(e))},m=function(e){o(sp(),{}),i(Ui(),bS(e))},g=function(){return o(sp(),{})};e.on("PostRender",(function(){e.on("click",f),e.on("tap",f),e.on("mouseup",h),e.on("ScrollWindow",p),e.on("ResizeWindow",m),e.on("ResizeEditor",g)})),e.on("remove",(function(){e.off("click",f),e.off("tap",f),e.off("mouseup",h),e.off("ScrollWindow",p),e.off("ResizeWindow",m),e.off("ResizeEditor",g),u.unbind(),s.unbind(),l.unbind(),c.unbind(),d.unbind()})),e.on("detach",(function(){jh(n),jh(r),n.destroy(),r.destroy()}))},nz=Vm,rz=km,iz=a([Mn("shell",!1),vn("makeItem"),Mn("setupItem",n),Kp.field("listBehaviours",[fy])]),oz=function(){return{behaviours:Eu([fy.config({})])}},az=xm({name:"items",overrides:oz}),sz=a([az]),lz=a("CustomList"),cz=function(e,n,r,i){var o=function(n,r){s(n).fold((function(){throw t.console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")}),(function(t){var i=fy.contents(t),o=r.length,a=o-i.length,s=a>0?W(a,(function(){return e.makeItem()})):[],l=i.slice(o);Z(l,(function(e){return fy.remove(t,e)})),Z(s,(function(e){return fy.append(t,e)}));var c=fy.contents(t);Z(c,(function(t,i){e.setupItem(n,t,r[i],i)}))}))},a=e.shell?{behaviours:[fy.config({})],components:[]}:{behaviours:[],components:n},s=function(t){return e.shell?x.some(t):Bm(t,e,"items")};return{uid:e.uid,dom:e.dom,components:a.components,behaviours:Wp(e.listBehaviours,a.behaviours),apis:{setItems:o}}},uz=tg({name:lz(),configFields:iz(),partFields:sz(),factory:cz,apis:{setItems:function(e,t,n){e.setItems(t,n)}}}),dz=function(e){var t=Zs(e,"position").is("fixed"),n=t?x.none():$o(e);return n.orThunk((function(){var t=Qn.fromTag("span");return zo(e).bind((function(e){Xo(e,t);var n=$o(t);return ta(t),n}))}))},fz=function(e){return dz(e).map(Il).getOrThunk((function(){return Cl(0,0)}))},hz=Ve.generate([{static:[]},{absolute:["positionCss"]},{fixed:["positionCss"]}]),pz=function(e,t){var n=e.element();ws(n,t.transitionClass),Is(n,t.fadeOutClass),ws(n,t.fadeInClass),t.onShow(e)},mz=function(e,t){var n=e.element();ws(n,t.transitionClass),Is(n,t.fadeInClass),ws(n,t.fadeOutClass),t.onHide(e)},gz=function(e,t){return e.y<t.bottom&&e.bottom>t.y},vz=function(e,t){return e.y>=t.y},bz=function(e,t){return e.bottom<=t.bottom},yz=function(e,t,n){return ie(e,(function(e){switch(e){case"bottom":return bz(t,n);case"top":return vz(t,n)}}))},Cz=function(e,t){return t.getInitialPosition().map((function(t){return Xl(t.bounds.x,t.bounds.y,_l(e),gl(e))}))},wz=function(e,t,n){n.setInitialPosition(x.some({style:Us(e),position:Ks(e,"position")||"static",bounds:t}))},xz=function(e,t,n){return n.getInitialPosition().bind((function(r){switch(n.setInitialPosition(x.none()),r.position){case"static":return x.some(hz.static());case"absolute":var i=dz(e).map(Yl).getOrThunk((function(){return Yl(Fs())}));return x.some(hz.absolute(qu("absolute",je(r.style,"left").map((function(e){return t.x-i.x})),je(r.style,"top").map((function(e){return t.y-i.y})),je(r.style,"right").map((function(e){return i.right-t.right})),je(r.style,"bottom").map((function(e){return i.bottom-t.bottom})))));default:return x.none()}}))},Iz=function(e,t,n){return Cz(e,n).filter((function(e){return yz(n.getModes(),e,t)})).bind((function(t){return xz(e,t,n)}))},Az=function(e,t,n){var r=Yl(e);if(yz(n.getModes(),r,t))return x.none();wz(e,r,n);var i=Ql(),o=r.x-i.x,a=t.y-i.y,s=i.bottom-t.bottom,l=r.y<=t.y;return x.some(hz.fixed(qu("fixed",x.some(o),l?x.some(a):x.none(),x.none(),l?x.none():x.some(s))))},kz=function(e,t,n){var r=e.element(),i=Zs(r,"position").is("fixed");return i?Iz(r,t,n):Az(r,t,n)},Sz=function(e,t){var n=e.element();return Cz(n,t).bind((function(e){return xz(n,e,t)}))},_z=function(e,t){Z(["left","right","top","bottom","position"],(function(t){return Xs(e.element(),t)})),t.onUndocked(e)},Tz=function(e,t,n){Xu(e.element(),n);var r="fixed"===n.position()?t.onDocked:t.onUndocked;r(e)},Ez=function(e,t,n,r,i){void 0===i&&(i=!1),t.contextual.each((function(t){t.lazyContext(e).each((function(o){var a=gz(o,r);if(a!==n.isVisible())if(n.setVisible(a),i&&!a)ks(e.element(),[t.fadeOutClass]),t.onHide(e);else{var s=a?pz:mz;s(e,t)}}))}))},Oz=function(e,t,n){var r=t.lazyViewport(e),i=n.isDocked();i&&Ez(e,t,n,r),kz(e,r,n).each((function(o){n.setDocked(!i),o.fold((function(){return _z(e,t)}),(function(n){return Tz(e,t,n)}),(function(i){Ez(e,t,n,r,!0),Tz(e,t,i)}))}))},Rz=function(e,t,r){var i=e.element();r.setDocked(!1),Sz(e,r).each((function(r){r.fold((function(){return _z(e,t)}),(function(n){return Tz(e,t,n)}),n)})),r.setVisible(!0),t.contextual.each((function(t){Ss(i,[t.fadeInClass,t.fadeOutClass,t.transitionClass]),t.onShow(e)})),Nz(e,t,r)},Nz=function(e,t,n){e.getSystem().isConnected()&&Oz(e,t,n)},Lz=function(e,t,n){n.isDocked()&&Rz(e,t,n)},Dz=function(e,t,n){return n.isDocked()},Bz=function(e,t,n,r){return n.setModes(r)},Mz=function(e,t,n){return n.getModes()},Pz=Object.freeze({__proto__:null,refresh:Nz,reset:Lz,isDocked:Dz,getModes:Mz,setModes:Bz}),Fz=function(e,t){return fo([ko(Ri(),(function(n,r){e.contextual.each((function(e){if(As(n.element(),e.transitionClass)){Ss(n.element(),[e.transitionClass,e.fadeInClass]);var i=t.isVisible()?e.onShown:e.onHidden;i(n)}r.stop()}))})),go(Zi(),(function(n,r){Nz(n,e,t)})),go(Ui(),(function(n,r){Lz(n,e,t)}))])},jz=Object.freeze({__proto__:null,events:Fz}),Hz=[Dn("contextual",[Cn("fadeInClass"),Cn("fadeOutClass"),Cn("transitionClass"),In("lazyContext"),Rc("onShow"),Rc("onShown"),Rc("onHide"),Rc("onHidden")]),$n("lazyViewport",Ql),Wn("modes",["top","bottom"],dn),Rc("onDocked"),Rc("onUndocked")],zz=function(e){var t=Zn(!1),n=Zn(!0),r=Zn(x.none()),i=Zn(e.modes),o=function(){return"docked:  "+t.get()+", visible: "+n.get()+", modes: "+i.get().join(",")};return Va({isDocked:t.get,setDocked:t.set,getInitialPosition:r.get,setInitialPosition:r.set,isVisible:n.get,setVisible:n.set,getModes:i.get,setModes:i.set,readState:o})},$z=Object.freeze({__proto__:null,init:zz}),Vz=Ru({fields:Hz,name:"docking",active:jz,apis:Pz,state:$z}),Wz={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},Kz="tox-tinymce--toolbar-sticky-on",Gz="tox-tinymce--toolbar-sticky-off",Zz=function(e,t){var n=Po(t),r=n.dom().defaultView.innerHeight,i=Pl(n),o=Qn.fromDom(e.elm),a=Jl(o),s=gl(o),l=a.y,c=l+s,u=Il(t),d=gl(t),f=u.top(),h=f+d,p=Math.abs(f-i.top())<2,m=Math.abs(h-(i.top()+r))<2;if(p&&l<h)Fl(i.left(),l-d,n);else if(m&&c>f){var g=l-r+s+d;Fl(i.left(),g,n)}},Uz=function(e,t){return $(Vz.getModes(e),t)},qz=function(e){var t=function(e){return vl(e)+(parseInt(Ks(e,"margin-top"),10)||0)+(parseInt(Ks(e,"margin-bottom"),10)||0)},n=e.element();zo(n).each((function(r){var i="padding-"+Vz.getModes(e)[0];if(Vz.isDocked(e)){var o=_l(r);$s(n,"width",o+"px"),$s(r,i,t(n)+"px")}else Xs(n,"width"),Xs(r,i)}))},Xz=function(e,t){t?(Is(e,Wz.fadeOutClass),ks(e,[Wz.transitionClass,Wz.fadeInClass])):(Is(e,Wz.fadeInClass),ks(e,[Wz.fadeOutClass,Wz.transitionClass]))},Yz=function(e,t){var n=Qn.fromDom(e.getContainer());t?(ws(n,Kz),Is(n,Gz)):(ws(n,Gz),Is(n,Kz))},Jz=function(e,t){var n=Po(t);Gu(n).filter((function(e){return!ni(t,e)})).filter((function(t){return ni(t,Qn.fromDom(n.dom().body))||oi(e,t)})).each((function(){return Vu(t)}))},Qz=function(e,t){return Zu(e).orThunk((function(){return t().toOption().bind((function(e){return Zu(e.element())}))}))},e$=function(e,t,n){e.inline||(t.header.isPositionedAtTop()||e.on("ResizeEditor",(function(){n().each(Vz.reset)})),e.on("ResizeWindow ResizeEditor",(function(){n().each(qz)})),e.on("SkinLoaded",(function(){n().each((function(e){Vz.isDocked(e)?Vz.reset(e):Vz.refresh(e)}))})),e.on("FullscreenStateChanged",(function(){n().each(Vz.reset)}))),e.on("AfterScrollIntoView",(function(e){n().each((function(t){Vz.refresh(t);var n=t.element();Av(n)&&Zz(e,n)}))})),e.on("PostRender",(function(){Yz(e,!1)}))},t$=function(e){return e().map(Vz.isDocked).getOr(!1)},n$=function(){var e;return[ju.config({channels:(e={},e[IF()]={onReceive:qz},e)})]},r$=function(e,t){var n=Zn(x.none()),r=t.getSink,i=function(e){r().each((function(t){return e(t.element())}))},o=function(t){e.inline||qz(t),Yz(e,Vz.isDocked(t)),t.getSystem().broadcastOn([sp()],{}),r().each((function(e){return e.getSystem().broadcastOn([sp()],{})}))},a=e.inline?[]:n$();return g([Iy.config({}),Vz.config({contextual:p({lazyContext:function(t){var n=vl(t.element()),r=e.inline?e.getContentAreaContainer():e.getContainer(),i=Yl(Qn.fromDom(r)),o=i.height-n,a=i.y+(Uz(t,"top")?0:n);return x.some(Xl(i.x,a,i.width,o))},onShow:function(){i((function(e){return Xz(e,!0)}))},onShown:function(e){i((function(e){return Ss(e,[Wz.transitionClass,Wz.fadeInClass])})),n.get().each((function(t){Jz(e.element(),t),n.set(x.none())}))},onHide:function(e){n.set(Qz(e.element(),r)),i((function(e){return Xz(e,!1)}))},onHidden:function(){i((function(e){return Ss(e,[Wz.transitionClass])}))}},Wz),modes:[t.header.getDockingMode()],onDocked:o,onUndocked:o})],a)},i$=Object.freeze({__proto__:null,setup:e$,isDocked:t$,getBehaviours:r$}),o$=n,a$=d,s$=a([]),l$=Object.freeze({__proto__:null,setup:o$,isDocked:a$,getBehaviours:s$}),c$=function(e){var t=e.editor,n=e.sticky?r$:s$;return{uid:e.uid,dom:e.dom,components:e.components,behaviours:Eu(n(t,e.sharedBackstage))}},u$=function(e,t){var n=function(e,n){var r=G(n,(function(e){var n={type:"menubutton",text:e.text,fetch:function(t){t(e.getItems())}},r=MF(n).mapError((function(e){return on(e)})).getOrDie();return NL(r,"tox-mbtn",t.backstage,x.some("menuitem"))}));fy.set(e,r)},r={focus:ny.focusIn,setMenus:n};return{uid:e.uid,dom:e.dom,components:[],behaviours:Eu([fy.config({}),py("menubar-events",[So((function(t){e.onSetup(t)})),go(Ii(),(function(e,t){sc(e.element(),".tox-mbtn--active").each((function(n){lc(t.event().target(),".tox-mbtn").each((function(t){ni(n,t)||e.getSystem().getByDom(n).each((function(n){e.getSystem().getByDom(t).each((function(e){yT.expand(e),yT.close(n),Iy.focus(e)}))}))}))}))})),go(Qi(),(function(e,t){t.event().prevFocus().bind((function(t){return e.getSystem().getByDom(t).toOption()})).each((function(n){t.event().newFocus().bind((function(t){return e.getSystem().getByDom(t).toOption()})).each((function(e){yT.isOpen(n)&&(yT.expand(e),yT.close(n))}))}))}))]),ny.config({mode:"flow",selector:".tox-mbtn",onEscape:function(t){return e.onEscape(t),x.some(!0)}}),r_.config({})]),apis:r,domModification:{attributes:{role:"menubar"}}}},d$=eg({factory:u$,name:"silver.Menubar",configFields:[vn("dom"),vn("uid"),vn("onEscape"),vn("backstage"),Mn("onSetup",n)],apis:{focus:function(e,t){e.focus(t)},setMenus:function(e,t,n){e.setMenus(t,n)}}}),f$="container",h$=[$p("slotBehaviours",[])],p$=function(e){return"<alloy.field."+e+">"},m$=function(e){var t=function(){var e=[],t=function(t,n){return e.push(t),Om(f$,p$(t),n)};return{slot:t,record:function(){return e}}}(),n=e(t),r=t.record(),i=G(r,(function(e){return Cm({name:e,pname:p$(e)})}));return Zm(f$,h$,i,g$,n)},g$=function(e,t){var n=function(t){return jm(e)},r=function(t,n){return Bm(t,e,n)},i=function(t,n){return function(r,i){return Bm(r,e,i).map((function(e){return t(e,i)})).getOr(n)}},o=function(e){return function(t,n){Z(n,(function(n){return e(t,n)}))}},a=function(e,t){return"true"!==ua(e.element(),"aria-hidden")},s=function(e,t){if(!a(e)){var n=e.element();Xs(n,"display"),ha(n,"aria-hidden"),ao(e,eo(),{name:t,visible:!0})}},l=function(e,t){if(a(e)){var n=e.element();$s(n,"display","none"),la(n,"aria-hidden","true"),ao(e,eo(),{name:t,visible:!1})}},c=i(a,!1),u=i(l),d=o(u),f=function(e){return d(e,n())},h=i(s),p={getSlotNames:n,getSlot:r,isShowing:c,hideSlot:u,hideAllSlots:f,showSlot:h};return{uid:e.uid,dom:e.dom,components:t,behaviours:Vp(e.slotBehaviours),apis:p}},v$=Re({getSlotNames:function(e,t){return e.getSlotNames(t)},getSlot:function(e,t,n){return e.getSlot(t,n)},isShowing:function(e,t,n){return e.isShowing(t,n)},hideSlot:function(e,t,n){return e.hideSlot(t,n)},hideAllSlots:function(e,t){return e.hideAllSlots(t)},showSlot:function(e,t,n){return e.showSlot(t,n)}},(function(e){return za(e)})),b$=p(p({},v$),{sketch:m$}),y$=Ft([Rn("icon"),Rn("tooltip"),$n("onShow",n),$n("onHide",n),$n("onSetup",(function(){return n}))]),C$=function(e){return tn("sidebar",y$,e)},w$=function(e){var t=e.ui.registry.getAll().sidebars;Z(Te(t),(function(n){var r=t[n],i=function(){return x.from(e.queryCommandValue("ToggleSidebar")).is(n)};e.ui.registry.addToggleButton(n,{icon:r.icon,tooltip:r.tooltip,onAction:function(t){e.execCommand("ToggleSidebar",!1,n),t.setActive(i())},onSetup:function(t){var n=function(){return t.setActive(i())};return e.on("ToggleSidebar",n),function(){e.off("ToggleSidebar",n)}}})}))},x$=function(e){return{element:function(){return e.element().dom()}}},I$=function(e,t){var r=G(Te(t),(function(e){var n=t[e],r=nn(C$(n));return{name:e,getApi:x$,onSetup:r.onSetup,onShow:r.onShow,onHide:r.onHide}}));return G(r,(function(t){var i=Zn(n);return e.slot(t.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:Ex.unnamedEvents([oA(t,i),aA(t,i),go(eo(),(function(e,t){var n=t.event(),i=ee(r,(function(e){return e.name===n.name()}));i.each((function(t){var r=n.visible()?t.onShow:t.onHide;r(t.getApi(e))}))}))])})}))},A$=function(e){return b$.sketch((function(t){return{dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:I$(t,e),slotBehaviours:Ex.unnamedEvents([So((function(e){return b$.hideAllSlots(e)}))])}}))},k$=function(e,t){var n=ug.getCurrent(e);n.each((function(e){return fy.set(e,[A$(t)])}))},S$=function(e,t){var n=ug.getCurrent(e);n.each((function(e){var n=ug.getCurrent(e);n.each((function(n){gF.hasGrown(e)?b$.isShowing(n,t)?gF.shrink(e):(b$.hideAllSlots(n),b$.showSlot(n,t)):(b$.hideAllSlots(n),b$.showSlot(n,t),gF.grow(e))}))}))},_$=function(e){var t=ug.getCurrent(e);return t.bind((function(e){var t=gF.isGrowing(e)||gF.hasGrown(e);if(t){var n=ug.getCurrent(e);return n.bind((function(e){return ee(b$.getSlotNames(e),(function(t){return b$.isShowing(e,t)}))}))}return x.none()}))},T$=xa("FixSizeEvent"),E$=xa("AutoSizeEvent"),O$=function(e){return{uid:e.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"complementary"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Eu([r_.config({}),Iy.config({}),gF.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:function(e){var t=ug.getCurrent(e);t.each(b$.hideAllSlots),oo(e,E$)},onGrown:function(e){oo(e,E$)},onStartGrow:function(e){ao(e,T$,{width:Zs(e.element(),"width").getOr("")})},onStartShrink:function(e){ao(e,T$,{width:_l(e.element())+"px"})}}),fy.config({}),ug.config({find:function(e){var t=fy.contents(e);return ce(t)}})])}],behaviours:Eu([ER.childAt(0),py("sidebar-sliding-events",[go(T$,(function(e,t){$s(e.element(),"width",t.event().width())})),go(E$,(function(e,t){Xs(e.element(),"width")}))])])}},R$=function(e){var t=void 0!==e.dom().attributes?e.dom().attributes:[];return J(t,(function(e,t){var n;return"class"===t.name?e:p(p({},e),(n={},n[t.name]=t.value,n))}),{})},N$=function(e){return Array.prototype.slice.call(e.dom().classList,0)},L$=function(e){var t=Qn.fromHtml(e),n=Wo(t),r=R$(t),i=N$(t),o=0===n.length?{}:{innerHtml:ia(t)};return p({tag:Oo(t),classes:i,attributes:r},o)},D$=function(e){return{dom:{tag:"div",attributes:{"aria-label":e.translate("Loading...")},classes:["tox-throbber__busy-spinner"]},components:[{dom:L$('<div class="tox-spinner"><div></div><div></div><div></div></div>')}],behaviours:Eu([ny.config({mode:"special",onTab:function(){return x.some(!0)},onShiftTab:function(){return x.some(!0)}}),Iy.config({})])}},B$=function(e,t,n){var r=e.element();!0===t?(fy.set(e,[D$(n)]),Xs(r,"display"),ha(r,"aria-hidden")):(fy.set(e,[]),$s(r,"display","none"),la(r,"aria-hidden","true"))},M$=function(e){return{uid:e.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Eu([fy.config({})]),components:[]}},P$=function(e,t,n){var r=Zn(!1),i=Zn(x.none()),o=function(e){e!==r.get()&&(B$(t(),e,n.providers),r.set(e))};e.on("ProgressState",(function(t){if(i.get().each(HC.clearTimeout),B(t.time)){var n=HC.setEditorTimeout(e,(function(){return o(t.state)}),t.time);i.set(x.some(n))}else o(t.state),i.set(x.none())}))},F$=function(e,t,n){var r={getSocket:function(t){return nz.getPart(t,e,"socket")},setSidebar:function(t,n){nz.getPart(t,e,"sidebar").each((function(e){return k$(e,n)}))},toggleSidebar:function(t,n){nz.getPart(t,e,"sidebar").each((function(e){return S$(e,n)}))},whichSidebar:function(t){return nz.getPart(t,e,"sidebar").bind(_$).getOrNull()},getHeader:function(t){return nz.getPart(t,e,"header")},getToolbar:function(t){return nz.getPart(t,e,"toolbar")},setToolbar:function(t,n){nz.getPart(t,e,"toolbar").each((function(e){e.getApis().setGroups(e,n)}))},setToolbars:function(t,n){nz.getPart(t,e,"multiple-toolbar").each((function(e){uz.setItems(e,n)}))},refreshToolbar:function(t){var n=nz.getPart(t,e,"toolbar");n.each((function(e){return e.getApis().refresh(e)}))},getThrobber:function(t){return nz.getPart(t,e,"throbber")},focusToolbar:function(t){var n=nz.getPart(t,e,"toolbar").orThunk((function(){return nz.getPart(t,e,"multiple-toolbar")}));n.each((function(e){ny.focusIn(e)}))},setMenubar:function(t,n){nz.getPart(t,e,"menubar").each((function(e){d$.setMenus(e,n)}))},focusMenubar:function(t){nz.getPart(t,e,"menubar").each((function(e){d$.focus(e)}))}};return{uid:e.uid,dom:e.dom,components:t,apis:r,behaviours:e.behaviours}},j$=rz.optional({factory:d$,name:"menubar",schema:[vn("backstage")]}),H$=function(e){return e.type===Mw.sliding?EF:e.type===Mw.floating?TF:OF},z$=rz.optional({factory:{sketch:function(e){return uz.sketch({uid:e.uid,dom:e.dom,listBehaviours:Eu([ny.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:function(){return OF({type:e.type,uid:xa("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:e.providers,onEscape:function(){return x.none()}})},setupItem:function(e,t,n,r){mP.setGroups(t,n)},shell:!0})}},name:"multiple-toolbar",schema:[vn("dom"),vn("onEscape")]}),$$=rz.optional({factory:{sketch:function(e){var t=H$(e),n={type:e.type,uid:e.uid,onEscape:function(){return e.onEscape(),x.some(!0)},cyclicKeying:!1,initGroups:[],getSink:e.getSink,providers:e.providers,moreDrawerData:{lazyToolbar:e.lazyToolbar,lazyMoreButton:e.lazyMoreButton,lazyHeader:e.lazyHeader},attributes:e.attributes};return t(n)}},name:"toolbar",schema:[vn("dom"),vn("onEscape"),vn("getSink")]}),V$=rz.optional({factory:{sketch:c$},name:"header",schema:[vn("dom")]}),W$=rz.optional({name:"socket",schema:[vn("dom")]}),K$=rz.optional({factory:{sketch:O$},name:"sidebar",schema:[vn("dom")]}),G$=rz.optional({factory:{sketch:M$},name:"throbber",schema:[vn("dom")]}),Z$=tg({name:"OuterContainer",factory:F$,configFields:[vn("dom"),vn("behaviours")],partFields:[V$,j$,$$,z$,W$,K$,G$],apis:{getSocket:function(e,t){return e.getSocket(t)},setSidebar:function(e,t,n){e.setSidebar(t,n)},toggleSidebar:function(e,t,n){e.toggleSidebar(t,n)},whichSidebar:function(e,t){return e.whichSidebar(t)},getHeader:function(e,t){return e.getHeader(t)},getToolbar:function(e,t){return e.getToolbar(t)},setToolbar:function(e,t,n){var r=G(n,(function(e){return kF(e)}));e.setToolbar(t,r)},setToolbars:function(e,t,n){var r=G(n,(function(e){return G(e,kF)}));e.setToolbars(t,r)},refreshToolbar:function(e,t){return e.refreshToolbar(t)},getThrobber:function(e,t){return e.getThrobber(t)},setMenubar:function(e,t,n){e.setMenubar(t,n)},focusMenubar:function(e,t){e.focusMenubar(t)},focusToolbar:function(e,t){e.focusToolbar(t)}}}),U$="file edit view insert format tools table help",q$={file:{title:"File",items:"newdocument restoredraft | preview | print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align | forecolor backcolor | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},X$=function(e,t,n){var r=wI(n).split(/[ ,]/);return{text:e.title,getItems:function(){return re(e.items,(function(e){var n=e.toLowerCase();return 0===n.trim().length||V(r,(function(e){return e===n}))?[]:"separator"===n||"|"===n?[{type:"separator"}]:t.menuItems[n]?[t.menuItems[n]]:[]}))}}},Y$=function(e){return"string"===typeof e?e.split(" "):e},J$=function(e,t){var n=p(p({},q$),t.menus),r=Te(t.menus).length>0,i=void 0===t.menubar||!0===t.menubar?Y$(U$):Y$(!1===t.menubar?"":t.menubar),o=X(i,(function(e){return r&&t.menus.hasOwnProperty(e)&&t.menus[e].hasOwnProperty("items")||q$.hasOwnProperty(e)})),a=G(o,(function(r){var i=n[r];return X$({title:i.title,items:Y$(i.items)},t,e)}));return X(a,(function(e){var t=function(e){return"separator"!==e.type};return e.getItems().length>0&&V(e.getItems(),t)}))},Q$=function(e){var t=function(){e._skinLoaded=!0,ck(e)};return function(){e.initialized?t():e.on("init",t)}},eV=function(e,t){return function(){return uk(e,{message:t})}},tV=function(e,t){var n,r=uI(t);r&&(n=r+"/skin.min.css",t.contentCSS.push(r+(e?"/content.inline":"/content")+".min.css")),!1===fI(t)&&n?t.ui.styleSheetLoader.load(n,Q$(t),eV(t,"Skin could not be loaded")):Q$(t)()},nV=l(tV,!1),rV=l(tV,!0),iV=function(e,t,n,r){var i=t.outerContainer,o=n.toolbar,a=n.buttons;if(M(o,_)){var s=o.map((function(t){var i={toolbar:t,buttons:a,allowToolbarGroups:n.allowToolbarGroups};return ZH(e,i,{backstage:r},x.none())}));Z$.setToolbars(i,s)}else Z$.setToolbar(i,ZH(e,n,{backstage:r},x.none()))},oV=$x.DOM,aV=Zr(),sV=aV.os.isiOS()&&aV.os.version.major<=12,lV=function(e){var t=e.getWin(),n=e.getDoc().documentElement,r=Zn(Cl(t.innerWidth,t.innerHeight)),i=Zn(Cl(n.offsetWidth,n.offsetHeight)),o=function(n){var i=r.get();i.left()===t.innerWidth&&i.top()===t.innerHeight||(r.set(Cl(t.innerWidth,t.innerHeight)),fk(e,n))},a=function(t){var n=e.getDoc().documentElement,r=i.get();r.left()===n.offsetWidth&&r.top()===n.offsetHeight||(i.set(Cl(n.offsetWidth,n.offsetHeight)),fk(e,t))},s=function(t){return hk(e,t)};oV.bind(t,"resize",o),oV.bind(t,"scroll",s);var l=vS(Qn.fromDom(e.getBody()),"load",a);e.on("NodeChange",a),e.on("remove",(function(){l.unbind(),oV.unbind(t,"resize",o),oV.unbind(t,"scroll",s)}))},cV=function(e,t,n,r,i){var o=Zn(0);nV(e);var a=Qn.fromDom(i.targetNode),s=Ns(Rs(a));Ph(a,t.mothership),Mh(s,t.uiMothership),e.on("PostRender",(function(){iV(e,t,n,r),o.set(e.getWin().innerWidth),Z$.setMenubar(t.outerContainer,J$(e,n)),Z$.setSidebar(t.outerContainer,n.sidebar),lV(e)}));var l=Z$.getSocket(t.outerContainer).getOrDie("Could not find expected socket element");if(!0===sV){Vs(l.element(),{overflow:"scroll","-webkit-overflow-scrolling":"touch"});var c=QC((function(){e.fire("ScrollContent")}),20);gS(l.element(),"scroll",c.throttle)}YI(e,t),e.addCommand("ToggleSidebar",(function(n,r){Z$.toggleSidebar(t.outerContainer,r),e.fire("ToggleSidebar")})),e.addQueryValueHandler("ToggleSidebar",(function(){return Z$.whichSidebar(t.outerContainer)}));var u=_I(e),d=function(){Z$.refreshToolbar(t.outerContainer)};return u!==Mw.sliding&&u!==Mw.floating||e.on("ResizeWindow ResizeEditor ResizeContent",(function(){var t=e.getWin().innerWidth;t!==o.get()&&(d(),o.set(t))})),{iframeContainer:l.element().dom(),editorContainer:t.outerContainer.element().dom()}},uV=Object.freeze({__proto__:null,render:cV}),dV=function(e){var t=Zn(x.none()),n=function(){t.get().each(e)},r=function(){n(),t.set(x.none())},i=function(e){n(),t.set(x.some(e))},o=function(){return t.get().isSome()};return{clear:r,isSet:o,set:i}},fV=function(){return dV((function(e){e.unbind()}))},hV=function(){var e=Zn(x.none()),t=function(){e.set(x.none())},n=function(t){e.set(x.some(t))},r=function(t){e.get().each(t)},i=function(){return e.get().isSome()};return{clear:t,set:n,isSet:i,on:r}},pV=function(e){var t=/^[0-9\.]+(|px)$/i;return t.test(""+e)?x.some(parseInt(""+e,10)):x.none()},mV=function(e){return B(e)?e+"px":e},gV=function(e,t,n){var r=t.filter((function(t){return e<t})),i=n.filter((function(t){return e>t}));return r.or(i).getOr(e)},vV=function(e){var t=hI(e),n=gI(e),r=bI(e);return pV(t).map((function(e){return gV(e,n,r)}))},bV=function(e){var t=vV(e);return t.getOr(hI(e))},yV=function(e){var t=pI(e),n=mI(e),r=vI(e);return pV(t).map((function(e){return gV(e,n,r)}))},CV=function(e){var t=yV(e);return t.getOr(pI(e))},wV=function(e,t,n,r,i){var o=n.uiMothership,a=n.outerContainer,s=$x.DOM,l=LI(e),c=MI(e),u=vI(e).or(yV(e)),d=r.shared.header,f=d.isPositionedAtTop,h=_I(e),p=h===Mw.sliding||h===Mw.floating,m=Zn(!1),g=function(){return m.get()&&!e.removed},v=function(e){return p?e.fold((function(){return 0}),(function(e){return e.components().length>1?gl(e.components()[1].element()):0})):0},b=function(n){switch(EI(e)){case SI.auto:var r=Z$.getToolbar(a),i=v(r),o=gl(n.element())-i,s=Yl(t),l=s.y>o;if(l)return"top";var c=jo(t),u=Math.max(c.dom().scrollHeight,gl(c)),d=s.bottom<u-o;if(d)return"bottom";var f=Ql(),h=f.bottom<s.bottom-o;return h?"bottom":"top";case SI.bottom:return"bottom";case SI.top:default:return"top"}},y=function(e){var t=i.get();Vz.setModes(t,[e]),d.setDockingMode(e);var n=f()?pc.TopToBottom:pc.BottomToTop;la(t.element(),Nd,n)},C=function(){var e=u.getOrThunk((function(){var e=pV(Ks(Fs(),"margin-left")).getOr(0);return _l(Fs())-Il(t).left()+e}));$s(i.get().element(),"max-width",e+"px")},w=function(){var e=Z$.getToolbar(a),n=v(e),r=Yl(t),o=f()?Math.max(r.y-gl(i.get().element())+n,0):r.bottom;Vs(a.element(),{position:"absolute",top:Math.round(o)+"px",left:Math.round(r.x)+"px"})},x=function(){o.broadcastOn([sp()],{})},I=function(e){if(void 0===e&&(e=!1),g()){if(l||C(),p&&Z$.refreshToolbar(a),l||w(),c){var t=i.get();e?Vz.reset(t):Vz.refresh(t)}x()}},A=function(e){if(void 0===e&&(e=!0),!l&&c&&g()){var t=d.getDockingMode(),n=b(i.get());n!==t&&(y(n),e&&I(!0))}},k=function(){m.set(!0),$s(a.element(),"display","flex"),s.addClass(e.getBody(),"mce-edit-focus"),Xs(o.element(),"display"),A(!1),I()},S=function(){m.set(!1),n.outerContainer&&($s(a.element(),"display","none"),s.removeClass(e.getBody(),"mce-edit-focus")),$s(o.element(),"display","none")};return{isVisible:g,isPositionedAtTop:f,show:k,hide:S,update:I,updateMode:A,repositionPopups:x}},xV=function(e,t){var n=Yl(e);return{pos:t?n.y:n.bottom,bounds:n}},IV=function(e,t,n){var r=Zn(xV(t,n.isPositionedAtTop())),i=function(i){var o=xV(t,n.isPositionedAtTop()),a=o.pos,s=o.bounds,l=r.get(),c=l.pos,u=l.bounds,d=s.height!==u.height||s.width!==u.width;r.set({pos:a,bounds:s}),d&&fk(e,i),n.isVisible()&&(c!==a?n.update(!0):d&&(n.updateMode(),n.repositionPopups()))};e.on("activate",n.show),e.on("deactivate",n.hide),e.on("SkinLoaded ResizeWindow",(function(){return n.update(!0)})),e.on("NodeChange keydown",(function(e){HC.requestAnimationFrame((function(){return i(e)}))})),e.on("ScrollWindow",(function(){return n.updateMode()}));var o=fV();o.set(vS(Qn.fromDom(e.getBody()),"load",i)),e.on("remove",(function(){o.clear()}))},AV=function(e,t,n,r,i){var o=t.mothership,a=t.uiMothership,s=t.outerContainer,l=Zn(null),c=Qn.fromDom(i.targetNode),u=wV(e,c,t,r,l);rV(e);var d=function(){if(l.get())u.show();else{l.set(Z$.getHeader(s).getOrDie());var i=DI(e);Mh(i,o),Mh(i,a),iV(e,t,n,r),Z$.setMenubar(s,J$(e,n)),u.show(),IV(e,c,u),e.nodeChanged()}};return e.on("focus",d),e.on("blur hide",u.hide),e.on("init",(function(){e.hasFocus()&&d()})),YI(e,t),{editorContainer:s.element().dom()}},kV=Object.freeze({__proto__:null,render:AV}),SV=function(e){var t=[{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}];wD.each(t,(function(t){e.ui.registry.addToggleButton(t.name,{tooltip:t.text,onAction:function(){return e.execCommand(t.cmd)},icon:t.icon,onSetup:TH(e,t.name)})}));var n={name:"alignnone",text:"No alignment",cmd:"JustifyNone",icon:"align-none"};e.ui.registry.addButton(n.name,{tooltip:n.text,onAction:function(){return e.execCommand(n.cmd)},icon:n.icon})},_V=function(e,t){return function(){e.execCommand("mceToggleFormat",!1,t)}},TV=function(e){wD.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(function(t,n){e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onSetup:TH(e,t.name),onAction:_V(e,t.name)})}));for(var t=1;t<=6;t++){var n="h"+t;e.ui.registry.addToggleButton(n,{text:n.toUpperCase(),tooltip:"Heading "+t,onSetup:TH(e,n),onAction:_V(e,n)})}},EV=function(e){wD.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"}],(function(t){e.ui.registry.addButton(t.name,{tooltip:t.text,icon:t.icon,onAction:function(){return e.execCommand(t.action)}})}))},OV=function(e){wD.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],(function(t){e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onAction:function(){return e.execCommand(t.action)},onSetup:TH(e,t.name)})}))},RV=function(e){TV(e),EV(e),OV(e)},NV=function(e){wD.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through",shortcut:""},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript",shortcut:""},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript",shortcut:""},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting",shortcut:""},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document",shortcut:""},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"}],(function(t){e.ui.registry.addMenuItem(t.name,{text:t.text,icon:t.icon,shortcut:t.shortcut,onAction:function(){return e.execCommand(t.action)}})})),e.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:_V(e,"code")})},LV=function(e){RV(e),NV(e)},DV=function(e,t,n){var r=function(){return!!t.undoManager&&t.undoManager[n]()},i=function(){e.setDisabled(t.mode.isReadOnly()||!r())};return e.setDisabled(!r()),t.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",i),function(){return t.off("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",i)}},BV=function(e){e.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:function(t){return DV(t,e,"hasUndo")},onAction:function(){return e.execCommand("undo")}}),e.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:function(t){return DV(t,e,"hasRedo")},onAction:function(){return e.execCommand("redo")}})},MV=function(e){e.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",onSetup:function(t){return DV(t,e,"hasUndo")},onAction:function(){return e.execCommand("undo")}}),e.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",onSetup:function(t){return DV(t,e,"hasRedo")},onAction:function(){return e.execCommand("redo")}})},PV=function(e){BV(e),MV(e)},FV=function(e,t){e.setActive(t.hasVisual);var n=function(t){e.setActive(t.hasVisual)};return t.on("VisualAid",n),function(){return t.off("VisualAid",n)}},jV=function(e){e.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:function(t){return FV(t,e)},onAction:function(){e.execCommand("mceToggleVisualAid")}})},HV=function(e){e.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:function(){return e.execCommand("mceToggleVisualAid")}})},zV=function(e){HV(e),jV(e)},$V=function(e,t){e.setDisabled(!t.queryCommandState("outdent"));var n=function(){e.setDisabled(!t.queryCommandState("outdent"))};return t.on("NodeChange",n),function(){return t.off("NodeChange",n)}},VV=function(e){e.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:function(t){return $V(t,e)},onAction:function(){return e.execCommand("outdent")}}),e.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:function(){return e.execCommand("indent")}})},WV=function(e){VV(e)},KV=function(e,t){uH(e,t),vH(e,t),MH(e,t),LH(e,t),kH(e,t)},GV=function(e,t){SV(e),LV(e),KV(e,t),PV(e),$k(e),zV(e),WV(e)},ZV=function(e,t){return{anchor:"makeshift",x:e,y:t}},UV=function(e,t,n){return ZV(e.x+t,e.y+n)},qV=function(e){return"longpress"===e.type||0===e.type.indexOf("touch")},XV=function(e){if(qV(e)){var t=e.touches[0];return ZV(t.pageX,t.pageY)}return ZV(e.pageX,e.pageY)},YV=function(e){if(qV(e)){var t=e.touches[0];return ZV(t.clientX,t.clientY)}return ZV(e.clientX,e.clientY)},JV=function(e,t){var n=$x.DOM.getPos(e);return UV(t,n.x,n.y)},QV=function(e,t){return"contextmenu"===t.type||"longpress"===t.type?e.inline?XV(t):JV(e.getContentAreaContainer(),YV(t)):eW(e)},eW=function(e){return{anchor:"selection",root:Qn.fromDom(e.selection.getNode())}},tW=function(e){return{anchor:"node",node:x.some(Qn.fromDom(e.selection.getNode())),root:Qn.fromDom(e.getBody())}},nW=function(e,t,n){return n?tW(e):QV(e,t)},rW=function(e,t,n,r,i,o){var a=n(),s=nW(e,t,o);OL(a,Pw.CLOSE_ON_EXECUTE,r,!1).map((function(e){t.preventDefault(),TC.showMenuAt(i,s,{menu:{markers:ex("normal")},data:e})}))},iW={onLtr:function(){return[hu,lu,cu,uu,du,fu,FC,jC,MC,DC,PC,BC]},onRtl:function(){return[hu,cu,lu,du,uu,fu,FC,jC,PC,BC,MC,DC]}},oW=12,aW={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},sW=function(e,t){var n=e.selection;if(n.isCollapsed()||t.touches.length<1)return!1;var r=t.touches[0],i=n.getRng(),o=Bf(e.getWin(),af.domRange(i));return o.exists((function(e){return e.left()<=r.clientX&&e.right()>=r.clientX&&e.top()<=r.clientY&&e.bottom()>=r.clientY}))},lW=function(e,t,n){var r=t?tW(e):QV(e,n);return p({bubble:_d(0,oW,aW),layouts:iW,overrides:{maxWidthFunction:iP(),maxHeightFunction:xd()}},r)},cW=function(e){var t=e.selection.getRng(),n=function(){HC.setEditorTimeout(e,(function(){e.selection.setRng(t)}),10),o()};e.once("touchend",n);var r=function(e){e.preventDefault(),e.stopImmediatePropagation()};e.on("mousedown",r,!0);var i=function(){return o()};e.once("longpresscancel",i);var o=function(){e.off("touchend",n),e.off("longpresscancel",i),e.off("mousedown",r)}},uW=function(e,t,n,r,i,o,a){var s=lW(e,o,t);OL(n,Pw.CLOSE_ON_EXECUTE,r,!0).map((function(n){t.preventDefault(),TC.showMenuWithinBounds(i,s,{menu:{markers:ex("normal"),highlightImmediately:a},data:n,type:"horizontal"},(function(){return x.some(Hj(e,r.shared))})),e.fire(aP)}))},dW=function(e,t,n,r,i,o){var a=Zr(),s=a.os.isiOS(),l=a.os.isOSX(),c=a.os.isAndroid(),u=a.deviceType.isTouch(),d=function(){return!(c||s||l&&u)},f=function(){var a=n();uW(e,t,a,r,i,o,d())};if(!l&&!s||o)c&&!o&&e.selection.setCursorLocation(t.target,0),f();else{var h=function(){cW(e),f()};sW(e,t)?h():(e.once("selectionchange",h),e.once("touchend",(function(){return e.off("selectionchange",h)})))}},fW=function(e){return"string"===typeof e?e.split(/[ ,]/):e},hW=function(e){return e.getParam("contextmenu_never_use_native",!1,"boolean")},pW=function(e,t,n){var r=e.ui.registry.getAll().contextMenus;return x.from(e.getParam(t)).map(fW).getOrThunk((function(){return X(fW(n),(function(e){return He(r,e)}))}))},mW=function(e){return!1===e.getParam("contextmenu")},gW=function(e){return pW(e,"contextmenu","link linkchecker image imagetools table spellchecker configurepermanentpen")},vW=function(e){return _(e)?"|"===e:"separator"===e.type},bW={type:"separator"},yW=function(e){if(_(e))return e;switch(e.type){case"separator":return bW;case"submenu":return{type:"nestedmenuitem",text:e.text,icon:e.icon,getSubmenuItems:function(){var t=e.getSubmenuItems();return _(t)?t:G(t,yW)}};default:return{type:"menuitem",text:e.text,icon:e.icon,onAction:r(e.onAction)}}},CW=function(e,t){if(0===t.length)return e;var n=ue(e).filter((function(e){return!vW(e)})),r=n.fold((function(){return[]}),(function(e){return[bW]}));return e.concat(r).concat(t).concat([bW])},wW=function(e,t,n){var r=J(t,(function(t,r){if(He(e,r)){var i=e[r].update(n);if(_(i))return CW(t,i.split(" "));if(i.length>0){var o=G(i,yW);return CW(t,o)}return t}return t.concat([r])}),[]);return r.length>0&&vW(r[r.length-1])&&r.pop(),r},xW=function(e,t){return t.ctrlKey&&!hW(e)},IW=function(e,t){return"longpress"!==t.type&&(2!==t.button||t.target===e.getBody()&&""===t.pointerType)},AW=function(e,t,n){var r=Zr(),i=r.deviceType.isTouch,o=fl(TC.sketch({dom:{tag:"div"},lazySink:t,onEscape:function(){return e.focus()},onShow:function(){return n.setContextMenuState(!0)},onHide:function(){return n.setContextMenuState(!1)},fireDismissalEventInstead:{},inlineBehaviours:Eu([py("dismissContextMenu",[go(Yi(),(function(t,n){op.close(t),e.focus()}))])])})),a=function(e){return TC.hide(o)},s=function(t){if(hW(e)&&t.preventDefault(),!xW(e,t)&&!mW(e)){var r=IW(e,t),a=function(){var n=r?e.selection.getStart(!0):t.target,i=e.ui.registry.getAll(),o=gW(e);return wW(i.contextMenus,o,n)},s=i()?dW:rW;s(e,t,a,n,o,r)}};e.on("init",(function(){var t="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(i()?"":" ResizeWindow");e.on(t,a),e.on("longpress contextmenu",s)}))},kW=Ve.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),SW=function(e){return function(t){return t.translate(-e.left(),-e.top())}},_W=function(e){return function(t){return t.translate(e.left(),e.top())}},TW=function(e){return function(t,n){return J(e,(function(e,t){return t(e)}),Cl(t,n))}},EW=function(e,t,n){return e.fold(TW([_W(n),SW(t)]),TW([SW(t)]),TW([]))},OW=function(e,t,n){return e.fold(TW([_W(n)]),TW([]),TW([_W(t)]))},RW=function(e,t,n){return e.fold(TW([]),TW([SW(n)]),TW([_W(t),SW(n)]))},NW=function(e,t,n,r,i,o){var a=OW(e,i,o),s=OW(t,i,o);return Math.abs(a.left()-s.left())<=n&&Math.abs(a.top()-s.top())<=r},LW=function(e,t,n,r,i,o){var a=OW(e,i,o),s=OW(t,i,o),l=Math.abs(a.left()-s.left()),c=Math.abs(a.top()-s.top());return Cl(l,c)},DW=function(e,t,n){var r=e.fold((function(e,t){return{position:x.some("absolute"),left:x.some(e+"px"),top:x.some(t+"px")}}),(function(e,t){return{position:x.some("absolute"),left:x.some(e-n.left()+"px"),top:x.some(t-n.top()+"px")}}),(function(e,t){return{position:x.some("fixed"),left:x.some(e+"px"),top:x.some(t+"px")}}));return p({right:x.none(),bottom:x.none()},r)},BW=function(e,t,n){return e.fold((function(e,r){return PW(e+t,r+n)}),(function(e,r){return FW(e+t,r+n)}),(function(e,r){return jW(e+t,r+n)}))},MW=function(e,t,n,r){var i=function(e,i){return function(o,a){var s=e(t,n,r);return i(o.getOr(s.left()),a.getOr(s.top()))}};return e.fold(i(RW,PW),i(OW,FW),i(EW,jW))},PW=kW.offset,FW=kW.absolute,jW=kW.fixed,HW=function(e,t){var n=ua(e,t);return R(n)?NaN:parseInt(n,10)},zW=function(e,t){var n=e.element(),r=HW(n,t.leftAttr),i=HW(n,t.topAttr);return isNaN(r)||isNaN(i)?x.none():x.some(Cl(r,i))},$W=function(e,t,n){var r=e.element();la(r,t.leftAttr,n.left()+"px"),la(r,t.topAttr,n.top()+"px")},VW=function(e,t){var n=e.element();ha(n,t.leftAttr),ha(n,t.topAttr)},WW=function(e,t,n,r){return zW(e,t).fold((function(){return n}),(function(e){return jW(e.left()+r.left(),e.top()+r.top())}))},KW=function(e,t,n,r,i,o){var a=WW(e,t,n,r),s=t.mustSnap?UW(e,t,a,i,o):qW(e,t,a,i,o),l=EW(a,i,o);return $W(e,t,l),s.fold((function(){return{coord:jW(l.left(),l.top()),extra:x.none()}}),(function(e){return{coord:e.output,extra:e.extra}}))},GW=function(e,t){VW(e,t)},ZW=function(e,t,n,r){return fe(e,(function(e){var i=e.sensor,o=NW(t,i,e.range.left(),e.range.top(),n,r);return o?x.some({output:MW(e.output,t,n,r),extra:e.extra}):x.none()}))},UW=function(e,t,n,r,i){var o=t.getSnapPoints(e),a=ZW(o,n,r,i);return a.orThunk((function(){var e=J(o,(function(e,t){var o=t.sensor,a=LW(n,o,t.range.left(),t.range.top(),r,i);return e.deltas.fold((function(){return{deltas:x.some(a),snap:x.some(t)}}),(function(n){var r=(a.left()+a.top())/2,i=(n.left()+n.top())/2;return r<=i?{deltas:x.some(a),snap:x.some(t)}:e}))}),{deltas:x.none(),snap:x.none()});return e.snap.map((function(e){return{output:MW(e.output,n,r,i),extra:e.extra}}))}))},qW=function(e,t,n,r,i){var o=t.getSnapPoints(e);return ZW(o,n,r,i)},XW=function(e,t,n){return{coord:MW(e.output,e.output,t,n),extra:e.extra}},YW=function(e,t,n,r){var i=t.getTarget(e.element());if(t.repositionTarget){var o=Po(e.element()),a=Pl(o),s=fz(i),l=XW(r,a,s),c=DW(l.coord,a,s);Ws(i,c)}},JW=Object.freeze({__proto__:null,snapTo:YW}),QW="data-initial-z-index",eK=function(e){zo(e.element()).filter(Lo).each((function(e){da(e,QW).fold((function(){return Xs(e,"z-index")}),(function(t){return $s(e,"z-index",t)})),ha(e,QW)}))},tK=function(e){zo(e.element()).filter(Lo).each((function(t){Zs(t,"z-index").each((function(e){la(t,QW,e)})),$s(t,"z-index",Ks(e.element(),"z-index"))}))},nK=function(e,t){e.getSystem().addToGui(t),tK(t)},rK=function(e){eK(e),e.getSystem().removeFromGui(e)},iK=function(e,t,n){return e.getSystem().build(ZS.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[t]},events:n}))},oK=Dn("snaps",[vn("getSnapPoints"),Rc("onSensor"),vn("leftAttr"),vn("topAttr"),Mn("lazyViewport",Ql),Mn("mustSnap",!1)]),aK=[Mn("useFixed",d),vn("blockerClass"),Mn("getTarget",s),Mn("onDrag",n),Mn("repositionTarget",!0),Mn("onDrop",n),$n("getBounds",Ql),oK],sK=function(e){return og(Zs(e,"left"),Zs(e,"top"),Zs(e,"position"),(function(e,t,n){var r="fixed"===n?jW:PW;return r(parseInt(e,10),parseInt(t,10))})).getOrThunk((function(){var t=Il(e);return FW(t.left(),t.top())}))},lK=function(e,t,n,r,i){var o=i.bounds,a=OW(t,n,r),s=cd(a.left(),o.x,o.x+o.width-i.width),l=cd(a.top(),o.y,o.y+o.height-i.height),c=FW(s,l);return t.fold((function(){var e=RW(c,n,r);return PW(e.left(),e.top())}),(function(){return c}),(function(){var e=EW(c,n,r);return jW(e.left(),e.top())}))},cK=function(e,t,n,r,i,o,a){var s=t.fold((function(){var e=BW(n,o.left(),o.top()),t=EW(e,r,i);return jW(t.left(),t.top())}),(function(t){var a=KW(e,t,n,o,r,i);return a.extra.each((function(n){t.onSensor(e,n)})),a.coord}));return lK(e,s,r,i,a)},uK=function(e,t,n,r){var i=t.getTarget(e.element());if(t.repositionTarget){var o=Po(e.element()),a=Pl(o),s=fz(i),l=sK(i),c=cK(e,t.snaps,l,a,s,r,n),u=DW(c,a,s);Ws(i,u)}t.onDrag(e,i,r)},dK=function(e,t){return{bounds:e.getBounds(),height:vl(t.element()),width:Tl(t.element())}},fK=function(e,t,n,r,i){var o=n.update(r,i),a=n.getStartData().getOrThunk((function(){return dK(t,e)}));o.each((function(n){uK(e,t,a,n)}))},hK=function(e,t,n,r){t.each(rK),n.snaps.each((function(t){GW(e,t)}));var i=n.getTarget(e.element());r.reset(),n.onDrop(e,i)},pK=function(e){return function(t,n){var r=function(e){n.setStartData(dK(t,e))};return fo(g([go(Zi(),(function(e){n.getStartData().each((function(){return r(e)}))}))],e(t,n,r)))}},mK=function(e){return fo([go(yi(),e.forceDrop),go(xi(),e.drop),go(Ci(),(function(t,n){e.move(n.event())})),go(wi(),e.delayDrop)])},gK=function(e){return x.from(Cl(e.x(),e.y()))},vK=function(e,t){return Cl(t.left()-e.left(),t.top()-e.top())},bK=Object.freeze({__proto__:null,getData:gK,getDelta:vK}),yK=function(e,t,n){return[go(yi(),(function(r,i){var o=i.event().raw();if(0===o.button){i.stop();var a=function(){return hK(r,x.some(c),e,t)},s=CS(a,200),l={drop:a,delayDrop:s.schedule,forceDrop:a,move:function(n){s.cancel(),fK(r,e,t,bK,n)}},c=iK(r,e.blockerClass,mK(l)),u=function(){n(r),nK(r,c)};u()}}))]},CK=g(aK,[Bc("dragger",{handlers:pK(yK)})]),wK=function(e){return fo([go(mi(),e.forceDrop),go(vi(),e.drop),go(bi(),e.drop),go(gi(),(function(t,n){e.move(n.event())}))])},xK=function(e){var t=e[0];return x.some(Cl(t.clientX,t.clientY))},IK=function(e){var t=e.raw(),n=t.touches;return 1===n.length?xK(n):x.none()},AK=function(e,t){return Cl(t.left()-e.left(),t.top()-e.top())},kK=Object.freeze({__proto__:null,getData:IK,getDelta:AK}),SK=function(e,t,n){var r=Zn(x.none());return[go(mi(),(function(i,o){o.stop();var a=function(){hK(i,r.get(),e,t),r.set(x.none())},s={drop:a,delayDrop:function(){},forceDrop:a,move:function(n){fK(i,e,t,kK,n)}},l=iK(i,e.blockerClass,wK(s));r.set(x.some(l));var c=function(){n(i),nK(i,l)};c()})),go(gi(),(function(n,r){r.stop(),fK(n,e,t,kK,r.event())})),go(vi(),(function(n,i){i.stop(),hK(n,r.get(),e,t),r.set(x.none())})),go(bi(),(function(n){hK(n,r.get(),e,t),r.set(x.none())}))]},_K=g(aK,[Bc("dragger",{handlers:pK(SK)})]),TK=function(e,t,n){return g(yK(e,t,n),SK(e,t,n))},EK=g(aK,[Bc("dragger",{handlers:pK(TK)})]),OK=CK,RK=_K,NK=EK,LK=Object.freeze({__proto__:null,mouse:OK,touch:RK,mouseOrTouch:NK}),DK=function(){var e=x.none(),t=x.none(),n=function(){e=x.none(),t=x.none()},r=function(t,n){var r=e.map((function(e){return t.getDelta(e,n)}));return e=x.some(n),r},i=function(e,t){return e.getData(t).bind((function(t){return r(e,t)}))},o=function(e){t=x.some(e)},s=function(){return t},l=a({});return Va({readState:l,reset:n,update:i,getStartData:s,setStartData:o})},BK=Object.freeze({__proto__:null,init:DK}),MK=Lu({branchKey:"mode",branches:LK,name:"dragging",active:{events:function(e,t){var n=e.dragger;return n.handlers(e,t)}},extra:{snap:function(e){return{sensor:e.sensor,range:e.range,output:e.output,extra:x.from(e.extra)}}},state:BK,apis:JW}),PK=40,FK=PK/2,jK=function(e,t,n,r,i,o){return e.fold((function(){return MK.snap({sensor:FW(n-FK,r-FK),range:Cl(i,o),output:FW(x.some(n),x.some(r)),extra:{td:t}})}),(function(e){var i=n-FK,o=r-FK,a=PK,s=PK,l=e.element().dom().getBoundingClientRect();return MK.snap({sensor:FW(i,o),range:Cl(a,s),output:FW(x.some(n-l.width/2),x.some(r-l.height/2)),extra:{td:t}})}))},HK=function(e,t,n){var r=function(e,t){return e.exists((function(e){return ni(e,t)}))};return{getSnapPoints:e,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:function(e,i){var o=i.td;r(t.get(),o)||(t.set(x.some(o)),n(o))},mustSnap:!0}},zK=function(e){return VC($C.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Eu([MK.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:e}),IT.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}}))},$K=function(e,t){var n=Zn([]),r=Zn([]),i=Zn(!1),o=Zn(x.none()),a=Zn(x.none()),s=function(e){var n=Jl(e);return jK(h.getOpt(t),e,n.x,n.y,n.width,n.height)},l=function(){return G(n.get(),(function(e){return s(e)}))},c=function(e){var n=Jl(e);return jK(p.getOpt(t),e,n.right,n.bottom,n.width,n.height)},u=function(){return G(r.get(),(function(e){return c(e)}))},d=HK(l,o,(function(t){a.get().each((function(n){e.fire("TableSelectorChange",{start:t,finish:n})}))})),f=HK(u,a,(function(t){o.get().each((function(n){e.fire("TableSelectorChange",{start:n,finish:t})}))})),h=zK(d),p=zK(f),m=fl(h.asSpec()),g=fl(p.asSpec()),v=function(t,n,r,i){var o=n.dom().getBoundingClientRect();Xs(t.element(),"display");var a=Ho(Qn.fromDom(e.getBody())).dom().innerHeight,s=r(o),l=i(o,a);(s||l)&&$s(t.element(),"display","none")},b=function(e,t,n,r){var i=n(t);MK.snapTo(e,i);var o=function(e){return e[r]<0},a=function(e,t){return e[r]>t};v(e,t,o,a)},y=function(e){return b(m,e,s,"top")},C=function(){return o.get().each(y)},w=function(e){return b(g,e,c,"bottom")},I=function(){return a.get().each(w)};Zr().deviceType.isTouch()&&(e.on("TableSelectionChange",(function(e){i.get()||(Rh(t,m),Rh(t,g),i.set(!0)),o.set(x.some(e.start)),a.set(x.some(e.finish)),e.otherCells.each((function(t){n.set(t.upOrLeftCells),r.set(t.downOrRightCells),y(e.start),w(e.finish)}))})),e.on("ResizeEditor ResizeWindow ScrollContent",(function(){C(),I()})),e.on("TableSelectionClear",(function(){i.get()&&(Dh(m),Dh(g),i.set(!1)),o.set(x.none()),a.set(x.none())})))};(function(e){e[e["None"]=0]="None",e[e["Both"]=1]="Both",e[e["Vertical"]=2]="Vertical"})(iH||(iH={}));var VK=function(e,t,n,r,i){var o={};return o.height=gV(r+t.top(),gI(e),bI(e)),n===iH.Both&&(o.width=gV(i+t.left(),mI(e),vI(e))),o},WK=function(e,t,n){var r=Qn.fromDom(e.getContainer()),i=VK(e,t,n,gl(r),_l(r));Oe(i,(function(e,t){return $s(r,t,mV(e))})),dk(e)},KK=function(e){if(1===e.nodeType){if("BR"===e.nodeName||e.getAttribute("data-mce-bogus"))return!0;if("bookmark"===e.getAttribute("data-mce-type"))return!0}return!1},GK=function(e,t,n){t.delimiter||(t.delimiter="»");var r=function(r){var i=r||[],o=G(i,(function(t,r){return $C.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{role:"button","data-index":r,"tab-index":-1,"aria-level":r+1},innerHtml:t.name},action:function(n){e.focus(),e.selection.select(t.element),e.nodeChanged()},buttonBehaviours:Eu([rA.button(n.isReadOnly),JI()])})})),a={dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0},innerHtml:" "+t.delimiter+" "}};return J(o.slice(1),(function(e,t){var n=e;return n.push(a),n.push(t),n}),[o[0]])},i=function(t){var n=[],r=t.length;while(r-- >0){var i=t[r];if(1===i.nodeType&&!KK(i)){var o=e.fire("ResolveName",{name:i.nodeName.toLowerCase(),target:i});if(o.isDefaultPrevented()||n.push({name:o.name,element:i}),o.isPropagationStopped())break}}return n};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Eu([ny.config({mode:"flow",selector:"div[role=button]"}),lI.config({disabled:n.isReadOnly}),JI(),r_.config({}),fy.config({}),py("elementPathEvents",[So((function(t,n){e.shortcuts.add("alt+F11","focus statusbar elementpath",(function(){return ny.focusIn(t)})),e.on("NodeChange",(function(e){var n=i(e.parents);n.length>0?fy.set(t,r(n)):fy.set(t,[])}))}))])]),components:[]}},ZK=function(e,t){var n=function(e,n,r){return fy.set(e,[cl(t.translate(["{0} "+r,n[r]]))])};return $C.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Eu([rA.button(t.isReadOnly),JI(),r_.config({}),fy.config({}),zp.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),py("wordcount-events",[Eo((function(e){var t=zp.getValue(e),r="words"===t.mode?"characters":"words";zp.setValue(e,{mode:r,count:t.count}),n(e,t.count,r)})),So((function(t){e.on("wordCountUpdate",(function(e){var r=zp.getValue(t).mode;zp.setValue(t,{mode:r,count:e.wordCount}),n(t,e.wordCount,r)}))}))])]),eventOrder:{"alloy.execute":["disabling","alloy.base.behaviour","wordcount-events"]}})},UK=function(e,t){var n=function(n){return{dom:{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:t.translate("Resize"),"aria-hidden":"true"},innerHtml:KC("resize-handle",t.icons)},behaviours:Eu([MK.config({mode:"mouse",repositionTarget:!1,onDrag:function(t,r,i){WK(e,i,n)},blockerClass:"tox-blocker"})])}},r=function(){var e=Vx.translate(["Powered by {0}","Tiny"]),t='<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5" rel="noopener" target="_blank" tabindex="-1" aria-label="'+e+'">'+e+"</a>";return{dom:{tag:"span",classes:["tox-statusbar__branding"],innerHtml:t}}},i=function(e){var t=!Dr(e.getParam("plugins","","string"),"autoresize"),n=e.getParam("resize",t);return!1===n?iH.None:"both"===n?iH.Both:iH.Vertical},o=function(){var n=[];return e.getParam("elementpath",!0,"boolean")&&n.push(GK(e,{},t)),Dr(e.getParam("plugins","","string"),"wordcount")&&n.push(ZK(e,t)),e.getParam("branding",!0,"boolean")&&n.push(r()),n.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:n}]:[]},a=function(){var t=o(),r=i(e);return r!==iH.None&&t.push(n(r)),t};return{dom:{tag:"div",classes:["tox-statusbar"]},components:a()}},qK=function(e){var t,n=e.inline,r=n?kV:uV,i=MI(e)?i$:l$,o=x.none(),a=Zr(),s=a.browser.isIE(),l=s?["tox-platform-ie"]:[],c=a.deviceType.isTouch(),u="tox-platform-touch",d=c?[u]:[],f=OI(e),h=Vx.isRtl()?{attributes:{dir:"rtl"}}:{},m={attributes:(t={},t[Nd]=f?pc.BottomToTop:pc.TopToBottom,t)},g=function(){return o.bind(Z$.getHeader)},v=function(){return i.isDocked(g)},b=fl({dom:p({tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(l).concat(d)},h),behaviours:Eu([kh.config({useFixed:function(){return v()}})])}),y=function(){return ge.value(b)},C=VC({dom:{tag:"div",classes:["tox-anchorbar"]}}),w=function(){return o.bind((function(e){return C.getOpt(e)})).getOrDie("Could not find a anchor bar element")},I=function(){return o.bind((function(e){return Z$.getToolbar(e)})).getOrDie("Could not find more toolbar element")},A=function(){return o.bind((function(e){return Z$.getThrobber(e)})).getOrDie("Could not find throbber element")},k=rP(b,e,w),S=Z$.parts().menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:k,onEscape:function(){e.focus()}}),_=_I(e),T=Z$.parts().toolbar(p({dom:{tag:"div",classes:["tox-toolbar"]},getSink:y,providers:k.shared.providers,onEscape:function(){e.focus()},type:_,lazyToolbar:I,lazyHeader:function(){return g().getOrDie("Could not find header element")}},m)),E=Z$.parts()["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:k.shared.providers,onEscape:function(){},type:_}),O=Z$.parts().socket({dom:{tag:"div",classes:["tox-edit-area"]}}),R=Z$.parts().sidebar({dom:{tag:"div",classes:["tox-sidebar"]}}),N=Z$.parts().throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:k}),L=e.getParam("statusbar",!0,"boolean"),D=L&&!n?x.some(UK(e,k.shared.providers)):x.none(),B={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[O,R]},M=kI(e),P=II(e),F=xI(e),j=function(){return M?[E]:P?[T]:[]},H=Z$.parts().header({dom:p({tag:"div",classes:["tox-editor-header"]},m),components:ne([F?[S]:[],j(),LI(e)?[]:[C.asSpec()]]),sticky:MI(e),editor:e,sharedBackstage:k.shared}),z=ne([f?[]:[H],n?[]:[B],f?[H]:[]]),$={dom:{tag:"div",classes:["tox-editor-container"]},components:z},V=ne([[$],n?[]:D.toArray(),[N]]),W=BI(e),K=p(p({role:"application"},Vx.isRtl()?{dir:"rtl"}:{}),W?{"aria-hidden":"true"}:{}),G=fl(Z$.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(n?["tox-tinymce-inline"]:[]).concat(f?["tox-tinymce--toolbar-bottom"]:[]).concat(d).concat(l),styles:p({visibility:"hidden"},W?{opacity:"0",border:"0"}:{}),attributes:K},components:V,behaviours:Eu([ny.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a"})])}));o=x.some(G),e.shortcuts.add("alt+F9","focus menubar",(function(){Z$.focusMenubar(G)})),e.shortcuts.add("alt+F10","focus toolbar",(function(){Z$.focusToolbar(G)}));var Z=US(G),U=US(b);tz(e,Z,U);var q=function(){var e={broadcastAll:U.broadcast,broadcastOn:U.broadcastOn,register:function(){}};return{channels:e}},X=function(){var t=mV(bV(e)),n=mV(CV(e));return e.inline||(qs("div","width",n)&&$s(G.element(),"width",n),qs("div","height",t)?$s(G.element(),"height",t):$s(G.element(),"height","200px")),t},Y=function(){i.setup(e,k.shared,g),GV(e,k),AW(e,y,k),w$(e),P$(e,A,k.shared),Re(TI(e),(function(t,n){e.ui.registry.addGroupToolbarButton(n,t)}));var t=e.ui.registry.getAll(),n=t.buttons,o=t.menuItems,a=t.contextToolbars,s=t.sidebars,l=AI(e),c={menuItems:o,menus:FI(e),menubar:jI(e),toolbar:l.getOrThunk((function(){return HI(e)})),allowToolbarGroups:_===Mw.floating,buttons:n,sidebar:s};ez(e,a,b,{backstage:k}),$K(e,b);var u=e.getElement(),d=X(),f={mothership:Z,uiMothership:U,outerContainer:G},h={targetNode:u,height:d};return r.render(e,f,c,k,h)};return{mothership:Z,uiMothership:U,backstage:k,renderUI:Y,getUi:q}},XK=function(e,t){var n=x.from(ua(e,"id")).fold((function(){var e=xa("dialog-describe");return la(t,"id",e),e}),s);la(e,"aria-describedby",n)},YK=function(e,t){var n=x.from(ua(e,"id")).fold((function(){var e=xa("dialog-label");return la(t,"id",e),e}),s);la(e,"aria-labelledby",n)},JK=a([vn("lazySink"),Tn("dragBlockClass"),$n("getBounds",Ql),Mn("useTabstopAt",a(!0)),Mn("eventOrder",{}),$p("modalBehaviours",[ny]),Nc("onExecute"),Dc("onEscape")]),QK={sketch:s},eG=a([xm({name:"draghandle",overrides:function(e,t){return{behaviours:Eu([MK.config({mode:"mouse",getTarget:function(e){return ac(e,'[role="dialog"]').getOr(e)},blockerClass:e.dragBlockClass.getOrDie(new Error("The drag blocker class was not specified for a dialog with a drag handle: \n"+JSON.stringify(t,null,2)).message),getBounds:e.getDragBounds})])}}}),Cm({schema:[vn("dom")],name:"title"}),Cm({factory:QK,schema:[vn("dom")],name:"close"}),Cm({factory:QK,schema:[vn("dom")],name:"body"}),xm({factory:QK,schema:[vn("dom")],name:"footer"}),wm({factory:{sketch:function(e,t){return p(p({},e),{dom:t.dom,components:t.components})}},schema:[Mn("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Mn("components",[])],name:"blocker"})]),tG=function(e,t,n,r){var i=xa("alloy.dialog.busy"),o=xa("alloy.dialog.idle"),a=Eu([ny.config({mode:"special",onTab:function(){return x.some(!0)},onShiftTab:function(){return x.some(!0)}}),Iy.config({})]),s=function(t){var n=e.lazySink(t).getOrDie(),s=Zn(x.none()),l=r.blocker(),c=n.getSystem().build(p(p({},l),{components:l.components.concat([hl(t)]),behaviours:Eu([Iy.config({}),py("dialog-blocker-events",[ko(Ai(),(function(){ny.focusIn(t)})),go(o,(function(e,n){fa(t.element(),"aria-busy")&&(ha(t.element(),"aria-busy"),s.get().each((function(e){return fy.remove(t,e)})))})),go(i,(function(e,n){la(t.element(),"aria-busy","true");var r=n.event().getBusySpec();s.get().each((function(e){fy.remove(t,e)}));var i=r(t,a),o=e.getSystem().build(i);s.set(x.some(o)),fy.append(t,hl(o)),o.hasConfigured(ny)&&ny.focusIn(o)}))])])}));Rh(n,c),ny.focusIn(t)},l=function(e){zo(e.element()).each((function(t){e.getSystem().getByDom(t).each((function(e){Dh(e)}))}))},c=function(t){return Mm(t,e,"body")},u=function(t){return Mm(t,e,"footer")},d=function(e,t){ao(e,i,{getBusySpec:t})},f=function(e){oo(e,o)},h=xa("modal-events"),m=p(p({},e.eventOrder),{"alloy.system.attached":[h].concat(e.eventOrder["alloy.system.attached"]||[])});return{uid:e.uid,dom:e.dom,components:t,apis:{show:s,hide:l,getBody:c,getFooter:u,setIdle:f,setBusy:d},eventOrder:m,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Wp(e.modalBehaviours,[fy.config({}),ny.config({mode:"cyclic",onEnter:e.onExecute,onEscape:e.onEscape,useTabstopAt:e.useTabstopAt}),py(h,[So((function(t){YK(t.element(),Mm(t,e,"title").element()),XK(t.element(),Mm(t,e,"body").element())}))])])}},nG=tg({name:"ModalDialog",configFields:JK(),partFields:eG(),factory:tG,apis:{show:function(e,t){e.show(t)},hide:function(e,t){e.hide(t)},getBody:function(e,t){return e.getBody(t)},getFooter:function(e,t){return e.getFooter(t)},setBusy:function(e,t,n){e.setBusy(t,n)},setIdle:function(e,t){e.setIdle(t)}}}),rG=Ft([Cn("type"),Cn("name")].concat(px)),iG=fn,oG=[Kt("name","name",nt((function(){return xa("button-name")})),dn),Rn("icon"),Hn("align","end",["start","end"]),zn("primary",!1),zn("disabled",!1)],aG=g(oG,[Cn("text")]),sG=g([wn("type",["submit","cancel","custom"])],aG),lG=g([wn("type",["menu"]),Rn("text"),Rn("tooltip"),Rn("icon"),_n("items",rG)],oG),cG=sn("type",{submit:sG,cancel:sG,custom:sG,menu:lG}),uG=[Cn("type"),Cn("text"),wn("level",["info","warn","error","success"]),Cn("icon"),Mn("url","")],dG=Ft(uG),fG=function(e){return[Cn("type"),e]},hG=[Cn("type"),Cn("text"),zn("disabled",!1),zn("primary",!1),Kt("name","name",nt((function(){return xa("button-name")})),dn),Rn("icon"),zn("borderless",!1)],pG=Ft(hG),mG=[Cn("type"),Cn("name"),Cn("label"),zn("disabled",!1)],gG=Ft(mG),vG=fn,bG=[Cn("type"),Cn("name")],yG=bG.concat([Rn("label")]),CG=yG,wG=Ft(CG),xG=dn,IG=yG,AG=Ft(IG),kG=dn,SG=yG,_G=Ft(SG),TG=Xt(),EG=function(e){return[Cn("type"),yn("columns"),e]},OG=yG.concat([zn("sandboxed",!0)]),RG=Ft(OG),NG=dn,LG=yG.concat([Rn("inputMode"),Rn("placeholder"),zn("maximized",!1),zn("disabled",!1)]),DG=Ft(LG),BG=dn,MG=yG.concat([Sn("items",[Cn("text"),Cn("value")]),Fn("size",1),zn("disabled",!1)]),PG=Ft(MG),FG=dn,jG=yG.concat([zn("constrain",!0),zn("disabled",!1)]),HG=Ft(jG),zG=Ft([Cn("width"),Cn("height")]),$G=yG.concat([Rn("placeholder"),zn("maximized",!1),zn("disabled",!1)]),VG=Ft($G),WG=dn,KG=yG.concat([Hn("filetype","file",["image","media","file"]),Mn("disabled",!1)]),GG=Ft(KG),ZG=Ft([Cn("value"),Mn("meta",{})]),UG=bG.concat([jn("tag","textarea"),Cn("scriptId"),Cn("scriptUrl"),Vn("settings",void 0)]),qG=bG.concat([jn("tag","textarea"),In("init")]),XG=Jt((function(e){return tn("customeditor.old",Pt(qG),e).orThunk((function(){return tn("customeditor.new",Pt(UG),e)}))})),YG=dn,JG=[Cn("type"),Cn("html"),Hn("presets","presentation",["presentation","document"])],QG=Ft(JG),eZ=yG.concat([bn("currentState",Ft([vn("blob"),Cn("url")]))]),tZ=Ft(eZ),nZ=yG.concat([Mn("columns","auto")]),rZ=Ft(nZ),iZ=qt([Cn("value"),Cn("text"),Cn("icon")]),oZ=function(e){return[Cn("type"),Cn("label"),e]},aZ=[Cn("type"),_n("header",dn),_n("cells",jt(dn))],sZ=Ft(aZ),lZ=function(e){return Kt("items","items",et(),jt(Jt((function(t){return tn("Checking item of "+e,cZ,t).fold((function(e){return ge.error(on(e))}),(function(e){return ge.value(e)}))}))))},cZ=Yt((function(){return an("type",{alertbanner:dG,bar:Ft(fG(lZ("bar"))),button:pG,checkbox:gG,colorinput:wG,colorpicker:AG,dropzone:_G,grid:Ft(EG(lZ("grid"))),iframe:RG,input:DG,selectbox:PG,sizeinput:HG,textarea:VG,urlinput:GG,customeditor:XG,htmlpanel:QG,imagetools:tZ,collection:rZ,label:Ft(oZ(lZ("label"))),table:sZ,panel:dZ})})),uZ=[Cn("type"),Mn("classes",[]),_n("items",cZ)],dZ=Ft(uZ),fZ=[Kt("name","name",nt((function(){return xa("tab-name")})),dn),Cn("title"),_n("items",cZ)],hZ=[Cn("type"),Sn("tabs",fZ)],pZ=Ft(hZ),mZ=aG,gZ=cG,vZ=Ft([Cn("title"),bn("body",an("type",{panel:dZ,tabpanel:pZ})),jn("size","normal"),_n("buttons",gZ),Mn("initialData",{}),$n("onAction",n),$n("onChange",n),$n("onSubmit",n),$n("onClose",n),$n("onCancel",n),Mn("onTabChange",n)]),bZ=function(e){return tn("dialog",vZ,e)},yZ=function(e){return T(e)?[e].concat(re(Fe(e),yZ)):E(e)?re(e,yZ):[]},CZ=function(e){return _(e.type)&&_(e.name)},wZ={checkbox:vG,colorinput:xG,colorpicker:kG,dropzone:TG,input:BG,iframe:NG,sizeinput:zG,selectbox:FG,size:zG,textarea:WG,urlinput:ZG,customeditor:YG,collection:iZ,togglemenuitem:iG},xZ=function(e){return x.from(wZ[e.type])},IZ=function(e){return X(yZ(e),CZ)},AZ=function(e){var t=IZ(e),n=re(t,(function(e){return xZ(e).fold((function(){return[]}),(function(t){return[bn(e.name,t)]}))}));return Ft(n)},kZ=Ft(g([wn("type",["cancel","custom"])],mZ)),SZ=Ft([Cn("title"),Cn("url"),On("height"),On("width"),Ln("buttons",kZ),$n("onAction",n),$n("onCancel",n),$n("onClose",n),$n("onMessage",n)]),_Z=function(e){return tn("dialog",SZ,e)},TZ=function(e){var t=nn(bZ(e)),n=AZ(e),r=e.initialData;return{internalDialog:t,dataValidator:n,initialData:r}},EZ={open:function(e,t){var n=TZ(t);return e(n.internalDialog,n.initialData,n.dataValidator)},openUrl:function(e,t){var n=nn(_Z(t));return e(n)},redial:function(e){return TZ(e)}},OZ=function(e){var t=[],n={};return Oe(e,(function(e,r){e.fold((function(){t.push(r)}),(function(e){n[r]=e}))})),t.length>0?ge.error(t):ge.value(n)},RZ=function(e,n){var r=VC(bR.sketch((function(t){return{dom:{tag:"div",classes:["tox-form"].concat(e.classes)},components:G(e.items,(function(e){return $B(t,e,n)}))}})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[r.asSpec()]}],behaviours:Eu([ny.config({mode:"acyclic",useTabstopAt:c(tN)}),ER.memento(r),WR.memento(r,{postprocess:function(e){return OZ(e).fold((function(e){return t.console.error(e),{}}),(function(e){return e}))}})])}},NZ=function(e,t){return{uid:e.uid,dom:e.dom,components:e.components,events:Wy(e.action),behaviours:Wp(e.tabButtonBehaviours,[Iy.config({}),ny.config({mode:"execution",useSpace:!0,useEnter:!0}),zp.config({store:{mode:"memory",initialValue:e.value}})]),domModification:e.domModification}},LZ=eg({name:"TabButton",configFields:[Mn("uid",void 0),vn("value"),Kt("dom","dom",rt((function(){return{attributes:{role:"tab",id:xa("aria"),"aria-selected":"false"}}})),ln()),Tn("action"),Mn("domModification",{}),$p("tabButtonBehaviours",[Iy,ny,zp]),vn("view")],factory:NZ}),DZ=a([vn("tabs"),vn("dom"),Mn("clickToDismiss",!1),$p("tabbarBehaviours",[Og,ny]),Ec(["tabClass","selectedClass"])]),BZ=Im({factory:LZ,name:"tabs",unit:"tab",overrides:function(e){var t=function(e,t){Og.dehighlight(e,t),ao(e,no(),{tabbar:e,button:t})},r=function(e,t){Og.highlight(e,t),ao(e,to(),{tabbar:e,button:t})};return{action:function(i){var o=i.getSystem().getByUid(e.uid).getOrDie(),a=Og.isHighlighted(o,i),s=function(){return a&&e.clickToDismiss?t:a?n:r}();s(o,i)},domModification:{classes:[e.markers.tabClass]}}}}),MZ=a([BZ]),PZ=function(e,t,n,r){return{uid:e.uid,dom:e.dom,components:t,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Wp(e.tabbarBehaviours,[Og.config({highlightClass:e.markers.selectedClass,itemClass:e.markers.tabClass,onHighlight:function(e,t){la(t.element(),"aria-selected","true")},onDehighlight:function(e,t){la(t.element(),"aria-selected","false")}}),ny.config({mode:"flow",getInitial:function(e){return Og.getHighlighted(e).map((function(e){return e.element()}))},selector:"."+e.markers.tabClass,executeOnMove:!0})])}},FZ=tg({name:"Tabbar",configFields:DZ(),partFields:MZ(),factory:PZ}),jZ=function(e,t){return{uid:e.uid,dom:e.dom,behaviours:Wp(e.tabviewBehaviours,[fy.config({})]),domModification:{attributes:{role:"tabpanel"}}}},HZ=eg({name:"Tabview",configFields:[$p("tabviewBehaviours",[fy])],factory:jZ}),zZ=a([Mn("selectFirst",!0),Rc("onChangeTab"),Rc("onDismissTab"),Mn("tabs",[]),$p("tabSectionBehaviours",[])]),$Z=Cm({factory:FZ,schema:[vn("dom"),kn("markers",[vn("tabClass"),vn("selectedClass")])],name:"tabbar",defaults:function(e){return{tabs:e.tabs}}}),VZ=Cm({factory:HZ,name:"tabview"}),WZ=a([$Z,VZ]),KZ=function(e,t,n,r){var i=function(t){var n=zp.getValue(t);Bm(t,e,"tabview").each((function(r){var i=ee(e.tabs,(function(e){return e.value===n}));i.each((function(n){var i=n.view();da(t.element(),"id").each((function(e){la(r.element(),"aria-labelledby",e)})),fy.set(r,i),e.onChangeTab(r,t,i)}))}))},o=function(t,n){Bm(t,e,"tabbar").each((function(e){n(e).each(so)}))};return{uid:e.uid,dom:e.dom,components:t,behaviours:Vp(e.tabSectionBehaviours),events:fo(ne([e.selectFirst?[So((function(e,t){o(e,Og.getFirst)}))]:[],[go(to(),(function(e,t){var n=t.event().button();i(n)})),go(no(),(function(t,n){var r=n.event().button();e.onDismissTab(t,r)}))]])),apis:{getViewItems:function(t){return Bm(t,e,"tabview").map((function(e){return fy.contents(e)})).getOr([])},showTab:function(e,t){var n=function(e){var n=Og.getCandidates(e),r=ee(n,(function(e){return zp.getValue(e)===t}));return r.filter((function(t){return!Og.isHighlighted(e,t)}))};o(e,n)}}}},GZ=tg({name:"TabSection",configFields:zZ(),partFields:WZ(),factory:KZ,apis:{getViewItems:function(e,t){return e.getViewItems(t)},showTab:function(e,t,n){e.showTab(t,n)}}}),ZZ=function(e,t,n){return G(e,(function(r,i){fy.set(n,e[i].view());var o=t.dom().getBoundingClientRect();return fy.set(n,[]),o.height}))},UZ=function(e){return ce(le(e,(function(e,t){return e>t?-1:e<t?1:0})))},qZ=function(e,n,r){var i,o=jo(e).dom(),a=ac(e,".tox-dialog-wrap").getOr(e),s="fixed"===Ks(a,"position");i=s?Math.max(o.clientHeight,t.window.innerHeight):Math.max(o.offsetHeight,o.scrollHeight);var l=gl(n),c=n.dom().offsetLeft>=r.dom().offsetLeft+_l(r),u=c?Math.max(gl(r),l):l,d=parseInt(Ks(e,"margin-top"),10)||0,f=parseInt(Ks(e,"margin-bottom"),10)||0,h=gl(e)+d+f,p=h-u;return i-p},XZ=function(e,t){ce(e).each((function(e){return GZ.showTab(t,e.value)}))},YZ=function(e,t){$s(e,"height",t+"px"),Zr().browser.isIE()?Xs(e,"flex-basis"):$s(e,"flex-basis",t+"px")},JZ=function(e,t,n){ac(e,'[role="dialog"]').each((function(e){sc(e,'[role="tablist"]').each((function(r){n.get().map((function(n){return $s(t,"height","0"),$s(t,"flex-basis","0"),Math.min(n,qZ(e,t,r))})).each((function(e){YZ(t,e)}))}))}))},QZ=function(e){return sc(e,'[role="tabpanel"]')},eU=function(e){var t=function(){var t=Zn(x.none()),n=[So((function(n){var r=n.element();QZ(r).each((function(i){$s(i,"visibility","hidden"),n.getSystem().getByDom(i).toOption().each((function(n){var r=ZZ(e,i,n),o=UZ(r);t.set(o)})),JZ(r,i,t),Xs(i,"visibility"),XZ(e,n),HC.requestAnimationFrame((function(){JZ(r,i,t)}))}))})),go(Ui(),(function(e){var n=e.element();QZ(n).each((function(e){JZ(n,e,t)}))})),go(b_,(function(e,n){var r=e.element();QZ(r).each((function(e){var n=Gu();$s(e,"visibility","hidden");var i=Zs(e,"height").map((function(e){return parseInt(e,10)}));Xs(e,"height"),Xs(e,"flex-basis");var o=e.dom().getBoundingClientRect().height,a=i.forall((function(e){return o>e}));a?(t.set(x.from(o)),JZ(r,e,t)):i.each((function(t){YZ(e,t)})),Xs(e,"visibility"),n.each(Vu)}))}))],r=!1;return{extraEvents:n,selectFirst:r}}(),n=function(){var e=[],t=!0;return{extraEvents:e,selectFirst:t}}();return{smartTabHeight:t,naiveTabHeight:n}},tU="send-data-to-section",nU="send-data-to-view",rU=function(e,t){var n=Zn({}),r=function(e){var t=zp.getValue(e),r=OZ(t).getOr({}),i=n.get(),o=Ue(i,r);n.set(o)},i=function(e){var t=n.get();zp.setValue(e,t)},o=Zn(null),a=G(e.tabs,(function(e){return{value:e.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"],innerHtml:t.shared.providers.translate(e.title)},view:function(){return[bR.sketch((function(n){return{dom:{tag:"div",classes:["tox-form"]},components:G(e.items,(function(e){return $B(n,e,t)})),formBehaviours:Eu([ny.config({mode:"acyclic",useTabstopAt:c(tN)}),py("TabView.form.events",[So(i),_o(r)]),ju.config({channels:ut([{key:tU,value:{onReceive:r}},{key:nU,value:{onReceive:i}}])})])}}))]}}})),s=eU(a).smartTabHeight;return GZ.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:function(e,t,n){var r=zp.getValue(t);ao(e,v_,{name:r,oldName:o.get()}),o.set(r)},tabs:a,components:[GZ.parts().tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[FZ.parts().tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Eu([r_.config({})])}),GZ.parts().tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:s.selectFirst,tabSectionBehaviours:Eu([py("tabpanel",s.extraEvents),ny.config({mode:"acyclic"}),ug.config({find:function(e){return ce(GZ.getViewItems(e))}}),zp.config({store:{mode:"manual",getValue:function(e){return e.getSystem().broadcastOn([tU],{}),n.get()},setValue:function(e,t){n.set(t),e.getSystem().broadcastOn([nU],{})}}})])})},iU=xa("update-dialog"),oU=xa("update-title"),aU=xa("update-body"),sU=xa("update-footer"),lU=xa("body-send-message"),cU=function(e,t,n,r){var i=function(e){switch(e.body.type){case"tabpanel":return[rU(e.body,n)];default:return[RZ(e.body,n)]}},o=function(e,t){return x.some({isTabPanel:function(){return"tabpanel"===t.body.type}})},a={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:p(p({},t.map((function(e){return{id:e}})).getOr({})),r?a:{})},components:[],behaviours:Eu([ER.childAt(0),sj.config({channel:aU,updateState:o,renderComponents:i,initialData:e})])}},uU=function(e,t,n,r){return cU(e,x.some(t),n,r)},dU=function(e,t){var n=cU(e,x.none(),t,!1);return nG.parts().body(n)},fU=function(e){var t={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[JR({dom:{tag:"iframe",attributes:{src:e.url}},behaviours:Eu([r_.config({}),Iy.config({})])})]}],behaviours:Eu([ny.config({mode:"acyclic",useTabstopAt:c(tN)})])};return nG.parts().body(t)},hU=fA.deviceType.isTouch(),pU=function(e,t){return{dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[e,t]}},mU=function(e,t){return nG.parts().close($C.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close")}},action:e,buttonBehaviours:Eu([r_.config({})])}))},gU=function(){return nG.parts().title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}})},vU=function(e,t){return nG.parts().body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:L$("<p>"+t.translate(e)+"</p>")}]}]})},bU=function(e){return nG.parts().footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:e})},yU=function(e,t){return[ZS.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:e}),ZS.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:t})]},CU=function(e){var t,n="tox-dialog",r=n+"-wrap",i=r+"__backdrop",o=n+"__disable-scroll";return nG.sketch({lazySink:e.lazySink,onEscape:function(t){return e.onEscape(t),x.some(!0)},useTabstopAt:function(e){return!tN(e)},dom:{tag:"div",classes:[n].concat(e.extraClasses),styles:p({position:"relative"},e.extraStyles)},components:g([e.header,e.body],e.footer.toArray()),parts:{blocker:{dom:L$('<div class="'+r+'"></div>'),components:[{dom:{tag:"div",classes:hU?[i,i+"--opaque"]:[i]}}]}},dragBlockClass:r,modalBehaviours:Eu(g([Iy.config({}),py("dialog-events",e.dialogEvents.concat([ko(Ai(),(function(e,t){ny.focusIn(e)}))])),py("scroll-lock",[So((function(){ws(Fs(),o)})),_o((function(){Is(Fs(),o)}))])],e.extraBehaviours)),eventOrder:p((t={},t[Fi()]=["dialog-events"],t[qi()]=["scroll-lock","dialog-events","alloy.base.behaviour"],t[Xi()]=["alloy.base.behaviour","dialog-events","scroll-lock"],t),e.eventOrder)})},wU=function(e){return $C.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":e.translate("Close"),title:e.translate("Close")}},components:[{dom:{tag:"div",classes:["tox-icon"],innerHtml:'<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M17.953 7.453L13.422 12l4.531 4.547-1.406 1.406L12 13.422l-4.547 4.531-1.406-1.406L10.578 12 6.047 7.453l1.406-1.406L12 10.578l4.547-4.531z" fill-rule="evenodd"></path></svg>'}}],action:function(e){oo(e,f_)}})},xU=function(e,t,n){var r=function(e){return[cl(n.translate(e.title))]};return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:p({},t.map((function(e){return{id:e}})).getOr({}))},components:r(e),behaviours:Eu([sj.config({channel:oU,renderComponents:r})])}},IU=function(){return{dom:L$('<div class="tox-dialog__draghandle"></div>')}},AU=function(e,t,n){return ZS.sketch({dom:L$('<div class="tox-dialog__header"></div>'),components:[xU(e,x.some(t),n),IU(),wU(n)],containerBehaviours:Eu([MK.config({mode:"mouse",blockerClass:"blocker",getTarget:function(e){return lc(e,'[role="dialog"]').getOrDie()},snaps:{getSnapPoints:function(){return[]},leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])})},kU=function(e,t){var n=nG.parts().title(xU(e,x.none(),t)),r=nG.parts().draghandle(IU()),i=nG.parts().close(wU(t)),o=[n].concat(e.draggable?[r]:[]).concat([i]);return ZS.sketch({dom:L$('<div class="tox-dialog__header"></div>'),components:o})},SU=function(e,t){return kU({title:t.shared.providers.translate(e),draggable:t.dialog.isDraggableModal()},t.shared.providers)},_U=function(e,t){return{onClose:function(){return t.closeWindow()},onBlock:function(t){nG.setBusy(e(),(function(e,n){return{dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":t.message()},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:n,components:[{dom:L$('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}}))},onUnblock:function(){nG.setIdle(e())}}},TU=function(e,t,n,r){var i,o=function(e,t){return x.some(t)};return fl(CU(p(p({},e),{lazySink:r.shared.getSink,extraBehaviours:g([sj.config({channel:iU,updateState:o,initialData:t}),WR.memory({})],e.extraBehaviours),onEscape:function(e){oo(e,f_)},dialogEvents:n,eventOrder:(i={},i[Pi()]=["reflecting","receiving"],i[qi()]=["scroll-lock","reflecting","messages","dialog-events","alloy.base.behaviour"],i[Xi()]=["alloy.base.behaviour","dialog-events","messages","reflecting","scroll-lock"],i)})))},EU=function(e){var t=function(e){var t=G(e.items,(function(e){var t=Zn(!1);return p(p({},e),{storage:t})}));return p(p({},e),{items:t})};return G(e,(function(e){return"menu"===e.type?t(e):e}))},OU=function(e){return J(e,(function(e,t){if("menu"===t.type){var n=t;return J(n.items,(function(e,t){return e[t.name]=t.storage,e}),e)}return e}),{})},RU=function(e,t){return[xo(Ai(),eN),e(d_,(function(e,n){t.onClose(),n.onClose()})),e(f_,(function(e,t,n,r){t.onCancel(e),oo(r,d_)})),go(g_,(function(e,n){return t.onUnblock()})),go(m_,(function(e,n){return t.onBlock(n.event())}))]},NU=function(e,t){var n=function(t,n){return go(t,(function(t,i){r(t,(function(r,o){n(e(),r,i.event(),t)}))}))},r=function(e,t){sj.getState(e).get().each((function(n){t(n,e)}))};return g(RU(n,t),[n(h_,(function(e,t,n){t.onAction(e,{name:n.name()})}))])},LU=function(e,t,n){var r=function(t,n){return go(t,(function(t,r){i(t,(function(i,o){n(e(),i,r.event(),t)}))}))},i=function(e,t){sj.getState(e).get().each((function(n){t(n.internalDialog,e)}))};return g(RU(r,t),[r(p_,(function(e,t){return t.onSubmit(e)})),r(u_,(function(e,t,n){t.onChange(e,{name:n.name()})})),r(h_,(function(e,t,r,i){var o=function(){return ny.focusIn(i)},a=function(e){return fa(e,"disabled")||da(e,"aria-disabled").exists((function(e){return"true"===e}))},s=Gu();t.onAction(e,{name:r.name(),value:r.value()}),Gu().fold(o,(function(e){a(e)||s.exists((function(t){return oi(e,t)&&a(t)}))?o():n().toOption().filter((function(t){return!oi(t.element(),e)})).each(o)}))})),r(v_,(function(e,t,n){t.onTabChange(e,{newTabName:n.name(),oldTabName:n.oldName()})})),_o((function(t){var n=e();zp.setValue(t,n.getData())}))])},DU={initUrlDialog:NU,initDialog:LU},BU=function(e,t){return $L(e,e.type,t)},MU=function(e,t,n){return ee(t,(function(e){return e.name===n})).bind((function(t){return t.memento.getOpt(e)}))},PU=function(e,t){var n=t.map((function(e){return e.footerButtons})).getOr([]),r=q(n,(function(e){return"start"===e.align})),i=function(e,t){return ZS.sketch({dom:{tag:"div",classes:["tox-dialog__footer-"+e]},components:G(t,(function(e){return e.memento.asSpec()}))})},o=i("start",r.pass),a=i("end",r.fail);return[o,a]},FU=function(e,t){var n=function(e,n){var r=G(n.buttons,(function(e){var n=VC(BU(e,t));return{name:e.name,align:e.align,memento:n}})),i=function(e,t){return MU(e,r,t)};return x.some({lookupByName:i,footerButtons:r})};return{dom:L$('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Eu([sj.config({channel:sU,initialData:e,updateState:n,renderComponents:PU})])}},jU=function(e,t){return FU(e,t)},HU=function(e,t){return nG.parts().footer(FU(e,t))},zU=function(e,t){var n=e.getRoot();if(n.getSystem().isConnected()){var r=ug.getCurrent(e.getFormWrapper()).getOr(e.getFormWrapper());return bR.getField(r,t).fold((function(){var n=e.getFooter(),i=sj.getState(n);return i.get().bind((function(e){return e.lookupByName(r,t)}))}),(function(e){return x.some(e)}))}return x.none()},$U=function(e,t){var n=e.getRoot();return sj.getState(n).get().map((function(e){return nn(tn("data",e.dataValidator,t))})).getOr(t)},VU=function(e,t,n){var r=function(t){var n=e.getRoot();n.getSystem().isConnected()&&t(n)},i=function(){var t=e.getRoot(),r=t.getSystem().isConnected()?e.getFormWrapper():t,i=zp.getValue(r),o=Re(n,(function(e){return e.get()}));return p(p({},i),o)},o=function(t){r((function(r){var i=m.getData(),o=p(p({},i),t),a=$U(e,o),s=e.getFormWrapper();zp.setValue(s,a),Oe(n,(function(e,t){He(o,t)&&e.set(o[t])}))}))},a=function(t){zU(e,t).each(lI.disable)},s=function(t){zU(e,t).each(lI.enable)},l=function(t){zU(e,t).each(Iy.focus)},c=function(e){if(!_(e))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");r((function(t){ao(t,m_,{message:e})}))},u=function(){r((function(e){oo(e,g_)}))},d=function(t){r((function(n){var r=e.getBody(),i=sj.getState(r);i.get().exists((function(e){return e.isTabPanel()}))&&ug.getCurrent(r).each((function(e){GZ.showTab(e,t)}))}))},f=function(e){r((function(n){var r=t(e);n.getSystem().broadcastOn([iU],r),n.getSystem().broadcastOn([oU],r.internalDialog),n.getSystem().broadcastOn([aU],r.internalDialog),n.getSystem().broadcastOn([sU],r.internalDialog),m.setData(r.initialData)}))},h=function(){r((function(e){oo(e,d_)}))},m={getData:i,setData:o,disable:a,enable:s,focus:l,block:c,unblock:u,showTab:d,redial:f,close:h};return m},WU=function(e,t,n){var r=SU(e.internalDialog.title,n),i=dU({body:e.internalDialog.body},n),o=EU(e.internalDialog.buttons),a=OU(o),s=HU({buttons:o},n),l=DU.initDialog((function(){return h}),_U((function(){return d}),t),n.shared.getSink),c="normal"!==e.internalDialog.size?"large"===e.internalDialog.size?["tox-dialog--width-lg"]:["tox-dialog--width-md"]:[],u={header:r,body:i,footer:x.some(s),extraClasses:c,extraBehaviours:[],extraStyles:{}},d=TU(u,e,l,n),f=function(){var e=function(){var e=nG.getBody(d);return ug.getCurrent(e).getOr(e)};return{getRoot:function(){return d},getBody:function(){return nG.getBody(d)},getFooter:function(){return nG.getFooter(d)},getFormWrapper:e}}(),h=VU(f,t.redial,a);return{dialog:d,instanceApi:h}},KU=function(e,t,n,r){var i,o,a=xa("dialog-label"),s=xa("dialog-content"),l=function(e,t){return x.some(t)},c=VC(AU({title:e.internalDialog.title,draggable:!0},a,n.shared.providers)),u=VC(uU({body:e.internalDialog.body},s,n,r)),d=EU(e.internalDialog.buttons),f=OU(d),h=VC(jU({buttons:d},n)),p=DU.initDialog((function(){return g}),{onBlock:function(){},onUnblock:function(){},onClose:function(){return t.closeWindow()}},n.shared.getSink),m=fl({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline"],attributes:(i={role:"dialog"},i["aria-labelledby"]=a,i["aria-describedby"]=""+s,i)},eventOrder:(o={},o[Pi()]=[sj.name(),ju.name()],o[Fi()]=["execute-on-form"],o[qi()]=["reflecting","execute-on-form"],o),behaviours:Eu([ny.config({mode:"cyclic",onEscape:function(e){return oo(e,d_),x.some(!0)},useTabstopAt:function(e){return!tN(e)&&("button"!==Oo(e)||"disabled"!==ua(e,"disabled"))}}),sj.config({channel:iU,updateState:l,initialData:e}),Iy.config({}),py("execute-on-form",p.concat([ko(Ai(),(function(e,t){ny.focusIn(e)}))])),WR.memory({})]),components:[c.asSpec(),u.asSpec(),h.asSpec()]}),g=VU({getRoot:function(){return m},getFooter:function(){return h.get(m)},getBody:function(){return u.get(m)},getFormWrapper:function(){var e=u.get(m);return ug.getCurrent(e).getOr(e)}},t.redial,f);return{dialog:m,instanceApi:g}},GU=tinymce.util.Tools.resolve("tinymce.util.URI"),ZU=function(e){var t=function(t){e.getSystem().isConnected()&&t(e)},n=function(e){if(!_(e))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");t((function(t){ao(t,m_,{message:e})}))},r=function(){t((function(e){oo(e,g_)}))},i=function(){t((function(e){oo(e,d_)}))},o=function(e){t((function(t){t.getSystem().broadcastOn([lU],e)}))};return{block:n,unblock:r,close:i,sendMessage:o}},UU=["insertContent","setContent","execCommand","close","block","unblock"],qU=function(e){return T(e)&&-1!==UU.indexOf(e.mceAction)},XU=function(e){return!qU(e)&&T(e)&&He(e,"mceAction")},YU=function(e,t,n){switch(n.mceAction){case"insertContent":e.insertContent(n.content);break;case"setContent":e.setContent(n.content);break;case"execCommand":var r=!!O(n.ui)&&n.ui;e.execCommand(n.cmd,r,n.value);break;case"close":t.close();break;case"block":t.block(n.message);break;case"unblock":t.unblock();break}},JU=function(e,n,r,i){var o,a=SU(e.title,i),s=fU(e),l=e.buttons.bind((function(e){return 0===e.length?x.none():x.some(HU({buttons:e},i))})),c=DU.initUrlDialog((function(){return y}),_U((function(){return b}),n)),u=p(p({},e.height.fold((function(){return{}}),(function(e){return{height:e+"px","max-height":e+"px"}}))),e.width.fold((function(){return{}}),(function(e){return{width:e+"px","max-width":e+"px"}}))),d=e.width.isNone()&&e.height.isNone()?["tox-dialog--width-lg"]:[],f=new GU(e.url,{base_uri:new GU(t.window.location.href)}),h=f.protocol+"://"+f.host+(f.port?":"+f.port:""),m=Zn(x.none()),g=[py("messages",[So((function(){var n=gS(Qn.fromDom(t.window),"message",(function(t){if(f.isSameOrigin(new GU(t.raw().origin))){var n=t.raw().data;qU(n)?YU(r,y,n):XU(n)&&e.onMessage(y,n)}}));m.set(x.some(n))})),_o((function(){m.get().each((function(e){return e.unbind()}))}))]),ju.config({channels:(o={},o[lU]={onReceive:function(e,t){sc(e.element(),"iframe").each((function(e){var n=e.dom().contentWindow;n.postMessage(t,h)}))}},o)})],v={header:a,body:s,footer:l,extraClasses:d,extraBehaviours:g,extraStyles:u},b=TU(v,e,c,i),y=ZU(b);return{dialog:b,instanceApi:y}},QU=function(e){var t=e.backstage.shared,n=function(n,r){var i=function(){nG.hide(l),r()},o=VC($L({name:"close-alert",text:"OK",primary:!0,align:"end",disabled:!1,icon:x.none()},"cancel",e.backstage)),a=gU(),s=mU(i,t.providers),l=fl(CU({lazySink:function(){return t.getSink()},header:pU(a,s),body:vU(n,t.providers),footer:x.some(bU(yU([],[o.asSpec()]))),onEscape:i,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[go(f_,i)],eventOrder:{}}));nG.show(l);var c=o.get(l);Iy.focus(c)};return{open:n}},eq=function(e){var t=e.backstage.shared,n=function(n,r){var i=function(e){nG.hide(c),r(e)},o=VC($L({name:"yes",text:"Yes",primary:!0,align:"end",disabled:!1,icon:x.none()},"submit",e.backstage)),a=$L({name:"no",text:"No",primary:!1,align:"end",disabled:!1,icon:x.none()},"cancel",e.backstage),s=gU(),l=mU((function(){return i(!1)}),t.providers),c=fl(CU({lazySink:function(){return t.getSink()},header:pU(s,l),body:vU(n,t.providers),footer:x.some(bU(yU([],[a,o.asSpec()]))),onEscape:function(){return i(!1)},extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[go(f_,(function(){return i(!1)})),go(p_,(function(){return i(!0)}))],eventOrder:{}}));nG.show(c);var u=o.get(c);Iy.focus(u)};return{open:n}},tq=function(e,t){return nn(tn("data",t,e))},nq=function(e){return yS(e,".tox-alert-dialog")||yS(e,".tox-confirm-dialog")},rq=function(e,t,n){return t&&n?[]:[Vz.config({contextual:{lazyContext:function(){return x.some(Yl(Qn.fromDom(e.getContentAreaContainer())))},fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"]})]},iq=function(e){var t=e.backstage,n=e.editor,r=MI(n),i=QU(e),o=eq(e),a=function(e,n,r){return void 0!==n&&"toolbar"===n.inline?u(e,t.shared.anchors.inlineDialog(),r,n.ariaAttrs):void 0!==n&&"cursor"===n.inline?u(e,t.shared.anchors.cursor(),r,n.ariaAttrs):c(e,r)},s=function(e,t){return l(e,t)},l=function(e,r){var i=function(e){var i=JU(e,{closeWindow:function(){nG.hide(i.dialog),r(i.instanceApi)}},n,t);return nG.show(i.dialog),i.instanceApi};return EZ.openUrl(i,e)},c=function(e,n){var r=function(e,r,i){var o=r,a={dataValidator:i,initialData:o,internalDialog:e},s=WU(a,{redial:EZ.redial,closeWindow:function(){nG.hide(s.dialog),n(s.instanceApi)}},t);return nG.show(s.dialog),s.instanceApi.setData(o),s.instanceApi};return EZ.open(r,e)},u=function(e,i,o,a){var s=function(e,s,l){var c=tq(s,l),u=hV(),d=t.shared.header.isPositionedAtTop(),f={dataValidator:l,initialData:c,internalDialog:e},h=function(){return u.on((function(e){TC.reposition(e),Vz.refresh(e)}))},m=KU(f,{redial:EZ.redial,closeWindow:function(){u.on(TC.hide),n.off("ResizeEditor",h),u.clear(),o(m.instanceApi)}},t,a),v=fl(TC.sketch(p(p({lazySink:t.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{}},d?{}:{fireRepositionEventInstead:{}}),{inlineBehaviours:Eu(g([py("window-manager-inline-events",[go(Yi(),(function(e,t){oo(m.dialog,f_)}))])],rq(n,r,d))),isExtraPart:function(e,t){return nq(t)}})));return u.set(v),TC.showWithin(v,i,hl(m.dialog),x.some(Fs())),r&&d||(Vz.refresh(v),n.on("ResizeEditor",h)),m.instanceApi.setData(c),ny.focusIn(m.dialog),m.instanceApi};return EZ.open(s,e)},d=function(e,t){o.open(e,(function(e){t(e)}))},f=function(e,t){i.open(e,(function(){t()}))},h=function(e){e.close()};return{open:a,openUrl:s,alert:f,close:h,confirm:d}};function oq(){h.add("silver",(function(e){var t=qK(e),n=t.uiMothership,r=t.backstage,i=t.renderUI,o=t.getUi;pS.register(e,r.shared);var s=iq({editor:e,backstage:r});return{renderUI:i,getWindowManagerImpl:a(s),getNotificationManagerImpl:function(){return YC(e,{backstage:r},n)},ui:o()}}))}oq()})(window)}).call(this,n("c8ba"))},"042c":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",[n("draggable",{staticStyle:{display:"inline-block"},attrs:{options:{animation:300}},on:{end:e.end},model:{value:e.dataSource,callback:function(t){e.dataSource=t},expression:"dataSource"}},[e._l(e.dataSource,(function(e,t){return[n("div",{key:t,staticStyle:{float:"left",width:"150px",height:"150px","margin-right":"10px",margin:"0 8px 8px 0"}},[n("div",{staticStyle:{width:"100%",height:"100%",position:"relative",padding:"8px",border:"1px solid #d9d9d9","border-radius":"4px"}},[n("img",{staticStyle:{width:"100%"},attrs:{src:e.filePath,preview:"index"}})])])]})),n("a-button",{staticStyle:{"margin-top":"115px"},attrs:{type:"primary"},on:{click:e.sureChange}},[e._v("确定")])],2),n("br"),n("a-row",[n("a-col",{attrs:{span:12}},[n("p",[e._v("拖拽前json数据：")]),n("textarea",{staticStyle:{width:"780px"},attrs:{rows:"25"}},[e._v(e._s(e.oldDateSource))])]),n("a-col",{attrs:{span:12}},[n("p",[e._v("拖拽后json数据：")]),n("textarea",{staticStyle:{width:"780px"},attrs:{rows:"25"}},[e._v(e._s(e.newDateSource))])])],1)],1)},i=[],o=n("310e"),a=n.n(o),s=n("290c"),l=n("da05"),c={name:"ImgDragSort",components:{ACol:l["b"],ARow:s["a"],draggable:a.a},data:function(){return{description:"图片拖拽排序",spinning:!1,dataSource:[{id:"000",sort:0,filePath:"https://static.jeecg.com/upload/test/1_1588149743473.jpg"},{id:"111",sort:1,filePath:"https://static.jeecg.com/upload/test/u27356337152749454924fm27gp0_1588149731821.jpg"},{id:"222",sort:2,filePath:"https://static.jeecg.com/upload/test/u24454681402491956848fm27gp0_1588149712663.jpg"},{id:"333",sort:3,filePath:"https://static.jeecg.com/upload/test/8f22cd945be44388bacbf0b88cf86cfa.png"},{id:"444",sort:4,filePath:"https://static.jeecg.com/upload/test/u8891206113801177793fm27gp0_1588149704459.jpg"}],oldDateSource:[],newDateSource:[]}},created:function(){this.oldDateSource=this.dataSource},methods:{end:function(e){},sureChange:function(){for(var e=0;e<this.dataSource.length;e++)this.dataSource[e].sort=e;this.newDateSource=this.dataSource}}},u=c,d=n("2877"),f=Object(d["a"])(u,r,i,!1,null,"45e3bd7b",null);t["default"]=f.exports},"0467":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("a-table",{attrs:{rowKey:"id",bordered:"",columns:e.columns,dataSource:e.dataSource,pagination:!1}})],1)},i=[];function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a={name:"TableTotal",data:function(){return{columns:[{title:"#",width:"180px",align:"center",dataIndex:"rowIndex",customRender:function(e,t,n){return"合计"!==e?parseInt(n)+1:e}},{title:"姓名",dataIndex:"name"},{title:"贡献点",dataIndex:"point"},{title:"等级",dataIndex:"level"},{title:"更新时间",dataIndex:"updateTime"}],dataSource:[{name:"张三",point:23,level:3,updateTime:"2019-8-14"},{name:"小王",point:6,level:1,updateTime:"2019-8-13"},{name:"李四",point:53,level:8,updateTime:"2019-8-12"},{name:"小红",point:44,level:5,updateTime:"2019-8-11"},{name:"王五",point:97,level:10,updateTime:"2019-8-10"},{name:"小明",point:33,level:2,updateTime:"2019-8-10"}]}},mounted:function(){this.tableAddTotalRow(this.columns,this.dataSource)},methods:{tableAddTotalRow:function(e,t){var n="rowIndex",r=o({},n,"合计");e.forEach((function(e){var i=e.key,o=e.dataIndex;if(![i,o].includes(n)){var a=0;t.forEach((function(e){a+=/^\d+\.?\d?$/.test(e[o])?Number.parseInt(e[o]):Number.NaN})),Number.isNaN(a)&&(a="-"),r[o]=a}})),t.push(r)}}},s=a,l=n("2877"),c=Object(l["a"])(s,r,i,!1,null,"4d0f0e08",null);t["default"]=c.exports},"0481":function(e,t,n){},"04a7":function(e,t,n){"use strict";var r=n("9d32"),i=n.n(r);i.a},"05ed":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{loading:e.loading,"body-style":{padding:"20px 24px 8px"},bordered:!1}},[n("div",{staticClass:"chart-card-header"},[n("div",{staticClass:"meta"},[n("span",{staticClass:"chart-card-title"},[e._v(e._s(e.title))]),n("span",{staticClass:"chart-card-action"},[e._t("action")],2)]),n("div",{staticClass:"total"},[n("span",[e._v(e._s(e.total))])])]),n("div",{staticClass:"chart-card-content"},[n("div",{staticClass:"content-fix"},[e._t("default")],2)]),n("div",{staticClass:"chart-card-footer"},[n("div",{staticClass:"field"},[e._t("footer")],2)])])},i=[],o={name:"ChartCard",props:{title:{type:String,default:""},total:{type:String,default:""},loading:{type:Boolean,default:!1}}},a=o,s=(n("698a"),n("2877")),l=Object(s["a"])(a,r,i,!1,null,"0715823f",null);t["default"]=l.exports},"05f5":function(e,t,n){},"062f":function(e,t,n){},"0663":function(e,t,n){"use strict";n.r(t);var r,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wrapper"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.model,expression:"model"}],staticClass:"model"},[n("div",{staticClass:"model-show",on:{click:function(t){e.model=!1}}},[n("img",{attrs:{src:e.modelSrc,alt:""},on:{click:function(t){e.model=!1}}})])]),n("div",{staticClass:"content"},[n("div",{staticClass:"show-info"},[n("div",{staticClass:"test test1"},[n("vueCropper",{ref:"cropper",attrs:{img:e.option.img,outputSize:e.option.size,outputType:e.option.outputType,info:!0,full:e.option.full,canMove:e.option.canMove,canMoveBox:e.option.canMoveBox,fixedBox:e.option.fixedBox,original:e.option.original,autoCrop:e.option.autoCrop,autoCropWidth:e.option.autoCropWidth,autoCropHeight:e.option.autoCropHeight,centerBox:e.option.centerBox,high:e.option.high,infoTrue:e.option.infoTrue,maxImgSize:e.option.maxImgSize,enlarge:e.option.enlarge,mode:e.option.mode,limitMinSize:e.option.limitMinSize},on:{realTime:e.realTime,imgLoad:e.imgLoad,cropMoving:e.cropMoving}})],1),n("div",{staticClass:"test-button"},[n("button",{staticClass:"btn",on:{click:e.changeImg}},[e._v("changeImg")]),n("label",{staticClass:"btn",attrs:{for:"uploads"}},[e._v("upload")]),n("input",{ref:"uploadImg",staticStyle:{position:"absolute",clip:"rect(0 0 0 0)"},attrs:{type:"file",id:"uploads",accept:"image/png, image/jpeg, image/gif, image/jpg"},on:{change:function(t){return e.uploadImg(t,1)}}}),e.crap?n("button",{staticClass:"btn",on:{click:e.stopCrop}},[e._v("stop")]):n("button",{staticClass:"btn",on:{click:e.startCrop}},[e._v("start")]),n("button",{staticClass:"btn",on:{click:e.clearCrop}},[e._v("clear")]),n("button",{staticClass:"btn",on:{click:e.refreshCrop}},[e._v("refresh")]),n("button",{staticClass:"btn",on:{click:function(t){return e.changeScale(1)}}},[e._v("+")]),n("button",{staticClass:"btn",on:{click:function(t){return e.changeScale(-1)}}},[e._v("-")]),n("button",{staticClass:"btn",on:{click:e.rotateLeft}},[e._v("rotateLeft")]),n("button",{staticClass:"btn",on:{click:e.rotateRight}},[e._v("rotateRight")]),n("button",{staticClass:"btn",on:{click:function(t){return e.finish("base64")}}},[e._v("preview(base64)")]),n("button",{staticClass:"btn",on:{click:function(t){return e.finish("blob")}}},[e._v("preview(blob)")]),n("button",{staticClass:"btn",on:{click:function(){return e.option.img=""}}},[e._v("清除图片")]),n("a",{staticClass:"btn",on:{click:function(t){return e.down("base64")}}},[e._v("download(base64)")]),n("a",{staticClass:"btn",on:{click:function(t){return e.down("blob")}}},[e._v("download(blob)")]),n("a",{ref:"downloadDom",attrs:{href:e.downImg,download:"demo.png"}})]),n("div",{staticClass:"pre"},[n("section",{staticClass:"pre-item"},[n("p",[e._v("截图框大小")]),n("div",{staticClass:"show-preview",style:{width:e.previews.w+"px",height:e.previews.h+"px",overflow:"hidden",margin:"5px"}},[n("div",{style:e.previews.div},[n("img",{style:e.previews.img,attrs:{src:e.previews.url}})])])]),n("section",{staticClass:"pre-item"},[n("p",[e._v("中等大小")]),n("div",{style:e.previewStyle1},[n("div",{style:e.previews.div},[n("img",{style:e.previews.img,attrs:{src:e.previews.url}})])])]),n("section",{staticClass:"pre-item"},[n("p",[e._v("迷你大小")]),n("div",{style:e.previewStyle2},[n("div",{style:e.previews.div},[n("img",{style:e.previews.img,attrs:{src:e.previews.url}})])])]),n("section",{staticClass:"pre-item",attrs:{title:"zoom: (100 / previews.w)"}},[n("p",[e._v("固定为100宽度")]),n("div",{style:e.previewStyle3},[n("div",{style:e.previews.div},[n("img",{style:e.previews.img,attrs:{src:e.previews.url}})])])]),n("section",{staticClass:"pre-item",attrs:{title:"zoom: (100 / previews.h)"}},[n("p",[e._v("固定为100高度")]),n("div",{style:e.previewStyle4},[n("div",{style:e.previews.div},[n("img",{style:e.previews.img,attrs:{src:e.previews.url}})])])])]),n("div",{staticStyle:{display:"block",width:"100%"}},[n("label",{staticClass:"c-item"},[n("span",[e._v("图片默认渲染方式")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.option.mode,expression:"option.mode"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.option,"mode",t.target.multiple?n:n[0])}}},[n("option",{attrs:{value:"contain"}},[e._v("contain")]),n("option",{attrs:{value:"cover"}},[e._v("cover")]),n("option",{attrs:{value:"400px auto"}},[e._v("400px auto")]),n("option",{attrs:{value:"auto 400px"}},[e._v("auto 400px")]),n("option",{attrs:{value:"50%"}},[e._v("50%")]),n("option",{attrs:{value:"auto 50%"}},[e._v("auto 50%")])]),n("section",[e._v("\n              类似css background属性设置  设置不符合规范不生效， 参照文档说明\n            ")])]),n("label",{staticClass:"c-item"},[n("span",[e._v("上传时图片最大大小(默认会压缩尺寸到这个大小)")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.option.maxImgSize,expression:"option.maxImgSize"}],attrs:{type:"nubmer"},domProps:{value:e.option.maxImgSize},on:{input:function(t){t.target.composing||e.$set(e.option,"maxImgSize",t.target.value)}}})]),n("label",{staticClass:"c-item"},[n("span",[e._v("上传图片是否显示原始宽高 (针对大图 可以铺满)")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.option.original,expression:"option.original"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.option.original)?e._i(e.option.original,null)>-1:e.option.original},on:{change:function(t){var n=e.option.original,r=t.target,i=!!r.checked;if(Array.isArray(n)){var o=null,a=e._i(n,o);r.checked?a<0&&e.$set(e.option,"original",n.concat([o])):a>-1&&e.$set(e.option,"original",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.option,"original",i)}}}),n("span",[e._v("original: "+e._s(e.option.original))])]),n("label",{staticClass:"c-item"},[n("span",[e._v("是否根据dpr生成适合屏幕的高清图片")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.option.high,expression:"option.high"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.option.high)?e._i(e.option.high,null)>-1:e.option.high},on:{change:function(t){var n=e.option.high,r=t.target,i=!!r.checked;if(Array.isArray(n)){var o=null,a=e._i(n,o);r.checked?a<0&&e.$set(e.option,"high",n.concat([o])):a>-1&&e.$set(e.option,"high",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.option,"high",i)}}}),n("span",[e._v("high: "+e._s(e.option.high))])]),n("label",{staticClass:"c-item"},[n("span",[e._v("是否输出原图比例的截图")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.option.full,expression:"option.full"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.option.full)?e._i(e.option.full,null)>-1:e.option.full},on:{change:function(t){var n=e.option.full,r=t.target,i=!!r.checked;if(Array.isArray(n)){var o=null,a=e._i(n,o);r.checked?a<0&&e.$set(e.option,"full",n.concat([o])):a>-1&&e.$set(e.option,"full",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.option,"full",i)}}}),n("span",[e._v("full: "+e._s(e.option.full))])]),n("label",{staticClass:"c-item"},[n("span",[e._v("截图信息展示是否是真实的输出宽高")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.option.infoTrue,expression:"option.infoTrue"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.option.infoTrue)?e._i(e.option.infoTrue,null)>-1:e.option.infoTrue},on:{change:function(t){var n=e.option.infoTrue,r=t.target,i=!!r.checked;if(Array.isArray(n)){var o=null,a=e._i(n,o);r.checked?a<0&&e.$set(e.option,"infoTrue",n.concat([o])):a>-1&&e.$set(e.option,"infoTrue",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.option,"infoTrue",i)}}}),n("span",[e._v("infoTrue: "+e._s(e.option.infoTrue))])]),n("label",{staticClass:"c-item"},[n("span",[e._v("能否拖动图片")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.option.canMove,expression:"option.canMove"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.option.canMove)?e._i(e.option.canMove,null)>-1:e.option.canMove},on:{change:function(t){var n=e.option.canMove,r=t.target,i=!!r.checked;if(Array.isArray(n)){var o=null,a=e._i(n,o);r.checked?a<0&&e.$set(e.option,"canMove",n.concat([o])):a>-1&&e.$set(e.option,"canMove",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.option,"canMove",i)}}}),n("span",[e._v("canMove: "+e._s(e.option.canMove))])]),n("label",{staticClass:"c-item"},[n("span",[e._v("能否拖动截图框")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.option.canMoveBox,expression:"option.canMoveBox"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.option.canMoveBox)?e._i(e.option.canMoveBox,null)>-1:e.option.canMoveBox},on:{change:function(t){var n=e.option.canMoveBox,r=t.target,i=!!r.checked;if(Array.isArray(n)){var o=null,a=e._i(n,o);r.checked?a<0&&e.$set(e.option,"canMoveBox",n.concat([o])):a>-1&&e.$set(e.option,"canMoveBox",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.option,"canMoveBox",i)}}}),n("span",[e._v("canMoveBox: "+e._s(e.option.canMoveBox))])]),n("label",{staticClass:"c-item"},[n("span",[e._v("截图框固定大小")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.option.fixedBox,expression:"option.fixedBox"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.option.fixedBox)?e._i(e.option.fixedBox,null)>-1:e.option.fixedBox},on:{change:function(t){var n=e.option.fixedBox,r=t.target,i=!!r.checked;if(Array.isArray(n)){var o=null,a=e._i(n,o);r.checked?a<0&&e.$set(e.option,"fixedBox",n.concat([o])):a>-1&&e.$set(e.option,"fixedBox",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.option,"fixedBox",i)}}}),n("span",[e._v("fixedBox: "+e._s(e.option.fixedBox))])]),n("label",{staticClass:"c-item"},[n("span",[e._v("是否自动生成截图框")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.option.autoCrop,expression:"option.autoCrop"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.option.autoCrop)?e._i(e.option.autoCrop,null)>-1:e.option.autoCrop},on:{change:function(t){var n=e.option.autoCrop,r=t.target,i=!!r.checked;if(Array.isArray(n)){var o=null,a=e._i(n,o);r.checked?a<0&&e.$set(e.option,"autoCrop",n.concat([o])):a>-1&&e.$set(e.option,"autoCrop",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.option,"autoCrop",i)}}}),n("span",[e._v("autoCrop: "+e._s(e.option.autoCrop))])]),n("label",{staticClass:"c-item"},[n("span",[e._v("自动生成截图框的宽高")]),n("span",[e._v("宽度:  ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.option.autoCropWidth,expression:"option.autoCropWidth"}],attrs:{type:"number"},domProps:{value:e.option.autoCropWidth},on:{input:function(t){t.target.composing||e.$set(e.option,"autoCropWidth",t.target.value)}}}),n("span",[e._v("高度:  ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.option.autoCropHeight,expression:"option.autoCropHeight"}],attrs:{type:"number"},domProps:{value:e.option.autoCropHeight},on:{input:function(t){t.target.composing||e.$set(e.option,"autoCropHeight",t.target.value)}}})]),n("label",{staticClass:"c-item"},[n("span",[e._v("截图框是否限制在图片里(只有在自动生成截图框时才能生效)")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.option.centerBox,expression:"option.centerBox"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.option.centerBox)?e._i(e.option.centerBox,null)>-1:e.option.centerBox},on:{change:function(t){var n=e.option.centerBox,r=t.target,i=!!r.checked;if(Array.isArray(n)){var o=null,a=e._i(n,o);r.checked?a<0&&e.$set(e.option,"centerBox",n.concat([o])):a>-1&&e.$set(e.option,"centerBox",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.option,"centerBox",i)}}}),n("span",[e._v("centerBox: "+e._s(e.option.centerBox))])]),n("label",{staticClass:"c-item"},[n("span",[e._v("是否按照截图框比例输出 默认为1 ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.option.enlarge,expression:"option.enlarge"}],attrs:{type:"number"},domProps:{value:e.option.enlarge},on:{input:function(t){t.target.composing||e.$set(e.option,"enlarge",t.target.value)}}})]),n("p",[e._v("输出图片格式")]),n("label",{staticClass:"c-item"},[n("label",[e._v("jpg  "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.option.outputType,expression:"option.outputType"}],attrs:{type:"radio",name:"type",value:"jpeg"},domProps:{checked:e._q(e.option.outputType,"jpeg")},on:{change:function(t){return e.$set(e.option,"outputType","jpeg")}}})]),n("label",[e._v("png  "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.option.outputType,expression:"option.outputType"}],attrs:{type:"radio",name:"type",value:"png"},domProps:{checked:e._q(e.option.outputType,"png")},on:{change:function(t){return e.$set(e.option,"outputType","png")}}})]),n("label",[e._v("webp "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.option.outputType,expression:"option.outputType"}],attrs:{type:"radio",name:"type",value:"webp"},domProps:{checked:e._q(e.option.outputType,"webp")},on:{change:function(t){return e.$set(e.option,"outputType","webp")}}})])])])])])])},o=[],a=n("7e79");function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){return l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}var c=(r={name:"ImagCropper",components:{VueCropper:a["VueCropper"]},data:function(){return{model:!1,modelSrc:"",crap:!1,previews:{},lists:[{img:"https://avatars2.githubusercontent.com/u/15681693?s=460&v=4"},{img:"http://cdn.xyxiao.cn/Landscape_1.jpg"},{img:"http://cdn.xyxiao.cn/Landscape_2.jpg"},{img:"http://cdn.xyxiao.cn/Landscape_3.jpg"},{img:"http://cdn.xyxiao.cn/Landscape_4.jpg"},{img:"http://cdn.xyxiao.cn/Portrait_1.jpg"},{img:"http://cdn.xyxiao.cn/Portrait_2.jpg"}],option:{img:"",size:1,full:!1,outputType:"png",canMove:!0,fixedBox:!1,original:!1,canMoveBox:!0,autoCrop:!0,autoCropWidth:200,autoCropHeight:150,centerBox:!1,high:!1,cropData:{},enlarge:1,mode:"contain",maxImgSize:3e3,limitMinSize:[100,120]},example2:{img:"http://cdn.xyxiao.cn/Landscape_2.jpg",info:!0,size:1,outputType:"jpeg",canScale:!0,autoCrop:!0,autoCropWidth:300,autoCropHeight:250,fixed:!0,infoTrue:!0,fixedNumber:[4,3]},example3:{img:"http://cdn.xyxiao.cn/Landscape_1.jpg",autoCrop:!0,autoCropWidth:200,autoCropHeight:200,fixedBox:!0},downImg:"#",previewStyle1:{},previewStyle2:{},previewStyle3:{},previewStyle4:{},code0:"",code1:"",code2:"",code3:"",preview3:""}},methods:{changeImg:function(){this.option.img=this.lists[~~(Math.random()*this.lists.length)].img},startCrop:function(){this.crap=!0,this.$refs.cropper.startCrop()},stopCrop:function(){this.crap=!1,this.$refs.cropper.stopCrop()},clearCrop:function(){this.$refs.cropper.clearCrop()},refreshCrop:function(){this.$refs.cropper.refresh()},changeScale:function(e){e=e||1,this.$refs.cropper.changeScale(e)},rotateLeft:function(){this.$refs.cropper.rotateLeft()},rotateRight:function(){this.$refs.cropper.rotateRight()},finish:function(e){var t=this;"blob"===e?this.$refs.cropper.getCropBlob((function(e){var n=window.URL.createObjectURL(e);t.model=!0,t.modelSrc=n})):this.$refs.cropper.getCropData((function(e){t.model=!0,t.modelSrc=e}))},realTime:function(e){var t=e,n=.5,r=.2;this.previewStyle1={width:t.w+"px",height:t.h+"px",overflow:"hidden",margin:"0",zoom:n},this.previewStyle2={width:t.w+"px",height:t.h+"px",overflow:"hidden",margin:"0",zoom:r},this.previewStyle3={width:t.w+"px",height:t.h+"px",overflow:"hidden",margin:"0",zoom:100/t.w},this.previewStyle4={width:t.w+"px",height:t.h+"px",overflow:"hidden",margin:"0",zoom:100/t.h},this.previews=e},finish2:function(e){var t=this;this.$refs.cropper2.getCropData((function(e){t.model=!0,t.modelSrc=e}))},finish3:function(e){var t=this;this.$refs.cropper3.getCropData((function(e){t.model=!0,t.modelSrc=e}))},down:function(e){var t=this;"blob"===e?this.$refs.cropper.getCropBlob((function(e){if(t.downImg=window.URL.createObjectURL(e),window.navigator.msSaveBlob){var n=new Blob([e]);window.navigator.msSaveBlob(n,"demo.png")}else t.$nextTick((function(){t.$refs.downloadDom.click()}))})):this.$refs.cropper.getCropData((function(e){if(t.downImg=e,window.navigator.msSaveBlob){var n=new Blob([e]);window.navigator.msSaveBlob(n,"demo.png")}else t.$nextTick((function(){t.$refs.downloadDom.click()}))}))},uploadImg:function(e,t){var n=this,r=e.target.files[0];if(!/\.(gif|jpg|jpeg|png|bmp|GIF|JPG|PNG)$/.test(e.target.value))return alert("图片类型必须是.gif,jpeg,jpg,png,bmp中的一种"),!1;var i=new FileReader;i.onload=function(e){var r;r="object"===l(e.target.result)?window.URL.createObjectURL(new Blob([e.target.result])):e.target.result,1===t?n.option.img=r:2===t&&(n.example2.img=r),n.$refs.uploadImg.value=""},i.readAsArrayBuffer(r)},imgLoad:function(e){},cropMoving:function(e){this.option.cropData=e}}},s(r,"components",{VueCropper:a["VueCropper"]}),s(r,"mounted",(function(){this.changeImg();var e=[].slice.call(document.querySelectorAll("pre code"));e.forEach((function(e,t){hljs.highlightBlock(e)}))})),r),u=c,d=(n("c5ab"),n("2877")),f=Object(d["a"])(u,i,o,!1,null,"3dbd2696",null);t["default"]=f.exports},"0673":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"exception"},[n("div",{staticClass:"img"},[n("img",{attrs:{src:e.config[e.type].img}})]),n("div",{staticClass:"content"},[n("h1",[e._v(e._s(e.config[e.type].title))]),n("div",{staticClass:"desc"},[e._v(e._s(e.config[e.type].desc))]),n("div",{staticClass:"action"},[n("a-button",{attrs:{type:"primary"},on:{click:e.handleToHome}},[e._v("返回首页")])],1)])])},i=[],o={403:{img:"https://gw.alipayobjects.com/zos/rmsportal/wZcnGqRDyhPOEYFcZDnb.svg",title:"403",desc:"抱歉，你无权访问该页面"},404:{img:"https://gw.alipayobjects.com/zos/rmsportal/KpnpchXsobRgLElEozzI.svg",title:"404",desc:"抱歉，你访问的页面不存在或无权访问"},500:{img:"https://gw.alipayobjects.com/zos/rmsportal/RVRUAYdCGeYNBWoKiIwB.svg",title:"500",desc:"抱歉，服务器出错了"}},a=o,s={name:"Exception",props:{type:{type:String,default:"404"}},data:function(){return{config:a}},methods:{handleToHome:function(){this.$router.push({name:"dashboard"})}}},l=s,c=(n("879c"),n("2877")),u=Object(c["a"])(l,r,i,!1,null,"24c60121",null);t["default"]=u.exports},"0718":function(e,t,n){},"077e":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:e.title,width:800,visible:e.visible,confirmLoading:e.confirmLoading,okText:"保存并安排任务",cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"任务类名",hasFeedback:""}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["jobClassName",{rules:[{required:!0,message:"请输入任务类名!"}]}],expression:"['jobClassName', {rules: [{ required: true, message: '请输入任务类名!' }]}]"}],attrs:{placeholder:"请输入任务类名"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"cron表达式"}},[n("j-cron",{directives:[{name:"decorator",rawName:"v-decorator",value:["cronExpression",{initialValue:"* * * * * ? *"}],expression:"['cronExpression', { initialValue: '* * * * * ? *' }]"}],ref:"innerVueCron",on:{change:e.setCorn}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"参数"}},[n("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["parameter",{}],expression:"['parameter', {}]"}],attrs:{placeholder:"请输入参数",rows:5}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"描述"}},[n("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["description",{}],expression:"['description', {}]"}],attrs:{placeholder:"请输入描述",rows:3}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"状态"}},[n("j-dict-select-tag",{directives:[{name:"decorator",rawName:"v-decorator",value:["status",{initialValue:0}],expression:"[ 'status', {'initialValue':0}]"}],attrs:{type:"radioButton","trigger-change":!0,dictCode:"quartz_status"}})],1)],1)],1)],1)},i=[],o=n("0fea"),a=n("1e29"),s=n("88bc"),l=n.n(s),c={name:"QuartzJobModal",components:{JCron:a["default"]},data:function(){return{title:"操作",buttonStyle:"solid",visible:!1,model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},cron:{label:"",value:""},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{cron:{rules:[{required:!0,message:"请输入cron表达式!"}]}},url:{add:"/sys/quartzJob/add",edit:"/sys/quartzJob/edit"}}},created:function(){},methods:{add:function(){this.edit({})},edit:function(e){var t=this,n=this;n.form.resetFields(),this.model=Object.assign({},e),this.visible=!0,this.$nextTick((function(){t.form.setFieldsValue(l()(t.model,"jobClassName","cronExpression","parameter","description","status"))}))},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields((function(n,r){if(!n){if("undefined"==typeof r.cronExpression||0==Object.keys(r.cronExpression).length)return e.$message.warning("请输入cron表达式!"),!1;t.confirmLoading=!0;var i="",a="";e.model.id?(i+=e.url.edit,a="put"):(i+=e.url.add,a="post");var s=Object.assign(e.model,r);Object(o["h"])(i,s,a).then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}}))},handleCancel:function(){this.close()},setCorn:function(e){var t=this;this.$nextTick((function(){t.model.cronExpression=e})),0==Object.keys(e).length&&this.$message.warning("请输入cron表达式!")},validateCron:function(e,t,n){t?0==Object.keys(t).length&&n("请输入cron表达式!"):n()}}},u=c,d=n("2877"),f=Object(d["a"])(u,r,i,!1,null,"4956fcf0",null);t["default"]=f.exports},"07d1":function(e,t,n){n("94ce")},"08bf":function(e,t,n){},"0923":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"rank"},[n("h4",{staticClass:"title"},[e._v(e._s(e.title))]),n("ul",{staticClass:"list",style:{height:e.height?e.height+"px":"auto",overflow:"auto"}},e._l(e.list,(function(t,r){return n("li",{key:r},[n("span",{class:r<3?"active":null},[e._v(e._s(r+1))]),n("span",[e._v(e._s(t.name))]),n("span",[e._v(e._s(t.total))])])})),0)])},i=[],o={name:"RankList",props:{title:{type:String,default:""},list:{type:Array,default:null},height:{type:Number,default:null}}},a=o,s=(n("9a69"),n("2877")),l=Object(s["a"])(a,r,i,!1,null,"8ec947b4",null);t["default"]=l.exports},"09cf":function(e,t){(function(e){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager");function n(){t.add("textcolor",(function(){e.console.warn("Text color plugin is now built in to the core editor, please remove it from your editor configuration")}))}n()})(window)},"0a02":function(e,t,n){"use strict";var r=n("d83b"),i=n.n(r);i.a},"0a07":function(e,t,n){},"0a14":function(e,t,n){},"0b38":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:"操作",width:800,visible:e.visible,confirmLoading:e.confirmLoading},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"唯一识别码",hasFeedback:""}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["id",{rules:[]}],expression:"[ 'id', {rules: []} ]"}],attrs:{placeholder:"唯一识别码",disabled:"disabled"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"角色名称",hasFeedback:""}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"不起一个名字吗？"}]}],expression:"[ 'name', {rules: [{ required: true, message: '不起一个名字吗？' }] }]"}],attrs:{placeholder:"起一个名字"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"状态",hasFeedback:""}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["status",{rules:[]}],expression:"[ 'status', {rules: []} ]"}]},[n("a-select-option",{attrs:{value:1}},[e._v("正常")]),n("a-select-option",{attrs:{value:2}},[e._v("禁用")])],1)],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"描述",hasFeedback:""}},[n("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["describe",{rules:[]}],expression:"[ 'describe', { rules: [] } ]"}],attrs:{rows:5,placeholder:"..."}})],1),n("a-divider"),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"拥有权限",hasFeedback:""}},e._l(e.permissions,(function(t,r){return n("a-row",{key:r,attrs:{gutter:16}},[n("a-col",{attrs:{span:4}},[e._v("\n            "+e._s(t.name)+"：\n          ")]),n("a-col",{attrs:{span:20}},[t.actionsOptions.length>0?n("a-checkbox",{attrs:{indeterminate:t.indeterminate,checked:t.checkedAll},on:{change:function(n){return e.onChangeCheckAll(n,t)}}},[e._v("\n              全选\n            ")]):e._e(),n("a-checkbox-group",{attrs:{options:t.actionsOptions},on:{change:function(n){return e.onChangeCheck(t)}},model:{value:t.selected,callback:function(n){e.$set(t,"selected",n)},expression:"permission.selected"}})],1)],1)})),1)],1)],1)],1)},i=[],o=n("0fea");function a(e){try{return JSON.parse(e)}catch(t){}return[]}var s=n("88bc"),l=n.n(s),c={name:"RoleModal",data:function(){return{labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},visible:!1,confirmLoading:!1,mdl:{},form:this.$form.createForm(this),permissions:[]}},created:function(){this.loadPermissions()},methods:{add:function(){this.edit({id:0})},edit:function(e){var t=this;if(this.mdl=Object.assign({},e),this.visible=!0,this.mdl.permissions&&this.permissions){var n={};this.mdl.permissions.forEach((function(e){n[e.permissionId]=e.actionEntitySet.map((function(e){return e.action}))})),this.permissions.forEach((function(e){e.selected=n[e.id]}))}this.$nextTick((function(){t.form.setFieldsValue(l()(t.mdl,"id","name","status","describe"))}))},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this;this.form.validateFields((function(t,n){t||(e.confirmLoading=!0,new Promise((function(e){setTimeout((function(){return e()}),2e3)})).then((function(){e.$message.success("保存成功"),e.$emit("ok")})).catch((function(){})).finally((function(){e.confirmLoading=!1,e.close()})))}))},handleCancel:function(){this.close()},onChangeCheck:function(e){e.indeterminate=!!e.selected.length&&e.selected.length<e.actionsOptions.length,e.checkedAll=e.selected.length===e.actionsOptions.length},onChangeCheckAll:function(e,t){Object.assign(t,{selected:e.target.checked?t.actionsOptions.map((function(e){return e.value})):[],indeterminate:!1,checkedAll:e.target.checked})},loadPermissions:function(){var e=this;Object(o["e"])().then((function(t){var n=t.result;e.permissions=n.map((function(e){var t=a(e.actionData);return e.checkedAll=!1,e.selected=[],e.indeterminate=!1,e.actionsOptions=t.map((function(e){return{label:e.describe,value:e.action}})),e}))}))}}},u=c,d=n("2877"),f=Object(d["a"])(u,r,i,!1,null,"7ea3aee2",null);t["default"]=f.exports},"0b41":function(e,t,n){"use strict";var r=n("0a07"),i=n.n(r);i.a},"0b56":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("\n  Monitor\n")])},i=[],o={name:"Monitor"},a=o,s=n("2877"),l=Object(s["a"])(a,r,i,!1,null,"6067c72f",null);t["default"]=l.exports},"0bbe":function(e,t,n){},"0c3f":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-list",{attrs:{itemLayout:"horizontal",dataSource:e.data}})},i=[],o={data:function(){return{data:[]}},methods:{}},a=o,s=n("2877"),l=Object(s["a"])(a,r,i,!1,null,"43092d5f",null);t["default"]=l.exports},"0d4b":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchQuery(t)}}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{md:6,sm:12}},[n("a-form-item",{attrs:{label:"账号"}},[n("j-input",{attrs:{placeholder:"输入账号模糊查询"},model:{value:e.queryParam.username,callback:function(t){e.$set(e.queryParam,"username",t)},expression:"queryParam.username"}})],1)],1),n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"性别"}},[n("a-select",{attrs:{placeholder:"请选择性别"},model:{value:e.queryParam.sex,callback:function(t){e.$set(e.queryParam,"sex",t)},expression:"queryParam.sex"}},[n("a-select-option",{attrs:{value:""}},[e._v("请选择")]),n("a-select-option",{attrs:{value:"1"}},[e._v("男性")]),n("a-select-option",{attrs:{value:"2"}},[e._v("女性")])],1)],1)],1),e.toggleSearchStatus?[n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"真实名字"}},[n("a-input",{attrs:{placeholder:"请输入真实名字"},model:{value:e.queryParam.realname,callback:function(t){e.$set(e.queryParam,"realname",t)},expression:"queryParam.realname"}})],1)],1),n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"手机号码"}},[n("a-input",{attrs:{placeholder:"请输入手机号码查询"},model:{value:e.queryParam.phone,callback:function(t){e.$set(e.queryParam,"phone",t)},expression:"queryParam.phone"}})],1)],1),n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"用户状态"}},[n("a-select",{attrs:{placeholder:"请选择"},model:{value:e.queryParam.status,callback:function(t){e.$set(e.queryParam,"status",t)},expression:"queryParam.status"}},[n("a-select-option",{attrs:{value:""}},[e._v("请选择")]),n("a-select-option",{attrs:{value:"1"}},[e._v("正常")]),n("a-select-option",{attrs:{value:"2"}},[e._v("冻结")])],1)],1)],1)]:e._e(),n("a-col",{attrs:{md:6,sm:8}},[n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")]),n("a",{staticStyle:{"margin-left":"8px"},on:{click:e.handleToggleSearch}},[e._v("\n              "+e._s(e.toggleSearchStatus?"收起":"展开")+"\n              "),n("a-icon",{attrs:{type:e.toggleSearchStatus?"up":"down"}})],1)],1)])],2)],1)],1),n("div",{staticClass:"table-operator",staticStyle:{"border-top":"5px"}},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("添加用户")]),n("a-button",{attrs:{type:"primary",icon:"download"},on:{click:function(t){return e.handleExportXls("用户信息")}}},[e._v("导出")]),n("a-upload",{attrs:{name:"file",showUploadList:!1,multiple:!1,headers:e.tokenHeader,action:e.importExcelUrl},on:{change:e.handleImportExcel}},[n("a-button",{attrs:{type:"primary",icon:"import"}},[e._v("导入")])],1),n("a-button",{attrs:{type:"primary",icon:"hdd"},on:{click:function(t){e.recycleBinVisible=!0}}},[e._v("回收站")]),e.selectedRowKeys.length>0?n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},on:{click:e.handleMenuClick},slot:"overlay"},[n("a-menu-item",{key:"1"},[n("a-icon",{attrs:{type:"delete"},on:{click:e.batchDel}}),e._v("\n          删除\n        ")],1),n("a-menu-item",{key:"2"},[n("a-icon",{attrs:{type:"lock"},on:{click:function(t){return e.batchFrozen("2")}}}),e._v("\n          冻结\n        ")],1),n("a-menu-item",{key:"3"},[n("a-icon",{attrs:{type:"unlock"},on:{click:function(t){return e.batchFrozen("1")}}}),e._v("\n          解冻\n        ")],1)],1),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v("\n        批量操作\n        "),n("a-icon",{attrs:{type:"down"}})],1)],1):e._e()],1),n("div",[n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),e._v("已选择 "),n("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRowKeys.length))]),e._v("项  \n      "),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])]),n("a-table",{ref:"table",attrs:{bordered:"",size:"middle",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"avatarslot",fn:function(t,r,i){return[n("div",{staticClass:"anty-img-wrap"},[n("a-avatar",{attrs:{shape:"square",src:e.getAvatarView(r.avatar),icon:"user"}})],1)]}},{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link"},[e._v("\n            更多 "),n("a-icon",{attrs:{type:"down"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.handleDetail(r)}}},[e._v("详情")])]),n("a-menu-item",[n("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.handleChangePassword(r.username)}}},[e._v("密码")])]),n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete(r.id)}}},[n("a",[e._v("删除")])])],1),1==r.status?n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定冻结吗?"},on:{confirm:function(){return e.handleFrozen(r.id,2,r.username)}}},[n("a",[e._v("冻结")])])],1):e._e(),2==r.status?n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定解冻吗?"},on:{confirm:function(){return e.handleFrozen(r.id,1,r.username)}}},[n("a",[e._v("解冻")])])],1):e._e(),n("a-menu-item",[n("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.handleAgentSettings(r.username)}}},[e._v("代理人")])])],1)],1)],1)}}])})],1),n("user-modal",{ref:"modalForm",on:{ok:e.modalFormOk}}),n("password-modal",{ref:"passwordmodal",on:{ok:e.passwordModalOk}}),n("sys-user-agent-modal",{ref:"sysUserAgentModal"}),n("user-recycle-bin-modal",{attrs:{visible:e.recycleBinVisible},on:{"update:visible":function(t){e.recycleBinVisible=t},ok:e.modalFormOk}})],1)},i=[],o=n("418f"),a=n("ddf9"),s=n("0fea"),l=n("4ec3"),c=n("b65a"),u=n("74c6"),d=n("4349"),f=n("eb9c"),h={name:"UserList",mixins:[c["a"]],components:{SysUserAgentModal:u["default"],UserModal:o["default"],PasswordModal:a["default"],JInput:d["default"],UserRecycleBinModal:f["default"]},data:function(){return{description:"这是用户管理页面",queryParam:{},recycleBinVisible:!1,columns:[{title:"用户账号",align:"center",dataIndex:"username",width:120,sorter:!0},{title:"用户姓名",align:"center",width:100,dataIndex:"realname"},{title:"头像",align:"center",width:120,dataIndex:"avatar",scopedSlots:{customRender:"avatarslot"}},{title:"性别",align:"center",width:80,dataIndex:"sex_dictText",sorter:!0},{title:"生日",align:"center",width:100,dataIndex:"birthday"},{title:"手机号码",align:"center",width:100,dataIndex:"phone"},{title:"部门",align:"center",width:180,dataIndex:"orgCodeTxt"},{title:"状态",align:"center",width:80,dataIndex:"status_dictText"},{title:"操作",dataIndex:"action",scopedSlots:{customRender:"action"},align:"center",width:170}],url:{syncUser:"/process/extActProcess/doSyncUser",list:"/sys/user/list",delete:"/sys/user/delete",deleteBatch:"/sys/user/deleteBatch",exportXlsUrl:"/sys/user/exportXls",importExcelUrl:"sys/user/importExcel"}}},computed:{importExcelUrl:function(){return"".concat(window._CONFIG["domianURL"],"/").concat(this.url.importExcelUrl)}},methods:{getAvatarView:function(e){return Object(s["d"])(e)},batchFrozen:function(e){if(this.selectedRowKeys.length<=0)return this.$message.warning("请选择一条记录！"),!1;var t="",n=this,r=!1;n.selectionRows.forEach((function(e){"admin"==e.username&&(r=!0)})),r?n.$message.warning("管理员账号不允许此操作,请重新选择！"):(n.selectedRowKeys.forEach((function(e){t+=e+","})),n.$confirm({title:"确认操作",content:"是否"+(1==e?"解冻":"冻结")+"选中账号?",onOk:function(){Object(l["s"])({ids:t,status:e}).then((function(e){e.success?(n.$message.success(e.message),n.loadData(),n.onClearSelected()):n.$message.warning(e.message)}))}}))},handleMenuClick:function(e){1==e.key?this.batchDel():2==e.key?this.batchFrozen(2):3==e.key&&this.batchFrozen(1)},handleFrozen:function(e,t,n){var r=this;"admin"!=n?Object(l["s"])({ids:e,status:t}).then((function(e){e.success?(r.$message.success(e.message),r.loadData()):r.$message.warning(e.message)})):r.$message.warning("管理员账号不允许此操作！")},handleChangePassword:function(e){this.$refs.passwordmodal.show(e)},handleAgentSettings:function(e){this.$refs.sysUserAgentModal.agentSettings(e),this.$refs.sysUserAgentModal.title="用户代理人设置"},passwordModalOk:function(){}}},p=h,m=(n("8500"),n("2877")),g=Object(m["a"])(p,r,i,!1,null,"68eb8424",null);t["default"]=g.exports},"0d93":function(e,t,n){},"0ea0":function(e,t,n){},"0ec6":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"index-container-ty"},[r("a-spin",{attrs:{spinning:e.loading}},[r("a-row",{attrs:{type:"flex",justify:"start",gutter:3}},[r("a-col",{attrs:{sm:24,lg:12}},[r("a-card",[r("div",{staticClass:"index-md-title",attrs:{slot:"title"},slot:"title"},[r("img",{attrs:{src:n("8cf3")}}),e._v("\n            我的待办【"+e._s(e.dataSource1.length)+"】\n          ")]),r("div",{attrs:{slot:"extra"},slot:"extra"},[e.dataSource1&&e.dataSource1.length>0?r("a",{attrs:{slot:"footer"},on:{click:e.goPage},slot:"footer"},[e._v("更多 "),r("a-icon",{attrs:{type:"double-right"}})],1):e._e()]),r("a-table",{ref:"table1",class:"my-index-table tytable1",attrs:{size:"small",rowKey:"id",columns:e.columns,dataSource:e.dataSource1,pagination:!1},scopedSlots:e._u([{key:"ellipsisText",fn:function(t){return[r("j-ellipsis",{attrs:{value:t,length:e.textMaxLength}})]}},{key:"dayWarnning",fn:function(t,n){return[r("a-icon",{staticStyle:{"font-size":"22px"},attrs:{type:"bulb",theme:"twoTone",twoToneColor:e.getTipColor(n)}})]}},{key:"action",fn:function(t,n){return r("span",{},[r("a",{on:{click:e.handleData}},[e._v("办理")])])}}])})],1)],1),r("a-col",{attrs:{sm:24,lg:12}},[r("a-card",[r("div",{staticClass:"index-md-title",attrs:{slot:"title"},slot:"title"},[r("img",{attrs:{src:n("c612")}}),e._v("\n            我的在办【"+e._s(e.dataSource2.length)+"】\n          ")]),r("div",{attrs:{slot:"extra"},slot:"extra"},[e.dataSource2&&e.dataSource2.length>0?r("a",{attrs:{slot:"footer"},on:{click:e.goPage},slot:"footer"},[e._v("更多 "),r("a-icon",{attrs:{type:"double-right"}})],1):e._e()]),r("a-table",{ref:"table2",class:"my-index-table tytable2",attrs:{size:"small",rowKey:"id",columns:e.columns,dataSource:e.dataSource2,pagination:!1},scopedSlots:e._u([{key:"ellipsisText",fn:function(t){return[r("j-ellipsis",{attrs:{value:t,length:e.textMaxLength}})]}},{key:"dayWarnning",fn:function(t,n){return[r("a-icon",{staticStyle:{"font-size":"22px"},attrs:{type:"bulb",theme:"twoTone",twoToneColor:e.getTipColor(n)}})]}},{key:"action",fn:function(t,n){return r("span",{},[r("a",{on:{click:e.handleData}},[e._v("办理")])])}}])})],1)],1),r("a-col",{attrs:{span:24}},[r("div",{staticStyle:{height:"5px"}})]),r("a-col",{attrs:{sm:24,lg:12}},[r("a-card",[r("div",{staticClass:"index-md-title",attrs:{slot:"title"},slot:"title"},[r("img",{attrs:{src:n("4a27")}}),e._v("\n            我的挂账【"+e._s(e.dataSource4.length)+"】\n          ")]),r("a-table",{ref:"table4",class:"my-index-table tytable4",attrs:{size:"small",rowKey:"id",columns:e.columns,dataSource:e.dataSource4,pagination:!1},scopedSlots:e._u([{key:"ellipsisText",fn:function(t){return[r("j-ellipsis",{attrs:{value:t,length:e.textMaxLength}})]}},{key:"dayWarnning",fn:function(t,n){return[r("a-icon",{staticStyle:{"font-size":"22px"},attrs:{type:"bulb",theme:"twoTone",twoToneColor:e.getTipColor(n)}})]}},{key:"action",fn:function(t,n){return r("span",{},[r("a",{on:{click:e.handleData}},[e._v("办理")])])}}])})],1)],1),r("a-col",{attrs:{sm:24,lg:12}},[r("a-card",[r("div",{staticClass:"index-md-title",attrs:{slot:"title"},slot:"title"},[r("img",{attrs:{src:n("5e65")}}),e._v("\n            我的督办【"+e._s(e.dataSource3.length)+"】\n          ")]),r("a-table",{ref:"table3",class:"my-index-table tytable3",attrs:{size:"small",rowKey:"id",columns:e.columns,dataSource:e.dataSource3,pagination:!1},scopedSlots:e._u([{key:"ellipsisText",fn:function(t){return[r("j-ellipsis",{attrs:{value:t,length:e.textMaxLength}})]}},{key:"dayWarnning",fn:function(t,n){return[r("a-icon",{staticStyle:{"font-size":"22px"},attrs:{type:"bulb",theme:"twoTone",twoToneColor:e.getTipColor(n)}})]}},{key:"action",fn:function(t,n){return r("span",{},[r("a",{on:{click:e.handleData}},[e._v("办理")])])}}])})],1)],1)],1)],1)],1)},i=[],o=n("4099"),a=n.n(o),s=n("d579"),l=[{id:"001",orderNo:"电[1]1267102",orderTitle:"药品出问题了",restDay:1},{id:"002",orderNo:"电[4]5967102",orderTitle:"吃了xxx医院的药，病情越来越严重",restDay:0},{id:"003",orderNo:"电[3]5988987",orderTitle:"今天去超市买鸡蛋，鸡蛋都是坏的",restDay:7},{id:"004",orderNo:"电[2]5213491",orderTitle:"xx宝实体店高价售卖xx",restDay:5},{id:"005",orderNo:"电[1]1603491",orderTitle:"以红利相诱，答应退保后扣一年费用",restDay:0}],c=[{id:"001",orderTitle:"我要投诉这个大超市",orderNo:"电[1]10299456",restDay:6},{id:"002",orderTitle:"xxx医院乱开药方,售卖假药",orderNo:"电[2]20235691",restDay:0},{id:"003",orderTitle:"我想问问这家店是干啥的",orderNo:"电[3]495867322",restDay:7},{id:"004",orderTitle:"我要举报朝阳区奥森公园酒店",orderNo:"电[2]1193849",restDay:3},{id:"005",orderTitle:"我今天吃饭吃到一个石头子",orderNo:"电[4]56782344",restDay:9}],u="rgba(0, 255, 0, 1)",d="rgba(255, 255, 0, 1)",f="rgba(255, 0, 0, 1)",h={name:"IndexTask",components:{JEllipsis:s["default"]},data:function(){return{loading:!1,textMaxLength:8,dataSource1:[],dataSource2:[],dataSource3:[],dataSource4:[],columns:[{title:"",dataIndex:"",key:"rowIndex",width:50,fixed:"left",align:"center",scopedSlots:{customRender:"dayWarnning"}},{title:"剩余天数",align:"center",dataIndex:"restDay",width:80},{title:"工单标题",align:"center",dataIndex:"orderTitle",scopedSlots:{customRender:"ellipsisText"}},{title:"工单编号",align:"center",dataIndex:"orderNo"},{title:"操作",dataIndex:"action",align:"center",scopedSlots:{customRender:"action"}}]}},created:function(){this.mock()},mounted:function(){},methods:{getTipColor:function(e){var t=e.restDay;return t<=0?f:t>=1&&t<4?d:t>=4?u:void 0},goPage:function(){this.$message.success("请根据具体业务跳转页面")},mock:function(){this.dataSource1=l,this.dataSource2=c,this.dataSource3=l,this.dataSource4=[],this.ifNullDataSource(this.dataSource4,".tytable4")},ifNullDataSource:function(e,t){this.$nextTick((function(){if(!e||0==e.length){var n=document.createElement("img");n.src=a.a,n.width=300;var r="".concat(t," .ant-table-placeholder");document.querySelector(r).innerHTML="",document.querySelector(r).appendChild(n)}}))},handleData:function(){this.$message.success("办理完成")}}},p=h,m=(n("84c5"),n("2877")),g=Object(m["a"])(p,r,i,!1,null,null,null);t["default"]=g.exports},"0ed5":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:"corn表达式",width:e.modalWidth,visible:e.visible,confirmLoading:e.confirmLoading,cancelText:"关闭"},on:{ok:e.handleSubmit,cancel:e.close}},[n("div",{staticClass:"card-container"},[n("a-tabs",{attrs:{type:"card"}},[n("a-tab-pane",{key:"1",attrs:{type:"card"}},[n("span",{attrs:{slot:"tab"},slot:"tab"},[n("a-icon",{attrs:{type:"schedule"}}),e._v(" 秒")],1),n("a-radio-group",{model:{value:e.result.second.cronEvery,callback:function(t){e.$set(e.result.second,"cronEvery",t)},expression:"result.second.cronEvery"}},[n("a-row",[n("a-radio",{attrs:{value:"1"}},[e._v("每一秒钟")])],1),n("a-row",[n("a-radio",{attrs:{value:"2"}},[e._v("每隔\n              "),n("a-input-number",{attrs:{size:"small",min:1,max:59},model:{value:e.result.second.incrementIncrement,callback:function(t){e.$set(e.result.second,"incrementIncrement",t)},expression:"result.second.incrementIncrement"}}),e._v("\n              秒执行 从\n              "),n("a-input-number",{attrs:{size:"small",min:0,max:59},model:{value:e.result.second.incrementStart,callback:function(t){e.$set(e.result.second,"incrementStart",t)},expression:"result.second.incrementStart"}}),e._v("\n              秒开始\n            ")],1)],1),n("a-row",[n("a-radio",{attrs:{value:"3"}},[e._v("具体秒数(可多选)")]),n("a-select",{staticStyle:{width:"354px"},attrs:{size:"small",mode:"multiple"},model:{value:e.result.second.specificSpecific,callback:function(t){e.$set(e.result.second,"specificSpecific",t)},expression:"result.second.specificSpecific"}},e._l(60,(function(t,r){return n("a-select-option",{key:r,attrs:{value:r}},[e._v(e._s(r))])})),1)],1),n("a-row",[n("a-radio",{attrs:{value:"4"}},[e._v("周期从\n              "),n("a-input-number",{attrs:{size:"small",min:1,max:59},model:{value:e.result.second.rangeStart,callback:function(t){e.$set(e.result.second,"rangeStart",t)},expression:"result.second.rangeStart"}}),e._v("\n              到\n              "),n("a-input-number",{attrs:{size:"small",min:0,max:59},model:{value:e.result.second.rangeEnd,callback:function(t){e.$set(e.result.second,"rangeEnd",t)},expression:"result.second.rangeEnd"}}),e._v("\n              秒\n            ")],1)],1)],1)],1),n("a-tab-pane",{key:"2"},[n("span",{attrs:{slot:"tab"},slot:"tab"},[n("a-icon",{attrs:{type:"schedule"}}),e._v("分")],1),n("div",{staticClass:"tabBody"},[n("a-radio-group",{model:{value:e.result.minute.cronEvery,callback:function(t){e.$set(e.result.minute,"cronEvery",t)},expression:"result.minute.cronEvery"}},[n("a-row",[n("a-radio",{attrs:{value:"1"}},[e._v("每一分钟")])],1),n("a-row",[n("a-radio",{attrs:{value:"2"}},[e._v("每隔\n                "),n("a-input-number",{attrs:{size:"small",min:1,max:60},model:{value:e.result.minute.incrementIncrement,callback:function(t){e.$set(e.result.minute,"incrementIncrement",t)},expression:"result.minute.incrementIncrement"}}),e._v("\n                分执行 从\n                "),n("a-input-number",{attrs:{size:"small",min:0,max:59},model:{value:e.result.minute.incrementStart,callback:function(t){e.$set(e.result.minute,"incrementStart",t)},expression:"result.minute.incrementStart"}}),e._v("\n                分开始\n              ")],1)],1),n("a-row",[n("a-radio",{attrs:{value:"3"}},[e._v("具体分钟数(可多选)")]),n("a-select",{staticStyle:{width:"340px"},attrs:{size:"small",mode:"multiple"},model:{value:e.result.minute.specificSpecific,callback:function(t){e.$set(e.result.minute,"specificSpecific",t)},expression:"result.minute.specificSpecific"}},e._l(Array(60),(function(t,r){return n("a-select-option",{key:r,attrs:{value:r}},[e._v(" "+e._s(r))])})),1)],1),n("a-row",[n("a-radio",{attrs:{value:"4"}},[e._v("周期从\n                "),n("a-input-number",{attrs:{size:"small",min:1,max:60},model:{value:e.result.minute.rangeStart,callback:function(t){e.$set(e.result.minute,"rangeStart",t)},expression:"result.minute.rangeStart"}}),e._v("\n                到\n                "),n("a-input-number",{attrs:{size:"small",min:0,max:59},model:{value:e.result.minute.rangeEnd,callback:function(t){e.$set(e.result.minute,"rangeEnd",t)},expression:"result.minute.rangeEnd"}}),e._v("\n                分\n              ")],1)],1)],1)],1)]),n("a-tab-pane",{key:"3"},[n("span",{attrs:{slot:"tab"},slot:"tab"},[n("a-icon",{attrs:{type:"schedule"}}),e._v(" 时")],1),n("div",{staticClass:"tabBody"},[n("a-radio-group",{model:{value:e.result.hour.cronEvery,callback:function(t){e.$set(e.result.hour,"cronEvery",t)},expression:"result.hour.cronEvery"}},[n("a-row",[n("a-radio",{attrs:{value:"1"}},[e._v("每一小时")])],1),n("a-row",[n("a-radio",{attrs:{value:"2"}},[e._v("每隔\n                "),n("a-input-number",{attrs:{size:"small",min:0,max:23},model:{value:e.result.hour.incrementIncrement,callback:function(t){e.$set(e.result.hour,"incrementIncrement",t)},expression:"result.hour.incrementIncrement"}}),e._v("\n                小时执行 从\n                "),n("a-input-number",{attrs:{size:"small",min:0,max:23},model:{value:e.result.hour.incrementStart,callback:function(t){e.$set(e.result.hour,"incrementStart",t)},expression:"result.hour.incrementStart"}}),e._v("\n                小时开始\n              ")],1)],1),n("a-row",[n("a-radio",{staticClass:"long",attrs:{value:"3"}},[e._v("具体小时数(可多选)")]),n("a-select",{staticStyle:{width:"340px"},attrs:{size:"small",mode:"multiple"},model:{value:e.result.hour.specificSpecific,callback:function(t){e.$set(e.result.hour,"specificSpecific",t)},expression:"result.hour.specificSpecific"}},e._l(Array(24),(function(t,r){return n("a-select-option",{key:r},[e._v(e._s(r))])})),1)],1),n("a-row",[n("a-radio",{attrs:{value:"4"}},[e._v("周期从\n                "),n("a-input-number",{attrs:{size:"small",min:0,max:23},model:{value:e.result.hour.rangeStart,callback:function(t){e.$set(e.result.hour,"rangeStart",t)},expression:"result.hour.rangeStart"}}),e._v("\n                到\n                "),n("a-input-number",{attrs:{size:"small",min:0,max:23},model:{value:e.result.hour.rangeEnd,callback:function(t){e.$set(e.result.hour,"rangeEnd",t)},expression:"result.hour.rangeEnd"}}),e._v("\n                小时\n              ")],1)],1)],1)],1)]),n("a-tab-pane",{key:"4"},[n("span",{attrs:{slot:"tab"},slot:"tab"},[n("a-icon",{attrs:{type:"schedule"}}),e._v("  天")],1),n("div",{staticClass:"tabBody"},[n("a-radio-group",{model:{value:e.result.day.cronEvery,callback:function(t){e.$set(e.result.day,"cronEvery",t)},expression:"result.day.cronEvery"}},[n("a-row",[n("a-radio",{attrs:{value:"1"}},[e._v("每一天")])],1),n("a-row",[n("a-radio",{attrs:{value:"2"}},[e._v("每隔\n                "),n("a-input-number",{attrs:{size:"small",min:1,max:7},model:{value:e.result.week.incrementIncrement,callback:function(t){e.$set(e.result.week,"incrementIncrement",t)},expression:"result.week.incrementIncrement"}}),e._v("\n                周执行 从\n                "),n("a-select",{attrs:{size:"small"},model:{value:e.result.week.incrementStart,callback:function(t){e.$set(e.result.week,"incrementStart",t)},expression:"result.week.incrementStart"}},e._l(Array(7),(function(t,r){return n("a-select-option",{key:r,attrs:{value:r+1}},[e._v(e._s(e.weekDays[r]))])})),1),e._v("\n                开始\n              ")],1)],1),n("a-row",[n("a-radio",{attrs:{value:"3"}},[e._v("每隔\n                "),n("a-input-number",{attrs:{size:"small",min:1,max:31},model:{value:e.result.day.incrementIncrement,callback:function(t){e.$set(e.result.day,"incrementIncrement",t)},expression:"result.day.incrementIncrement"}}),e._v("\n                天执行 从\n                "),n("a-input-number",{attrs:{size:"small",min:1,max:31},model:{value:e.result.day.incrementStart,callback:function(t){e.$set(e.result.day,"incrementStart",t)},expression:"result.day.incrementStart"}}),e._v("\n                天开始\n              ")],1)],1),n("a-row",[n("a-radio",{staticClass:"long",attrs:{value:"4"}},[e._v("具体星期几(可多选)")]),n("a-select",{staticStyle:{width:"340px"},attrs:{size:"small",mode:"multiple"},model:{value:e.result.week.specificSpecific,callback:function(t){e.$set(e.result.week,"specificSpecific",t)},expression:"result.week.specificSpecific"}},e._l(Array(7),(function(t,r){return n("a-select-option",{key:r,attrs:{value:r+1}},[e._v(e._s(e.weekDays[r]))])})),1)],1),n("a-row",[n("a-radio",{staticClass:"long",attrs:{value:"5"}},[e._v("具体天数(可多选)")]),n("a-select",{staticStyle:{width:"354px"},attrs:{size:"small",mode:"multiple"},model:{value:e.result.day.specificSpecific,callback:function(t){e.$set(e.result.day,"specificSpecific",t)},expression:"result.day.specificSpecific"}},e._l(Array(31),(function(t,r){return n("a-select-option",{key:r,attrs:{value:r+1}},[e._v(e._s(r+1))])})),1)],1),n("a-row",[n("a-radio",{attrs:{value:"6"}},[e._v("在这个月的最后一天")])],1),n("a-row",[n("a-radio",{attrs:{value:"7"}},[e._v("在这个月的最后一个工作日")])],1),n("a-row",[n("a-radio",{attrs:{value:"8"}},[e._v("在这个月的最后一个\n                "),n("a-select",{attrs:{size:"small"},model:{value:e.result.day.cronLastSpecificDomDay,callback:function(t){e.$set(e.result.day,"cronLastSpecificDomDay",t)},expression:"result.day.cronLastSpecificDomDay"}},e._l(Array(7),(function(t,r){return n("a-select-option",{key:r,attrs:{value:r+1}},[e._v(e._s(e.weekDays[r]))])})),1)],1)],1),n("a-row",[n("a-radio",{attrs:{value:"9"}},[e._v("\n                在本月底前\n                "),n("a-input-number",{attrs:{size:"small",min:1,max:31},model:{value:e.result.day.cronDaysBeforeEomMinus,callback:function(t){e.$set(e.result.day,"cronDaysBeforeEomMinus",t)},expression:"result.day.cronDaysBeforeEomMinus"}}),e._v("\n                天\n              ")],1)],1),n("a-row",[n("a-radio",{attrs:{value:"10"}},[e._v("最近的工作日（周一至周五）至本月\n                "),n("a-input-number",{attrs:{size:"small",min:1,max:31},model:{value:e.result.day.cronDaysNearestWeekday,callback:function(t){e.$set(e.result.day,"cronDaysNearestWeekday",t)},expression:"result.day.cronDaysNearestWeekday"}}),e._v("\n                日\n              ")],1)],1),n("a-row",[n("a-radio",{attrs:{value:"11"}},[e._v("在这个月的第\n                "),n("a-input-number",{attrs:{size:"small",min:1,max:5},model:{value:e.result.week.cronNthDayNth,callback:function(t){e.$set(e.result.week,"cronNthDayNth",t)},expression:"result.week.cronNthDayNth"}}),e._v("\n                个\n                "),n("a-select",{attrs:{size:"small"},model:{value:e.result.week.cronNthDayDay,callback:function(t){e.$set(e.result.week,"cronNthDayDay",t)},expression:"result.week.cronNthDayDay"}},e._l(Array(7),(function(t,r){return n("a-select-option",{key:r,attrs:{value:r+1}},[e._v(e._s(e.weekDays[r]))])})),1)],1)],1)],1)],1)]),n("a-tab-pane",{key:"5"},[n("span",{attrs:{slot:"tab"},slot:"tab"},[n("a-icon",{attrs:{type:"schedule"}}),e._v(" 月")],1),n("div",{staticClass:"tabBody"},[n("a-radio-group",{model:{value:e.result.month.cronEvery,callback:function(t){e.$set(e.result.month,"cronEvery",t)},expression:"result.month.cronEvery"}},[n("a-row",[n("a-radio",{attrs:{value:"1"}},[e._v("每一月")])],1),n("a-row",[n("a-radio",{attrs:{value:"2"}},[e._v("每隔\n                "),n("a-input-number",{attrs:{size:"small",min:0,max:12},model:{value:e.result.month.incrementIncrement,callback:function(t){e.$set(e.result.month,"incrementIncrement",t)},expression:"result.month.incrementIncrement"}}),e._v("\n                月执行 从\n                "),n("a-input-number",{attrs:{size:"small",min:0,max:12},model:{value:e.result.month.incrementStart,callback:function(t){e.$set(e.result.month,"incrementStart",t)},expression:"result.month.incrementStart"}}),e._v("\n                月开始\n              ")],1)],1),n("a-row",[n("a-radio",{staticClass:"long",attrs:{value:"3"}},[e._v("具体月数(可多选)")]),n("a-select",{staticStyle:{width:"354px"},attrs:{size:"small",filterable:"",mode:"multiple"},model:{value:e.result.month.specificSpecific,callback:function(t){e.$set(e.result.month,"specificSpecific",t)},expression:"result.month.specificSpecific"}},e._l(Array(12),(function(t,r){return n("a-select-option",{key:r,attrs:{value:r+1}},[e._v(e._s(r+1))])})),1)],1),n("a-row",[n("a-radio",{attrs:{value:"4"}},[e._v("从\n                "),n("a-input-number",{attrs:{size:"small",min:1,max:12},model:{value:e.result.month.rangeStart,callback:function(t){e.$set(e.result.month,"rangeStart",t)},expression:"result.month.rangeStart"}}),e._v("\n                到\n                "),n("a-input-number",{attrs:{size:"small",min:1,max:12},model:{value:e.result.month.rangeEnd,callback:function(t){e.$set(e.result.month,"rangeEnd",t)},expression:"result.month.rangeEnd"}}),e._v("\n                月之间的每个月\n              ")],1)],1)],1)],1)]),n("a-tab-pane",{key:"6"},[n("span",{attrs:{slot:"tab"},slot:"tab"},[n("a-icon",{attrs:{type:"schedule"}}),e._v(" 年")],1),n("div",{staticClass:"tabBody"},[n("a-radio-group",{model:{value:e.result.year.cronEvery,callback:function(t){e.$set(e.result.year,"cronEvery",t)},expression:"result.year.cronEvery"}},[n("a-row",[n("a-radio",{attrs:{value:"1"}},[e._v("每一年")])],1),n("a-row",[n("a-radio",{attrs:{value:"2"}},[e._v("每隔\n                "),n("a-input-number",{attrs:{size:"small",min:1,max:99},model:{value:e.result.year.incrementIncrement,callback:function(t){e.$set(e.result.year,"incrementIncrement",t)},expression:"result.year.incrementIncrement"}}),e._v("\n                年执行 从\n                "),n("a-input-number",{attrs:{size:"small",min:2019,max:2119},model:{value:e.result.year.incrementStart,callback:function(t){e.$set(e.result.year,"incrementStart",t)},expression:"result.year.incrementStart"}}),e._v("\n                年开始\n              ")],1)],1),n("a-row",[n("a-radio",{staticClass:"long",attrs:{value:"3"}},[e._v("具体年份(可多选)")]),n("a-select",{staticStyle:{width:"354px"},attrs:{size:"small",filterable:"",mode:"multiple"},model:{value:e.result.year.specificSpecific,callback:function(t){e.$set(e.result.year,"specificSpecific",t)},expression:"result.year.specificSpecific"}},e._l(Array(100),(function(t,r){return n("a-select-option",{key:r,attrs:{value:2019+r}},[e._v(e._s(2019+r))])})),1)],1),n("a-row",[n("a-radio",{attrs:{value:"4"}},[e._v("从\n                "),n("a-input-number",{attrs:{size:"small",min:2019,max:2119},model:{value:e.result.year.rangeStart,callback:function(t){e.$set(e.result.year,"rangeStart",t)},expression:"result.year.rangeStart"}}),e._v("\n                到\n                "),n("a-input-number",{attrs:{size:"small",min:2019,max:2119},model:{value:e.result.year.rangeEnd,callback:function(t){e.$set(e.result.year,"rangeEnd",t)},expression:"result.year.rangeEnd"}}),e._v("\n                年之间的每一年\n              ")],1)],1)],1)],1)])],1),n("div",{staticClass:"bottom"},[n("span",{staticClass:"value"},[e._v(e._s(this.cron))])])],1)])},i=[],o={name:"VueCron",props:["data"],data:function(){return{visible:!1,confirmLoading:!1,size:"large",weekDays:["天","一","二","三","四","五","六"].map((function(e){return"星期"+e})),result:{second:{},minute:{},hour:{},day:{},week:{},month:{},year:{}},defaultValue:{second:{cronEvery:"",incrementStart:3,incrementIncrement:5,rangeStart:1,rangeEnd:0,specificSpecific:[]},minute:{cronEvery:"",incrementStart:3,incrementIncrement:5,rangeStart:1,rangeEnd:"0",specificSpecific:[]},hour:{cronEvery:"",incrementStart:3,incrementIncrement:5,rangeStart:"0",rangeEnd:"0",specificSpecific:[]},day:{cronEvery:"",incrementStart:1,incrementIncrement:"1",rangeStart:"",rangeEnd:"",specificSpecific:[],cronLastSpecificDomDay:1,cronDaysBeforeEomMinus:1,cronDaysNearestWeekday:1},week:{cronEvery:"",incrementStart:1,incrementIncrement:1,specificSpecific:[],cronNthDayDay:1,cronNthDayNth:1},month:{cronEvery:"",incrementStart:3,incrementIncrement:5,rangeStart:1,rangeEnd:1,specificSpecific:[]},year:{cronEvery:"",incrementStart:2017,incrementIncrement:1,rangeStart:2019,rangeEnd:2019,specificSpecific:[]},label:""}}},computed:{modalWidth:function(){return 608},secondsText:function(){var e="",t=this.result.second.cronEvery||"";switch(t.toString()){case"1":e="*";break;case"2":e=this.result.second.incrementStart+"/"+this.result.second.incrementIncrement;break;case"3":this.result.second.specificSpecific.map((function(t){e+=t+","})),e=e.slice(0,-1);break;case"4":e=this.result.second.rangeStart+"-"+this.result.second.rangeEnd;break}return e},minutesText:function(){var e="",t=this.result.minute.cronEvery||"";switch(t.toString()){case"1":e="*";break;case"2":e=this.result.minute.incrementStart+"/"+this.result.minute.incrementIncrement;break;case"3":this.result.minute.specificSpecific.map((function(t){e+=t+","})),e=e.slice(0,-1);break;case"4":e=this.result.minute.rangeStart+"-"+this.result.minute.rangeEnd;break}return e},hoursText:function(){var e="",t=this.result.hour.cronEvery||"";switch(t.toString()){case"1":e="*";break;case"2":e=this.result.hour.incrementStart+"/"+this.result.hour.incrementIncrement;break;case"3":this.result.hour.specificSpecific.map((function(t){e+=t+","})),e=e.slice(0,-1);break;case"4":e=this.result.hour.rangeStart+"-"+this.result.hour.rangeEnd;break}return e},daysText:function(){var e="",t=this.result.day.cronEvery||"";switch(t.toString()){case"1":break;case"2":case"4":case"11":e="?";break;case"3":e=this.result.day.incrementStart+"/"+this.result.day.incrementIncrement;break;case"5":this.result.day.specificSpecific.map((function(t){e+=t+","})),e=e.slice(0,-1);break;case"6":e="L";break;case"7":e="LW";break;case"8":e=this.result.day.cronLastSpecificDomDay+"L";break;case"9":e="L-"+this.result.day.cronDaysBeforeEomMinus;break;case"10":e=this.result.day.cronDaysNearestWeekday+"W";break}return e},weeksText:function(){var e="",t=this.result.day.cronEvery||"";switch(t.toString()){case"1":case"3":case"5":e="?";break;case"2":e=this.result.week.incrementStart+"/"+this.result.week.incrementIncrement;break;case"4":this.result.week.specificSpecific.map((function(t){e+=t+","})),e=e.slice(0,-1);break;case"6":case"7":case"8":case"9":case"10":e="?";break;case"11":e=this.result.week.cronNthDayDay+"#"+this.result.week.cronNthDayNth;break}return e},monthsText:function(){var e="",t=this.result.month.cronEvery||"";switch(t.toString()){case"1":e="*";break;case"2":e=this.result.month.incrementStart+"/"+this.result.month.incrementIncrement;break;case"3":this.result.month.specificSpecific.map((function(t){e+=t+","})),e=e.slice(0,-1);break;case"4":e=this.result.month.rangeStart+"-"+this.result.month.rangeEnd;break}return e},yearsText:function(){var e="",t=this.result.year.cronEvery||"";switch(t.toString()){case"1":e="*";break;case"2":e=this.result.year.incrementStart+"/"+this.result.year.incrementIncrement;break;case"3":this.result.year.specificSpecific.map((function(t){e+=t+","})),e=e.slice(0,-1);break;case"4":e=this.result.year.rangeStart+"-"+this.result.year.rangeEnd;break}return e},cron:function(){return"".concat(this.secondsText||"*"," ").concat(this.minutesText||"*"," ").concat(this.hoursText||"*"," ").concat(this.daysText||"*"," ").concat(this.monthsText||"*"," ").concat(this.weeksText||"?"," ").concat(this.yearsText||"*")}},watch:{visible:{handler:function(){var e=this.data;e?(this.secondsReverseExp(e),this.minutesReverseExp(e),this.hoursReverseExp(e),this.daysReverseExp(e),this.daysReverseExp(e),this.monthsReverseExp(e),this.yearReverseExp(e),JSON.parse(JSON.stringify(e))):this.result=JSON.parse(JSON.stringify(this.defaultValue))}}},methods:{show:function(){this.visible=!0},handleSubmit:function(){this.$emit("ok",this.cron),this.close(),this.visible=!1},close:function(){this.visible=!1},secondsReverseExp:function(e){var t=e.split(" ")[0],n={cronEvery:"",incrementStart:3,incrementIncrement:5,rangeStart:1,rangeEnd:0,specificSpecific:[]};switch(!0){case t.includes("*"):n.cronEvery="1";break;case t.includes("/"):n.cronEvery="2",n.incrementStart=t.split("/")[0],n.incrementIncrement=t.split("/")[1];break;case t.includes(","):n.cronEvery="3",n.specificSpecific=t.split(",").map(Number).sort();break;case t.includes("-"):n.cronEvery="4",n.rangeStart=t.split("-")[0],n.rangeEnd=t.split("-")[1];break;default:n.cronEvery="1"}this.result.second=n},minutesReverseExp:function(e){var t=e.split(" ")[1],n={cronEvery:"",incrementStart:3,incrementIncrement:5,rangeStart:1,rangeEnd:0,specificSpecific:[]};switch(!0){case t.includes("*"):n.cronEvery="1";break;case t.includes("/"):n.cronEvery="2",n.incrementStart=t.split("/")[0],n.incrementIncrement=t.split("/")[1];break;case t.includes(","):n.cronEvery="3",n.specificSpecific=t.split(",").map(Number).sort();break;case t.includes("-"):n.cronEvery="4",n.rangeStart=t.split("-")[0],n.rangeEnd=t.split("-")[1];break;default:n.cronEvery="1"}this.result.minute=n},hoursReverseExp:function(e){var t=e.split(" ")[2],n={cronEvery:"",incrementStart:3,incrementIncrement:5,rangeStart:1,rangeEnd:"0",specificSpecific:[]};switch(!0){case t.includes("*"):n.cronEvery="1";break;case t.includes("/"):n.cronEvery="2",n.incrementStart=t.split("/")[0],n.incrementIncrement=t.split("/")[1];break;case t.includes(","):n.cronEvery="3",n.specificSpecific=t.split(",").map(Number).sort();break;case t.includes("-"):n.cronEvery="4",n.rangeStart=t.split("-")[0],n.rangeEnd=t.split("-")[1];break;default:n.cronEvery="1"}this.result.hour=n},daysReverseExp:function(e){var t=e.split(" ")[3],n=e.split(" ")[5],r={cronEvery:"",incrementStart:1,incrementIncrement:1,rangeStart:1,rangeEnd:1,specificSpecific:[],cronLastSpecificDomDay:1,cronDaysBeforeEomMinus:1,cronDaysNearestWeekday:1},i={cronEvery:"",incrementStart:1,incrementIncrement:1,specificSpecific:[],cronNthDayDay:1,cronNthDayNth:"1"};if(t.includes("?"))switch(!0){case n.includes("/"):r.cronEvery="2",i.incrementStart=n.split("/")[0],i.incrementIncrement=n.split("/")[1];break;case n.includes(","):r.cronEvery="4",i.specificSpecific=n.split(",").map(Number).sort();break;case"#":r.cronEvery="11",i.cronNthDayDay=n.split("#")[0],i.cronNthDayNth=n.split("#")[1];break;default:r.cronEvery="1",i.cronEvery="1"}else switch(!0){case t.includes("*"):r.cronEvery="1";break;case t.includes("?"):break;case t.includes("/"):r.cronEvery="3",r.incrementStart=t.split("/")[0],r.incrementIncrement=t.split("/")[1];break;case t.includes(","):r.cronEvery="5",r.specificSpecific=t.split(",").map(Number).sort();break;case t.includes("LW"):r.cronEvery="7";break;case t.includes("L-"):r.cronEvery="9",r.cronDaysBeforeEomMinus=t.split("L-")[1];break;case t.includes("L"):1==t.len?(r.cronEvery="6",r.cronLastSpecificDomDay="1"):(r.cronEvery="8",r.cronLastSpecificDomDay=Number(t.split("L")[0]));break;case t.includes("W"):r.cronEvery="10",r.cronDaysNearestWeekday=t.split("W")[0];break;default:r.cronEvery="1"}this.result.day=r,this.result.week=i},monthsReverseExp:function(e){var t=e.split(" ")[4],n={cronEvery:"",incrementStart:3,incrementIncrement:5,rangeStart:1,rangeEnd:1,specificSpecific:[]};switch(!0){case t.includes("*"):n.cronEvery="1";break;case t.includes("/"):n.cronEvery="2",n.incrementStart=t.split("/")[0],n.incrementIncrement=t.split("/")[1];break;case t.includes(","):n.cronEvery="3",n.specificSpecific=t.split(",").map(Number).sort();break;case t.includes("-"):n.cronEvery="4",n.rangeStart=t.split("-")[0],n.rangeEnd=t.split("-")[1];break;default:n.cronEvery="1"}this.result.month=n},yearReverseExp:function(e){var t=e.split(" ")[6],n={cronEvery:"",incrementStart:3,incrementIncrement:5,rangeStart:2019,rangeEnd:2019,specificSpecific:[]};switch(!0){case t.includes("*"):n.cronEvery="1";break;case t.includes("/"):n.cronEvery="2",n.incrementStart=t.split("/")[0],n.incrementIncrement=t.split("/")[1];break;case t.includes(","):n.cronEvery="3",n.specificSpecific=t.split(",").map(Number).sort();break;case t.includes("-"):n.cronEvery="4",n.rangeStart=t.split("-")[0],n.rangeEnd=t.split("-")[1];break;default:n.cronEvery="1"}this.result.year=n}}},a=o,s=(n("9791"),n("c556"),n("2877")),l=Object(s["a"])(a,r,i,!1,null,"58602b40",null);t["default"]=l.exports},"0eff":function(e,t){e.exports={86:{11e4:"北京市",12e4:"天津市",13e4:"河北省",14e4:"山西省",15e4:"内蒙古自治区",21e4:"辽宁省",22e4:"吉林省",23e4:"黑龙江省",31e4:"上海市",32e4:"江苏省",33e4:"浙江省",34e4:"安徽省",35e4:"福建省",36e4:"江西省",37e4:"山东省",41e4:"河南省",42e4:"湖北省",43e4:"湖南省",44e4:"广东省",45e4:"广西壮族自治区",46e4:"海南省",5e5:"重庆市",51e4:"四川省",52e4:"贵州省",53e4:"云南省",54e4:"西藏自治区",61e4:"陕西省",62e4:"甘肃省",63e4:"青海省",64e4:"宁夏回族自治区",65e4:"新疆维吾尔自治区",71e4:"台湾省",91e4:"港澳"},11e4:{110100:"市辖区"},110100:{110101:"东城区",110102:"西城区",110105:"朝阳区",110106:"丰台区",110107:"石景山区",110108:"海淀区",110109:"门头沟区",110111:"房山区",110112:"通州区",110113:"顺义区",110114:"昌平区",110115:"大兴区",110116:"怀柔区",110117:"平谷区",110118:"密云区",110119:"延庆区"},12e4:{120100:"市辖区"},120100:{120101:"和平区",120102:"河东区",120103:"河西区",120104:"南开区",120105:"河北区",120106:"红桥区",120110:"东丽区",120111:"西青区",120112:"津南区",120113:"北辰区",120114:"武清区",120115:"宝坻区",120116:"滨海新区",120117:"宁河区",120118:"静海区",120119:"蓟州区"},13e4:{130100:"石家庄市",130200:"唐山市",130300:"秦皇岛市",130400:"邯郸市",130500:"邢台市",130600:"保定市",130700:"张家口市",130800:"承德市",130900:"沧州市",131e3:"廊坊市",131100:"衡水市",139001:"定州市",139002:"辛集市"},130100:{130102:"长安区",130104:"桥西区",130105:"新华区",130107:"井陉矿区",130108:"裕华区",130109:"藁城区",130110:"鹿泉区",130111:"栾城区",130121:"井陉县",130123:"正定县",130125:"行唐县",130126:"灵寿县",130127:"高邑县",130128:"深泽县",130129:"赞皇县",130130:"无极县",130131:"平山县",130132:"元氏县",130133:"赵县",130183:"晋州市",130184:"新乐市"},130200:{130202:"路南区",130203:"路北区",130204:"古冶区",130205:"开平区",130207:"丰南区",130208:"丰润区",130209:"曹妃甸区",130223:"滦县",130224:"滦南县",130225:"乐亭县",130227:"迁西县",130229:"玉田县",130281:"遵化市",130283:"迁安市"},130300:{130302:"海港区",130303:"山海关区",130304:"北戴河区",130306:"抚宁区",130321:"青龙满族自治县",130322:"昌黎县",130324:"卢龙县"},130400:{130402:"邯山区",130403:"丛台区",130404:"复兴区",130406:"峰峰矿区",130421:"邯郸县",130423:"临漳县",130424:"成安县",130425:"大名县",130426:"涉县",130427:"磁县",130428:"肥乡县",130429:"永年县",130430:"邱县",130431:"鸡泽县",130432:"广平县",130433:"馆陶县",130434:"魏县",130435:"曲周县",130481:"武安市"},130500:{130502:"桥东区",130503:"桥西区",130521:"邢台县",130522:"临城县",130523:"内丘县",130524:"柏乡县",130525:"隆尧县",130526:"任县",130527:"南和县",130528:"宁晋县",130529:"巨鹿县",130530:"新河县",130531:"广宗县",130532:"平乡县",130533:"威县",130534:"清河县",130535:"临西县",130581:"南宫市",130582:"沙河市"},130600:{130602:"竞秀区",130606:"莲池区",130607:"满城区",130608:"清苑区",130609:"徐水区",130623:"涞水县",130624:"阜平县",130626:"定兴县",130627:"唐县",130628:"高阳县",130629:"容城县",130630:"涞源县",130631:"望都县",130632:"安新县",130633:"易县",130634:"曲阳县",130635:"蠡县",130636:"顺平县",130637:"博野县",130638:"雄县",130681:"涿州市",130683:"安国市",130684:"高碑店市"},130700:{130702:"桥东区",130703:"桥西区",130705:"宣化区",130706:"下花园区",130708:"万全区",130709:"崇礼区",130722:"张北县",130723:"康保县",130724:"沽源县",130725:"尚义县",130726:"蔚县",130727:"阳原县",130728:"怀安县",130730:"怀来县",130731:"涿鹿县",130732:"赤城县"},130800:{130802:"双桥区",130803:"双滦区",130804:"鹰手营子矿区",130821:"承德县",130822:"兴隆县",130823:"平泉县",130824:"滦平县",130825:"隆化县",130826:"丰宁满族自治县",130827:"宽城满族自治县",130828:"围场满族蒙古族自治县"},130900:{130902:"新华区",130903:"运河区",130921:"沧县",130922:"青县",130923:"东光县",130924:"海兴县",130925:"盐山县",130926:"肃宁县",130927:"南皮县",130928:"吴桥县",130929:"献县",130930:"孟村回族自治县",130981:"泊头市",130982:"任丘市",130983:"黄骅市",130984:"河间市"},131e3:{131002:"安次区",131003:"广阳区",131022:"固安县",131023:"永清县",131024:"香河县",131025:"大城县",131026:"文安县",131028:"大厂回族自治县",131081:"霸州市",131082:"三河市"},131100:{131102:"桃城区",131103:"冀州区",131121:"枣强县",131122:"武邑县",131123:"武强县",131124:"饶阳县",131125:"安平县",131126:"故城县",131127:"景县",131128:"阜城县",131182:"深州市"},139001:{1390011:"留早镇",13900111:"邢邑镇",139001001:"南城区街道",139001002:"北城区街道",139001003:"西城区街道",139001004:"长安路街道",139001101:"清风店镇",139001102:"庞村镇",139001103:"砖路镇",139001104:"明月店镇",139001105:"叮咛店镇",139001106:"东亭镇",139001107:"大辛庄镇",139001108:"东旺镇",139001109:"高蓬镇",139001111:"李亲顾镇",139001112:"子位镇",139001113:"开元镇",139001115:"周村镇",139001116:"息冢镇",139001203:"东留春乡",139001204:"号头庄回族乡",139001205:"杨家庄乡",139001206:"大鹿庄乡",139001208:"西城乡"},139002:{1390021:"辛集镇",1390022:"天宫营乡",1390025:"辛集经济开发区",139002101:"旧城镇",139002102:"张古庄镇",139002103:"位伯镇",139002104:"新垒头镇",139002105:"新城镇",139002106:"南智邱镇",139002107:"王口镇",139002201:"前营乡",139002202:"马庄乡",139002203:"和睦井乡",139002204:"田家庄乡",139002205:"中里厢乡",139002206:"小辛庄乡"},14e4:{140100:"太原市",140200:"大同市",140300:"阳泉市",140400:"长治市",140500:"晋城市",140600:"朔州市",140700:"晋中市",140800:"运城市",140900:"忻州市",141e3:"临汾市",141100:"吕梁市"},140100:{140105:"小店区",140106:"迎泽区",140107:"杏花岭区",140108:"尖草坪区",140109:"万柏林区",140110:"晋源区",140121:"清徐县",140122:"阳曲县",140123:"娄烦县",140181:"古交市"},140200:{140202:"城区",140203:"矿区",140211:"南郊区",140212:"新荣区",140221:"阳高县",140222:"天镇县",140223:"广灵县",140224:"灵丘县",140225:"浑源县",140226:"左云县",140227:"大同县"},140300:{140302:"城区",140303:"矿区",140311:"郊区",140321:"平定县",140322:"盂县"},140400:{140402:"城区",140411:"郊区",140421:"长治县",140423:"襄垣县",140424:"屯留县",140425:"平顺县",140426:"黎城县",140427:"壶关县",140428:"长子县",140429:"武乡县",140430:"沁县",140431:"沁源县",140481:"潞城市"},140500:{140502:"城区",140521:"沁水县",140522:"阳城县",140524:"陵川县",140525:"泽州县",140581:"高平市"},140600:{140602:"朔城区",140603:"平鲁区",140621:"山阴县",140622:"应县",140623:"右玉县",140624:"怀仁县"},140700:{140702:"榆次区",140721:"榆社县",140722:"左权县",140723:"和顺县",140724:"昔阳县",140725:"寿阳县",140726:"太谷县",140727:"祁县",140728:"平遥县",140729:"灵石县",140781:"介休市"},140800:{140802:"盐湖区",140821:"临猗县",140822:"万荣县",140823:"闻喜县",140824:"稷山县",140825:"新绛县",140826:"绛县",140827:"垣曲县",140828:"夏县",140829:"平陆县",140830:"芮城县",140881:"永济市",140882:"河津市"},140900:{140902:"忻府区",140921:"定襄县",140922:"五台县",140923:"代县",140924:"繁峙县",140925:"宁武县",140926:"静乐县",140927:"神池县",140928:"五寨县",140929:"岢岚县",140930:"河曲县",140931:"保德县",140932:"偏关县",140981:"原平市"},141e3:{141002:"尧都区",141021:"曲沃县",141022:"翼城县",141023:"襄汾县",141024:"洪洞县",141025:"古县",141026:"安泽县",141027:"浮山县",141028:"吉县",141029:"乡宁县",141030:"大宁县",141031:"隰县",141032:"永和县",141033:"蒲县",141034:"汾西县",141081:"侯马市",141082:"霍州市"},141100:{141102:"离石区",141121:"文水县",141122:"交城县",141123:"兴县",141124:"临县",141125:"柳林县",141126:"石楼县",141127:"岚县",141128:"方山县",141129:"中阳县",141130:"交口县",141181:"孝义市",141182:"汾阳市"},15e4:{150100:"呼和浩特市",150200:"包头市",150300:"乌海市",150400:"赤峰市",150500:"通辽市",150600:"鄂尔多斯市",150700:"呼伦贝尔市",150800:"巴彦淖尔市",150900:"乌兰察布市",152200:"兴安盟",152500:"锡林郭勒盟",152900:"阿拉善盟"},150100:{150102:"新城区",150103:"回民区",150104:"玉泉区",150105:"赛罕区",150121:"土默特左旗",150122:"托克托县",150123:"和林格尔县",150124:"清水河县",150125:"武川县"},150200:{150202:"东河区",150203:"昆都仑区",150204:"青山区",150205:"石拐区",150206:"白云鄂博矿区",150207:"九原区",150221:"土默特右旗",150222:"固阳县",150223:"达尔罕茂明安联合旗"},150300:{150302:"海勃湾区",150303:"海南区",150304:"乌达区"},150400:{150402:"红山区",150403:"元宝山区",150404:"松山区",150421:"阿鲁科尔沁旗",150422:"巴林左旗",150423:"巴林右旗",150424:"林西县",150425:"克什克腾旗",150426:"翁牛特旗",150428:"喀喇沁旗",150429:"宁城县",150430:"敖汉旗"},150500:{150502:"科尔沁区",150521:"科尔沁左翼中旗",150522:"科尔沁左翼后旗",150523:"开鲁县",150524:"库伦旗",150525:"奈曼旗",150526:"扎鲁特旗",150581:"霍林郭勒市"},150600:{150602:"东胜区",150603:"康巴什区",150621:"达拉特旗",150622:"准格尔旗",150623:"鄂托克前旗",150624:"鄂托克旗",150625:"杭锦旗",150626:"乌审旗",150627:"伊金霍洛旗"},150700:{150702:"海拉尔区",150703:"扎赉诺尔区",150721:"阿荣旗",150722:"莫力达瓦达斡尔族自治旗",150723:"鄂伦春自治旗",150724:"鄂温克族自治旗",150725:"陈巴尔虎旗",150726:"新巴尔虎左旗",150727:"新巴尔虎右旗",150781:"满洲里市",150782:"牙克石市",150783:"扎兰屯市",150784:"额尔古纳市",150785:"根河市"},150800:{150802:"临河区",150821:"五原县",150822:"磴口县",150823:"乌拉特前旗",150824:"乌拉特中旗",150825:"乌拉特后旗",150826:"杭锦后旗"},150900:{150902:"集宁区",150921:"卓资县",150922:"化德县",150923:"商都县",150924:"兴和县",150925:"凉城县",150926:"察哈尔右翼前旗",150927:"察哈尔右翼中旗",150928:"察哈尔右翼后旗",150929:"四子王旗",150981:"丰镇市"},152200:{152201:"乌兰浩特市",152202:"阿尔山市",152221:"科尔沁右翼前旗",152222:"科尔沁右翼中旗",152223:"扎赉特旗",152224:"突泉县"},152500:{152501:"二连浩特市",152502:"锡林浩特市",152522:"阿巴嘎旗",152523:"苏尼特左旗",152524:"苏尼特右旗",152525:"东乌珠穆沁旗",152526:"西乌珠穆沁旗",152527:"太仆寺旗",152528:"镶黄旗",152529:"正镶白旗",152530:"正蓝旗",152531:"多伦县"},152900:{152921:"阿拉善左旗",152922:"阿拉善右旗",152923:"额济纳旗"},21e4:{210100:"沈阳市",210200:"大连市",210300:"鞍山市",210400:"抚顺市",210500:"本溪市",210600:"丹东市",210700:"锦州市",210800:"营口市",210900:"阜新市",211e3:"辽阳市",211100:"盘锦市",211200:"铁岭市",211300:"朝阳市",211400:"葫芦岛市"},210100:{210102:"和平区",210103:"沈河区",210104:"大东区",210105:"皇姑区",210106:"铁西区",210111:"苏家屯区",210112:"浑南区",210113:"沈北新区",210114:"于洪区",210115:"辽中区",210123:"康平县",210124:"法库县",210181:"新民市"},210200:{210202:"中山区",210203:"西岗区",210204:"沙河口区",210211:"甘井子区",210212:"旅顺口区",210213:"金州区",210214:"普兰店区",210224:"长海县",210281:"瓦房店市",210283:"庄河市"},210300:{210302:"铁东区",210303:"铁西区",210304:"立山区",210311:"千山区",210321:"台安县",210323:"岫岩满族自治县",210381:"海城市"},210400:{210402:"新抚区",210403:"东洲区",210404:"望花区",210411:"顺城区",210421:"抚顺县",210422:"新宾满族自治县",210423:"清原满族自治县"},210500:{210502:"平山区",210503:"溪湖区",210504:"明山区",210505:"南芬区",210521:"本溪满族自治县",210522:"桓仁满族自治县"},210600:{210602:"元宝区",210603:"振兴区",210604:"振安区",210624:"宽甸满族自治县",210681:"东港市",210682:"凤城市"},210700:{210702:"古塔区",210703:"凌河区",210711:"太和区",210726:"黑山县",210727:"义县",210781:"凌海市",210782:"北镇市"},210800:{210802:"站前区",210803:"西市区",210804:"鲅鱼圈区",210811:"老边区",210881:"盖州市",210882:"大石桥市"},210900:{210902:"海州区",210903:"新邱区",210904:"太平区",210905:"清河门区",210911:"细河区",210921:"阜新蒙古族自治县",210922:"彰武县"},211e3:{211002:"白塔区",211003:"文圣区",211004:"宏伟区",211005:"弓长岭区",211011:"太子河区",211021:"辽阳县",211081:"灯塔市"},211100:{211102:"双台子区",211103:"兴隆台区",211104:"大洼区",211122:"盘山县"},211200:{211202:"银州区",211204:"清河区",211221:"铁岭县",211223:"西丰县",211224:"昌图县",211281:"调兵山市",211282:"开原市"},211300:{211302:"双塔区",211303:"龙城区",211321:"朝阳县",211322:"建平县",211324:"喀喇沁左翼蒙古族自治县",211381:"北票市",211382:"凌源市"},211400:{211402:"连山区",211403:"龙港区",211404:"南票区",211421:"绥中县",211422:"建昌县",211481:"兴城市"},22e4:{220100:"长春市",220200:"吉林市",220300:"四平市",220400:"辽源市",220500:"通化市",220600:"白山市",220700:"松原市",220800:"白城市",222400:"延边朝鲜族自治州"},220100:{220102:"南关区",220103:"宽城区",220104:"朝阳区",220105:"二道区",220106:"绿园区",220112:"双阳区",220113:"九台区",220122:"农安县",220182:"榆树市",220183:"德惠市"},220200:{220202:"昌邑区",220203:"龙潭区",220204:"船营区",220211:"丰满区",220221:"永吉县",220281:"蛟河市",220282:"桦甸市",220283:"舒兰市",220284:"磐石市"},220300:{220302:"铁西区",220303:"铁东区",220322:"梨树县",220323:"伊通满族自治县",220381:"公主岭市",220382:"双辽市"},220400:{220402:"龙山区",220403:"西安区",220421:"东丰县",220422:"东辽县"},220500:{220502:"东昌区",220503:"二道江区",220521:"通化县",220523:"辉南县",220524:"柳河县",220581:"梅河口市",220582:"集安市"},220600:{220602:"浑江区",220605:"江源区",220621:"抚松县",220622:"靖宇县",220623:"长白朝鲜族自治县",220681:"临江市"},220700:{220702:"宁江区",220721:"前郭尔罗斯蒙古族自治县",220722:"长岭县",220723:"乾安县",220781:"扶余市"},220800:{220802:"洮北区",220821:"镇赉县",220822:"通榆县",220881:"洮南市",220882:"大安市"},222400:{222401:"延吉市",222402:"图们市",222403:"敦化市",222404:"珲春市",222405:"龙井市",222406:"和龙市",222424:"汪清县",222426:"安图县"},23e4:{230100:"哈尔滨市",230200:"齐齐哈尔市",230300:"鸡西市",230400:"鹤岗市",230500:"双鸭山市",230600:"大庆市",230700:"伊春市",230800:"佳木斯市",230900:"七台河市",231e3:"牡丹江市",231100:"黑河市",231200:"绥化市",232700:"大兴安岭地区"},230100:{230102:"道里区",230103:"南岗区",230104:"道外区",230108:"平房区",230109:"松北区",230110:"香坊区",230111:"呼兰区",230112:"阿城区",230113:"双城区",230123:"依兰县",230124:"方正县",230125:"宾县",230126:"巴彦县",230127:"木兰县",230128:"通河县",230129:"延寿县",230183:"尚志市",230184:"五常市"},230200:{230202:"龙沙区",230203:"建华区",230204:"铁锋区",230205:"昂昂溪区",230206:"富拉尔基区",230207:"碾子山区",230208:"梅里斯达斡尔族区",230221:"龙江县",230223:"依安县",230224:"泰来县",230225:"甘南县",230227:"富裕县",230229:"克山县",230230:"克东县",230231:"拜泉县",230281:"讷河市"},230300:{230302:"鸡冠区",230303:"恒山区",230304:"滴道区",230305:"梨树区",230306:"城子河区",230307:"麻山区",230321:"鸡东县",230381:"虎林市",230382:"密山市"},230400:{230402:"向阳区",230403:"工农区",230404:"南山区",230405:"兴安区",230406:"东山区",230407:"兴山区",230421:"萝北县",230422:"绥滨县"},230500:{230502:"尖山区",230503:"岭东区",230505:"四方台区",230506:"宝山区",230521:"集贤县",230522:"友谊县",230523:"宝清县",230524:"饶河县"},230600:{230602:"萨尔图区",230603:"龙凤区",230604:"让胡路区",230605:"红岗区",230606:"大同区",230621:"肇州县",230622:"肇源县",230623:"林甸县",230624:"杜尔伯特蒙古族自治县"},230700:{230702:"伊春区",230703:"南岔区",230704:"友好区",230705:"西林区",230706:"翠峦区",230707:"新青区",230708:"美溪区",230709:"金山屯区",230710:"五营区",230711:"乌马河区",230712:"汤旺河区",230713:"带岭区",230714:"乌伊岭区",230715:"红星区",230716:"上甘岭区",230722:"嘉荫县",230781:"铁力市"},230800:{230803:"向阳区",230804:"前进区",230805:"东风区",230811:"郊区",230822:"桦南县",230826:"桦川县",230828:"汤原县",230881:"同江市",230882:"富锦市",230883:"抚远市"},230900:{230902:"新兴区",230903:"桃山区",230904:"茄子河区",230921:"勃利县"},231e3:{231002:"东安区",231003:"阳明区",231004:"爱民区",231005:"西安区",231025:"林口县",231081:"绥芬河市",231083:"海林市",231084:"宁安市",231085:"穆棱市",231086:"东宁市"},231100:{231102:"爱辉区",231121:"嫩江县",231123:"逊克县",231124:"孙吴县",231181:"北安市",231182:"五大连池市"},231200:{231202:"北林区",231221:"望奎县",231222:"兰西县",231223:"青冈县",231224:"庆安县",231225:"明水县",231226:"绥棱县",231281:"安达市",231282:"肇东市",231283:"海伦市"},232700:{232721:"呼玛县",232722:"塔河县",232723:"漠河县"},31e4:{310100:"市辖区"},310100:{310101:"黄浦区",310104:"徐汇区",310105:"长宁区",310106:"静安区",310107:"普陀区",310109:"虹口区",310110:"杨浦区",310112:"闵行区",310113:"宝山区",310114:"嘉定区",310115:"浦东新区",310116:"金山区",310117:"松江区",310118:"青浦区",310120:"奉贤区",310151:"崇明区"},32e4:{320100:"南京市",320200:"无锡市",320300:"徐州市",320400:"常州市",320500:"苏州市",320600:"南通市",320700:"连云港市",320800:"淮安市",320900:"盐城市",321e3:"扬州市",321100:"镇江市",321200:"泰州市",321300:"宿迁市"},320100:{320102:"玄武区",320104:"秦淮区",320105:"建邺区",320106:"鼓楼区",320111:"浦口区",320113:"栖霞区",320114:"雨花台区",320115:"江宁区",320116:"六合区",320117:"溧水区",320118:"高淳区"},320200:{320205:"锡山区",320206:"惠山区",320211:"滨湖区",320213:"梁溪区",320214:"新吴区",320281:"江阴市",320282:"宜兴市"},320300:{320302:"鼓楼区",320303:"云龙区",320305:"贾汪区",320311:"泉山区",320312:"铜山区",320321:"丰县",320322:"沛县",320324:"睢宁县",320381:"新沂市",320382:"邳州市"},320400:{320402:"天宁区",320404:"钟楼区",320411:"新北区",320412:"武进区",320413:"金坛区",320481:"溧阳市"},320500:{320505:"虎丘区",320506:"吴中区",320507:"相城区",320508:"姑苏区",320509:"吴江区",320581:"常熟市",320582:"张家港市",320583:"昆山市",320585:"太仓市"},320600:{320602:"崇川区",320611:"港闸区",320612:"通州区",320621:"海安县",320623:"如东县",320681:"启东市",320682:"如皋市",320684:"海门市"},320700:{320703:"连云区",320706:"海州区",320707:"赣榆区",320722:"东海县",320723:"灌云县",320724:"灌南县"},320800:{320803:"淮安区",320804:"淮阴区",320812:"清江浦区",320813:"洪泽区",320826:"涟水县",320830:"盱眙县",320831:"金湖县"},320900:{320902:"亭湖区",320903:"盐都区",320904:"大丰区",320921:"响水县",320922:"滨海县",320923:"阜宁县",320924:"射阳县",320925:"建湖县",320981:"东台市"},321e3:{321002:"广陵区",321003:"邗江区",321012:"江都区",321023:"宝应县",321081:"仪征市",321084:"高邮市"},321100:{321102:"京口区",321111:"润州区",321112:"丹徒区",321181:"丹阳市",321182:"扬中市",321183:"句容市"},321200:{321202:"海陵区",321203:"高港区",321204:"姜堰区",321281:"兴化市",321282:"靖江市",321283:"泰兴市"},321300:{321302:"宿城区",321311:"宿豫区",321322:"沭阳县",321323:"泗阳县",321324:"泗洪县"},33e4:{330100:"杭州市",330200:"宁波市",330300:"温州市",330400:"嘉兴市",330500:"湖州市",330600:"绍兴市",330700:"金华市",330800:"衢州市",330900:"舟山市",331e3:"台州市",331100:"丽水市"},330100:{330102:"上城区",330103:"下城区",330104:"江干区",330105:"拱墅区",330106:"西湖区",330108:"滨江区",330109:"萧山区",330110:"余杭区",330111:"富阳区",330122:"桐庐县",330127:"淳安县",330182:"建德市",330185:"临安市"},330200:{330203:"海曙区",330204:"江东区",330205:"江北区",330206:"北仑区",330211:"镇海区",330212:"鄞州区",330225:"象山县",330226:"宁海县",330281:"余姚市",330282:"慈溪市",330283:"奉化市"},330300:{330302:"鹿城区",330303:"龙湾区",330304:"瓯海区",330305:"洞头区",330324:"永嘉县",330326:"平阳县",330327:"苍南县",330328:"文成县",330329:"泰顺县",330381:"瑞安市",330382:"乐清市"},330400:{330402:"南湖区",330411:"秀洲区",330421:"嘉善县",330424:"海盐县",330481:"海宁市",330482:"平湖市",330483:"桐乡市"},330500:{330502:"吴兴区",330503:"南浔区",330521:"德清县",330522:"长兴县",330523:"安吉县"},330600:{330602:"越城区",330603:"柯桥区",330604:"上虞区",330624:"新昌县",330681:"诸暨市",330683:"嵊州市"},330700:{330702:"婺城区",330703:"金东区",330723:"武义县",330726:"浦江县",330727:"磐安县",330781:"兰溪市",330782:"义乌市",330783:"东阳市",330784:"永康市"},330800:{330802:"柯城区",330803:"衢江区",330822:"常山县",330824:"开化县",330825:"龙游县",330881:"江山市"},330900:{330902:"定海区",330903:"普陀区",330921:"岱山县",330922:"嵊泗县"},331e3:{331002:"椒江区",331003:"黄岩区",331004:"路桥区",331021:"玉环县",331022:"三门县",331023:"天台县",331024:"仙居县",331081:"温岭市",331082:"临海市"},331100:{331102:"莲都区",331121:"青田县",331122:"缙云县",331123:"遂昌县",331124:"松阳县",331125:"云和县",331126:"庆元县",331127:"景宁畲族自治县",331181:"龙泉市"},34e4:{340100:"合肥市",340200:"芜湖市",340300:"蚌埠市",340400:"淮南市",340500:"马鞍山市",340600:"淮北市",340700:"铜陵市",340800:"安庆市",341e3:"黄山市",341100:"滁州市",341200:"阜阳市",341300:"宿州市",341500:"六安市",341600:"亳州市",341700:"池州市",341800:"宣城市"},340100:{340102:"瑶海区",340103:"庐阳区",340104:"蜀山区",340111:"包河区",340121:"长丰县",340122:"肥东县",340123:"肥西县",340124:"庐江县",340181:"巢湖市"},340200:{340202:"镜湖区",340203:"弋江区",340207:"鸠江区",340208:"三山区",340221:"芜湖县",340222:"繁昌县",340223:"南陵县",340225:"无为县"},340300:{340302:"龙子湖区",340303:"蚌山区",340304:"禹会区",340311:"淮上区",340321:"怀远县",340322:"五河县",340323:"固镇县"},340400:{340402:"大通区",340403:"田家庵区",340404:"谢家集区",340405:"八公山区",340406:"潘集区",340421:"凤台县",340422:"寿县"},340500:{340503:"花山区",340504:"雨山区",340506:"博望区",340521:"当涂县",340522:"含山县",340523:"和县"},340600:{340602:"杜集区",340603:"相山区",340604:"烈山区",340621:"濉溪县"},340700:{340705:"铜官区",340706:"义安区",340711:"郊区",340722:"枞阳县"},340800:{340802:"迎江区",340803:"大观区",340811:"宜秀区",340822:"怀宁县",340824:"潜山县",340825:"太湖县",340826:"宿松县",340827:"望江县",340828:"岳西县",340881:"桐城市"},341e3:{341002:"屯溪区",341003:"黄山区",341004:"徽州区",341021:"歙县",341022:"休宁县",341023:"黟县",341024:"祁门县"},341100:{341102:"琅琊区",341103:"南谯区",341122:"来安县",341124:"全椒县",341125:"定远县",341126:"凤阳县",341181:"天长市",341182:"明光市"},341200:{341202:"颍州区",341203:"颍东区",341204:"颍泉区",341221:"临泉县",341222:"太和县",341225:"阜南县",341226:"颍上县",341282:"界首市"},341300:{341302:"埇桥区",341321:"砀山县",341322:"萧县",341323:"灵璧县",341324:"泗县"},341500:{341502:"金安区",341503:"裕安区",341504:"叶集区",341522:"霍邱县",341523:"舒城县",341524:"金寨县",341525:"霍山县"},341600:{341602:"谯城区",341621:"涡阳县",341622:"蒙城县",341623:"利辛县"},341700:{341702:"贵池区",341721:"东至县",341722:"石台县",341723:"青阳县"},341800:{341802:"宣州区",341821:"郎溪县",341822:"广德县",341823:"泾县",341824:"绩溪县",341825:"旌德县",341881:"宁国市"},35e4:{350100:"福州市",350200:"厦门市",350300:"莆田市",350400:"三明市",350500:"泉州市",350600:"漳州市",350700:"南平市",350800:"龙岩市",350900:"宁德市"},350100:{350102:"鼓楼区",350103:"台江区",350104:"仓山区",350105:"马尾区",350111:"晋安区",350121:"闽侯县",350122:"连江县",350123:"罗源县",350124:"闽清县",350125:"永泰县",350128:"平潭县",350181:"福清市",350182:"长乐市"},350200:{350203:"思明区",350205:"海沧区",350206:"湖里区",350211:"集美区",350212:"同安区",350213:"翔安区"},350300:{350302:"城厢区",350303:"涵江区",350304:"荔城区",350305:"秀屿区",350322:"仙游县"},350400:{350402:"梅列区",350403:"三元区",350421:"明溪县",350423:"清流县",350424:"宁化县",350425:"大田县",350426:"尤溪县",350427:"沙县",350428:"将乐县",350429:"泰宁县",350430:"建宁县",350481:"永安市"},350500:{350502:"鲤城区",350503:"丰泽区",350504:"洛江区",350505:"泉港区",350521:"惠安县",350524:"安溪县",350525:"永春县",350526:"德化县",350527:"金门县",350581:"石狮市",350582:"晋江市",350583:"南安市"},350600:{350602:"芗城区",350603:"龙文区",350622:"云霄县",350623:"漳浦县",350624:"诏安县",350625:"长泰县",350626:"东山县",350627:"南靖县",350628:"平和县",350629:"华安县",350681:"龙海市"},350700:{350702:"延平区",350703:"建阳区",350721:"顺昌县",350722:"浦城县",350723:"光泽县",350724:"松溪县",350725:"政和县",350781:"邵武市",350782:"武夷山市",350783:"建瓯市"},350800:{350802:"新罗区",350803:"永定区",350821:"长汀县",350823:"上杭县",350824:"武平县",350825:"连城县",350881:"漳平市"},350900:{350902:"蕉城区",350921:"霞浦县",350922:"古田县",350923:"屏南县",350924:"寿宁县",350925:"周宁县",350926:"柘荣县",350981:"福安市",350982:"福鼎市"},36e4:{360100:"南昌市",360200:"景德镇市",360300:"萍乡市",360400:"九江市",360500:"新余市",360600:"鹰潭市",360700:"赣州市",360800:"吉安市",360900:"宜春市",361e3:"抚州市",361100:"上饶市"},360100:{360102:"东湖区",360103:"西湖区",360104:"青云谱区",360105:"湾里区",360111:"青山湖区",360112:"新建区",360121:"南昌县",360123:"安义县",360124:"进贤县"},360200:{360202:"昌江区",360203:"珠山区",360222:"浮梁县",360281:"乐平市"},360300:{360302:"安源区",360313:"湘东区",360321:"莲花县",360322:"上栗县",360323:"芦溪县"},360400:{360402:"濂溪区",360403:"浔阳区",360421:"九江县",360423:"武宁县",360424:"修水县",360425:"永修县",360426:"德安县",360428:"都昌县",360429:"湖口县",360430:"彭泽县",360481:"瑞昌市",360482:"共青城市",360483:"庐山市"},360500:{360502:"渝水区",360521:"分宜县"},360600:{360602:"月湖区",360622:"余江县",360681:"贵溪市"},360700:{360702:"章贡区",360703:"南康区",360721:"赣县",360722:"信丰县",360723:"大余县",360724:"上犹县",360725:"崇义县",360726:"安远县",360727:"龙南县",360728:"定南县",360729:"全南县",360730:"宁都县",360731:"于都县",360732:"兴国县",360733:"会昌县",360734:"寻乌县",360735:"石城县",360781:"瑞金市"},360800:{360802:"吉州区",360803:"青原区",360821:"吉安县",360822:"吉水县",360823:"峡江县",360824:"新干县",360825:"永丰县",360826:"泰和县",360827:"遂川县",360828:"万安县",360829:"安福县",360830:"永新县",360881:"井冈山市"},360900:{360902:"袁州区",360921:"奉新县",360922:"万载县",360923:"上高县",360924:"宜丰县",360925:"靖安县",360926:"铜鼓县",360981:"丰城市",360982:"樟树市",360983:"高安市"},361e3:{361002:"临川区",361021:"南城县",361022:"黎川县",361023:"南丰县",361024:"崇仁县",361025:"乐安县",361026:"宜黄县",361027:"金溪县",361028:"资溪县",361029:"东乡县",361030:"广昌县"},361100:{361102:"信州区",361103:"广丰区",361121:"上饶县",361123:"玉山县",361124:"铅山县",361125:"横峰县",361126:"弋阳县",361127:"余干县",361128:"鄱阳县",361129:"万年县",361130:"婺源县",361181:"德兴市"},37e4:{370100:"济南市",370200:"青岛市",370300:"淄博市",370400:"枣庄市",370500:"东营市",370600:"烟台市",370700:"潍坊市",370800:"济宁市",370900:"泰安市",371e3:"威海市",371100:"日照市",371200:"莱芜市",371300:"临沂市",371400:"德州市",371500:"聊城市",371600:"滨州市",371700:"菏泽市"},370100:{370102:"历下区",370103:"市中区",370104:"槐荫区",370105:"天桥区",370112:"历城区",370113:"长清区",370124:"平阴县",370125:"济阳县",370126:"商河县",370181:"章丘市"},370200:{370202:"市南区",370203:"市北区",370211:"黄岛区",370212:"崂山区",370213:"李沧区",370214:"城阳区",370281:"胶州市",370282:"即墨市",370283:"平度市",370285:"莱西市"},370300:{370302:"淄川区",370303:"张店区",370304:"博山区",370305:"临淄区",370306:"周村区",370321:"桓台县",370322:"高青县",370323:"沂源县"},370400:{370402:"市中区",370403:"薛城区",370404:"峄城区",370405:"台儿庄区",370406:"山亭区",370481:"滕州市"},370500:{370502:"东营区",370503:"河口区",370505:"垦利区",370522:"利津县",370523:"广饶县"},370600:{370602:"芝罘区",370611:"福山区",370612:"牟平区",370613:"莱山区",370634:"长岛县",370681:"龙口市",370682:"莱阳市",370683:"莱州市",370684:"蓬莱市",370685:"招远市",370686:"栖霞市",370687:"海阳市"},370700:{370702:"潍城区",370703:"寒亭区",370704:"坊子区",370705:"奎文区",370724:"临朐县",370725:"昌乐县",370781:"青州市",370782:"诸城市",370783:"寿光市",370784:"安丘市",370785:"高密市",370786:"昌邑市"},370800:{370811:"任城区",370812:"兖州区",370826:"微山县",370827:"鱼台县",370828:"金乡县",370829:"嘉祥县",370830:"汶上县",370831:"泗水县",370832:"梁山县",370881:"曲阜市",370883:"邹城市"},370900:{370902:"泰山区",370911:"岱岳区",370921:"宁阳县",370923:"东平县",370982:"新泰市",370983:"肥城市"},371e3:{371002:"环翠区",371003:"文登区",371082:"荣成市",371083:"乳山市"},371100:{371102:"东港区",371103:"岚山区",371121:"五莲县",371122:"莒县"},371200:{371202:"莱城区",371203:"钢城区"},371300:{371302:"兰山区",371311:"罗庄区",371312:"河东区",371321:"沂南县",371322:"郯城县",371323:"沂水县",371324:"兰陵县",371325:"费县",371326:"平邑县",371327:"莒南县",371328:"蒙阴县",371329:"临沭县"},371400:{371402:"德城区",371403:"陵城区",371422:"宁津县",371423:"庆云县",371424:"临邑县",371425:"齐河县",371426:"平原县",371427:"夏津县",371428:"武城县",371481:"乐陵市",371482:"禹城市"},371500:{371502:"东昌府区",371521:"阳谷县",371522:"莘县",371523:"茌平县",371524:"东阿县",371525:"冠县",371526:"高唐县",371581:"临清市"},371600:{371602:"滨城区",371603:"沾化区",371621:"惠民县",371622:"阳信县",371623:"无棣县",371625:"博兴县",371626:"邹平县"},371700:{371702:"牡丹区",371703:"定陶区",371721:"曹县",371722:"单县",371723:"成武县",371724:"巨野县",371725:"郓城县",371726:"鄄城县",371728:"东明县"},41e4:{410100:"郑州市",410200:"开封市",410300:"洛阳市",410400:"平顶山市",410500:"安阳市",410600:"鹤壁市",410700:"新乡市",410800:"焦作市",410900:"濮阳市",411e3:"许昌市",411100:"漯河市",411200:"三门峡市",411300:"南阳市",411400:"商丘市",411500:"信阳市",411600:"周口市",411700:"驻马店市",419001:"济源市"},410100:{410102:"中原区",410103:"二七区",410104:"管城回族区",410105:"金水区",410106:"上街区",410108:"惠济区",410122:"中牟县",410181:"巩义市",410182:"荥阳市",410183:"新密市",410184:"新郑市",410185:"登封市"},410200:{410202:"龙亭区",410203:"顺河回族区",410204:"鼓楼区",410205:"禹王台区",410211:"金明区",410212:"祥符区",410221:"杞县",410222:"通许县",410223:"尉氏县",410225:"兰考县"},410300:{410302:"老城区",410303:"西工区",410304:"瀍河回族区",410305:"涧西区",410306:"吉利区",410311:"洛龙区",410322:"孟津县",410323:"新安县",410324:"栾川县",410325:"嵩县",410326:"汝阳县",410327:"宜阳县",410328:"洛宁县",410329:"伊川县",410381:"偃师市"},410400:{410402:"新华区",410403:"卫东区",410404:"石龙区",410411:"湛河区",410421:"宝丰县",410422:"叶县",410423:"鲁山县",410425:"郏县",410481:"舞钢市",410482:"汝州市"},410500:{410502:"文峰区",410503:"北关区",410505:"殷都区",410506:"龙安区",410522:"安阳县",410523:"汤阴县",410526:"滑县",410527:"内黄县",410581:"林州市"},410600:{410602:"鹤山区",410603:"山城区",410611:"淇滨区",410621:"浚县",410622:"淇县"},410700:{410702:"红旗区",410703:"卫滨区",410704:"凤泉区",410711:"牧野区",410721:"新乡县",410724:"获嘉县",410725:"原阳县",410726:"延津县",410727:"封丘县",410728:"长垣县",410781:"卫辉市",410782:"辉县市"},410800:{410802:"解放区",410803:"中站区",410804:"马村区",410811:"山阳区",410821:"修武县",410822:"博爱县",410823:"武陟县",410825:"温县",410882:"沁阳市",410883:"孟州市"},410900:{410902:"华龙区",410922:"清丰县",410923:"南乐县",410926:"范县",410927:"台前县",410928:"濮阳县"},411e3:{411002:"魏都区",411023:"许昌县",411024:"鄢陵县",411025:"襄城县",411081:"禹州市",411082:"长葛市"},411100:{411102:"源汇区",411103:"郾城区",411104:"召陵区",411121:"舞阳县",411122:"临颍县"},411200:{411202:"湖滨区",411203:"陕州区",411221:"渑池县",411224:"卢氏县",411281:"义马市",411282:"灵宝市"},411300:{411302:"宛城区",411303:"卧龙区",411321:"南召县",411322:"方城县",411323:"西峡县",411324:"镇平县",411325:"内乡县",411326:"淅川县",411327:"社旗县",411328:"唐河县",411329:"新野县",411330:"桐柏县",411381:"邓州市"},411400:{411402:"梁园区",411403:"睢阳区",411421:"民权县",411422:"睢县",411423:"宁陵县",411424:"柘城县",411425:"虞城县",411426:"夏邑县",411481:"永城市"},411500:{411502:"浉河区",411503:"平桥区",411521:"罗山县",411522:"光山县",411523:"新县",411524:"商城县",411525:"固始县",411526:"潢川县",411527:"淮滨县",411528:"息县"},411600:{411602:"川汇区",411621:"扶沟县",411622:"西华县",411623:"商水县",411624:"沈丘县",411625:"郸城县",411626:"淮阳县",411627:"太康县",411628:"鹿邑县",411681:"项城市"},411700:{411702:"驿城区",411721:"西平县",411722:"上蔡县",411723:"平舆县",411724:"正阳县",411725:"确山县",411726:"泌阳县",411727:"汝南县",411728:"遂平县",411729:"新蔡县"},419001:{4190011:"济源市克井镇",41900111:"济源市下冶镇",419001001:"济源市沁园街道",419001002:"济源市济水街道",419001003:"济源市北海街道",419001004:"济源市天坛街道",419001005:"济源市玉泉街道",419001101:"济源市五龙口镇",419001102:"济源市轵城镇",419001103:"济源市承留镇",419001104:"济源市邵原镇",419001105:"济源市坡头镇",419001106:"济源市梨林镇",419001107:"济源市大峪镇",419001108:"济源市思礼镇",419001109:"济源市王屋镇"},42e4:{420100:"武汉市",420200:"黄石市",420300:"十堰市",420500:"宜昌市",420600:"襄阳市",420700:"鄂州市",420800:"荆门市",420900:"孝感市",421e3:"荆州市",421100:"黄冈市",421200:"咸宁市",421300:"随州市",422800:"恩施土家族苗族自治州",429004:"仙桃市",429005:"潜江市",429006:"天门市",429021:"神农架林区"},420100:{420102:"江岸区",420103:"江汉区",420104:"硚口区",420105:"汉阳区",420106:"武昌区",420107:"青山区",420111:"洪山区",420112:"东西湖区",420113:"汉南区",420114:"蔡甸区",420115:"江夏区",420116:"黄陂区",420117:"新洲区"},420200:{420202:"黄石港区",420203:"西塞山区",420204:"下陆区",420205:"铁山区",420222:"阳新县",420281:"大冶市"},420300:{420302:"茅箭区",420303:"张湾区",420304:"郧阳区",420322:"郧西县",420323:"竹山县",420324:"竹溪县",420325:"房县",420381:"丹江口市"},420500:{420502:"西陵区",420503:"伍家岗区",420504:"点军区",420505:"猇亭区",420506:"夷陵区",420525:"远安县",420526:"兴山县",420527:"秭归县",420528:"长阳土家族自治县",420529:"五峰土家族自治县",420581:"宜都市",420582:"当阳市",420583:"枝江市"},420600:{420602:"襄城区",420606:"樊城区",420607:"襄州区",420624:"南漳县",420625:"谷城县",420626:"保康县",420682:"老河口市",420683:"枣阳市",420684:"宜城市"},420700:{420702:"梁子湖区",420703:"华容区",420704:"鄂城区"},420800:{420802:"东宝区",420804:"掇刀区",420821:"京山县",420822:"沙洋县",420881:"钟祥市"},420900:{420902:"孝南区",420921:"孝昌县",420922:"大悟县",420923:"云梦县",420981:"应城市",420982:"安陆市",420984:"汉川市"},421e3:{421002:"沙市区",421003:"荆州区",421022:"公安县",421023:"监利县",421024:"江陵县",421081:"石首市",421083:"洪湖市",421087:"松滋市"},421100:{421102:"黄州区",421121:"团风县",421122:"红安县",421123:"罗田县",421124:"英山县",421125:"浠水县",421126:"蕲春县",421127:"黄梅县",421181:"麻城市",421182:"武穴市"},421200:{421202:"咸安区",421221:"嘉鱼县",421222:"通城县",421223:"崇阳县",421224:"通山县",421281:"赤壁市"},421300:{421303:"曾都区",421321:"随县",421381:"广水市"},422800:{422801:"恩施市",422802:"利川市",422822:"建始县",422823:"巴东县",422825:"宣恩县",422826:"咸丰县",422827:"来凤县",422828:"鹤峰县"},429004:{4290041:"郑场镇",4290044:"工业园区",42900411:"张沟镇",429004001:"沙嘴街道",429004002:"干河街道",429004003:"龙华山",429004101:"毛嘴镇",429004102:"豆河镇",429004103:"三伏潭镇",429004104:"胡场镇",429004105:"长倘口镇",429004106:"西流河镇",429004107:"沙湖镇",429004108:"杨林尾镇",429004109:"彭场镇",429004111:"郭河镇",429004112:"沔城回族镇",429004113:"通海口镇",429004114:"陈场镇",429004401:"九合垸原种场",429004402:"沙湖原种场",429004404:"五湖渔场",429004405:"赵西垸林场",429004407:"畜禽良种场",429004408:"排湖风景区"},429005:{4290051:"竹根滩镇",4290054:"江汉石油管理局",42900545:"周矶管理区",429005001:"园林",429005002:"杨市",429005003:"周矶",429005004:"广华",429005005:"泰丰",429005006:"高场",429005101:"渔洋镇",429005102:"王场镇",429005103:"高石碑镇",429005104:"熊口镇",429005105:"老新镇",429005106:"浩口镇",429005107:"积玉口镇",429005108:"张金镇",429005109:"龙湾镇",429005401:"潜江经济开发区",429005451:"后湖管理区",429005452:"熊口管理区",429005453:"总口管理区",429005454:"白鹭湖管理区",429005455:"运粮湖管理区",429005457:"浩口原种场"},429006:{4290061:"多宝镇",42900611:"麻洋镇",42900612:"石河镇",42900645:"蒋湖农场",429006001:"竟陵街道",429006002:"侨乡街道开发区",429006003:"杨林街道",429006101:"拖市镇",429006102:"张港镇",429006103:"蒋场镇",429006104:"汪场镇",429006105:"渔薪镇",429006106:"黄潭镇",429006107:"岳口镇",429006108:"横林镇",429006109:"彭市镇",429006111:"多祥镇",429006112:"干驿镇",429006113:"马湾镇",429006114:"卢市镇",429006115:"小板镇",429006116:"九真镇",429006118:"皂市镇",429006119:"胡市镇",429006121:"佛子山镇",429006201:"净潭乡",429006451:"白茅湖农场",429006452:"沉湖管委会"},429021:{4290211:"松柏镇",4290212:"宋洛乡",429021101:"阳日镇",429021102:"木鱼镇",429021103:"红坪镇",429021104:"新华镇",429021105:"九湖镇",429021202:"下谷坪土家族乡"},43e4:{430100:"长沙市",430200:"株洲市",430300:"湘潭市",430400:"衡阳市",430500:"邵阳市",430600:"岳阳市",430700:"常德市",430800:"张家界市",430900:"益阳市",431e3:"郴州市",431100:"永州市",431200:"怀化市",431300:"娄底市",433100:"湘西土家族苗族自治州"},430100:{430102:"芙蓉区",430103:"天心区",430104:"岳麓区",430105:"开福区",430111:"雨花区",430112:"望城区",430121:"长沙县",430124:"宁乡县",430181:"浏阳市"},430200:{430202:"荷塘区",430203:"芦淞区",430204:"石峰区",430211:"天元区",430221:"株洲县",430223:"攸县",430224:"茶陵县",430225:"炎陵县",430281:"醴陵市"},430300:{430302:"雨湖区",430304:"岳塘区",430321:"湘潭县",430381:"湘乡市",430382:"韶山市"},430400:{430405:"珠晖区",430406:"雁峰区",430407:"石鼓区",430408:"蒸湘区",430412:"南岳区",430421:"衡阳县",430422:"衡南县",430423:"衡山县",430424:"衡东县",430426:"祁东县",430481:"耒阳市",430482:"常宁市"},430500:{430502:"双清区",430503:"大祥区",430511:"北塔区",430521:"邵东县",430522:"新邵县",430523:"邵阳县",430524:"隆回县",430525:"洞口县",430527:"绥宁县",430528:"新宁县",430529:"城步苗族自治县",430581:"武冈市"},430600:{430602:"岳阳楼区",430603:"云溪区",430611:"君山区",430621:"岳阳县",430623:"华容县",430624:"湘阴县",430626:"平江县",430681:"汨罗市",430682:"临湘市"},430700:{430702:"武陵区",430703:"鼎城区",430721:"安乡县",430722:"汉寿县",430723:"澧县",430724:"临澧县",430725:"桃源县",430726:"石门县",430781:"津市市"},430800:{430802:"永定区",430811:"武陵源区",430821:"慈利县",430822:"桑植县"},430900:{430902:"资阳区",430903:"赫山区",430921:"南县",430922:"桃江县",430923:"安化县",430981:"沅江市"},431e3:{431002:"北湖区",431003:"苏仙区",431021:"桂阳县",431022:"宜章县",431023:"永兴县",431024:"嘉禾县",431025:"临武县",431026:"汝城县",431027:"桂东县",431028:"安仁县",431081:"资兴市"},431100:{431102:"零陵区",431103:"冷水滩区",431121:"祁阳县",431122:"东安县",431123:"双牌县",431124:"道县",431125:"江永县",431126:"宁远县",431127:"蓝山县",431128:"新田县",431129:"江华瑶族自治县"},431200:{431202:"鹤城区",431221:"中方县",431222:"沅陵县",431223:"辰溪县",431224:"溆浦县",431225:"会同县",431226:"麻阳苗族自治县",431227:"新晃侗族自治县",431228:"芷江侗族自治县",431229:"靖州苗族侗族自治县",431230:"通道侗族自治县",431281:"洪江市"},431300:{431302:"娄星区",431321:"双峰县",431322:"新化县",431381:"冷水江市",431382:"涟源市"},433100:{433101:"吉首市",433122:"泸溪县",433123:"凤凰县",433124:"花垣县",433125:"保靖县",433126:"古丈县",433127:"永顺县",433130:"龙山县"},44e4:{440100:"广州市",440200:"韶关市",440300:"深圳市",440400:"珠海市",440500:"汕头市",440600:"佛山市",440700:"江门市",440800:"湛江市",440900:"茂名市",441200:"肇庆市",441300:"惠州市",441400:"梅州市",441500:"汕尾市",441600:"河源市",441700:"阳江市",441800:"清远市",441900:"东莞市",442e3:"中山市",445100:"潮州市",445200:"揭阳市",445300:"云浮市"},440100:{440103:"荔湾区",440104:"越秀区",440105:"海珠区",440106:"天河区",440111:"白云区",440112:"黄埔区",440113:"番禺区",440114:"花都区",440115:"南沙区",440117:"从化区",440118:"增城区"},440200:{440203:"武江区",440204:"浈江区",440205:"曲江区",440222:"始兴县",440224:"仁化县",440229:"翁源县",440232:"乳源瑶族自治县",440233:"新丰县",440281:"乐昌市",440282:"南雄市"},440300:{440303:"罗湖区",440304:"福田区",440305:"南山区",440306:"宝安区",440307:"龙岗区",440308:"盐田区"},440400:{440402:"香洲区",440403:"斗门区",440404:"金湾区"},440500:{440507:"龙湖区",440511:"金平区",440512:"濠江区",440513:"潮阳区",440514:"潮南区",440515:"澄海区",440523:"南澳县"},440600:{440604:"禅城区",440605:"南海区",440606:"顺德区",440607:"三水区",440608:"高明区"},440700:{440703:"蓬江区",440704:"江海区",440705:"新会区",440781:"台山市",440783:"开平市",440784:"鹤山市",440785:"恩平市"},440800:{440802:"赤坎区",440803:"霞山区",440804:"坡头区",440811:"麻章区",440823:"遂溪县",440825:"徐闻县",440881:"廉江市",440882:"雷州市",440883:"吴川市"},440900:{440902:"茂南区",440904:"电白区",440981:"高州市",440982:"化州市",440983:"信宜市"},441200:{441202:"端州区",441203:"鼎湖区",441204:"高要区",441223:"广宁县",441224:"怀集县",441225:"封开县",441226:"德庆县",441284:"四会市"},441300:{441302:"惠城区",441303:"惠阳区",441322:"博罗县",441323:"惠东县",441324:"龙门县"},441400:{441402:"梅江区",441403:"梅县区",441422:"大埔县",441423:"丰顺县",441424:"五华县",441426:"平远县",441427:"蕉岭县",441481:"兴宁市"},441500:{441502:"城区",441521:"海丰县",441523:"陆河县",441581:"陆丰市"},441600:{441602:"源城区",441621:"紫金县",441622:"龙川县",441623:"连平县",441624:"和平县",441625:"东源县"},441700:{441702:"江城区",441704:"阳东区",441721:"阳西县",441781:"阳春市"},441800:{441802:"清城区",441803:"清新区",441821:"佛冈县",441823:"阳山县",441825:"连山壮族瑶族自治县",441826:"连南瑶族自治县",441881:"英德市",441882:"连州市"},441900:{441900003:"东城街道",441900004:"南城街道",441900005:"万江街道",441900006:"莞城街道",441900101:"石碣镇",441900102:"石龙镇",441900103:"茶山镇",441900104:"石排镇",441900105:"企石镇",441900106:"横沥镇",441900107:"桥头镇",441900108:"谢岗镇",441900109:"东坑镇",441900110:"常平镇",441900111:"寮步镇",441900112:"樟木头镇",441900113:"大朗镇",441900114:"黄江镇",441900115:"清溪镇",441900116:"塘厦镇",441900117:"凤岗镇",441900118:"大岭山镇",441900119:"长安镇",441900121:"虎门镇",441900122:"厚街镇",441900123:"沙田镇",441900124:"道滘镇",441900125:"洪梅镇",441900126:"麻涌镇",441900127:"望牛墩镇",441900128:"中堂镇",441900129:"高埗镇",441900401:"松山湖管委会",441900402:"虎门港管委会",441900403:"东莞生态园"},442e3:{442000001:"石岐区街道",442000002:"东区街道",442000003:"火炬开发区街道",442000004:"西区街道",442000005:"南区街道",442000006:"五桂山街道",442000100:"小榄镇",442000101:"黄圃镇",442000102:"民众镇",442000103:"东凤镇",442000104:"东升镇",442000105:"古镇镇",442000106:"沙溪镇",442000107:"坦洲镇",442000108:"港口镇",442000109:"三角镇",442000110:"横栏镇",442000111:"南头镇",442000112:"阜沙镇",442000113:"南朗镇",442000114:"三乡镇",442000115:"板芙镇",442000116:"大涌镇",442000117:"神湾镇"},445100:{445102:"湘桥区",445103:"潮安区",445122:"饶平县"},445200:{445202:"榕城区",445203:"揭东区",445222:"揭西县",445224:"惠来县",445281:"普宁市"},445300:{445302:"云城区",445303:"云安区",445321:"新兴县",445322:"郁南县",445381:"罗定市"},45e4:{450100:"南宁市",450200:"柳州市",450300:"桂林市",450400:"梧州市",450500:"北海市",450600:"防城港市",450700:"钦州市",450800:"贵港市",450900:"玉林市",451e3:"百色市",451100:"贺州市",451200:"河池市",451300:"来宾市",451400:"崇左市"},450100:{450102:"兴宁区",450103:"青秀区",450105:"江南区",450107:"西乡塘区",450108:"良庆区",450109:"邕宁区",450110:"武鸣区",450123:"隆安县",450124:"马山县",450125:"上林县",450126:"宾阳县",450127:"横县"},450200:{450202:"城中区",450203:"鱼峰区",450204:"柳南区",450205:"柳北区",450206:"柳江区",450222:"柳城县",450223:"鹿寨县",450224:"融安县",450225:"融水苗族自治县",450226:"三江侗族自治县"},450300:{450302:"秀峰区",450303:"叠彩区",450304:"象山区",450305:"七星区",450311:"雁山区",450312:"临桂区",450321:"阳朔县",450323:"灵川县",450324:"全州县",450325:"兴安县",450326:"永福县",450327:"灌阳县",450328:"龙胜各族自治县",450329:"资源县",450330:"平乐县",450331:"荔浦县",450332:"恭城瑶族自治县"},450400:{450403:"万秀区",450405:"长洲区",450406:"龙圩区",450421:"苍梧县",450422:"藤县",450423:"蒙山县",450481:"岑溪市"},450500:{450502:"海城区",450503:"银海区",450512:"铁山港区",450521:"合浦县"},450600:{450602:"港口区",450603:"防城区",450621:"上思县",450681:"东兴市"},450700:{450702:"钦南区",450703:"钦北区",450721:"灵山县",450722:"浦北县"},450800:{450802:"港北区",450803:"港南区",450804:"覃塘区",450821:"平南县",450881:"桂平市"},450900:{450902:"玉州区",450903:"福绵区",450921:"容县",450922:"陆川县",450923:"博白县",450924:"兴业县",450981:"北流市"},451e3:{451002:"右江区",451021:"田阳县",451022:"田东县",451023:"平果县",451024:"德保县",451026:"那坡县",451027:"凌云县",451028:"乐业县",451029:"田林县",451030:"西林县",451031:"隆林各族自治县",451081:"靖西市"},451100:{451102:"八步区",451103:"平桂区",451121:"昭平县",451122:"钟山县",451123:"富川瑶族自治县"},451200:{451202:"金城江区",451221:"南丹县",451222:"天峨县",451223:"凤山县",451224:"东兰县",451225:"罗城仫佬族自治县",451226:"环江毛南族自治县",451227:"巴马瑶族自治县",451228:"都安瑶族自治县",451229:"大化瑶族自治县",451281:"宜州市"},451300:{451302:"兴宾区",451321:"忻城县",451322:"象州县",451323:"武宣县",451324:"金秀瑶族自治县",451381:"合山市"},451400:{451402:"江州区",451421:"扶绥县",451422:"宁明县",451423:"龙州县",451424:"大新县",451425:"天等县",451481:"凭祥市"},46e4:{460100:"海口市",460200:"三亚市",460300:"三沙市",460400:"儋州市",469001:"五指山市",469002:"琼海市",469005:"文昌市",469006:"万宁市",469007:"东方市",469021:"定安县",469022:"屯昌县",469023:"澄迈县",469024:"临高县",469025:"白沙黎族自治县",469026:"昌江黎族自治县",469027:"乐东黎族自治县",469028:"陵水黎族自治县",469029:"保亭黎族苗族自治县",469030:"琼中黎族苗族自治县"},460100:{460105:"秀英区",460106:"龙华区",460107:"琼山区",460108:"美兰区"},460200:{460202:"海棠区",460203:"吉阳区",460204:"天涯区",460205:"崖州区"},460300:{460321:"西沙群岛",460322:"南沙群岛",460323:"中沙群岛的岛礁及其海域"},460400:{4604001:"那大镇",4604004:"国营西培农场",4604005:"华南热作学院",46040011:"三都镇",460400101:"和庆镇",460400102:"南丰镇",460400103:"大成镇",460400104:"雅星镇",460400105:"兰洋镇",460400106:"光村镇",460400107:"木棠镇",460400108:"海头镇",460400109:"峨蔓镇",460400111:"王五镇",460400112:"白马井镇",460400113:"中和镇",460400114:"排浦镇",460400115:"东成镇",460400116:"新州镇",460400404:"国营西联农场",460400405:"国营蓝洋农场",460400407:"国营八一农场",460400499:"洋浦经济开发区"},469001:{4690011:"通什镇",4690012:"畅好乡",4690014:"畅好农场",469001101:"南圣镇",469001102:"毛阳镇",469001103:"番阳镇",469001201:"毛道乡",469001202:"水满乡"},469002:{4690021:"嘉积镇",4690024:"国营东太农场",4690025:"彬村山华侨农场",46900211:"大路镇",469002101:"万泉镇",469002102:"石壁镇",469002103:"中原镇",469002104:"博鳌镇",469002105:"阳江镇",469002106:"龙江镇",469002107:"潭门镇",469002108:"塔洋镇",469002109:"长坡镇",469002111:"会山镇",469002402:"国营东红农场",469002403:"国营东升农场"},469005:{4690051:"文城镇",4690054:"国营东路农场",46900511:"昌洒镇",469005101:"重兴镇",469005102:"蓬莱镇",469005103:"会文镇",469005104:"东路镇",469005105:"潭牛镇",469005106:"东阁镇",469005107:"文教镇",469005108:"东郊镇",469005109:"龙楼镇",469005111:"翁田镇",469005112:"抱罗镇",469005113:"冯坡镇",469005114:"锦山镇",469005115:"铺前镇",469005116:"公坡镇",469005401:"国营南阳农场",469005402:"国营罗豆农场"},469006:{4690061:"万城镇",4690064:"国营东兴农场",4690065:"兴隆华侨农场",46900611:"南桥镇",469006101:"龙滚镇",469006102:"和乐镇",469006103:"后安镇",469006104:"大茂镇",469006105:"东澳镇",469006106:"礼纪镇",469006107:"长丰镇",469006108:"山根镇",469006109:"北大镇",469006111:"三更罗镇",469006401:"国营东和农场",469006404:"国营新中农场",469006501:"地方国营六连林场"},469007:{4690071:"八所镇",4690072:"天安乡",4690074:"国营广坝农场",4690075:"东方华侨农场",469007101:"东河镇",469007102:"大田镇",469007103:"感城镇",469007104:"板桥镇",469007105:"三家镇",469007106:"四更镇",469007107:"新龙镇",469007201:"江边乡"},469021:{4690211:"定城镇",4690214:"国营中瑞农场",469021101:"新竹镇",469021102:"龙湖镇",469021103:"黄竹镇",469021104:"雷鸣镇",469021105:"龙门镇",469021106:"龙河镇",469021107:"岭口镇",469021108:"翰林镇",469021109:"富文镇",469021401:"国营南海农场",469021402:"国营金鸡岭农场"},469022:{4690221:"屯城镇",4690224:"国营中建农场",469022101:"新兴镇",469022102:"枫木镇",469022103:"乌坡镇",469022104:"南吕镇",469022105:"南坤镇",469022106:"坡心镇",469022107:"西昌镇",469022401:"国营中坤农场"},469023:{4690231:"金江镇",4690234:"国营红光农场",46902311:"大丰镇",469023101:"老城镇",469023102:"瑞溪镇",469023103:"永发镇",469023104:"加乐镇",469023105:"文儒镇",469023106:"中兴镇",469023107:"仁兴镇",469023108:"福山镇",469023109:"桥头镇",469023402:"国营西达农场",469023405:"国营金安农场"},469024:{4690241:"临城镇",4690244:"国营红华农场",469024101:"波莲镇",469024102:"东英镇",469024103:"博厚镇",469024104:"皇桐镇",469024105:"多文镇",469024106:"和舍镇",469024107:"南宝镇",469024108:"新盈镇",469024109:"调楼镇",469024401:"国营加来农场"},469025:{4690251:"牙叉镇",4690252:"细水乡",469025101:"七坊镇",469025102:"邦溪镇",469025103:"打安镇",469025201:"元门乡",469025202:"南开乡",469025203:"阜龙乡",469025204:"青松乡",469025205:"金波乡",469025206:"荣邦乡",469025401:"国营白沙农场",469025404:"国营龙江农场",469025408:"国营邦溪农场"},469026:{4690261:"石碌镇",4690262:"王下乡",4690265:"国营霸王岭林场",469026101:"叉河镇",469026102:"十月田镇",469026103:"乌烈镇",469026104:"昌化镇",469026105:"海尾镇",469026106:"七叉镇",469026401:"国营红林农场",469026501:"海南矿业联合有限公司"},469027:{4690271:"抱由镇",4690275:"国营尖峰岭林业公司",46902711:"莺歌海镇",469027101:"万冲镇",469027102:"大安镇",469027103:"志仲镇",469027104:"千家镇",469027105:"九所镇",469027106:"利国镇",469027107:"黄流镇",469027108:"佛罗镇",469027109:"尖峰镇",469027401:"国营山荣农场",469027402:"国营乐光农场",469027405:"国营保国农场",469027501:"国营莺歌海盐场"},469028:{4690281:"椰林镇",4690282:"提蒙乡",4690284:"国营岭门农场",4690285:"国营吊罗山林业公司",469028101:"光坡镇",469028102:"三才镇",469028103:"英州镇",469028104:"隆广镇",469028105:"文罗镇",469028106:"本号镇",469028107:"新村镇",469028108:"黎安镇",469028201:"群英乡",469028401:"国营南平农场"},469029:{4690291:"保城镇",4690292:"六弓乡",469029101:"什玲镇",469029102:"加茂镇",469029103:"响水镇",469029104:"新政镇",469029105:"三道镇",469029201:"南林乡",469029202:"毛感乡",469029401:"国营新星农场",469029402:"海南保亭热带作物研究所",469029403:"国营金江农场",469029405:"国营三道农场"},469030:{4690301:"营根镇",4690302:"吊罗山乡",4690305:"海南黎母山省级自然保护区管理站",469030101:"湾岭镇",469030102:"黎母山镇",469030103:"和平镇",469030104:"长征镇",469030105:"红毛镇",469030106:"中平镇",469030201:"上安乡",469030202:"什运乡",469030402:"国营阳江农场",469030403:"国营乌石农场",469030406:"国营加钗农场",469030407:"国营长征农场"},5e5:{500100:"市辖区",500228:"梁平县",500229:"城口县",500230:"丰都县",500231:"垫江县",500232:"武隆县",500233:"忠县",500235:"云阳县",500236:"奉节县",500237:"巫山县",500238:"巫溪县",500240:"石柱土家族自治县",500241:"秀山土家族苗族自治县",500242:"酉阳土家族苗族自治县",500243:"彭水苗族土家族自治县"},500100:{500101:"万州区",500102:"涪陵区",500103:"渝中区",500104:"大渡口区",500105:"江北区",500106:"沙坪坝区",500107:"九龙坡区",500108:"南岸区",500109:"北碚区",500110:"綦江区",500111:"大足区",500112:"渝北区",500113:"巴南区",500114:"黔江区",500115:"长寿区",500116:"江津区",500117:"合川区",500118:"永川区",500119:"南川区",500120:"璧山区",500151:"铜梁区",500152:"潼南区",500153:"荣昌区",500154:"开州区"},500228:{5002282:"安胜乡",5002284:"梁平县农场",50022811:"聚奎镇",50022812:"合兴镇",500228001:"梁平县梁山街道",500228002:"梁平县双桂街道",500228101:"仁贤镇",500228102:"礼让镇",500228103:"云龙镇",500228104:"屏锦镇",500228106:"袁驿镇",500228107:"新盛镇",500228108:"福禄镇",500228109:"金带镇",500228111:"明达镇",500228112:"荫平镇",500228113:"和林镇",500228114:"回龙镇",500228115:"碧山镇",500228116:"虎城镇",500228117:"七星镇",500228118:"龙门镇",500228119:"文化镇",500228121:"石安镇",500228122:"柏家镇",500228123:"大观镇",500228124:"竹山镇",500228125:"蟠龙镇",500228126:"星桥镇",500228127:"曲水镇",500228201:"铁门乡",500228202:"龙胜乡",500228203:"复平乡",500228205:"紫照乡",500228401:"梁平县双桂工业园区"},500229:{50022911:"咸宜镇",50022921:"双河乡",50022922:"厚坪乡",500229001:"葛城街道",500229002:"复兴街道",500229102:"巴山镇",500229103:"坪坝镇",500229104:"庙坝镇",500229105:"明通镇",500229106:"修齐镇",500229107:"高观镇",500229108:"高燕镇",500229109:"东安镇",500229111:"高楠镇",500229201:"龙田乡",500229202:"北屏乡",500229205:"左岚乡",500229208:"沿河乡",500229211:"蓼子乡",500229212:"鸡鸣乡",500229214:"周溪乡",500229216:"明中乡",500229217:"治平乡",500229219:"岚天乡",500229221:"河鱼乡"},500230:{500230:"名山街道",50023011:"兴义镇",50023012:"兴龙镇",50023021:"三建乡",500230101:"虎威镇",500230102:"社坛镇",500230103:"三元镇",500230104:"许明寺镇",500230105:"董家镇",500230106:"树人镇",500230107:"十直镇",500230109:"高家镇",500230111:"双路镇",500230112:"江池镇",500230113:"龙河镇",500230114:"武平镇",500230115:"包鸾镇",500230116:"湛普镇",500230118:"南天湖镇",500230119:"保合镇",500230121:"仁沙镇",500230122:"龙孔镇",500230123:"暨龙镇",500230124:"双龙镇",500230125:"仙女湖镇",500230202:"青龙乡",500230206:"太平坝乡",500230207:"都督乡",500230209:"栗子乡"},500231:{50023111:"太平镇",50023112:"裴兴镇",500231001:"桂溪街道",500231002:"桂阳街道",500231101:"新民镇",500231102:"沙坪镇",500231103:"周嘉镇",500231104:"普顺镇",500231105:"永安镇",500231106:"高安镇",500231107:"高峰镇",500231108:"五洞镇",500231109:"澄溪镇",500231111:"鹤游镇",500231112:"坪山镇",500231113:"砚台镇",500231114:"曹回镇",500231115:"杠家镇",500231116:"包家镇",500231117:"白家镇",500231118:"永平镇",500231119:"三溪镇",500231121:"黄沙镇",500231122:"长龙镇",500231202:"沙河乡",500231204:"大石乡"},500232:{5002321:"巷口镇",5002322:"凤来乡",50023211:"土坎镇",50023221:"后坪苗族土家族乡",500232101:"火炉镇",500232102:"白马镇",500232103:"鸭江镇",500232104:"长坝镇",500232105:"江口镇",500232106:"平桥镇",500232107:"羊角镇",500232108:"仙女山镇",500232109:"桐梓镇",500232111:"和顺镇",500232112:"双河镇",500232202:"庙垭乡",500232203:"石桥苗族土家族乡",500232205:"黄莺乡",500232206:"沧沟乡",500232207:"文复苗族土家族乡",500232208:"土地乡",500232209:"白云乡",500232211:"浩口苗族仡佬族乡",500232212:"接龙乡",500232213:"赵家乡",500232214:"大洞河乡"},500233:{50023311:"官坝镇",50023312:"白石镇",50023321:"兴峰乡",500233001:"忠州街道",500233002:"白公街道",500233101:"新生镇",500233102:"任家镇",500233103:"乌杨镇",500233104:"洋渡镇",500233105:"东溪镇",500233106:"复兴镇",500233107:"石宝镇",500233108:"汝溪镇",500233109:"野鹤镇",500233111:"石黄镇",500233112:"马灌镇",500233113:"金鸡镇",500233114:"新立镇",500233115:"双桂镇",500233116:"拔山镇",500233117:"花桥镇",500233118:"永丰镇",500233119:"三汇镇",500233122:"黄金镇",500233201:"善广乡",500233203:"石子乡",500233204:"磨子土家族乡",500233206:"涂井乡",500233208:"金声乡"},500235:{50023513:"桑坪镇",50023514:"蔈草镇",500235001:"双江街道",500235002:"青龙街道",500235003:"人和街道",500235004:"盘龙街道",500235105:"龙角镇",500235107:"故陵镇",500235108:"红狮镇",500235115:"路阳镇",500235116:"农坝镇",500235118:"渠马镇",500235121:"黄石镇",500235122:"巴阳镇",500235123:"沙市镇",500235124:"鱼泉镇",500235125:"凤鸣镇",500235127:"宝坪镇",500235128:"南溪镇",500235129:"双土镇",500235131:"江口镇",500235132:"高阳镇",500235133:"平安镇",500235135:"云阳镇",500235136:"云安镇",500235137:"栖霞镇",500235138:"双龙镇",500235139:"泥溪镇",500235141:"养鹿镇",500235142:"水口镇",500235143:"堰坪镇",500235144:"龙洞镇",500235145:"后叶镇",500235146:"耀灵镇",500235147:"大阳镇",500235208:"外郎乡",500235215:"新津乡",500235216:"普安乡",500235218:"洞鹿乡",500235219:"石门乡",500235239:"上坝乡",500235242:"清水土家族自治乡"},500236:{50023612:"康乐镇",50023613:"新民镇",50023627:"康坪乡",500236001:"永安街道",500236002:"鱼复街道",500236003:"夔门街道",500236117:"白帝镇",500236118:"草堂镇",500236119:"汾河镇",500236121:"大树镇",500236122:"竹园镇",500236123:"公平镇",500236124:"朱衣镇",500236125:"甲高镇",500236126:"羊市镇",500236127:"吐祥镇",500236128:"兴隆镇",500236129:"青龙镇",500236131:"永乐镇",500236132:"安坪镇",500236133:"五马镇",500236134:"青莲镇",500236265:"岩湾乡",500236266:"平安乡",500236267:"红土乡",500236269:"石岗乡",500236272:"太和土家族乡",500236274:"鹤峰乡",500236275:"冯坪乡",500236276:"长安土家族乡",500236277:"龙桥土家族乡",500236278:"云雾土家族乡"},500237:{5002372:"红椿乡",50023711:"铜鼓镇",50023721:"建坪乡",500237001:"高唐街道",500237002:"龙门街道",500237101:"庙宇镇",500237102:"大昌镇",500237103:"福田镇",500237104:"龙溪镇",500237105:"双龙镇",500237106:"官阳镇",500237107:"骡坪镇",500237108:"抱龙镇",500237109:"官渡镇",500237111:"巫峡镇",500237207:"两坪乡",500237208:"曲尺乡",500237211:"大溪乡",500237214:"金坪乡",500237216:"平河乡",500237219:"当阳乡",500237222:"竹贤乡",500237225:"三溪乡",500237227:"培石乡",500237229:"笃坪乡",500237231:"邓家乡"},500238:{5002381:"城厢镇",5002384:"红池坝经济开发区",50023811:"峰灵镇",50023821:"长桂乡",50023824:"双阳乡",500238001:"宁河街道",500238002:"柏杨街道",500238101:"凤凰镇",500238102:"宁厂镇",500238103:"上磺镇",500238104:"古路镇",500238105:"文峰镇",500238106:"徐家镇",500238107:"白鹿镇",500238108:"尖山镇",500238109:"下堡镇",500238111:"塘坊镇",500238112:"朝阳镇",500238113:"田坝镇",500238114:"通城镇",500238115:"菱角镇",500238116:"蒲莲镇",500238117:"土城镇",500238204:"胜利乡",500238207:"大河乡",500238208:"天星乡",500238226:"鱼鳞乡",500238227:"乌龙乡",500238234:"中岗乡",500238237:"花台乡",500238239:"兰英乡",500238242:"中梁乡",500238243:"天元乡"},500240:{500240:"下路街道",50024011:"龙沙镇",50024021:"石家乡",500240101:"西沱镇",500240103:"悦崃镇",500240104:"临溪镇",500240105:"黄水镇",500240106:"马武镇",500240107:"沙子镇",500240108:"王场镇",500240109:"沿溪镇",500240111:"鱼池镇",500240112:"三河镇",500240113:"大歇镇",500240114:"桥头镇",500240115:"万朝镇",500240116:"冷水镇",500240117:"黄鹤镇",500240203:"黎场乡",500240204:"三星乡",500240205:"六塘乡",500240207:"三益乡",500240208:"王家乡",500240209:"河嘴乡",500240212:"枫木乡",500240213:"中益乡",500240214:"洗新乡",500240216:"龙潭乡",500240217:"新乐乡",500240218:"金铃乡",500240219:"金竹乡"},500241:{50024111:"雅江镇",500241001:"中和街道",500241002:"乌杨街道",500241003:"平凯街道",500241102:"清溪场镇",500241103:"隘口镇",500241104:"溶溪镇",500241105:"官庄镇",500241106:"龙池镇",500241107:"石堤镇",500241108:"峨溶镇",500241109:"洪安镇",500241111:"石耶镇",500241112:"梅江镇",500241113:"兰桥镇",500241114:"膏田镇",500241115:"溪口镇",500241116:"妙泉镇",500241117:"宋农镇",500241118:"里仁镇",500241119:"钟灵镇",500241201:"孝溪乡",500241207:"海洋乡",500241208:"大溪乡",500241211:"涌洞乡",500241214:"中平乡",500241215:"岑溪乡"},500242:{5002422:"涂市乡",50024211:"泔溪镇",50024221:"后坪乡",50024222:"清泉乡",500242001:"桃花源街道",500242002:"钟多街道",500242101:"龙潭镇",500242102:"麻旺镇",500242103:"酉酬镇",500242104:"大溪镇",500242105:"兴隆镇",500242106:"黑水镇",500242107:"丁市镇",500242108:"龚滩镇",500242109:"李溪镇",500242111:"酉水河镇",500242112:"苍岭镇",500242113:"小河镇",500242114:"板溪镇",500242202:"铜鼓乡",500242204:"可大乡",500242205:"偏柏乡",500242206:"五福乡",500242207:"木叶乡",500242208:"毛坝乡",500242209:"花田乡",500242211:"天馆乡",500242212:"宜居乡",500242213:"万木乡",500242214:"两罾乡",500242215:"板桥乡",500242216:"官清乡",500242217:"南腰界乡",500242218:"车田乡",500242219:"腴地乡",500242221:"庙溪乡",500242222:"浪坪乡",500242223:"双泉乡",500242224:"楠木乡"},500243:{50024311:"万足镇",50024321:"走马乡",500243001:"汉葭街道",500243002:"绍庆街道",500243003:"靛水街道",500243101:"保家镇",500243102:"郁山镇",500243103:"高谷镇",500243104:"桑柘镇",500243105:"鹿角镇",500243106:"黄家镇",500243107:"普子镇",500243108:"龙射镇",500243109:"连湖镇",500243111:"平安镇",500243112:"长生镇",500243113:"新田镇",500243114:"鞍子镇",500243115:"太原镇",500243116:"龙溪镇",500243117:"梅子垭镇",500243118:"大同镇",500243201:"岩东乡",500243202:"鹿鸣乡",500243204:"棣棠乡",500243206:"三义乡",500243207:"联合乡",500243208:"石柳乡",500243211:"芦塘乡",500243213:"乔梓乡",500243217:"诸佛乡",500243219:"桐楼乡",500243222:"善感乡",500243223:"双龙乡",500243224:"石盘乡",500243225:"大垭乡",500243226:"润溪乡",500243227:"朗溪乡",500243228:"龙塘乡"},51e4:{510100:"成都市",510300:"自贡市",510400:"攀枝花市",510500:"泸州市",510600:"德阳市",510700:"绵阳市",510800:"广元市",510900:"遂宁市",511e3:"内江市",511100:"乐山市",511300:"南充市",511400:"眉山市",511500:"宜宾市",511600:"广安市",511700:"达州市",511800:"雅安市",511900:"巴中市",512e3:"资阳市",513200:"阿坝藏族羌族自治州",513300:"甘孜藏族自治州",513400:"凉山彝族自治州"},510100:{510104:"锦江区",510105:"青羊区",510106:"金牛区",510107:"武侯区",510108:"成华区",510112:"龙泉驿区",510113:"青白江区",510114:"新都区",510115:"温江区",510116:"双流区",510121:"金堂县",510124:"郫县",510129:"大邑县",510131:"蒲江县",510132:"新津县",510181:"都江堰市",510182:"彭州市",510183:"邛崃市",510184:"崇州市",510185:"简阳市"},510300:{510302:"自流井区",510303:"贡井区",510304:"大安区",510311:"沿滩区",510321:"荣县",510322:"富顺县"},510400:{510402:"东区",510403:"西区",510411:"仁和区",510421:"米易县",510422:"盐边县"},510500:{510502:"江阳区",510503:"纳溪区",510504:"龙马潭区",510521:"泸县",510522:"合江县",510524:"叙永县",510525:"古蔺县"},510600:{510603:"旌阳区",510623:"中江县",510626:"罗江县",510681:"广汉市",510682:"什邡市",510683:"绵竹市"},510700:{510703:"涪城区",510704:"游仙区",510705:"安州区",510722:"三台县",510723:"盐亭县",510725:"梓潼县",510726:"北川羌族自治县",510727:"平武县",510781:"江油市"},510800:{510802:"利州区",510811:"昭化区",510812:"朝天区",510821:"旺苍县",510822:"青川县",510823:"剑阁县",510824:"苍溪县"},510900:{510903:"船山区",510904:"安居区",510921:"蓬溪县",510922:"射洪县",510923:"大英县"},511e3:{511002:"市中区",511011:"东兴区",511024:"威远县",511025:"资中县",511028:"隆昌县"},511100:{511102:"市中区",511111:"沙湾区",511112:"五通桥区",511113:"金口河区",511123:"犍为县",511124:"井研县",511126:"夹江县",511129:"沐川县",511132:"峨边彝族自治县",511133:"马边彝族自治县",511181:"峨眉山市"},511300:{511302:"顺庆区",511303:"高坪区",511304:"嘉陵区",511321:"南部县",511322:"营山县",511323:"蓬安县",511324:"仪陇县",511325:"西充县",511381:"阆中市"},511400:{511402:"东坡区",511403:"彭山区",511421:"仁寿县",511423:"洪雅县",511424:"丹棱县",511425:"青神县"},511500:{511502:"翠屏区",511503:"南溪区",511521:"宜宾县",511523:"江安县",511524:"长宁县",511525:"高县",511526:"珙县",511527:"筠连县",511528:"兴文县",511529:"屏山县"},511600:{511602:"广安区",511603:"前锋区",511621:"岳池县",511622:"武胜县",511623:"邻水县",511681:"华蓥市"},511700:{511702:"通川区",511703:"达川区",511722:"宣汉县",511723:"开江县",511724:"大竹县",511725:"渠县",511781:"万源市"},511800:{511802:"雨城区",511803:"名山区",511822:"荥经县",511823:"汉源县",511824:"石棉县",511825:"天全县",511826:"芦山县",511827:"宝兴县"},511900:{511902:"巴州区",511903:"恩阳区",511921:"通江县",511922:"南江县",511923:"平昌县"},512e3:{512002:"雁江区",512021:"安岳县",512022:"乐至县"},513200:{513201:"马尔康市",513221:"汶川县",513222:"理县",513223:"茂县",513224:"松潘县",513225:"九寨沟县",513226:"金川县",513227:"小金县",513228:"黑水县",513230:"壤塘县",513231:"阿坝县",513232:"若尔盖县",513233:"红原县"},513300:{513301:"康定市",513322:"泸定县",513323:"丹巴县",513324:"九龙县",513325:"雅江县",513326:"道孚县",513327:"炉霍县",513328:"甘孜县",513329:"新龙县",513330:"德格县",513331:"白玉县",513332:"石渠县",513333:"色达县",513334:"理塘县",513335:"巴塘县",513336:"乡城县",513337:"稻城县",513338:"得荣县"},513400:{513401:"西昌市",513422:"木里藏族自治县",513423:"盐源县",513424:"德昌县",513425:"会理县",513426:"会东县",513427:"宁南县",513428:"普格县",513429:"布拖县",513430:"金阳县",513431:"昭觉县",513432:"喜德县",513433:"冕宁县",513434:"越西县",513435:"甘洛县",513436:"美姑县",513437:"雷波县"},52e4:{520100:"贵阳市",520200:"六盘水市",520300:"遵义市",520400:"安顺市",520500:"毕节市",520600:"铜仁市",522300:"黔西南布依族苗族自治州",522600:"黔东南苗族侗族自治州",522700:"黔南布依族苗族自治州"},520100:{520102:"南明区",520103:"云岩区",520111:"花溪区",520112:"乌当区",520113:"白云区",520115:"观山湖区",520121:"开阳县",520122:"息烽县",520123:"修文县",520181:"清镇市"},520200:{520201:"钟山区",520203:"六枝特区",520221:"水城县",520222:"盘县"},520300:{520302:"红花岗区",520303:"汇川区",520304:"播州区",520322:"桐梓县",520323:"绥阳县",520324:"正安县",520325:"道真仡佬族苗族自治县",520326:"务川仡佬族苗族自治县",520327:"凤冈县",520328:"湄潭县",520329:"余庆县",520330:"习水县",520381:"赤水市",520382:"仁怀市"},520400:{520402:"西秀区",520403:"平坝区",520422:"普定县",520423:"镇宁布依族苗族自治县",520424:"关岭布依族苗族自治县",520425:"紫云苗族布依族自治县"},520500:{520502:"七星关区",520521:"大方县",520522:"黔西县",520523:"金沙县",520524:"织金县",520525:"纳雍县",520526:"威宁彝族回族苗族自治县",520527:"赫章县"},520600:{520602:"碧江区",520603:"万山区",520621:"江口县",520622:"玉屏侗族自治县",520623:"石阡县",520624:"思南县",520625:"印江土家族苗族自治县",520626:"德江县",520627:"沿河土家族自治县",520628:"松桃苗族自治县"},522300:{522301:"兴义市",522322:"兴仁县",522323:"普安县",522324:"晴隆县",522325:"贞丰县",522326:"望谟县",522327:"册亨县",522328:"安龙县"},522600:{522601:"凯里市",522622:"黄平县",522623:"施秉县",522624:"三穗县",522625:"镇远县",522626:"岑巩县",522627:"天柱县",522628:"锦屏县",522629:"剑河县",522630:"台江县",522631:"黎平县",522632:"榕江县",522633:"从江县",522634:"雷山县",522635:"麻江县",522636:"丹寨县"},522700:{522701:"都匀市",522702:"福泉市",522722:"荔波县",522723:"贵定县",522725:"瓮安县",522726:"独山县",522727:"平塘县",522728:"罗甸县",522729:"长顺县",522730:"龙里县",522731:"惠水县",522732:"三都水族自治县"},53e4:{530100:"昆明市",530300:"曲靖市",530400:"玉溪市",530500:"保山市",530600:"昭通市",530700:"丽江市",530800:"普洱市",530900:"临沧市",532300:"楚雄彝族自治州",532500:"红河哈尼族彝族自治州",532600:"文山壮族苗族自治州",532800:"西双版纳傣族自治州",532900:"大理白族自治州",533100:"德宏傣族景颇族自治州",533300:"怒江傈僳族自治州",533400:"迪庆藏族自治州"},530100:{530102:"五华区",530103:"盘龙区",530111:"官渡区",530112:"西山区",530113:"东川区",530114:"呈贡区",530122:"晋宁县",530124:"富民县",530125:"宜良县",530126:"石林彝族自治县",530127:"嵩明县",530128:"禄劝彝族苗族自治县",530129:"寻甸回族彝族自治县",530181:"安宁市"},530300:{530302:"麒麟区",530303:"沾益区",530321:"马龙县",530322:"陆良县",530323:"师宗县",530324:"罗平县",530325:"富源县",530326:"会泽县",530381:"宣威市"},530400:{530402:"红塔区",530403:"江川区",530422:"澄江县",530423:"通海县",530424:"华宁县",530425:"易门县",530426:"峨山彝族自治县",530427:"新平彝族傣族自治县",530428:"元江哈尼族彝族傣族自治县"},530500:{530502:"隆阳区",530521:"施甸县",530523:"龙陵县",530524:"昌宁县",530581:"腾冲市"},530600:{530602:"昭阳区",530621:"鲁甸县",530622:"巧家县",530623:"盐津县",530624:"大关县",530625:"永善县",530626:"绥江县",530627:"镇雄县",530628:"彝良县",530629:"威信县",530630:"水富县"},530700:{530702:"古城区",530721:"玉龙纳西族自治县",530722:"永胜县",530723:"华坪县",530724:"宁蒗彝族自治县"},530800:{530802:"思茅区",530821:"宁洱哈尼族彝族自治县",530822:"墨江哈尼族自治县",530823:"景东彝族自治县",530824:"景谷傣族彝族自治县",530825:"镇沅彝族哈尼族拉祜族自治县",530826:"江城哈尼族彝族自治县",530827:"孟连傣族拉祜族佤族自治县",530828:"澜沧拉祜族自治县",530829:"西盟佤族自治县"},530900:{530902:"临翔区",530921:"凤庆县",530922:"云县",530923:"永德县",530924:"镇康县",530925:"双江拉祜族佤族布朗族傣族自治县",530926:"耿马傣族佤族自治县",530927:"沧源佤族自治县"},532300:{532301:"楚雄市",532322:"双柏县",532323:"牟定县",532324:"南华县",532325:"姚安县",532326:"大姚县",532327:"永仁县",532328:"元谋县",532329:"武定县",532331:"禄丰县"},532500:{532501:"个旧市",532502:"开远市",532503:"蒙自市",532504:"弥勒市",532523:"屏边苗族自治县",532524:"建水县",532525:"石屏县",532527:"泸西县",532528:"元阳县",532529:"红河县",532530:"金平苗族瑶族傣族自治县",532531:"绿春县",532532:"河口瑶族自治县"},532600:{532601:"文山市",532622:"砚山县",532623:"西畴县",532624:"麻栗坡县",532625:"马关县",532626:"丘北县",532627:"广南县",532628:"富宁县"},532800:{532801:"景洪市",532822:"勐海县",532823:"勐腊县"},532900:{532901:"大理市",532922:"漾濞彝族自治县",532923:"祥云县",532924:"宾川县",532925:"弥渡县",532926:"南涧彝族自治县",532927:"巍山彝族回族自治县",532928:"永平县",532929:"云龙县",532930:"洱源县",532931:"剑川县",532932:"鹤庆县"},533100:{533102:"瑞丽市",533103:"芒市",533122:"梁河县",533123:"盈江县",533124:"陇川县"},533300:{533301:"泸水市",533323:"福贡县",533324:"贡山独龙族怒族自治县",533325:"兰坪白族普米族自治县"},533400:{533401:"香格里拉市",533422:"德钦县",533423:"维西傈僳族自治县"},54e4:{540100:"拉萨市",540200:"日喀则市",540300:"昌都市",540400:"林芝市",540500:"山南市",542400:"那曲地区",542500:"阿里地区"},540100:{540102:"城关区",540103:"堆龙德庆区",540121:"林周县",540122:"当雄县",540123:"尼木县",540124:"曲水县",540126:"达孜县",540127:"墨竹工卡县"},540200:{540202:"桑珠孜区",540221:"南木林县",540222:"江孜县",540223:"定日县",540224:"萨迦县",540225:"拉孜县",540226:"昂仁县",540227:"谢通门县",540228:"白朗县",540229:"仁布县",540230:"康马县",540231:"定结县",540232:"仲巴县",540233:"亚东县",540234:"吉隆县",540235:"聂拉木县",540236:"萨嘎县",540237:"岗巴县"},540300:{540302:"卡若区",540321:"江达县",540322:"贡觉县",540323:"类乌齐县",540324:"丁青县",540325:"察雅县",540326:"八宿县",540327:"左贡县",540328:"芒康县",540329:"洛隆县",540330:"边坝县"},540400:{540402:"巴宜区",540421:"工布江达县",540422:"米林县",540423:"墨脱县",540424:"波密县",540425:"察隅县",540426:"朗县"},540500:{540502:"乃东区",540521:"扎囊县",540522:"贡嘎县",540523:"桑日县",540524:"琼结县",540525:"曲松县",540526:"措美县",540527:"洛扎县",540528:"加查县",540529:"隆子县",540530:"错那县",540531:"浪卡子县"},542400:{542421:"那曲县",542422:"嘉黎县",542423:"比如县",542424:"聂荣县",542425:"安多县",542426:"申扎县",542427:"索县",542428:"班戈县",542429:"巴青县",542430:"尼玛县",542431:"双湖县"},542500:{542521:"普兰县",542522:"札达县",542523:"噶尔县",542524:"日土县",542525:"革吉县",542526:"改则县",542527:"措勤县"},61e4:{610100:"西安市",610200:"铜川市",610300:"宝鸡市",610400:"咸阳市",610500:"渭南市",610600:"延安市",610700:"汉中市",610800:"榆林市",610900:"安康市",611e3:"商洛市"},610100:{610102:"新城区",610103:"碑林区",610104:"莲湖区",610111:"灞桥区",610112:"未央区",610113:"雁塔区",610114:"阎良区",610115:"临潼区",610116:"长安区",610117:"高陵区",610122:"蓝田县",610124:"周至县",610125:"户县"},610200:{610202:"王益区",610203:"印台区",610204:"耀州区",610222:"宜君县"},610300:{610302:"渭滨区",610303:"金台区",610304:"陈仓区",610322:"凤翔县",610323:"岐山县",610324:"扶风县",610326:"眉县",610327:"陇县",610328:"千阳县",610329:"麟游县",610330:"凤县",610331:"太白县"},610400:{610402:"秦都区",610403:"杨陵区",610404:"渭城区",610422:"三原县",610423:"泾阳县",610424:"乾县",610425:"礼泉县",610426:"永寿县",610427:"彬县",610428:"长武县",610429:"旬邑县",610430:"淳化县",610431:"武功县",610481:"兴平市"},610500:{610502:"临渭区",610503:"华州区",610522:"潼关县",610523:"大荔县",610524:"合阳县",610525:"澄城县",610526:"蒲城县",610527:"白水县",610528:"富平县",610581:"韩城市",610582:"华阴市"},610600:{610602:"宝塔区",610603:"安塞区",610621:"延长县",610622:"延川县",610623:"子长县",610625:"志丹县",610626:"吴起县",610627:"甘泉县",610628:"富县",610629:"洛川县",610630:"宜川县",610631:"黄龙县",610632:"黄陵县"},610700:{610702:"汉台区",610721:"南郑县",610722:"城固县",610723:"洋县",610724:"西乡县",610725:"勉县",610726:"宁强县",610727:"略阳县",610728:"镇巴县",610729:"留坝县",610730:"佛坪县"},610800:{610802:"榆阳区",610803:"横山区",610821:"神木县",610822:"府谷县",610824:"靖边县",610825:"定边县",610826:"绥德县",610827:"米脂县",610828:"佳县",610829:"吴堡县",610830:"清涧县",610831:"子洲县"},610900:{610902:"汉滨区",610921:"汉阴县",610922:"石泉县",610923:"宁陕县",610924:"紫阳县",610925:"岚皋县",610926:"平利县",610927:"镇坪县",610928:"旬阳县",610929:"白河县"},611e3:{611002:"商州区",611021:"洛南县",611022:"丹凤县",611023:"商南县",611024:"山阳县",611025:"镇安县",611026:"柞水县"},62e4:{620100:"兰州市",620200:"嘉峪关市",620300:"金昌市",620400:"白银市",620500:"天水市",620600:"武威市",620700:"张掖市",620800:"平凉市",620900:"酒泉市",621e3:"庆阳市",621100:"定西市",621200:"陇南市",622900:"临夏回族自治州",623e3:"甘南藏族自治州"},620100:{620102:"城关区",620103:"七里河区",620104:"西固区",620105:"安宁区",620111:"红古区",620121:"永登县",620122:"皋兰县",620123:"榆中县"},620200:{},620300:{620302:"金川区",620321:"永昌县"},620400:{620402:"白银区",620403:"平川区",620421:"靖远县",620422:"会宁县",620423:"景泰县"},620500:{620502:"秦州区",620503:"麦积区",620521:"清水县",620522:"秦安县",620523:"甘谷县",620524:"武山县",620525:"张家川回族自治县"},620600:{620602:"凉州区",620621:"民勤县",620622:"古浪县",620623:"天祝藏族自治县"},620700:{620702:"甘州区",620721:"肃南裕固族自治县",620722:"民乐县",620723:"临泽县",620724:"高台县",620725:"山丹县"},620800:{620802:"崆峒区",620821:"泾川县",620822:"灵台县",620823:"崇信县",620824:"华亭县",620825:"庄浪县",620826:"静宁县"},620900:{620902:"肃州区",620921:"金塔县",620922:"瓜州县",620923:"肃北蒙古族自治县",620924:"阿克塞哈萨克族自治县",620981:"玉门市",620982:"敦煌市"},621e3:{621002:"西峰区",621021:"庆城县",621022:"环县",621023:"华池县",621024:"合水县",621025:"正宁县",621026:"宁县",621027:"镇原县"},621100:{621102:"安定区",621121:"通渭县",621122:"陇西县",621123:"渭源县",621124:"临洮县",621125:"漳县",621126:"岷县"},621200:{621202:"武都区",621221:"成县",621222:"文县",621223:"宕昌县",621224:"康县",621225:"西和县",621226:"礼县",621227:"徽县",621228:"两当县"},622900:{622901:"临夏市",622921:"临夏县",622922:"康乐县",622923:"永靖县",622924:"广河县",622925:"和政县",622926:"东乡族自治县",622927:"积石山保安族东乡族撒拉族自治县"},623e3:{623001:"合作市",623021:"临潭县",623022:"卓尼县",623023:"舟曲县",623024:"迭部县",623025:"玛曲县",623026:"碌曲县",623027:"夏河县"},63e4:{630100:"西宁市",630200:"海东市",632200:"海北藏族自治州",632300:"黄南藏族自治州",632500:"海南藏族自治州",632600:"果洛藏族自治州",632700:"玉树藏族自治州",632800:"海西蒙古族藏族自治州"},630100:{630102:"城东区",630103:"城中区",630104:"城西区",630105:"城北区",630121:"大通回族土族自治县",630122:"湟中县",630123:"湟源县"},630200:{630202:"乐都区",630203:"平安区",630222:"民和回族土族自治县",630223:"互助土族自治县",630224:"化隆回族自治县",630225:"循化撒拉族自治县"},632200:{632221:"门源回族自治县",632222:"祁连县",632223:"海晏县",632224:"刚察县"},632300:{632321:"同仁县",632322:"尖扎县",632323:"泽库县",632324:"河南蒙古族自治县"},632500:{632521:"共和县",632522:"同德县",632523:"贵德县",632524:"兴海县",632525:"贵南县"},632600:{632621:"玛沁县",632622:"班玛县",632623:"甘德县",632624:"达日县",632625:"久治县",632626:"玛多县"},632700:{632701:"玉树市",632722:"杂多县",632723:"称多县",632724:"治多县",632725:"囊谦县",632726:"曲麻莱县"},632800:{632801:"格尔木市",632802:"德令哈市",632821:"乌兰县",632822:"都兰县",632823:"天峻县"},64e4:{640100:"银川市",640200:"石嘴山市",640300:"吴忠市",640400:"固原市",640500:"中卫市"},640100:{640104:"兴庆区",640105:"西夏区",640106:"金凤区",640121:"永宁县",640122:"贺兰县",640181:"灵武市"},640200:{640202:"大武口区",640205:"惠农区",640221:"平罗县"},640300:{640302:"利通区",640303:"红寺堡区",640323:"盐池县",640324:"同心县",640381:"青铜峡市"},640400:{640402:"原州区",640422:"西吉县",640423:"隆德县",640424:"泾源县",640425:"彭阳县"},640500:{640502:"沙坡头区",640521:"中宁县",640522:"海原县"},65e4:{650100:"乌鲁木齐市",650200:"克拉玛依市",650400:"吐鲁番市",650500:"哈密市",652300:"昌吉回族自治州",652700:"博尔塔拉蒙古自治州",652800:"巴音郭楞蒙古自治州",652900:"阿克苏地区",653e3:"克孜勒苏柯尔克孜自治州",653100:"喀什地区",653200:"和田地区",654e3:"伊犁哈萨克自治州",654200:"塔城地区",654300:"阿勒泰地区",659001:"石河子市",659002:"阿拉尔市",659003:"图木舒克市",659004:"五家渠市",659006:"铁门关市"},650100:{650102:"天山区",650103:"沙依巴克区",650104:"新市区",650105:"水磨沟区",650106:"头屯河区",650107:"达坂城区",650109:"米东区",650121:"乌鲁木齐县"},650200:{650202:"独山子区",650203:"克拉玛依区",650204:"白碱滩区",650205:"乌尔禾区"},650400:{650402:"高昌区",650421:"鄯善县",650422:"托克逊县"},650500:{650502:"伊州区",650521:"巴里坤哈萨克自治县",650522:"伊吾县"},652300:{652301:"昌吉市",652302:"阜康市",652323:"呼图壁县",652324:"玛纳斯县",652325:"奇台县",652327:"吉木萨尔县",652328:"木垒哈萨克自治县"},652700:{652701:"博乐市",652702:"阿拉山口市",652722:"精河县",652723:"温泉县"},652800:{652801:"库尔勒市",652822:"轮台县",652823:"尉犁县",652824:"若羌县",652825:"且末县",652826:"焉耆回族自治县",652827:"和静县",652828:"和硕县",652829:"博湖县"},652900:{652901:"阿克苏市",652922:"温宿县",652923:"库车县",652924:"沙雅县",652925:"新和县",652926:"拜城县",652927:"乌什县",652928:"阿瓦提县",652929:"柯坪县"},653e3:{653001:"阿图什市",653022:"阿克陶县",653023:"阿合奇县",653024:"乌恰县"},653100:{653101:"喀什市",653121:"疏附县",653122:"疏勒县",653123:"英吉沙县",653124:"泽普县",653125:"莎车县",653126:"叶城县",653127:"麦盖提县",653128:"岳普湖县",653129:"伽师县",653130:"巴楚县",653131:"塔什库尔干塔吉克自治县"},653200:{653201:"和田市",653221:"和田县",653222:"墨玉县",653223:"皮山县",653224:"洛浦县",653225:"策勒县",653226:"于田县",653227:"民丰县"},654e3:{654002:"伊宁市",654003:"奎屯市",654004:"霍尔果斯市",654021:"伊宁县",654022:"察布查尔锡伯自治县",654023:"霍城县",654024:"巩留县",654025:"新源县",654026:"昭苏县",654027:"特克斯县",654028:"尼勒克县"},654200:{654201:"塔城市",654202:"乌苏市",654221:"额敏县",654223:"沙湾县",654224:"托里县",654225:"裕民县",654226:"和布克赛尔蒙古自治县"},654300:{654301:"阿勒泰市",654321:"布尔津县",654322:"富蕴县",654323:"福海县",654324:"哈巴河县",654325:"青河县",654326:"吉木乃县"},659001:{6590011:"北泉镇",6590015:"兵团一五二团",659001001:"新城街道",659001002:"向阳街道",659001003:"红山街道",659001004:"老街街道",659001005:"东城街道",659001101:"石河子镇"},659002:{6590022:"托喀依乡",6590025:"兵团七团",65900252:"兵团三团",659002001:"金银川路街道",659002002:"幸福路街道",659002003:"青松路街道",659002004:"南口街道",659002402:"工业园区",659002501:"兵团八团",659002503:"兵团十团",659002504:"兵团十一团",659002505:"兵团十二团",659002506:"兵团十三团",659002507:"兵团十四团",659002509:"兵团十六团",659002511:"兵团第一师水利水电工程处",659002512:"兵团第一师塔里木灌区水利管理处",659002513:"阿拉尔农场",659002514:"兵团第一师幸福农场",659002515:"中心监狱",659002516:"兵团一团",659002517:"兵团农一师沙井子水利管理处",659002518:"西工业园区管理委员会",659002519:"兵团二团"},659003:{65900351:"兵团五十团",659003001:"齐干却勒街道",659003002:"前海街道",659003003:"永安坝街道",659003504:"兵团四十四团",659003509:"兵团四十九团",659003511:"兵团五十一团",659003513:"兵团五十三团",659003514:"兵团图木舒克市喀拉拜勒镇"},659004:{6590045:"兵团一零一团",659004001:"军垦路街道",659004002:"青湖路街道",659004003:"人民路街道",659004501:"兵团一零二团",659004502:"兵团一零三团"},659006:{6590061:"博古其镇",659006101:"双丰镇"},71e4:{710100:"台湾省"},710100:{710101:"金门",710102:"连江",710103:"苗栗",710104:"南投",710105:"澎湖",710106:"屏东",710107:"台东",710108:"台中",710109:"台南",710110:"台北",710111:"桃园",710112:"云林",710113:"新北",710114:"彰化",710115:"嘉义",710116:"新竹",710117:"花莲",710118:"宜兰",710119:"高雄",710120:"基隆"},81e4:{810101:"中西区",810102:"东区",810103:"九龙城区",810104:"观塘区",810105:"深水埗区",810106:"湾仔区",810107:"黄大仙区",810108:"油尖旺区",810109:"离岛区",810110:"葵青区",810111:"北区",810112:"西贡区",810113:"沙田区",810114:"屯门区",810115:"大埔区",810116:"荃湾区",810117:"元朗区",810118:"香港",810119:"九龙",810120:"新界"},82e4:{820101:"离岛",820102:"澳门半岛",820103:"凼仔",820104:"路凼城",820105:"路环"},91e4:{81e4:"香港特别行政区",82e4:"澳门特别行政区"}}},"0f9d":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("j-select-biz-component",e._g(e._b({attrs:{value:e.value,ellipsisLength:25,listUrl:e.url.list,columns:e.columns}},"j-select-biz-component",e.attrs,!1),e.$listeners))},i=[],o=n("b296"),a={name:"JSelectMultiUser",components:{JSelectBizComponent:o["default"]},props:["value"],data:function(){return{url:{list:"/sys/user/list"},columns:[{title:"姓名",align:"center",width:"25%",widthRight:"70%",dataIndex:"realname"},{title:"账号",align:"center",width:"25%",dataIndex:"username"},{title:"电话",align:"center",width:"20%",dataIndex:"phone"},{title:"出生日期",align:"center",width:"20%",dataIndex:"birthday"}],default:{name:"用户",width:1200,displayKey:"realname",returnKeys:["id","username"],queryParamText:"账号"}}},computed:{attrs:function(){return Object.assign(this.default,this.$attrs)}}},s=a,l=n("2877"),c=Object(l["a"])(s,r,i,!1,null,"e93adf66",null);t["default"]=c.exports},1011:function(e,t,n){},1037:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("result",{attrs:{isSuccess:!0,content:!1,title:e.email}},[n("template",{slot:"action"},[n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{size:"large"},on:{click:e.goHomeHandle}},[e._v("返回首页")])],1)],2)},i=[],o=n("9a3d"),a={name:"RegisterResult",components:{Result:o["default"]},data:function(){return{form:{}}},computed:{email:function(){var e=this.form?this.form.username||this.form.mobile:" XXX ",t="你的账户：".concat(e," 注册成功");return this.username=e,t}},created:function(){this.form=this.$route.params},methods:{goHomeHandle:function(){var e={};e.username=this.form.username,e.password=this.form.password,this.$router.push({name:"login",params:e})}}},s=a,l=n("2877"),c=Object(l["a"])(s,r,i,!1,null,"7e2ee032",null);t["default"]=c.exports},1093:function(e,t,n){},1120:function(e,t,n){},"117c":function(e,t,n){"use strict";var r=n("419f"),i=n.n(r);i.a},"11cb":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{width:900,keyboard:!1,closable:!1,centered:!0,maskClosable:!1,mask:!1,okText:"确认",cancelText:"取消"},on:{ok:e.ok,cancel:e.cancel},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[n("a-tabs",[n("a-tab-pane",{key:"1",attrs:{tab:"方向性图标"}},[n("ul",e._l(e.icons.directionIcons,(function(t){return n("li",{key:t},[n("a-icon",{class:{active:e.activeIndex===t},attrs:{type:t,title:t},on:{click:function(n){return e.chooseIcon(t)}}})],1)})),0)]),n("a-tab-pane",{key:"2",attrs:{tab:"指示性图标"}},[n("ul",e._l(e.icons.suggestionIcons,(function(t){return n("li",{key:t},[n("a-icon",{class:{active:e.activeIndex===t},attrs:{type:t,title:t},on:{click:function(n){return e.chooseIcon(t)}}})],1)})),0)]),n("a-tab-pane",{key:"3",attrs:{tab:"编辑类图标"}},[n("ul",e._l(e.icons.editIcons,(function(t){return n("li",{key:t},[n("a-icon",{class:{active:e.activeIndex===t},attrs:{type:t,title:t},on:{click:function(n){return e.chooseIcon(t)}}})],1)})),0)]),n("a-tab-pane",{key:"4",attrs:{tab:"数据类图标"}},[n("ul",e._l(e.icons.dataIcons,(function(t){return n("li",{key:t},[n("a-icon",{class:{active:e.activeIndex===t},attrs:{type:t,title:t},on:{click:function(n){return e.chooseIcon(t)}}})],1)})),0)]),n("a-tab-pane",{key:"5",attrs:{tab:"网站通用图标"}},[n("ul",e._l(e.icons.webIcons,(function(t){return n("li",{key:t},[n("a-icon",{class:{active:e.activeIndex===t},attrs:{type:t,title:t},on:{click:function(n){return e.chooseIcon(t)}}})],1)})),0)]),n("a-tab-pane",{key:"6",attrs:{tab:"品牌和标识"}},[n("ul",e._l(e.icons.logoIcons,(function(t){return n("li",{key:t},[n("a-icon",{class:{active:e.activeIndex===t},attrs:{type:t,title:t},on:{click:function(n){return e.chooseIcon(t)}}})],1)})),0)])],1)],1)},i=[],o=["step-backward","step-forward","fast-backward","fast-forward","shrink","arrows-alt","down","up","left","right","caret-up","caret-down","caret-left","caret-right","up-circle","down-circle","left-circle","right-circle","up-circle-o","down-circle-o","right-circle-o","left-circle-o","double-right","double-left","vertical-left","vertical-right","forward","backward","rollback","enter","retweet","swap","swap-left","swap-right","arrow-up","arrow-down","arrow-left","arrow-right","play-circle","play-circle-o","up-square","down-square","left-square","right-square","up-square-o","down-square-o","left-square-o","right-square-o","login","logout","menu-fold","menu-unfold","border-bottom","border-horizontal","border-inner","border-left","border-right","border-top","border-verticle","pic-center","pic-left","pic-right","radius-bottomleft","radius-bottomright","radius-upleft","radius-upright","fullscreen","fullscreen-exit"],a=["question","question-circle","plus","plus-circle","pause","pause-circle","minus","minus-circle","plus-square","minus-square","info","info-circle","exclamation","exclamation-circle","close","close-circle","close-square","check","check-circle","check-square","clock-circle","warning","issues-close","stop"],s=["edit","form","copy","scissor","delete","snippets","diff","highlight","align-center","align-left","align-right","bg-colors","bold","italic","underline","strikethrough","redo","undo","zoom-in","zoom-out","font-colors","font-size","line-height","colum-height","dash","small-dash","sort-ascending","sort-descending","drag","ordered-list","radius-setting"],l=["area-chart","pie-chart","bar-chart","dot-chart","line-chart","radar-chart","heat-map","fall","rise","stock","box-plot","fund","sliders"],c=["lock","unlock","bars","book","calendar","cloud","cloud-download","code","copy","credit-card","delete","desktop","download","ellipsis","file","file-text","file-unknown","file-pdf","file-word","file-excel","file-jpg","file-ppt","file-markdown","file-add","folder","folder-open","folder-add","hdd","frown","meh","smile","inbox","laptop","appstore","link","mail","mobile","notification","paper-clip","picture","poweroff","reload","search","setting","share-alt","shopping-cart","tablet","tag","tags","to-top","upload","user","video-camera","home","loading","loading-3-quarters","cloud-upload","star","heart","environment","eye","camera","save","team","solution","phone","filter","exception","export","customer-service","qrcode","scan","like","dislike","message","pay-circle","calculator","pushpin","bulb","select","switcher","rocket","bell","disconnect","database","compass","barcode","hourglass","key","flag","layout","printer","sound","usb","skin","tool","sync","wifi","car","schedule","user-add","user-delete","usergroup-add","usergroup-delete","man","woman","shop","gift","idcard","medicine-box","red-envelope","coffee","copyright","trademark","safety","wallet","bank","trophy","contacts","global","shake","api","fork","dashboard","table","profile","alert","audit","branches","build","border","crown","experiment","fire","money-collect","property-safety","read","reconciliation","rest","security-scan","insurance","interation","safety-certificate","project","thunderbolt","block","cluster","deployment-unit","dollar","euro","pound","file-done","file-exclamation","file-protect","file-search","file-sync","gateway","gold","robot","shopping"],u=["android","apple","windows","ie","chrome","github","aliwangwang","dingding","weibo-square","weibo-circle","taobao-circle","html5","weibo","twitter","wechat","youtube","alipay-circle","taobao","skype","qq","medium-workmark","gitlab","medium","linkedin","google-plus","dropbox","facebook","codepen","amazon","google","codepen-circle","alipay","ant-design","aliyun","zhihu","slack","slack-square","behance","behance-square","dribbble","dribbble-square","instagram","yuque","alibaba","yahoo"],d={name:"Icons",props:{iconChooseVisible:{default:!1}},data:function(){return{icons:{directionIcons:o,suggestionIcons:a,editIcons:s,dataIcons:l,webIcons:c,logoIcons:u},choosedIcon:"",activeIndex:""}},computed:{show:{get:function(){return this.iconChooseVisible},set:function(){}}},methods:{reset:function(){this.activeIndex=""},chooseIcon:function(e){this.activeIndex=e,this.choosedIcon=e,this.$message.success("选中 ".concat(e))},ok:function(){""!==this.choosedIcon?(this.reset(),this.$emit("choose",this.choosedIcon)):this.$message.warning("尚未选择任何图标")},cancel:function(){this.reset(),this.$emit("close")}}},f=d,h=(n("f5b0"),n("2877")),p=Object(h["a"])(f,r,i,!1,null,"4c1070ea",null);t["default"]=p.exports},"12c3":function(e,t,n){"use strict";var r=n("fd9c"),i=n.n(r);i.a},"130a":function(e,t,n){},1348:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=this,n=t.$createElement,r=t._self._c||n;return r("div",{staticClass:"main user-layout-register"},[t._m(0),r("a-form",{ref:"formRegister",attrs:{autoFormCreate:function(t){e.form=t},id:"formRegister"}},[r("a-form-item",{attrs:{fieldDecoratorId:"username",fieldDecoratorOptions:{rules:[{required:!0,message:"用户名不能为空"},{validator:this.checkUsername}],validateTrigger:["change","blur"],validateFirst:!0}}},[r("a-input",{attrs:{size:"large",type:"text",autocomplete:"false",placeholder:"请输入用户名"}})],1),r("a-popover",{attrs:{placement:"rightTop",trigger:"click",visible:t.state.passwordLevelChecked}},[r("template",{slot:"content"},[r("div",{style:{width:"240px"}},[r("div",{class:["user-register",t.passwordLevelClass]},[t._v("强度："),r("span",[t._v(t._s(t.passwordLevelName))])]),r("a-progress",{attrs:{percent:t.state.percent,showInfo:!1,strokeColor:t.passwordLevelColor}}),r("div",{staticStyle:{"margin-top":"10px"}},[r("span",[t._v("请至少输入 8 个字符。请不要使用容易被猜到的密码。")])])],1)]),r("a-form-item",{attrs:{fieldDecoratorId:"password",fieldDecoratorOptions:{rules:[{required:!1},{validator:this.handlePasswordLevel}],validateTrigger:["change","blur"],validateFirst:!0}}},[r("a-input",{attrs:{size:"large",type:"password",autocomplete:"false",placeholder:"至少8位密码，区分大小写"},on:{click:t.handlePasswordInputClick}})],1)],2),r("a-form-item",{attrs:{fieldDecoratorId:"password2",fieldDecoratorOptions:{rules:[{required:!0,message:"至少8位密码，区分大小写"},{validator:this.handlePasswordCheck}],validateTrigger:["change","blur"],validateFirst:!0}}},[r("a-input",{attrs:{size:"large",type:"password",autocomplete:"false",placeholder:"确认密码"}})],1),r("a-form-item",{attrs:{fieldDecoratorId:"email",fieldDecoratorOptions:{rules:[{required:!0,type:"email",message:"请输入正确的邮箱地址"},{validator:this.handleEmailCheck}],validateTrigger:["change","blur"],validateFirst:!0}}},[r("a-input",{attrs:{size:"large",type:"text",placeholder:"邮箱"}})],1),r("a-form-item",{attrs:{fieldDecoratorId:"mobile",fieldDecoratorOptions:{rules:[{required:!0,pattern:/^1[3456789]\d{9}$/,message:"请输入正确的手机号"},{validator:this.handlePhoneCheck}],validateTrigger:["change","blur"],validateFirst:!0}}},[r("a-input",{attrs:{size:"large",placeholder:"11 位手机号"}},[r("a-select",{attrs:{slot:"addonBefore",size:"large",defaultValue:"+86"},slot:"addonBefore"},[r("a-select-option",{attrs:{value:"+86"}},[t._v("+86")]),r("a-select-option",{attrs:{value:"+87"}},[t._v("+87")])],1)],1)],1),r("a-row",{attrs:{gutter:16}},[r("a-col",{staticClass:"gutter-row",attrs:{span:16}},[r("a-form-item",{attrs:{fieldDecoratorId:"captcha",fieldDecoratorOptions:{rules:[{required:!0,message:"请输入验证码"}],validateTrigger:"blur",validateFirst:!0}}},[r("a-input",{attrs:{size:"large",type:"text",placeholder:"验证码"}},[r("a-icon",{style:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"mail"},slot:"prefix"})],1)],1)],1),r("a-col",{staticClass:"gutter-row",attrs:{span:8}},[r("a-button",{staticClass:"getCaptcha",attrs:{size:"large",disabled:t.state.smsSendBtn},domProps:{textContent:t._s(t.state.smsSendBtn?t.state.time+" s":"获取验证码")},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.getCaptcha(e)}}})],1)],1),r("a-form-item",[r("a-button",{staticClass:"register-button",attrs:{size:"large",type:"primary",htmlType:"submit",loading:t.registerBtn,disabled:t.registerBtn},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit(e)}}},[t._v("注册\n      ")]),r("router-link",{staticClass:"login",attrs:{to:{name:"login"}}},[t._v("使用已有账户登录")])],1)],1)],1)},i=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h3",[n("span",[e._v("注册")])])}],o=n("ac0d"),a=(n("7ded"),n("0fea")),s=n("4ec3");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d={0:"低",1:"低",2:"中",3:"强"},f={0:"error",1:"error",2:"warning",3:"success"},h={0:"#ff0000",1:"#ff0000",2:"#ff7e05",3:"#52c41a"},p={name:"Register",components:{},mixins:[o["b"]],data:function(){return{form:null,state:{time:60,smsSendBtn:!1,passwordLevel:0,passwordLevelChecked:!1,percent:10,progressColor:"#FF0000"},registerBtn:!1}},computed:{passwordLevelClass:function(){return f[this.state.passwordLevel]},passwordLevelName:function(){return d[this.state.passwordLevel]},passwordLevelColor:function(){return h[this.state.passwordLevel]}},methods:{checkUsername:function(e,t,n){var r={username:t};Object(s["h"])(r).then((function(e){e.success?n():n("用户名已存在!")}))},handleEmailCheck:function(e,t,n){var r={email:t};Object(s["h"])(r).then((function(e){e.success?n():n("邮箱已存在!")}))},handlePasswordLevel:function(e,t,n){var r=0,i=/^(?=.*[a-zA-Z])(?=.*\d)(?=.*[~!@#$%^&*()_+`\-={}:";'<>?,./]).{8,}$/;i.test(t)||n(new Error("密码由8位数字、大小写字母和特殊符号组成!")),/[0-9]/.test(t)&&r++,/[a-zA-Z]/.test(t)&&r++,/[^0-9a-zA-Z_]/.test(t)&&r++,this.state.passwordLevel=r,this.state.percent=30*r,r>=2?(r>=3&&(this.state.percent=100),n()):(0===r&&(this.state.percent=10),n(new Error("密码强度不够")))},handlePasswordCheck:function(e,t,n){var r=this.form.getFieldValue("password");void 0===t&&n(new Error("请输入密码")),t&&r&&t.trim()!==r.trim()&&n(new Error("两次密码不一致")),n()},handlePhoneCheck:function(e,t,n){var r={phone:t};Object(s["h"])(r).then((function(e){e.success?n():n("手机号已存在!")}))},handlePasswordInputClick:function(){this.isMobile()?this.state.passwordLevelChecked=!1:this.state.passwordLevelChecked=!0},handleSubmit:function(){var e=this;this.form.validateFields((function(t,n){if(!t){var r={username:n.username,password:n.password,email:n.email,phone:n.mobile,smscode:n.captcha};Object(a["i"])("/sys/user/register",r).then((function(t){t.success?e.$router.push({name:"registerResult",params:c({},n)}):e.registerFailed(t.message)}))}}))},getCaptcha:function(e){var t=this;e.preventDefault();var n=this;this.form.validateFields(["mobile"],{force:!0},(function(e,r){if(!e){t.state.smsSendBtn=!0;var i=window.setInterval((function(){n.state.time--<=0&&(n.state.time=60,n.state.smsSendBtn=!1,window.clearInterval(i))}),1e3),o=t.$message.loading("验证码发送中..",0),s={mobile:r.mobile,smsmode:"1"};Object(a["i"])("/sys/sms",s).then((function(e){e.success||(t.registerFailed(e.message),setTimeout(o,0)),setTimeout(o,500)})).catch((function(e){setTimeout(o,1),clearInterval(i),n.state.time=60,n.state.smsSendBtn=!1,t.requestFailed(e)}))}}))},registerFailed:function(e){this.$notification["error"]({message:"注册失败",description:e,duration:2})},requestFailed:function(e){this.$notification["error"]({message:"错误",description:((e.response||{}).data||{}).message||"请求出现错误，请稍后再试",duration:4}),this.registerBtn=!1}},watch:{"state.passwordLevel":function(e){}}},m=p,g=(n("5d18"),n("fa29"),n("2877")),v=Object(g["a"])(m,r,i,!1,null,"047738e0",null);t["default"]=v.exports},"13d2":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-select",{attrs:{value:e.arrayValue,mode:"multiple",placeholder:e.placeholder},on:{change:e.onChange}},e._l(e.options,(function(t,r){return n("a-select-option",{key:r,attrs:{value:t.value}},[e._v("\n    "+e._s(t.text||t.label)+"\n  ")])})),1)},i=[],o={name:"JSelectMultiple",props:{placeholder:{type:String,default:"",required:!1},value:{type:String,required:!1},readOnly:{type:Boolean,required:!1,default:!1},options:{type:Array,required:!0},triggerChange:{type:Boolean,required:!1,default:!1}},data:function(){return{arrayValue:this.value?this.value.split(","):[]}},watch:{value:function(e){this.arrayValue=e?this.value.split(","):[]}},methods:{onChange:function(e){this.triggerChange?this.$emit("change",e.join(",")):this.$emit("input",e.join(","))}}},a=o,s=n("2877"),l=Object(s["a"])(a,r,i,!1,null,null,null);t["default"]=l.exports},"146b":function(module,__webpack_exports__,__webpack_require__){"use strict";for(var _components_ChartCard__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("05ed"),ant_design_vue_es_grid_Col__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("da05"),ant_design_vue_es_tooltip_Tooltip__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("3896"),_components_chart_MiniArea__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("1d43"),_components_chart_MiniBar__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("942d"),_components_chart_LineChartMultid__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("4ec6"),_components_chart_AreaChartTy__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("f552"),_components_chart_DashChartDemo__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("972f"),_components_chart_BarMultid__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("8191"),_components_chart_MiniProgress__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("bf13"),_components_chart_RankList__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("0923"),_components_chart_Bar__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("edd9"),_components_Trend__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("611e"),_api_manage__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("0fea"),_utils_util__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("ca00"),dayjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("5a0c"),dayjs__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_15__),rankList=[],i=0;i<7;i++)rankList.push({name:"白鹭岛 "+(i+1)+" 号店",total:1234.56-100*i});var dataCol1=[{title:"业务号",align:"center",dataIndex:"reBizCode"},{title:"权利类型",align:"center",dataIndex:"droitType"},{title:"登记类型",align:"center",dataIndex:"registeType"},{title:"座落",align:"center",dataIndex:"beLocated"},{title:"权利人",align:"center",dataIndex:"qlr"},{title:"义务人",align:"center",dataIndex:"ywr"},{title:"受理人",align:"center",dataIndex:"acceptBy"},{title:"受理时间",align:"center",dataIndex:"acceptDate"},{title:"当前节点",align:"center",dataIndex:"curNode"},{title:"办理进度",align:"center",dataIndex:"flowRate",scopedSlots:{customRender:"flowRate"}}],dataCol2=[{title:"业务号",align:"center",dataIndex:"reBizCode"},{title:"权利类型",align:"center",dataIndex:"droitType"},{title:"登记类型",align:"center",dataIndex:"registeType"},{title:"座落",align:"center",dataIndex:"beLocated"},{title:"权利人",align:"center",dataIndex:"qlr"},{title:"义务人",align:"center",dataIndex:"ywr"},{title:"受理人",align:"center",dataIndex:"acceptBy"},{title:"发起时间",align:"center",dataIndex:"acceptDate"},{title:"当前节点",align:"center",dataIndex:"curNode"},{title:"超时时间",align:"center",dataIndex:"flowRate",scopedSlots:{customRender:"flowRate"}}],jhjgData=[{type:"房管","一月":900,"二月":1120,"三月":1380,"四月":1480,"五月":1450,"六月":1100,"七月":1300,"八月":900,"九月":1e3,"十月":1200,"十一月":600,"十二月":900},{type:"税务","一月":1200,"二月":1500,"三月":1980,"四月":2e3,"五月":1e3,"六月":600,"七月":900,"八月":1100,"九月":1300,"十月":2e3,"十一月":900,"十二月":1100},{type:"不动产","一月":2e3,"二月":1430,"三月":1300,"四月":1400,"五月":900,"六月":500,"七月":600,"八月":1e3,"九月":600,"十月":1e3,"十一月":1500,"十二月":1200}],jhjgFields=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],xljgData=[{type:"一月","房管":1.12,"税务":1.55,"不动产":1.2},{type:"二月","房管":1.65,"税务":1.32,"不动产":1.42},{type:"三月","房管":1.85,"税务":1.1,"不动产":1.5},{type:"四月","房管":1.33,"税务":1.63,"不动产":1.4},{type:"五月","房管":1.63,"税务":1.8,"不动产":1.7},{type:"六月","房管":1.85,"税务":1.98,"不动产":1.8},{type:"七月","房管":1.98,"税务":1.5,"不动产":1.76},{type:"八月","房管":1.48,"税务":1.2,"不动产":1.3},{type:"九月","房管":1.41,"税务":1.9,"不动产":1.6},{type:"十月","房管":1.1,"税务":1.1,"不动产":1.4},{type:"十一月","房管":1.85,"税务":1.6,"不动产":1.5},{type:"十二月","房管":1.5,"税务":1.4,"不动产":1.3}],xljgFields=["房管","税务","不动产"];__webpack_exports__["a"]={name:"Analysis",components:{ATooltip:ant_design_vue_es_tooltip_Tooltip__WEBPACK_IMPORTED_MODULE_2__["a"],ACol:ant_design_vue_es_grid_Col__WEBPACK_IMPORTED_MODULE_1__["b"],ChartCard:_components_ChartCard__WEBPACK_IMPORTED_MODULE_0__["default"],MiniArea:_components_chart_MiniArea__WEBPACK_IMPORTED_MODULE_3__["default"],MiniBar:_components_chart_MiniBar__WEBPACK_IMPORTED_MODULE_4__["default"],MiniProgress:_components_chart_MiniProgress__WEBPACK_IMPORTED_MODULE_9__["default"],RankList:_components_chart_RankList__WEBPACK_IMPORTED_MODULE_10__["default"],Bar:_components_chart_Bar__WEBPACK_IMPORTED_MODULE_11__["default"],Trend:_components_Trend__WEBPACK_IMPORTED_MODULE_12__["a"],LineChartMultid:_components_chart_LineChartMultid__WEBPACK_IMPORTED_MODULE_5__["default"],AreaChartTy:_components_chart_AreaChartTy__WEBPACK_IMPORTED_MODULE_6__["default"],DashChartDemo:_components_chart_DashChartDemo__WEBPACK_IMPORTED_MODULE_7__["default"],BarMultid:_components_chart_BarMultid__WEBPACK_IMPORTED_MODULE_8__["default"]},data:function(){return{xljgData:xljgData,xljgFields:xljgFields,jhjgData:jhjgData,jhjgFields:jhjgFields,loading:!0,rankList:rankList,zsll:0,zbjl:0,todaySll:0,todayBjl:0,todayISll:0,todayIBjl:0,registerTypeList:[{text:"业务受理"},{text:"业务管理"},{text:"文件管理"},{text:"信息查询"}],ipagination:{current:1,pageSize:5,pageSizeOptions:["10","20","30"],showTotal:function(e,t){return t[0]+"-"+t[1]+" 共"+e+"条"},showQuickJumper:!0,showSizeChanger:!0,total:0},dataSource:[],dataSource1:[],dataSource2:[],url:{analysis:"/sps/register/analysis",list:"sps/register/virtualList",countSll:"sps/register/sllTenDaysCount",countBjl:"sps/register/bjlTenDaysCount",countISll:"sps/register/ISllTenDaysCount",countIBjl:"sps/register/IBjlTenDaysCount",queryDiskInfo:"api/queryDiskInfo"},chartData:{sll:[],bjl:[],isll:[],ibjl:[]},cardCount:{sll:0,bjl:0,isll:0,ibjl:0},columns:dataCol1,columns2:dataCol2,diskInfo:[]}},methods:{goPage:function(e){0==e?this.$router.push({path:"/isps/registerStepForm",name:"isps-registerStepForm"}):1==e?this.$router.push({path:"/isps/registerList",name:"isps-registerList"}):2==e?this.$router.push({path:"/isps/fileManage",name:"isps-fileManage"}):3==e&&this.$router.push({path:"/isps/infoSearch",name:"isps-infoSearch"})},loadList:function(e){var t=this;1===e&&(this.ipagination.current=1);var n=this.getQueryParams();Object(_api_manage__WEBPACK_IMPORTED_MODULE_13__["c"])(this.url.list,n).then((function(e){t.dataSource1=e.result.data1,t.dataSource2=e.result.data2,t.ipagination.total=5}))},getQueryParams:function(){var e={flowStatus:"-3"};return e.pageNo=this.ipagination.current,e.pageSize=this.ipagination.pageSize,Object(_utils_util__WEBPACK_IMPORTED_MODULE_14__["d"])(e)},formatRespectiveHoldCert:function formatRespectiveHoldCert(value){return"1"==value||eval(value)?"是":"否"},formatCertFormat:function(e){return"1"==e?"单一版":"2"==e?"集成版":e},getFlowRateNumber:function(e){return Number(e)},getFlowPercent:function(e){return"3"==e.flowStatus?100:"0"==e.flowStatus?0:e.flowRate},getFlowStatus:function(e){return"4"==e?"exception":"0"==e?"normal":"3"==e?"success":"active"},queryCount:function(){var e=this;Object(_api_manage__WEBPACK_IMPORTED_MODULE_13__["c"])(this.url.analysis).then((function(t){t.success&&(e.cardCount=t.result)}))},loadDiskInfo:function(){var e=this;Object(_api_manage__WEBPACK_IMPORTED_MODULE_13__["c"])(this.url.queryDiskInfo).then((function(t){if(t.success){var n=0,r="";for(var i in t.result){var o=Number(t.result[i].max);o>n&&(n=o,r=t.result[i].name)}var a=t.result.filter((function(e){return e.name==r}))[0];if(a.restPPT=a.restPPT/10,e.diskInfo.push(a),t.result.length>1){var s=0,l="";for(var c in t.result)if(t.result[c].name!=r){var u=Number(t.result[c].max);u>s&&(s=u,l=t.result[c].name)}var d=t.result.filter((function(e){return e.name==l}))[0];d.restPPT=d.restPPT/10,e.diskInfo.push(d)}}}))},loadChartData:function(){var e=this;Object(_api_manage__WEBPACK_IMPORTED_MODULE_13__["c"])(this.url.countSll).then((function(t){if(t.success){var n=t.result;for(var r in n){var i=r,o=n[r],a=dayjs__WEBPACK_IMPORTED_MODULE_15___default()(new Date).format("YYYY-MM-DD");i==a&&(e.todaySll=n[a]),e.chartData.sll.push({x:i,y:o})}}})),Object(_api_manage__WEBPACK_IMPORTED_MODULE_13__["c"])(this.url.countBjl).then((function(t){if(t.success){var n=t.result;for(var r in n){var i=r,o=n[r],a=dayjs__WEBPACK_IMPORTED_MODULE_15___default()(new Date).format("YYYY-MM-DD");i==a&&(e.todayBjl=n[a]),e.chartData.bjl.push({x:i,y:o})}}})),Object(_api_manage__WEBPACK_IMPORTED_MODULE_13__["c"])(this.url.countISll).then((function(t){if(t.success){var n=t.result;for(var r in n){var i=r,o=n[r],a=dayjs__WEBPACK_IMPORTED_MODULE_15___default()(new Date).format("YYYY-MM-DD");i==a&&(e.todayISll=n[a]),e.chartData.isll.push({x:r,y:o})}}})),Object(_api_manage__WEBPACK_IMPORTED_MODULE_13__["c"])(this.url.countIBjl).then((function(t){if(t.success){var n=t.result;for(var r in n){var i=r,o=n[r],a=dayjs__WEBPACK_IMPORTED_MODULE_15___default()(new Date).format("YYYY-MM-DD");i==a&&(e.todayIBjl=n[a]),e.chartData.ibjl.push({x:r,y:o})}}}))}},created:function(){var e=this;this.loadDiskInfo(),this.queryCount(),this.loadChartData(),this.loadList(1),setTimeout((function(){e.loading=!e.loading}),1e3)}}},"15dc":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchQuery(t)}}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{xl:6,lg:7,md:8,sm:24}},[n("a-form-item",{attrs:{label:"用户名"}},[n("j-input",{attrs:{placeholder:"请输入名称模糊查询"},model:{value:e.queryParam.name,callback:function(t){e.$set(e.queryParam,"name",t)},expression:"queryParam.name"}})],1)],1),n("a-col",{attrs:{xl:6,lg:7,md:8,sm:24}},[n("a-form-item",{attrs:{label:"年龄"}},[n("a-input",{staticStyle:{width:"calc(50% - 15px)"},attrs:{placeholder:"最小年龄",type:"ge"},model:{value:e.queryParam.age_begin,callback:function(t){e.$set(e.queryParam,"age_begin",t)},expression:"queryParam.age_begin"}}),n("span",{staticClass:"group-query-strig"},[e._v("~")]),n("a-input",{staticStyle:{width:"calc(50% - 15px)"},attrs:{placeholder:"最大年龄",type:"le"},model:{value:e.queryParam.age_end,callback:function(t){e.$set(e.queryParam,"age_end",t)},expression:"queryParam.age_end"}})],1)],1),e.toggleSearchStatus?[n("a-col",{attrs:{xl:6,lg:7,md:8,sm:24}},[n("a-form-item",{attrs:{label:"生日"}},[n("a-range-picker",{attrs:{format:"YYYY-MM-DD",placeholder:["开始时间","结束时间"]},on:{change:e.onBirthdayChange},model:{value:e.queryParam.birthdayRange,callback:function(t){e.$set(e.queryParam,"birthdayRange",t)},expression:"queryParam.birthdayRange"}})],1)],1),n("a-col",{attrs:{xl:6,lg:7,md:8,sm:24}},[n("a-form-item",{attrs:{label:"性别"}},[n("j-dict-select-tag",{attrs:{placeholder:"请选择性别",dictCode:"sex"},model:{value:e.queryParam.sex,callback:function(t){e.$set(e.queryParam,"sex",t)},expression:"queryParam.sex"}})],1)],1),n("a-col",{attrs:{xl:6,lg:7,md:8,sm:24}},[n("a-form-item",{attrs:{label:"选择用户"}},[n("j-dict-select-tag",{attrs:{placeholder:"请选择用户",dictCode:"demo,name,id"},model:{value:e.queryParam.id,callback:function(t){e.$set(e.queryParam,"id",t)},expression:"queryParam.id"}})],1)],1)]:e._e(),n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-col",{attrs:{xl:6,lg:7,md:8,sm:24}},[n("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")]),n("a",{staticStyle:{"margin-left":"8px"},on:{click:e.handleToggleSearch}},[e._v("\n              "+e._s(e.toggleSearchStatus?"收起":"展开")+"\n              "),n("a-icon",{attrs:{type:e.toggleSearchStatus?"up":"down"}})],1)],1)],1)],2)],1)],1),n("div",{staticClass:"table-operator"},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("新增")]),n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.jump}},[e._v("创建单据")]),n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.onetomany}},[e._v("一对多")]),n("a-button",{attrs:{type:"primary",icon:"download"},on:{click:function(t){return e.handleExportXls("单表示例")}}},[e._v("导出")]),n("a-upload",{attrs:{name:"file",showUploadList:!1,multiple:!1,headers:e.tokenHeader,action:e.importExcelUrl},on:{change:e.handleImportExcel}},[n("a-button",{attrs:{type:"primary",icon:"import"}},[e._v("导入")])],1),n("j-super-query",{ref:"superQueryModal",attrs:{fieldList:e.fieldList},on:{handleSuperQuery:e.handleSuperQuery}}),e.selectedRowKeys.length>0?n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:e.batchDel}},[n("a-icon",{attrs:{type:"delete"}}),e._v("\n          删除\n        ")],1)],1),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v(" 批量操作\n        "),n("a-icon",{attrs:{type:"down"}})],1)],1):e._e()],1),n("div",[n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),e._v(" 已选择 "),n("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRowKeys.length))]),e._v("项\n      "),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")]),n("span",{staticStyle:{float:"right"}},[n("a",{on:{click:function(t){return e.loadData()}}},[n("a-icon",{attrs:{type:"sync"}}),e._v("刷新")],1),n("a-divider",{attrs:{type:"vertical"}}),n("a-popover",{attrs:{title:"自定义列",trigger:"click",placement:"leftBottom"}},[n("template",{slot:"content"},[n("a-checkbox-group",{attrs:{defaultValue:e.settingColumns},on:{change:e.onColSettingsChange},model:{value:e.settingColumns,callback:function(t){e.settingColumns=t},expression:"settingColumns"}},[n("a-row",[e._l(e.defColumns,(function(t,r){return["rowIndex"!=t.key&&"action"!=t.dataIndex?[n("a-col",{attrs:{span:12}},[n("a-checkbox",{attrs:{value:t.dataIndex}},[e._v(e._s(t.title))])],1)]:e._e()]}))],2)],1)],1),n("a",[n("a-icon",{attrs:{type:"setting"}}),e._v("设置")],1)],2)],1)]),n("a-table",{ref:"table",attrs:{size:"middle",bordered:"",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link"},[e._v("更多 "),n("a-icon",{attrs:{type:"down"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete(r.id)}}},[n("a",[e._v("删除")])])],1)],1)],1)],1)}}])},[n("div",{attrs:{slot:"filterDropdown"},slot:"filterDropdown"},[n("a-card",[n("a-checkbox-group",{attrs:{defaultValue:e.settingColumns},on:{change:e.onColSettingsChange},model:{value:e.settingColumns,callback:function(t){e.settingColumns=t},expression:"settingColumns"}},[n("a-row",[e._l(e.defColumns,(function(t,r){return["rowIndex"!=t.key&&"action"!=t.dataIndex?[n("a-col",{attrs:{span:12}},[n("a-checkbox",{attrs:{value:t.dataIndex}},[e._v(e._s(t.title))])],1)]:e._e()]}))],2)],1)],1)],1),n("a-icon",{style:{fontSize:"16px",color:"#108ee9"},attrs:{slot:"filterIcon",type:"setting"},slot:"filterIcon"})],1)],1),n("jeecgDemo-modal",{ref:"modalForm",on:{ok:e.modalFormOk}}),n("JeecgDemoTabsModal",{ref:"jeecgDemoTabsModal",on:{ok:e.modalFormOk}})],1)},i=[],o=n("c943"),a=n("8c6e"),s=n("4349"),l=n("3335"),c=n("89f2"),u=n("b65a"),d=n("2b0e"),f=n("ca00"),h=[{type:"string",value:"name",text:"用户名"},{type:"int",value:"age",text:"年龄"},{type:"date",value:"birthday",text:"生日"}],p={name:"JeecgDemoList",mixins:[u["a"]],components:{JeecgDemoModal:o["default"],JSuperQuery:a["default"],JeecgDemoTabsModal:l["default"],JInput:s["default"]},data:function(){return{description:"单表示例列表",sexDictOptions:[],importExcelUrl:"".concat(window._CONFIG["domianURL"],"/test/jeecgDemo/importExcel"),columns:[],settingColumns:[],defColumns:[{title:"#",dataIndex:"",key:"rowIndex",width:60,align:"center",customRender:function(e,t,n){return parseInt(n)+1}},{title:"姓名",align:"center",dataIndex:"name"},{title:"关键词",align:"center",dataIndex:"keyWord"},{title:"打卡时间",align:"center",dataIndex:"punchTime"},{title:"性别",align:"center",dataIndex:"sex",customRender:function(e){return Object(c["b"])("sex",e)}},{title:"年龄",align:"center",dataIndex:"age"},{title:"生日",align:"center",dataIndex:"birthday"},{title:"邮箱",align:"center",dataIndex:"email"},{title:"个人简介",align:"center",dataIndex:"content"},{title:"操作",dataIndex:"action",align:"center",scopedSlots:{filterDropdown:"filterDropdown",filterIcon:"filterIcon",customRender:"action"}}],url:{list:"/test/jeecgDemo/list",delete:"/test/jeecgDemo/delete",deleteBatch:"/test/jeecgDemo/deleteBatch",exportXlsUrl:"/test/jeecgDemo/exportXls"},fieldList:h}},methods:{getQueryParams:function(){var e={};this.superQueryParams&&(e["superQueryParams"]=encodeURI(this.superQueryParams),e["superQueryMatchType"]=this.superQueryMatchType);var t=Object.assign(e,this.queryParam,this.isorter,this.filters);return t.field=this.getQueryField(),t.pageNo=this.ipagination.current,t.pageSize=this.ipagination.pageSize,delete t.birthdayRange,Object(f["d"])(t)},initDictConfig:function(){var e=this;Object(c["d"])("sex").then((function(t){t.success&&(e.sexDictOptions=t.result)}))},onetomany:function(){this.$refs.jeecgDemoTabsModal.add(),this.$refs.jeecgDemoTabsModal.title="编辑"},jump:function(){this.$router.push({path:"/jeecg/helloworld"})},onBirthdayChange:function(e,t){this.queryParam.birthday_begin=t[0],this.queryParam.birthday_end=t[1]},onColSettingsChange:function(e){var t=this,n=this.$route.name+":colsettings";d["default"].ls.set(n,e,6048e5),this.settingColumns=e;var r=this.defColumns.filter((function(e){return"rowIndex"==e.key||"action"==e.dataIndex||!!t.settingColumns.includes(e.dataIndex)}));this.columns=r},initColumns:function(){var e=this.$route.name+":colsettings",t=d["default"].ls.get(e);if(null==t||void 0==t){var n=[];this.defColumns.forEach((function(e,t,r){n.push(e.dataIndex)})),this.settingColumns=n,this.columns=this.defColumns}else{this.settingColumns=t;var r=this.defColumns.filter((function(e){return"rowIndex"==e.key||"action"==e.dataIndex||!!t.includes(e.dataIndex)}));this.columns=r}}},created:function(){this.initColumns()}},m=p,g=(n("f5b0f"),n("2877")),v=Object(g["a"])(m,r,i,!1,null,"2fc2e5f2",null);t["default"]=v.exports},"15f0":function(e,t,n){"use strict";var r=n("309d"),i=n.n(r);i.a},1639:function(e,t,n){},1659:function(e,t,n){"use strict";var r=n("df34"),i=n.n(r);i.a},"17d8":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchQuery(t)}}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"消息标题"}},[n("a-input",{attrs:{placeholder:"请输入消息标题"},model:{value:e.queryParam.esTitle,callback:function(t){e.$set(e.queryParam,"esTitle",t)},expression:"queryParam.esTitle"}})],1)],1),n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"发送内容"}},[n("a-input",{attrs:{placeholder:"请输入发送内容"},model:{value:e.queryParam.esContent,callback:function(t){e.$set(e.queryParam,"esContent",t)},expression:"queryParam.esContent"}})],1)],1),e.toggleSearchStatus?[n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"接收人"}},[n("a-input",{attrs:{placeholder:"请输入接收人"},model:{value:e.queryParam.esReceiver,callback:function(t){e.$set(e.queryParam,"esReceiver",t)},expression:"queryParam.esReceiver"}})],1)],1)]:e._e(),n("a-col",{attrs:{md:6,sm:8}},[n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")]),n("a",{staticStyle:{"margin-left":"8px"},on:{click:e.handleToggleSearch}},[e._v("\n              "+e._s(e.toggleSearchStatus?"收起":"展开")+"\n              "),n("a-icon",{attrs:{type:e.toggleSearchStatus?"up":"down"}})],1)],1)])],2)],1)],1),n("div",{staticClass:"table-operator"},[n("a-button",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("新增")]),n("a-button",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],attrs:{type:"primary",icon:"download"},on:{click:function(t){return e.handleExportXls("消息")}}},[e._v("导出")]),n("a-upload",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],attrs:{name:"file",showUploadList:!1,multiple:!1,headers:e.tokenHeader,action:e.importExcelUrl},on:{change:e.handleImportExcel}},[n("a-button",{attrs:{type:"primary",icon:"import"}},[e._v("导入")])],1),e.selectedRowKeys.length>0?n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:e.batchDel}},[n("a-icon",{attrs:{type:"delete"}}),e._v("\n          删除\n        ")],1)],1),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v(" 批量操作\n        "),n("a-icon",{attrs:{type:"down"}})],1)],1):e._e()],1),n("div",[n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),e._v(" 已选择 "),n("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRowKeys.length))]),e._v("项\n      "),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])]),n("a-table",{ref:"table",attrs:{size:"middle",bordered:"",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"esContent",fn:function(e){return n("span",{},[n("j-ellipsis",{attrs:{value:e,length:10}})],1)}},{key:"action",fn:function(t,r){return n("span",{},[n("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.handleDetail(r)}}},[e._v("详情")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link"},[e._v("更多"),n("a-icon",{attrs:{type:"down"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}]},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")])]),n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete(r.id)}}},[n("a",[e._v("删除")])])],1)],1)],1)],1)}}])})],1),n("sysMessage-modal",{ref:"modalForm",on:{ok:e.modalFormOk}})],1)},i=[],o=n("89ba"),a=n("b65a"),s=n("d579"),l={name:"SysMessageList",mixins:[a["a"]],components:{JEllipsis:s["default"],SysMessageModal:o["default"]},data:function(){return{description:"消息管理页面",show:!1,columns:[{title:"#",dataIndex:"",key:"rowIndex",width:60,align:"center",customRender:function(e,t,n){return parseInt(n)+1}},{title:"消息标题",align:"center",dataIndex:"esTitle"},{title:"发送内容",align:"center",dataIndex:"esContent",scopedSlots:{customRender:"esContent"}},{title:"接收人",align:"center",dataIndex:"esReceiver"},{title:"发送次数",align:"center",dataIndex:"esSendNum"},{title:"发送状态",align:"center",dataIndex:"esSendStatus_dictText"},{title:"发送时间",align:"center",dataIndex:"esSendTime"},{title:"发送方式",align:"center",dataIndex:"esType_dictText"},{title:"操作",dataIndex:"action",align:"center",scopedSlots:{customRender:"action"}}],url:{list:"/message/sysMessage/list",delete:"/message/sysMessage/delete",deleteBatch:"/message/sysMessage/deleteBatch",exportXlsUrl:"message/sysMessage/exportXls",importExcelUrl:"message/sysMessage/importExcel"}}},computed:{importExcelUrl:function(){return"".concat(window._CONFIG["domianURL"],"/").concat(this.url.importExcelUrl)}},methods:{}},c=l,u=(n("66a4"),n("2877")),d=Object(u["a"])(c,r,i,!1,null,"7e2583f0",null);t["default"]=d.exports},"19a5":function(e,t,n){"use strict";var r=n("1093"),i=n.n(r);i.a},"19ab":function(e,t,n){!function(t,n){e.exports=n()}(0,(function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/dist/",t(t.s=7)}([function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<t.length;i++){var a=t[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(e,t){e.exports=function(e,t,n,r){var i,o=e=e||{},a=typeof e.default;"object"!==a&&"function"!==a||(i=e,o=e.default);var s="function"==typeof o?o.options:o;if(t&&(s.render=t.render,s.staticRenderFns=t.staticRenderFns),n&&(s._scopeId=n),r){var l=Object.create(s.computed||null);Object.keys(r).forEach((function(e){var t=r[e];l[e]=function(){return t}})),s.computed=l}return{esModule:i,exports:o,options:s}}},function(e,t,n){function r(e){for(var t=0;t<e.length;t++){var n=e[t],r=u[n.id];if(r){r.refs++;for(var i=0;i<r.parts.length;i++)r.parts[i](n.parts[i]);for(;i<n.parts.length;i++)r.parts.push(o(n.parts[i]));r.parts.length>n.parts.length&&(r.parts.length=n.parts.length)}else{var a=[];for(i=0;i<n.parts.length;i++)a.push(o(n.parts[i]));u[n.id]={id:n.id,refs:1,parts:a}}}}function i(){var e=document.createElement("style");return e.type="text/css",d.appendChild(e),e}function o(e){var t,n,r=document.querySelector('style[data-vue-ssr-id~="'+e.id+'"]');if(r){if(p)return m;r.parentNode.removeChild(r)}if(g){var o=h++;r=f||(f=i()),t=a.bind(null,r,o,!1),n=a.bind(null,r,o,!0)}else r=i(),t=s.bind(null,r),n=function(){r.parentNode.removeChild(r)};return t(e),function(r){if(r){if(r.css===e.css&&r.media===e.media&&r.sourceMap===e.sourceMap)return;t(e=r)}else n()}}function a(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=v(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function s(e,t){var n=t.css,r=t.media,i=t.sourceMap;if(r&&e.setAttribute("media",r),i&&(n+="\n/*# sourceURL="+i.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var l="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!l)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var c=n(19),u={},d=l&&(document.head||document.getElementsByTagName("head")[0]),f=null,h=0,p=!1,m=function(){},g="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());e.exports=function(e,t,n){p=n;var i=c(e,t);return r(i),function(t){for(var n=[],o=0;o<i.length;o++){var a=i[o],s=u[a.id];s.refs--,n.push(s)}t?(i=c(e,t),r(i)):i=[];for(o=0;o<n.length;o++){s=n[o];if(0===s.refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete u[s.id]}}}};var v=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){n(17);var r=n(1)(n(4),n(14),"data-v-566a42b8",null);e.exports=r.exports},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(12),o=r(i),a=n(11),s=r(a);t.default={name:"splitPane",components:{Resizer:o.default,Pane:s.default},props:{minPercent:{type:Number,default:10},defaultPercent:{type:Number,default:50},split:{validator:function(e){return["vertical","horizontal"].indexOf(e)>=0},required:!0},className:String},computed:{userSelect:function(){return this.active?"none":""},cursor:function(){return this.active?"vertical"===this.split?"col-resize":"row-resize":""}},watch:{defaultPercent:function(e,t){this.percent=e}},data:function(){return{active:!1,hasMoved:!1,height:null,percent:this.defaultPercent,type:"vertical"===this.split?"width":"height",resizeType:"vertical"===this.split?"left":"top"}},methods:{onClick:function(){this.hasMoved||(this.percent=50,this.$emit("resize",this.percent))},onMouseDown:function(){this.active=!0,this.hasMoved=!1},onMouseUp:function(){this.active=!1},onMouseMove:function(e){if(0!==e.buttons&&0!==e.which||(this.active=!1),this.active){var t=0,n=e.currentTarget;if("vertical"===this.split)for(;n;)t+=n.offsetLeft,n=n.offsetParent;else for(;n;)t+=n.offsetTop,n=n.offsetParent;var r="vertical"===this.split?e.pageX:e.pageY,i="vertical"===this.split?e.currentTarget.offsetWidth:e.currentTarget.offsetHeight,o=Math.floor((r-t)/i*1e4)/100;o>this.minPercent&&o<100-this.minPercent&&(this.percent=o),this.$emit("resize",this.percent),this.hasMoved=!0}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"Pane",props:{className:String},data:function(){return{classes:[this.$parent.split,this.className].join(" "),percent:50}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{split:{validator:function(e){return["vertical","horizontal"].indexOf(e)>=0},required:!0},className:String},computed:{classes:function(){return["splitter-pane-resizer",this.split,this.className].join(" ")}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=i.default,"undefined"!=typeof window&&window.Vue&&window.Vue.component("split-pane",i.default)},function(e,t,n){t=e.exports=n(0)(),t.push([e.i,".splitter-pane-resizer[data-v-212fa2a4]{box-sizing:border-box;background:#000;position:absolute;opacity:.2;z-index:1;background-clip:padding-box}.splitter-pane-resizer.horizontal[data-v-212fa2a4]{height:11px;margin:-5px 0;border-top:5px solid hsla(0,0%,100%,0);border-bottom:5px solid hsla(0,0%,100%,0);cursor:row-resize;width:100%}.splitter-pane-resizer.vertical[data-v-212fa2a4]{width:11px;height:100%;margin-left:-5px;border-left:5px solid hsla(0,0%,100%,0);border-right:5px solid hsla(0,0%,100%,0);cursor:col-resize}",""])},function(e,t,n){t=e.exports=n(0)(),t.push([e.i,'.clearfix[data-v-566a42b8]:after{visibility:hidden;display:block;font-size:0;content:" ";clear:both;height:0}.vue-splitter-container[data-v-566a42b8]{height:100%;position:relative}.vue-splitter-container-mask[data-v-566a42b8]{z-index:9999;width:100%;height:100%;position:absolute;top:0;left:0}',""])},function(e,t,n){t=e.exports=n(0)(),t.push([e.i,".splitter-pane.vertical.splitter-paneL[data-v-815c801c]{position:absolute;left:0;height:100%;padding-right:3px}.splitter-pane.vertical.splitter-paneR[data-v-815c801c]{position:absolute;right:0;height:100%;padding-left:3px}.splitter-pane.horizontal.splitter-paneL[data-v-815c801c]{position:absolute;top:0;width:100%}.splitter-pane.horizontal.splitter-paneR[data-v-815c801c]{position:absolute;bottom:0;width:100%;padding-top:3px}",""])},function(e,t,n){n(18);var r=n(1)(n(5),n(15),"data-v-815c801c",null);e.exports=r.exports},function(e,t,n){n(16);var r=n(1)(n(6),n(13),"data-v-212fa2a4",null);e.exports=r.exports},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{class:e.classes})},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e,t,n,r=this,i=r.$createElement,o=r._self._c||i;return o("div",{staticClass:"vue-splitter-container clearfix",style:{cursor:r.cursor,userSelect:r.userSelect},on:{mouseup:r.onMouseUp,mousemove:r.onMouseMove}},[o("pane",{staticClass:"splitter-pane splitter-paneL",style:(e={},e[r.type]=r.percent+"%",e),attrs:{split:r.split}},[r._t("paneL")],2),r._v(" "),o("resizer",{style:(t={},t[r.resizeType]=r.percent+"%",t),attrs:{className:r.className,split:r.split},nativeOn:{mousedown:function(e){return r.onMouseDown(e)},click:function(e){return r.onClick(e)}}}),r._v(" "),o("pane",{staticClass:"splitter-pane splitter-paneR",style:(n={},n[r.type]=100-r.percent+"%",n),attrs:{split:r.split}},[r._t("paneR")],2),r._v(" "),r.active?o("div",{staticClass:"vue-splitter-container-mask"}):r._e()],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{class:e.classes},[e._t("default")],2)},staticRenderFns:[]}},function(e,t,n){var r=n(8);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals),n(2)("a82a4610",r,!0)},function(e,t,n){var r=n(9);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals),n(2)("033d59ad",r,!0)},function(e,t,n){var r=n(10);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals),n(2)("6816c93c",r,!0)},function(e,t){e.exports=function(e,t){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i],a=o[0],s=o[1],l=o[2],c=o[3],u={id:e+":"+i,css:s,media:l,sourceMap:c};r[a]?r[a].parts.push(u):n.push(r[a]={id:a,parts:[u]})}return n}}])}))},"19c0":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("a-card",{attrs:{bordered:!1}},[r("a-col",{staticClass:"clName",attrs:{span:4}},[r("a-tree",{staticStyle:{height:"500px","overflow-y":"auto"},attrs:{treeData:e.treeData,defaultExpandAll:e.defaultExpandAll},on:{select:this.onSelect}})],1),r("a-col",{attrs:{span:2}}),r("a-col",{attrs:{span:18}},[r("a-spin",{attrs:{tip:"Loading...",spinning:e.spinning}},e._l(e.dataSource,(function(t,i){return r("div",{key:i},[r("a-row",[r("a-col",{attrs:{span:24}},[r("p",[r("a-divider",{attrs:{orientation:"left"}},[e._v(e._s(t.fileName))])],1)]),r("a-col",{attrs:{span:24}},[t.filePdfPath?[r("div",{staticStyle:{float:"left",width:"104px",height:"104px","margin-right":"10px",margin:"0 8px 8px 0"}},[r("div",{staticStyle:{width:"100%",height:"100%",position:"relative",padding:"8px"},on:{click:function(n){return e.pdfPreview(t.title)}}},[r("img",{staticStyle:{width:"100%"},attrs:{src:n("c6cf8")}})])])]:[e._v('\n              (暂无材料，点击"选择文件"或"扫描上传"上传文件)\n            ')]],2)],1)],1)})),0)],1),r("pdf-preview-modal",{ref:"pdfmodal"})],1)},i=[],o=n("0fea"),a=n("9fb0"),s=n("2b0e"),l=n("588f"),c=[{id:"1",key:"1",title:"实例.pdf",fileCode:"shili",fileName:"实例",filePdfPath:"实例"}],u={name:"JeecgPdfView",components:{PdfPreviewModal:l["default"]},data:function(){return{description:"PDF预览页面",treeData:[{title:"所有PDF电子档",key:"0-0",children:c}],dataSource:c,allData:c,defaultExpandAll:!0,spinning:!1,url:{pdfList:"/api/pdfList"}}},created:function(){},methods:{loadData:function(){var e=this;this.spinning=!1,Object(o["c"])(this.url.pdfList).then((function(t){t.length>0&&(e.allData=t,e.dataSource=t,e.treeData[0].children=t),e.spinning=!1}))},pdfPreview:function(e){var t=s["default"].ls.get(a["a"]);this.headers={"X-Access-Token":t},this.$refs.pdfmodal.previewFiles(e,t)},onSelect:function(e,t){this.dataSource=[],void 0===e[0]||"0-0"===e[0]?this.dataSource=this.allData:this.dataSource.push(t.node._props.dataRef)},modalFormOk:function(){this.loadData()}}},d=u,f=(n("dd86"),n("2877")),h=Object(f["a"])(d,r,i,!1,null,"14b60e86",null);t["default"]=h.exports},"19fe":function(e,t,n){},"1a5e":function(e,t,n){"use strict";var r=n("e92e"),i=n.n(r);i.a},"1ae1":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-chart",{attrs:{forceFit:!0,height:e.height,data:e.data}},[n("v-coord",{attrs:{type:"rect",direction:"LB"}}),n("v-tooltip"),n("v-legend"),n("v-axis",{attrs:{dataKey:"State",label:e.label}}),n("v-stack-bar",{attrs:{position:"State*流程数量",color:"流程状态"}})],1)],1)},i=[],o=n("7104"),a={name:"StackBar",props:{dataSource:{type:Array,required:!0,default:function(){return[{State:"请假","流转中":25,"已归档":18},{State:"出差","流转中":30,"已归档":20},{State:"加班","流转中":38,"已归档":42},{State:"用车","流转中":51,"已归档":67}]}},height:{type:Number,default:254}},data:function(){return{label:{offset:12}}},computed:{data:function(){var e=(new o.View).source(this.dataSource);return e.transform({type:"fold",fields:["流转中","已归档"],key:"流程状态",value:"流程数量",retains:["State"]}),e.rows}}},s=a,l=n("2877"),c=Object(l["a"])(s,r,i,!1,null,null,null);t["default"]=c.exports},"1b1b":function(e,t,n){"use strict";var r=n("001a"),i=n.n(r);i.a},"1b63":function(e,t,n){(function(e){e(n("56b3"),n("7b00"))})((function(e){"use strict";e.defineMode("sass",(function(t){var n=e.mimeModes["text/css"],r=n.propertyKeywords||{},i=n.colorKeywords||{},o=n.valueKeywords||{},a=n.fontProperties||{};function s(e){return new RegExp("^"+e.join("|"))}var l,c=["true","false","null","auto"],u=new RegExp("^"+c.join("|")),d=["\\(","\\)","=",">","<","==",">=","<=","\\+","-","\\!=","/","\\*","%","and","or","not",";","\\{","\\}",":"],f=s(d),h=/^::?[a-zA-Z_][\w\-]*/;function p(e){return!e.peek()||e.match(/\s+$/,!1)}function m(e,t){var n=e.peek();return")"===n?(e.next(),t.tokenizer=w,"operator"):"("===n?(e.next(),e.eatSpace(),"operator"):"'"===n||'"'===n?(t.tokenizer=v(e.next()),"string"):(t.tokenizer=v(")",!1),"string")}function g(e,t){return function(n,r){return n.sol()&&n.indentation()<=e?(r.tokenizer=w,w(n,r)):(t&&n.skipTo("*/")?(n.next(),n.next(),r.tokenizer=w):n.skipToEnd(),"comment")}}function v(e,t){function n(r,i){var o=r.next(),a=r.peek(),s=r.string.charAt(r.pos-2),l="\\"!==o&&a===e||o===e&&"\\"!==s;return l?(o!==e&&t&&r.next(),p(r)&&(i.cursorHalf=0),i.tokenizer=w,"string"):"#"===o&&"{"===a?(i.tokenizer=b(n),r.next(),"operator"):"string"}return null==t&&(t=!0),n}function b(e){return function(t,n){return"}"===t.peek()?(t.next(),n.tokenizer=e,"operator"):w(t,n)}}function y(e){if(0==e.indentCount){e.indentCount++;var n=e.scopes[0].offset,r=n+t.indentUnit;e.scopes.unshift({offset:r})}}function C(e){1!=e.scopes.length&&e.scopes.shift()}function w(e,t){var n=e.peek();if(e.match("/*"))return t.tokenizer=g(e.indentation(),!0),t.tokenizer(e,t);if(e.match("//"))return t.tokenizer=g(e.indentation(),!1),t.tokenizer(e,t);if(e.match("#{"))return t.tokenizer=b(w),"operator";if('"'===n||"'"===n)return e.next(),t.tokenizer=v(n),"string";if(t.cursorHalf){if("#"===n&&(e.next(),e.match(/[0-9a-fA-F]{6}|[0-9a-fA-F]{3}/)))return p(e)&&(t.cursorHalf=0),"number";if(e.match(/^-?[0-9\.]+/))return p(e)&&(t.cursorHalf=0),"number";if(e.match(/^(px|em|in)\b/))return p(e)&&(t.cursorHalf=0),"unit";if(e.match(u))return p(e)&&(t.cursorHalf=0),"keyword";if(e.match(/^url/)&&"("===e.peek())return t.tokenizer=m,p(e)&&(t.cursorHalf=0),"atom";if("$"===n)return e.next(),e.eatWhile(/[\w-]/),p(e)&&(t.cursorHalf=0),"variable-2";if("!"===n)return e.next(),t.cursorHalf=0,e.match(/^[\w]+/)?"keyword":"operator";if(e.match(f))return p(e)&&(t.cursorHalf=0),"operator";if(e.eatWhile(/[\w-]/))return p(e)&&(t.cursorHalf=0),l=e.current().toLowerCase(),o.hasOwnProperty(l)?"atom":i.hasOwnProperty(l)?"keyword":r.hasOwnProperty(l)?(t.prevProp=e.current().toLowerCase(),"property"):"tag";if(p(e))return t.cursorHalf=0,null}else{if("-"===n&&e.match(/^-\w+-/))return"meta";if("."===n){if(e.next(),e.match(/^[\w-]+/))return y(t),"qualifier";if("#"===e.peek())return y(t),"tag"}if("#"===n){if(e.next(),e.match(/^[\w-]+/))return y(t),"builtin";if("#"===e.peek())return y(t),"tag"}if("$"===n)return e.next(),e.eatWhile(/[\w-]/),"variable-2";if(e.match(/^-?[0-9\.]+/))return"number";if(e.match(/^(px|em|in)\b/))return"unit";if(e.match(u))return"keyword";if(e.match(/^url/)&&"("===e.peek())return t.tokenizer=m,"atom";if("="===n&&e.match(/^=[\w-]+/))return y(t),"meta";if("+"===n&&e.match(/^\+[\w-]+/))return"variable-3";if("@"===n&&e.match(/@extend/)&&(e.match(/\s*[\w]/)||C(t)),e.match(/^@(else if|if|media|else|for|each|while|mixin|function)/))return y(t),"def";if("@"===n)return e.next(),e.eatWhile(/[\w-]/),"def";if(e.eatWhile(/[\w-]/)){if(e.match(/ *: *[\w-\+\$#!\("']/,!1)){l=e.current().toLowerCase();var s=t.prevProp+"-"+l;return r.hasOwnProperty(s)?"property":r.hasOwnProperty(l)?(t.prevProp=l,"property"):a.hasOwnProperty(l)?"property":"tag"}return e.match(/ *:/,!1)?(y(t),t.cursorHalf=1,t.prevProp=e.current().toLowerCase(),"property"):(e.match(/ *,/,!1)||y(t),"tag")}if(":"===n)return e.match(h)?"variable-3":(e.next(),t.cursorHalf=1,"operator")}return e.match(f)?"operator":(e.next(),null)}function x(e,n){e.sol()&&(n.indentCount=0);var r=n.tokenizer(e,n),i=e.current();if("@return"!==i&&"}"!==i||C(n),null!==r){for(var o=e.pos-i.length,a=o+t.indentUnit*n.indentCount,s=[],l=0;l<n.scopes.length;l++){var c=n.scopes[l];c.offset<=a&&s.push(c)}n.scopes=s}return r}return{startState:function(){return{tokenizer:w,scopes:[{offset:0,type:"sass"}],indentCount:0,cursorHalf:0,definedVars:[],definedMixins:[]}},token:function(e,t){var n=x(e,t);return t.lastToken={style:n,content:e.current()},n},indent:function(e){return e.scopes[0].offset}}}),"css"),e.defineMIME("text/x-sass","sass")}))},"1be7":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[this.departId?[n("a-spin",{attrs:{spinning:e.loading}},[n("a-form",[n("a-form-item",{attrs:{label:"所拥有的权限"}},[n("a-tree",{staticStyle:{height:"500px",overflow:"auto"},attrs:{checkable:"",checkedKeys:e.checkedKeys,treeData:e.treeData,selectedKeys:e.selectedKeys,expandedKeys:e.expandedKeysss,checkStrictly:e.checkStrictly},on:{check:e.onCheck,expand:e.onExpand,select:e.onTreeNodeSelect},scopedSlots:e._u([{key:"hasDatarule",fn:function(t){var r=t.slotTitle,i=t.ruleFlag;return n("span",{},[e._v("\n              "+e._s(r)+"\n              "),i?n("a-icon",{staticStyle:{"margin-left":"5px",color:"red"},attrs:{type:"align-left"}}):e._e()],1)}}],null,!1,3403517078)})],1)],1)],1),n("div",{staticClass:"anty-form-btn"},[n("a-dropdown",{staticStyle:{float:"left"},attrs:{trigger:["click"],placement:"topCenter"}},[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"3",on:{click:e.checkALL}},[e._v("全部勾选")]),n("a-menu-item",{key:"4",on:{click:e.cancelCheckALL}},[e._v("取消全选")]),n("a-menu-item",{key:"5",on:{click:e.expandAll}},[e._v("展开所有")]),n("a-menu-item",{key:"6",on:{click:e.closeAll}},[e._v("合并所有")])],1),n("a-button",[e._v("\n          树操作 "),n("a-icon",{attrs:{type:"up"}})],1)],1),n("a-button",{staticStyle:{float:"right"},attrs:{type:"primary",htmlType:"button",icon:"form"},on:{click:e.handleSubmit}},[e._v("保存")])],1)]:n("a-card",{staticStyle:{height:"200px"},attrs:{bordered:!1}},[n("a-empty",[n("span",{attrs:{slot:"description"},slot:"description"},[e._v(" 请先选择一个部门! ")])])],1),n("depart-datarule-modal",{ref:"datarule"})],2)},i=[],o=n("4ec3"),a=n("6675");function s(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function l(e){return f(e)||d(e)||u(e)||c()}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){if(e){if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function d(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function f(e){if(Array.isArray(e))return h(e)}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p={name:"DepartAuthModal",components:{DepartDataruleModal:a["default"]},data:function(){return{departId:"",treeData:[],defaultCheckedKeys:[],checkedKeys:[],halfCheckedKeys:[],expandedKeysss:[],allTreeKeys:[],autoExpandParent:!0,checkStrictly:!1,title:"部门权限配置",visible:!1,loading:!1,selectedKeys:[]}},methods:{onTreeNodeSelect:function(e){e&&e.length>0&&(this.selectedKeys=e),this.$refs.datarule.show(this.selectedKeys[0],this.departId)},onCheck:function(e,t){var n=t.halfCheckedKeys;this.checkedKeys=e,this.halfCheckedKeys=n},show:function(e){this.departId=e,this.loadData()},close:function(){this.reset(),this.$emit("close"),this.visible=!1},onExpand:function(e){this.expandedKeysss=e,this.autoExpandParent=!1},reset:function(){this.expandedKeysss=[],this.checkedKeys=[],this.defaultCheckedKeys=[],this.loading=!1},expandAll:function(){this.expandedKeysss=this.allTreeKeys},closeAll:function(){this.expandedKeysss=[]},checkALL:function(){this.checkedKeys=this.allTreeKeys},cancelCheckALL:function(){this.checkedKeys=[]},handleCancel:function(){this.close()},handleSubmit:function(){var e=this;e.departId||this.$message.warning("请点击选择一个部门!");var t=[].concat(l(e.checkedKeys),l(e.halfCheckedKeys)),n=t.join(","),r={departId:e.departId,permissionIds:n,lastpermissionIds:e.defaultCheckedKeys.join(",")};e.loading=!0,Object(o["Q"])(r).then((function(t){t.success?(e.$message.success(t.message),e.loading=!1,e.loadData()):(e.$message.error(t.message),e.loading=!1)}))},convertTreeListToKeyLeafPairs:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=s(e);try{for(r.s();!(t=r.n()).done;){var i=t.value,o=i.key,a=i.isLeaf,l=i.children;n.push({key:o,isLeaf:a}),l&&l.length>0&&this.convertTreeListToKeyLeafPairs(l,n)}}catch(c){r.e(c)}finally{r.f()}return n},emptyCurrForm:function(){this.form.resetFields()},loadData:function(){var e=this;this.loading=!0,Object(o["M"])().then((function(t){e.treeData=t.result.treeList,e.allTreeKeys=t.result.ids;var n=e.convertTreeListToKeyLeafPairs(e.treeData);Object(o["C"])({departId:e.departId}).then((function(t){var r=l(t.result).filter((function(e){var t=n.filter((function(t){return t.key===e}))[0];return t&&t.isLeaf})),i=l(t.result).filter((function(e){var t=n.filter((function(t){return t.key===e}))[0];return t&&!t.isLeaf}));e.checkedKeys=l(r),e.halfCheckedKeys=l(i),e.defaultCheckedKeys=[].concat(l(i),l(r)),e.expandedKeysss=e.allTreeKeys,e.loading=!1}))}))}}},m=p,g=n("2877"),v=Object(g["a"])(m,r,i,!1,null,"a4e89130",null);t["default"]=v.exports},"1c87":function(e,t,n){"use strict";var r=n("0ea0"),i=n.n(r);i.a},"1cf5":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{style:{padding:"0 0 32px 32px"}},[n("h4",{style:{marginBottom:"20px"}},[e._v(e._s(e.title))]),n("v-chart",{attrs:{height:e.height,data:e.data,scale:e.scale,forceFit:!0,padding:["auto","auto","40","50"]}},[n("v-tooltip"),n("v-axis"),n("v-bar",{attrs:{position:"x*y"}})],1)],1)},i=[],o={name:"Bar",props:{title:{type:String,default:""},x:{type:String,default:"x"},y:{type:String,default:"y"},data:{type:Array,default:function(){return[]}},height:{type:Number,default:254}},data:function(){return{}},computed:{scale:function(){return[{dataKey:"x",title:this.x,alias:this.x},{dataKey:"y",title:this.y,alias:this.y}]}},created:function(){},methods:{}},a=o,s=n("2877"),l=Object(s["a"])(a,r,i,!1,null,null,null);t["default"]=l.exports},"1d43":function(e,t,n){"use strict";n.r(t);for(var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"antv-chart-mini"},[n("div",{staticClass:"chart-wrapper",style:{height:46}},[n("v-chart",{attrs:{"force-fit":!0,height:e.height,data:e.data,scale:e.scale,padding:[36,0,18,0]}},[n("v-tooltip"),n("v-smooth-area",{attrs:{position:"x*y"}})],1)],1)])},i=[],o=n("5a0c"),a=n.n(o),s=[],l=(new Date).getTime(),c=0;c<10;c++)s.push({x:a()(new Date(l+864e5*c)).format("YYYY-MM-DD"),y:Math.round(10*Math.random())});var u={name:"MiniArea",props:{dataSource:{type:Array,default:function(){return[]}},x:{type:String,default:"x"},y:{type:String,default:"y"}},data:function(){return{data:[],height:100}},computed:{scale:function(){return[{dataKey:"x",title:this.x,alias:this.x},{dataKey:"y",title:this.y,alias:this.y}]}},created:function(){0===this.dataSource.length?this.data=s:this.data=this.dataSource}},d=u,f=(n("9203"),n("2877")),h=Object(f["a"])(d,r,i,!1,null,"6145ce76",null);t["default"]=h.exports},"1d8c":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchQuery(t)}}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"职务编码"}},[n("a-input",{attrs:{placeholder:"请输入职务编码"},model:{value:e.queryParam.code,callback:function(t){e.$set(e.queryParam,"code",t)},expression:"queryParam.code"}})],1)],1),n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"职务名称"}},[n("a-input",{attrs:{placeholder:"请输入职务名称"},model:{value:e.queryParam.name,callback:function(t){e.$set(e.queryParam,"name",t)},expression:"queryParam.name"}})],1)],1),e.toggleSearchStatus?[n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"职级"}},[n("j-dict-select-tag",{attrs:{placeholder:"请选择职级",dictCode:"position_rank"},model:{value:e.queryParam.postRank,callback:function(t){e.$set(e.queryParam,"postRank",t)},expression:"queryParam.postRank"}})],1)],1)]:e._e(),n("a-col",{attrs:{md:6,sm:8}},[n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")]),n("a",{staticStyle:{"margin-left":"8px"},on:{click:e.handleToggleSearch}},[e._v("\n              "+e._s(e.toggleSearchStatus?"收起":"展开")+"\n              "),n("a-icon",{attrs:{type:e.toggleSearchStatus?"up":"down"}})],1)],1)])],2)],1)],1),n("div",{staticClass:"table-operator"},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("新增")]),n("a-button",{attrs:{type:"primary",icon:"download"},on:{click:function(t){return e.handleExportXls("职务表")}}},[e._v("导出")]),n("a-upload",{attrs:{name:"file",showUploadList:!1,multiple:!1,headers:e.tokenHeader,action:e.importExcelUrl},on:{change:e.handleImportExcel}},[n("a-button",{attrs:{type:"primary",icon:"import"}},[e._v("导入")])],1),e.selectedRowKeys.length>0?n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:e.batchDel}},[n("a-icon",{attrs:{type:"delete"}}),e._v("\n          删除\n        ")],1)],1),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v(" 批量操作\n        "),n("a-icon",{attrs:{type:"down"}})],1)],1):e._e()],1),n("div",[n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),e._v(" 已选择 "),n("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRowKeys.length))]),e._v("项\n      "),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])]),n("a-table",{ref:"table",attrs:{size:"middle",bordered:"",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link"},[e._v("更多 "),n("a-icon",{attrs:{type:"down"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete(r.id)}}},[n("a",[e._v("删除")])])],1)],1)],1)],1)}}])})],1),n("sysPosition-modal",{ref:"modalForm",on:{ok:e.modalFormOk}})],1)},i=[],o=n("8e7c"),a=n("b65a"),s=n("7b16"),l={name:"SysPositionList",mixins:[a["a"]],components:{SysPositionModal:o["default"],JDictSelectTag:s["default"]},data:function(){return{description:"职务表管理页面",columns:[{title:"#",dataIndex:"",key:"rowIndex",width:60,align:"center",customRender:function(e,t,n){return parseInt(n)+1}},{title:"职务编码",align:"center",dataIndex:"code"},{title:"职务名称",align:"center",dataIndex:"name"},{title:"职级",align:"center",dataIndex:"postRank_dictText"},{title:"操作",dataIndex:"action",align:"center",scopedSlots:{customRender:"action"}}],url:{list:"/sys/position/list",delete:"/sys/position/delete",deleteBatch:"/sys/position/deleteBatch",exportXlsUrl:"/sys/position/exportXls",importExcelUrl:"/sys/position/importExcel"}}},computed:{importExcelUrl:function(){return"".concat(window._CONFIG["domianURL"],"/").concat(this.url.importExcelUrl)}}},c=l,u=(n("faf4"),n("2877")),d=Object(u["a"])(c,r,i,!1,null,"8d4da874",null);t["default"]=d.exports},"1dc5":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchQuery(t)}}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:6}},[n("a-form-item",{attrs:{label:"标题"}},[n("a-input",{attrs:{placeholder:"请输入标题"},model:{value:e.queryParam.titile,callback:function(t){e.$set(e.queryParam,"titile",t)},expression:"queryParam.titile"}})],1)],1),n("a-col",{attrs:{span:8}},[n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")])],1)])],1)],1)],1),n("div",{staticClass:"table-operator"},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("新增")]),n("a-button",{attrs:{type:"primary",icon:"download"},on:{click:function(t){return e.handleExportXls("系统通告")}}},[e._v("导出")]),n("a-upload",{attrs:{name:"file",showUploadList:!1,multiple:!1,headers:e.tokenHeader,action:e.importExcelUrl},on:{change:e.handleImportExcel}},[n("a-button",{attrs:{type:"primary",icon:"import"}},[e._v("导入")])],1),e.selectedRowKeys.length>0?n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:e.batchDel}},[n("a-icon",{attrs:{type:"delete"}}),e._v("\n          删除\n        ")],1)],1),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v(" 批量操作\n        "),n("a-icon",{attrs:{type:"down"}})],1)],1):e._e()],1),n("div",[n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),e._v(" 已选择 "),n("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRowKeys.length))]),e._v("项\n      "),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])]),n("a-table",{ref:"table",attrs:{size:"middle",bordered:"",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[0==r.sendStatus?n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")]):e._e(),0==r.sendStatus?n("a-divider",{attrs:{type:"vertical"}}):e._e(),n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link"},[e._v("更多 "),n("a-icon",{attrs:{type:"down"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[1!=r.sendStatus?n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete(r.id)}}},[n("a",[e._v("删除")])])],1):e._e(),0==r.sendStatus?n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定发布吗?"},on:{confirm:function(){return e.releaseData(r.id)}}},[n("a",[e._v("发布")])])],1):e._e(),1==r.sendStatus?n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定撤销吗?"},on:{confirm:function(){return e.reovkeData(r.id)}}},[n("a",[e._v("撤销")])])],1):e._e(),n("a-menu-item",[n("a",{on:{click:function(t){return e.handleDetail(r)}}},[e._v("查看")])])],1)],1)],1)}}])})],1),n("sysAnnouncement-modal",{ref:"modalForm",on:{ok:e.modalFormOk}})],1)},i=[],o=n("4647"),a=n("4ec3"),s=n("0fea"),l=n("b65a"),c={name:"SysAnnouncementList",mixins:[l["a"]],components:{SysAnnouncementModal:o["default"]},data:function(){return{description:"系统通告表管理页面",queryParam:{},columns:[{title:"#",dataIndex:"",key:"rowIndex",width:60,align:"center",customRender:function(e,t,n){return parseInt(n)+1}},{title:"标题",align:"center",dataIndex:"titile"},{title:"消息类型",align:"center",dataIndex:"msgCategory",customRender:function(e){return"1"==e?"通知公告":"2"==e?"系统消息":e}},{title:"发布人",align:"center",dataIndex:"sender"},{title:"优先级",align:"center",dataIndex:"priority",customRender:function(e){return"L"==e?"低":"M"==e?"中":"H"==e?"高":e}},{title:"通告对象",align:"center",dataIndex:"msgType",customRender:function(e){return"USER"==e?"指定用户":"ALL"==e?"全体用户":e}},{title:"发布状态",align:"center",dataIndex:"sendStatus",customRender:function(e){return 0==e?"未发布":1==e?"已发布":2==e?"已撤销":e}},{title:"发布时间",align:"center",dataIndex:"sendTime"},{title:"撤销时间",align:"center",dataIndex:"cancelTime"},{title:"操作",dataIndex:"action",align:"center",scopedSlots:{customRender:"action"}}],url:{list:"/sys/annountCement/list",delete:"/sys/annountCement/delete",deleteBatch:"/sys/annountCement/deleteBatch",releaseDataUrl:"/sys/annountCement/doReleaseData",reovkeDataUrl:"sys/annountCement/doReovkeData",exportXlsUrl:"sys/annountCement/exportXls",importExcelUrl:"sys/annountCement/importExcel"}}},computed:{importExcelUrl:function(){return"".concat(window._CONFIG["domianURL"],"/").concat(this.url.importExcelUrl)}},methods:{releaseData:function(e){var t=this;Object(a["k"])({id:e}).then((function(e){e.success?(t.$message.success(e.message),t.loadData(1)):t.$message.warning(e.message)}))},reovkeData:function(e){var t=this,n=this;Object(a["l"])({id:e}).then((function(r){r.success?(n.$message.success(r.message),n.loadData(1),t.syncHeadNotic(e)):n.$message.warning(r.message)}))},syncHeadNotic:function(e){Object(s["c"])("sys/annountCement/syncNotic",{anntId:e})}}},u=c,d=(n("d18f"),n("2877")),f=Object(d["a"])(u,r,i,!1,null,"6e511400",null);t["default"]=f.exports},"1e29":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"components-input-demo-presuffix"},[n("a-input",{attrs:{placeholder:"corn表达式"},on:{click:e.openModal,change:e.handleOK},model:{value:e.cron,callback:function(t){e.cron=t},expression:"cron"}},[n("a-icon",{attrs:{slot:"prefix",type:"schedule",title:"corn控件"},slot:"prefix"}),e.cron?n("a-icon",{attrs:{slot:"suffix",type:"close-circle",title:"清空"},on:{click:e.handleEmpty},slot:"suffix"}):e._e()],1),n("JCronModal",{ref:"innerVueCron",attrs:{data:e.cron},on:{ok:e.handleOK}})],1)},i=[],o=n("0ed5"),a={name:"JCron",components:{JCronModal:o["default"]},props:{value:{required:!1,type:String}},data:function(){return{cron:this.value}},watch:{value:function(e){this.cron=e}},methods:{openModal:function(){this.$refs.innerVueCron.show()},handleOK:function(e){this.cron=e,this.$emit("change",this.cron)},handleEmpty:function(){this.handleOK("")}},model:{prop:"value",event:"change"}},s=a,l=(n("7746c"),n("2877")),c=Object(l["a"])(s,r,i,!1,null,"f1345774",null);t["default"]=c.exports},"1e39":function(e,t,n){"use strict";var r=n("e06f"),i=n.n(r);i.a},"1e8c":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("j-select-biz-component",e._g(e._b({attrs:{value:e.value,name:"角色",displayKey:"roleName",returnKeys:e.returnKeys,listUrl:e.url.list,columns:e.columns,queryParamText:"角色编码"}},"j-select-biz-component",e.$attrs,!1),e.$listeners))},i=[],o=n("b296"),a={name:"JSelectRole",components:{JSelectBizComponent:o["default"]},props:["value"],data:function(){return{returnKeys:["id","roleCode"],url:{list:"/sys/role/list"},columns:[{title:"角色名称",dataIndex:"roleName",align:"center",width:120},{title:"角色编码",dataIndex:"roleCode",align:"center",width:120}]}}},s=a,l=n("2877"),c=Object(l["a"])(s,r,i,!1,null,"4d57a268",null);t["default"]=c.exports},"1f38":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var r=function(){return"undefined"!==typeof window?window:e},i=function(){var e=r();return e&&e.tinymce?e.tinymce:null}}).call(this,n("c8ba"))},"220f":function(e,t,n){},"222d":function(e,t,n){"use strict";var r=n("abfd"),i=n.n(r);i.a},2285:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-drawer",{attrs:{title:"数据规则/按钮权限配置",width:"365",closable:!1,visible:e.visible},on:{close:e.onClose}},[n("a-tabs",{attrs:{defaultActiveKey:"1"}},[n("a-tab-pane",{key:"1",attrs:{tab:"数据规则"}},[e.dataruleList.length>0?n("a-checkbox-group",{model:{value:e.dataruleChecked,callback:function(t){e.dataruleChecked=t},expression:"dataruleChecked"}},[n("a-row",[e._l(e.dataruleList,(function(t,r){return n("a-col",{key:"dr"+r,attrs:{span:24}},[n("a-checkbox",{attrs:{value:t.id}},[e._v(e._s(t.ruleName))])],1)})),n("a-col",{attrs:{span:24}},[n("div",{staticStyle:{width:"100%","margin-top":"15px"}},[n("a-button",{attrs:{type:"primary",size:"small",icon:"save"},on:{click:e.saveDataruleForRole}},[e._v("点击保存")])],1)])],2)],1):n("div",[n("h3",[e._v("无配置信息!")])])],1)],1)],1)},i=[],o=n("290c"),a=n("da05"),s=n("0fea"),l={name:"RoleDataruleModal",components:{ACol:a["b"],ARow:o["a"]},data:function(){return{functionId:"",roleId:"",visible:!1,tabList:[{key:"1",tab:"数据规则"},{key:"2",tab:"按钮权限"}],activeTabKey:"1",url:{datarule:"/sys/role/datarule"},dataruleList:[],dataruleChecked:[]}},methods:{loadData:function(){var e=this;Object(s["c"])("".concat(this.url.datarule,"/").concat(this.functionId,"/").concat(this.roleId)).then((function(t){if(t.success){e.dataruleList=t.result.datarule;var n=t.result.drChecked;n&&(e.dataruleChecked=n.split(","))}}))},saveDataruleForRole:function(){var e=this;this.dataruleChecked&&0!=this.dataruleChecked.length||this.$message.warning("请注意，现未勾选任何数据权限!");var t={permissionId:this.functionId,roleId:this.roleId,dataRuleIds:this.dataruleChecked.join(",")};Object(s["i"])(this.url.datarule,t).then((function(t){t.success?e.$message.success(t.message):e.$message.error(t.message)}))},show:function(e,t){this.onReset(),this.functionId=e,this.roleId=t,this.visible=!0,this.loadData()},onClose:function(){this.visible=!1,this.onReset()},onTabChange:function(e){this.activeTabKey=e},onReset:function(){this.functionId="",this.roleId="",this.dataruleList=[],this.dataruleChecked=[]}}},c=l,u=n("2877"),d=Object(u["a"])(c,r,i,!1,null,"435b66de",null);t["default"]=d.exports},"23fe":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:[e.prefixCls]},[e._t("subtitle",[n("div",{class:[e.prefixCls+"-subtitle"]},[e._v(e._s("string"===typeof e.subTitle?e.subTitle:e.subTitle()))])]),n("div",{staticClass:"number-info-value"},[n("span",[e._v(e._s(e.total))]),n("span",{staticClass:"sub-total"},[e._v("\n      "+e._s(e.subTotal)+"\n      "),n("icon",{attrs:{type:"caret-"+e.status}})],1)])],2)},i=[],o=n("0c63"),a={name:"NumberInfo",props:{prefixCls:{type:String,default:"ant-pro-number-info"},total:{type:Number,required:!0},subTotal:{type:Number,required:!0},subTitle:{type:[String,Function],default:""},status:{type:String,default:"up"}},components:{Icon:o["a"]},data:function(){return{}}},s=a,l=(n("a5fb"),n("2877")),c=Object(l["a"])(s,r,i,!1,null,"33b2ad93",null);t["default"]=c.exports},2401:function(e,t){(function(e){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=function(){},r=function(e){return function(){return e}},i=function(e){return function(t){return!e(t)}},o=r(!1),a=r(!0),s=function(){return l},l=function(){var e=function(e){return e.isNone()},t=function(e){return e()},i=function(e){return e},l={fold:function(e,t){return e()},is:o,isSome:o,isNone:a,getOr:i,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:r(null),getOrUndefined:r(void 0),or:i,orThunk:t,map:s,each:n,bind:s,exists:o,forall:a,filter:s,equals:e,equals_:e,toArray:function(){return[]},toString:r("none()")};return l}(),c=function(e){var t=r(e),n=function(){return s},i=function(t){return t(e)},s={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:a,isNone:o,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return c(t(e))},each:function(t){t(e)},bind:i,exists:i,forall:i,filter:function(t){return t(e)?s:l},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(o,(function(t){return n(e,t)}))}};return s},u=function(e){return null===e||void 0===e?l:c(e)},d={some:c,none:s,from:u},f=function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},h=function(e){return function(t){return f(t)===e}},p=function(e){return function(t){return typeof t===e}},m=h("string"),g=h("array"),v=p("boolean"),b=p("function"),y=p("number"),C=Array.prototype.slice,w=Array.prototype.push,x=function(e,t){for(var n=e.length,r=new Array(n),i=0;i<n;i++){var o=e[i];r[i]=t(o,i)}return r},I=function(e,t){for(var n=0,r=e.length;n<r;n++){var i=e[n];t(i,n)}},A=function(e,t){for(var n=[],r=0,i=e.length;r<i;r++){var o=e[r];t(o,r)&&n.push(o)}return n},k=function(e,t){if(0===e.length)return[];for(var n=t(e[0]),r=[],i=[],o=0,a=e.length;o<a;o++){var s=e[o],l=t(s);l!==n&&(r.push(i),i=[]),n=l,i.push(s)}return 0!==i.length&&r.push(i),r},S=function(e,t,n){return I(e,(function(e){n=t(n,e)})),n},_=function(e,t,n){for(var r=0,i=e.length;r<i;r++){var o=e[r];if(t(o,r))return d.some(o);if(n(o,r))break}return d.none()},T=function(e,t){return _(e,t,o)},E=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!g(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);w.apply(t,e[n])}return t},O=function(e,t){return E(x(e,t))},R=function(e){var t=C.call(e,0);return t.reverse(),t},N=function(e){return 0===e.length?d.none():d.some(e[0])},L=function(e){return 0===e.length?d.none():d.some(e[e.length-1])},D=function(e,t,n){return 0!==(e.compareDocumentPosition(t)&n)},B=function(t,n){return D(t,n,e.Node.DOCUMENT_POSITION_CONTAINED_BY)},M=function(){return M=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},M.apply(this,arguments)},P=function(e){var t,n=!1;return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return n||(n=!0,t=e.apply(null,r)),t}},F=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}},j=function(e,t){var n=F(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return $(r(1),r(2))},H=function(e,t){var n=String(t).toLowerCase();return 0===e.length?z():j(e,n)},z=function(){return $(0,0)},$=function(e,t){return{major:e,minor:t}},V={nu:$,detect:H,unknown:z},W="Edge",K="Chrome",G="IE",Z="Opera",U="Firefox",q="Safari",X=function(){return Y({current:void 0,version:V.unknown()})},Y=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isEdge:r(W),isChrome:r(K),isIE:r(G),isOpera:r(Z),isFirefox:r(U),isSafari:r(q)}},J={unknown:X,nu:Y,edge:r(W),chrome:r(K),ie:r(G),opera:r(Z),firefox:r(U),safari:r(q)},Q="Windows",ee="iOS",te="Android",ne="Linux",re="OSX",ie="Solaris",oe="FreeBSD",ae="ChromeOS",se=function(){return le({current:void 0,version:V.unknown()})},le=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isWindows:r(Q),isiOS:r(ee),isAndroid:r(te),isOSX:r(re),isLinux:r(ne),isSolaris:r(ie),isFreeBSD:r(oe),isChromeOS:r(ae)}},ce={unknown:se,nu:le,windows:r(Q),ios:r(ee),android:r(te),linux:r(ne),osx:r(re),solaris:r(ie),freebsd:r(oe),chromeos:r(ae)},ue=function(e,t,n,i){var o=e.isiOS()&&!0===/ipad/i.test(n),a=e.isiOS()&&!o,s=e.isiOS()||e.isAndroid(),l=s||i("(pointer:coarse)"),c=o||!a&&s&&i("(min-device-width:768px)"),u=a||s&&!c,d=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),f=!u&&!c&&!d;return{isiPad:r(o),isiPhone:r(a),isTablet:r(c),isPhone:r(u),isTouch:r(l),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:r(d),isDesktop:r(f)}},de=function(e,t){var n=String(t).toLowerCase();return T(e,(function(e){return e.search(n)}))},fe=function(e,t){return de(e,t).map((function(e){var n=V.detect(e.versionRegexes,t);return{current:e.name,version:n}}))},he=function(e,t){return de(e,t).map((function(e){var n=V.detect(e.versionRegexes,t);return{current:e.name,version:n}}))},pe={detectBrowser:fe,detectOs:he},me=function(e,t){return-1!==e.indexOf(t)},ge=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ve=function(e){return function(t){return me(t,e)}},be=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return me(e,"edge/")&&me(e,"chrome")&&me(e,"safari")&&me(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ge],search:function(e){return me(e,"chrome")&&!me(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return me(e,"msie")||me(e,"trident")}},{name:"Opera",versionRegexes:[ge,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ve("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ve("firefox")},{name:"Safari",versionRegexes:[ge,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(me(e,"safari")||me(e,"mobile/"))&&me(e,"applewebkit")}}],ye=[{name:"Windows",search:ve("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return me(e,"iphone")||me(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ve("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:ve("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ve("linux"),versionRegexes:[]},{name:"Solaris",search:ve("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ve("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ve("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Ce={browsers:r(be),oses:r(ye)},we=function(e,t){var n=Ce.browsers(),r=Ce.oses(),i=pe.detectBrowser(n,e).fold(J.unknown,J.nu),o=pe.detectOs(r,e).fold(ce.unknown,ce.nu),a=ue(o,i,e,t);return{browser:i,os:o,deviceType:a}},xe={detect:we},Ie=function(t){return e.window.matchMedia(t).matches},Ae=P((function(){return xe.detect(e.navigator.userAgent,Ie)})),ke=function(){return Ae()},Se=function(t,n){var r=n||e.document,i=r.createElement("div");if(i.innerHTML=t,!i.hasChildNodes()||i.childNodes.length>1)throw e.console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return Ee(i.childNodes[0])},_e=function(t,n){var r=n||e.document,i=r.createElement(t);return Ee(i)},Te=function(t,n){var r=n||e.document,i=r.createTextNode(t);return Ee(i)},Ee=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:r(e)}},Oe=function(e,t,n){var r=e.dom();return d.from(r.elementFromPoint(t,n)).map(Ee)},Re={fromHtml:Se,fromTag:_e,fromText:Te,fromDom:Ee,fromPoint:Oe},Ne=1,Le=function(e,t){var n=e.dom();if(n.nodeType!==Ne)return!1;var r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},De=function(e,t){return e.dom()===t.dom()},Be=function(e,t){var n=e.dom(),r=t.dom();return n!==r&&n.contains(r)},Me=function(e,t){return B(e.dom(),t.dom())},Pe=function(e,t){return ke().browser.isIE()?Me(e,t):Be(e,t)},Fe=Le,je=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),He=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),ze=tinymce.util.Tools.resolve("tinymce.util.VK"),$e=function(e,t,n){return e.isSome()&&t.isSome()?d.some(n(e.getOrDie(),t.getOrDie())):d.none()},Ve=function(t,n){var r=n||e.document,i=r.createDocumentFragment();return I(t,(function(e){i.appendChild(e.dom())})),Re.fromDom(i)},We=("undefined"!==typeof e.window?e.window:Function("return this;")(),function(e){var t=e.dom().nodeName;return t.toLowerCase()}),Ke=function(e){return e.dom().nodeType},Ge=function(e){return function(t){return Ke(t)===e}},Ze=Ge(Ne),Ue=function(e){return d.from(e.dom().parentNode).map(Re.fromDom)},qe=function(e){return x(e.dom().childNodes,Re.fromDom)},Xe=function(e,t){var n=e.dom().childNodes;return d.from(n[t]).map(Re.fromDom)},Ye=function(e){return Xe(e,0)},Je=function(e){return Xe(e,e.dom().childNodes.length-1)},Qe=function(e,t){var n=Ue(e);n.each((function(n){n.dom().insertBefore(t.dom(),e.dom())}))},et=function(e,t){e.dom().appendChild(t.dom())},tt=function(e,t){I(t,(function(t){Qe(e,t)}))},nt=function(e,t){I(t,(function(t){et(e,t)}))},rt=function(e){var t=e.dom();null!==t.parentNode&&t.parentNode.removeChild(t)},it=function(e,t,n){return e.fire("ListMutation",{action:t,element:n})},ot=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),at=tinymce.util.Tools.resolve("tinymce.util.Tools"),st=function(e){return function(t){return t&&t.nodeName.toLowerCase()===e}},lt=function(e){return function(t){return t&&e.test(t.nodeName)}},ct=function(e){return e&&3===e.nodeType},ut=lt(/^(OL|UL|DL)$/),dt=lt(/^(OL|UL)$/),ft=st("ol"),ht=lt(/^(LI|DT|DD)$/),pt=lt(/^(DT|DD)$/),mt=lt(/^(TH|TD)$/),gt=st("br"),vt=function(e){return e.parentNode.firstChild===e},bt=function(e,t){return t&&!!e.schema.getTextBlockElements()[t.nodeName]},yt=function(e,t){return e&&e.nodeName in t},Ct=function(e,t){return!!gt(t)&&!(!e.isBlock(t.nextSibling)||gt(t.previousSibling))},wt=function(e,t,n){var r=e.isEmpty(t);return!(n&&e.select("span[data-mce-type=bookmark]",t).length>0)&&r},xt=function(e,t){return e.isChildOf(t,e.getRoot())},It=function(e,t){var n=t||e.selection.getStart(!0);return e.dom.getParent(n,"OL,UL,DL",Ot(e,n))},At=function(e,t){return e&&1===t.length&&t[0]===e},kt=function(e){return at.grep(e.querySelectorAll("ol,ul,dl"),(function(e){return ut(e)}))},St=function(e){var t=It(e),n=e.selection.getSelectedBlocks();return At(t,n)?kt(t):at.grep(n,(function(e){return ut(e)&&t!==e}))},_t=function(e,t){var n=at.map(t,(function(t){var n=e.dom.getParent(t,"li,dd,dt",Ot(e,t));return n||t}));return ot.unique(n)},Tt=function(e){var t=e.selection.getSelectedBlocks();return at.grep(_t(e,t),(function(e){return ht(e)}))},Et=function(e){return A(Tt(e),pt)},Ot=function(e,t){var n=e.dom.getParents(t,"TD,TH"),r=n.length>0?n[0]:e.getBody();return r},Rt=function(e,t){var n=e.dom.getParents(t,"ol,ul",Ot(e,t));return L(n)},Nt=function(e){var t=Rt(e,e.selection.getStart()),n=A(e.selection.getSelectedBlocks(),dt);return t.toArray().concat(n)},Lt=function(e){var t=Nt(e);return Dt(e,t)},Dt=function(e,t){var n=x(t,(function(t){return Rt(e,t).getOr(t)}));return ot.unique(n)},Bt=function(e){return e.getParam("lists_indent_on_tab",!0)},Mt=function(e){var t=e.getParam("forced_root_block","p");return!1===t?"":!0===t?"p":t},Pt=function(e){return e.getParam("forced_root_block_attrs",{})},Ft=function(e,t){var n,r,i,o=e.dom,a=e.schema.getBlockElements(),s=o.createFragment(),l=Mt(e);if(l&&(r=o.create(l),r.tagName===l.toUpperCase()&&o.setAttribs(r,Pt(e)),yt(t.firstChild,a)||s.appendChild(r)),t)while(n=t.firstChild){var c=n.nodeName;i||"SPAN"===c&&"bookmark"===n.getAttribute("data-mce-type")||(i=!0),yt(n,a)?(s.appendChild(n),r=null):l?(r||(r=o.create(l),s.appendChild(r)),r.appendChild(n)):s.appendChild(n)}return l?i||r.appendChild(o.create("br",{"data-mce-bogus":"1"})):s.appendChild(o.create("br")),s},jt=Object.keys,Ht=function(e,t){for(var n=jt(e),r=0,i=n.length;r<i;r++){var o=n[r],a=e[o];t(a,o)}},zt=function(e){return function(t,n){e[n]=t}},$t=function(e,t,n,r){var i={};return Ht(e,(function(e,i){(t(e,i)?n:r)(e,i)})),i},Vt=function(e,t){var r={};return $t(e,t,zt(r),n),r},Wt=function(t,n,r){if(!(m(r)||v(r)||y(r)))throw e.console.error("Invalid call to Attr.set. Key ",n,":: Value ",r,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(n,r+"")},Kt=function(e,t){var n=e.dom();Ht(t,(function(e,t){Wt(n,t,e)}))},Gt=function(e){return S(e.dom().attributes,(function(e,t){return e[t.name]=t.value,e}),{})},Zt=function(e){return void 0!==e.style&&b(e.style.getPropertyValue)},Ut=(b(e.Element.prototype.attachShadow)&&b(e.Node.prototype.getRootNode),function(t,n,r){if(!m(r))throw e.console.error("Invalid call to CSS.set. Property ",n,":: Value ",r,":: Element ",t),new Error("CSS value must be a string: "+r);Zt(t)&&t.style.setProperty(n,r)}),qt=function(e,t,n){var r=e.dom();Ut(r,t,n)},Xt=function(e,t){return Re.fromDom(e.dom().cloneNode(t))},Yt=function(e){return Xt(e,!0)},Jt=function(e,t){var n=Re.fromTag(t),r=Gt(e);return Kt(n,r),n},Qt=function(e,t){var n=Jt(e,t);Qe(e,n);var r=qe(e);return nt(n,r),rt(e),n},en=function(e,t){et(e.item,t.list)},tn=function(e){for(var t=1;t<e.length;t++)en(e[t-1],e[t])},nn=function(e,t){$e(L(e),N(t),en)},rn=function(e,t){var n={list:Re.fromTag(t,e),item:Re.fromTag("li",e)};return et(n.list,n.item),n},on=function(e,t,n){for(var r=[],i=0;i<n;i++)r.push(rn(e,t.listType));return r},an=function(e,t){for(var n=0;n<e.length-1;n++)qt(e[n].item,"list-style-type","none");L(e).each((function(e){Kt(e.list,t.listAttributes),Kt(e.item,t.itemAttributes),nt(e.item,t.content)}))},sn=function(e,t){We(e.list)!==t.listType&&(e.list=Qt(e.list,t.listType)),Kt(e.list,t.listAttributes)},ln=function(e,t,n){var r=Re.fromTag("li",e);return Kt(r,t),nt(r,n),r},cn=function(e,t){et(e.list,t),e.item=t},un=function(e,t,n){var r=t.slice(0,n.depth);return L(r).each((function(t){var r=ln(e,n.itemAttributes,n.content);cn(t,r),sn(t,n)})),r},dn=function(e,t,n){var r=on(e,n,n.depth-t.length);return tn(r),an(r,n),nn(t,r),t.concat(r)},fn=function(e,t){var n=S(t,(function(t,n){return n.depth>t.length?dn(e,t,n):un(e,t,n)}),[]);return N(n).map((function(e){return e.list}))},hn=function(e){return Fe(e,"OL,UL")},pn=function(e){return Ye(e).map(hn).getOr(!1)},mn=function(e){return Je(e).map(hn).getOr(!1)},gn=function(e){return e.depth>0},vn=function(e){return e.isSelected},bn=function(e){var t=qe(e),n=mn(e)?t.slice(0,-1):t;return x(n,Yt)},yn=function(e,t,n){return Ue(e).filter(Ze).map((function(r){return{depth:t,dirty:!1,isSelected:n,content:bn(e),itemAttributes:Gt(e),listAttributes:Gt(r),listType:We(r)}}))},Cn=function(e,t){switch(e){case"Indent":t.depth++;break;case"Outdent":t.depth--;break;case"Flatten":t.depth=0}t.dirty=!0},wn=function(e,t){e.listType=t.listType,e.listAttributes=M({},t.listAttributes)},xn=function(e){e.listAttributes=Vt(e.listAttributes,(function(e,t){return"start"!==t}))},In=function(e,t){var n=e[t].depth,r=function(e){return e.depth===n&&!e.dirty},i=function(e){return e.depth<n};return _(R(e.slice(0,t)),r,i).orThunk((function(){return _(e.slice(t+1),r,i)}))},An=function(e){return I(e,(function(t,n){In(e,n).fold((function(){t.dirty&&xn(t)}),(function(e){return wn(t,e)}))})),e},kn=function(e){var t=e,n=function(){return t},r=function(e){t=e};return{get:n,set:r}},Sn=function(e,t,n,r){return Ye(r).filter(hn).fold((function(){t.each((function(e){De(e.start,r)&&n.set(!0)}));var i=yn(r,e,n.get());t.each((function(e){De(e.end,r)&&n.set(!1)}));var o=Je(r).filter(hn).map((function(r){return _n(e,t,n,r)})).getOr([]);return i.toArray().concat(o)}),(function(r){return _n(e,t,n,r)}))},_n=function(e,t,n,r){return O(qe(r),(function(r){var i=hn(r)?_n:Sn,o=e+1;return i(o,t,n,r)}))},Tn=function(e,t){var n=kn(!1),r=0;return x(e,(function(e){return{sourceList:e,entries:_n(r,t,n,e)}}))},En=function(e,t){var n=An(t);return x(n,(function(t){var n=Ve(t.content);return Re.fromDom(Ft(e,n.dom()))}))},On=function(e,t){var n=An(t);return fn(e.contentDocument,n).toArray()},Rn=function(e,t){return O(k(t,gn),(function(t){var n=N(t).map(gn).getOr(!1);return n?On(e,t):En(e,t)}))},Nn=function(e,t){I(A(e,vn),(function(e){return Cn(t,e)}))},Ln=function(e){var t=x(Tt(e),Re.fromDom);return $e(T(t,i(pn)),T(R(t),i(pn)),(function(e,t){return{start:e,end:t}}))},Dn=function(e,t,n){var r=Tn(t,Ln(e));I(r,(function(t){Nn(t.entries,n);var r=Rn(e,t.entries);I(r,(function(t){it(e,"Indent"===n?"IndentList":"OutdentList",t.dom())})),tt(t.sourceList,r),rt(t.sourceList)}))},Bn=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Mn=Bn.DOM,Pn=function(e,t,n){var r=function(e){at.each(i,(function(t){e.parentNode.insertBefore(t,n.parentNode)})),Mn.remove(e)},i=Mn.select('span[data-mce-type="bookmark"]',t),o=Ft(e,n),a=Mn.createRng();a.setStartAfter(n),a.setEndAfter(t);for(var s=a.extractContents(),l=s.firstChild;l;l=l.firstChild)if("LI"===l.nodeName&&e.dom.isEmpty(l)){Mn.remove(l);break}e.dom.isEmpty(s)||Mn.insertAfter(s,t),Mn.insertAfter(o,t),wt(e.dom,n.parentNode)&&r(n.parentNode),Mn.remove(n),wt(e.dom,t)&&Mn.remove(t)},Fn=function(e,t){Fe(t,"dd")?Qt(t,"dt"):Fe(t,"dt")&&Ue(t).each((function(n){return Pn(e,n.dom(),t.dom())}))},jn=function(e){Fe(e,"dt")&&Qt(e,"dd")},Hn=function(e,t,n){I(n,"Indent"===t?jn:function(t){return Fn(e,t)})},zn=function(e,t){if(ct(e))return{container:e,offset:t};var n=je.getNode(e,t);return ct(n)?{container:n,offset:t>=e.childNodes.length?n.data.length:0}:n.previousSibling&&ct(n.previousSibling)?{container:n.previousSibling,offset:n.previousSibling.data.length}:n.nextSibling&&ct(n.nextSibling)?{container:n.nextSibling,offset:0}:{container:e,offset:t}},$n=function(e){var t=e.cloneRange(),n=zn(e.startContainer,e.startOffset);t.setStart(n.container,n.offset);var r=zn(e.endContainer,e.endOffset);return t.setEnd(r.container,r.offset),t},Vn=function(e,t){var n=x(Lt(e),Re.fromDom),r=x(Et(e),Re.fromDom),i=!1;if(n.length||r.length){var o=e.selection.getBookmark();Dn(e,n,t),Hn(e,t,r),e.selection.moveToBookmark(o),e.selection.setRng($n(e.selection.getRng())),e.nodeChanged(),i=!0}return i},Wn=function(e){return Vn(e,"Indent")},Kn=function(e){return Vn(e,"Outdent")},Gn=function(e){return Vn(e,"Flatten")},Zn=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),Un=Bn.DOM,qn=function(e){var t={},n=function(n){var r,i,o;i=e[n?"startContainer":"endContainer"],o=e[n?"startOffset":"endOffset"],1===i.nodeType&&(r=Un.create("span",{"data-mce-type":"bookmark"}),i.hasChildNodes()?(o=Math.min(o,i.childNodes.length-1),n?i.insertBefore(r,i.childNodes[o]):Un.insertAfter(r,i.childNodes[o])):i.appendChild(r),i=r,o=0),t[n?"startContainer":"endContainer"]=i,t[n?"startOffset":"endOffset"]=o};return n(!0),e.collapsed||n(),t},Xn=function(e){function t(t){var n,r,i,o=function(e){var t=e.parentNode.firstChild,n=0;while(t){if(t===e)return n;1===t.nodeType&&"bookmark"===t.getAttribute("data-mce-type")||n++,t=t.nextSibling}return-1};n=i=e[t?"startContainer":"endContainer"],r=e[t?"startOffset":"endOffset"],n&&(1===n.nodeType&&(r=o(n),n=n.parentNode,Un.remove(i),!n.hasChildNodes()&&Un.isBlock(n)&&n.appendChild(Un.create("br"))),e[t?"startContainer":"endContainer"]=n,e[t?"startOffset":"endOffset"]=r)}t(!0),t();var n=Un.createRng();return n.setStart(e.startContainer,e.startOffset),e.endContainer&&n.setEnd(e.endContainer,e.endOffset),$n(n)},Yn=function(e){switch(e){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},Jn=function(e){return/\btox\-/.test(e.className)},Qn=function(e,t,n){return function(){var r=function(e){var r=_(e.parents,ut,mt).filter((function(e){return e.nodeName===t&&!Jn(e)})).isSome();n(r)};return e.on("NodeChange",r),function(){return e.off("NodeChange",r)}}},er=function(e,t,n){var r=n["list-style-type"]?n["list-style-type"]:null;e.setStyle(t,"list-style-type",r)},tr=function(e,t){at.each(t,(function(t,n){e.setAttribute(n,t)}))},nr=function(e,t,n){tr(t,n["list-attributes"]),at.each(e.select("li",t),(function(e){tr(e,n["list-item-attributes"])}))},rr=function(e,t,n){er(e,t,n),nr(e,t,n)},ir=function(e,t,n){at.each(n,(function(n){var r;return e.setStyle(t,(r={},r[n]="",r))}))},or=function(e,t,n,r){var i=t[n?"startContainer":"endContainer"],o=t[n?"startOffset":"endOffset"];1===i.nodeType&&(i=i.childNodes[Math.min(o,i.childNodes.length-1)]||i),!n&&gt(i.nextSibling)&&(i=i.nextSibling);while(i.parentNode!==r){if(bt(e,i))return i;if(/^(TD|TH)$/.test(i.parentNode.nodeName))return i;i=i.parentNode}return i},ar=function(e,t,n){for(var r,i=[],o=e.dom,a=or(e,t,!0,n),s=or(e,t,!1,n),l=[],c=a;c;c=c.nextSibling)if(l.push(c),c===s)break;return at.each(l,(function(t){if(bt(e,t))return i.push(t),void(r=null);if(o.isBlock(t)||gt(t))return gt(t)&&o.remove(t),void(r=null);var a=t.nextSibling;Zn.isBookmarkNode(t)&&(bt(e,a)||!a&&t.parentNode===n)?r=null:(r||(r=o.create("p"),t.parentNode.insertBefore(r,t),i.push(r)),r.appendChild(t))})),i},sr=function(e,t,n){var r=e.getStyle(t,"list-style-type"),i=n?n["list-style-type"]:"";return i=null===i?"":i,r===i},lr=function(e,t,n){void 0===n&&(n={});var r=e.selection.getRng(),i="LI",o=Ot(e,e.selection.getStart(!0)),a=e.dom;if("false"!==a.getContentEditable(e.selection.getNode())){t=t.toUpperCase(),"DL"===t&&(i="DT");var s=qn(r);at.each(ar(e,r,o),(function(r){var o,s=r.previousSibling;s&&ut(s)&&s.nodeName===t&&sr(a,s,n)?(o=s,r=a.rename(r,i),s.appendChild(r)):(o=a.create(t),r.parentNode.insertBefore(o,r),o.appendChild(r),r=a.rename(r,i)),ir(a,r,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),rr(a,o,n),hr(e.dom,o)})),e.selection.setRng(Xn(s))}},cr=function(e,t){return e&&t&&ut(e)&&e.nodeName===t.nodeName},ur=function(e,t,n){var r=e.getStyle(t,"list-style-type",!0),i=e.getStyle(n,"list-style-type",!0);return r===i},dr=function(e,t){return e.className===t.className},fr=function(e,t,n){return cr(t,n)&&ur(e,t,n)&&dr(t,n)},hr=function(e,t){var n,r;if(n=t.nextSibling,fr(e,t,n)){while(r=n.firstChild)t.appendChild(r);e.remove(n)}if(n=t.previousSibling,fr(e,t,n)){while(r=n.lastChild)t.insertBefore(r,t.firstChild);e.remove(n)}},pr=function(e,t,n,r){if(t.nodeName!==n){var i=e.dom.rename(t,n);rr(e.dom,i,r),it(e,Yn(n),i)}else rr(e.dom,t,r),it(e,Yn(n),t)},mr=function(e,t,n,r,i){if(t.nodeName!==r||gr(i)){var o=qn(e.selection.getRng(!0));at.each([t].concat(n),(function(t){pr(e,t,r,i)})),e.selection.setRng(Xn(o))}else Gn(e)},gr=function(e){return"list-style-type"in e},vr=function(e,t,n,r){if(t!==e.getBody())if(t)if(t.nodeName!==n||gr(r)||Jn(t)){var i=qn(e.selection.getRng(!0));rr(e.dom,t,r);var o=e.dom.rename(t,n);hr(e.dom,o),e.selection.setRng(Xn(i)),it(e,Yn(n),o)}else Gn(e);else lr(e,n,r),it(e,Yn(n),t)},br=function(e,t,n){var r=It(e),i=St(e);n=n||{},r&&i.length>0?mr(e,r,i,t,n):vr(e,r,t,n)},yr=Bn.DOM,Cr=function(e,t){var n,r=t.parentNode;"LI"===r.nodeName&&r.firstChild===t&&(n=r.previousSibling,n&&"LI"===n.nodeName?(n.appendChild(t),wt(e,r)&&yr.remove(r)):yr.setStyle(r,"listStyleType","none")),ut(r)&&(n=r.previousSibling,n&&"LI"===n.nodeName&&n.appendChild(t))},wr=function(e,t){at.each(at.grep(e.select("ol,ul",t)),(function(t){Cr(e,t)}))},xr=function(e,t,n,r){var i=t.startContainer,o=t.startOffset;if(ct(i)&&(n?o<i.data.length:o>0))return i;var a=e.schema.getNonEmptyElements();1===i.nodeType&&(i=je.getNode(i,o));var s=new He(i,r);n&&Ct(e.dom,i)&&s.next();while(i=s[n?"next":"prev2"]()){if("LI"===i.nodeName&&!i.hasChildNodes())return i;if(a[i.nodeName])return i;if(ct(i)&&i.data.length>0)return i}},Ir=function(e,t){var n=t.childNodes;return 1===n.length&&!ut(n[0])&&e.isBlock(n[0])},Ar=function(e,t){Ir(e,t)&&e.remove(t.firstChild,!0)},kr=function(e,t,n){var r,i=Ir(e,n)?n.firstChild:n;if(Ar(e,t),!wt(e,t,!0))while(r=t.firstChild)i.appendChild(r)},Sr=function(e,t,n){var r,i=t.parentNode;if(xt(e,t)&&xt(e,n)){ut(n.lastChild)&&(r=n.lastChild),i===n.lastChild&&gt(i.previousSibling)&&e.remove(i.previousSibling);var o=n.lastChild;o&&gt(o)&&t.hasChildNodes()&&e.remove(o),wt(e,n,!0)&&e.$(n).empty(),kr(e,t,n),r&&n.appendChild(r);var a=Pe(Re.fromDom(n),Re.fromDom(t)),s=a?e.getParents(t,ut,n):[];e.remove(t),I(s,(function(t){wt(e,t)&&t!==e.getRoot()&&e.remove(t)}))}},_r=function(e,t,n){e.dom.$(n).empty(),Sr(e.dom,t,n),e.selection.setCursorLocation(n)},Tr=function(e,t,n,r){var i=e.dom;if(i.isEmpty(r))_r(e,n,r);else{var o=qn(t);Sr(i,n,r),e.selection.setRng(Xn(o))}},Er=function(e,t,n,r){var i=qn(t);Sr(e.dom,n,r);var o=Xn(i);e.selection.setRng(o)},Or=function(e,t){var n=e.dom,r=e.selection,i=r.getStart(),o=Ot(e,i),a=n.getParent(r.getStart(),"LI",o);if(a){var s=a.parentNode;if(s===e.getBody()&&wt(n,s))return!0;var l=$n(r.getRng()),c=n.getParent(xr(e,l,t,o),"LI",o);if(c&&c!==a)return e.undoManager.transact((function(){t?Tr(e,l,c,a):vt(a)?Kn(e):Er(e,l,a,c)})),!0;if(!c&&!t&&0===l.startOffset&&0===l.endOffset)return e.undoManager.transact((function(){Gn(e)})),!0}return!1},Rr=function(e,t,n){var r=e.getParent(t.parentNode,e.isBlock,n);e.remove(t),r&&e.isEmpty(r)&&e.remove(r)},Nr=function(e,t){var n=e.dom,r=e.selection.getStart(),i=Ot(e,r),o=n.getParent(r,n.isBlock,i);if(o&&n.isEmpty(o)){var a=$n(e.selection.getRng()),s=n.getParent(xr(e,a,t,i),"LI",i);if(s)return e.undoManager.transact((function(){Rr(n,o,i),hr(n,s.parentNode),e.selection.select(s,!0),e.selection.collapse(t)})),!0}return!1},Lr=function(e,t){return Or(e,t)||Nr(e,t)},Dr=function(e){var t=e.selection.getStart(),n=Ot(e,t),r=e.dom.getParent(t,"LI,DT,DD",n);return!!(r||Tt(e).length>0)&&(e.undoManager.transact((function(){e.execCommand("Delete"),wr(e.dom,e.getBody())})),!0)},Br=function(e,t){return e.selection.isCollapsed()?Lr(e,t):Dr(e)},Mr=function(e){e.on("keydown",(function(t){t.keyCode===ze.BACKSPACE?Br(e,!1)&&t.preventDefault():t.keyCode===ze.DELETE&&Br(e,!0)&&t.preventDefault()}))},Pr=function(e){return{backspaceDelete:function(t){Br(e,t)}}},Fr=function(e){var t=e.dom,n=It(e);ft(n)&&e.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:t.getAttrib(n,"start")||"1"},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(n){var r=n.getData();e.undoManager.transact((function(){t.setAttrib(It(e),"start","1"===r.start?"":r.start)})),n.close()}})},jr=function(e,t){return function(){var n=e.dom.getParent(e.selection.getStart(),"UL,OL,DL");return n&&n.nodeName===t}},Hr=function(e){e.on("BeforeExecCommand",(function(t){var n=t.command.toLowerCase();"indent"===n?Wn(e):"outdent"===n&&Kn(e)})),e.addCommand("InsertUnorderedList",(function(t,n){br(e,"UL",n)})),e.addCommand("InsertOrderedList",(function(t,n){br(e,"OL",n)})),e.addCommand("InsertDefinitionList",(function(t,n){br(e,"DL",n)})),e.addCommand("RemoveList",(function(){Gn(e)})),e.addCommand("mceListProps",(function(){Fr(e)})),e.addQueryStateHandler("InsertUnorderedList",jr(e,"UL")),e.addQueryStateHandler("InsertOrderedList",jr(e,"OL")),e.addQueryStateHandler("InsertDefinitionList",jr(e,"DL"))},zr=function(e){return!(!/(^|[ ,])rtc([, ]|$)/.test(e.getParam("plugins","","string"))||!t.get("rtc"))},$r=function(e){e.on("keydown",(function(t){t.keyCode!==ze.TAB||ze.metaKeyPressed(t)||e.undoManager.transact((function(){(t.shiftKey?Kn(e):Wn(e))&&t.preventDefault()}))}))},Vr=function(e){Bt(e)&&$r(e),Mr(e)},Wr=function(e){var t=function(e,t){var n=e.getParam("plugins","","string");return-1!==at.inArray(n.split(/[ ,]/),t)},n=function(t){return function(){return e.execCommand(t)}};t(e,"advlist")||(e.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:n("InsertOrderedList"),onSetup:function(t){return Qn(e,"OL",t.setActive)}}),e.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:n("InsertUnorderedList"),onSetup:function(t){return Qn(e,"UL",t.setActive)}}))},Kr=function(e){var t={text:"List properties...",icon:"ordered-list",onAction:function(){return Fr(e)},onSetup:function(t){return Qn(e,"OL",(function(e){return t.setDisabled(!e)}))}};e.ui.registry.addMenuItem("listprops",t),e.ui.registry.addContextMenu("lists",{update:function(t){var n=It(e,t);return ft(n)?["listprops"]:[]}})};function Gr(){t.add("lists",(function(e){return!1===zr(e)&&(Vr(e),Hr(e)),Wr(e),Kr(e),Pr(e)}))}Gr()})(window)},2456:function(e,t,n){"use strict";var r=n("b62c"),i=n.n(r);i.a},"24b9":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:10}},[n("a-col",{attrs:{md:10,sm:12}},[n("a-form-item",{staticStyle:{"margin-left":"8px"},attrs:{label:"部门角色名称"}},[n("a-input",{attrs:{placeholder:"请输入部门角色"},model:{value:e.queryParam.roleName,callback:function(t){e.$set(e.queryParam,"roleName",t)},expression:"queryParam.roleName"}})],1)],1),n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-col",{attrs:{md:6,sm:24}},[n("a-button",{staticStyle:{"margin-left":"18px"},attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")])],1)],1)],1)],1)],1),n("div",{staticClass:"table-operator",attrs:{md:24,sm:24}},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("新建部门角色")]),e.selectedRowKeys.length>0?n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:e.batchDel}},[n("a-icon",{attrs:{type:"delete"}}),e._v("删除")],1)],1),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v(" 批量操作 "),n("a-icon",{attrs:{type:"down"}})],1)],1):e._e()],1),n("div",[n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),e._v(" 已选择 "),n("a",{staticStyle:{"font-weight":"600"}},[e._v("\n        "+e._s(e.selectedRowKeys.length))]),e._v("项\n      "),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])]),n("a-table",{ref:"table",attrs:{size:"middle",bordered:"",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link"},[e._v("\n            更多 "),n("a-icon",{attrs:{type:"down"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a",{on:{click:function(t){return e.handlePerssion(r)}}},[e._v("授权")])]),n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete(r.id)}}},[n("a",[e._v("删除")])])],1)],1)],1)],1)}}])})],1),n("sys-depart-role-modal",{ref:"modalForm",on:{ok:e.modalFormOk}}),n("dept-role-auth-modal",{ref:"modalDeptRole"})],1)},i=[],o=n("b65a"),a=n("0fea"),s=n("a119"),l=n("dc4b"),c={name:"DeptRoleInfo",components:{DeptRoleAuthModal:l["default"],SysDepartRoleModal:s["default"]},mixins:[o["a"]],data:function(){return{description:"部门角色信息",currentDeptId:"",columns:[{title:"部门角色名称",align:"center",dataIndex:"roleName"},{title:"部门角色编码",align:"center",dataIndex:"roleCode"},{title:"部门",align:"center",dataIndex:"departId_dictText"},{title:"备注",align:"center",dataIndex:"description"},{title:"操作",dataIndex:"action",scopedSlots:{customRender:"action"},align:"center",width:170}],url:{list:"/sys/sysDepartRole/list",delete:"/sys/sysDepartRole/delete",deleteBatch:"/sys/sysDepartRole/deleteBatch"}}},created:function(){},methods:{searchReset:function(){this.queryParam={},this.loadData(1)},loadData:function(e){var t=this;if(this.url.list){1===e&&(this.ipagination.current=1);var n=this.getQueryParams();n.deptId=this.currentDeptId,Object(a["c"])(this.url.list,n).then((function(e){e.success&&e.result&&(t.dataSource=e.result.records,t.ipagination.total=e.result.total)}))}else this.$message.error("请设置url.list属性!")},open:function(e){this.currentDeptId=e.id,this.loadData(1)},clearList:function(){this.currentDeptId="",this.dataSource=[]},hasSelectDept:function(){return""!=this.currentDeptId||(this.$message.error("请选择一个部门!"),!1)},handleEdit:function(e){this.$refs.modalForm.title="编辑",this.$refs.modalForm.departDisabled=!0,this.$refs.modalForm.disableSubmit=!1,this.$refs.modalForm.edit(e,e.departId)},handleAdd:function(){""==this.currentDeptId?this.$message.error("请选择一个部门!"):(this.$refs.modalForm.departDisabled=!0,this.$refs.modalForm.add(this.currentDeptId),this.$refs.modalForm.title="新增")},handlePerssion:function(e){this.$refs.modalDeptRole.show(e.id,e.departId)}}},u=c,d=n("2877"),f=Object(d["a"])(u,r,i,!1,null,"4c4da1d1",null);t["default"]=f.exports},2585:function(e,t,n){},"25f0":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-operator"},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("新增")]),e.selectedRowKeys.length>0?n("a-button",{attrs:{ghost:"",type:"primary",icon:"delete"},on:{click:e.batchDel}},[e._v("批量删除\n    ")]):e._e()],1),n("div",[n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),e._v("已选择 "),n("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRowKeys.length))]),e._v("项  \n      "),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])]),n("a-table",{attrs:{columns:e.columns,scroll:{x:1500},size:"middle",pagination:!1,dataSource:e.dataSource,loading:e.loading,expandedRowKeys:e.expandedRowKeys,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{expandedRowsChange:e.handleExpandedRowsChange},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link"},[e._v("\n            更多 "),n("a-icon",{attrs:{type:"down"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.handleDetail(r)}}},[e._v("详情")])]),n("a-menu-item",[n("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.handleAddSub(r)}}},[e._v("添加下级")])]),n("a-menu-item",[n("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.handleDataRule(r)}}},[e._v("数据规则")])]),n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete(r.id)}}},[n("a",[e._v("删除")])])],1)],1)],1)],1)}},{key:"url",fn:function(e){return n("span",{},[n("j-ellipsis",{attrs:{value:e,length:25}})],1)}},{key:"component",fn:function(e){return n("span",{},[n("j-ellipsis",{attrs:{value:e}})],1)}}])})],1),n("permission-modal",{ref:"modalForm",on:{ok:e.modalFormOk}}),n("permission-data-rule-list",{ref:"PermissionDataRuleList",on:{ok:e.modalFormOk}})],1)},i=[],o=n("b90e"),a=n("4ec3"),s=n("b65a"),l=n("56cd1"),c=n("d579"),u=[{title:"菜单名称",dataIndex:"name",key:"name"},{title:"菜单类型",dataIndex:"menuType",key:"menuType",customRender:function(e){return 0==e||1==e?"菜单":2==e?"按钮/权限":e}},{title:"icon",dataIndex:"icon",key:"icon"},{title:"组件",dataIndex:"component",key:"component",scopedSlots:{customRender:"component"}},{title:"路径",dataIndex:"url",key:"url",scopedSlots:{customRender:"url"}},{title:"排序",dataIndex:"sortNo",key:"sortNo"},{title:"操作",dataIndex:"action",fixed:"right",scopedSlots:{customRender:"action"},align:"center",width:150}],d={name:"PermissionList",mixins:[s["a"]],components:{PermissionDataRuleList:l["default"],PermissionModal:o["default"],JEllipsis:c["default"]},data:function(){return{description:"这是菜单管理页面",columns:u,loading:!1,expandedRowKeys:[],url:{list:"/sys/permission/list",delete:"/sys/permission/delete",deleteBatch:"/sys/permission/deleteBatch"}}},methods:{loadData:function(){var e=this;this.dataSource=[],Object(a["v"])().then((function(t){t.success&&(e.dataSource=t.result)}))},handleDataRule:function(e){this.$refs.PermissionDataRuleList.edit(e)},handleAddSub:function(e){this.$refs.modalForm.title="添加子菜单",this.$refs.modalForm.localMenuType=1,this.$refs.modalForm.disableSubmit=!1,this.$refs.modalForm.edit({status:"1",permsType:"1",route:!0,parentId:e.id})},handleExpandedRowsChange:function(e){this.expandedRowKeys=e}}},f=d,h=(n("4d7e"),n("2877")),p=Object(h["a"])(f,r,i,!1,null,"7d4f337c",null);t["default"]=p.exports},2832:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("a-tabs",{attrs:{defaultActiveKey:"1"},on:{change:e.callback}},[n("a-tab-pane",{key:"1",attrs:{tab:"柱状图"}},[n("a-row",[n("a-col",{attrs:{span:10}},[n("a-radio-group",{attrs:{value:e.barType},on:{change:e.statisticst}},[n("a-radio-button",{attrs:{value:"year"}},[e._v("按年统计")]),n("a-radio-button",{attrs:{value:"month"}},[e._v("按月统计")]),n("a-radio-button",{attrs:{value:"category"}},[e._v("按类别统计")]),n("a-radio-button",{attrs:{value:"cabinet"}},[e._v("按柜号统计")])],1)],1),n("a-col",{attrs:{span:14}},[(e.barType,e._e())],1),n("bar",{staticClass:"statistic",attrs:{title:"档案统计",dataSource:e.countSource,height:400}})],1)],1),n("a-tab-pane",{key:"2",attrs:{tab:"饼状图"}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:10}},[n("a-radio-group",{attrs:{value:e.pieType},on:{change:e.statisticst}},[n("a-radio-button",{attrs:{value:"year"}},[e._v("按年统计")]),n("a-radio-button",{attrs:{value:"month"}},[e._v("按月统计")]),n("a-radio-button",{attrs:{value:"category"}},[e._v("按类别统计")]),n("a-radio-button",{attrs:{value:"cabinet"}},[e._v("按柜号统计")])],1)],1),n("a-col",{attrs:{span:14}},[(e.pieType,e._e())],1),n("pie",{staticClass:"statistic",attrs:{title:"档案统计",dataSource:e.countSource,height:450}})],1)],1)],1)],1)},i=[],o=n("edd9"),a=n("6cb2"),s=n("da05"),l=n("0fea"),c={name:"ArchivesStatisticst",components:{ACol:s["b"],Bar:o["default"],Pie:a["default"]},data:function(){return{description:"档案统计页面",queryParam:{},countSource:[],barType:"year",barDate:["month","month"],barValue:[],pieType:"year",pieDate:["month","month"],pieValue:[],tabStatus:"bar",url:{getYearCountInfo:"/api/report/getYearCountInfo",getMonthCountInfo:"/api/report/getMonthCountInfo",getCntrNoCountInfo:"/api/report/getCntrNoCountInfo",getCabinetCountInfo:"/api/report/getCabinetCountInfo"}}},created:function(){var e=this.url.getYearCountInfo;this.loadDate(e,"year",{})},methods:{loadDate:function(e,t,n){var r=this;Object(l["c"])(e,n,"get").then((function(e){if(e.success)r.countSource=[],"year"===t&&r.getYearCountSource(e.result),"month"===t&&r.getMonthCountSource(e.result),"category"===t&&r.getCategoryCountSource(e.result),"cabinet"===t&&r.getCabinetCountSource(e.result);else{var n=r;n.$message.warning(e.message)}}))},getYearCountSource:function(e){for(var t=0;t<e.length;t++)"bar"===this.tabStatus?this.countSource.push({x:"".concat(e[t].year,"年"),y:e[t].yearcount}):this.countSource.push({item:"".concat(e[t].year,"年"),count:e[t].yearcount})},getMonthCountSource:function(e){for(var t=0;t<e.length;t++)"bar"===this.tabStatus?this.countSource.push({x:e[t].month,y:e[t].monthcount}):this.countSource.push({item:e[t].month,count:e[t].monthcount})},getCategoryCountSource:function(e){for(var t=0;t<e.length;t++)"bar"===this.tabStatus?this.countSource.push({x:e[t].classifyname,y:e[t].cntrnocount}):this.countSource.push({item:e[t].classifyname,count:e[t].cntrnocount})},getCabinetCountSource:function(e){for(var t=0;t<e.length;t++)"bar"===this.tabStatus?this.countSource.push({x:e[t].cabinetname,y:e[t].cabinetcocunt}):this.countSource.push({item:e[t].cabinetname,count:e[t].cabinetcocunt})},callback:function(e){"1"===e?(this.tabStatus="bar",this.queryDatebar()):(this.tabStatus="pie",this.queryDatepie())},statisticst:function(e){"pie"===this.tabStatus?(this.pieType=e.target.value,this.queryDatepie()):(this.barType=e.target.value,this.queryDatebar())},queryDatebar:function(){this.barValue.length>0?this.getUrl(this.barType,{startTime:this.barValue[0]._d,endTime:this.barValue[1]._d}):this.getUrl(this.barType,{})},queryDatepie:function(){this.pieValue.length>0?this.getUrl(this.pieType,{startTime:this.pieValue[0]._d,endTime:this.pieValue[1]._d}):this.getUrl(this.pieType,{})},searchReset:function(){"pie"===this.tabStatus?this.pieValue=[]:this.barValue=[],this.getUrl(this.barType,{})},getUrl:function(e,t){var n="";"year"===e&&(n=this.url.getYearCountInfo),"month"===e&&(n=this.url.getMonthCountInfo),"category"===e&&(n=this.url.getCntrNoCountInfo),"cabinet"===e&&(n=this.url.getCabinetCountInfo),this.loadDate(n,e,t)},handleBarDate:function(e,t){this.barValue=e,this.barDate=["date"===t[0]?"month":t[0],"date"===t[1]?"month":t[1]]},handlePieDate:function(e,t){this.pieValue=e,this.pieDate=["date"===t[0]?"month":t[0],"date"===t[1]?"month":t[1]]}}},u=c,d=(n("fb45"),n("2877")),f=Object(d["a"])(u,r,i,!1,null,"db43056c",null);t["default"]=f.exports},2977:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",[n("a-tabs",{attrs:{defaultActiveKey:"1"},on:{change:e.callback}},[n("a-tab-pane",{key:"1",attrs:{tab:"登录日志"}}),n("a-tab-pane",{key:"2",attrs:{tab:"操作日志"}})],1)],1),n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchQuery(t)}}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"搜索日志"}},[n("a-input",{attrs:{placeholder:"请输入搜索关键词"},model:{value:e.queryParam.keyWord,callback:function(t){e.$set(e.queryParam,"keyWord",t)},expression:"queryParam.keyWord"}})],1)],1),n("a-col",{attrs:{md:6,sm:10}},[n("a-form-item",{attrs:{label:"创建时间",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("a-range-picker",{staticStyle:{width:"210px"},attrs:{format:"YYYY-MM-DD",placeholder:["开始时间","结束时间"]},on:{change:e.onDateChange,ok:e.onDateOk},model:{value:e.queryParam.createTimeRange,callback:function(t){e.$set(e.queryParam,"createTimeRange",t)},expression:"queryParam.createTimeRange"}})],1)],1),"2"===e.tabKey?n("a-col",{attrs:{md:5,sm:8}},[n("a-form-item",{staticStyle:{left:"10px"},attrs:{label:"操作类型"}},[n("j-dict-select-tag",{attrs:{placeholder:"请选择操作类型",dictCode:"operate_type"},model:{value:e.queryParam.operateType,callback:function(t){e.$set(e.queryParam,"operateType",t)},expression:"queryParam.operateType"}})],1)],1):e._e(),n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-col",{attrs:{md:6,sm:24}},[n("a-button",{staticStyle:{left:"10px"},attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px",left:"10px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")])],1)],1)],1)],1)],1),n("a-table",{ref:"table",attrs:{size:"middle",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"expandedRowRender",fn:function(t){return n("div",{directives:[{name:"show",rawName:"v-show",value:2==e.queryParam.logType,expression:"queryParam.logType==2"}],staticStyle:{margin:"0"}},[n("div",{staticStyle:{"margin-bottom":"5px"}},[n("a-badge",{staticStyle:{"vertical-align":"middle"},attrs:{status:"success"}}),n("span",{staticStyle:{"vertical-align":"middle"}},[e._v("请求方法:"+e._s(t.method))])],1),n("div",[n("a-badge",{staticStyle:{"vertical-align":"middle"},attrs:{status:"processing"}}),n("span",{staticStyle:{"vertical-align":"middle"}},[e._v("请求参数:"+e._s(t.requestParam))])],1)])}},{key:"logContent",fn:function(e,t){return n("span",{},[n("j-ellipsis",{attrs:{value:e,length:40}})],1)}}])})],1)},i=[],o=n("ca00"),a=n("b65a"),s=n("d579"),l={name:"LogList",mixins:[a["a"]],components:{JEllipsis:s["default"]},data:function(){return{description:"这是日志管理页面",queryParam:{ipInfo:"",createTimeRange:[],logType:"1",keyWord:""},tabKey:"1",columns:[{title:"#",dataIndex:"",key:"rowIndex",align:"center",customRender:function(e,t,n){return parseInt(n)+1}},{title:"日志内容",align:"left",dataIndex:"logContent",scopedSlots:{customRender:"logContent"},sorter:!0},{title:"操作人ID",dataIndex:"userid",align:"center",sorter:!0},{title:"操作人名称",dataIndex:"username",align:"center",sorter:!0},{title:"IP",dataIndex:"ip",align:"center",sorter:!0},{title:"耗时(毫秒)",dataIndex:"costTime",align:"center",sorter:!0},{title:"日志类型",dataIndex:"logType_dictText",align:"center"},{title:"创建时间",dataIndex:"createTime",align:"center",sorter:!0}],operateColumn:{title:"操作类型",dataIndex:"operateType_dictText",align:"center"},labelCol:{xs:{span:1},sm:{span:2}},wrapperCol:{xs:{span:10},sm:{span:16}},url:{list:"/sys/log/list"}}},methods:{getQueryParams:function(){var e=Object.assign({},this.queryParam,this.isorter);return e.field=this.getQueryField(),e.pageNo=this.ipagination.current,e.pageSize=this.ipagination.pageSize,delete e.createTimeRange,this.superQueryParams&&(e["superQueryParams"]=encodeURI(this.superQueryParams),e["superQueryMatchType"]=this.superQueryMatchType),Object(o["d"])(e)},searchReset:function(){var e=this,t=e.queryParam.logType;e.queryParam={},e.queryParam.logType=t,e.loadData(this.ipagination.current)},callback:function(e){2==e?(this.tabKey="2",this.columns.splice(7,0,this.operateColumn)):9==this.columns.length&&(this.tabKey="1",this.columns.splice(7,1));var t=this;t.queryParam.logType=e,t.loadData()},onDateChange:function(e,t){this.queryParam.createTime_begin=t[0],this.queryParam.createTime_end=t[1]},onDateOk:function(e){}}},c=l,u=(n("317f"),n("2877")),d=Object(u["a"])(c,r,i,!1,null,"7255fb63",null);t["default"]=d.exports},"29a4":function(e,t,n){},"2a1c":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:"corn表达式",width:e.modalWidth,visible:e.visible,confirmLoading:e.confirmLoading,cancelText:"关闭"},on:{ok:e.change,cancel:e.close}},[n("div",{staticClass:"card-container"},[n("a-tabs",{attrs:{type:"card"}},[n("a-tab-pane",{key:"1",attrs:{type:"card"}},[n("span",{attrs:{slot:"tab"},slot:"tab"},[n("a-icon",{attrs:{type:"schedule"}}),e._v(" 秒")],1),n("a-radio-group",{model:{value:e.result.second.cronEvery,callback:function(t){e.$set(e.result.second,"cronEvery",t)},expression:"result.second.cronEvery"}},[n("a-row",[n("a-radio",{attrs:{value:"1"}},[e._v("每一秒钟")])],1),n("a-row",[n("a-radio",{attrs:{value:"2"}},[e._v("每隔\n              "),n("a-input-number",{attrs:{size:"small",min:1,max:60},model:{value:e.result.second.incrementIncrement,callback:function(t){e.$set(e.result.second,"incrementIncrement",t)},expression:"result.second.incrementIncrement"}}),e._v("\n              秒执行 从\n              "),n("a-input-number",{attrs:{size:"small",min:0,max:59},model:{value:e.result.second.incrementStart,callback:function(t){e.$set(e.result.second,"incrementStart",t)},expression:"result.second.incrementStart"}}),e._v("\n              秒开始\n            ")],1)],1),n("a-row",[n("a-radio",{attrs:{value:"3"}},[e._v("具体秒数(可多选)")]),n("a-select",{staticStyle:{width:"354px"},attrs:{size:"small",mode:"multiple"},model:{value:e.result.second.specificSpecific,callback:function(t){e.$set(e.result.second,"specificSpecific",t)},expression:"result.second.specificSpecific"}},e._l(60,(function(t,r){return n("a-select-option",{key:r,attrs:{value:r}},[e._v(e._s(r))])})),1)],1),n("a-row",[n("a-radio",{attrs:{value:"4"}},[e._v("周期从\n              "),n("a-input-number",{attrs:{size:"small",min:1,max:60},model:{value:e.result.second.rangeStart,callback:function(t){e.$set(e.result.second,"rangeStart",t)},expression:"result.second.rangeStart"}}),e._v("\n              到\n              "),n("a-input-number",{attrs:{size:"small",min:0,max:59},model:{value:e.result.second.rangeEnd,callback:function(t){e.$set(e.result.second,"rangeEnd",t)},expression:"result.second.rangeEnd"}}),e._v("\n              秒\n            ")],1)],1)],1)],1),n("a-tab-pane",{key:"2"},[n("span",{attrs:{slot:"tab"},slot:"tab"},[n("a-icon",{attrs:{type:"schedule"}}),e._v("分")],1),n("div",{staticClass:"tabBody"},[n("a-radio-group",{model:{value:e.result.minute.cronEvery,callback:function(t){e.$set(e.result.minute,"cronEvery",t)},expression:"result.minute.cronEvery"}},[n("a-row",[n("a-radio",{attrs:{value:"1"}},[e._v("每一分钟")])],1),n("a-row",[n("a-radio",{attrs:{value:"2"}},[e._v("每隔\n                "),n("a-input-number",{attrs:{size:"small",min:1,max:60},model:{value:e.result.minute.incrementIncrement,callback:function(t){e.$set(e.result.minute,"incrementIncrement",t)},expression:"result.minute.incrementIncrement"}}),e._v("\n                分执行 从\n                "),n("a-input-number",{attrs:{size:"small",min:0,max:59},model:{value:e.result.minute.incrementStart,callback:function(t){e.$set(e.result.minute,"incrementStart",t)},expression:"result.minute.incrementStart"}}),e._v("\n                分开始\n              ")],1)],1),n("a-row",[n("a-radio",{attrs:{value:"3"}},[e._v("具体分钟数(可多选)")]),n("a-select",{staticStyle:{width:"340px"},attrs:{size:"small",mode:"multiple"},model:{value:e.result.minute.specificSpecific,callback:function(t){e.$set(e.result.minute,"specificSpecific",t)},expression:"result.minute.specificSpecific"}},e._l(Array(60),(function(t,r){return n("a-select-option",{key:r,attrs:{value:r}},[e._v(" "+e._s(r))])})),1)],1),n("a-row",[n("a-radio",{attrs:{value:"4"}},[e._v("周期从\n                "),n("a-input-number",{attrs:{size:"small",min:1,max:60},model:{value:e.result.minute.rangeStart,callback:function(t){e.$set(e.result.minute,"rangeStart",t)},expression:"result.minute.rangeStart"}}),e._v("\n                到\n                "),n("a-input-number",{attrs:{size:"small",min:0,max:59},model:{value:e.result.minute.rangeEnd,callback:function(t){e.$set(e.result.minute,"rangeEnd",t)},expression:"result.minute.rangeEnd"}}),e._v("\n                分\n              ")],1)],1)],1)],1)]),n("a-tab-pane",{key:"3"},[n("span",{attrs:{slot:"tab"},slot:"tab"},[n("a-icon",{attrs:{type:"schedule"}}),e._v(" 时")],1),n("div",{staticClass:"tabBody"},[n("a-radio-group",{model:{value:e.result.hour.cronEvery,callback:function(t){e.$set(e.result.hour,"cronEvery",t)},expression:"result.hour.cronEvery"}},[n("a-row",[n("a-radio",{attrs:{value:"1"}},[e._v("每一小时")])],1),n("a-row",[n("a-radio",{attrs:{value:"2"}},[e._v("每隔\n                "),n("a-input-number",{attrs:{size:"small",min:0,max:23},model:{value:e.result.hour.incrementIncrement,callback:function(t){e.$set(e.result.hour,"incrementIncrement",t)},expression:"result.hour.incrementIncrement"}}),e._v("\n                小时执行 从\n                "),n("a-input-number",{attrs:{size:"small",min:0,max:23},model:{value:e.result.hour.incrementStart,callback:function(t){e.$set(e.result.hour,"incrementStart",t)},expression:"result.hour.incrementStart"}}),e._v("\n                小时开始\n              ")],1)],1),n("a-row",[n("a-radio",{staticClass:"long",attrs:{value:"3"}},[e._v("具体小时数(可多选)")]),n("a-select",{staticStyle:{width:"340px"},attrs:{size:"small",mode:"multiple"},model:{value:e.result.hour.specificSpecific,callback:function(t){e.$set(e.result.hour,"specificSpecific",t)},expression:"result.hour.specificSpecific"}},e._l(Array(24),(function(t,r){return n("a-select-option",{key:r},[e._v(e._s(r))])})),1)],1),n("a-row",[n("a-radio",{attrs:{value:"4"}},[e._v("周期从\n                "),n("a-input-number",{attrs:{size:"small",min:0,max:23},model:{value:e.result.hour.rangeStart,callback:function(t){e.$set(e.result.hour,"rangeStart",t)},expression:"result.hour.rangeStart"}}),e._v("\n                到\n                "),n("a-input-number",{attrs:{size:"small",min:0,max:23},model:{value:e.result.hour.rangeEnd,callback:function(t){e.$set(e.result.hour,"rangeEnd",t)},expression:"result.hour.rangeEnd"}}),e._v("\n                小时\n              ")],1)],1)],1)],1)]),n("a-tab-pane",{key:"4"},[n("span",{attrs:{slot:"tab"},slot:"tab"},[n("a-icon",{attrs:{type:"schedule"}}),e._v("  天")],1),n("div",{staticClass:"tabBody"},[n("a-radio-group",{model:{value:e.result.day.cronEvery,callback:function(t){e.$set(e.result.day,"cronEvery",t)},expression:"result.day.cronEvery"}},[n("a-row",[n("a-radio",{attrs:{value:"1"}},[e._v("每一天")])],1),n("a-row",[n("a-radio",{attrs:{value:"2"}},[e._v("每隔\n                "),n("a-input-number",{attrs:{size:"small",min:1,max:7},model:{value:e.result.week.incrementIncrement,callback:function(t){e.$set(e.result.week,"incrementIncrement",t)},expression:"result.week.incrementIncrement"}}),e._v("\n                周执行 从\n                "),n("a-select",{attrs:{size:"small"},model:{value:e.result.week.incrementStart,callback:function(t){e.$set(e.result.week,"incrementStart",t)},expression:"result.week.incrementStart"}},e._l(Array(7),(function(t,r){return n("a-select-option",{key:r,attrs:{value:r+1}},[e._v(e._s(e.weekDays[r]))])})),1),e._v("\n                开始\n              ")],1)],1),n("a-row",[n("a-radio",{attrs:{value:"3"}},[e._v("每隔\n                "),n("a-input-number",{attrs:{size:"small",min:1,max:31},model:{value:e.result.day.incrementIncrement,callback:function(t){e.$set(e.result.day,"incrementIncrement",t)},expression:"result.day.incrementIncrement"}}),e._v("\n                天执行 从\n                "),n("a-input-number",{attrs:{size:"small",min:1,max:31},model:{value:e.result.day.incrementStart,callback:function(t){e.$set(e.result.day,"incrementStart",t)},expression:"result.day.incrementStart"}}),e._v("\n                天开始\n              ")],1)],1),n("a-row",[n("a-radio",{staticClass:"long",attrs:{value:"4"}},[e._v("具体星期几(可多选)")]),n("a-select",{staticStyle:{width:"340px"},attrs:{size:"small",mode:"multiple"},model:{value:e.result.week.specificSpecific,callback:function(t){e.$set(e.result.week,"specificSpecific",t)},expression:"result.week.specificSpecific"}},e._l(Array(7),(function(t,r){return n("a-select-option",{key:r,attrs:{value:r+1}},[e._v(e._s(e.weekDays[r]))])})),1)],1),n("a-row",[n("a-radio",{staticClass:"long",attrs:{value:"5"}},[e._v("具体天数(可多选)")]),n("a-select",{staticStyle:{width:"354px"},attrs:{size:"small",mode:"multiple"},model:{value:e.result.day.specificSpecific,callback:function(t){e.$set(e.result.day,"specificSpecific",t)},expression:"result.day.specificSpecific"}},e._l(Array(31),(function(t,r){return n("a-select-option",{key:r,attrs:{value:r}},[e._v(e._s(r+1))])})),1)],1),n("a-row",[n("a-radio",{attrs:{value:"6"}},[e._v("在这个月的最后一天")])],1),n("a-row",[n("a-radio",{attrs:{value:"7"}},[e._v("在这个月的最后一个工作日")])],1),n("a-row",[n("a-radio",{attrs:{value:"8"}},[e._v("在这个月的最后一个\n                "),n("a-select",{attrs:{size:"small"},model:{value:e.result.day.cronLastSpecificDomDay,callback:function(t){e.$set(e.result.day,"cronLastSpecificDomDay",t)},expression:"result.day.cronLastSpecificDomDay"}},e._l(Array(7),(function(t,r){return n("a-select-option",{key:r,attrs:{value:r+1}},[e._v(e._s(e.weekDays[r]))])})),1)],1)],1),n("a-row",[n("a-radio",{attrs:{value:"9"}},[n("a-input-number",{attrs:{size:"small",min:1,max:31},model:{value:e.result.day.cronDaysBeforeEomMinus,callback:function(t){e.$set(e.result.day,"cronDaysBeforeEomMinus",t)},expression:"result.day.cronDaysBeforeEomMinus"}}),e._v("\n                在本月底前\n              ")],1)],1),n("a-row",[n("a-radio",{attrs:{value:"10"}},[e._v("最近的工作日（周一至周五）至本月\n                "),n("a-input-number",{attrs:{size:"small",min:1,max:31},model:{value:e.result.day.cronDaysNearestWeekday,callback:function(t){e.$set(e.result.day,"cronDaysNearestWeekday",t)},expression:"result.day.cronDaysNearestWeekday"}}),e._v("\n                日\n              ")],1)],1),n("a-row",[n("a-radio",{attrs:{value:"11"}},[e._v("在这个月的第\n                "),n("a-input-number",{attrs:{size:"small",min:1,max:5},model:{value:e.result.week.cronNthDayNth,callback:function(t){e.$set(e.result.week,"cronNthDayNth",t)},expression:"result.week.cronNthDayNth"}}),e._v("\n                个\n                "),n("a-select",{attrs:{size:"small"},model:{value:e.result.week.cronNthDayDay,callback:function(t){e.$set(e.result.week,"cronNthDayDay",t)},expression:"result.week.cronNthDayDay"}},e._l(Array(7),(function(t,r){return n("a-select-option",{key:r,attrs:{value:r+1}},[e._v(e._s(e.weekDays[r]))])})),1)],1)],1)],1)],1)]),n("a-tab-pane",{key:"5"},[n("span",{attrs:{slot:"tab"},slot:"tab"},[n("a-icon",{attrs:{type:"schedule"}}),e._v(" 月")],1),n("div",{staticClass:"tabBody"},[n("a-radio-group",{model:{value:e.result.month.cronEvery,callback:function(t){e.$set(e.result.month,"cronEvery",t)},expression:"result.month.cronEvery"}},[n("a-row",[n("a-radio",{attrs:{value:"1"}},[e._v("每一月")])],1),n("a-row",[n("a-radio",{attrs:{value:"2"}},[e._v("每隔\n                "),n("a-input-number",{attrs:{size:"small",min:0,max:12},model:{value:e.result.month.incrementIncrement,callback:function(t){e.$set(e.result.month,"incrementIncrement",t)},expression:"result.month.incrementIncrement"}}),e._v("\n                月执行 从\n                "),n("a-input-number",{attrs:{size:"small",min:0,max:12},model:{value:e.result.month.incrementStart,callback:function(t){e.$set(e.result.month,"incrementStart",t)},expression:"result.month.incrementStart"}}),e._v("\n                月开始\n              ")],1)],1),n("a-row",[n("a-radio",{staticClass:"long",attrs:{value:"3"}},[e._v("具体月数(可多选)")]),n("a-select",{staticStyle:{width:"354px"},attrs:{size:"small",filterable:"",mode:"multiple"},model:{value:e.result.month.specificSpecific,callback:function(t){e.$set(e.result.month,"specificSpecific",t)},expression:"result.month.specificSpecific"}},e._l(Array(12),(function(t,r){return n("a-select-option",{key:r,attrs:{value:r}},[e._v(e._s(r+1))])})),1)],1),n("a-row",[n("a-radio",{attrs:{value:"4"}},[e._v("从\n                "),n("a-input-number",{attrs:{size:"small",min:1,max:12},model:{value:e.result.month.rangeStart,callback:function(t){e.$set(e.result.month,"rangeStart",t)},expression:"result.month.rangeStart"}}),e._v("\n                到\n                "),n("a-input-number",{attrs:{size:"small",min:1,max:12},model:{value:e.result.month.rangeEnd,callback:function(t){e.$set(e.result.month,"rangeEnd",t)},expression:"result.month.rangeEnd"}}),e._v("\n                月之间的每个月\n              ")],1)],1)],1)],1)]),n("a-tab-pane",{key:"6"},[n("span",{attrs:{slot:"tab"},slot:"tab"},[n("a-icon",{attrs:{type:"schedule"}}),e._v(" 年")],1),n("div",{staticClass:"tabBody"},[n("a-radio-group",{model:{value:e.result.year.cronEvery,callback:function(t){e.$set(e.result.year,"cronEvery",t)},expression:"result.year.cronEvery"}},[n("a-row",[n("a-radio",{attrs:{value:"1"}},[e._v("每一年")])],1),n("a-row",[n("a-radio",{attrs:{value:"2"}},[e._v("每隔\n                "),n("a-input-number",{attrs:{size:"small",min:1,max:99},model:{value:e.result.year.incrementIncrement,callback:function(t){e.$set(e.result.year,"incrementIncrement",t)},expression:"result.year.incrementIncrement"}}),e._v("\n                年执行 从\n                "),n("a-input-number",{attrs:{size:"small",min:2019,max:2119},model:{value:e.result.year.incrementStart,callback:function(t){e.$set(e.result.year,"incrementStart",t)},expression:"result.year.incrementStart"}}),e._v("\n                年开始\n              ")],1)],1),n("a-row",[n("a-radio",{staticClass:"long",attrs:{value:"3"}},[e._v("具体年份(可多选)")]),n("a-select",{staticStyle:{width:"354px"},attrs:{size:"small",filterable:"",mode:"multiple"},model:{value:e.result.year.specificSpecific,callback:function(t){e.$set(e.result.year,"specificSpecific",t)},expression:"result.year.specificSpecific"}},e._l(Array(100),(function(t,r){return n("a-select-option",{key:r,attrs:{value:2019+r}},[e._v(e._s(2019+r))])})),1)],1),n("a-row",[n("a-radio",{attrs:{value:"4"}},[e._v("从\n                "),n("a-input-number",{attrs:{size:"small",min:2019,max:2119},model:{value:e.result.year.rangeStart,callback:function(t){e.$set(e.result.year,"rangeStart",t)},expression:"result.year.rangeStart"}}),e._v("\n                到\n                "),n("a-input-number",{attrs:{size:"small",min:2019,max:2119},model:{value:e.result.year.rangeEnd,callback:function(t){e.$set(e.result.year,"rangeEnd",t)},expression:"result.year.rangeEnd"}}),e._v("\n                年之间的每一年\n              ")],1)],1)],1)],1)])],1),n("div",{staticClass:"bottom"},[n("span",{staticClass:"value"},[e._v(e._s(this.cron.label))])])],1)])},i=[];n("88bc");function o(e){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}var a={name:"VueCron",props:["data","i18n"],data:function(){return{visible:!1,confirmLoading:!1,size:"large",weekDays:["天","一","二","三","四","五","六"].map((function(e){return"星期"+e})),result:{second:{cronEvery:"",incrementStart:3,incrementIncrement:5,rangeStart:1,rangeEnd:0,specificSpecific:[]},minute:{cronEvery:"",incrementStart:3,incrementIncrement:5,rangeStart:1,rangeEnd:"0",specificSpecific:[]},hour:{cronEvery:"",incrementStart:3,incrementIncrement:5,rangeStart:"0",rangeEnd:"0",specificSpecific:[]},day:{cronEvery:"",incrementStart:1,incrementIncrement:"1",rangeStart:"",rangeEnd:"",specificSpecific:[],cronLastSpecificDomDay:1,cronDaysBeforeEomMinus:"",cronDaysNearestWeekday:""},week:{cronEvery:"",incrementStart:1,incrementIncrement:"1",specificSpecific:[],cronNthDayDay:1,cronNthDayNth:"1"},month:{cronEvery:"",incrementStart:3,incrementIncrement:5,rangeStart:1,rangeEnd:1,specificSpecific:[]},year:{cronEvery:"",incrementStart:2017,incrementIncrement:1,rangeStart:2019,rangeEnd:2019,specificSpecific:[]},label:""},output:{second:{cronEvery:"",incrementStart:"",incrementIncrement:"",rangeStart:"",rangeEnd:"",specificSpecific:[]},minute:{cronEvery:"",incrementStart:"",incrementIncrement:"",rangeStart:"",rangeEnd:"",specificSpecific:[]},hour:{cronEvery:"",incrementStart:"",incrementIncrement:"",rangeStart:"",rangeEnd:"",specificSpecific:[]},day:{cronEvery:"",incrementStart:"",incrementIncrement:"",rangeStart:"",rangeEnd:"",specificSpecific:[],cronLastSpecificDomDay:"",cronDaysBeforeEomMinus:"",cronDaysNearestWeekday:""},week:{cronEvery:"",incrementStart:"",incrementIncrement:"",specificSpecific:[],cronNthDayDay:"",cronNthDayNth:""},month:{cronEvery:"",incrementStart:"",incrementIncrement:"",rangeStart:"",rangeEnd:"",specificSpecific:[]},year:{cronEvery:"",incrementStart:"",incrementIncrement:"",rangeStart:"",rangeEnd:"",specificSpecific:[]}}}},computed:{modalWidth:function(){return 608},text:function(){return Language["cn"]},secondsText:function(){var e="",t=this.result.second.cronEvery;switch(t.toString()){case"1":e="*";break;case"2":e=this.result.second.incrementStart+"/"+this.result.second.incrementIncrement;break;case"3":this.result.second.specificSpecific.map((function(t){e+=t+","})),e=e.slice(0,-1);break;case"4":e=this.result.second.rangeStart+"-"+this.result.second.rangeEnd;break}return e},minutesText:function(){var e="",t=this.result.minute.cronEvery;switch(t.toString()){case"1":e="*";break;case"2":e=this.result.minute.incrementStart+"/"+this.result.minute.incrementIncrement;break;case"3":this.result.minute.specificSpecific.map((function(t){e+=t+","})),e=e.slice(0,-1);break;case"4":e=this.result.minute.rangeStart+"-"+this.result.minute.rangeEnd;break}return e},hoursText:function(){var e="",t=this.result.hour.cronEvery;switch(t.toString()){case"1":e="*";break;case"2":e=this.result.hour.incrementStart+"/"+this.result.hour.incrementIncrement;break;case"3":this.result.hour.specificSpecific.map((function(t){e+=t+","})),e=e.slice(0,-1);break;case"4":e=this.result.hour.rangeStart+"-"+this.result.hour.rangeEnd;break}return e},daysText:function(){var e="",t=this.result.day.cronEvery;switch(t.toString()){case"1":break;case"2":case"4":case"11":e="?";break;case"3":e=this.result.day.incrementStart+"/"+this.result.day.incrementIncrement;break;case"5":this.result.day.specificSpecific.map((function(t){e+=t+","})),e=e.slice(0,-1);break;case"6":e="L";break;case"7":e="LW";break;case"8":e=this.result.day.cronLastSpecificDomDay+"L";break;case"9":e="L-"+this.result.day.cronDaysBeforeEomMinus;break;case"10":e=this.result.day.cronDaysNearestWeekday+"W";break}return e},weeksText:function(){var e="",t=this.result.day.cronEvery;switch(t.toString()){case"1":case"3":case"5":e="?";break;case"2":e=this.result.week.incrementStart+"/"+this.result.week.incrementIncrement;break;case"4":this.result.week.specificSpecific.map((function(t){e+=t+","})),e=e.slice(0,-1);break;case"6":case"7":case"8":case"9":case"10":e="?";break;case"11":e=this.result.week.cronNthDayDay+"#"+this.result.week.cronNthDayNth;break}return e},monthsText:function(){var e="",t=this.result.month.cronEvery;switch(t.toString()){case"1":e="*";break;case"2":e=this.result.month.incrementStart+"/"+this.result.month.incrementIncrement;break;case"3":this.result.month.specificSpecific.map((function(t){e+=t+","})),e=e.slice(0,-1);break;case"4":e=this.result.month.rangeStart+"-"+this.result.month.rangeEnd;break}return e},yearsText:function(){var e="",t=this.result.year.cronEvery;switch(t.toString()){case"1":e="*";break;case"2":e=this.result.year.incrementStart+"/"+this.result.year.incrementIncrement;break;case"3":this.result.year.specificSpecific.map((function(t){e+=t+","})),e=e.slice(0,-1);break;case"4":e=this.result.year.rangeStart+"-"+this.result.year.rangeEnd;break}return e},cron:function(){return{value:this.result,label:"".concat(this.secondsText||"*"," ").concat(this.minutesText||"*"," ").concat(this.hoursText||"*"," ").concat(this.daysText||"*"," ").concat(this.monthsText||"*"," ").concat(this.weeksText||"*"," ").concat(this.yearsText||"*")}}},watch:{data:function(){}},methods:{show:function(){Object.assign(this.data.value,this.result),this.visible=!0},getValue:function(){return this.cron},change:function(){this.$emit("change",this.cron),this.close(),this.visible=!1},close:function(){this.visible=!1},rest:function(e){for(var t in e)if(e[t]instanceof Object)this.rest(e[t]);else switch(o(e[t])){case"object":e[t]=[];break;case"string":e[t]="";break;case"number":e[t]=null;break}},callback:function(e){}}},s=a,l=(n("8b3e"),n("8ea3"),n("2877")),c=Object(l["a"])(s,r,i,!1,null,"7da8a263",null);t["default"]=c.exports},"2a70":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{staticStyle:{top:"5%",height:"85%","overflow-y":"hidden"},attrs:{title:e.title,width:800,visible:e.visible,confirmLoading:e.confirmLoading,cancelText:"关闭",wrapClassName:"ant-modal-cust-warp"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"角色名称"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["roleName",e.validatorRules.roleName],expression:"[ 'roleName', validatorRules.roleName]",modifiers:{trim:!0}}],attrs:{placeholder:"请输入角色名称"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"角色编码"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["roleCode",e.validatorRules.roleCode],expression:"[ 'roleCode', validatorRules.roleCode]",modifiers:{trim:!0}}],attrs:{placeholder:"请输入角色编码",disabled:e.roleDisabled}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"描述"}},[n("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["description",e.validatorRules.description],expression:"[ 'description', validatorRules.description ]"}],attrs:{rows:5,placeholder:"..."}})],1)],1)],1)],1)},i=[],o=n("88bc"),a=n.n(o),s=n("4ec3"),l={name:"RoleModal",data:function(){return{title:"操作",visible:!1,roleDisabled:!1,model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{roleName:{rules:[{required:!0,message:"请输入角色名称!"},{min:2,max:30,message:"长度在 2 到 30 个字符",trigger:"blur"}]},roleCode:{rules:[{required:!0,message:"请输入角色名称!"},{min:0,max:64,message:"长度不超过 64 个字符",trigger:"blur"},{validator:this.validateRoleCode}]},description:{rules:[{min:0,max:126,message:"长度不超过 126 个字符",trigger:"blur"}]}}}},created:function(){},methods:{add:function(){this.edit({})},edit:function(e){var t=this;this.form.resetFields(),this.model=Object.assign({},e),this.visible=!0,this.model.id?this.roleDisabled=!0:this.roleDisabled=!1,this.$nextTick((function(){t.form.setFieldsValue(a()(t.model,"roleName","description","roleCode"))}))},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields((function(n,r){if(!n){t.confirmLoading=!0;var i,o=Object.assign(e.model,r);i=e.model.id?Object(s["q"])(o):Object(s["d"])(o),i.then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}}))},handleCancel:function(){this.close()},validateRoleCode:function(e,t,n){if(/[\u4E00-\u9FA5]/g.test(t))n("角色编码不可输入汉字!");else{var r={tableName:"sys_role",fieldName:"role_code",fieldVal:t,dataId:this.model.id};Object(s["m"])(r).then((function(e){e.success?n():n(e.message)}))}}}},c=l,u=n("2877"),d=Object(u["a"])(c,r,i,!1,null,"36209f6b",null);t["default"]=d.exports},"2ad6":function(e,t,n){},"2c4b":function(e,t,n){"use strict";var r=n("c5e1"),i=n.n(r);i.a},"2ca2":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=this,n=t.$createElement,r=t._self._c||n;return r("a-modal",{attrs:{centered:"",maskClosable:!1},on:{cancel:t.handleCancel},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[r("div",{style:{textAlign:"center"},attrs:{slot:"title"},slot:"title"},[t._v("两步验证")]),r("template",{slot:"footer"},[r("div",{style:{textAlign:"center"}},[r("a-button",{key:"back",on:{click:t.handleCancel}},[t._v("返回")]),r("a-button",{key:"submit",attrs:{type:"primary",loading:t.stepLoading},on:{click:t.handleStepOk}},[t._v("\n        继续\n      ")])],1)]),r("a-spin",{attrs:{spinning:t.stepLoading}},[r("a-form",{attrs:{layout:"vertical","auto-form-create":function(t){e.form=t}}},[r("div",{staticClass:"step-form-wrapper"},[t.stepLoading?r("p",{staticStyle:{"text-align":"center"}},[t._v("正在验证.."),r("br"),t._v("请稍后")]):r("p",{staticStyle:{"text-align":"center"}},[t._v("请在手机中打开 Google Authenticator 或两步验证 APP"),r("br"),t._v("输入 6 位动态码")]),r("a-form-item",{style:{textAlign:"center"},attrs:{hasFeedback:"",fieldDecoratorId:"stepCode",fieldDecoratorOptions:{rules:[{required:!0,message:"请输入 6 位动态码!",pattern:/^\d{6}$/,len:6}]}}},[r("a-input",{style:{textAlign:"center"},attrs:{placeholder:"000000"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleStepOk(e)}}})],1),r("p",{staticStyle:{"text-align":"center"}},[r("a",{on:{click:t.onForgeStepCode}},[t._v("遗失手机?")])])],1)])],1)],2)},i=[],o={props:{visible:{type:Boolean,default:!1}},data:function(){return{stepLoading:!1,form:null}},methods:{handleStepOk:function(){var e=this,t=this;this.stepLoading=!0,this.form.validateFields((function(n,r){n?(e.stepLoading=!1,e.$emit("error",{err:n})):setTimeout((function(){t.stepLoading=!1,t.$emit("success",{values:r})}),2e3)}))},handleCancel:function(){this.visible=!1,this.$emit("cancel")},onForgeStepCode:function(){}}},a=o,s=(n("468f"),n("2877")),l=Object(s["a"])(a,r,i,!1,null,"f8aa9f78",null);t["default"]=l.exports},"2d33":function(e,t,n){n("303c")},"2d51":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-card",{attrs:{bordered:!1}},[n("a-row",[n("a-col",{attrs:{sm:8,xs:24}},[n("head-info",{attrs:{title:"我的待办",content:"8个任务",bordered:!0}})],1),n("a-col",{attrs:{sm:8,xs:24}},[n("head-info",{attrs:{title:"本周任务平均处理时间",content:"32分钟",bordered:!0}})],1),n("a-col",{attrs:{sm:8,xs:24}},[n("head-info",{attrs:{title:"本周完成任务数",content:"24个"}})],1)],1)],1),n("a-card",{staticStyle:{"margin-top":"24px"},attrs:{bordered:!1,title:"标准列表"}},[n("div",{attrs:{slot:"extra"},slot:"extra"},[n("a-radio-group",[n("a-radio-button",[e._v("全部")]),n("a-radio-button",[e._v("进行中")]),n("a-radio-button",[e._v("等待中")])],1),n("a-input-search",{staticStyle:{"margin-left":"16px",width:"272px"}})],1),n("div",{staticClass:"operate"},[n("a-button",{staticStyle:{width:"100%"},attrs:{type:"dashed",icon:"plus"}},[e._v("添加")])],1),n("a-list",{attrs:{size:"large",pagination:{showSizeChanger:!0,showQuickJumper:!0,pageSize:5,total:50}}},e._l(e.data,(function(t,r){return n("a-list-item",{key:r},[n("a-list-item-meta",{attrs:{description:t.description}},[n("a-avatar",{attrs:{slot:"avatar",size:"large",shape:"square",src:t.avatar},slot:"avatar"}),n("a",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.title))])],1),n("div",{attrs:{slot:"actions"},slot:"actions"},[n("a",[e._v("编辑")])]),n("div",{attrs:{slot:"actions"},slot:"actions"},[n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a",[e._v("编辑")])]),n("a-menu-item",[n("a",[e._v("删除")])])],1),n("a",[e._v("更多"),n("a-icon",{attrs:{type:"down"}})],1)],1)],1),n("div",{staticClass:"list-content"},[n("div",{staticClass:"list-content-item"},[n("span",[e._v("Owner")]),n("p",[e._v(e._s(t.owner))])]),n("div",{staticClass:"list-content-item"},[n("span",[e._v("开始时间")]),n("p",[e._v(e._s(t.startAt))])]),n("div",{staticClass:"list-content-item"},[n("a-progress",{staticStyle:{width:"180px"},attrs:{percent:t.progress.value,status:t.progress.status?t.progress.status:null}})],1)])],1)})),1)],1)],1)},i=[],o=n("81d1"),a=[];a.push({title:"Alipay",avatar:"https://gw.alipayobjects.com/zos/rmsportal/WdGqmHpayyMjiEhcKoVE.png",description:"那是一种内在的东西， 他们到达不了，也无法触及的",owner:"付晓晓",startAt:"2018-07-26 22:44",progress:{value:90}}),a.push({title:"Angular",avatar:"https://gw.alipayobjects.com/zos/rmsportal/zOsKZmFRdUtvpqCImOVY.png",description:"希望是一个好东西，也许是最好的，好东西是不会消亡的",owner:"曲丽丽",startAt:"2018-07-26 22:44",progress:{value:54}}),a.push({title:"Ant Design",avatar:"https://gw.alipayobjects.com/zos/rmsportal/dURIMkkrRFpPgTuzkwnB.png",description:"生命就像一盒巧克力，结果往往出人意料",owner:"林东东",startAt:"2018-07-26 22:44",progress:{value:66}}),a.push({title:"Ant Design Pro",avatar:"https://gw.alipayobjects.com/zos/rmsportal/sfjbOqnsXXJgNCjCzDBL.png",description:"城镇中有那么多的酒馆，她却偏偏走进了我的酒馆",owner:"周星星",startAt:"2018-07-26 22:44",progress:{value:30}}),a.push({title:"Bootstrap",avatar:"https://gw.alipayobjects.com/zos/rmsportal/siCrBXXhmvTQGWPNLBow.png",description:"那时候我只会想自己想要什么，从不想自己拥有什么",owner:"吴加好",startAt:"2018-07-26 22:44",progress:{status:"exception",value:100}});var s={name:"StandardList",components:{HeadInfo:o["default"]},data:function(){return{data:a}}},l=s,c=(n("1b1b"),n("2877")),u=Object(c["a"])(l,r,i,!1,null,"57343706",null);t["default"]=u.exports},"2db0":function(e,t,n){},"2f3a":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[1==e.indexStyle?n("index-chart"):e._e(),2==e.indexStyle?n("index-bdc"):e._e(),3==e.indexStyle?n("index-task"):e._e(),n("div",{staticStyle:{width:"100%","text-align":"right","margin-top":"20px"}},[e._v("\n    请选择首页样式：\n    "),n("a-radio-group",{model:{value:e.indexStyle,callback:function(t){e.indexStyle=t},expression:"indexStyle"}},[n("a-radio",{attrs:{value:1}},[e._v("统计图表")]),n("a-radio",{attrs:{value:2}},[e._v("统计图表2")]),n("a-radio",{attrs:{value:3}},[e._v("任务表格")])],1)],1)],1)},i=[],o=n("94bb"),a=n("0ec6"),s=n("3559"),l={name:"Analysis",components:{IndexChart:o["default"],IndexTask:a["default"],IndexBdc:s["default"]},data:function(){return{indexStyle:1}},created:function(){},methods:{}},c=l,u=n("2877"),d=Object(u["a"])(c,r,i,!1,null,null,null);t["default"]=d.exports},"2f5e":function(e,t,n){"use strict";n.r(t);for(var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-list"},[n("a-list",{attrs:{grid:{gutter:24,lg:3,md:2,sm:1,xs:1},dataSource:e.dataSource},scopedSlots:e._u([{key:"renderItem",fn:function(t,r){return n("a-list-item",{},[n("a-card",{attrs:{hoverable:!0}},[n("a-card-meta",[n("div",{staticStyle:{"margin-bottom":"3px"},attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.title))]),n("a-avatar",{staticClass:"card-avatar",attrs:{slot:"avatar",src:t.avatar,size:"small"},slot:"avatar"}),n("div",{staticClass:"meta-cardInfo",attrs:{slot:"description"},slot:"description"},[n("div",[n("p",[e._v("活跃用户")]),n("p",[n("span",[e._v(e._s(t.activeUser)),n("span",[e._v("万")])])])]),n("div",[n("p",[e._v("新增用户")]),n("p",[e._v(e._s(e._f("NumberFormat")(t.newUser)))])])])],1),n("template",{staticClass:"ant-card-actions",slot:"actions"},[n("a",[n("a-icon",{attrs:{type:"download"}})],1),n("a",[n("a-icon",{attrs:{type:"edit"}})],1),n("a",[n("a-icon",{attrs:{type:"share-alt"}})],1),n("a",[n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link",attrs:{href:"javascript:;"}},[n("a-icon",{attrs:{type:"ellipsis"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a",{attrs:{href:"javascript:;"}},[e._v("1st menu item")])]),n("a-menu-item",[n("a",{attrs:{href:"javascript:;"}},[e._v("2nd menu item")])]),n("a-menu-item",[n("a",{attrs:{href:"javascript:;"}},[e._v("3rd menu item")])])],1)],1)],1)])],2)],1)}}])})],1)},i=[],o=[],a=0;a<11;a++)o.push({title:"Alipay",avatar:"https://gw.alipayobjects.com/zos/rmsportal/WdGqmHpayyMjiEhcKoVE.png",activeUser:17,newUser:1700});var s={name:"Article",components:{},data:function(){return{dataSource:o}}},l=s,c=(n("4ec5"),n("2877")),u=Object(c["a"])(l,r,i,!1,null,"29457760",null);t["default"]=u.exports},"2f9b":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("\n  hello world!\n")])},i=[],o={data:function(){return{description:"表单页用于向用户收集或验证信息，基础表单常见于数据项较少的表单场景。",value:1,form:this.$form.createForm(this)}},methods:{handleSubmit:function(e){e.preventDefault(),this.form.validateFields((function(e,t){}))}}},a=o,s=n("2877"),l=Object(s["a"])(a,r,i,!1,null,null,null);t["default"]=l.exports},"301b":function(e,t,n){},"303c":function(e,t){(function(e){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager");function n(){t.add("colorpicker",(function(){e.console.warn("Color picker plugin is now built in to the core editor, please remove it from your editor configuration")}))}n()})(window)},"309d":function(e,t,n){},3154:function(e,t,n){n("f034")},"315e":function(e,t,n){"use strict";var r=n("d90d"),i=n.n(r);i.a},3161:function(e,t,n){},"317f":function(e,t,n){"use strict";var r=n("71ca"),i=n.n(r);i.a},"31d3":function(e,t,n){"use strict";var r=n("aaad"),i=n.n(r);i.a},3335:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:e.title,width:1200,visible:e.visible,confirmLoading:e.confirmLoading,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-card",{staticClass:"card",attrs:{bordered:!1}},[n("a-row",{staticClass:"form-row",attrs:{gutter:16}},[n("a-col",{attrs:{lg:8}},[n("a-form-item",{attrs:{label:"任务名"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["task.name",{rules:[{required:!0,message:"请输入任务名称",whitespace:!0}]}],expression:"[ 'task.name', {rules: [{ required: true, message: '请输入任务名称', whitespace: true}]} ]"}],attrs:{placeholder:"请输入任务名称"}})],1)],1),n("a-col",{attrs:{lg:8}},[n("a-form-item",{attrs:{label:"任务描述"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["task.description",{rules:[{required:!0,message:"请输入任务描述",whitespace:!0}]}],expression:"['task.description', {rules: [{ required: true, message: '请输入任务描述', whitespace: true}]} ]"}],attrs:{placeholder:"请输入任务描述"}})],1)],1),n("a-col",{attrs:{lg:8}},[n("a-form-item",{attrs:{label:"执行人"}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["task.executor",{rules:[{required:!0,message:"请选择执行人"}]}],expression:"['task.executor',{rules: [{ required: true, message: '请选择执行人'}]}  ]"}],attrs:{placeholder:"请选择执行人"}},[n("a-select-option",{attrs:{value:"黄丽丽"}},[e._v("黄丽丽")]),n("a-select-option",{attrs:{value:"李大刀"}},[e._v("李大刀")])],1)],1)],1)],1),n("a-row",{staticClass:"form-row",attrs:{gutter:16}},[n("a-col",{attrs:{lg:8}},[n("a-form-item",{attrs:{label:"责任人"}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["task.manager",{rules:[{required:!0,message:"请选择责任人"}]}],expression:"['task.manager',  {rules: [{ required: true, message: '请选择责任人'}]} ]"}],attrs:{placeholder:"请选择责任人"}},[n("a-select-option",{attrs:{value:"王伟"}},[e._v("王伟")]),n("a-select-option",{attrs:{value:"李红军"}},[e._v("李红军")])],1)],1)],1),n("a-col",{attrs:{lg:8}},[n("a-form-item",{attrs:{label:"提醒时间"}},[n("a-time-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["task.time",{rules:[{required:!0,message:"请选择提醒时间"}]}],expression:"['task.time', {rules: [{ required: true, message: '请选择提醒时间'}]} ]"}],staticStyle:{width:"100%"}})],1)],1),n("a-col",{attrs:{lg:8}},[n("a-form-item",{attrs:{label:"任务类型"}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["task.type",{rules:[{required:!0,message:"请选择任务类型"}]}],expression:"['task.type', {rules: [{ required: true, message: '请选择任务类型'}]} ]"}],attrs:{placeholder:"请选择任务类型"}},[n("a-select-option",{attrs:{value:"定时执行"}},[e._v("定时执行")]),n("a-select-option",{attrs:{value:"周期执行"}},[e._v("周期执行")])],1)],1)],1)],1)],1),n("a-tabs",{attrs:{defaultActiveKey:"1"}},[n("a-tab-pane",{key:"1",attrs:{tab:"Tab 1"}},[n("a-table",{attrs:{columns:e.columns,dataSource:e.data,pagination:!1,size:"middle"},scopedSlots:e._u([e._l(["name","workId","department"],(function(t,r){return{key:t,fn:function(i,o,a){return[n("a-tooltip",{attrs:{title:"必填项",defaultVisible:!1,overlayStyle:"{ color: 'red' }"}},[o.editable?n("a-input",{key:t,staticStyle:{margin:"-5px 0"},attrs:{value:i,placeholder:e.columns[r].title},on:{change:function(n){return e.handlerRowChange(n.target.value,o.key,t)}}}):[e._v(e._s(i))]],2)]}}})),{key:"operation",fn:function(t,r,i){return[r.editable?[r.isNew?n("span",[n("a",{on:{click:function(t){return e.saveRow(r.key)}}},[e._v("添加")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-popconfirm",{attrs:{title:"是否要删除此行？"},on:{confirm:function(t){return e.removeRow(r.key)}}},[n("a",[e._v("删除")])])],1):n("span",[n("a",{on:{click:function(t){return e.saveRow(r.key)}}},[e._v("保存")]),n("a-divider",{attrs:{type:"vertical"}}),n("a",{on:{click:function(t){return e.cancelEditRow(r.key)}}},[e._v("取消")])],1)]:n("span",[n("a",{on:{click:function(t){return e.editRow(r.key)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-popconfirm",{attrs:{title:"是否要删除此行？"},on:{confirm:function(t){return e.removeRow(r.key)}}},[n("a",[e._v("删除")])])],1)]}}],null,!0)}),n("a-button",{staticStyle:{width:"100%","margin-top":"16px","margin-bottom":"8px"},attrs:{type:"dashed",icon:"plus"},on:{click:e.newRow}},[e._v("新增成员")])],1),n("a-tab-pane",{key:"2",attrs:{tab:"Tab 2",forceRender:""}},[e._v("\n          Content of Tab Pane 2\n        ")]),n("a-tab-pane",{key:"3",attrs:{tab:"Tab 3"}},[e._v("Content of Tab Pane 3")])],1)],1)],1)],1)},i=[],o=n("0fea"),a=n("88bc"),s=n.n(a),l=n("c1df"),c=n.n(l);function u(e){return p(e)||h(e)||f(e)||d()}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){if(e){if("string"===typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function h(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function p(e){if(Array.isArray(e))return m(e)}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g={name:"JeecgDemoTabsModal",data:function(){return{title:"操作",visible:!1,model:{},columns:[{title:"成员姓名",dataIndex:"name",key:"name",width:"20%",scopedSlots:{customRender:"name"}},{title:"工号",dataIndex:"workId",key:"workId",width:"20%",scopedSlots:{customRender:"workId"}},{title:"所属部门",dataIndex:"department",key:"department",width:"40%",scopedSlots:{customRender:"department"}},{title:"操作",key:"action",scopedSlots:{customRender:"operation"}}],data:[{key:"1",name:"小明",workId:"001",editable:!1,department:"行政部"},{key:"2",name:"李莉",workId:"002",editable:!1,department:"IT部"},{key:"3",name:"王小帅",workId:"003",editable:!1,department:"财务部"}],confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{},url:{add:"/test/jeecgDemo/add",edit:"/test/jeecgDemo/edit"}}},created:function(){},methods:{add:function(){this.edit({})},edit:function(e){var t=this;this.form.resetFields(),this.model=Object.assign({},e),this.visible=!0,this.$nextTick((function(){t.form.setFieldsValue(s()(t.model,"name","keyWord","sex","age","email","content")),t.form.setFieldsValue({punchTime:t.model.punchTime?c()(t.model.punchTime,"YYYY-MM-DD HH:mm:ss"):null}),t.form.setFieldsValue({birthday:t.model.birthday?c()(t.model.birthday):null})}))},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields((function(n,r){if(!n){t.confirmLoading=!0;var i="",a="";e.model.id?(i+=e.url.edit,a="put"):(i+=e.url.add,a="post");var s=Object.assign(e.model,r);s.punchTime=s.punchTime?s.punchTime.format("YYYY-MM-DD HH:mm:ss"):null,s.birthday=s.birthday?s.birthday.format():null,Object(o["h"])(i,s,a).then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}}))},handleCancel:function(){this.close()},newRow:function(){var e=Math.round((new Date).getTime()).toString();this.data.push({key:e,name:"",workId:"",department:"",editable:!0,isNew:!0})},removeRow:function(e){var t=this.data.filter((function(t){return t.key!==e}));this.data=t},saveRow:function(e){var t=this.data.filter((function(t){return t.key===e}))[0];t.editable=!1,t.isNew=!1},handlerRowChange:function(e,t,n){var r=u(this.data),i=r.filter((function(e){return t===e.key}))[0];i&&(i[n]=e,this.data=r)},editRow:function(e){var t=this.data.filter((function(t){return t.key===e}))[0];t.editable=!t.editable},cancelEditRow:function(e){var t=this.data.filter((function(t){return t.key===e}))[0];t.editable=!1}}},v=g,b=(n("1659"),n("2877")),y=Object(b["a"])(v,r,i,!1,null,"c67ca5fa",null);t["default"]=y.exports},3386:function(e,t,n){"use strict";var r=n("1639"),i=n.n(r);i.a},"33b1":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("a-form",{attrs:{form:e.form},on:{submit:e.handleSubmit}},[n("a-col",{attrs:{md:24,sm:24}},[n("a-form-item",{attrs:{label:"Note",labelCol:{span:7},wrapperCol:{span:15}}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["note",{rules:[{required:!0,message:"Please input your note!"}]}],expression:"['note',{rules: [{ required: true, message: 'Please input your note!' }]}]"}]})],1)],1),n("a-col",{attrs:{md:24,sm:24}},[n("a-form-item",{attrs:{label:"Gender",labelCol:{span:7},wrapperCol:{span:15}}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["gender",{rules:[{required:!0,message:"Please select your gender!"}]}],expression:"['gender',{rules: [{ required: true, message: 'Please select your gender!' }]}]"}],attrs:{placeholder:"Select a option and change input text above"},on:{change:this.handleSelectChange}},[n("a-select-option",{attrs:{value:"male"}},[e._v("male")]),n("a-select-option",{attrs:{value:"female"}},[e._v("female")])],1)],1)],1),n("a-col",{attrs:{md:24,sm:24}},[n("a-form-item",{attrs:{label:"Gender",labelCol:{span:7},wrapperCol:{span:15}}},[n("a-cascader",{attrs:{options:e.areaOptions,showSearch:{filter:e.filter},placeholder:"Please select"},on:{change:e.onChange}})],1)],1),n("a-form-item",{attrs:{wrapperCol:{span:12,offset:5}}},[n("a-col",{attrs:{md:24,sm:24}},[n("a-form-item",{attrs:{wrapperCol:{span:12,offset:5}}},[n("a-button",{attrs:{type:"primary",htmlType:"submit"}},[e._v("Submit")])],1)],1)],1)],1)],1)},i=[],o=n("0fea"),a={props:["sex","name"],data:function(){return{formLayout:"horizontal",form:this.$form.createForm(this),areaOptions:[]}},methods:{handleSubmit:function(e){e.preventDefault(),this.form.validateFields((function(e,t){}))},handleSelectChange:function(e){this.form.setFieldsValue({note:"Hi, ".concat("male"===e?"man":"lady","!")})},onChange:function(e,t){},filter:function(e,t){return t.some((function(t){return t.label.toLowerCase().indexOf(e.toLowerCase())>-1}))}},created:function(){var e=this;Object(o["c"])("/api/area").then((function(t){e.areaOptions=t}))},watch:{$route:{immediate:!0,handler:function(){this.$route.query.sex}}}},s=a,l=n("2877"),c=Object(l["a"])(s,r,i,!1,null,null,null);t["default"]=c.exports},"33e6":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"account-settings-info-view"},[n("a-row",{attrs:{gutter:16}},[n("a-col",{attrs:{md:24,lg:16}},[n("a-form",{attrs:{layout:"vertical"}},[n("a-form-item",{attrs:{label:"昵称"}},[n("a-input",{attrs:{placeholder:"给自己起个名字"}})],1),n("a-form-item",{attrs:{label:"Bio"}},[n("a-textarea",{attrs:{rows:"4",placeholder:"You are not alone."}})],1),n("a-form-item",{attrs:{label:"电子邮件",required:!1}},[n("a-input",{attrs:{placeholder:"exp@admin.com"}})],1),n("a-form-item",{attrs:{label:"加密方式",required:!1}},[n("a-select",{attrs:{defaultValue:"aes-256-cfb"}},[n("a-select-option",{attrs:{value:"aes-256-cfb"}},[e._v("aes-256-cfb")]),n("a-select-option",{attrs:{value:"aes-128-cfb"}},[e._v("aes-128-cfb")]),n("a-select-option",{attrs:{value:"chacha20"}},[e._v("chacha20")])],1)],1),n("a-form-item",{attrs:{label:"连接密码",required:!1}},[n("a-input",{attrs:{placeholder:"h3gSbecd"}})],1),n("a-form-item",{attrs:{label:"登陆密码",required:!1}},[n("a-input",{attrs:{placeholder:"密码"}})],1),n("a-form-item",[n("a-button",{attrs:{type:"primary"}},[e._v("提交")]),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v("保存")])],1)],1)],1),n("a-col",{style:{minHeight:"180px"},attrs:{md:24,lg:8}},[n("div",{staticClass:"ant-upload-preview",on:{click:function(t){return e.$refs.modal.edit(1)}}},[n("a-icon",{staticClass:"upload-icon",attrs:{type:"cloud-upload-o"}}),n("div",{staticClass:"mask"},[n("a-icon",{attrs:{type:"plus"}})],1),n("img",{attrs:{src:e.option.img}})],1)])],1),n("avatar-modal",{ref:"modal"})],1)},i=[],o=n("8d90"),a={components:{AvatarModal:o["default"]},data:function(){return{preview:{},option:{img:"/avatar2.jpg",info:!0,size:1,outputType:"jpeg",canScale:!1,autoCrop:!0,autoCropWidth:180,autoCropHeight:180,fixedBox:!0,fixed:!0,fixedNumber:[1,1]}}},methods:{}},s=a,l=(n("45b5"),n("2877")),c=Object(l["a"])(s,r,i,!1,null,"b380e4d2",null);t["default"]=c.exports},3498:function(e,t,n){},"34c4":function(e,t,n){"use strict";var r=n("8264"),i=n.n(r);i.a},"34de":function(e,t,n){n("09cf")},3521:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"standard-table"},[n("div",{staticClass:"alert"},[n("a-alert",{attrs:{type:"info","show-icon":!0}},[n("div",{attrs:{slot:"message"},slot:"message"},[e._v("\n        已选择 "),n("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRows.length))]),e._v("  \n        "),e._l(e.needTotalList,(function(t,r){return t.needTotal?[e._v("\n          "+e._s(t.title)+" 总计 \n          "),n("a",{key:r,staticStyle:{"font-weight":"600"}},[e._v("\n            "+e._s(t.customRender?t.customRender(t.total):t.total)+"\n          ")]),e._v("  \n        ")]:e._e()})),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])],2)])],1),n("a-table",{attrs:{size:e.size,bordered:e.bordered,loading:e.loading,columns:e.columns,dataSource:e.current,rowKey:e.rowKey,pagination:e.pagination,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.updateSelect}}})],1)},i=[];function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={name:"StandardTable",props:{data:{type:Function,required:!0},dataSource:{type:Array,default:function(){return[]}},columns:{type:Array,required:!0},pageSize:{type:Number,default:10},pageNum:{type:Number,default:1},pageSizeOptions:{type:Array,default:function(){return["10","20","30","40","50"]}},responseParamsName:{type:Object,default:function(){return{}}},bordered:{type:Boolean,default:!1},size:{type:String,default:"default"},rowKey:{type:String,default:""},selectedRows:{type:Array,default:null}},data:function(){return{needTotalList:[],selectedRowKeys:[],loading:!0,total:0,pageNumber:this.pageNum,currentPageSize:this.pageSize,defaultCurrent:1,sortParams:{},current:[],pagination:{},paramsName:{}}},created:function(){this.paramsName=Object.assign({},{pageNumber:"pageNo",pageSize:"pageSize",total:"totalCount",results:"data",sortColumns:"sortColumns"},this.responseParamsName),this.needTotalList=this.initTotalList(this.columns),this.loadData({pageNum:this.pageNumber})},methods:{updateSelect:function(e,t){this.selectedRowKeys=e;var n=this.needTotalList;this.needTotalList=n.map((function(e){return a(a({},e),{},{total:t.reduce((function(t,n){return t+n[e.dataIndex]}),0)})})),this.$emit("change",e,t)},initTotalList:function(e){var t=[];return e.forEach((function(e){e.needTotal&&t.push(a(a({},e),{},{total:0}))})),t},loadData:function(e){var t=this;t.loading=!0,e=Object.assign({},e);var n=Object.assign({},t.sortParams);n[t.paramsName.pageNumber]=e.pageNum||t.pageNumber,n[t.paramsName.pageSize]=e.pageSize||t.currentPageSize,e.pageNum&&(t.pageNumber=e.pageNum),e.pageSize&&(t.currentPageSize=e.pageSize);var r=t.data(n);r.then((function(e){if(e){var n=e[t.paramsName.results];n=n instanceof Array&&n||[],t.current=n,t.$emit("update:currentData",t.current.slice()),t.$emit("dataloaded",t.current.slice()),t.total=1*e[t.paramsName.total],t.pagination=t.pager(),t.loading=!1}else t.loading=!1}),(function(){t.loading=!1}))},onPagerChange:function(e,t){this.pageNumber=e,this.loadData({pageNum:e})},onPagerSizeChange:function(e,t){this.currentPageSize=t},onClearSelected:function(){this.selectedRowKeys=[],this.updateSelect([],[])},pager:function(){return{total:this.total,showTotal:function(e){return"共有 ".concat(e," 条")},showSizeChanger:!0,pageSizeOptions:this.pageSizeOptions,pageSize:this.pageSize,defaultCurrent:this.defaultCurrent,onChange:this.onPagerChange,onShowSizeChange:this.onPagerSizeChange}}},watch:{selectedRows:function(e){this.needTotalList=this.needTotalList.map((function(t){return a(a({},t),{},{total:e.reduce((function(e,n){return e+n[t.dataIndex]}),0)})}))}}},c=l,u=(n("117c"),n("2877")),d=Object(u["a"])(c,r,i,!1,null,"d8743c5a",null);t["default"]=d.exports},3559:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-header-index-wide"},[n("a-row",{attrs:{gutter:24}},[n("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:6}},[n("chart-card",{attrs:{loading:e.loading,title:"受理量",total:e._f("NumberFormat")(e.cardCount.sll)}},[n("a-tooltip",{attrs:{slot:"action",title:"指标说明"},slot:"action"},[n("a-icon",{attrs:{type:"info-circle-o"}})],1),n("div",[n("mini-area",{attrs:{"data-source":e.chartData.sll}})],1),n("template",{slot:"footer"},[e._v("今日受理量："),n("span",[e._v(e._s(e.todaySll))])])],2)],1),n("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:6}},[n("chart-card",{attrs:{loading:e.loading,title:"办结量",total:e._f("NumberFormat")(e.cardCount.bjl)}},[n("a-tooltip",{attrs:{slot:"action",title:"指标说明"},slot:"action"},[n("a-icon",{attrs:{type:"info-circle-o"}})],1),n("div",[n("mini-area",{attrs:{"data-source":e.chartData.bjl}})],1),n("template",{slot:"footer"},[e._v("今日办结量："),n("span",[e._v(e._s(e.todayBjl))])])],2)],1),n("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:6}},[n("chart-card",{attrs:{loading:e.loading,title:"用户受理量",total:e._f("NumberFormat")(e.cardCount.isll)}},[n("a-tooltip",{attrs:{slot:"action",title:"指标说明"},slot:"action"},[n("a-icon",{attrs:{type:"info-circle-o"}})],1),n("div",[n("mini-bar",{attrs:{datasource:e.chartData.isll,height:50}})],1),n("template",{slot:"footer"},[e._v("用户今日受理量："),n("span",[e._v(e._s(e.todayISll))])])],2)],1),n("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:6}},[n("chart-card",{attrs:{loading:e.loading,title:"用户办结量",total:e._f("NumberFormat")(e.cardCount.ibjl)}},[n("a-tooltip",{attrs:{slot:"action",title:"指标说明"},slot:"action"},[n("a-icon",{attrs:{type:"info-circle-o"}})],1),n("div",[n("mini-bar",{attrs:{datasource:e.chartData.ibjl,height:50}})],1),n("template",{slot:"footer"},[e._v("用户今日办结量："),n("span",[e._v(e._s(e.todayIBjl))])])],2)],1)],1),n("a-card",{attrs:{loading:e.loading,bordered:!1,"body-style":{padding:"0"}}},[n("div",{staticClass:"salesCard"},[n("a-tabs",{attrs:{"default-active-key":"1",size:"large","tab-bar-style":{marginBottom:"24px",paddingLeft:"16px"}}},[n("div",{staticClass:"extra-wrapper",attrs:{slot:"tabBarExtraContent"},slot:"tabBarExtraContent"},[n("div",{staticClass:"extra-item"},[n("a",[e._v("今日")]),n("a",[e._v("本周")]),n("a",[e._v("本月")]),n("a",[e._v("本年")])]),n("a-range-picker",{style:{width:"256px"}})],1),n("a-tab-pane",{key:"1",attrs:{loading:"true",tab:"受理监管"}},[n("a-row",[n("a-col",{attrs:{xl:16,lg:12,md:12,sm:24,xs:24}},[n("index-bar",{attrs:{title:"受理量统计"}})],1),n("a-col",{attrs:{xl:8,lg:12,md:12,sm:24,xs:24}},[n("a-card",{staticStyle:{"margin-bottom":"24px"},attrs:{title:"快速开始 / 便捷导航",bordered:!1,"body-style":{padding:0}}},[n("div",{staticClass:"item-group"},[n("a-row",e._l(e.registerTypeList,(function(t,r){return n("a-col",{key:"registerType"+r,class:"more-btn",attrs:{span:12}},[n("a-button",{staticStyle:{"margin-bottom":"10px"},attrs:{size:"small",type:"primary",ghost:""},on:{click:function(t){return e.goPage(r)}}},[e._v(e._s(t.text))])],1)})),1)],1)])],1)],1)],1),n("a-tab-pane",{key:"2",attrs:{tab:"交互监管"}},[n("a-row",[n("a-col",{attrs:{xl:16,lg:12,md:12,sm:24,xs:24}},[n("bar-multid",{attrs:{sourceData:e.jhjgData,fields:e.jhjgFields,title:"平台与部门交互量统计"}})],1),n("a-col",{attrs:{xl:8,lg:12,md:12,sm:24,xs:24}},[n("a-card",{staticStyle:{"margin-bottom":"24px"},attrs:{title:"快速开始 / 便捷导航",bordered:!1,"body-style":{padding:0}}},[n("div",{staticClass:"item-group"},[n("a-row",e._l(e.registerTypeList,(function(t,r){return n("a-col",{key:"registerType"+r,class:"more-btn",attrs:{span:12}},[n("a-button",{staticStyle:{"margin-bottom":"10px"},attrs:{size:"small",type:"primary",ghost:""},on:{click:function(t){return e.goPage(r)}}},[e._v(e._s(t.text))])],1)})),1)],1)])],1)],1)],1),n("a-tab-pane",{key:"4",attrs:{tab:"存储监管"}},[n("a-row",[n("a-col",{attrs:{xl:16,lg:12,md:12,sm:24,xs:24}},[n("a-row",[e.diskInfo&&e.diskInfo.length>0?e._l(e.diskInfo,(function(e,t){return n("a-col",{key:"diskInfo"+t,attrs:{span:12}},[n("dash-chart-demo",{attrs:{title:e.name,datasource:e.restPPT}})],1)})):e._e()],2)],1),n("a-col",{attrs:{xl:8,lg:12,md:12,sm:24,xs:24}},[n("a-card",{staticStyle:{"margin-bottom":"24px"},attrs:{title:"快速开始 / 便捷导航",bordered:!1,"body-style":{padding:0}}},[n("div",{staticClass:"item-group"},[n("a-row",e._l(e.registerTypeList,(function(t,r){return n("a-col",{key:"registerType"+r,class:"more-btn",attrs:{span:10}},[n("a-button",{staticStyle:{"margin-bottom":"10px"},attrs:{size:"small",type:"primary",ghost:""},on:{click:function(t){return e.goPage(r)}}},[e._v(e._s(t.text))])],1)})),1)],1)])],1)],1)],1)],1)],1)]),n("a-row",{attrs:{gutter:12}},[n("a-card",{class:{"anty-list-cust":!0},style:{marginTop:"24px"},attrs:{loading:e.loading,bordered:!1}},[n("a-tabs",{attrs:{size:"large","tab-bar-style":{marginBottom:"24px",paddingLeft:"16px"}},model:{value:e.indexBottomTab,callback:function(t){e.indexBottomTab=t},expression:"indexBottomTab"}},[n("div",{staticClass:"extra-wrapper",attrs:{slot:"tabBarExtraContent"},slot:"tabBarExtraContent"},[n("a-radio-group",{on:{change:e.changeRegisterType},model:{value:e.indexRegisterType,callback:function(t){e.indexRegisterType=t},expression:"indexRegisterType"}},[n("a-radio-button",{attrs:{value:"转移登记"}},[e._v("转移登记")]),n("a-radio-button",{attrs:{value:"抵押登记"}},[e._v("抵押登记")]),n("a-radio-button",{attrs:{value:""}},[e._v("所有")])],1)],1),n("a-tab-pane",{key:"1",attrs:{loading:"true",tab:"业务流程限时监管"}},[n("a-table",{attrs:{dataSource:e.dataSource1,size:"default",rowKey:"id",columns:e.columns,pagination:e.ipagination1},on:{change:e.tableChange1},scopedSlots:e._u([{key:"flowRate",fn:function(t,r,i){return[n("a-progress",{staticStyle:{width:"80px"},attrs:{strokeColor:e.getPercentColor(r.flowRate),format:e.getPercentFormat,percent:e.getFlowRateNumber(r.flowRate)}})]}}])})],1),n("a-tab-pane",{key:"2",attrs:{loading:"true",tab:"业务节点限时监管"}},[n("a-table",{attrs:{dataSource:e.dataSource2,size:"default",rowKey:"id",columns:e.columns2,pagination:e.ipagination2},on:{change:e.tableChange2},scopedSlots:e._u([{key:"flowRate",fn:function(t,r,i){return[n("span",{staticStyle:{color:"red"}},[e._v(e._s(r.flowRate)+"小时")])]}}])})],1)],1)],1)],1)],1)},i=[],o=n("da05"),a=n("3896"),s=n("05ed"),l=n("942d"),c=n("1d43"),u=n("0096"),d=n("8191"),f=n("972f"),h=[{type:"房管","1月":900,"2月":1120,"3月":1380,"4月":1480,"5月":1450,"6月":1100,"7月":1300,"8月":900,"9月":1e3,"10月":1200,"11月":600,"12月":900},{type:"税务","1月":1200,"2月":1500,"3月":1980,"4月":2e3,"5月":1e3,"6月":600,"7月":900,"8月":1100,"9月":1300,"10月":2e3,"11月":900,"12月":1100},{type:"不动产","1月":2e3,"2月":1430,"3月":1300,"4月":1400,"5月":900,"6月":500,"7月":600,"8月":1e3,"9月":600,"10月":1e3,"11月":1500,"12月":1200}],p=["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],m=[{type:"一月","房管":1.12,"税务":1.55,"不动产":1.2},{type:"二月","房管":1.65,"税务":1.32,"不动产":1.42},{type:"三月","房管":1.85,"税务":1.1,"不动产":1.5},{type:"四月","房管":1.33,"税务":1.63,"不动产":1.4},{type:"五月","房管":1.63,"税务":1.8,"不动产":1.7},{type:"六月","房管":1.85,"税务":1.98,"不动产":1.8},{type:"七月","房管":1.98,"税务":1.5,"不动产":1.76},{type:"八月","房管":1.48,"税务":1.2,"不动产":1.3},{type:"九月","房管":1.41,"税务":1.9,"不动产":1.6},{type:"十月","房管":1.1,"税务":1.1,"不动产":1.4},{type:"十一月","房管":1.85,"税务":1.6,"不动产":1.5},{type:"十二月","房管":1.5,"税务":1.4,"不动产":1.3}],g=["房管","税务","不动产"],v=[{title:"业务号",align:"center",dataIndex:"reBizCode"},{title:"业务类型",align:"center",dataIndex:"type"},{title:"受理人",align:"center",dataIndex:"acceptBy"},{title:"受理时间",align:"center",dataIndex:"acceptDate"},{title:"当前节点",align:"center",dataIndex:"curNode"},{title:"办理时长",align:"center",dataIndex:"flowRate",scopedSlots:{customRender:"flowRate"}}],b=[{reBizCode:"1",type:"转移登记",acceptBy:"张三",acceptDate:"2019-01-22",curNode:"任务分派",flowRate:60},{reBizCode:"2",type:"抵押登记",acceptBy:"李四",acceptDate:"2019-01-23",curNode:"领导审核",flowRate:30},{reBizCode:"3",type:"转移登记",acceptBy:"王武",acceptDate:"2019-01-25",curNode:"任务处理",flowRate:20},{reBizCode:"4",type:"转移登记",acceptBy:"赵楼",acceptDate:"2019-11-22",curNode:"部门审核",flowRate:80},{reBizCode:"5",type:"转移登记",acceptBy:"钱就",acceptDate:"2019-12-12",curNode:"任务分派",flowRate:90},{reBizCode:"6",type:"转移登记",acceptBy:"孙吧",acceptDate:"2019-03-06",curNode:"任务处理",flowRate:10},{reBizCode:"7",type:"抵押登记",acceptBy:"周大",acceptDate:"2019-04-13",curNode:"任务分派",flowRate:100},{reBizCode:"8",type:"抵押登记",acceptBy:"吴二",acceptDate:"2019-05-09",curNode:"任务上报",flowRate:50},{reBizCode:"9",type:"抵押登记",acceptBy:"郑爽",acceptDate:"2019-07-12",curNode:"任务处理",flowRate:63},{reBizCode:"20",type:"抵押登记",acceptBy:"林有",acceptDate:"2019-12-12",curNode:"任务打回",flowRate:59},{reBizCode:"11",type:"转移登记",acceptBy:"码云",acceptDate:"2019-09-10",curNode:"任务签收",flowRate:87}],y=[{title:"业务号",align:"center",dataIndex:"reBizCode"},{title:"受理人",align:"center",dataIndex:"acceptBy"},{title:"发起时间",align:"center",dataIndex:"acceptDate"},{title:"当前节点",align:"center",dataIndex:"curNode"},{title:"超时时间",align:"center",dataIndex:"flowRate",scopedSlots:{customRender:"flowRate"}}],C=[{reBizCode:"A001",type:"转移登记",acceptBy:"张四",acceptDate:"2019-01-22",curNode:"任务分派",flowRate:12},{reBizCode:"A002",type:"抵押登记",acceptBy:"李吧",acceptDate:"2019-01-23",curNode:"任务签收",flowRate:3},{reBizCode:"A003",type:"转移登记",acceptBy:"王三",acceptDate:"2019-01-25",curNode:"任务处理",flowRate:24},{reBizCode:"A004",type:"转移登记",acceptBy:"赵二",acceptDate:"2019-11-22",curNode:"部门审核",flowRate:10},{reBizCode:"A005",type:"转移登记",acceptBy:"钱大",acceptDate:"2019-12-12",curNode:"任务签收",flowRate:8},{reBizCode:"A006",type:"转移登记",acceptBy:"孙就",acceptDate:"2019-03-06",curNode:"任务处理",flowRate:10},{reBizCode:"A007",type:"抵押登记",acceptBy:"周晕",acceptDate:"2019-04-13",curNode:"部门审核",flowRate:24},{reBizCode:"A008",type:"抵押登记",acceptBy:"吴有",acceptDate:"2019-05-09",curNode:"部门审核",flowRate:30},{reBizCode:"A009",type:"抵押登记",acceptBy:"郑武",acceptDate:"2019-07-12",curNode:"任务分派",flowRate:1},{reBizCode:"A0010",type:"抵押登记",acceptBy:"林爽",acceptDate:"2019-12-12",curNode:"部门审核",flowRate:16},{reBizCode:"A0011",type:"转移登记",acceptBy:"码楼",acceptDate:"2019-09-10",curNode:"部门审核",flowRate:7}],w={name:"IndexBdc",components:{ATooltip:a["a"],ACol:o["b"],ChartCard:s["default"],MiniArea:c["default"],MiniBar:l["default"],DashChartDemo:f["default"],BarMultid:d["default"],IndexBar:u["default"]},data:function(){return{loading:!0,cardCount:{sll:100,bjl:87,isll:15,ibjl:9},todaySll:60,todayBjl:54,todayISll:13,todayIBjl:7,chartData:{sll:[],bjl:[],isll:[],ibjl:[]},jhjgFields:p,jhjgData:h,xljgData:m,xljgFields:g,diskInfo:[{name:"C盘",restPPT:7},{name:"D盘",restPPT:5}],registerTypeList:[{text:"业务受理"},{text:"业务管理"},{text:"文件管理"},{text:"信息查询"}],dataSource1:[],dataSource2:[],columns:v,columns2:y,ipagination1:{current:1,pageSize:5,pageSizeOptions:["10","20","30"],showTotal:function(e,t){return t[0]+"-"+t[1]+" 共"+e+"条"},showQuickJumper:!0,showSizeChanger:!0,total:0},ipagination2:{current:1,pageSize:5,pageSizeOptions:["10","20","30"],showTotal:function(e,t){return t[0]+"-"+t[1]+" 共"+e+"条"},showQuickJumper:!0,showSizeChanger:!0,total:0},indexRegisterType:"转移登记",indexBottomTab:"1"}},methods:{goPage:function(){this.$message.success("根据业务自行处理跳转页面!")},changeRegisterType:function(e){this.indexRegisterType=e.target.value,"1"==this.indexBottomTab?this.loadDataSource1():this.loadDataSource2()},tableChange1:function(e){this.ipagination1.current=e.current,this.ipagination1.pageSize=e.pageSize,this.queryTimeoutInfo()},tableChange2:function(e){this.ipagination2.current=e.current,this.ipagination2.pageSize=e.pageSize,this.queryNodeTimeoutInfo()},getFlowRateNumber:function(e){return Number(e)},getPercentFormat:function(e){return 100==e?"超时":e+"%"},getPercentColor:function(e){var t=Number(e);return t>=90&&t<100?"rgb(244, 240, 89)":t>=100?"red":"rgb(16, 142, 233)"},loadDataSource1:function(){var e=this;this.dataSource1=b.filter((function(t){return!e.indexRegisterType||t.type==e.indexRegisterType}))},loadDataSource2:function(){var e=this;this.dataSource2=C.filter((function(t){return!e.indexRegisterType||t.type==e.indexRegisterType}))}},created:function(){var e=this;this.loadDataSource1(),this.loadDataSource2(),setTimeout((function(){e.loading=!e.loading}),1e3)}},x=w,I=(n("bc07"),n("2877")),A=Object(I["a"])(x,r,i,!1,null,"db5a7dd2",null);t["default"]=A.exports},3608:function(e,t,n){},"360f":function(e,t,n){},3699:function(e,t){(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(){return t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)},n=function(){},r=function(e){return function(){return e}},i=r(!1),o=r(!0),a=function(){return s},s=function(){var e=function(e){return e.isNone()},t=function(e){return e()},s=function(e){return e},l={fold:function(e,t){return e()},is:i,isSome:i,isNone:o,getOr:s,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:r(null),getOrUndefined:r(void 0),or:s,orThunk:t,map:a,each:n,bind:a,exists:i,forall:o,filter:a,equals:e,equals_:e,toArray:function(){return[]},toString:r("none()")};return l}(),l=function(e){var t=r(e),n=function(){return c},a=function(t){return t(e)},c={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:o,isNone:i,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return l(t(e))},each:function(t){t(e)},bind:a,exists:a,forall:a,filter:function(t){return t(e)?c:s},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(i,(function(t){return n(e,t)}))}};return c},c=function(e){return null===e||void 0===e?s:l(e)},u={some:l,none:a,from:c},d=function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},f=function(e){return function(t){return d(t)===e}},h=f("string"),p=f("object"),m=f("array"),g=Array.prototype.push,v=function(e,t){for(var n=0,r=e.length;n<r;n++){var i=e[n];t(i,n)}},b=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!m(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);g.apply(t,e[n])}return t},y=function(e){var t=e,n=function(){return t},r=function(e){t=e};return{get:n,set:r}},C=Object.keys,w=Object.hasOwnProperty,x=function(e,t){for(var n=C(e),r=0,i=n.length;r<i;r++){var o=n[r],a=e[o];t(a,o)}},I=function(e,t){return A(e,t)?u.from(e[t]):u.none()},A=function(e,t){return w.call(e,t)},k=function(e){return e.getParam("media_scripts")},S=function(e){return e.getParam("audio_template_callback")},_=function(e){return e.getParam("video_template_callback")},T=function(e){return e.getParam("media_live_embeds",!0)},E=function(e){return e.getParam("media_filter_html",!0)},O=function(e){return e.getParam("media_url_resolver")},R=function(e){return e.getParam("media_alt_source",!0)},N=function(e){return e.getParam("media_poster",!0)},L=function(e){return e.getParam("media_dimensions",!0)},D=tinymce.util.Tools.resolve("tinymce.util.Tools"),B=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),M=tinymce.util.Tools.resolve("tinymce.html.SaxParser"),P=function(e,t){if(e)for(var n=0;n<e.length;n++)if(-1!==t.indexOf(e[n].filter))return e[n]},F=B.DOM,j=function(e){return e.replace(/px$/,"")},H=function(e){var t=e.map.style,n=t?F.parseStyle(t):{};return{type:"ephox-embed-iri",source:e.map["data-ephox-embed-iri"],altsource:"",poster:"",width:I(n,"max-width").map(j).getOr(""),height:I(n,"max-height").map(j).getOr("")}},z=function(e,t){var n=y(!1),r={};return M({validate:!1,allow_conditional_comments:!0,start:function(t,i){if(n.get());else if(A(i.map,"data-ephox-embed-iri"))n.set(!0),r=H(i);else{if(r.source||"param"!==t||(r.source=i.map.movie),"iframe"!==t&&"object"!==t&&"embed"!==t&&"video"!==t&&"audio"!==t||(r.type||(r.type=t),r=D.extend(i.map,r)),"script"===t){var o=P(e,i.map.src);if(!o)return;r={type:"script",source:i.map.src,width:String(o.width),height:String(o.height)}}"source"===t&&(r.source?r.altsource||(r.altsource=i.map.src):r.source=i.map.src),"img"!==t||r.poster||(r.poster=i.map.src)}}}).parse(t),r.source=r.source||r.src||r.data,r.altsource=r.altsource||"",r.poster=r.poster||"",r},$=function(e){var t={mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},n=e.toLowerCase().split(".").pop(),r=t[n];return r||""},V=tinymce.util.Tools.resolve("tinymce.html.Schema"),W=tinymce.util.Tools.resolve("tinymce.html.Writer"),K=B.DOM,G=function(e){return/^[0-9.]+$/.test(e)?e+"px":e},Z=function(e,t){x(t,(function(t,n){var r=""+t;if(e.map[n]){var i=e.length;while(i--){var o=e[i];o.name===n&&(r?(e.map[n]=r,o.value=r):(delete e.map[n],e.splice(i,1)))}}else r&&(e.push({name:n,value:r}),e.map[n]=r)}))},U=function(e,t){var n=t.map.style,r=n?K.parseStyle(n):{};r["max-width"]=G(e.width),r["max-height"]=G(e.height),Z(t,{style:K.serializeStyle(r)})},q=["source","altsource"],X=function(e,t,n){var r,i=W(),o=y(!1),a=0;return M({validate:!1,allow_conditional_comments:!0,comment:function(e){i.comment(e)},cdata:function(e){i.cdata(e)},text:function(e,t){i.text(e,t)},start:function(e,s,l){if(o.get());else if(A(s.map,"data-ephox-embed-iri"))o.set(!0),U(t,s);else{switch(e){case"video":case"object":case"embed":case"img":case"iframe":void 0!==t.height&&void 0!==t.width&&Z(s,{width:t.width,height:t.height});break}if(n)switch(e){case"video":Z(s,{poster:t.poster,src:""}),t.altsource&&Z(s,{src:""});break;case"iframe":Z(s,{src:t.source});break;case"source":if(a<2&&(Z(s,{src:t[q[a]],type:t[q[a]+"mime"]}),!t[q[a]]))return;a++;break;case"img":if(!t.poster)return;r=!0;break}}i.start(e,s,l)},end:function(e){if(!o.get()){if("video"===e&&n)for(var s=0;s<2;s++)if(t[q[s]]){var l=[];l.map={},a<s&&(Z(l,{src:t[q[s]],type:t[q[s]+"mime"]}),i.start("source",l,!0))}if(t.poster&&"object"===e&&n&&!r){var c=[];c.map={},Z(c,{src:t.poster,width:t.width,height:t.height}),i.start("img",c,!0)}}i.end(e)}},V({})).parse(e),i.getContent()},Y=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],J=function(e){var t=e.match(/^(https?:\/\/|www\.)(.+)$/i);return t&&t.length>1?"www."===t[1]?"https://":t[1]:"https://"},Q=function(e,t){for(var n=J(t),r=e.regex.exec(t),i=n+e.url,o=function(e){i=i.replace("$"+e,(function(){return r[e]?r[e]:""}))},a=0;a<r.length;a++)o(a);return i.replace(/\?$/,"")},ee=function(e){var t=Y.filter((function(t){return t.regex.test(e)}));return t.length>0?D.extend({},t[0],{url:Q(t[0],e)}):null},te=function(e){var t=e.allowFullscreen?' allowFullscreen="1"':"";return'<iframe src="'+e.source+'" width="'+e.width+'" height="'+e.height+'"'+t+"></iframe>"},ne=function(e){var t='<object data="'+e.source+'" width="'+e.width+'" height="'+e.height+'" type="application/x-shockwave-flash">';return e.poster&&(t+='<img src="'+e.poster+'" width="'+e.width+'" height="'+e.height+'" />'),t+="</object>",t},re=function(e,t){return t?t(e):'<audio controls="controls" src="'+e.source+'">'+(e.altsource?'\n<source src="'+e.altsource+'"'+(e.altsourcemime?' type="'+e.altsourcemime+'"':"")+" />\n":"")+"</audio>"},ie=function(e,t){return t?t(e):'<video width="'+e.width+'" height="'+e.height+'"'+(e.poster?' poster="'+e.poster+'"':"")+' controls="controls">\n<source src="'+e.source+'"'+(e.sourcemime?' type="'+e.sourcemime+'"':"")+" />\n"+(e.altsource?'<source src="'+e.altsource+'"'+(e.altsourcemime?' type="'+e.altsourcemime+'"':"")+" />\n":"")+"</video>"},oe=function(e){return'<script src="'+e.source+'"><\/script>'},ae=function(e,t){var n=D.extend({},t);if(!n.source&&(D.extend(n,z(k(e),n.embed)),!n.source))return"";n.altsource||(n.altsource=""),n.poster||(n.poster=""),n.source=e.convertURL(n.source,"source"),n.altsource=e.convertURL(n.altsource,"source"),n.sourcemime=$(n.source),n.altsourcemime=$(n.altsource),n.poster=e.convertURL(n.poster,"poster");var r=ee(n.source);if(r&&(n.source=r.url,n.type=r.type,n.allowFullscreen=r.allowFullscreen,n.width=n.width||String(r.w),n.height=n.height||String(r.h)),n.embed)return X(n.embed,n,!0);var i=P(k(e),n.source);i&&(n.type="script",n.width=String(i.width),n.height=String(i.height));var o=S(e),a=_(e);return n.width=n.width||"300",n.height=n.height||"150",D.each(n,(function(t,r){n[r]=e.dom.encode(""+t)})),"iframe"===n.type?te(n):"application/x-shockwave-flash"===n.sourcemime?ne(n):-1!==n.sourcemime.indexOf("audio")?re(n,o):"script"===n.type?oe(n):ie(n,a)},se=tinymce.util.Tools.resolve("tinymce.util.Promise"),le={},ce=function(e,t,n){return new se((function(r,i){var o=function(n){return n.html&&(le[e.source]=n),r({url:e.source,html:n.html?n.html:t(e)})};le[e.source]?o(le[e.source]):n({url:e.source},o,i)}))},ue=function(e,t){return new se((function(n){n({html:t(e),url:e.source})}))},de=function(e){return function(t){return ae(e,t)}},fe=function(e,t){var n=O(e);return n?ce(t,de(e),n):ue(t,de(e))},he=function(e){return le.hasOwnProperty(e)},pe=function(e,t){return I(t,e).bind((function(e){return I(e,"meta")}))},me=function(e,t,n){return function(r){var i,o=function(){return I(e,r)},a=function(){return I(t,r)},s=function(e){return I(e,"value").bind((function(e){return e.length>0?u.some(e):u.none()}))},l=function(){return o().bind((function(e){return p(e)?s(e).orThunk(a):a().orThunk((function(){return u.from(e)}))}))},c=function(){return a().orThunk((function(){return o().bind((function(e){return p(e)?s(e):u.from(e)}))}))};return i={},i[r]=(r===n?l():c()).getOr(""),i}},ge=function(e,t){var n={};return I(e,"dimensions").each((function(e){v(["width","height"],(function(r){I(t,r).orThunk((function(){return I(e,r)})).each((function(e){return n[r]=e}))}))})),n},ve=function(e,n){var r=n?pe(n,e).getOr({}):{},i=me(e,r,n);return t(t(t(t(t({},i("source")),i("altsource")),i("poster")),i("embed")),ge(e,r))},be=function(e){var n=t(t({},e),{source:{value:I(e,"source").getOr("")},altsource:{value:I(e,"altsource").getOr("")},poster:{value:I(e,"poster").getOr("")}});return v(["width","height"],(function(t){I(e,t).each((function(e){var r=n.dimensions||{};r[t]=e,n.dimensions=r}))})),n},ye=function(e){return function(t){var n=t&&t.msg?"Media embed handler error: "+t.msg:"Media embed handler threw unknown error.";e.notificationManager.open({type:"error",text:n})}},Ce=function(e,t){return z(k(e),t)},we=function(e){return e.getAttribute("data-mce-object")||e.getAttribute("data-ephox-embed-iri")},xe=function(e){var n=e.selection.getNode(),r=we(n)?e.serializer.serialize(n,{selection:!0}):"";return t({embed:r},z(k(e),r))},Ie=function(e,n){return function(r){if(h(r.url)&&r.url.trim().length>0){var i=r.html,o=Ce(n,i),a=t(t({},o),{source:r.url,embed:i});e.setData(be(a))}}},Ae=function(e,t){for(var n=e.dom.select("img[data-mce-object]"),r=0;r<t.length;r++)for(var i=n.length-1;i>=0;i--)t[r]===n[i]&&n.splice(i,1);e.selection.select(n[0])},ke=function(e,t){var n=e.dom.select("img[data-mce-object]");e.insertContent(t),Ae(e,n),e.nodeChanged()},Se=function(e,t,n){t.embed=X(t.embed,t),t.embed&&(e.source===t.source||he(t.source))?ke(n,t.embed):fe(n,t).then((function(e){ke(n,e.html)})).catch(ye(n))},_e=function(e){var n=xe(e),r=y(n),i=be(n),o=function(t,n){var r=ve(n.getData(),"source");t.source!==r.source&&(Ie(v,e)({url:r.source,html:""}),fe(e,r).then(Ie(v,e)).catch(ye(e)))},a=function(t){var n=ve(t.getData()),r=Ce(e,n.embed);t.setData(be(r))},s=function(n,r){var i=ve(n.getData(),r),o=ae(e,i);n.setData(be(t(t({},i),{embed:o})))},l=[{name:"source",type:"urlinput",filetype:"media",label:"Source"}],c=L(e)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],u={title:"General",name:"general",items:b([l,c])},d={type:"textarea",name:"embed",label:"Paste your embed code below:"},f={title:"Embed",items:[d]},h=[];R(e)&&h.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),N(e)&&h.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});var p={title:"Advanced",name:"advanced",items:h},m=[u,f];h.length>0&&m.push(p);var g={type:"tabpanel",tabs:m},v=e.windowManager.open({title:"Insert/Edit Media",size:"normal",body:g,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(t){var n=ve(t.getData());Se(r.get(),n,e),t.close()},onChange:function(e,t){switch(t.name){case"source":o(r.get(),e);break;case"embed":a(e);break;case"dimensions":case"altsource":case"poster":s(e,t.name);break}r.set(ve(e.getData()))},initialData:i})},Te=function(e){var t=function(){_e(e)};return{showDialog:t}},Ee=function(e){var t=function(){_e(e)};e.addCommand("mceMedia",t)},Oe=tinymce.util.Tools.resolve("tinymce.html.Node"),Re=tinymce.util.Tools.resolve("tinymce.Env"),Ne=function(e,t){if(!1===E(e))return t;var n,r=W();return M({validate:!1,allow_conditional_comments:!1,comment:function(e){r.comment(e)},cdata:function(e){r.cdata(e)},text:function(e,t){r.text(e,t)},start:function(t,i,o){if(n=!0,"script"!==t&&"noscript"!==t&&"svg"!==t){for(var a=i.length-1;a>=0;a--){var s=i[a].name;0===s.indexOf("on")&&(delete i.map[s],i.splice(a,1)),"style"===s&&(i[a].value=e.dom.serializeStyle(e.dom.parseStyle(i[a].value),t))}r.start(t,i,o),n=!1}},end:function(e){n||r.end(e)}},V({})).parse(t),r.getContent()},Le=function(e,t){var n=t.name,r=new Oe("img",1);return r.shortEnded=!0,Be(e,t,r),r.attr({width:t.attr("width")||"300",height:t.attr("height")||("audio"===n?"30":"150"),style:t.attr("style"),src:Re.transparentSrc,"data-mce-object":n,class:"mce-object mce-object-"+n}),r},De=function(e,t){var n=t.name,r=new Oe("span",1);r.attr({contentEditable:"false",style:t.attr("style"),"data-mce-object":n,class:"mce-preview-object mce-object-"+n}),Be(e,t,r);var i=new Oe(n,1);i.attr({src:t.attr("src"),allowfullscreen:t.attr("allowfullscreen"),style:t.attr("style"),class:t.attr("class"),width:t.attr("width"),height:t.attr("height"),frameborder:"0"});var o=new Oe("span",1);return o.attr("class","mce-shim"),r.append(i),r.append(o),r},Be=function(e,t,n){var r,i,o,a=t.attributes;o=a.length;while(o--)r=a[o].name,i=a[o].value,"width"!==r&&"height"!==r&&"style"!==r&&("data"!==r&&"src"!==r||(i=e.convertURL(i,r)),n.attr("data-mce-p-"+r,i));var s=t.firstChild&&t.firstChild.value;s&&(n.attr("data-mce-html",escape(Ne(e,s))),n.firstChild=null)},Me=function(e){var t=e.attr("class");return t&&/\btiny-pageembed\b/.test(t)},Pe=function(e){while(e=e.parent)if(e.attr("data-ephox-embed-iri")||Me(e))return!0;return!1},Fe=function(e){return function(t){var n,r,i=t.length;while(i--)n=t[i],n.parent&&(n.parent.attr("data-mce-object")||("script"!==n.name||(r=P(k(e),n.attr("src")),r))&&(r&&(r.width&&n.attr("width",r.width.toString()),r.height&&n.attr("height",r.height.toString())),"iframe"===n.name&&T(e)&&Re.ceFalse?Pe(n)||n.replace(De(e,n)):Pe(n)||n.replace(Le(e,n))))}},je=function(e){e.on("preInit",(function(){var t=e.schema.getSpecialElements();D.each("video audio iframe object".split(" "),(function(e){t[e]=new RegExp("</"+e+"[^>]*>","gi")}));var n=e.schema.getBoolAttrs();D.each("webkitallowfullscreen mozallowfullscreen allowfullscreen".split(" "),(function(e){n[e]={}})),e.parser.addNodeFilter("iframe,video,audio,object,embed,script",Fe(e)),e.serializer.addAttributeFilter("data-mce-object",(function(t,n){var r,i,o,a,s,l,c,u,d=t.length;while(d--)if(r=t[d],r.parent){c=r.attr(n),i=new Oe(c,1),"audio"!==c&&"script"!==c&&(u=r.attr("class"),u&&-1!==u.indexOf("mce-preview-object")?i.attr({width:r.firstChild.attr("width"),height:r.firstChild.attr("height")}):i.attr({width:r.attr("width"),height:r.attr("height")})),i.attr({style:r.attr("style")}),a=r.attributes,o=a.length;while(o--){var f=a[o].name;0===f.indexOf("data-mce-p-")&&i.attr(f.substr(11),a[o].value)}"script"===c&&i.attr("type","text/javascript"),s=r.attr("data-mce-html"),s&&(l=new Oe("#text",3),l.raw=!0,l.value=Ne(e,unescape(s)),i.append(l)),r.replace(i)}}))})),e.on("SetContent",(function(){e.$("span.mce-preview-object").each((function(t,n){var r=e.$(n);0===r.find("span.mce-shim").length&&r.append('<span class="mce-shim"></span>')}))}))},He=function(e){e.on("ResolveName",(function(e){var t;1===e.target.nodeType&&(t=e.target.getAttribute("data-mce-object"))&&(e.name=t)}))},ze=function(e){e.on("click keyup touchend",(function(){var t=e.selection.getNode();t&&e.dom.hasClass(t,"mce-preview-object")&&e.dom.getAttrib(t,"data-mce-selected")&&t.setAttribute("data-mce-selected","2")})),e.on("ObjectSelected",(function(e){var t=e.target.getAttribute("data-mce-object");"audio"!==t&&"script"!==t||e.preventDefault()})),e.on("ObjectResized",(function(e){var t,n=e.target;n.getAttribute("data-mce-object")&&(t=n.getAttribute("data-mce-html"),t&&(t=unescape(t),n.setAttribute("data-mce-html",escape(X(t,{width:String(e.width),height:String(e.height)})))))}))},$e=function(e,t){return function(n){return e.selection.selectorChangedWithUnbind(t.join(","),n.setActive).unbind}},Ve=function(e){e.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:function(){e.execCommand("mceMedia")},onSetup:$e(e,["img[data-mce-object]","span[data-mce-object]","div[data-ephox-embed-iri]"])}),e.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:function(){e.execCommand("mceMedia")}})};function We(){e.add("media",(function(e){return Ee(e),Ve(e),He(e),je(e),ze(e),Te(e)}))}We()})()},"37fb":function(e,t,n){"use strict";var r=n("0481"),i=n.n(r);i.a},3811:function(e,t,n){"use strict";var r=n("8128"),i=n.n(r);i.a},3826:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("a-table",{ref:"table",attrs:{size:"default",bordered:"",rowKey:"id",columns:e.columns,pagination:!1,dataSource:e.dataSource}})],1)},i=[],o={name:"RowspanTable",components:{},data:function(){var e=this;return{description:"存放位置设置表管理页面",levelNum:{},gridNum:0,boxNum:0,cabinetNo:"",columns:[{title:"分组一",align:"center",dataIndex:"cabinetNo",customRender:function(t,n,r){var i={children:t,attrs:{}};return i.attrs.rowSpan=0===r?e.dataSource.length:0,i}},{title:"分组二",align:"center",dataIndex:"levelNo",customRender:function(t,n,r){for(var i={children:t,attrs:{}},o=parseInt(e.levelNum),a=parseInt(e.gridNum)*parseInt(e.boxNum),s=0;s<=o;s++){if(r===s*a){i.attrs.rowSpan=a;break}i.attrs.rowSpan=0}return i}},{title:"分组三",align:"center",dataIndex:"gridNo",customRender:function(t,n,r){for(var i={children:t,attrs:{}},o=parseInt(e.levelNum)*parseInt(e.gridNum),a=parseInt(e.boxNum),s=0;s<=o;s++){if(r===s*a){i.attrs.rowSpan=a;break}i.attrs.rowSpan=0}return i}},{title:"字段一",align:"center",dataIndex:"boxNo"},{title:"字段二",align:"center",dataIndex:"storedNum"},{title:"字段三",align:"center",dataIndex:"maxNum"}],dataSource:[{id:"cb1dfd12cbeca3f8ba121439ee7e2411",attributeId:"e62831f314e1390edbd884e9d9e6aca6",cabinetNo:"1",levelNo:"1",gridNo:"1",boxNo:"1",storedNum:2,maxNum:2,unitNum:2,assignStatus:"1",storageStatus:"1",remark:null,createBy:"admin",createTime:"2019-04-02",updateBy:"admin",updateTime:"2019-04-02"},{id:"f903d50d02904b14175dccf2a7948777",attributeId:"e62831f314e1390edbd884e9d9e6aca6",cabinetNo:"1",levelNo:"1",gridNo:"1",boxNo:"2",storedNum:2,maxNum:2,unitNum:2,assignStatus:"1",storageStatus:"1",remark:null,createBy:"admin",createTime:"2019-04-02",updateBy:"admin",updateTime:"2019-04-02"},{id:"4f04c0ca4202535d678871b07e706cf6",attributeId:"e62831f314e1390edbd884e9d9e6aca6",cabinetNo:"1",levelNo:"1",gridNo:"2",boxNo:"1",storedNum:2,maxNum:2,unitNum:2,assignStatus:"1",storageStatus:"1",remark:null,createBy:"admin",createTime:"2019-04-02",updateBy:"admin",updateTime:"2019-04-02"},{id:"d0c91dabedfc03efad0126e50ea72e80",attributeId:"e62831f314e1390edbd884e9d9e6aca6",cabinetNo:"1",levelNo:"1",gridNo:"2",boxNo:"2",storedNum:2,maxNum:2,unitNum:2,assignStatus:"1",storageStatus:"1",remark:null,createBy:"admin",createTime:"2019-04-02",updateBy:"admin",updateTime:"2019-04-08"},{id:"1e8bfcbe4352afbab8878f9fd368e007",attributeId:"e62831f314e1390edbd884e9d9e6aca6",cabinetNo:"1",levelNo:"2",gridNo:"1",boxNo:"1",storedNum:1,maxNum:2,unitNum:1,assignStatus:"1",storageStatus:"0",remark:null,createBy:"admin",createTime:"2019-04-02",updateBy:"admin",updateTime:"2019-04-08"},{id:"d76087d8d3ebc7a59d43458588f26941",attributeId:"e62831f314e1390edbd884e9d9e6aca6",cabinetNo:"1",levelNo:"2",gridNo:"1",boxNo:"2",storedNum:0,maxNum:2,unitNum:0,assignStatus:"1",storageStatus:"0",remark:null,createBy:"admin",createTime:"2019-04-02",updateBy:"admin",updateTime:"2019-04-02"},{id:"7bf7754f12e1bf95edcd501cc6b85e62",attributeId:"e62831f314e1390edbd884e9d9e6aca6",cabinetNo:"1",levelNo:"2",gridNo:"2",boxNo:"1",storedNum:0,maxNum:2,unitNum:0,assignStatus:"1",storageStatus:"0",remark:null,createBy:"admin",createTime:"2019-04-02",updateBy:"admin",updateTime:"2019-04-02"},{id:"9cd08d733657d5b286bec870f12f6ecf",attributeId:"e62831f314e1390edbd884e9d9e6aca6",cabinetNo:"1",levelNo:"2",gridNo:"2",boxNo:"2",storedNum:0,maxNum:2,unitNum:0,assignStatus:"1",storageStatus:"0",remark:null,createBy:"admin",createTime:"2019-04-02",updateBy:"admin",updateTime:"2019-04-02"}],isorter:{column:"createTime",order:"desc"},url:{}}},created:function(){this.loadData()},methods:{loadData:function(){this.levelNum=4,this.gridNum=2,this.boxNum=2}}},a=o,s=(n("d270"),n("2877")),l=Object(s["a"])(a,r,i,!1,null,"0eaddce8",null);t["default"]=l.exports},3864:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{staticStyle:{height:"100%"},attrs:{loading:e.cardLoading,bordered:!1}},[n("a-spin",{attrs:{spinning:e.loading}},[n("a-input-search",{staticStyle:{width:"100%","margin-top":"10px"},attrs:{placeholder:"输入机构名称查询...",enterButton:""},on:{search:e.handleSearch}}),n("a-tree",{attrs:{showLine:"",checkStrictly:"",expandedKeys:e.expandedKeys,selectedKeys:e.selectedKeys,dropdownStyle:{maxHeight:"200px",overflow:"auto"},treeData:e.treeDataSource},on:{"update:expandedKeys":function(t){e.expandedKeys=t},"update:expanded-keys":function(t){e.expandedKeys=t},select:e.handleTreeSelect}})],1)],1)},i=[],o=n("4ec3"),a={name:"AddressListLeft",props:["value"],data:function(){return{cardLoading:!0,loading:!1,treeDataSource:[],selectedKeys:[],expandedKeys:[]}},created:function(){this.queryTreeData()},methods:{queryTreeData:function(e){this.commonRequestThen(Object(o["D"])({departName:e||void 0}))},handleSearch:function(e){e?this.commonRequestThen(Object(o["T"])({keyWord:e})):this.queryTreeData()},handleTreeSelect:function(e,t){if(e.length>0&&this.selectedKeys[0]!==e[0]){this.selectedKeys=[e[0]];var n=t.node.dataRef.orgCode;this.emitInput(n)}},emitInput:function(e){this.$emit("input",e)},commonRequestThen:function(e){var t=this;this.loading=!0,e.then((function(e){e.success?t.treeDataSource=e.result:t.$message.warn(e.message)})).finally((function(){t.loading=!1,t.cardLoading=!1}))}}},s=a,l=n("2877"),c=Object(l["a"])(s,r,i,!1,null,"71270e97",null);t["default"]=c.exports},3981:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-chart",{attrs:{forceFit:!0,height:e.height,data:e.data,padding:[20,20,95,20],scale:e.scale}},[n("v-tooltip"),n("v-axis",{attrs:{dataKey:e.axis1Opts.dataKey,line:e.axis1Opts.line,tickLine:e.axis1Opts.tickLine,grid:e.axis1Opts.grid}}),n("v-axis",{attrs:{dataKey:e.axis2Opts.dataKey,line:e.axis2Opts.line,tickLine:e.axis2Opts.tickLine,grid:e.axis2Opts.grid}}),n("v-legend",{attrs:{dataKey:"user",marker:"circle",offset:30}}),n("v-coord",{attrs:{type:"polar",radius:"0.8"}}),n("v-line",{attrs:{position:"item*score",color:"user",size:2}}),n("v-point",{attrs:{position:"item*score",color:"user",size:4,shape:"circle"}})],1)},i=[],o={dataKey:"item",line:null,tickLine:null,grid:{lineStyle:{lineDash:null},hideFirstLine:!1}},a={dataKey:"score",line:null,tickLine:null,grid:{type:"polygon",lineStyle:{lineDash:null}}},s=[{dataKey:"score",min:0,max:100},{dataKey:"user",alias:"类型"}],l=[{item:"示例一",score:40},{item:"示例二",score:20},{item:"示例三",score:67},{item:"示例四",score:43},{item:"示例五",score:90}],c={name:"Radar",props:{height:{type:Number,default:254},dataSource:{type:Array,default:function(){return[]}}},data:function(){return{axis1Opts:o,axis2Opts:a,scale:s,data:l}},watch:{dataSource:function(e){0===e.length?this.data=l:this.data=e}}},u=c,d=n("2877"),f=Object(d["a"])(u,r,i,!1,null,"5517ce38",null);t["default"]=f.exports},"39a5":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:e.title,width:800,visible:e.visible,confirmLoading:e.confirmLoading,okButtonProps:{props:{disabled:e.disableSubmit}},cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[e.editStatus?n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"客户姓名",hasFeedback:""}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"请输入客户姓名!"}]}],expression:"['name', {rules: [{ required: true, message: '请输入客户姓名!' }]}]"}],attrs:{placeholder:"请输入客户姓名",readOnly:e.disableSubmit}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"性别",hasFeedback:""}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["sex",{}],expression:"['sex', {}]"}],attrs:{placeholder:"请选择性别"}},[n("a-select-option",{attrs:{value:"1"}},[e._v("男性")]),n("a-select-option",{attrs:{value:"2"}},[e._v("女性")])],1)],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"身份证号码",hasFeedback:""}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["idcard",e.validatorRules.idcard],expression:"['idcard', validatorRules.idcard]"}],attrs:{placeholder:"请输入身份证号码",readOnly:e.disableSubmit}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"身份证扫描件",hasFeedback:""}},[n("j-image-upload",{attrs:{text:"上传",isMultiple:!0},model:{value:e.fileList,callback:function(t){e.fileList=t},expression:"fileList"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"联系方式",hasFeedback:""}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["telphone",e.validatorRules.telphone],expression:"[ 'telphone', validatorRules.telphone]"}],attrs:{readOnly:e.disableSubmit}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"订单号码",hidden:e.hiding,hasFeedback:""},model:{value:this.orderId,callback:function(t){e.$set(this,"orderId",t)},expression:"this.orderId"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["orderId",{}],expression:"[ 'orderId', {}]"}],attrs:{disabled:"disabled"}})],1)],1)],1):e._e()],1)},i=[],o=n("0fea"),a=n("88bc"),s=n.n(a),l=n("2b0e"),c=n("9fb0"),u=n("e610"),d={name:"JeecgOrderCustomerModal",components:{JImageUpload:u["default"]},data:function(){return{title:"操作",visible:!1,model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},columns:[{title:"客户名",align:"center",dataIndex:"name"},{title:"性别",align:"center",dataIndex:"sex"},{title:"身份证号码",align:"center",dataIndex:"idcard"},{title:"身份证扫描件",align:"center",dataIndex:"idcardPic"},{title:"电话",dataIndex:"telphone",align:"center"},{title:"订单号码",dataIndex:"orderId",align:"center"},{title:"创建人",dataIndex:"createBy",align:"center"},{title:"创建时间",dataIndex:"createTime",align:"center"},{title:"更新时间",dataIndex:"updateBy",align:"center"},{title:"更新人",dataIndex:"updateTime",align:"center"}],fileList:[],disableSubmit:!1,selectedRowKeys:[],orderId:"",hiding:!1,headers:{},picUrl:"",picArray:[],previewVisible:!1,previewImage:"",addStatus:!1,editStatus:!1,confirmLoading:!1,form:this.$form.createForm(this),url:{add:"/test/order/addCustomer",edit:"/test/order/editCustomer",fileUpload:window._CONFIG["domianURL"]+"/sys/common/upload",getOrderCustomerList:"/test/order/listOrderCustomerByMainId"},validatorRules:{telphone:{rules:[{validator:this.validateMobile}]},idcard:{rules:[{validator:this.validateIdCard}]}}}},computed:{uploadAction:function(){return this.url.fileUpload}},created:function(){var e=l["default"].ls.get(c["a"]);this.headers={"X-Access-Token":e}},methods:{add:function(e){this.hiding=!0,e?(this.orderId=e,this.edit({orderId:e},"")):this.$message.warning("请选择一个客户信息")},detail:function(e){this.edit(e,"d")},edit:function(e,t){var n=this;"e"==t?(this.hiding=!1,this.disableSubmit=!1):"d"==t?(this.hiding=!1,this.disableSubmit=!0):(this.hiding=!0,this.disableSubmit=!1),this.form.resetFields(),this.orderId=e.orderId,this.model=Object.assign({},e),e.id?(this.hiding=!1,this.addStatus=!1,this.editStatus=!0,this.$nextTick((function(){n.form.setFieldsValue(s()(n.model,"id","name","sex","idcard","telphone","orderId","createBy","createTime","updateBy","updateTime"))})),setTimeout((function(){n.fileList=e.idcardPic}),5)):(this.addStatus=!1,this.editStatus=!0),this.visible=!0},close:function(){this.$emit("close"),this.visible=!1,this.picUrl="",this.fileList=[]},handleOk:function(){var e=this,t=this;this.form.validateFields((function(n,r){if(!n){t.confirmLoading=!0;var i="",a="";e.model.id?(i+=e.url.edit,a="put"):(i+=e.url.add,a="post");var s=Object.assign(e.model,r);s.orderId=e.orderId,""!=e.fileList?s.idcardPic=e.fileList:s.idcardPic="",Object(o["h"])(i,s,a).then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}}))},handleCancel:function(){this.close()},validateMobile:function(e,t,n){!t||new RegExp(/^1([38][0-9]|4[579]|5[0-3,5-9]|6[6]|7[0135678]|9[89])\d{8}$/).test(t)?n():n("您的手机号码格式不正确!")},validateIdCard:function(e,t,n){!t||new RegExp(/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/).test(t)?n():n("您的身份证号码格式不正确!")}}},f=d,h=(n("b277"),n("2877")),p=Object(h["a"])(f,r,i,!1,null,"34a71394",null);t["default"]=p.exports},"3ada":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("result",{attrs:{"is-success":!0,description:e.description,title:e.title}},[n("template",{slot:"action"},[n("a-button",{attrs:{type:"primary"}},[e._v("返回列表")]),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v("查看项目")]),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v("打印")])],1),n("div",[n("div",{staticStyle:{"font-size":"16px",color:"rgba(0, 0, 0, 0.85)","font-weight":"500","margin-bottom":"20px"}},[e._v("项目名称")]),n("a-row",{staticStyle:{"margin-bottom":"16px"}},[n("a-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:6}},[n("span",{staticStyle:{color:"rgba(0, 0, 0, 0.85)"}},[e._v("项目 ID：")]),e._v("\n          20180724089\n        ")]),n("a-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:6}},[n("span",{staticStyle:{color:"rgba(0, 0, 0, 0.85)"}},[e._v("负责人：")]),e._v("\n          曲丽丽是谁？\n        ")]),n("a-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:12}},[n("span",{staticStyle:{color:"rgba(0, 0, 0, 0.85)"}},[e._v("生效时间：")]),e._v("\n          2016-12-12 ~ 2017-12-12\n        ")])],1),n("a-steps",{attrs:{current:1,direction:e.isMobile()&&e.directionType.vertical||e.directionType.horizontal,progressDot:""}},[n("a-step",[n("span",{staticStyle:{"font-size":"14px"},attrs:{slot:"title"},slot:"title"},[e._v("创建项目")]),n("template",{slot:"description"},[n("div",{staticStyle:{fontSize:"12px",color:"rgba(0, 0, 0, 0.45)",position:"relative",left:"42px"},attrs:{slot:"description"},slot:"description"},[n("div",{staticStyle:{margin:"8px 0 4px"}},[e._v("\n                曲丽丽\n                "),n("a-icon",{staticStyle:{"margin-left":"8px"},attrs:{type:"dingding-o"}})],1),n("div",[e._v("2016-12-12 12:32")])])])],2),n("a-step",{attrs:{title:"部门初审"}},[n("span",{staticStyle:{"font-size":"14px"},attrs:{slot:"title"},slot:"title"},[e._v("部门初审")]),n("template",{slot:"description"},[n("div",{staticStyle:{fontSize:"12px",color:"rgba(0, 0, 0, 0.45)",position:"relative",left:"42px"},attrs:{slot:"description"},slot:"description"},[n("div",{staticStyle:{margin:"8px 0 4px"}},[e._v("\n                周毛毛\n                "),n("a-icon",{staticStyle:{"margin-left":"8px",color:"#00A0E9"},attrs:{type:"dingding-o"}})],1),n("div",[n("a",{attrs:{href:""}},[e._v("催一下")])])])])],2),n("a-step",{attrs:{title:"财务复核"}},[n("span",{staticStyle:{"font-size":"14px"},attrs:{slot:"title"},slot:"title"},[e._v("财务复核")])]),n("a-step",{attrs:{title:"完成"}},[n("span",{staticStyle:{"font-size":"14px"},attrs:{slot:"title"},slot:"title"},[e._v("完成")])])],1)],1)],2)],1)},i=[],o=n("9a3d"),a=n("ac0d"),s={horizontal:"horizontal",vertical:"vertical"},l={name:"Success",components:{Result:o["default"]},mixins:[a["b"]],data:function(){return{title:"提交成功",description:"提交结果页用于反馈一系列操作任务的处理结果，\n 如果仅是简单操作，使用 Message 全局提示反馈即可。\n 本文字区域可以展示简单的补充说明，如果有类似展示\n “单据”的需求，下面这个灰色区域可以呈现比较复杂的内容。",directionType:s}}},c=l,u=n("2877"),d=Object(u["a"])(c,r,i,!1,null,"461b07d7",null);t["default"]=d.exports},"3aea":function(e,t,n){n("3699")},"3aee":function(e,t,n){},"3b0e":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{style:e.modalStyle,attrs:{width:e.modalWidth,visible:e.visible,maskClosable:!1},on:{cancel:e.handleCancel}},[n("template",{slot:"footer"},[n("a-button",{on:{click:e.handleCancel}},[e._v("关闭")])],1),n("a-table",{ref:"table",attrs:{rowKey:"id",size:"middle",columns:e.columns,loading:e.loading,dataSource:e.dataSource,pagination:!1},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleBack(r.id)}}},[n("a-icon",{attrs:{type:"redo"}}),e._v("字典取回")],1),n("a-divider",{attrs:{type:"vertical"}}),n("a",{on:{click:function(t){return e.handleDelete(r.id)}}},[n("a-icon",{attrs:{type:"scissor"}}),e._v("彻底删除")],1)],1)}}])})],2)},i=[],o=n("0fea"),a={name:"DictDeleteList",data:function(){return{modalWidth:"90%",modalStyle:{top:"20px"},title:"操作",visible:!1,loading:!1,dataSource:[],columns:[{title:"#",dataIndex:"",key:"rowIndex",width:120,align:"center",customRender:function(e,t,n){return parseInt(n)+1}},{title:"字典名称",align:"left",dataIndex:"dictName"},{title:"字典编号",align:"left",dataIndex:"dictCode"},{title:"描述",align:"left",dataIndex:"description"},{title:"操作",dataIndex:"action",align:"center",scopedSlots:{customRender:"action"}}]}},methods:{handleCancel:function(){this.visible=!1,this.$emit("refresh")},show:function(){this.visible=!0,this.loadData()},loadData:function(){var e=this;this.loading=!0,Object(o["c"])("/sys/dict/deleteList").then((function(t){e.loading=!1,t.success?e.dataSource=t.result:e.$message.warning(t.message)}))},handleBack:function(e){var t=this;Object(o["j"])("/sys/dict/back/"+e).then((function(e){e.success?(t.$message.success(e.message),t.loadData()):t.$message.warning(e.message)}))},handleDelete:function(e){var t=this,n=this.$createElement;this.$confirm({title:"彻底删除字典",content:n("div",[n("p",["您确定要彻底删除这个字典项吗？"]),n("p",{style:"color:red;"},["注意：彻底删除后将无法恢复，请谨慎操作！"])]),centered:!1,onOk:function(){var n=t;Object(o["a"])("/sys/dict/deletePhysic/"+e).then((function(e){e.success?(t.$message.success(e.message),t.loadData()):n.$message.warning(e.message)}))}})}}},s=a,l=n("2877"),c=Object(l["a"])(s,r,i,!1,null,"d7d78a24",null);t["default"]=c.exports},"3b7e":function(e,t,n){},"3bf3":function(e,t,n){},"3c48":function(e,t,n){},"3c53":function(e,t,n){},"3cb8":function(e,t,n){"use strict";var r=n("66cbb"),i=n.n(r);i.a},"3d75":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-skeleton",{attrs:{active:"",loading:e.loading,paragraph:{rows:17}}},[n("a-card",{staticClass:"card-area",attrs:{bordered:!1}},[n("a-alert",{attrs:{type:"info",showIcon:!0}},[n("div",{attrs:{slot:"message"},slot:"message"},[e._v("\n        共追踪到 "+e._s(e.dataSource.length)+" 条近期HTTP请求记录\n        "),n("a-divider",{attrs:{type:"vertical"}}),n("a",{on:{click:e.handleClickUpdate}},[e._v("立即刷新")])],1)]),n("a-table",{staticStyle:{"margin-top":"20px"},attrs:{columns:e.columns,dataSource:e.dataSource,pagination:e.pagination,loading:e.tableLoading,scroll:{x:900}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"timeTaken",fn:function(t){return[n("a-tag",t<500?{attrs:{color:"green"}}:t<1e3?{attrs:{color:"cyan"}}:t<1500?{attrs:{color:"orange"}}:{attrs:{color:"red"}},[e._v(e._s(t)+" ms")])]}},{key:"responseStatus",fn:function(t){return[t<200?n("a-tag",{attrs:{color:"pink"}},[e._v(e._s(t)+" ")]):t<201?n("a-tag",{attrs:{color:"green"}},[e._v(e._s(t)+" ")]):t<399?n("a-tag",{attrs:{color:"cyan"}},[e._v(e._s(t)+" ")]):t<403?n("a-tag",{attrs:{color:"orange"}},[e._v(e._s(t)+" ")]):t<501?n("a-tag",{attrs:{color:"red"}},[e._v(e._s(t)+" ")]):n("span",[e._v(e._s(t))])]}},{key:"requestMethod",fn:function(t){return["GET"===t?n("a-tag",{attrs:{color:"#87d068"}},[e._v(e._s(t))]):"POST"===t?n("a-tag",{attrs:{color:"#2db7f5"}},[e._v(e._s(t))]):"PUT"===t?n("a-tag",{attrs:{color:"#ffba5a"}},[e._v(e._s(t))]):"DELETE"===t?n("a-tag",{attrs:{color:"#f50"}},[e._v(e._s(t))]):n("span",[e._v(e._s(t)+" ms")])]}}])})],1)],1)},i=[],o=n("c1df"),a=n.n(o),s=n("0fea");function l(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=c(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function c(e,t){if(e){if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}a.a.locale("zh-cn");var d={data:function(){return{advanced:!1,dataSource:[],pagination:{defaultPageSize:10,defaultCurrent:1,pageSizeOptions:["10","20","30","40","100"],showQuickJumper:!0,showSizeChanger:!0,showTotal:function(e,t){return"显示 ".concat(t[0]," ~ ").concat(t[1]," 条记录，共 ").concat(e," 条记录")}},loading:!0,tableLoading:!0}},computed:{columns:function(){return[{title:"请求时间",dataIndex:"timestamp",customRender:function(e){return a()(e).format("YYYY-MM-DD HH:mm:ss")}},{title:"请求方法",dataIndex:"request.method",scopedSlots:{customRender:"requestMethod"},filters:[{text:"GET",value:"GET"},{text:"POST",value:"POST"},{text:"PUT",value:"PUT"},{text:"DELETE",value:"DELETE"}],filterMultiple:!0,onFilter:function(e,t){return t.request.method.includes(e)}},{title:"请求URL",dataIndex:"request.uri",customRender:function(e){return e.split("?")[0]}},{title:"响应状态",dataIndex:"response.status",scopedSlots:{customRender:"responseStatus"}},{title:"请求耗时",dataIndex:"timeTaken",scopedSlots:{customRender:"timeTaken"}}]}},mounted:function(){this.fetch()},methods:{handleClickUpdate:function(){this.fetch()},handleTableChange:function(){this.fetch()},fetch:function(){var e=this;this.tableLoading=!0,Object(s["c"])("actuator/httptrace").then((function(t){var n,r=[],i=l(t.traces);try{for(i.s();!(n=i.n()).done;){var o=n.value;"OPTIONS"!==o.request.method&&-1===o.request.uri.indexOf("httptrace")&&r.push(o)}}catch(a){i.e(a)}finally{i.f()}e.dataSource=r})).catch((function(t){e.$message.error("获取HTTP信息失败")})).finally((function(){e.loading=!1,e.tableLoading=!1}))}}},f=d,h=n("2877"),p=Object(h["a"])(f,r,i,!1,null,null,null);t["default"]=p.exports},"3ee3":function(e,t,n){"use strict";var r=n("c09e"),i=n.n(r);i.a},"3fb9":function(e,t,n){},4002:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:48}},[n("a-col",{attrs:{md:8,sm:24}},[n("a-form-item",{attrs:{label:"角色ID"}},[n("a-input",{attrs:{placeholder:"请输入"}})],1)],1),n("a-col",{attrs:{md:8,sm:24}},[n("a-form-item",{attrs:{label:"状态"}},[n("a-select",{attrs:{placeholder:"请选择","default-value":"0"}},[n("a-select-option",{attrs:{value:"0"}},[e._v("全部")]),n("a-select-option",{attrs:{value:"1"}},[e._v("正常")]),n("a-select-option",{attrs:{value:"2"}},[e._v("禁用")])],1)],1)],1),n("a-col",{attrs:{md:8,sm:24}},[n("span",{staticClass:"table-page-search-submitButtons"},[n("a-button",{attrs:{type:"primary"}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v("重置")])],1)])],1)],1)],1),n("s-table",{ref:"table",attrs:{size:"default",columns:e.columns,data:e.loadData},scopedSlots:e._u([{key:"expandedRowRender",fn:function(t){return n("div",{staticStyle:{margin:"0"}},[n("a-row",{style:{marginBottom:"12px"},attrs:{gutter:24}},e._l(t.permissions,(function(t,r){return n("a-col",{key:r,style:{marginBottom:"12px"},attrs:{span:12}},[n("a-col",{attrs:{span:4}},[n("span",[e._v(e._s(t.permissionName)+"：")])]),t.actionEntitySet.length>0?n("a-col",{attrs:{span:20}},e._l(t.actionEntitySet,(function(t,r){return n("a-tag",{key:r,attrs:{color:"cyan"}},[e._v(e._s(t.describe))])})),1):n("a-col",{attrs:{span:20}},[e._v("-")])],1)})),1)],1)}},{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.$refs.modal.edit(r)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link"},[e._v("\n          更多 "),n("a-icon",{attrs:{type:"down"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a",{attrs:{href:"javascript:;"}},[e._v("详情")])]),n("a-menu-item",[n("a",{attrs:{href:"javascript:;"}},[e._v("禁用")])]),n("a-menu-item",[n("a",{attrs:{href:"javascript:;"}},[e._v("删除")])])],1)],1)],1)}}])}),n("role-modal",{ref:"modal",on:{ok:e.handleOk}})],1)},i=[],o=n("e8c4"),a=n("0b38"),s={name:"TableList",components:{STable:o["a"],RoleModal:a["default"]},data:function(){var e=this;return{description:"列表使用场景：后台管理中的权限管理以及角色管理，可用于基于 RBAC 设计的角色权限控制，颗粒度细到每一个操作类型。",visible:!1,form:null,mdl:{},advanced:!1,queryParam:{},columns:[{title:"唯一识别码",dataIndex:"id"},{title:"角色名称",dataIndex:"name"},{title:"状态",dataIndex:"status"},{title:"创建时间",dataIndex:"createTime",sorter:!0},{title:"操作",width:"150px",dataIndex:"action",scopedSlots:{customRender:"action"}}],loadData:function(t){return e.$http.get("/api/role",{params:Object.assign(t,e.queryParam)}).then((function(e){return e.result}))},selectedRowKeys:[],selectedRows:[]}},methods:{handleEdit:function(e){this.mdl=Object.assign({},e),this.mdl.permissions.forEach((function(e){e.actionsOptions=e.actionEntitySet.map((function(e){return{label:e.describe,value:e.action,defaultCheck:e.defaultCheck}}))})),this.visible=!0},handleOk:function(){this.$refs.table.refresh()},onChange:function(e,t){this.selectedRowKeys=e,this.selectedRows=t},toggleAdvanced:function(){this.advanced=!this.advanced}},watch:{}},l=s,c=n("2877"),u=Object(c["a"])(l,r,i,!1,null,null,null);t["default"]=u.exports},4099:function(e,t,n){e.exports=n.p+"img/nodata.fa342acc.png"},4165:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-tree-select",{staticStyle:{width:"100%"},attrs:{allowClear:"",labelInValue:"",disabled:e.disabled,dropdownStyle:{maxHeight:"400px",overflow:"auto"},placeholder:e.placeholder,loadData:e.asyncLoadTreeData,value:e.treeValue,treeData:e.treeData},on:{change:e.onChange,search:e.onSearch}})},i=[],o=n("0fea");function a(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=c(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function s(e){return d(e)||u(e)||c(e)||l()}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){if(e){if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function u(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function d(e){if(Array.isArray(e))return f(e)}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h={name:"JTreeDict",data:function(){return{treeData:[],treeValue:null,url_root:"/sys/category/loadTreeRoot",url_children:"/sys/category/loadTreeChildren",url_view:"/sys/category/loadOne"}},props:{value:{type:String,required:!1},placeholder:{type:String,default:"请选择",required:!1},parentCode:{type:String,default:"",required:!1},field:{type:String,default:"id",required:!1},root:{type:Object,required:!1,default:function(){return{pid:"0"}}},async:{type:Boolean,default:!1,required:!1},disabled:{type:Boolean,default:!1,required:!1}},watch:{root:{handler:function(e){},deep:!0},parentCode:{handler:function(){this.loadRoot()}},value:{handler:function(){this.loadViewInfo()}}},created:function(){this.loadRoot(),this.loadViewInfo()},model:{prop:"value",event:"change"},methods:{loadViewInfo:function(){var e=this;if(this.value&&"0"!=this.value){var t={field:this.field,val:this.value};Object(o["c"])(this.url_view,t).then((function(t){t.success&&(e.treeValue={value:e.value,label:t.result.name})}))}else this.treeValue=null},loadRoot:function(){var e=this,t={async:this.async,pcode:this.parentCode};Object(o["c"])(this.url_root,t).then((function(t){t.success?(e.handleTreeNodeValue(t.result),e.treeData=s(t.result)):e.$message.error(t.message)}))},asyncLoadTreeData:function(e){var t=this;return new Promise((function(n){if(t.async)if(e.$vnode.children)n();else{var r=e.$vnode.key,i={pid:r};Object(o["c"])(t.url_children,i).then((function(e){e.success&&(t.handleTreeNodeValue(e.result),t.addChildren(r,e.result,t.treeData),t.treeData=s(t.treeData)),n()}))}else n()}))},addChildren:function(e,t,n){if(n&&n.length>0){var r,i=a(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(o.key==e){t&&0!=t.length?o.children=t:o.leaf=!0;break}this.addChildren(e,t,o.children)}}catch(s){i.e(s)}finally{i.f()}}},handleTreeNodeValue:function(e){var t,n="code"==this.field?"code":"key",r=a(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.value=i[n],i.isLeaf=!!i.leaf,i.children&&i.children.length>0&&this.handleTreeNodeValue(i.children)}}catch(o){r.e(o)}finally{r.f()}},onChange:function(e){e?this.$emit("change",e.value):this.$emit("change",""),this.treeValue=e},onSearch:function(e){},getCurrTreeData:function(){return this.treeData}}},p=h,m=n("2877"),g=Object(m["a"])(p,r,i,!1,null,null,null);t["default"]=g.exports},"418f":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-drawer",{staticStyle:{height:"100%",overflow:"auto","padding-bottom":"53px"},attrs:{title:e.title,maskClosable:!0,width:e.drawerWidth,placement:"right",closable:!0,visible:e.visible},on:{close:e.handleCancel}},[n("template",{slot:"title"},[n("div",{staticStyle:{width:"100%"}},[n("span",[e._v(e._s(e.title))]),n("span",{staticStyle:{display:"inline-block",width:"calc(100% - 51px)","padding-right":"10px","text-align":"right"}},[n("a-button",{staticStyle:{height:"20px",width:"20px",border:"0px"},attrs:{icon:"appstore"},on:{click:e.toggleScreen}})],1)])]),n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{label:"用户账号",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["username",e.validatorRules.username],expression:"[ 'username', validatorRules.username]",modifiers:{trim:!0}}],attrs:{placeholder:"请输入用户账号",readOnly:!!e.model.id}})],1),e.model.id?e._e():[n("a-form-item",{attrs:{label:"登陆密码",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password"],expression:"[ 'password']"}],attrs:{type:"password",placeholder:"请输入登陆密码"}})],1),n("a-form-item",{attrs:{label:"确认密码",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["confirmpassword",e.validatorRules.confirmpassword],expression:"[ 'confirmpassword', validatorRules.confirmpassword]"}],attrs:{type:"password",placeholder:"请重新输入登陆密码"},on:{blur:e.handleConfirmBlur}})],1)],n("a-form-item",{attrs:{label:"用户姓名",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["realname",e.validatorRules.realname],expression:"[ 'realname', validatorRules.realname]",modifiers:{trim:!0}}],attrs:{placeholder:"请输入用户姓名"}})],1),n("a-form-item",{attrs:{label:"工号",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["workNo",e.validatorRules.workNo],expression:"[ 'workNo', validatorRules.workNo]",modifiers:{trim:!0}}],attrs:{placeholder:"请输入工号"}})],1),n("a-form-item",{attrs:{label:"职务",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("j-select-position",{directives:[{name:"decorator",rawName:"v-decorator",value:["post",{}],expression:"['post', {}]"}],attrs:{placeholder:"请选择职务",multiple:!1}})],1),n("a-form-item",{directives:[{name:"show",rawName:"v-show",value:!e.roleDisabled,expression:"!roleDisabled"}],attrs:{label:"角色分配",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("a-select",{staticStyle:{width:"100%"},attrs:{mode:"multiple",placeholder:"请选择用户角色",optionFilterProp:"children",getPopupContainer:function(e){return e.parentNode}},model:{value:e.selectedRole,callback:function(t){e.selectedRole=t},expression:"selectedRole"}},e._l(e.roleList,(function(t,r){return n("a-select-option",{key:r.toString(),attrs:{value:t.id}},[e._v("\n            "+e._s(t.roleName)+"\n          ")])})),1)],1),n("a-form-item",{directives:[{name:"show",rawName:"v-show",value:!e.departDisabled,expression:"!departDisabled"}],attrs:{label:"部门分配",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("a-input-search",{attrs:{placeholder:"点击选择部门",readOnly:""},on:{search:e.onSearch},model:{value:e.checkedDepartNameString,callback:function(t){e.checkedDepartNameString=t},expression:"checkedDepartNameString"}},[n("a-button",{attrs:{slot:"enterButton",icon:"search"},slot:"enterButton"},[e._v("选择")])],1)],1),n("a-form-item",{directives:[{name:"show",rawName:"v-show",value:!e.departDisabled,expression:"!departDisabled"}],attrs:{label:"租户分配",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("a-select",{staticStyle:{width:"100%"},attrs:{mode:"multiple",placeholder:"请选择租户分配",disabled:e.disableSubmit},model:{value:e.currentTenant,callback:function(t){e.currentTenant=t},expression:"currentTenant"}},e._l(e.tenantList,(function(t,r){return n("a-select-option",{key:r,attrs:{value:t.id}},[e._v("\n            "+e._s(t.name)+"\n          ")])})),1)],1),n("a-form-item",{attrs:{label:"身份",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("a-radio-group",{on:{change:e.identityChange},model:{value:e.identity,callback:function(t){e.identity=t},expression:"identity"}},[n("a-radio",{attrs:{value:"1"}},[e._v("普通用户")]),n("a-radio",{attrs:{value:"2"}},[e._v("上级")])],1)],1),1==e.departIdShow?n("a-form-item",{attrs:{label:"负责部门",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("a-select",{staticStyle:{width:"100%"},attrs:{mode:"multiple",placeholder:"请选择负责部门",optionFilterProp:"children",getPopupContainer:function(e){return e.parentNode},dropdownStyle:{maxHeight:"200px",overflow:"auto"}},model:{value:e.departIds,callback:function(t){e.departIds=t},expression:"departIds"}},e._l(e.resultDepartOptions,(function(t){return n("a-select-option",{key:t.key,attrs:{value:t.key}},[e._v(e._s(t.title))])})),1)],1):e._e(),n("a-form-item",{attrs:{label:"头像",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("j-image-upload",{staticClass:"avatar-uploader",attrs:{text:"上传"},model:{value:e.fileList,callback:function(t){e.fileList=t},expression:"fileList"}})],1),n("a-form-item",{attrs:{label:"生日",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["birthday",{initialValue:e.model.birthday?e.moment(e.model.birthday,e.dateFormat):null}],expression:"['birthday', {initialValue:!model.birthday?null:moment(model.birthday,dateFormat)}]"}],staticStyle:{width:"100%"},attrs:{placeholder:"请选择生日",getCalendarContainer:function(e){return e.parentNode}}})],1),n("a-form-item",{attrs:{label:"性别",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["sex",{}],expression:"[ 'sex', {}]"}],attrs:{placeholder:"请选择性别",getPopupContainer:function(e){return e.parentNode}}},[n("a-select-option",{attrs:{value:1}},[e._v("男")]),n("a-select-option",{attrs:{value:2}},[e._v("女")])],1)],1),n("a-form-item",{attrs:{label:"邮箱",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["email",e.validatorRules.email],expression:"[ 'email', validatorRules.email]"}],attrs:{placeholder:"请输入邮箱"}})],1),n("a-form-item",{attrs:{label:"手机号码",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["phone",e.validatorRules.phone],expression:"[ 'phone', validatorRules.phone]"}],attrs:{placeholder:"请输入手机号码",disabled:e.isDisabledAuth("user:form:phone")}})],1),n("a-form-item",{attrs:{label:"座机",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["telephone",e.validatorRules.telephone],expression:"[ 'telephone', validatorRules.telephone]"}],attrs:{placeholder:"请输入座机"}})],1),n("a-form-item",{attrs:{label:"工作流引擎",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("j-dict-select-tag",{directives:[{name:"decorator",rawName:"v-decorator",value:["activitiSync",{}],expression:"['activitiSync', {}]"}],attrs:{placeholder:"请选择是否同步工作流引擎",type:"radio",triggerChange:!0,dictCode:"activiti_sync"}})],1)],2)],1),n("depart-window",{ref:"departWindow",on:{ok:e.modalFormOk}}),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.disableSubmit,expression:"!disableSubmit"}],staticClass:"drawer-bootom-button"},[n("a-popconfirm",{attrs:{title:"确定放弃编辑？",okText:"确定",cancelText:"取消"},on:{confirm:e.handleCancel}},[n("a-button",{staticStyle:{"margin-right":".8rem"}},[e._v("取消")])],1),n("a-button",{attrs:{type:"primary",loading:e.confirmLoading},on:{click:e.handleSubmit}},[e._v("提交")])],1)],2)},i=[],o=n("88bc"),a=n.n(o),s=n("c1df"),l=n.n(s),c=n("2b0e"),u=n("c63e"),d=n("61fc"),f=n("9fb0"),h=n("0fea"),p=n("4ec3");function m(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=g(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function g(e,t){if(e){if("string"===typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){return!!y(e,t)||C(e)}function y(e,t){var n=[];try{if(!t)return!1;var r=t.permissionList;n=r.filter((function(e){return"2"==e.type}))}catch(d){}if(0==n.length)return!1;var i,o=[],a=m(n);try{for(a.s();!(i=a.n()).done;){var s=i.value;"2"==s.type&&o.push(s.action)}}catch(f){a.e(f)}finally{a.f()}if(!o.includes(e))return!1;var l,c=m(n);try{for(c.s();!(l=c.n()).done;){var u=l.value;if(e===u.action)return!0}}catch(f){c.e(f)}finally{c.f()}return!1}function C(e){var t,n=[],r=[],i=JSON.parse(sessionStorage.getItem(f["r"])||"[]"),o=m(i);try{for(o.s();!(t=o.n()).done;){var a=t.value;"2"==a.type&&n.push(a)}}catch(k){o.e(k)}finally{o.f()}var s,l=JSON.parse(sessionStorage.getItem(f["o"])||"[]"),c=m(l);try{for(c.s();!(s=c.n()).done;){var u=s.value;"2"==u.type&&r.push(u)}}catch(k){c.e(k)}finally{c.f()}var d=!1,h=!1;if(null!=r&&""!=r&&void 0!=r&&r.length>0){var p,g=m(r);try{for(g.s();!(p=g.n()).done;){var v=p.value;if(e===v.action){if("0"==v.status){h=!0;break}d=!0;break}}}catch(k){g.e(k)}finally{g.f()}}if(h)return!1;if(null===n||""===n||void 0===n||n.length<=0)return d;for(var b=[],y=0,C=n;y<C.length;y++){var w=C[y];"2"==w.type&&b.push(w.action)}if(b.includes(e)){var x,I=m(n);try{for(I.s();!(x=I.n()).done;){var A=x.value;e===A.action&&(d=!1)}}catch(k){I.e(k)}finally{I.f()}return d}return d}var w=n("e610"),x={name:"UserModal",components:{JImageUpload:w["default"],departWindow:u["default"],JSelectPosition:d["default"]},data:function(){return{departDisabled:!1,roleDisabled:!1,modalWidth:800,drawerWidth:700,modaltoggleFlag:!0,confirmDirty:!1,selectedDepartKeys:[],checkedDepartKeys:[],checkedDepartNames:[],checkedDepartNameString:"",resultDepartOptions:[],userId:"",disableSubmit:!1,userDepartModel:{userId:"",departIdList:[]},dateFormat:"YYYY-MM-DD",validatorRules:{username:{rules:[{required:!0,message:"请输入用户账号!"},{validator:this.validateUsername}]},password:{rules:[{required:!0,pattern:/^(?=.*[a-zA-Z])(?=.*\d)(?=.*[~!@#$%^&*()_+`\-={}:";'<>?,./]).{8,}$/,message:"密码由8位数字、大小写字母和特殊符号组成!"},{validator:this.validateToNextPassword}]},confirmpassword:{rules:[{required:!0,message:"请重新输入登陆密码!"},{validator:this.compareToFirstPassword}]},realname:{rules:[{required:!0,message:"请输入用户名称!"}]},phone:{rules:[{validator:this.validatePhone}]},email:{rules:[{validator:this.validateEmail}]},roles:{},workNo:{rules:[{required:!0,message:"请输入工号"},{validator:this.validateWorkNo}]},telephone:{rules:[{pattern:/^0\d{2,3}-[1-9]\d{6,7}$/,message:"请输入正确的座机号码"}]}},departIdShow:!1,departIds:[],title:"操作",visible:!1,model:{},roleList:[],selectedRole:[],labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},uploadLoading:!1,confirmLoading:!1,headers:{},form:this.$form.createForm(this),picUrl:"",url:{fileUpload:window._CONFIG["domianURL"]+"/sys/common/upload",userWithDepart:"/sys/user/userDepartList",userId:"/sys/user/generateUserId",syncUserByUserName:"/process/extActProcess/doSyncUserByUserName",queryTenantList:"/sys/tenant/queryList"},identity:"1",fileList:[],tenantList:[],currentTenant:[]}},created:function(){var e=c["default"].ls.get(f["a"]);this.headers={"X-Access-Token":e},this.initTenantList()},computed:{uploadAction:function(){return this.url.fileUpload}},methods:{isDisabledAuth:function(e){return b(e)},initTenantList:function(){var e=this;Object(h["c"])(this.url.queryTenantList).then((function(t){t.success&&(e.tenantList=t.result)}))},toggleScreen:function(){this.modaltoggleFlag?this.modalWidth=window.innerWidth:this.modalWidth=800,this.modaltoggleFlag=!this.modaltoggleFlag},initialRoleList:function(){var e=this;Object(p["P"])().then((function(t){t.success&&(e.roleList=t.result)}))},loadUserRoles:function(e){var t=this;Object(p["O"])({userid:e}).then((function(e){e.success&&(t.selectedRole=e.result)}))},refresh:function(){this.selectedDepartKeys=[],this.checkedDepartKeys=[],this.checkedDepartNames=[],this.checkedDepartNameString="",this.userId="",this.resultDepartOptions=[],this.departId=[],this.departIdShow=!1,this.currentTenant=[]},add:function(){this.picUrl="",this.refresh(),this.edit({activitiSync:"1"})},edit:function(e){var t=this;this.resetScreenSize();var n=this;n.initialRoleList(),n.checkedDepartNameString="",n.form.resetFields(),e.hasOwnProperty("id")&&(n.loadUserRoles(e.id),setTimeout((function(){t.fileList=e.avatar}),5)),n.userId=e.id,n.visible=!0,n.model=Object.assign({},e),n.$nextTick((function(){n.form.setFieldsValue(a()(t.model,"username","sex","realname","email","phone","activitiSync","workNo","telephone","post"))})),"2"==this.model.userIdentity?(this.identity="2",this.departIdShow=!0):(this.identity="1",this.departIdShow=!1),n.checkedDepartKeys=[],n.loadCheckedDeparts(),e.relTenantIds&&0!=e.relTenantIds.length?this.currentTenant=e.relTenantIds.split(",").map(Number):this.currentTenant=[]},loadCheckedDeparts:function(){var e=this,t=this;t.userId&&Object(h["c"])(t.url.userWithDepart,{userId:t.userId}).then((function(n){if(t.checkedDepartNames=[],n.success){for(var r=[],i=[],o=0;o<n.result.length;o++)t.checkedDepartNames.push(n.result[o].title),e.checkedDepartNameString=e.checkedDepartNames.join(","),t.checkedDepartKeys.push(n.result[o].key),r.push({key:n.result[o].key,title:n.result[o].title}),i.push(n.result[o].key);t.resultDepartOptions=r,e.model.departIds?e.departIds=e.model.departIds.split(","):e.departIds=i,t.userDepartModel.departIdList=t.checkedDepartKeys}}))},close:function(){this.$emit("close"),this.visible=!1,this.disableSubmit=!1,this.selectedRole=[],this.userDepartModel={userId:"",departIdList:[]},this.checkedDepartNames=[],this.checkedDepartNameString="",this.checkedDepartKeys=[],this.selectedDepartKeys=[],this.resultDepartOptions=[],this.departIds=[],this.departIdShow=!1,this.identity="1",this.fileList=[]},moment:l.a,handleSubmit:function(){var e=this,t=this;this.form.validateFields((function(n,r){if(!n){t.confirmLoading=!0,r.birthday?r.birthday=r.birthday.format(e.dateFormat):r.birthday="";var i,o=Object.assign(e.model,r);""!=t.fileList?o.avatar=t.fileList:o.avatar=null,o.relTenantIds=e.currentTenant.length>0?e.currentTenant.join(","):"",o.selectedroles=e.selectedRole.length>0?e.selectedRole.join(","):"",o.selecteddeparts=e.userDepartModel.departIdList.length>0?e.userDepartModel.departIdList.join(","):"",o.userIdentity=e.identity,"2"===e.identity?o.departIds=e.departIds.join(","):o.departIds="",e.model.id?i=Object(p["r"])(o):(o.id=e.userId,i=Object(p["e"])(o)),i.then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.checkedDepartNames=[],t.userDepartModel.departIdList={userId:"",departIdList:[]},t.close()}))}}))},handleCancel:function(){this.close()},validateToNextPassword:function(e,t,n){var r=this.form,i=r.getFieldValue("confirmpassword");t&&i&&t!==i&&n("两次输入的密码不一样！"),t&&this.confirmDirty&&r.validateFields(["confirm"],{force:!0}),n()},compareToFirstPassword:function(e,t,n){var r=this.form;t&&t!==r.getFieldValue("password")?n("两次输入的密码不一样！"):n()},validatePhone:function(e,t,n){if(t)if(new RegExp(/^1[3|4|5|7|8|9][0-9]\d{8}$/).test(t)){var r={tableName:"sys_user",fieldName:"phone",fieldVal:t,dataId:this.userId};Object(p["m"])(r).then((function(e){e.success?n():n("手机号已存在!")}))}else n("请输入正确格式的手机号码!");else n()},validateEmail:function(e,t,n){if(t)if(new RegExp(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/).test(t)){var r={tableName:"sys_user",fieldName:"email",fieldVal:t,dataId:this.userId};Object(p["m"])(r).then((function(e){e.success?n():n("邮箱已存在!")}))}else n("请输入正确格式的邮箱!");else n()},validateUsername:function(e,t,n){var r={tableName:"sys_user",fieldName:"username",fieldVal:t,dataId:this.userId};Object(p["m"])(r).then((function(e){e.success?n():n("用户名已存在!")}))},validateWorkNo:function(e,t,n){var r={tableName:"sys_user",fieldName:"work_no",fieldVal:t,dataId:this.userId};Object(p["m"])(r).then((function(e){e.success?n():n("工号已存在!")}))},handleConfirmBlur:function(e){var t=e.target.value;this.confirmDirty=this.confirmDirty||!!t},normFile:function(e){return Array.isArray(e)?e:e&&e.fileList},beforeUpload:function(e){var t=e.type;if(t.indexOf("image")<0)return this.$message.warning("请上传图片"),!1},handleChange:function(e){if(this.picUrl="","uploading"!==e.file.status){if("done"===e.file.status){var t=e.file.response;this.uploadLoading=!1,t.success?(this.model.avatar=t.message,this.picUrl="Has no pic url yet"):this.$message.warning(t.message)}}else this.uploadLoading=!0},onSearch:function(){this.$refs.departWindow.add(this.checkedDepartKeys,this.userId)},modalFormOk:function(e){this.checkedDepartNames=[],this.selectedDepartKeys=[],this.checkedDepartNameString="",this.userId=e.userId,this.userDepartModel.userId=e.userId,this.departIds=[],this.resultDepartOptions=[];for(var t=[],n=0;n<e.departIdList.length;n++)this.selectedDepartKeys.push(e.departIdList[n].key),this.checkedDepartNames.push(e.departIdList[n].title),this.checkedDepartNameString=this.checkedDepartNames.join(","),t.push({key:e.departIdList[n].key,title:e.departIdList[n].title}),this.departIds.push(e.departIdList[n].key);this.resultDepartOptions=t,this.userDepartModel.departIdList=this.selectedDepartKeys,this.checkedDepartKeys=this.selectedDepartKeys},resetScreenSize:function(){var e=document.body.clientWidth;this.drawerWidth=e<500?e:700},identityChange:function(e){"1"===e.target.value?this.departIdShow=!1:this.departIdShow=!0}}},I=x,A=(n("c98f"),n("2877")),k=Object(A["a"])(I,r,i,!1,null,"dee62d28",null);t["default"]=k.exports},"419f":function(e,t,n){},4227:function(e,t,n){},"422d":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-popover",{attrs:{trigger:"click",placement:"bottomRight",overlayStyle:{width:"300px"}}},[n("template",{slot:"content"},[n("a-spin",{attrs:{spinning:e.loadding}},[n("a-tabs",e._l(e.tabs,(function(e,t){return n("a-tab-pane",{key:t,attrs:{tab:e.title}})})),1)],1)],1),n("span",{staticClass:"header-notice",on:{click:e.fetchNotice}},[n("a-badge",{attrs:{count:"12"}},[n("a-icon",{staticStyle:{"font-size":"16px",padding:"4px"},attrs:{type:"bell"}})],1)],1)],2)},i=[],o={name:"HeaderNotice",props:{tabs:{type:Array,default:null,required:!0}},data:function(){return{loadding:!1}},methods:{fetchNotice:function(){var e=this;this.loadding?this.loadding=!1:(this.loadding=!0,setTimeout((function(){e.loadding=!1}),2e3))}}},a=o,s=(n("37fb"),n("2877")),l=Object(s["a"])(a,r,i,!1,null,"3478e4f0",null);t["default"]=l.exports},4237:function(e,t,n){n("be7f")},4349:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-input",{attrs:{placeholder:e.placeholder,value:e.inputVal},on:{input:e.backValue}})},i=[],o="like",a="ne",s="ge",l="le",c={name:"JInput",props:{value:{type:String,required:!1},type:{type:String,required:!1,default:o},placeholder:{type:String,required:!1,default:""}},watch:{value:{immediate:!0,handler:function(){this.initVal()}},type:function(){this.backValue({target:{value:this.inputVal}})}},model:{prop:"value",event:"change"},data:function(){return{inputVal:""}},methods:{initVal:function(){if(this.value){var e=this.value;switch(this.type){case o:e=e.substring(1,e.length-1);break;case a:e=e.substring(1);break;case s:e=e.substring(2);break;case l:e=e.substring(2);break;default:}this.inputVal=e}else this.inputVal=""},backValue:function(e){var t=e.target.value;switch(this.type){case o:t="*"+t+"*";break;case a:t="!"+t;break;case s:t=">="+t;break;case l:t="<="+t;break;default:}this.$emit("change",t)}}},u=c,d=n("2877"),f=Object(d["a"])(u,r,i,!1,null,"4aff72b2",null);t["default"]=f.exports},"43e8":function(e,t,n){"use strict";var r=n("3fb9"),i=n.n(r);i.a},"444c":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-operator"},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("新增")]),e.selectedRowKeys.length>0?n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:e.batchDel}},[n("a-icon",{attrs:{type:"delete"}}),e._v("\n          删除\n        ")],1)],1),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v(" 批量操作\n        "),n("a-icon",{attrs:{type:"down"}})],1)],1):e._e()],1),n("div",[n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),e._v(" 已选择 "),n("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRowKeys.length))]),e._v("项\n      "),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])]),n("a-table",{ref:"table",attrs:{size:"middle",bordered:"",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link"},[e._v("更多 "),n("a-icon",{attrs:{type:"down"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.handleDetail(r)}}},[e._v("详情")])]),n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete(r.id)}}},[n("a",[e._v("删除")])])],1)],1)],1)],1)}}])})],1),n("sysDepart-modal",{ref:"sysDepartModal",on:{ok:e.modalFormOk}})],1)},i=[],o=n("c1af"),a=n("4ec3"),s=n("0fea"),l=[{title:"机构名称",dataIndex:"departName"},{title:"机构类型",align:"center",dataIndex:"orgType"},{title:"机构编码",dataIndex:"orgCode"},{title:"手机号",dataIndex:"mobile"},{title:"传真",dataIndex:"fax"},{title:"地址",dataIndex:"address"},{title:"排序",align:"center",dataIndex:"departOrder"},{title:"操作",align:"center",dataIndex:"action",scopedSlots:{customRender:"action"}}],c={name:"DepartList2",components:{SysDepartModal:o["default"]},data:function(){return{description:"jeecg 生成SysDepart代码管理页面",queryParam:{},factories:"",dataSource:[],columns:l,isorter:{column:"createTime",order:"desc"},loading:!1,selectedRowKeys:[],selectedRows:[],url:{list:"/sys/sysDepart/list",delete:"/sys/sysDepart/delete",deleteBatch:"/sys/sysDepart/deleteBatch"}}},created:function(){this.loadData()},methods:{loadData:function(){var e=this;this.dataSource=[],Object(a["D"])().then((function(t){t.success&&(e.dataSource=t.result)}))},getQueryField:function(){for(var e="id,",t=0;t<this.columns.length;t++)e+=","+this.columns[t].dataIndex;return e},onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectionRows=t},onClearSelected:function(){this.selectedRowKeys=[],this.selectionRows=[]},handleDelete:function(e){var t=this;Object(s["a"])(t.url.delete,{id:e}).then((function(e){e.success?(t.$message.success(e.message),t.loadData()):t.$message.warning(e.message)}))},handleDetail:function(e){this.$refs.sysDepartModal.edit(e),this.$refs.sysDepartModal.title="详情",this.$refs.sysDepartModal.disableSubmit=!0},batchDel:function(){if(this.selectedRowKeys.length<=0)this.$message.warning("请选择一条记录！");else{for(var e="",t=0;t<this.selectedRowKeys.length;t++)e+=this.selectedRowKeys[t]+",";var n=this;this.$confirm({title:"确认删除",content:"是否删除选中数据?",onOk:function(){Object(s["a"])(n.url.deleteBatch,{ids:e}).then((function(e){e.success?(n.$message.success(e.message),n.loadData(),n.onClearSelected()):n.$message.warning(e.message)}))}})}},handleEdit:function(e){this.$refs.sysDepartModal.edit(e),this.$refs.sysDepartModal.title="编辑"},handleAdd:function(){this.$refs.sysDepartModal.add(),this.$refs.sysDepartModal.title="新增"},handleTableChange:function(e,t,n){Object.keys(n).length>0&&(this.isorter.column=n.field,this.isorter.order="ascend"==n.order?"asc":"desc"),this.loadData()},modalFormOk:function(){this.loadData()}}},u=c,d=(n("6fd8"),n("2877")),f=Object(d["a"])(u,r,i,!1,null,"8cc1d1e2",null);t["default"]=f.exports},4505:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("iframe",{staticStyle:{"background-color":"#fff"},attrs:{id:e.id,src:e.url,frameborder:"0",width:"100%",height:"800px",scrolling:"auto"}})},i=[],o=(n("b445"),n("501f"),{name:"IframePageContent",data:function(){return{url:"",id:""}},created:function(){this.goUrl()},updated:function(){this.goUrl()},watch:{$route:function(e,t){this.goUrl()}},methods:{goUrl:function(){var e=this.$route.meta.url,t=this.$route.path;this.id=t,null!==e&&void 0!==e&&(this.url=e)}}}),a=o,s=n("2877"),l=Object(s["a"])(a,r,i,!1,null,null,null);t["default"]=l.exports},"45b5":function(e,t,n){"use strict";var r=n("8a25"),i=n.n(r);i.a},"45d7":function(e,t,n){},4647:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:e.title,width:900,visible:e.visible,confirmLoading:e.confirmLoading,okButtonProps:{props:{disabled:e.disabled}},cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-row",{staticStyle:{width:"100%"}},[n("a-col",{attrs:{span:12}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"标题"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["titile",e.validatorRules.title],expression:"['titile', validatorRules.title]"}],attrs:{placeholder:"请输入标题",readOnly:e.disableSubmit}})],1)],1),n("a-col",{attrs:{span:12}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"消息类型"}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["msgCategory",e.validatorRules.msgCategory],expression:"[ 'msgCategory', validatorRules.msgCategory]"}],attrs:{placeholder:"请选择消息类型",disabled:e.disableSubmit,getPopupContainer:function(e){return e.parentNode}}},[n("a-select-option",{attrs:{value:"1"}},[e._v("通知公告")]),n("a-select-option",{attrs:{value:"2"}},[e._v("系统消息")])],1)],1)],1)],1),n("a-row",{staticStyle:{width:"100%"}},[n("a-col",{attrs:{span:12}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"开始时间:"}},[n("j-date",{directives:[{name:"decorator",rawName:"v-decorator",value:["startTime",e.validatorRules.startTime],expression:"[ 'startTime', validatorRules.startTime]"}],staticStyle:{width:"100%"},attrs:{getCalendarContainer:function(e){return e.parentNode},placeholder:"请选择开始时间",showTime:"",dateFormat:"YYYY-MM-DD HH:mm:ss"}})],1)],1),n("a-col",{attrs:{span:12}},[n("a-form-item",{staticClass:"endTime",attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"结束时间"}},[n("j-date",{directives:[{name:"decorator",rawName:"v-decorator",value:["endTime",e.validatorRules.endTime],expression:"[ 'endTime', validatorRules.endTime]"}],staticStyle:{width:"100%"},attrs:{getCalendarContainer:function(e){return e.parentNode},placeholder:"请选择结束时间",showTime:"",dateFormat:"YYYY-MM-DD HH:mm:ss"}})],1)],1)],1),n("a-row",{staticStyle:{width:"100%"}},[n("a-col",{attrs:{span:12}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"优先级"}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["priority",{}],expression:"[ 'priority', {}]"}],attrs:{placeholder:"请选择优先级",disabled:e.disableSubmit,getPopupContainer:function(e){return e.parentNode}}},[n("a-select-option",{attrs:{value:"L"}},[e._v("低")]),n("a-select-option",{attrs:{value:"M"}},[e._v("中")]),n("a-select-option",{attrs:{value:"H"}},[e._v("高")])],1)],1)],1),n("a-col",{attrs:{span:12}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"通告类型"}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["msgType",e.validatorRules.msgType],expression:"[ 'msgType', validatorRules.msgType]"}],attrs:{placeholder:"请选择通告类型",disabled:e.disableSubmit,getPopupContainer:function(e){return e.parentNode}},on:{change:e.chooseMsgType}},[n("a-select-option",{attrs:{value:"USER"}},[e._v("指定用户")]),n("a-select-option",{attrs:{value:"ALL"}},[e._v("全体用户")])],1)],1)],1)],1),n("a-row",{staticStyle:{width:"100%"}},[n("a-col",{attrs:{span:12}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"摘要"}},[n("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["msgAbstract",e.validatorRules.msgAbstract],expression:"['msgAbstract',validatorRules.msgAbstract]"}],attrs:{placeholder:"请输入摘要"}})],1)],1),n("a-col",{attrs:{span:12}},[e.userType?n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"指定用户"}},[n("a-select",{attrs:{mode:"multiple",placeholder:"请选择用户",labelInValue:!0},on:{dropdownVisibleChange:e.selectUserIds,change:e.handleChange},model:{value:e.selectedUser,callback:function(t){e.selectedUser=t},expression:"selectedUser"}})],1):e._e()],1)],1),n("a-row",{staticStyle:{width:"100%"}},[n("a-col",{attrs:{span:24}},[n("a-form-item",{staticClass:"j-field-content",attrs:{labelCol:e.labelColX1,wrapperCol:e.wrapperColX1,label:"内容"}},[n("j-editor",{directives:[{name:"decorator",rawName:"v-decorator",value:["msgContent",{}],expression:"[ 'msgContent', {} ]"}],attrs:{triggerChange:""}})],1)],1)],1)],1)],1),n("select-user-list-modal",{ref:"UserListModal",on:{choseUser:e.choseUser}})],1)},i=[],o=n("0fea"),a=n("88bc"),s=n.n(a),l=n("2dab"),c=n("a061"),u=n("ed2a"),d=n("c1df"),f=n.n(d),h={components:{JEditor:c["default"],JDate:l["default"],SelectUserListModal:u["default"]},name:"SysAnnouncementModal",data:function(){return{title:"操作",visible:!1,disableSubmit:!1,model:{},labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:18}},labelColX1:{xs:{span:24},sm:{span:3}},wrapperColX1:{xs:{span:24},sm:{span:21}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{title:{rules:[{required:!0,message:"请输入标题!"}]},msgCategory:{rules:[{required:!0,message:"请选择消息类型!"}]},msgType:{rules:[{required:!0,message:"请选择通告对象类型!"}]},endTime:{rules:[{required:!0,message:"请选择结束时间!"},{validator:this.endTimeValidate}]},startTime:{rules:[{required:!0,message:"请选择开始时间!"},{validator:this.startTimeValidate}]},msgAbstract:{rules:[{required:!0,message:"请输入摘要!"}]}},url:{queryByIds:"/sys/user/queryByIds",add:"/sys/annountCement/add",edit:"/sys/annountCement/edit"},userType:!1,userIds:[],selectedUser:[],disabled:!1,msgContent:"",userList:[]}},created:function(){},methods:{add:function(){this.edit({})},edit:function(e){this.form.resetFields(),this.model={},this.disable=!1,this.visible=!0,this.getUser(e)},getUser:function(e){var t=this;this.model=Object.assign({},e),e&&"USER"===e.msgType&&(this.userType=!0,this.userIds=e.userIds,Object(o["c"])(this.url.queryByIds,{userIds:this.userIds}).then((function(e){if(e.success){for(var n=[],r=0;r<e.result.length;r++){var i={};i.label=e.result[r].realname,i.key=e.result[r].id,n.push(i)}t.selectedUser=n,t.$refs.UserListModal.edit(e.result,t.userIds)}}))),this.$nextTick((function(){t.form.setFieldsValue(s()(t.model,"endTime","startTime","titile","msgContent","priority","msgCategory","msgType","sendStatus","msgAbstract"))}))},close:function(){this.$emit("close"),this.selectedUser=[],this.visible=!1},handleOk:function(){var e=this,t=this;!this.userType||null!=this.userIds&&this.userIds.length>0?this.form.validateFields((function(n,r){if(!n){t.confirmLoading=!0;var i="",a="";e.model.id?(i+=e.url.edit,a="put"):(i+=e.url.add,a="post");var s=Object.assign(e.model,r);e.userType&&(s.userIds=e.userIds),Object(o["h"])(i,s,a).then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok"),t.resetUser()):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}})):this.$message.warning("指定用户不能为空！")},handleCancel:function(){this.visible=!1,this.$emit("close"),this.resetUser()},resetUser:function(){this.userType=!1,this.userIds=[],this.selectedUser=[],this.disabled=!1,this.$refs.UserListModal.edit(null,null)},selectUserIds:function(){this.$refs.UserListModal.add(this.selectedUser,this.userIds)},chooseMsgType:function(e){"USER"==e?this.userType=!0:(this.userType=!1,this.selectedUser=[],this.userIds=[])},choseUser:function(e){this.selectedUser=[],this.userIds=[];for(var t=0;t<e.length;t++){var n={};n.label=e[t].realname,n.key=e[t].id,this.selectedUser.push(n),this.userIds+=e[t].id+","}},startTimeValidate:function(e,t,n){var r=this.form.getFieldValue("endTime");t&&r?f()(t).isBefore(r)?n():n("开始时间需小于结束时间"):n()},endTimeValidate:function(e,t,n){var r=this.form.getFieldValue("startTime");t&&r?f()(r).isBefore(t)?n():n("结束时间需大于开始时间"):n()},handleChange:function(e){if(e){this.userIds=[];for(var t=[],n=0;n<e.length;n++){var r={};r.id=e[n].key,r.realname=e[n].label,this.userIds+=e[n].key+",",t.push(r)}}this.$refs.UserListModal.edit(t,this.userIds)}}},p=h,m=n("2877"),g=Object(m["a"])(p,r,i,!1,null,"1e336c60",null);t["default"]=g.exports},"468f":function(e,t,n){"use strict";var r=n("301b"),i=n.n(r);i.a},"476c":function(e,t,n){},"480d":function(e,t,n){"use strict";var r=n("3b7e"),i=n.n(r);i.a},4867:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchQuery(t)}}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"表名"}},[n("a-input",{attrs:{placeholder:"请输入表名"},model:{value:e.queryParam.dataTable,callback:function(t){e.$set(e.queryParam,"dataTable",t)},expression:"queryParam.dataTable"}})],1)],1),n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"数据ID"}},[n("a-input",{attrs:{placeholder:"请输入ID"},model:{value:e.queryParam.dataId,callback:function(t){e.$set(e.queryParam,"dataId",t)},expression:"queryParam.dataId"}})],1)],1),n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-col",{attrs:{md:6,sm:24}},[n("a-button",{attrs:{type:"primary"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},on:{click:e.searchReset}},[e._v("重置")])],1)],1)],1)],1)],1),n("div",{staticClass:"table-operator"},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:function(t){return e.handleCompare()}}},[e._v("数据比较")])],1),n("div",[n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),e._v("已选择 "),n("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRowKeys.length))]),e._v("项  \n      "),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])]),n("a-table",{ref:"table",attrs:{size:"middle",bordered:"",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"dataContent",fn:function(e,t){return n("span",{},[n("j-ellipsis",{attrs:{value:e,length:80}})],1)}}])})],1),n("data-log-modal",{ref:"modalForm",on:{ok:e.modalFormOk}})],1)},i=[],o=n("b4690"),a=n("b65a"),s=n("d579"),l={name:"DataLogList",mixins:[a["a"]],components:{JEllipsis:s["default"],DataLogModal:o["default"]},data:function(){return{description:"数据日志管理页面",columns:[{title:"表名",align:"center",dataIndex:"dataTable",width:"120"},{title:"数据ID",align:"center",dataIndex:"dataId",width:"120"},{title:"版本号",align:"center",dataIndex:"dataVersion",width:"50"},{title:"数据内容",align:"center",dataIndex:"dataContent",width:"150",scopedSlots:{customRender:"dataContent"}},{title:"创建人",align:"center",dataIndex:"createBy",width:"100"}],url:{list:"/sys/dataLog/list"}}},methods:{handleCompare:function(){return this.selectionRows&&2==this.selectionRows.length?this.selectionRows[0].dataId!=this.selectionRows[1].dataId?(this.openNotifIcon("请选择相同的数据库表和数据ID进行比较"),!1):(this.$refs.modalForm.addModal(this.selectionRows),void(this.$refs.modalForm.title="数据比较")):(this.openNotifIcon("请选择两条数据"),!1)},openNotifIcon:function(e){this.$notification["warning"]({message:"提示信息",description:e})}}},c=l,u=(n("fa3b"),n("2877")),d=Object(u["a"])(c,r,i,!1,null,"d6b9d718",null);t["default"]=d.exports},4874:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{staticStyle:{"min-width":"800px","overflow-x":"auto"},attrs:{title:"树形结构图片翻页查看"}},[n("a-row",[n("a-col",{attrs:{span:5}},[n("a-tree",{style:{height:"500px","border-right":"2px solid #c1c1c1","overflow-y":"auto"},attrs:{showLine:"",treeData:e.treeData,expandedKeys:[e.expandedKeys[0]],selectedKeys:e.selectedKeys},on:{expand:e.onExpand,select:this.onSelect}})],1),n("a-col",{attrs:{span:19}},[n("a-row",{staticStyle:{"margin-top":"10px"}},[n("a-col",{staticStyle:{"padding-left":"2%","margin-bottom":"10px"},attrs:{span:24}},[n("a-button",{attrs:{type:"primary"},on:{click:e.prev}},[n("a-icon",{attrs:{type:"left"}}),e._v("上一页")],1),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary"},on:{click:e.next}},[e._v("下一页"),n("a-icon",{attrs:{type:"right"}})],1),n("span",{staticStyle:{"margin-left":"15%","font-weight":"bolder"}},[e._v(e._s(e.navName))])],1),n("a-col",{staticStyle:{"padding-left":"2%"},attrs:{span:24}},[n("img",{attrs:{src:e.imgUrl,preview:""}})])],1)],1)],1)],1)},i=[],o=n("310e"),a=n.n(o),s={name:"ImgTurnPage",components:{draggable:a.a},data:function(){return{description:"图片翻页",treeData:[{title:"第一页",key:"0-0",children:[{title:"1页",key:"0-0-0",imgUrl:"https://static.jeecg.com/upload/test/1_1588149743473.jpg"},{title:"2页",key:"0-0-1",imgUrl:"https://static.jeecg.com/upload/test/u27356337152749454924fm27gp0_1588149731821.jpg"}]},{title:"第二页",key:"0-1",children:[{title:"1页",key:"0-1-0",imgUrl:"https://static.jeecg.com/upload/test/u24454681402491956848fm27gp0_1588149712663.jpg"},{title:"2页",key:"0-1-1",imgUrl:"https://static.jeecg.com/upload/test/u8891206113801177793fm27gp0_1588149704459.jpg"}]},{title:"第三页",key:"0-2",children:[{title:"1页",key:"0-2-0",imgUrl:"https://static.jeecg.com/upload/test/1374962_1587621329085.jpg"}]}],selectedKeys:[],expandedKeys:[],sort:0,imgUrl:"",navName:"",imgList:[]}},created:function(){this.getImgList()},methods:{getImgList:function(){for(var e=0,t=0;t<this.treeData.length;t++)for(var n=0;n<this.treeData[t].children.length;n++)this.imgList.push({key:this.treeData[t].children[n].key,pkey:this.treeData[t].key,sort:e++,imgUrl:this.treeData[t].children[n].imgUrl,navName:this.treeData[t].title+"/"+this.treeData[t].children[n].title});this.setValue(this.imgList[this.sort])},onSelect:function(e,t){for(var n=0;n<this.imgList.length;n++)if(this.imgList[n].key===e[0]){this.sort=this.imgList[n].sort,this.setValue(this.imgList[n]);break}},onExpand:function(e){this.expandedKeys=[],null!==e&&""!==e&&(this.expandedKeys[0]=e[1])},prev:function(){0===this.sort?this.sort=this.imgList.length-1:this.sort=this.sort-1,this.setValue(this.imgList[this.sort])},next:function(){this.sort===this.imgList.length-1?this.sort=0:this.sort=this.sort+1,this.setValue(this.imgList[this.sort])},setValue:function(e){this.selectedKeys=[],this.imgUrl=e.imgUrl,this.selectedKeys[0]=e.key,this.expandedKeys[0]=e.pkey,this.navName=e.navName}}},l=s,c=n("2877"),u=Object(c["a"])(l,r,i,!1,null,"727915b8",null);t["default"]=u.exports},4890:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("j-form-container",{attrs:{disabled:e.formDisabled}},[n("a-form",{attrs:{slot:"detail",form:e.form},slot:"detail"},[n("a-row",[n("a-col",{attrs:{span:24}},[n("a-form-item",{attrs:{label:"租户名称",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name"],expression:"['name']"}],attrs:{placeholder:"请输入租户名称"}})],1)],1),n("a-col",{attrs:{span:24}},[n("a-form-item",{attrs:{label:"租户编号",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["id",{rules:[{required:!0,message:"请输入租户编号"}]}],expression:"['id',{rules: [{ required: true, message: '请输入租户编号'}]}]"}],staticStyle:{width:"100%"},attrs:{min:1,placeholder:"请输入租户编号"}})],1)],1),n("a-col",{attrs:{span:24}},[n("a-form-item",{attrs:{label:"开始时间",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("j-date",{directives:[{name:"decorator",rawName:"v-decorator",value:["beginDate"],expression:"['beginDate']"}],staticStyle:{width:"100%"},attrs:{placeholder:"请选择开始时间","trigger-change":!0,"show-time":!0,"date-format":"YYYY-MM-DD HH:mm:ss"}})],1)],1),n("a-col",{attrs:{span:24}},[n("a-form-item",{attrs:{label:"结束时间",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("j-date",{directives:[{name:"decorator",rawName:"v-decorator",value:["endDate"],expression:"['endDate']"}],staticStyle:{width:"100%"},attrs:{placeholder:"请选择结束时间","trigger-change":!0,"show-time":!0,"date-format":"YYYY-MM-DD HH:mm:ss"}})],1)],1),n("a-col",{attrs:{span:24}},[n("a-form-item",{attrs:{label:"状态",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["status",{initialValue:1}],expression:"[ 'status', {initialValue:1}]"}],attrs:{name:"tenantStatus"}},[n("a-radio",{attrs:{value:1}},[e._v("正常")]),n("a-radio",{attrs:{value:0}},[e._v("冻结")])],1)],1)],1),e.showFlowSubmitButton?n("a-col",{staticStyle:{"text-align":"center"},attrs:{span:24}},[n("a-button",{on:{click:e.submitForm}},[e._v("提 交")])],1):e._e()],1)],1)],1)],1)},i=[],o=n("0fea"),a=n("88bc"),s=n.n(a),l=(n("ca00"),n("c681")),c=n("2dab"),u=n("7b16"),d={name:"TenantForm",components:{JFormContainer:l["default"],JDate:c["default"],JDictSelectTag:u["default"]},props:{formData:{type:Object,default:function(){},required:!1},normal:{type:Boolean,default:!1,required:!1},disabled:{type:Boolean,default:!1,required:!1}},data:function(){return{form:this.$form.createForm(this),model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,validatorRules:{},url:{add:"/sys/tenant/add",edit:"/sys/tenant/edit",queryById:"/sys/tenant/queryById"}}},computed:{formDisabled:function(){return!1===this.normal?!1!==this.formData.disabled:this.disabled},showFlowSubmitButton:function(){return!1===this.normal&&!1===this.formData.disabled}},created:function(){this.showFlowData()},methods:{add:function(){this.edit({})},edit:function(e){var t=this;this.form.resetFields(),this.model=Object.assign({},e),this.visible=!0,this.$nextTick((function(){t.form.setFieldsValue(s()(t.model,"id","name","beginDate","endDate","status"))}))},showFlowData:function(){var e=this;if(!1===this.normal){var t={id:this.formData.dataId};Object(o["c"])(this.url.queryById,t).then((function(t){t.success&&e.edit(t.result)}))}},submitForm:function(){var e=this,t=this;this.form.validateFields((function(n,r){if(!n){t.confirmLoading=!0;var i="",a="";e.model.id?(i+=e.url.edit,a="put"):(i+=e.url.add,a="post");var s=Object.assign(e.model,r);Object(o["h"])(i,s,a).then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1}))}}))},popupCallback:function(e){this.form.setFieldsValue(s()(e,"id","name","beginDate","endDate","status"))}}},f=d,h=n("2877"),p=Object(h["a"])(f,r,i,!1,null,null,null);t["default"]=p.exports},"48e9":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchQuery(t)}}},[n("a-row",{attrs:{gutter:24}})],1)],1),n("div",{staticClass:"table-operator"},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("新增")]),e.selectedRowKeys.length>0?n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:e.batchDel}},[n("a-icon",{attrs:{type:"delete"}}),e._v("删除")],1)],1),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v(" 批量操作 "),n("a-icon",{attrs:{type:"down"}})],1)],1):e._e()],1),n("div",[n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),e._v(" 已选择 "),n("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRowKeys.length))]),e._v("项\n      "),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])]),n("a-table",{ref:"table",staticClass:"j-table-force-nowrap",attrs:{size:"middle",scroll:{x:!0},bordered:"",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"htmlSlot",fn:function(t){return[n("div",{domProps:{innerHTML:e._s(t)}})]}},{key:"imgSlot",fn:function(t){return[t?n("img",{staticStyle:{"max-width":"80px","font-size":"12px","font-style":"italic"},attrs:{src:e.getImgView(t),height:"25px",alt:""}}):n("span",{staticStyle:{"font-size":"12px","font-style":"italic"}},[e._v("无图片")])]}},{key:"fileSlot",fn:function(t){return[t?n("a-button",{attrs:{ghost:!0,type:"primary",icon:"download",size:"small"},on:{click:function(n){return e.uploadFile(t)}}},[e._v("\n          下载\n        ")]):n("span",{staticStyle:{"font-size":"12px","font-style":"italic"}},[e._v("无文件")])]}},{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link"},[e._v("更多 "),n("a-icon",{attrs:{type:"down"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a",{on:{click:function(t){return e.handleDetail(r)}}},[e._v("详情")])]),n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete(r.id)}}},[n("a",[e._v("删除")])])],1)],1)],1)],1)}}])})],1),n("tenant-modal",{ref:"modalForm",on:{ok:e.modalFormOk}})],1)},i=[],o=(n("6eb7"),n("ac0d")),a=n("b65a"),s=n("7474"),l={name:"TenantList",mixins:[a["a"],o["b"]],components:{TenantModal:s["default"]},data:function(){return{description:"adad管理页面",columns:[{title:"租户名称",align:"center",dataIndex:"name"},{title:"租户编号",align:"center",dataIndex:"id"},{title:"开始时间",align:"center",dataIndex:"beginDate"},{title:"结束时间",align:"center",dataIndex:"endDate"},{title:"状态",align:"center",dataIndex:"status_dictText"},{title:"操作",dataIndex:"action",align:"center",fixed:"right",width:147,scopedSlots:{customRender:"action"}}],url:{list:"/sys/tenant/list",delete:"/sys/tenant/delete",deleteBatch:"/sys/tenant/deleteBatch"},dictOptions:{}}},created:function(){},computed:{importExcelUrl:function(){return"".concat(window._CONFIG["domianURL"],"/").concat(this.url.importExcelUrl)}},methods:{initDictConfig:function(){}}},c=l,u=(n("f4c9"),n("2877")),d=Object(u["a"])(c,r,i,!1,null,"4b97cd6e",null);t["default"]=d.exports},"48f7":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-skeleton",{attrs:{active:"",loading:e.loading,paragraph:{rows:17}}},[n("a-card",{attrs:{bordered:!1}},[n("a-alert",{attrs:{type:"info",showIcon:!0}},[n("div",{attrs:{slot:"message"},slot:"message"},[e._v("\n        上次更新时间："+e._s(this.time)+"\n        "),n("a-divider",{attrs:{type:"vertical"}}),n("a",{on:{click:e.handleClickUpdate}},[e._v("立即更新")])],1)]),n("a-table",{staticStyle:{"margin-top":"20px"},attrs:{rowKey:"id",size:"middle",columns:e.columns,dataSource:e.dataSource,pagination:!1,loading:e.tableLoading},scopedSlots:e._u([{key:"param",fn:function(t,r){return[n("a-tag",{attrs:{color:e.textInfo[r.param].color}},[e._v(e._s(t))])]}},{key:"text",fn:function(t,n){return[e._v("\n        "+e._s(e.textInfo[n.param].text)+"\n      ")]}},{key:"value",fn:function(t,n){return[e._v("\n        "+e._s(t)+" "+e._s(e.textInfo[n.param].unit)+"\n      ")]}}])})],1)],1)},i=[],o=n("c1df"),a=n.n(o),s=n("0fea");a.a.locale("zh-cn");var l={data:function(){return{time:"",loading:!0,tableLoading:!0,columns:[{title:"参数",width:"30%",dataIndex:"param",scopedSlots:{customRender:"param"}},{title:"描述",width:"40%",dataIndex:"text",scopedSlots:{customRender:"text"}},{title:"当前值",width:"30%",dataIndex:"value",scopedSlots:{customRender:"value"}}],dataSource:[],textInfo:{"system.cpu.count":{color:"green",text:"CPU 数量",unit:"核"},"system.cpu.usage":{color:"green",text:"系统 CPU 使用率",unit:"%"},"process.start.time":{color:"purple",text:"应用启动时间点",unit:""},"process.uptime":{color:"purple",text:"应用已运行时间",unit:"秒"},"process.cpu.usage":{color:"purple",text:"当前应用 CPU 使用率",unit:"%"}},moreInfo:{}}},mounted:function(){this.loadTomcatInfo()},methods:{handleClickUpdate:function(){this.loadTomcatInfo()},loadTomcatInfo:function(){var e=this;this.tableLoading=!0,this.time=a()().format("YYYY年MM月DD日 HH时mm分ss秒"),Promise.all([Object(s["c"])("actuator/metrics/system.cpu.count"),Object(s["c"])("actuator/metrics/system.cpu.usage"),Object(s["c"])("actuator/metrics/process.start.time"),Object(s["c"])("actuator/metrics/process.uptime"),Object(s["c"])("actuator/metrics/process.cpu.usage")]).then((function(t){var n=[];t.forEach((function(t,r){var i=e.moreInfo[t.name];i instanceof Array||(i=[""]),i.forEach((function(i,o){var a=t.name+i,s=t.measurements[o].value;"system.cpu.usage"!==a&&"process.cpu.usage"!==a||(s=e.convert(s,Number)),"process.start.time"===a&&(s=e.convert(s,Date)),n.push({id:a+r,param:a,text:"false value",value:s})}))})),e.dataSource=n})).catch((function(t){e.$message.error("获取服务器信息失败")})).finally((function(){e.loading=!1,e.tableLoading=!1}))},convert:function(e,t){return t===Number?Number(100*e).toFixed(2):t===Date?a()(1e3*e).format("YYYY-MM-DD HH:mm:ss"):e}}},c=l,u=n("2877"),d=Object(u["a"])(c,r,i,!1,null,null,null);t["default"]=d.exports},"49a8":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-tree-select",{staticStyle:{width:"100%"},attrs:{allowClear:"",labelInValue:"",disabled:e.disabled,dropdownStyle:{maxHeight:"400px",overflow:"auto"},placeholder:e.placeholder,loadData:e.asyncLoadTreeData,value:e.treeValue,treeData:e.treeData,multiple:e.multiple},on:{change:e.onChange}})},i=[],o=n("0fea");function a(e){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e){return u(e)||c(e)||f(e)||l()}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function u(e){if(Array.isArray(e))return h(e)}function d(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=f(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function f(e,t){if(e){if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p={name:"JCategorySelect",props:{value:{type:String,required:!1},placeholder:{type:String,default:"请选择",required:!1},disabled:{type:Boolean,default:!1,required:!1},condition:{type:String,default:"",required:!1},multiple:{type:Boolean,default:!1},loadTriggleChange:{type:Boolean,default:!1,required:!1},pid:{type:String,default:"",required:!1},pcode:{type:String,default:"",required:!1},back:{type:String,default:"",required:!1}},data:function(){return{treeValue:"",treeData:[],url:"/sys/category/loadTreeData",view:"/sys/category/loadDictItem/",tableName:"",text:"",code:""}},watch:{value:function(){this.loadItemByCode()},pcode:function(){this.loadRoot()}},created:function(){var e=this;this.validateProp().then((function(){e.loadRoot(),e.loadItemByCode()}))},methods:{loadRoot:function(){var e=this,t={pid:this.pid,pcode:this.pcode?this.pcode:"0",condition:this.condition};Object(o["c"])(this.url,t).then((function(t){if(t.success&&t.result){var n,r=d(t.result);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.value=i.key,0==i.leaf?i.isLeaf=!1:1==i.leaf&&(i.isLeaf=!0)}}catch(o){r.e(o)}finally{r.f()}e.treeData=s(t.result)}}))},loadItemByCode:function(){var e=this;this.value&&"0"!=this.value?Object(o["c"])(this.view,{ids:this.value}).then((function(t){if(t.success){var n=e.value.split(",");e.treeValue=t.result.map((function(e,t){return{key:n[t],value:n[t],label:e}})),e.onLoadTriggleChange(t.result[0])}})):this.treeValue=[]},onLoadTriggleChange:function(e){!this.multiple&&this.loadTriggleChange&&this.backValue(this.value,e)},backValue:function(e,t){var n={};this.back&&(n[this.back]=t),this.$emit("change",e,n)},asyncLoadTreeData:function(e){var t=this;return new Promise((function(n){if(e.$vnode.children)n();else{var r=e.$vnode.key,i={pid:r,condition:t.condition};Object(o["c"])(t.url,i).then((function(e){if(e.success){var i,o=d(e.result);try{for(o.s();!(i=o.n()).done;){var a=i.value;a.value=a.key,0==a.leaf?a.isLeaf=!1:1==a.leaf&&(a.isLeaf=!0)}}catch(l){o.e(l)}finally{o.f()}t.addChildren(r,e.result,t.treeData),t.treeData=s(t.treeData)}n()}))}}))},addChildren:function(e,t,n){if(n&&n.length>0){var r,i=d(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(o.key==e){t&&0!=t.length?o.children=t:o.isLeaf=!0;break}this.addChildren(e,t,o.children)}}catch(a){i.e(a)}finally{i.f()}}},onChange:function(e){if(e)if(Array.isArray(e)){var t=[],n=e.map((function(e){return t.push(e.label),e.value}));this.backValue(n.join(","),t.join(",")),this.treeValue=e}else this.backValue(e.value,e.label),this.treeValue=e;else this.$emit("change",""),this.treeValue=""},getCurrTreeData:function(){return this.treeData},validateProp:function(){var e=this,t=this.condition;return new Promise((function(n,r){if(t)try{var i=JSON.parse(t);"object"==a(i)&&i?n():(e.$message.error("组件JTreeSelect-condition传值有误，需要一个json字符串!"),r())}catch(o){e.$message.error("组件JTreeSelect-condition传值有误，需要一个json字符串!"),r()}else n()}))}},model:{prop:"value",event:"change"}},m=p,g=n("2877"),v=Object(g["a"])(m,r,i,!1,null,null,null);t["default"]=v.exports},"49c7":function(e,t,n){},"4a27":function(e,t,n){e.exports=n.p+"img/guaz.57d7177b.png"},"4a4e":function(e,t,n){"use strict";var r=n("0718"),i=n.n(r);i.a},"4ba6":function(e,t,n){(function(e){e(n("56b3"))})((function(e){"use strict";function t(e,t,n,r,i,o){this.indented=e,this.column=t,this.type=n,this.info=r,this.align=i,this.prev=o}function n(e,n,r,i){var o=e.indented;return e.context&&"statement"==e.context.type&&"statement"!=r&&(o=e.context.indented),e.context=new t(o,n,r,i,null,e.context)}function r(e){var t=e.context.type;return")"!=t&&"]"!=t&&"}"!=t||(e.indented=e.context.indented),e.context=e.context.prev}function i(e,t,n){return"variable"==t.prevToken||"type"==t.prevToken||(!!/\S(?:[^- ]>|[*\]])\s*$|\*$/.test(e.string.slice(0,n))||(!(!t.typeAtEndOfLine||e.column()!=e.indentation())||void 0))}function o(e){for(;;){if(!e||"top"==e.type)return!0;if("}"==e.type&&"namespace"!=e.prev.info)return!1;e=e.prev}}function a(e){for(var t={},n=e.split(" "),r=0;r<n.length;++r)t[n[r]]=!0;return t}function s(e,t){return"function"===typeof e?e(t):e.propertyIsEnumerable(t)}e.defineMode("clike",(function(a,l){var c,u,d=a.indentUnit,f=l.statementIndentUnit||d,h=l.dontAlignCalls,p=l.keywords||{},m=l.types||{},g=l.builtin||{},v=l.blockKeywords||{},b=l.defKeywords||{},y=l.atoms||{},C=l.hooks||{},w=l.multiLineStrings,x=!1!==l.indentStatements,I=!1!==l.indentSwitch,A=l.namespaceSeparator,k=l.isPunctuationChar||/[\[\]{}\(\),;\:\.]/,S=l.numberStart||/[\d\.]/,_=l.number||/^(?:0x[a-f\d]+|0b[01]+|(?:\d+\.?\d*|\.\d+)(?:e[-+]?\d+)?)(u|ll?|l|f)?/i,T=l.isOperatorChar||/[+\-*&%=<>!?|\/]/,E=l.isIdentifierChar||/[\w\$_\xa1-\uffff]/,O=l.isReservedIdentifier||!1;function R(e,t){var n=e.next();if(C[n]){var r=C[n](e,t);if(!1!==r)return r}if('"'==n||"'"==n)return t.tokenize=N(n),t.tokenize(e,t);if(k.test(n))return c=n,null;if(S.test(n)){if(e.backUp(1),e.match(_))return"number";e.next()}if("/"==n){if(e.eat("*"))return t.tokenize=L,L(e,t);if(e.eat("/"))return e.skipToEnd(),"comment"}if(T.test(n)){while(!e.match(/^\/[\/*]/,!1)&&e.eat(T));return"operator"}if(e.eatWhile(E),A)while(e.match(A))e.eatWhile(E);var i=e.current();return s(p,i)?(s(v,i)&&(c="newstatement"),s(b,i)&&(u=!0),"keyword"):s(m,i)?"type":s(g,i)||O&&O(i)?(s(v,i)&&(c="newstatement"),"builtin"):s(y,i)?"atom":"variable"}function N(e){return function(t,n){var r,i=!1,o=!1;while(null!=(r=t.next())){if(r==e&&!i){o=!0;break}i=!i&&"\\"==r}return(o||!i&&!w)&&(n.tokenize=null),"string"}}function L(e,t){var n,r=!1;while(n=e.next()){if("/"==n&&r){t.tokenize=null;break}r="*"==n}return"comment"}function D(e,t){l.typeFirstDefinitions&&e.eol()&&o(t.context)&&(t.typeAtEndOfLine=i(e,t,e.pos))}return{startState:function(e){return{tokenize:null,context:new t((e||0)-d,0,"top",null,!1),indented:0,startOfLine:!0,prevToken:null}},token:function(e,t){var a=t.context;if(e.sol()&&(null==a.align&&(a.align=!1),t.indented=e.indentation(),t.startOfLine=!0),e.eatSpace())return D(e,t),null;c=u=null;var s=(t.tokenize||R)(e,t);if("comment"==s||"meta"==s)return s;if(null==a.align&&(a.align=!0),";"==c||":"==c||","==c&&e.match(/^\s*(?:\/\/.*)?$/,!1))while("statement"==t.context.type)r(t);else if("{"==c)n(t,e.column(),"}");else if("["==c)n(t,e.column(),"]");else if("("==c)n(t,e.column(),")");else if("}"==c){while("statement"==a.type)a=r(t);"}"==a.type&&(a=r(t));while("statement"==a.type)a=r(t)}else c==a.type?r(t):x&&(("}"==a.type||"top"==a.type)&&";"!=c||"statement"==a.type&&"newstatement"==c)&&n(t,e.column(),"statement",e.current());if("variable"==s&&("def"==t.prevToken||l.typeFirstDefinitions&&i(e,t,e.start)&&o(t.context)&&e.match(/^\s*\(/,!1))&&(s="def"),C.token){var d=C.token(e,t,s);void 0!==d&&(s=d)}return"def"==s&&!1===l.styleDefs&&(s="variable"),t.startOfLine=!1,t.prevToken=u?"def":s||c,D(e,t),s},indent:function(t,n){if(t.tokenize!=R&&null!=t.tokenize||t.typeAtEndOfLine)return e.Pass;var r=t.context,i=n&&n.charAt(0),o=i==r.type;if("statement"==r.type&&"}"==i&&(r=r.prev),l.dontIndentStatements)while("statement"==r.type&&l.dontIndentStatements.test(r.info))r=r.prev;if(C.indent){var a=C.indent(t,r,n,d);if("number"==typeof a)return a}var s=r.prev&&"switch"==r.prev.info;if(l.allmanIndentation&&/[{(]/.test(i)){while("top"!=r.type&&"}"!=r.type)r=r.prev;return r.indented}return"statement"==r.type?r.indented+("{"==i?0:f):!r.align||h&&")"==r.type?")"!=r.type||o?r.indented+(o?0:d)+(o||!s||/^(?:case|default)\b/.test(n)?0:d):r.indented+f:r.column+(o?0:1)},electricInput:I?/^\s*(?:case .*?:|default:|\{\}?|\})$/:/^\s*[{}]$/,blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:"//",fold:"brace"}}));var l="auto if break case register continue return default do sizeof static else struct switch extern typedef union for goto while enum const volatile inline restrict asm fortran",c="alignas alignof and and_eq audit axiom bitand bitor catch class compl concept constexpr const_cast decltype delete dynamic_cast explicit export final friend import module mutable namespace new noexcept not not_eq operator or or_eq override private protected public reinterpret_cast requires static_assert static_cast template this thread_local throw try typeid typename using virtual xor xor_eq",u="bycopy byref in inout oneway out self super atomic nonatomic retain copy readwrite readonly strong weak assign typeof nullable nonnull null_resettable _cmd @interface @implementation @end @protocol @encode @property @synthesize @dynamic @class @public @package @private @protected @required @optional @try @catch @finally @import @selector @encode @defs @synchronized @autoreleasepool @compatibility_alias @available",d="FOUNDATION_EXPORT FOUNDATION_EXTERN NS_INLINE NS_FORMAT_FUNCTION  NS_RETURNS_RETAINEDNS_ERROR_ENUM NS_RETURNS_NOT_RETAINED NS_RETURNS_INNER_POINTER NS_DESIGNATED_INITIALIZER NS_ENUM NS_OPTIONS NS_REQUIRES_NIL_TERMINATION NS_ASSUME_NONNULL_BEGIN NS_ASSUME_NONNULL_END NS_SWIFT_NAME NS_REFINED_FOR_SWIFT",f=a("int long char short double float unsigned signed void bool"),h=a("SEL instancetype id Class Protocol BOOL");function p(e){return s(f,e)||/.+_t$/.test(e)}function m(e){return p(e)||s(h,e)}var g="case do else for if switch while struct enum union",v="struct enum union";function b(e,t){if(!t.startOfLine)return!1;for(var n,r=null;n=e.peek();){if("\\"==n&&e.match(/^.$/)){r=b;break}if("/"==n&&e.match(/^\/[\/\*]/,!1))break;e.next()}return t.tokenize=r,"meta"}function y(e,t){return"type"==t.prevToken&&"type"}function C(e){return!(!e||e.length<2)&&("_"==e[0]&&("_"==e[1]||e[1]!==e[1].toLowerCase()))}function w(e){return e.eatWhile(/[\w\.']/),"number"}function x(e,t){if(e.backUp(1),e.match(/(R|u8R|uR|UR|LR)/)){var n=e.match(/"([^\s\\()]{0,16})\(/);return!!n&&(t.cpp11RawStringDelim=n[1],t.tokenize=k,k(e,t))}return e.match(/(u8|u|U|L)/)?!!e.match(/["']/,!1)&&"string":(e.next(),!1)}function I(e){var t=/(\w+)::~?(\w+)$/.exec(e);return t&&t[1]==t[2]}function A(e,t){var n;while(null!=(n=e.next()))if('"'==n&&!e.eat('"')){t.tokenize=null;break}return"string"}function k(e,t){var n=t.cpp11RawStringDelim.replace(/[^\w\s]/g,"\\$&"),r=e.match(new RegExp(".*?\\)"+n+'"'));return r?t.tokenize=null:e.skipToEnd(),"string"}function S(t,n){"string"==typeof t&&(t=[t]);var r=[];function i(e){if(e)for(var t in e)e.hasOwnProperty(t)&&r.push(t)}i(n.keywords),i(n.types),i(n.builtin),i(n.atoms),r.length&&(n.helperType=t[0],e.registerHelper("hintWords",t[0],r));for(var o=0;o<t.length;++o)e.defineMIME(t[o],n)}function _(e,t){var n=!1;while(!e.eol()){if(!n&&e.match('"""')){t.tokenize=null;break}n="\\"==e.next()&&!n}return"string"}function T(e){return function(t,n){var r;while(r=t.next()){if("*"==r&&t.eat("/")){if(1==e){n.tokenize=null;break}return n.tokenize=T(e-1),n.tokenize(t,n)}if("/"==r&&t.eat("*"))return n.tokenize=T(e+1),n.tokenize(t,n)}return"comment"}}function E(e){return function(t,n){var r,i=!1,o=!1;while(!t.eol()){if(!e&&!i&&t.match('"')){o=!0;break}if(e&&t.match('"""')){o=!0;break}r=t.next(),!i&&"$"==r&&t.match("{")&&t.skipTo("}"),i=!i&&"\\"==r&&!e}return!o&&e||(n.tokenize=null),"string"}}S(["text/x-csrc","text/x-c","text/x-chdr"],{name:"clike",keywords:a(l),types:p,blockKeywords:a(g),defKeywords:a(v),typeFirstDefinitions:!0,atoms:a("NULL true false"),isReservedIdentifier:C,hooks:{"#":b,"*":y},modeProps:{fold:["brace","include"]}}),S(["text/x-c++src","text/x-c++hdr"],{name:"clike",keywords:a(l+" "+c),types:p,blockKeywords:a(g+" class try catch"),defKeywords:a(v+" class namespace"),typeFirstDefinitions:!0,atoms:a("true false NULL nullptr"),dontIndentStatements:/^template$/,isIdentifierChar:/[\w\$_~\xa1-\uffff]/,isReservedIdentifier:C,hooks:{"#":b,"*":y,u:x,U:x,L:x,R:x,0:w,1:w,2:w,3:w,4:w,5:w,6:w,7:w,8:w,9:w,token:function(e,t,n){if("variable"==n&&"("==e.peek()&&(";"==t.prevToken||null==t.prevToken||"}"==t.prevToken)&&I(e.current()))return"def"}},namespaceSeparator:"::",modeProps:{fold:["brace","include"]}}),S("text/x-java",{name:"clike",keywords:a("abstract assert break case catch class const continue default do else enum extends final finally for goto if implements import instanceof interface native new package private protected public return static strictfp super switch synchronized this throw throws transient try volatile while @interface"),types:a("byte short int long float double boolean char void Boolean Byte Character Double Float Integer Long Number Object Short String StringBuffer StringBuilder Void"),blockKeywords:a("catch class do else finally for if switch try while"),defKeywords:a("class interface enum @interface"),typeFirstDefinitions:!0,atoms:a("true false null"),number:/^(?:0x[a-f\d_]+|0b[01_]+|(?:[\d_]+\.?\d*|\.\d+)(?:e[-+]?[\d_]+)?)(u|ll?|l|f)?/i,hooks:{"@":function(e){return!e.match("interface",!1)&&(e.eatWhile(/[\w\$_]/),"meta")}},modeProps:{fold:["brace","import"]}}),S("text/x-csharp",{name:"clike",keywords:a("abstract as async await base break case catch checked class const continue default delegate do else enum event explicit extern finally fixed for foreach goto if implicit in interface internal is lock namespace new operator out override params private protected public readonly ref return sealed sizeof stackalloc static struct switch this throw try typeof unchecked unsafe using virtual void volatile while add alias ascending descending dynamic from get global group into join let orderby partial remove select set value var yield"),types:a("Action Boolean Byte Char DateTime DateTimeOffset Decimal Double Func Guid Int16 Int32 Int64 Object SByte Single String Task TimeSpan UInt16 UInt32 UInt64 bool byte char decimal double short int long object sbyte float string ushort uint ulong"),blockKeywords:a("catch class do else finally for foreach if struct switch try while"),defKeywords:a("class interface namespace struct var"),typeFirstDefinitions:!0,atoms:a("true false null"),hooks:{"@":function(e,t){return e.eat('"')?(t.tokenize=A,A(e,t)):(e.eatWhile(/[\w\$_]/),"meta")}}}),S("text/x-scala",{name:"clike",keywords:a("abstract case catch class def do else extends final finally for forSome if implicit import lazy match new null object override package private protected return sealed super this throw trait try type val var while with yield _ assert assume require print println printf readLine readBoolean readByte readShort readChar readInt readLong readFloat readDouble"),types:a("AnyVal App Application Array BufferedIterator BigDecimal BigInt Char Console Either Enumeration Equiv Error Exception Fractional Function IndexedSeq Int Integral Iterable Iterator List Map Numeric Nil NotNull Option Ordered Ordering PartialFunction PartialOrdering Product Proxy Range Responder Seq Serializable Set Specializable Stream StringBuilder StringContext Symbol Throwable Traversable TraversableOnce Tuple Unit Vector Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),multiLineStrings:!0,blockKeywords:a("catch class enum do else finally for forSome if match switch try while"),defKeywords:a("class enum def object package trait type val var"),atoms:a("true false null"),indentStatements:!1,indentSwitch:!1,isOperatorChar:/[+\-*&%=<>!?|\/#:@]/,hooks:{"@":function(e){return e.eatWhile(/[\w\$_]/),"meta"},'"':function(e,t){return!!e.match('""')&&(t.tokenize=_,t.tokenize(e,t))},"'":function(e){return e.eatWhile(/[\w\$_\xa1-\uffff]/),"atom"},"=":function(e,n){var r=n.context;return!("}"!=r.type||!r.align||!e.eat(">"))&&(n.context=new t(r.indented,r.column,r.type,r.info,null,r.prev),"operator")},"/":function(e,t){return!!e.eat("*")&&(t.tokenize=T(1),t.tokenize(e,t))}},modeProps:{closeBrackets:{pairs:'()[]{}""',triples:'"'}}}),S("text/x-kotlin",{name:"clike",keywords:a("package as typealias class interface this super val operator var fun for is in This throw return annotation break continue object if else while do try when !in !is as? file import where by get set abstract enum open inner override private public internal protected catch finally out final vararg reified dynamic companion constructor init sealed field property receiver param sparam lateinit data inline noinline tailrec external annotation crossinline const operator infix suspend actual expect setparam"),types:a("Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void Annotation Any BooleanArray ByteArray Char CharArray DeprecationLevel DoubleArray Enum FloatArray Function Int IntArray Lazy LazyThreadSafetyMode LongArray Nothing ShortArray Unit"),intendSwitch:!1,indentStatements:!1,multiLineStrings:!0,number:/^(?:0x[a-f\d_]+|0b[01_]+|(?:[\d_]+(\.\d+)?|\.\d+)(?:e[-+]?[\d_]+)?)(u|ll?|l|f)?/i,blockKeywords:a("catch class do else finally for if where try while enum"),defKeywords:a("class val var object interface fun"),atoms:a("true false null this"),hooks:{"@":function(e){return e.eatWhile(/[\w\$_]/),"meta"},"*":function(e,t){return"."==t.prevToken?"variable":"operator"},'"':function(e,t){return t.tokenize=E(e.match('""')),t.tokenize(e,t)},"/":function(e,t){return!!e.eat("*")&&(t.tokenize=T(1),t.tokenize(e,t))},indent:function(e,t,n,r){var i=n&&n.charAt(0);return"}"!=e.prevToken&&")"!=e.prevToken||""!=n?"operator"==e.prevToken&&"}"!=n&&"}"!=e.context.type||"variable"==e.prevToken&&"."==i||("}"==e.prevToken||")"==e.prevToken)&&"."==i?2*r+t.indented:t.align&&"}"==t.type?t.indented+(e.context.type==(n||"").charAt(0)?0:r):void 0:e.indented}},modeProps:{closeBrackets:{triples:'"'}}}),S(["x-shader/x-vertex","x-shader/x-fragment"],{name:"clike",keywords:a("sampler1D sampler2D sampler3D samplerCube sampler1DShadow sampler2DShadow const attribute uniform varying break continue discard return for while do if else struct in out inout"),types:a("float int bool void vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 mat2 mat3 mat4"),blockKeywords:a("for while do if else struct"),builtin:a("radians degrees sin cos tan asin acos atan pow exp log exp2 sqrt inversesqrt abs sign floor ceil fract mod min max clamp mix step smoothstep length distance dot cross normalize ftransform faceforward reflect refract matrixCompMult lessThan lessThanEqual greaterThan greaterThanEqual equal notEqual any all not texture1D texture1DProj texture1DLod texture1DProjLod texture2D texture2DProj texture2DLod texture2DProjLod texture3D texture3DProj texture3DLod texture3DProjLod textureCube textureCubeLod shadow1D shadow2D shadow1DProj shadow2DProj shadow1DLod shadow2DLod shadow1DProjLod shadow2DProjLod dFdx dFdy fwidth noise1 noise2 noise3 noise4"),atoms:a("true false gl_FragColor gl_SecondaryColor gl_Normal gl_Vertex gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 gl_FogCoord gl_PointCoord gl_Position gl_PointSize gl_ClipVertex gl_FrontColor gl_BackColor gl_FrontSecondaryColor gl_BackSecondaryColor gl_TexCoord gl_FogFragCoord gl_FragCoord gl_FrontFacing gl_FragData gl_FragDepth gl_ModelViewMatrix gl_ProjectionMatrix gl_ModelViewProjectionMatrix gl_TextureMatrix gl_NormalMatrix gl_ModelViewMatrixInverse gl_ProjectionMatrixInverse gl_ModelViewProjectionMatrixInverse gl_TexureMatrixTranspose gl_ModelViewMatrixInverseTranspose gl_ProjectionMatrixInverseTranspose gl_ModelViewProjectionMatrixInverseTranspose gl_TextureMatrixInverseTranspose gl_NormalScale gl_DepthRange gl_ClipPlane gl_Point gl_FrontMaterial gl_BackMaterial gl_LightSource gl_LightModel gl_FrontLightModelProduct gl_BackLightModelProduct gl_TextureColor gl_EyePlaneS gl_EyePlaneT gl_EyePlaneR gl_EyePlaneQ gl_FogParameters gl_MaxLights gl_MaxClipPlanes gl_MaxTextureUnits gl_MaxTextureCoords gl_MaxVertexAttribs gl_MaxVertexUniformComponents gl_MaxVaryingFloats gl_MaxVertexTextureImageUnits gl_MaxTextureImageUnits gl_MaxFragmentUniformComponents gl_MaxCombineTextureImageUnits gl_MaxDrawBuffers"),indentSwitch:!1,hooks:{"#":b},modeProps:{fold:["brace","include"]}}),S("text/x-nesc",{name:"clike",keywords:a(l+" as atomic async call command component components configuration event generic implementation includes interface module new norace nx_struct nx_union post provides signal task uses abstract extends"),types:p,blockKeywords:a(g),atoms:a("null true false"),hooks:{"#":b},modeProps:{fold:["brace","include"]}}),S("text/x-objectivec",{name:"clike",keywords:a(l+" "+u),types:m,builtin:a(d),blockKeywords:a(g+" @synthesize @try @catch @finally @autoreleasepool @synchronized"),defKeywords:a(v+" @interface @implementation @protocol @class"),dontIndentStatements:/^@.*$/,typeFirstDefinitions:!0,atoms:a("YES NO NULL Nil nil true false nullptr"),isReservedIdentifier:C,hooks:{"#":b,"*":y},modeProps:{fold:["brace","include"]}}),S("text/x-objectivec++",{name:"clike",keywords:a(l+" "+u+" "+c),types:m,builtin:a(d),blockKeywords:a(g+" @synthesize @try @catch @finally @autoreleasepool @synchronized class try catch"),defKeywords:a(v+" @interface @implementation @protocol @class class namespace"),dontIndentStatements:/^@.*$|^template$/,typeFirstDefinitions:!0,atoms:a("YES NO NULL Nil nil true false nullptr"),isReservedIdentifier:C,hooks:{"#":b,"*":y,u:x,U:x,L:x,R:x,0:w,1:w,2:w,3:w,4:w,5:w,6:w,7:w,8:w,9:w,token:function(e,t,n){if("variable"==n&&"("==e.peek()&&(";"==t.prevToken||null==t.prevToken||"}"==t.prevToken)&&I(e.current()))return"def"}},namespaceSeparator:"::",modeProps:{fold:["brace","include"]}}),S("text/x-squirrel",{name:"clike",keywords:a("base break clone continue const default delete enum extends function in class foreach local resume return this throw typeof yield constructor instanceof static"),types:p,blockKeywords:a("case catch class else for foreach if switch try while"),defKeywords:a("function local class"),typeFirstDefinitions:!0,atoms:a("true false null"),hooks:{"#":b},modeProps:{fold:["brace","include"]}});var O=null;function R(e){return function(t,n){var r,i=!1,o=!1;while(!t.eol()){if(!i&&t.match('"')&&("single"==e||t.match('""'))){o=!0;break}if(!i&&t.match("``")){O=R(e),o=!0;break}r=t.next(),i="single"==e&&!i&&"\\"==r}return o&&(n.tokenize=null),"string"}}S("text/x-ceylon",{name:"clike",keywords:a("abstracts alias assembly assert assign break case catch class continue dynamic else exists extends finally for function given if import in interface is let module new nonempty object of out outer package return satisfies super switch then this throw try value void while"),types:function(e){var t=e.charAt(0);return t===t.toUpperCase()&&t!==t.toLowerCase()},blockKeywords:a("case catch class dynamic else finally for function if interface module new object switch try while"),defKeywords:a("class dynamic function interface module object package value"),builtin:a("abstract actual aliased annotation by default deprecated doc final formal late license native optional sealed see serializable shared suppressWarnings tagged throws variable"),isPunctuationChar:/[\[\]{}\(\),;\:\.`]/,isOperatorChar:/[+\-*&%=<>!?|^~:\/]/,numberStart:/[\d#$]/,number:/^(?:#[\da-fA-F_]+|\$[01_]+|[\d_]+[kMGTPmunpf]?|[\d_]+\.[\d_]+(?:[eE][-+]?\d+|[kMGTPmunpf]|)|)/i,multiLineStrings:!0,typeFirstDefinitions:!0,atoms:a("true false null larger smaller equal empty finished"),indentSwitch:!1,styleDefs:!1,hooks:{"@":function(e){return e.eatWhile(/[\w\$_]/),"meta"},'"':function(e,t){return t.tokenize=R(e.match('""')?"triple":"single"),t.tokenize(e,t)},"`":function(e,t){return!(!O||!e.match("`"))&&(t.tokenize=O,O=null,t.tokenize(e,t))},"'":function(e){return e.eatWhile(/[\w\$_\xa1-\uffff]/),"atom"},token:function(e,t,n){if(("variable"==n||"type"==n)&&"."==t.prevToken)return"variable-2"}},modeProps:{fold:["brace","import"],closeBrackets:{triples:'"'}}})}))},"4ced":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-chart",{attrs:{forceFit:!0,height:e.height,width:e.width,data:e.data,scale:e.scale,padding:0}},[n("v-tooltip"),n("v-interval",{attrs:{shape:["liquid-fill-gauge"],position:"transfer*value",color:"","v-style":{lineWidth:8,opacity:.75},tooltip:["transfer*value",function(e,t){return{name:e,value:t}}]}}),e._l(e.data,(function(e,t){return n("v-guide",{key:t,attrs:{type:"text",top:!0,position:{gender:e.transfer,value:45},content:e.value+"%","v-style":{fontSize:100,textAlign:"center",opacity:.75}}})}))],2)],1)},i=[],o=[{transfer:"一月",value:813},{transfer:"二月",value:233},{transfer:"三月",value:561}],a={name:"Liquid",props:{height:{type:Number,default:0},width:{type:Number,default:0}},data:function(){return{data:o,scale:[]}}},s=a,l=n("2877"),c=Object(l["a"])(s,r,i,!1,null,"4b5474d2",null);t["default"]=c.exports},"4d7e":function(e,t,n){"use strict";var r=n("61b4"),i=n.n(r);i.a},"4e97":function(e,t,n){"use strict";var r=n("ca0f"),i=n.n(r);i.a},"4ea8":function(e,t,n){n("cdd9")},"4ec5":function(e,t,n){"use strict";var r=n("220f"),i=n.n(r);i.a},"4ec6":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{style:{padding:"0 0 32px 32px"}},[n("h4",{style:{marginBottom:"20px"}},[e._v(e._s(e.title))]),n("v-chart",{attrs:{"force-fit":!0,height:e.height,data:e.data,scale:e.scale,onClick:e.handleClick}},[n("v-tooltip"),n("v-axis"),n("v-legend"),n("v-line",{attrs:{position:"type*y",color:"x"}}),n("v-point",{attrs:{position:"type*y",color:"x",size:4,"v-style":e.style,shape:"circle"}})],1)],1)},i=[],o=n("7104"),a=n("c917");function s(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=l(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function l(e,t){if(e){if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u={name:"LineChartMultid",mixins:[a["a"]],props:{title:{type:String,default:""},dataSource:{type:Array,default:function(){return[{type:"Jan",jeecg:7,jeebt:3.9},{type:"Feb",jeecg:6.9,jeebt:4.2},{type:"Mar",jeecg:9.5,jeebt:5.7},{type:"Apr",jeecg:14.5,jeebt:8.5},{type:"May",jeecg:18.4,jeebt:11.9},{type:"Jun",jeecg:21.5,jeebt:15.2},{type:"Jul",jeecg:25.2,jeebt:17},{type:"Aug",jeecg:26.5,jeebt:16.6},{type:"Sep",jeecg:23.3,jeebt:14.2},{type:"Oct",jeecg:18.3,jeebt:10.3},{type:"Nov",jeecg:13.9,jeebt:6.6},{type:"Dec",jeecg:9.6,jeebt:4.8}]}},fields:{type:Array,default:function(){return["jeecg","jeebt"]}},aliases:{type:Array,default:function(){return[]}},height:{type:Number,default:254}},data:function(){return{scale:[{dataKey:"x",min:0,max:1}],style:{stroke:"#fff",lineWidth:1}}},computed:{data:function(){var e=this,t=(new o["DataSet"].View).source(this.dataSource);t.transform({type:"fold",fields:this.fields,key:"x",value:"y"});var n=t.rows;return n.forEach((function(t){var n,r=s(e.aliases);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.field===t.x){t.x=i.alias;break}}}catch(o){r.e(o)}finally{r.f()}})),n}}},d=u,f=n("2877"),h=Object(f["a"])(d,r,i,!1,null,"35a5c870",null);t["default"]=h.exports},"4f05":function(e,t,n){},"4f0c":function(e,t,n){"use strict";var r=n("45d7"),i=n.n(r);i.a},"4f83":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchQuery(t)}}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"规则名称"}},[n("a-input",{attrs:{placeholder:"请输入规则名称"},model:{value:e.queryParam.ruleName,callback:function(t){e.$set(e.queryParam,"ruleName",t)},expression:"queryParam.ruleName"}})],1)],1),n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"规则Code"}},[n("a-input",{attrs:{placeholder:"请输入规则Code"},model:{value:e.queryParam.ruleCode,callback:function(t){e.$set(e.queryParam,"ruleCode",t)},expression:"queryParam.ruleCode"}})],1)],1),n("a-col",{attrs:{md:6,sm:8}},[n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")])],1)])],1)],1)],1),n("div",{staticClass:"table-operator"},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("新增")]),n("a-button",{attrs:{type:"primary",icon:"download"},on:{click:function(t){return e.handleExportXls("填值规则")}}},[e._v("导出")]),n("a-upload",{attrs:{name:"file",showUploadList:!1,multiple:!1,headers:e.tokenHeader,action:e.importExcelUrl},on:{change:e.handleImportExcel}},[n("a-button",{attrs:{type:"primary",icon:"import"}},[e._v("导入")])],1),e.selectedRowKeys.length>0?n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:e.batchDel}},[n("a-icon",{attrs:{type:"delete"}}),e._v("\n          删除\n        ")],1)],1),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v(" 批量操作\n        "),n("a-icon",{attrs:{type:"down"}})],1)],1):e._e()],1),n("a-alert",{staticStyle:{"margin-bottom":"16px"},attrs:{type:"info",showIcon:""}},[n("template",{slot:"message"},[n("span",[e._v("已选择")]),n("a",{staticStyle:{"font-weight":"600",padding:"0 4px"}},[e._v(e._s(e.selectedRowKeys.length))]),n("span",[e._v("项")]),e.selectedRowKeys.length>0?[n("a-divider",{attrs:{type:"vertical"}}),n("a",{on:{click:e.onClearSelected}},[e._v("清空")])]:e._e()],2)],2),n("a-table",{ref:"table",attrs:{size:"middle",bordered:"",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link"},[e._v("更多 "),n("a-icon",{attrs:{type:"down"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{on:{click:function(t){return e.handleTest(r)}}},[e._v("\n              功能测试\n            ")]),n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete(r.id)}}},[n("a",[e._v("删除")])])],1)],1)],1)],1)}}])}),n("sys-fill-rule-modal",{ref:"modalForm",on:{ok:e.modalFormOk}})],1)},i=[],o=n("0fea"),a=n("6b7a"),s=n("b65a"),l={name:"SysFillRuleList",mixins:[s["a"]],components:{SysFillRuleModal:a["default"]},data:function(){return{description:"填值规则管理页面",columns:[{title:"#",dataIndex:"",key:"rowIndex",width:60,align:"center",customRender:function(e,t,n){return 1+n}},{title:"规则名称",align:"center",dataIndex:"ruleName"},{title:"规则Code",align:"center",dataIndex:"ruleCode"},{title:"规则实现类",align:"center",dataIndex:"ruleClass"},{title:"规则参数",align:"center",dataIndex:"ruleParams"},{title:"操作",dataIndex:"action",align:"center",scopedSlots:{customRender:"action"}}],url:{list:"/sys/fillRule/list",test:"/sys/fillRule/testFillRule",delete:"/sys/fillRule/delete",deleteBatch:"/sys/fillRule/deleteBatch",exportXlsUrl:"/sys/fillRule/exportXls",importExcelUrl:"/sys/fillRule/importExcel"}}},computed:{importExcelUrl:function(){return"".concat(window._CONFIG["domianURL"]).concat(this.url.importExcelUrl)}},methods:{handleTest:function(e){var t=this,n=this.$message.loading("生成中...",0);Object(o["c"])(this.url.test,{ruleCode:e.ruleCode}).then((function(e){e.success?t.$info({title:"填值规则功能测试",content:"生成结果："+e.result}):t.$message.warn(e.message)})).finally((function(){n()}))}}},c=l,u=(n("508c"),n("2877")),d=Object(u["a"])(c,r,i,!1,null,"7034e428",null);t["default"]=d.exports},"4fa4":function(e,t,n){},"4fa6":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{staticClass:"card-area",attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchQuery(t)}}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"名称",labelCol:{span:5},wrapperCol:{span:18,offset:1}}},[n("a-input",{attrs:{placeholder:"请输入名称查询"},model:{value:e.queryParam.roleName,callback:function(t){e.$set(e.queryParam,"roleName",t)},expression:"queryParam.roleName"}})],1)],1),n("a-col",{attrs:{md:10,sm:12}},[n("a-form-item",{attrs:{label:"创建时间",labelCol:{span:5},wrapperCol:{span:18,offset:1}}},[n("j-date",{staticStyle:{width:"45%"},attrs:{showTime:!0,"date-format":"YYYY-MM-DD HH:mm:ss",placeholder:"请选择开始时间"},model:{value:e.queryParam.createTime_begin,callback:function(t){e.$set(e.queryParam,"createTime_begin",t)},expression:"queryParam.createTime_begin"}}),n("span",{staticStyle:{width:"10px"}},[e._v("~")]),n("j-date",{staticStyle:{width:"45%"},attrs:{showTime:!0,"date-format":"YYYY-MM-DD HH:mm:ss",placeholder:"请选择结束时间"},model:{value:e.queryParam.createTime_end,callback:function(t){e.$set(e.queryParam,"createTime_end",t)},expression:"queryParam.createTime_end"}})],1)],1),n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-col",{attrs:{md:6,sm:24}},[n("a-button",{attrs:{type:"primary"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},on:{click:e.searchReset}},[e._v("重置")])],1)],1)],1)],1)],1),n("div",{staticClass:"table-operator",staticStyle:{"margin-top":"5px"}},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("新增")]),n("a-button",{attrs:{type:"primary",icon:"download"},on:{click:function(t){return e.handleExportXls("角色信息")}}},[e._v("导出")]),n("a-upload",{attrs:{name:"file",showUploadList:!1,multiple:!1,headers:e.tokenHeader,action:e.importExcelUrl},on:{change:e.handleImportExcel}},[n("a-button",{attrs:{type:"primary",icon:"import"}},[e._v("导入")])],1),e.selectedRowKeys.length>0?n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:e.batchDel}},[n("a-icon",{attrs:{type:"delete"}}),e._v("删除")],1)],1),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v("\n        批量操作 "),n("a-icon",{attrs:{type:"down"}})],1)],1):e._e()],1),n("div",[n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),e._v(" 已选择 "),n("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRowKeys.length))]),e._v("项  \n      "),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])]),n("a-table",{ref:"table",attrs:{size:"middle",bordered:"",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link"},[e._v("\n            更多 "),n("a-icon",{attrs:{type:"down"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a",{on:{click:function(t){return e.handlePerssion(r.id)}}},[e._v("授权")])]),n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete(r.id)}}},[n("a",[e._v("删除")])])],1)],1)],1)],1)}}])})],1),n("role-modal",{ref:"modalForm",on:{ok:e.modalFormOk}}),n("user-role-modal",{ref:"modalUserRole"})],1)},i=[],o=n("2a70"),a=n("ee18"),s=n("b65a"),l=n("2dab"),c={name:"RoleList",mixins:[s["a"]],components:{RoleModal:o["default"],UserRoleModal:a["default"],JDate:l["default"]},data:function(){return{description:"角色管理页面",queryParam:{roleName:""},columns:[{title:"#",dataIndex:"",key:"rowIndex",width:60,align:"center",customRender:function(e,t,n){return parseInt(n)+1}},{title:"角色名称",align:"center",dataIndex:"roleName"},{title:"角色编码",align:"center",dataIndex:"roleCode"},{title:"备注",align:"center",dataIndex:"description"},{title:"创建时间",dataIndex:"createTime",align:"center",sorter:!0},{title:"更新时间",dataIndex:"updateTime",align:"center",sorter:!0},{title:"操作",dataIndex:"action",align:"center",scopedSlots:{customRender:"action"}}],url:{list:"/sys/role/list",delete:"/sys/role/delete",deleteBatch:"/sys/role/deleteBatch",exportXlsUrl:"/sys/role/exportXls",importExcelUrl:"sys/role/importExcel"}}},computed:{importExcelUrl:function(){return"".concat(window._CONFIG["domianURL"],"/").concat(this.url.importExcelUrl)}},methods:{handlePerssion:function(e){this.$refs.modalUserRole.show(e)},onChangeDate:function(e,t){}}},u=c,d=(n("d1ff"),n("2877")),f=Object(d["a"])(u,r,i,!1,null,"f14e9874",null);t["default"]=f.exports},"508c":function(e,t,n){"use strict";var r=n("b88f"),i=n.n(r);i.a},"50c1":function(e,t,n){"use strict";var r=n("ebd6"),i=n.n(r);i.a},"50d8f":function(e,t,n){},5139:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("a-tabs",{attrs:{defaultActiveKey:"1"}},[n("a-tab-pane",{key:"1",attrs:{tab:"柱状图"}},[n("bar",{attrs:{title:"销售额排行",dataSource:e.barData,height:e.height}})],1),n("a-tab-pane",{key:"2",attrs:{tab:"多列柱状图"}},[n("bar-multid",{attrs:{title:"多列柱状图",height:e.height}})],1),n("a-tab-pane",{key:"3",attrs:{tab:"迷你柱状图"}},[n("mini-bar",{attrs:{dataSource:e.barData,width:400,height:200}})],1),n("a-tab-pane",{key:"4",attrs:{tab:"面积图"}},[n("area-chart-ty",{attrs:{title:"销售额排行",dataSource:e.areaData,x:"月份",y:"销售额",height:e.height}})],1),n("a-tab-pane",{key:"5",attrs:{tab:"迷你面积图"}},[n("div",{staticStyle:{"padding-top":"100px",width:"600px",height:"200px"}},[n("mini-area",{attrs:{dataSource:e.areaData,x:"月份",y:"销售额",height:e.height}})],1)]),n("a-tab-pane",{key:"6",attrs:{tab:"多行折线图"}},[n("line-chart-multid",{attrs:{title:"多行折线图",height:e.height}})],1),n("a-tab-pane",{key:"7",attrs:{tab:"饼图"}},[n("pie",{attrs:{title:"饼图",height:e.height}})],1),n("a-tab-pane",{key:"8",attrs:{tab:"雷达图"}},[n("radar",{attrs:{title:"雷达图",height:e.height}})],1),n("a-tab-pane",{key:"9",attrs:{tab:"仪表盘"}},[n("dash-chart-demo",{attrs:{title:"仪表盘",value:9,height:e.height}})],1),n("a-tab-pane",{key:"10",attrs:{tab:"进度条"}},[n("mini-progress",{attrs:{percentage:30,target:40,height:30}}),n("mini-progress",{attrs:{percentage:51,target:60,height:30,color:"#FFA500"}}),n("mini-progress",{attrs:{percentage:66,target:80,height:30,color:"#1E90FF"}}),n("mini-progress",{attrs:{percentage:74,target:70,height:30,color:"#FF4500"}}),n("mini-progress",{attrs:{percentage:92,target:100,height:30,color:"#49CC49"}})],1),n("a-tab-pane",{key:"11",attrs:{tab:"排名列表"}},[n("rank-list",{staticStyle:{width:"600px",margin:"0 auto"},attrs:{title:"门店销售排行榜",list:e.rankList}})],1),n("a-tab-pane",{key:"12",attrs:{tab:"TransferBar"}},[n("transfer-bar",{attrs:{title:"年度消耗流量一览表",data:e.barData,x:"月份",y:"流量(Mb)",height:e.height}})],1),n("a-tab-pane",{key:"13",attrs:{tab:"Trend"}},[n("trend",{attrs:{title:"Trend",term:"Trend：",percentage:30}})],1),n("a-tab-pane",{key:"14",attrs:{tab:"Liquid"}},[n("liquid",{attrs:{height:e.height}})],1),n("a-tab-pane",{key:"15",attrs:{tab:"BarAndLine"}},[n("bar-and-line",{attrs:{height:e.height}})],1)],1)],1)},i=[],o=n("f552"),a=n("edd9"),s=n("8191"),l=n("972f"),c=n("4ec6"),u=n("4ced"),d=n("942d"),f=n("1d43"),h=n("bf13"),p=n("6cb2"),m=n("3981"),g=n("0923"),v=n("1cf5"),b=n("527e"),y=n("e659");function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w={name:"ViserChartDemo",components:{Bar:a["default"],MiniBar:d["default"],BarMultid:s["default"],AreaChartTy:o["default"],LineChartMultid:c["default"],Pie:p["default"],Radar:m["default"],DashChartDemo:l["default"],MiniProgress:h["default"],RankList:g["default"],TransferBar:v["default"],Trend:b["default"],Liquid:u["default"],MiniArea:f["default"],BarAndLine:y["default"]},data:function(){return{height:420,rankList:[],barData:[],areaData:[]}},created:function(){var e=this;setTimeout((function(){e.loadBarData(),e.loadAreaData(),e.loadRankListData()}),100)},methods:{loadData:function(e,t,n,r){for(var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"月",a=[],s=0;s<12;s+=1){var l;a.push((l={},C(l,e,"".concat(i).concat(s+1).concat(o)),C(l,t,Math.floor(Math.random()*n)+r),l))}return a},loadBarData:function(){this.barData=this.loadData("x","y",1e3,200)},loadAreaData:function(){this.areaData=this.loadData("x","y",500,100)},loadRankListData:function(){this.rankList=this.loadData("name","total",2e3,100,"北京朝阳 "," 号店")}}},x=w,I=n("2877"),A=Object(I["a"])(x,r,i,!1,null,"4a5173e0",null);t["default"]=A.exports},"527e":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"chart-trend"},[e._v("\n  "+e._s(e.term)+"\n  "),n("span",[e._v(e._s(e.rate)+"%")]),n("span",{class:["trend-icon",e.trend]},[n("a-icon",{attrs:{type:"caret-"+e.trend}})],1)])},i=[],o={name:"Trend",props:{term:{type:String,default:"",required:!0},percentage:{type:Number,default:null},type:{type:Boolean,default:null},target:{type:Number,default:0},value:{type:Number,default:0},fixed:{type:Number,default:2}},data:function(){return{trend:this.type?"up":"down",rate:this.percentage}},created:function(){var e=null===this.type?this.value>=this.target:this.type;this.trend=e?"up":"down",this.rate=(null===this.percentage?100*Math.abs(this.value-this.target)/this.target:this.percentage).toFixed(this.fixed)}},a=o,s=(n("fca9"),n("2877")),l=Object(s["a"])(a,r,i,!1,null,"5e0608b9",null);t["default"]=l.exports},"54ab":function(e,t,n){"use strict";var r=n("a372"),i=n.n(r);i.a},"54d3":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{staticStyle:{"min-width":"500px","overflow-x":"auto"}},[n("p",[e._v("我是左侧页面")]),n("img-turn-page")],1)},i=[],o=n("4874"),a={name:"SplitPanelAModal",components:{ImgTurnPage:o["default"]},data:function(){return{}},created:function(){},methods:{}},s=a,l=n("2877"),c=Object(l["a"])(s,r,i,!1,null,"60b2e400",null);t["default"]=c.exports},"55c3":function(e,t,n){"use strict";n.r(t);var r,i,o=n("5976"),a=n("160c"),s=n("fe2b"),l=n("a6b6"),c=n("ac0d"),u=l["a"].Meta,d={components:{AListItem:l["a"],AList:s["b"],ASwitch:a["a"],Meta:u},mixins:[c["a"]],data:function(){return{}},filters:{themeFilter:function(e){var t={dark:"暗色",light:"白色"};return t[e]}},methods:{colorFilter:function(e){var t=o["a"].filter((function(t){return t.color===e}))[0];return t&&t.key},onChange:function(e){e?this.$store.dispatch("ToggleTheme","dark"):this.$store.dispatch("ToggleTheme","light")}},render:function(){var e=arguments[0];return e(s["b"],{attrs:{itemLayout:"horizontal"}},[e(l["a"],[e(u,[e("a",{slot:"title"},["风格配色"]),e("span",{slot:"description"},["整体风格配色设置"])]),e("div",{slot:"actions"},[e(a["a"],{attrs:{checkedChildren:"暗色",unCheckedChildren:"白色",defaultChecked:"dark"===this.navTheme},on:{change:this.onChange}})])]),e(l["a"],[e(u,[e("a",{slot:"title"},["主题色"]),e("span",{slot:"description"},["页面风格配色： ",e("a",{domProps:{innerHTML:this.colorFilter(this.primaryColor)}})])])])])}},f=d,h=n("2877"),p=Object(h["a"])(f,r,i,!1,null,"75019a7f",null);t["default"]=p.exports},"56b3":function(e,t,n){(function(t,n){e.exports=n()})(0,(function(){"use strict";var e=navigator.userAgent,t=navigator.platform,n=/gecko\/\d/i.test(e),r=/MSIE \d/.test(e),i=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),o=/Edge\/(\d+)/.exec(e),a=r||i||o,s=a&&(r?document.documentMode||6:+(o||i)[1]),l=!o&&/WebKit\//.test(e),c=l&&/Qt\/\d+\.\d+/.test(e),u=!o&&/Chrome\//.test(e),d=/Opera\//.test(e),f=/Apple Computer/.test(navigator.vendor),h=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),p=/PhantomJS/.test(e),m=!o&&/AppleWebKit/.test(e)&&/Mobile\/\w+/.test(e),g=/Android/.test(e),v=m||g||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),b=m||/Mac/.test(t),y=/\bCrOS\b/.test(e),C=/win/i.test(t),w=d&&e.match(/Version\/(\d*\.\d*)/);w&&(w=Number(w[1])),w&&w>=15&&(d=!1,l=!0);var x=b&&(c||d&&(null==w||w<12.11)),I=n||a&&s>=9;function A(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var k,S=function(e,t){var n=e.className,r=A(t).exec(n);if(r){var i=n.slice(r.index+r[0].length);e.className=n.slice(0,r.index)+(i?r[1]+i:"")}};function _(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function T(e,t){return _(e).appendChild(t)}function E(e,t,n,r){var i=document.createElement(e);if(n&&(i.className=n),r&&(i.style.cssText=r),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function O(e,t,n,r){var i=E(e,t,n,r);return i.setAttribute("role","presentation"),i}function R(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function N(){var e;try{e=document.activeElement}catch(t){e=document.body||null}while(e&&e.shadowRoot&&e.shadowRoot.activeElement)e=e.shadowRoot.activeElement;return e}function L(e,t){var n=e.className;A(t).test(n)||(e.className+=(n?" ":"")+t)}function D(e,t){for(var n=e.split(" "),r=0;r<n.length;r++)n[r]&&!A(n[r]).test(t)&&(t+=" "+n[r]);return t}k=document.createRange?function(e,t,n,r){var i=document.createRange();return i.setEnd(r||e,n),i.setStart(e,t),i}:function(e,t,n){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch(i){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r};var B=function(e){e.select()};function M(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function P(e,t,n){for(var r in t||(t={}),e)!e.hasOwnProperty(r)||!1===n&&t.hasOwnProperty(r)||(t[r]=e[r]);return t}function F(e,t,n,r,i){null==t&&(t=e.search(/[^\s\u00a0]/),-1==t&&(t=e.length));for(var o=r||0,a=i||0;;){var s=e.indexOf("\t",o);if(s<0||s>=t)return a+(t-o);a+=s-o,a+=n-a%n,o=s+1}}m?B=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:a&&(B=function(e){try{e.select()}catch(t){}});var j=function(){this.id=null,this.f=null,this.time=0,this.handler=M(this.onTimeout,this)};function H(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}j.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},j.prototype.set=function(e,t){this.f=t;var n=+new Date+e;(!this.id||n<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=n)};var z=50,$={toString:function(){return"CodeMirror.Pass"}},V={scroll:!1},W={origin:"*mouse"},K={origin:"+move"};function G(e,t,n){for(var r=0,i=0;;){var o=e.indexOf("\t",r);-1==o&&(o=e.length);var a=o-r;if(o==e.length||i+a>=t)return r+Math.min(a,t-i);if(i+=o-r,i+=n-i%n,r=o+1,i>=t)return r}}var Z=[""];function U(e){while(Z.length<=e)Z.push(q(Z)+" ");return Z[e]}function q(e){return e[e.length-1]}function X(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function Y(e,t,n){var r=0,i=n(t);while(r<e.length&&n(e[r])<=i)r++;e.splice(r,0,t)}function J(){}function Q(e,t){var n;return Object.create?n=Object.create(e):(J.prototype=e,n=new J),t&&P(t,n),n}var ee=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function te(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||ee.test(e))}function ne(e,t){return t?!!(t.source.indexOf("\\w")>-1&&te(e))||t.test(e):te(e)}function re(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var ie=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function oe(e){return e.charCodeAt(0)>=768&&ie.test(e)}function ae(e,t,n){while((n<0?t>0:t<e.length)&&oe(e.charAt(t)))t+=n;return t}function se(e,t,n){for(var r=t>n?-1:1;;){if(t==n)return t;var i=(t+n)/2,o=r<0?Math.ceil(i):Math.floor(i);if(o==t)return e(o)?t:n;e(o)?n=o:t=o+r}}function le(e,t,n,r){if(!e)return r(t,n,"ltr",0);for(var i=!1,o=0;o<e.length;++o){var a=e[o];(a.from<n&&a.to>t||t==n&&a.to==t)&&(r(Math.max(a.from,t),Math.min(a.to,n),1==a.level?"rtl":"ltr",o),i=!0)}i||r(t,n,"ltr")}var ce=null;function ue(e,t,n){var r;ce=null;for(var i=0;i<e.length;++i){var o=e[i];if(o.from<t&&o.to>t)return i;o.to==t&&(o.from!=o.to&&"before"==n?r=i:ce=i),o.from==t&&(o.from!=o.to&&"before"!=n?r=i:ce=i)}return null!=r?r:ce}var de=function(){var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",t="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function n(n){return n<=247?e.charAt(n):1424<=n&&n<=1524?"R":1536<=n&&n<=1785?t.charAt(n-1536):1774<=n&&n<=2220?"r":8192<=n&&n<=8203?"w":8204==n?"b":"L"}var r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,i=/[stwN]/,o=/[LRr]/,a=/[Lb1n]/,s=/[1n]/;function l(e,t,n){this.level=e,this.from=t,this.to=n}return function(e,t){var c="ltr"==t?"L":"R";if(0==e.length||"ltr"==t&&!r.test(e))return!1;for(var u=e.length,d=[],f=0;f<u;++f)d.push(n(e.charCodeAt(f)));for(var h=0,p=c;h<u;++h){var m=d[h];"m"==m?d[h]=p:p=m}for(var g=0,v=c;g<u;++g){var b=d[g];"1"==b&&"r"==v?d[g]="n":o.test(b)&&(v=b,"r"==b&&(d[g]="R"))}for(var y=1,C=d[0];y<u-1;++y){var w=d[y];"+"==w&&"1"==C&&"1"==d[y+1]?d[y]="1":","!=w||C!=d[y+1]||"1"!=C&&"n"!=C||(d[y]=C),C=w}for(var x=0;x<u;++x){var I=d[x];if(","==I)d[x]="N";else if("%"==I){var A=void 0;for(A=x+1;A<u&&"%"==d[A];++A);for(var k=x&&"!"==d[x-1]||A<u&&"1"==d[A]?"1":"N",S=x;S<A;++S)d[S]=k;x=A-1}}for(var _=0,T=c;_<u;++_){var E=d[_];"L"==T&&"1"==E?d[_]="L":o.test(E)&&(T=E)}for(var O=0;O<u;++O)if(i.test(d[O])){var R=void 0;for(R=O+1;R<u&&i.test(d[R]);++R);for(var N="L"==(O?d[O-1]:c),L="L"==(R<u?d[R]:c),D=N==L?N?"L":"R":c,B=O;B<R;++B)d[B]=D;O=R-1}for(var M,P=[],F=0;F<u;)if(a.test(d[F])){var j=F;for(++F;F<u&&a.test(d[F]);++F);P.push(new l(0,j,F))}else{var H=F,z=P.length,$="rtl"==t?1:0;for(++F;F<u&&"L"!=d[F];++F);for(var V=H;V<F;)if(s.test(d[V])){H<V&&(P.splice(z,0,new l(1,H,V)),z+=$);var W=V;for(++V;V<F&&s.test(d[V]);++V);P.splice(z,0,new l(2,W,V)),z+=$,H=V}else++V;H<F&&P.splice(z,0,new l(1,H,F))}return"ltr"==t&&(1==P[0].level&&(M=e.match(/^\s+/))&&(P[0].from=M[0].length,P.unshift(new l(0,0,M[0].length))),1==q(P).level&&(M=e.match(/\s+$/))&&(q(P).to-=M[0].length,P.push(new l(0,u-M[0].length,u)))),"rtl"==t?P.reverse():P}}();function fe(e,t){var n=e.order;return null==n&&(n=e.order=de(e.text,t)),n}var he=[],pe=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var r=e._handlers||(e._handlers={});r[t]=(r[t]||he).concat(n)}};function me(e,t){return e._handlers&&e._handlers[t]||he}function ge(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var r=e._handlers,i=r&&r[t];if(i){var o=H(i,n);o>-1&&(r[t]=i.slice(0,o).concat(i.slice(o+1)))}}}function ve(e,t){var n=me(e,t);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r)}function be(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),ve(e,n||t.type,e,t),Ae(t)||t.codemirrorIgnore}function ye(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)-1==H(n,t[r])&&n.push(t[r])}function Ce(e,t){return me(e,t).length>0}function we(e){e.prototype.on=function(e,t){pe(this,e,t)},e.prototype.off=function(e,t){ge(this,e,t)}}function xe(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Ie(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Ae(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function ke(e){xe(e),Ie(e)}function Se(e){return e.target||e.srcElement}function _e(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),b&&e.ctrlKey&&1==t&&(t=3),t}var Te,Ee,Oe=function(){if(a&&s<9)return!1;var e=E("div");return"draggable"in e||"dragDrop"in e}();function Re(e){if(null==Te){var t=E("span","​");T(e,E("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Te=t.offsetWidth<=1&&t.offsetHeight>2&&!(a&&s<8))}var n=Te?E("span","​"):E("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function Ne(e){if(null!=Ee)return Ee;var t=T(e,document.createTextNode("AخA")),n=k(t,0,1).getBoundingClientRect(),r=k(t,1,2).getBoundingClientRect();return _(e),!(!n||n.left==n.right)&&(Ee=r.right-n.right<3)}var Le=3!="\n\nb".split(/\n/).length?function(e){var t=0,n=[],r=e.length;while(t<=r){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),a=o.indexOf("\r");-1!=a?(n.push(o.slice(0,a)),t+=a+1):(n.push(o),t=i+1)}return n}:function(e){return e.split(/\r\n?|\n/)},De=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(n){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},Be=function(){var e=E("div");return"oncopy"in e||(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),Me=null;function Pe(e){if(null!=Me)return Me;var t=T(e,E("span","x")),n=t.getBoundingClientRect(),r=k(t,0,1).getBoundingClientRect();return Me=Math.abs(n.left-r.left)>1}var Fe={},je={};function He(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),Fe[e]=t}function ze(e,t){je[e]=t}function $e(e){if("string"==typeof e&&je.hasOwnProperty(e))e=je[e];else if(e&&"string"==typeof e.name&&je.hasOwnProperty(e.name)){var t=je[e.name];"string"==typeof t&&(t={name:t}),e=Q(t,e),e.name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return $e("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return $e("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function Ve(e,t){t=$e(t);var n=Fe[t.name];if(!n)return Ve(e,"text/plain");var r=n(e,t);if(We.hasOwnProperty(t.name)){var i=We[t.name];for(var o in i)i.hasOwnProperty(o)&&(r.hasOwnProperty(o)&&(r["_"+o]=r[o]),r[o]=i[o])}if(r.name=t.name,t.helperType&&(r.helperType=t.helperType),t.modeProps)for(var a in t.modeProps)r[a]=t.modeProps[a];return r}var We={};function Ke(e,t){var n=We.hasOwnProperty(e)?We[e]:We[e]={};P(t,n)}function Ge(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var i=t[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n}function Ze(e,t){var n;while(e.innerMode){if(n=e.innerMode(t),!n||n.mode==e)break;t=n.state,e=n.mode}return n||{mode:e,state:t}}function Ue(e,t,n){return!e.startState||e.startState(t,n)}var qe=function(e,t,n){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};function Xe(e,t){if(t-=e.first,t<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");var n=e;while(!n.lines)for(var r=0;;++r){var i=n.children[r],o=i.chunkSize();if(t<o){n=i;break}t-=o}return n.lines[t]}function Ye(e,t,n){var r=[],i=t.line;return e.iter(t.line,n.line+1,(function(e){var o=e.text;i==n.line&&(o=o.slice(0,n.ch)),i==t.line&&(o=o.slice(t.ch)),r.push(o),++i})),r}function Je(e,t,n){var r=[];return e.iter(t,n,(function(e){r.push(e.text)})),r}function Qe(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function et(e){if(null==e.parent)return null;for(var t=e.parent,n=H(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var i=0;;++i){if(r.children[i]==t)break;n+=r.children[i].chunkSize()}return n+t.first}function tt(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var i=e.children[r],o=i.height;if(t<o){e=i;continue e}t-=o,n+=i.chunkSize()}return n}while(!e.lines);for(var a=0;a<e.lines.length;++a){var s=e.lines[a],l=s.height;if(t<l)break;t-=l}return n+a}function nt(e,t){return t>=e.first&&t<e.first+e.size}function rt(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function it(e,t,n){if(void 0===n&&(n=null),!(this instanceof it))return new it(e,t,n);this.line=e,this.ch=t,this.sticky=n}function ot(e,t){return e.line-t.line||e.ch-t.ch}function at(e,t){return e.sticky==t.sticky&&0==ot(e,t)}function st(e){return it(e.line,e.ch)}function lt(e,t){return ot(e,t)<0?t:e}function ct(e,t){return ot(e,t)<0?e:t}function ut(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function dt(e,t){if(t.line<e.first)return it(e.first,0);var n=e.first+e.size-1;return t.line>n?it(n,Xe(e,n).text.length):ft(t,Xe(e,t.line).text.length)}function ft(e,t){var n=e.ch;return null==n||n>t?it(e.line,t):n<0?it(e.line,0):e}function ht(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=dt(e,t[r]);return n}qe.prototype.eol=function(){return this.pos>=this.string.length},qe.prototype.sol=function(){return this.pos==this.lineStart},qe.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},qe.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},qe.prototype.eat=function(e){var t,n=this.string.charAt(this.pos);if(t="string"==typeof e?n==e:n&&(e.test?e.test(n):e(n)),t)return++this.pos,n},qe.prototype.eatWhile=function(e){var t=this.pos;while(this.eat(e));return this.pos>t},qe.prototype.eatSpace=function(){var e=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos)))++this.pos;return this.pos>e},qe.prototype.skipToEnd=function(){this.pos=this.string.length},qe.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},qe.prototype.backUp=function(e){this.pos-=e},qe.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=F(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?F(this.string,this.lineStart,this.tabSize):0)},qe.prototype.indentation=function(){return F(this.string,null,this.tabSize)-(this.lineStart?F(this.string,this.lineStart,this.tabSize):0)},qe.prototype.match=function(e,t,n){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&!1!==t&&(this.pos+=r[0].length),r)}var i=function(e){return n?e.toLowerCase():e},o=this.string.substr(this.pos,e.length);if(i(o)==i(e))return!1!==t&&(this.pos+=e.length),!0},qe.prototype.current=function(){return this.string.slice(this.start,this.pos)},qe.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},qe.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},qe.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var pt=function(e,t){this.state=e,this.lookAhead=t},mt=function(e,t,n,r){this.state=t,this.doc=e,this.line=n,this.maxLookAhead=r||0,this.baseTokens=null,this.baseTokenPos=1};function gt(e,t,n,r){var i=[e.state.modeGen],o={};kt(e,t.text,e.doc.mode,n,(function(e,t){return i.push(e,t)}),o,r);for(var a=n.state,s=function(r){n.baseTokens=i;var s=e.state.overlays[r],l=1,c=0;n.state=!0,kt(e,t.text,s.mode,n,(function(e,t){var n=l;while(c<e){var r=i[l];r>e&&i.splice(l,1,e,i[l+1],r),l+=2,c=Math.min(e,r)}if(t)if(s.opaque)i.splice(n,l-n,e,"overlay "+t),l=n+2;else for(;n<l;n+=2){var o=i[n+1];i[n+1]=(o?o+" ":"")+"overlay "+t}}),o),n.state=a,n.baseTokens=null,n.baseTokenPos=1},l=0;l<e.state.overlays.length;++l)s(l);return{styles:i,classes:o.bgClass||o.textClass?o:null}}function vt(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=bt(e,et(t)),i=t.text.length>e.options.maxHighlightLength&&Ge(e.doc.mode,r.state),o=gt(e,t,r);i&&(r.state=i),t.stateAfter=r.save(!i),t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function bt(e,t,n){var r=e.doc,i=e.display;if(!r.mode.startState)return new mt(r,!0,t);var o=St(e,t,n),a=o>r.first&&Xe(r,o-1).stateAfter,s=a?mt.fromSaved(r,a,o):new mt(r,Ue(r.mode),o);return r.iter(o,t,(function(n){yt(e,n.text,s);var r=s.line;n.stateAfter=r==t-1||r%5==0||r>=i.viewFrom&&r<i.viewTo?s.save():null,s.nextLine()})),n&&(r.modeFrontier=s.line),s}function yt(e,t,n,r){var i=e.doc.mode,o=new qe(t,e.options.tabSize,n);o.start=o.pos=r||0,""==t&&Ct(i,n.state);while(!o.eol())wt(i,o,n.state),o.start=o.pos}function Ct(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var n=Ze(e,t);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function wt(e,t,n,r){for(var i=0;i<10;i++){r&&(r[0]=Ze(e,n).mode);var o=e.token(t,n);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}mt.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},mt.prototype.baseToken=function(e){if(!this.baseTokens)return null;while(this.baseTokens[this.baseTokenPos]<=e)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},mt.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},mt.fromSaved=function(e,t,n){return t instanceof pt?new mt(e,Ge(e.mode,t.state),n,t.lookAhead):new mt(e,Ge(e.mode,t),n)},mt.prototype.save=function(e){var t=!1!==e?Ge(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new pt(t,this.maxLookAhead):t};var xt=function(e,t,n){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=n};function It(e,t,n,r){var i,o=e.doc,a=o.mode;t=dt(o,t);var s,l=Xe(o,t.line),c=bt(e,t.line,n),u=new qe(l.text,e.options.tabSize,c);r&&(s=[]);while((r||u.pos<t.ch)&&!u.eol())u.start=u.pos,i=wt(a,u,c.state),r&&s.push(new xt(u,i,Ge(o.mode,c.state)));return r?s:new xt(u,i,c.state)}function At(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==t[r]?t[r]=n[2]:new RegExp("(?:^|\\s)"+n[2]+"(?:$|\\s)").test(t[r])||(t[r]+=" "+n[2])}return e}function kt(e,t,n,r,i,o,a){var s=n.flattenSpans;null==s&&(s=e.options.flattenSpans);var l,c=0,u=null,d=new qe(t,e.options.tabSize,r),f=e.options.addModeClass&&[null];""==t&&At(Ct(n,r.state),o);while(!d.eol()){if(d.pos>e.options.maxHighlightLength?(s=!1,a&&yt(e,t,r,d.pos),d.pos=t.length,l=null):l=At(wt(n,d,r.state,f),o),f){var h=f[0].name;h&&(l="m-"+(l?h+" "+l:h))}if(!s||u!=l){while(c<d.start)c=Math.min(d.start,c+5e3),i(c,u);u=l}d.start=d.pos}while(c<d.pos){var p=Math.min(d.pos,c+5e3);i(p,u),c=p}}function St(e,t,n){for(var r,i,o=e.doc,a=n?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>a;--s){if(s<=o.first)return o.first;var l=Xe(o,s-1),c=l.stateAfter;if(c&&(!n||s+(c instanceof pt?c.lookAhead:0)<=o.modeFrontier))return s;var u=F(l.text,null,e.options.tabSize);(null==i||r>u)&&(i=s-1,r=u)}return i}function _t(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var n=e.first,r=t-1;r>n;r--){var i=Xe(e,r).stateAfter;if(i&&(!(i instanceof pt)||r+i.lookAhead<t)){n=r+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,n)}}var Tt=!1,Et=!1;function Ot(){Tt=!0}function Rt(){Et=!0}function Nt(e,t,n){this.marker=e,this.from=t,this.to=n}function Lt(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function Dt(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function Bt(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function Mt(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],a=o.marker,s=null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t);if(s||o.from==t&&"bookmark"==a.type&&(!n||!o.marker.insertLeft)){var l=null==o.to||(a.inclusiveRight?o.to>=t:o.to>t);(r||(r=[])).push(new Nt(a,o.from,l?null:o.to))}}return r}function Pt(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],a=o.marker,s=null==o.to||(a.inclusiveRight?o.to>=t:o.to>t);if(s||o.from==t&&"bookmark"==a.type&&(!n||o.marker.insertLeft)){var l=null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t);(r||(r=[])).push(new Nt(a,l?null:o.from-t,null==o.to?null:o.to-t))}}return r}function Ft(e,t){if(t.full)return null;var n=nt(e,t.from.line)&&Xe(e,t.from.line).markedSpans,r=nt(e,t.to.line)&&Xe(e,t.to.line).markedSpans;if(!n&&!r)return null;var i=t.from.ch,o=t.to.ch,a=0==ot(t.from,t.to),s=Mt(n,i,a),l=Pt(r,o,a),c=1==t.text.length,u=q(t.text).length+(c?i:0);if(s)for(var d=0;d<s.length;++d){var f=s[d];if(null==f.to){var h=Lt(l,f.marker);h?c&&(f.to=null==h.to?null:h.to+u):f.to=i}}if(l)for(var p=0;p<l.length;++p){var m=l[p];if(null!=m.to&&(m.to+=u),null==m.from){var g=Lt(s,m.marker);g||(m.from=u,c&&(s||(s=[])).push(m))}else m.from+=u,c&&(s||(s=[])).push(m)}s&&(s=jt(s)),l&&l!=s&&(l=jt(l));var v=[s];if(!c){var b,y=t.text.length-2;if(y>0&&s)for(var C=0;C<s.length;++C)null==s[C].to&&(b||(b=[])).push(new Nt(s[C].marker,null,null));for(var w=0;w<y;++w)v.push(b);v.push(l)}return v}function jt(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function Ht(e,t,n){var r=null;if(e.iter(t.line,n.line+1,(function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||r&&-1!=H(r,n)||(r||(r=[])).push(n)}})),!r)return null;for(var i=[{from:t,to:n}],o=0;o<r.length;++o)for(var a=r[o],s=a.find(0),l=0;l<i.length;++l){var c=i[l];if(!(ot(c.to,s.from)<0||ot(c.from,s.to)>0)){var u=[l,1],d=ot(c.from,s.from),f=ot(c.to,s.to);(d<0||!a.inclusiveLeft&&!d)&&u.push({from:c.from,to:s.from}),(f>0||!a.inclusiveRight&&!f)&&u.push({from:s.to,to:c.to}),i.splice.apply(i,u),l+=u.length-3}}return i}function zt(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function $t(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function Vt(e){return e.inclusiveLeft?-1:0}function Wt(e){return e.inclusiveRight?1:0}function Kt(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var r=e.find(),i=t.find(),o=ot(r.from,i.from)||Vt(e)-Vt(t);if(o)return-o;var a=ot(r.to,i.to)||Wt(e)-Wt(t);return a||t.id-e.id}function Gt(e,t){var n,r=Et&&e.markedSpans;if(r)for(var i=void 0,o=0;o<r.length;++o)i=r[o],i.marker.collapsed&&null==(t?i.from:i.to)&&(!n||Kt(n,i.marker)<0)&&(n=i.marker);return n}function Zt(e){return Gt(e,!0)}function Ut(e){return Gt(e,!1)}function qt(e,t){var n,r=Et&&e.markedSpans;if(r)for(var i=0;i<r.length;++i){var o=r[i];o.marker.collapsed&&(null==o.from||o.from<t)&&(null==o.to||o.to>t)&&(!n||Kt(n,o.marker)<0)&&(n=o.marker)}return n}function Xt(e,t,n,r,i){var o=Xe(e,t),a=Et&&o.markedSpans;if(a)for(var s=0;s<a.length;++s){var l=a[s];if(l.marker.collapsed){var c=l.marker.find(0),u=ot(c.from,n)||Vt(l.marker)-Vt(i),d=ot(c.to,r)||Wt(l.marker)-Wt(i);if(!(u>=0&&d<=0||u<=0&&d>=0)&&(u<=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?ot(c.to,n)>=0:ot(c.to,n)>0)||u>=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?ot(c.from,r)<=0:ot(c.from,r)<0)))return!0}}}function Yt(e){var t;while(t=Zt(e))e=t.find(-1,!0).line;return e}function Jt(e){var t;while(t=Ut(e))e=t.find(1,!0).line;return e}function Qt(e){var t,n;while(t=Ut(e))e=t.find(1,!0).line,(n||(n=[])).push(e);return n}function en(e,t){var n=Xe(e,t),r=Yt(n);return n==r?t:et(r)}function tn(e,t){if(t>e.lastLine())return t;var n,r=Xe(e,t);if(!nn(e,r))return t;while(n=Ut(r))r=n.find(1,!0).line;return et(r)+1}function nn(e,t){var n=Et&&t.markedSpans;if(n)for(var r=void 0,i=0;i<n.length;++i)if(r=n[i],r.marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&rn(e,t,r))return!0}}function rn(e,t,n){if(null==n.to){var r=n.marker.find(1,!0);return rn(e,r.line,Lt(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var i=void 0,o=0;o<t.markedSpans.length;++o)if(i=t.markedSpans[o],i.marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(null==i.to||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&rn(e,t,i))return!0}function on(e){e=Yt(e);for(var t=0,n=e.parent,r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==e)break;t+=i.height}for(var o=n.parent;o;n=o,o=n.parent)for(var a=0;a<o.children.length;++a){var s=o.children[a];if(s==n)break;t+=s.height}return t}function an(e){if(0==e.height)return 0;var t,n=e.text.length,r=e;while(t=Zt(r)){var i=t.find(0,!0);r=i.from.line,n+=i.from.ch-i.to.ch}r=e;while(t=Ut(r)){var o=t.find(0,!0);n-=r.text.length-o.from.ch,r=o.to.line,n+=r.text.length-o.to.ch}return n}function sn(e){var t=e.display,n=e.doc;t.maxLine=Xe(n,n.first),t.maxLineLength=an(t.maxLine),t.maxLineChanged=!0,n.iter((function(e){var n=an(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)}))}var ln=function(e,t,n){this.text=e,$t(this,t),this.height=n?n(this):1};function cn(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),zt(e),$t(e,n);var i=r?r(e):1;i!=e.height&&Qe(e,i)}function un(e){e.parent=null,zt(e)}ln.prototype.lineNo=function(){return et(this)},we(ln);var dn={},fn={};function hn(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?fn:dn;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function pn(e,t){var n=O("span",null,null,l?"padding-right: .1px":null),r={pre:O("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var o=i?t.rest[i-1]:t.line,a=void 0;r.pos=0,r.addToken=gn,Ne(e.display.measure)&&(a=fe(o,e.doc.direction))&&(r.addToken=bn(r.addToken,a)),r.map=[];var s=t!=e.display.externalMeasured&&et(o);Cn(o,r,vt(e,o,s)),o.styleClasses&&(o.styleClasses.bgClass&&(r.bgClass=D(o.styleClasses.bgClass,r.bgClass||"")),o.styleClasses.textClass&&(r.textClass=D(o.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(Re(e.display.measure))),0==i?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(l){var c=r.content.lastChild;(/\bcm-tab\b/.test(c.className)||c.querySelector&&c.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return ve(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=D(r.pre.className,r.textClass||"")),r}function mn(e){var t=E("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function gn(e,t,n,r,i,o,l){if(t){var c,u=e.splitSpaces?vn(t,e.trailingSpace):t,d=e.cm.state.specialChars,f=!1;if(d.test(t)){c=document.createDocumentFragment();var h=0;while(1){d.lastIndex=h;var p=d.exec(t),m=p?p.index-h:t.length-h;if(m){var g=document.createTextNode(u.slice(h,h+m));a&&s<9?c.appendChild(E("span",[g])):c.appendChild(g),e.map.push(e.pos,e.pos+m,g),e.col+=m,e.pos+=m}if(!p)break;h+=m+1;var v=void 0;if("\t"==p[0]){var b=e.cm.options.tabSize,y=b-e.col%b;v=c.appendChild(E("span",U(y),"cm-tab")),v.setAttribute("role","presentation"),v.setAttribute("cm-text","\t"),e.col+=y}else"\r"==p[0]||"\n"==p[0]?(v=c.appendChild(E("span","\r"==p[0]?"␍":"␤","cm-invalidchar")),v.setAttribute("cm-text",p[0]),e.col+=1):(v=e.cm.options.specialCharPlaceholder(p[0]),v.setAttribute("cm-text",p[0]),a&&s<9?c.appendChild(E("span",[v])):c.appendChild(v),e.col+=1);e.map.push(e.pos,e.pos+1,v),e.pos++}}else e.col+=t.length,c=document.createTextNode(u),e.map.push(e.pos,e.pos+t.length,c),a&&s<9&&(f=!0),e.pos+=t.length;if(e.trailingSpace=32==u.charCodeAt(t.length-1),n||r||i||f||o){var C=n||"";r&&(C+=r),i&&(C+=i);var w=E("span",[c],C,o);if(l)for(var x in l)l.hasOwnProperty(x)&&"style"!=x&&"class"!=x&&w.setAttribute(x,l[x]);return e.content.appendChild(w)}e.content.appendChild(c)}}function vn(e,t){if(e.length>1&&!/  /.test(e))return e;for(var n=t,r="",i=0;i<e.length;i++){var o=e.charAt(i);" "!=o||!n||i!=e.length-1&&32!=e.charCodeAt(i+1)||(o=" "),r+=o,n=" "==o}return r}function bn(e,t){return function(n,r,i,o,a,s,l){i=i?i+" cm-force-border":"cm-force-border";for(var c=n.pos,u=c+r.length;;){for(var d=void 0,f=0;f<t.length;f++)if(d=t[f],d.to>c&&d.from<=c)break;if(d.to>=u)return e(n,r,i,o,a,s,l);e(n,r.slice(0,d.to-c),i,o,null,s,l),o=null,r=r.slice(d.to-c),c=d.to}}}function yn(e,t,n,r){var i=!r&&n.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!r&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",n.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t,e.trailingSpace=!1}function Cn(e,t,n){var r=e.markedSpans,i=e.text,o=0;if(r)for(var a,s,l,c,u,d,f,h=i.length,p=0,m=1,g="",v=0;;){if(v==p){l=c=u=s="",f=null,d=null,v=1/0;for(var b=[],y=void 0,C=0;C<r.length;++C){var w=r[C],x=w.marker;if("bookmark"==x.type&&w.from==p&&x.widgetNode)b.push(x);else if(w.from<=p&&(null==w.to||w.to>p||x.collapsed&&w.to==p&&w.from==p)){if(null!=w.to&&w.to!=p&&v>w.to&&(v=w.to,c=""),x.className&&(l+=" "+x.className),x.css&&(s=(s?s+";":"")+x.css),x.startStyle&&w.from==p&&(u+=" "+x.startStyle),x.endStyle&&w.to==v&&(y||(y=[])).push(x.endStyle,w.to),x.title&&((f||(f={})).title=x.title),x.attributes)for(var I in x.attributes)(f||(f={}))[I]=x.attributes[I];x.collapsed&&(!d||Kt(d.marker,x)<0)&&(d=w)}else w.from>p&&v>w.from&&(v=w.from)}if(y)for(var A=0;A<y.length;A+=2)y[A+1]==v&&(c+=" "+y[A]);if(!d||d.from==p)for(var k=0;k<b.length;++k)yn(t,0,b[k]);if(d&&(d.from||0)==p){if(yn(t,(null==d.to?h+1:d.to)-p,d.marker,null==d.from),null==d.to)return;d.to==p&&(d=!1)}}if(p>=h)break;var S=Math.min(h,v);while(1){if(g){var _=p+g.length;if(!d){var T=_>S?g.slice(0,S-p):g;t.addToken(t,T,a?a+l:l,u,p+T.length==v?c:"",s,f)}if(_>=S){g=g.slice(S-p),p=S;break}p=_,u=""}g=i.slice(o,o=n[m++]),a=hn(n[m++],t.cm.options)}}else for(var E=1;E<n.length;E+=2)t.addToken(t,i.slice(o,o=n[E]),hn(n[E+1],t.cm.options))}function wn(e,t,n){this.line=t,this.rest=Qt(t),this.size=this.rest?et(q(this.rest))-n+1:1,this.node=this.text=null,this.hidden=nn(e,t)}function xn(e,t,n){for(var r,i=[],o=t;o<n;o=r){var a=new wn(e.doc,Xe(e.doc,o),o);r=o+a.size,i.push(a)}return i}var In=null;function An(e){In?In.ops.push(e):e.ownsGroup=In={ops:[e],delayedCallbacks:[]}}function kn(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var r=0;r<e.ops.length;r++){var i=e.ops[r];if(i.cursorActivityHandlers)while(i.cursorActivityCalled<i.cursorActivityHandlers.length)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(n<t.length)}function Sn(e,t){var n=e.ownsGroup;if(n)try{kn(n)}finally{In=null,t(n)}}var _n=null;function Tn(e,t){var n=me(e,t);if(n.length){var r,i=Array.prototype.slice.call(arguments,2);In?r=In.delayedCallbacks:_n?r=_n:(r=_n=[],setTimeout(En,0));for(var o=function(e){r.push((function(){return n[e].apply(null,i)}))},a=0;a<n.length;++a)o(a)}}function En(){var e=_n;_n=null;for(var t=0;t<e.length;++t)e[t]()}function On(e,t,n,r){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];"text"==o?Dn(e,t):"gutter"==o?Mn(e,t,n,r):"class"==o?Bn(e,t):"widget"==o&&Pn(e,t,r)}t.changes=null}function Rn(e){return e.node==e.text&&(e.node=E("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),a&&s<8&&(e.node.style.zIndex=2)),e.node}function Nn(e,t){var n=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),t.background)n?t.background.className=n:(t.background.parentNode.removeChild(t.background),t.background=null);else if(n){var r=Rn(t);t.background=r.insertBefore(E("div",null,n),r.firstChild),e.display.input.setUneditable(t.background)}}function Ln(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):pn(e,t)}function Dn(e,t){var n=t.text.className,r=Ln(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,Bn(e,t)):n&&(t.text.className=n)}function Bn(e,t){Nn(e,t),t.line.wrapClass?Rn(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var n=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=n||""}function Mn(e,t,n,r){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var i=Rn(t);t.gutterBackground=E("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),i.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){var a=Rn(t),s=t.gutter=E("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(e.display.input.setUneditable(s),a.insertBefore(s,t.text),t.line.gutterClass&&(s.className+=" "+t.line.gutterClass),!e.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(t.lineNumber=s.appendChild(E("div",rt(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),o)for(var l=0;l<e.display.gutterSpecs.length;++l){var c=e.display.gutterSpecs[l].className,u=o.hasOwnProperty(c)&&o[c];u&&s.appendChild(E("div",[u],"CodeMirror-gutter-elt","left: "+r.gutterLeft[c]+"px; width: "+r.gutterWidth[c]+"px"))}}}function Pn(e,t,n){t.alignable&&(t.alignable=null);for(var r=A("CodeMirror-linewidget"),i=t.node.firstChild,o=void 0;i;i=o)o=i.nextSibling,r.test(i.className)&&t.node.removeChild(i);jn(e,t,n)}function Fn(e,t,n,r){var i=Ln(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),Bn(e,t),Mn(e,t,n,r),jn(e,t,r),t.node}function jn(e,t,n){if(Hn(e,t.line,t,n,!0),t.rest)for(var r=0;r<t.rest.length;r++)Hn(e,t.rest[r],t,n,!1)}function Hn(e,t,n,r,i){if(t.widgets)for(var o=Rn(n),a=0,s=t.widgets;a<s.length;++a){var l=s[a],c=E("div",[l.node],"CodeMirror-linewidget"+(l.className?" "+l.className:""));l.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),zn(l,c,n,r),e.display.input.setUneditable(c),i&&l.above?o.insertBefore(c,n.gutter||n.text):o.appendChild(c),Tn(l,"redraw")}}function zn(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var i=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(i-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function $n(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!R(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),T(t.display.measure,E("div",[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}function Vn(e,t){for(var n=Se(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function Wn(e){return e.lineSpace.offsetTop}function Kn(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Gn(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=T(e.measure,E("pre","x","CodeMirror-line-like")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(e.cachedPaddingH=r),r}function Zn(e){return z-e.display.nativeBarWidth}function Un(e){return e.display.scroller.clientWidth-Zn(e)-e.display.barWidth}function qn(e){return e.display.scroller.clientHeight-Zn(e)-e.display.barHeight}function Xn(e,t,n){var r=e.options.lineWrapping,i=r&&Un(e);if(!t.measure.heights||r&&t.measure.width!=i){var o=t.measure.heights=[];if(r){t.measure.width=i;for(var a=t.text.firstChild.getClientRects(),s=0;s<a.length-1;s++){var l=a[s],c=a[s+1];Math.abs(l.bottom-c.bottom)>2&&o.push((l.bottom+c.top)/2-n.top)}}o.push(n.bottom-n.top)}}function Yn(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var i=0;i<e.rest.length;i++)if(et(e.rest[i])>n)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}function Jn(e,t){t=Yt(t);var n=et(t),r=e.display.externalMeasured=new wn(e.doc,t,n);r.lineN=n;var i=r.built=pn(e,r);return r.text=i.pre,T(e.display.lineMeasure,i.pre),r}function Qn(e,t,n,r){return nr(e,tr(e,t),n,r)}function er(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Br(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function tr(e,t){var n=et(t),r=er(e,n);r&&!r.text?r=null:r&&r.changes&&(On(e,r,n,Or(e)),e.curOp.forceUpdate=!0),r||(r=Jn(e,t));var i=Yn(r,t,n);return{line:t,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function nr(e,t,n,r,i){t.before&&(n=-1);var o,a=n+(r||"");return t.cache.hasOwnProperty(a)?o=t.cache[a]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Xn(e,t.view,t.rect),t.hasHeights=!0),o=sr(e,t,n,r),o.bogus||(t.cache[a]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}var rr,ir={left:0,right:0,top:0,bottom:0};function or(e,t,n){for(var r,i,o,a,s,l,c=0;c<e.length;c+=3)if(s=e[c],l=e[c+1],t<s?(i=0,o=1,a="left"):t<l?(i=t-s,o=i+1):(c==e.length-3||t==l&&e[c+3]>t)&&(o=l-s,i=o-1,t>=l&&(a="right")),null!=i){if(r=e[c+2],s==l&&n==(r.insertLeft?"left":"right")&&(a=n),"left"==n&&0==i)while(c&&e[c-2]==e[c-3]&&e[c-1].insertLeft)r=e[2+(c-=3)],a="left";if("right"==n&&i==l-s)while(c<e.length-3&&e[c+3]==e[c+4]&&!e[c+5].insertLeft)r=e[(c+=3)+2],a="right";break}return{node:r,start:i,end:o,collapse:a,coverStart:s,coverEnd:l}}function ar(e,t){var n=ir;if("left"==t){for(var r=0;r<e.length;r++)if((n=e[r]).left!=n.right)break}else for(var i=e.length-1;i>=0;i--)if((n=e[i]).left!=n.right)break;return n}function sr(e,t,n,r){var i,o=or(t.map,n,r),l=o.node,c=o.start,u=o.end,d=o.collapse;if(3==l.nodeType){for(var f=0;f<4;f++){while(c&&oe(t.line.text.charAt(o.coverStart+c)))--c;while(o.coverStart+u<o.coverEnd&&oe(t.line.text.charAt(o.coverStart+u)))++u;if(i=a&&s<9&&0==c&&u==o.coverEnd-o.coverStart?l.parentNode.getBoundingClientRect():ar(k(l,c,u).getClientRects(),r),i.left||i.right||0==c)break;u=c,c-=1,d="right"}a&&s<11&&(i=lr(e.display.measure,i))}else{var h;c>0&&(d=r="right"),i=e.options.lineWrapping&&(h=l.getClientRects()).length>1?h["right"==r?h.length-1:0]:l.getBoundingClientRect()}if(a&&s<9&&!c&&(!i||!i.left&&!i.right)){var p=l.parentNode.getClientRects()[0];i=p?{left:p.left,right:p.left+Er(e.display),top:p.top,bottom:p.bottom}:ir}for(var m=i.top-t.rect.top,g=i.bottom-t.rect.top,v=(m+g)/2,b=t.view.measure.heights,y=0;y<b.length-1;y++)if(v<b[y])break;var C=y?b[y-1]:0,w=b[y],x={left:("right"==d?i.right:i.left)-t.rect.left,right:("left"==d?i.left:i.right)-t.rect.left,top:C,bottom:w};return i.left||i.right||(x.bogus=!0),e.options.singleCursorHeightPerLine||(x.rtop=m,x.rbottom=g),x}function lr(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Pe(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*r,bottom:t.bottom*r}}function cr(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function ur(e){e.display.externalMeasure=null,_(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)cr(e.display.view[t])}function dr(e){ur(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function fr(){return u&&g?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function hr(){return u&&g?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function pr(e){var t=0;if(e.widgets)for(var n=0;n<e.widgets.length;++n)e.widgets[n].above&&(t+=$n(e.widgets[n]));return t}function mr(e,t,n,r,i){if(!i){var o=pr(t);n.top+=o,n.bottom+=o}if("line"==r)return n;r||(r="local");var a=on(t);if("local"==r?a+=Wn(e.display):a-=e.display.viewOffset,"page"==r||"window"==r){var s=e.display.lineSpace.getBoundingClientRect();a+=s.top+("window"==r?0:hr());var l=s.left+("window"==r?0:fr());n.left+=l,n.right+=l}return n.top+=a,n.bottom+=a,n}function gr(e,t,n){if("div"==n)return t;var r=t.left,i=t.top;if("page"==n)r-=fr(),i-=hr();else if("local"==n||!n){var o=e.display.sizer.getBoundingClientRect();r+=o.left,i+=o.top}var a=e.display.lineSpace.getBoundingClientRect();return{left:r-a.left,top:i-a.top}}function vr(e,t,n,r,i){return r||(r=Xe(e.doc,t.line)),mr(e,r,Qn(e,r,t.ch,i),n)}function br(e,t,n,r,i,o){function a(t,a){var s=nr(e,i,t,a?"right":"left",o);return a?s.left=s.right:s.right=s.left,mr(e,r,s,n)}r=r||Xe(e.doc,t.line),i||(i=tr(e,r));var s=fe(r,e.doc.direction),l=t.ch,c=t.sticky;if(l>=r.text.length?(l=r.text.length,c="before"):l<=0&&(l=0,c="after"),!s)return a("before"==c?l-1:l,"before"==c);function u(e,t,n){var r=s[t],i=1==r.level;return a(n?e-1:e,i!=n)}var d=ue(s,l,c),f=ce,h=u(l,d,"before"==c);return null!=f&&(h.other=u(l,f,"before"!=c)),h}function yr(e,t){var n=0;t=dt(e.doc,t),e.options.lineWrapping||(n=Er(e.display)*t.ch);var r=Xe(e.doc,t.line),i=on(r)+Wn(e.display);return{left:n,right:n,top:i,bottom:i+r.height}}function Cr(e,t,n,r,i){var o=it(e,t,n);return o.xRel=i,r&&(o.outside=r),o}function wr(e,t,n){var r=e.doc;if(n+=e.display.viewOffset,n<0)return Cr(r.first,0,null,-1,-1);var i=tt(r,n),o=r.first+r.size-1;if(i>o)return Cr(r.first+r.size-1,Xe(r,o).text.length,null,1,1);t<0&&(t=0);for(var a=Xe(r,i);;){var s=kr(e,a,i,t,n),l=qt(a,s.ch+(s.xRel>0||s.outside>0?1:0));if(!l)return s;var c=l.find(1);if(c.line==i)return c;a=Xe(r,i=c.line)}}function xr(e,t,n,r){r-=pr(t);var i=t.text.length,o=se((function(t){return nr(e,n,t-1).bottom<=r}),i,0);return i=se((function(t){return nr(e,n,t).top>r}),o,i),{begin:o,end:i}}function Ir(e,t,n,r){n||(n=tr(e,t));var i=mr(e,t,nr(e,n,r),"line").top;return xr(e,t,n,i)}function Ar(e,t,n,r){return!(e.bottom<=n)&&(e.top>n||(r?e.left:e.right)>t)}function kr(e,t,n,r,i){i-=on(t);var o=tr(e,t),a=pr(t),s=0,l=t.text.length,c=!0,u=fe(t,e.doc.direction);if(u){var d=(e.options.lineWrapping?_r:Sr)(e,t,n,o,u,r,i);c=1!=d.level,s=c?d.from:d.to-1,l=c?d.to:d.from-1}var f,h,p=null,m=null,g=se((function(t){var n=nr(e,o,t);return n.top+=a,n.bottom+=a,!!Ar(n,r,i,!1)&&(n.top<=i&&n.left<=r&&(p=t,m=n),!0)}),s,l),v=!1;if(m){var b=r-m.left<m.right-r,y=b==c;g=p+(y?0:1),h=y?"after":"before",f=b?m.left:m.right}else{c||g!=l&&g!=s||g++,h=0==g?"after":g==t.text.length?"before":nr(e,o,g-(c?1:0)).bottom+a<=i==c?"after":"before";var C=br(e,it(n,g,h),"line",t,o);f=C.left,v=i<C.top?-1:i>=C.bottom?1:0}return g=ae(t.text,g,1),Cr(n,g,h,v,r-f)}function Sr(e,t,n,r,i,o,a){var s=se((function(s){var l=i[s],c=1!=l.level;return Ar(br(e,it(n,c?l.to:l.from,c?"before":"after"),"line",t,r),o,a,!0)}),0,i.length-1),l=i[s];if(s>0){var c=1!=l.level,u=br(e,it(n,c?l.from:l.to,c?"after":"before"),"line",t,r);Ar(u,o,a,!0)&&u.top>a&&(l=i[s-1])}return l}function _r(e,t,n,r,i,o,a){var s=xr(e,t,r,a),l=s.begin,c=s.end;/\s/.test(t.text.charAt(c-1))&&c--;for(var u=null,d=null,f=0;f<i.length;f++){var h=i[f];if(!(h.from>=c||h.to<=l)){var p=1!=h.level,m=nr(e,r,p?Math.min(c,h.to)-1:Math.max(l,h.from)).right,g=m<o?o-m+1e9:m-o;(!u||d>g)&&(u=h,d=g)}}return u||(u=i[i.length-1]),u.from<l&&(u={from:l,to:u.to,level:u.level}),u.to>c&&(u={from:u.from,to:c,level:u.level}),u}function Tr(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==rr){rr=E("pre",null,"CodeMirror-line-like");for(var t=0;t<49;++t)rr.appendChild(document.createTextNode("x")),rr.appendChild(E("br"));rr.appendChild(document.createTextNode("x"))}T(e.measure,rr);var n=rr.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),_(e.measure),n||1}function Er(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=E("span","xxxxxxxxxx"),n=E("pre",[t],"CodeMirror-line-like");T(e.measure,n);var r=t.getBoundingClientRect(),i=(r.right-r.left)/10;return i>2&&(e.cachedCharWidth=i),i||10}function Or(e){for(var t=e.display,n={},r={},i=t.gutters.clientLeft,o=t.gutters.firstChild,a=0;o;o=o.nextSibling,++a){var s=e.display.gutterSpecs[a].className;n[s]=o.offsetLeft+o.clientLeft+i,r[s]=o.clientWidth}return{fixedPos:Rr(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function Rr(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function Nr(e){var t=Tr(e.display),n=e.options.lineWrapping,r=n&&Math.max(5,e.display.scroller.clientWidth/Er(e.display)-3);return function(i){if(nn(e.doc,i))return 0;var o=0;if(i.widgets)for(var a=0;a<i.widgets.length;a++)i.widgets[a].height&&(o+=i.widgets[a].height);return n?o+(Math.ceil(i.text.length/r)||1)*t:o+t}}function Lr(e){var t=e.doc,n=Nr(e);t.iter((function(e){var t=n(e);t!=e.height&&Qe(e,t)}))}function Dr(e,t,n,r){var i=e.display;if(!n&&"true"==Se(t).getAttribute("cm-not-content"))return null;var o,a,s=i.lineSpace.getBoundingClientRect();try{o=t.clientX-s.left,a=t.clientY-s.top}catch(d){return null}var l,c=wr(e,o,a);if(r&&c.xRel>0&&(l=Xe(e.doc,c.line).text).length==c.ch){var u=F(l,l.length,e.options.tabSize)-l.length;c=it(c.line,Math.max(0,Math.round((o-Gn(e.display).left)/Er(e.display))-u))}return c}function Br(e,t){if(t>=e.display.viewTo)return null;if(t-=e.display.viewFrom,t<0)return null;for(var n=e.display.view,r=0;r<n.length;r++)if(t-=n[r].size,t<0)return r}function Mr(e,t,n,r){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),r||(r=0);var i=e.display;if(r&&n<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)Et&&en(e.doc,t)<i.viewTo&&Fr(e);else if(n<=i.viewFrom)Et&&tn(e.doc,n+r)>i.viewFrom?Fr(e):(i.viewFrom+=r,i.viewTo+=r);else if(t<=i.viewFrom&&n>=i.viewTo)Fr(e);else if(t<=i.viewFrom){var o=jr(e,n,n+r,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=r):Fr(e)}else if(n>=i.viewTo){var a=jr(e,t,t,-1);a?(i.view=i.view.slice(0,a.index),i.viewTo=a.lineN):Fr(e)}else{var s=jr(e,t,t,-1),l=jr(e,n,n+r,1);s&&l?(i.view=i.view.slice(0,s.index).concat(xn(e,s.lineN,l.lineN)).concat(i.view.slice(l.index)),i.viewTo+=r):Fr(e)}var c=i.externalMeasured;c&&(n<c.lineN?c.lineN+=r:t<c.lineN+c.size&&(i.externalMeasured=null))}function Pr(e,t,n){e.curOp.viewChanged=!0;var r=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var o=r.view[Br(e,t)];if(null!=o.node){var a=o.changes||(o.changes=[]);-1==H(a,n)&&a.push(n)}}}function Fr(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function jr(e,t,n,r){var i,o=Br(e,t),a=e.display.view;if(!Et||n==e.doc.first+e.doc.size)return{index:o,lineN:n};for(var s=e.display.viewFrom,l=0;l<o;l++)s+=a[l].size;if(s!=t){if(r>0){if(o==a.length-1)return null;i=s+a[o].size-t,o++}else i=s-t;t+=i,n+=i}while(en(e.doc,n)!=n){if(o==(r<0?0:a.length-1))return null;n+=r*a[o-(r<0?1:0)].size,o+=r}return{index:o,lineN:n}}function Hr(e,t,n){var r=e.display,i=r.view;0==i.length||t>=r.viewTo||n<=r.viewFrom?(r.view=xn(e,t,n),r.viewFrom=t):(r.viewFrom>t?r.view=xn(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(Br(e,t))),r.viewFrom=t,r.viewTo<n?r.view=r.view.concat(xn(e,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,Br(e,n)))),r.viewTo=n}function zr(e){for(var t=e.display.view,n=0,r=0;r<t.length;r++){var i=t[r];i.hidden||i.node&&!i.changes||++n}return n}function $r(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Vr(e,t){void 0===t&&(t=!0);for(var n=e.doc,r={},i=r.cursors=document.createDocumentFragment(),o=r.selection=document.createDocumentFragment(),a=0;a<n.sel.ranges.length;a++)if(t||a!=n.sel.primIndex){var s=n.sel.ranges[a];if(!(s.from().line>=e.display.viewTo||s.to().line<e.display.viewFrom)){var l=s.empty();(l||e.options.showCursorWhenSelecting)&&Wr(e,s.head,i),l||Gr(e,s,o)}}return r}function Wr(e,t,n){var r=br(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),i=n.appendChild(E("div"," ","CodeMirror-cursor"));if(i.style.left=r.left+"px",i.style.top=r.top+"px",i.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px",r.other){var o=n.appendChild(E("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=r.other.left+"px",o.style.top=r.other.top+"px",o.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function Kr(e,t){return e.top-t.top||e.left-t.left}function Gr(e,t,n){var r=e.display,i=e.doc,o=document.createDocumentFragment(),a=Gn(e.display),s=a.left,l=Math.max(r.sizerWidth,Un(e)-r.sizer.offsetLeft)-a.right,c="ltr"==i.direction;function u(e,t,n,r){t<0&&(t=0),t=Math.round(t),r=Math.round(r),o.appendChild(E("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==n?l-e:n)+"px;\n                             height: "+(r-t)+"px"))}function d(t,n,r){var o,a,d=Xe(i,t),f=d.text.length;function h(n,r){return vr(e,it(t,n),"div",d,r)}function p(t,n,r){var i=Ir(e,d,null,t),o="ltr"==n==("after"==r)?"left":"right",a="after"==r?i.begin:i.end-(/\s/.test(d.text.charAt(i.end-1))?2:1);return h(a,o)[o]}var m=fe(d,i.direction);return le(m,n||0,null==r?f:r,(function(e,t,i,d){var g="ltr"==i,v=h(e,g?"left":"right"),b=h(t-1,g?"right":"left"),y=null==n&&0==e,C=null==r&&t==f,w=0==d,x=!m||d==m.length-1;if(b.top-v.top<=3){var I=(c?y:C)&&w,A=(c?C:y)&&x,k=I?s:(g?v:b).left,S=A?l:(g?b:v).right;u(k,v.top,S-k,v.bottom)}else{var _,T,E,O;g?(_=c&&y&&w?s:v.left,T=c?l:p(e,i,"before"),E=c?s:p(t,i,"after"),O=c&&C&&x?l:b.right):(_=c?p(e,i,"before"):s,T=!c&&y&&w?l:v.right,E=!c&&C&&x?s:b.left,O=c?p(t,i,"after"):l),u(_,v.top,T-_,v.bottom),v.bottom<b.top&&u(s,v.bottom,null,b.top),u(E,b.top,O-E,b.bottom)}(!o||Kr(v,o)<0)&&(o=v),Kr(b,o)<0&&(o=b),(!a||Kr(v,a)<0)&&(a=v),Kr(b,a)<0&&(a=b)})),{start:o,end:a}}var f=t.from(),h=t.to();if(f.line==h.line)d(f.line,f.ch,h.ch);else{var p=Xe(i,f.line),m=Xe(i,h.line),g=Yt(p)==Yt(m),v=d(f.line,f.ch,g?p.text.length+1:null).end,b=d(h.line,g?0:null,h.ch).start;g&&(v.top<b.top-2?(u(v.right,v.top,null,v.bottom),u(s,b.top,b.left,b.bottom)):u(v.right,v.top,b.left-v.right,v.bottom)),v.bottom<b.top&&u(s,v.bottom,null,b.top)}n.appendChild(o)}function Zr(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval((function(){return t.cursorDiv.style.visibility=(n=!n)?"":"hidden"}),e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Ur(e){e.state.focused||(e.display.input.focus(),Xr(e))}function qr(e){e.state.delayingBlurEvent=!0,setTimeout((function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,Yr(e))}),100)}function Xr(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(ve(e,"focus",e,t),e.state.focused=!0,L(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),l&&setTimeout((function(){return e.display.input.reset(!0)}),20)),e.display.input.receivedFocus()),Zr(e))}function Yr(e,t){e.state.delayingBlurEvent||(e.state.focused&&(ve(e,"blur",e,t),e.state.focused=!1,S(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout((function(){e.state.focused||(e.display.shift=!1)}),150))}function Jr(e){for(var t=e.display,n=t.lineDiv.offsetTop,r=0;r<t.view.length;r++){var i=t.view[r],o=e.options.lineWrapping,l=void 0,c=0;if(!i.hidden){if(a&&s<8){var u=i.node.offsetTop+i.node.offsetHeight;l=u-n,n=u}else{var d=i.node.getBoundingClientRect();l=d.bottom-d.top,!o&&i.text.firstChild&&(c=i.text.firstChild.getBoundingClientRect().right-d.left-1)}var f=i.line.height-l;if((f>.005||f<-.005)&&(Qe(i.line,l),Qr(i.line),i.rest))for(var h=0;h<i.rest.length;h++)Qr(i.rest[h]);if(c>e.display.sizerWidth){var p=Math.ceil(c/Er(e.display));p>e.display.maxLineLength&&(e.display.maxLineLength=p,e.display.maxLine=i.line,e.display.maxLineChanged=!0)}}}}function Qr(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var n=e.widgets[t],r=n.node.parentNode;r&&(n.height=r.offsetHeight)}}function ei(e,t,n){var r=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-Wn(e));var i=n&&null!=n.bottom?n.bottom:r+e.wrapper.clientHeight,o=tt(t,r),a=tt(t,i);if(n&&n.ensure){var s=n.ensure.from.line,l=n.ensure.to.line;s<o?(o=s,a=tt(t,on(Xe(t,s))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=a&&(o=tt(t,on(Xe(t,l))-e.wrapper.clientHeight),a=l)}return{from:o,to:Math.max(a,o+1)}}function ti(e,t){if(!be(e,"scrollCursorIntoView")){var n=e.display,r=n.sizer.getBoundingClientRect(),i=null;if(t.top+r.top<0?i=!0:t.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!p){var o=E("div","​",null,"position: absolute;\n                         top: "+(t.top-n.viewOffset-Wn(e.display))+"px;\n                         height: "+(t.bottom-t.top+Zn(e)+n.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(i),e.display.lineSpace.removeChild(o)}}}function ni(e,t,n,r){var i;null==r&&(r=0),e.options.lineWrapping||t!=n||(t=t.ch?it(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t,n="before"==t.sticky?it(t.line,t.ch+1,"before"):t);for(var o=0;o<5;o++){var a=!1,s=br(e,t),l=n&&n!=t?br(e,n):s;i={left:Math.min(s.left,l.left),top:Math.min(s.top,l.top)-r,right:Math.max(s.left,l.left),bottom:Math.max(s.bottom,l.bottom)+r};var c=ii(e,i),u=e.doc.scrollTop,d=e.doc.scrollLeft;if(null!=c.scrollTop&&(di(e,c.scrollTop),Math.abs(e.doc.scrollTop-u)>1&&(a=!0)),null!=c.scrollLeft&&(hi(e,c.scrollLeft),Math.abs(e.doc.scrollLeft-d)>1&&(a=!0)),!a)break}return i}function ri(e,t){var n=ii(e,t);null!=n.scrollTop&&di(e,n.scrollTop),null!=n.scrollLeft&&hi(e,n.scrollLeft)}function ii(e,t){var n=e.display,r=Tr(e.display);t.top<0&&(t.top=0);var i=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:n.scroller.scrollTop,o=qn(e),a={};t.bottom-t.top>o&&(t.bottom=t.top+o);var s=e.doc.height+Kn(n),l=t.top<r,c=t.bottom>s-r;if(t.top<i)a.scrollTop=l?0:t.top;else if(t.bottom>i+o){var u=Math.min(t.top,(c?s:t.bottom)-o);u!=i&&(a.scrollTop=u)}var d=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:n.scroller.scrollLeft,f=Un(e)-(e.options.fixedGutter?n.gutters.offsetWidth:0),h=t.right-t.left>f;return h&&(t.right=t.left+f),t.left<10?a.scrollLeft=0:t.left<d?a.scrollLeft=Math.max(0,t.left-(h?0:10)):t.right>f+d-3&&(a.scrollLeft=t.right+(h?0:10)-f),a}function oi(e,t){null!=t&&(ci(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function ai(e){ci(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function si(e,t,n){null==t&&null==n||ci(e),null!=t&&(e.curOp.scrollLeft=t),null!=n&&(e.curOp.scrollTop=n)}function li(e,t){ci(e),e.curOp.scrollToPos=t}function ci(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var n=yr(e,t.from),r=yr(e,t.to);ui(e,n,r,t.margin)}}function ui(e,t,n,r){var i=ii(e,{left:Math.min(t.left,n.left),top:Math.min(t.top,n.top)-r,right:Math.max(t.right,n.right),bottom:Math.max(t.bottom,n.bottom)+r});si(e,i.scrollLeft,i.scrollTop)}function di(e,t){Math.abs(e.doc.scrollTop-t)<2||(n||$i(e,{top:t}),fi(e,t,!0),n&&$i(e),Di(e,100))}function fi(e,t,n){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),(e.display.scroller.scrollTop!=t||n)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function hi(e,t,n,r){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!r||(e.doc.scrollLeft=t,Gi(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function pi(e){var t=e.display,n=t.gutters.offsetWidth,r=Math.round(e.doc.height+Kn(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+Zn(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}var mi=function(e,t,n){this.cm=n;var r=this.vert=E("div",[E("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=E("div",[E("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");r.tabIndex=i.tabIndex=-1,e(r),e(i),pe(r,"scroll",(function(){r.clientHeight&&t(r.scrollTop,"vertical")})),pe(i,"scroll",(function(){i.clientWidth&&t(i.scrollLeft,"horizontal")})),this.checkedZeroWidth=!1,a&&s<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};mi.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?r+"px":"0";var i=e.viewHeight-(t?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(n?r:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:t?r:0}},mi.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},mi.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},mi.prototype.zeroWidthHack=function(){var e=b&&!h?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new j,this.disableVert=new j},mi.prototype.enableZeroWidthBar=function(e,t,n){function r(){var i=e.getBoundingClientRect(),o="vert"==n?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1);o!=e?e.style.pointerEvents="none":t.set(1e3,r)}e.style.pointerEvents="auto",t.set(1e3,r)},mi.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var gi=function(){};function vi(e,t){t||(t=pi(e));var n=e.display.barWidth,r=e.display.barHeight;bi(e,t);for(var i=0;i<4&&n!=e.display.barWidth||r!=e.display.barHeight;i++)n!=e.display.barWidth&&e.options.lineWrapping&&Jr(e),bi(e,pi(e)),n=e.display.barWidth,r=e.display.barHeight}function bi(e,t){var n=e.display,r=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}gi.prototype.update=function(){return{bottom:0,right:0}},gi.prototype.setScrollLeft=function(){},gi.prototype.setScrollTop=function(){},gi.prototype.clear=function(){};var yi={native:mi,null:gi};function Ci(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&S(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new yi[e.options.scrollbarStyle]((function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),pe(t,"mousedown",(function(){e.state.focused&&setTimeout((function(){return e.display.input.focus()}),0)})),t.setAttribute("cm-not-content","true")}),(function(t,n){"horizontal"==n?hi(e,t):di(e,t)}),e),e.display.scrollbars.addClass&&L(e.display.wrapper,e.display.scrollbars.addClass)}var wi=0;function xi(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++wi},An(e.curOp)}function Ii(e){var t=e.curOp;t&&Sn(t,(function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;Ai(e)}))}function Ai(e){for(var t=e.ops,n=0;n<t.length;n++)ki(t[n]);for(var r=0;r<t.length;r++)Si(t[r]);for(var i=0;i<t.length;i++)_i(t[i]);for(var o=0;o<t.length;o++)Ti(t[o]);for(var a=0;a<t.length;a++)Ei(t[a])}function ki(e){var t=e.cm,n=t.display;Pi(t),e.updateMaxLine&&sn(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new Mi(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Si(e){e.updatedDisplay=e.mustUpdate&&Hi(e.cm,e.update)}function _i(e){var t=e.cm,n=t.display;e.updatedDisplay&&Jr(t),e.barMeasure=pi(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Qn(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+Zn(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-Un(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function Ti(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&hi(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==N();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&vi(t,e.barMeasure),e.updatedDisplay&&Ki(t,e.barMeasure),e.selectionChanged&&Zr(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&Ur(e.cm)}function Ei(e){var t=e.cm,n=t.display,r=t.doc;if(e.updatedDisplay&&zi(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=e.scrollTop&&fi(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&hi(t,e.scrollLeft,!0,!0),e.scrollToPos){var i=ni(t,dt(r,e.scrollToPos.from),dt(r,e.scrollToPos.to),e.scrollToPos.margin);ti(t,i)}var o=e.maybeHiddenMarkers,a=e.maybeUnhiddenMarkers;if(o)for(var s=0;s<o.length;++s)o[s].lines.length||ve(o[s],"hide");if(a)for(var l=0;l<a.length;++l)a[l].lines.length&&ve(a[l],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&ve(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Oi(e,t){if(e.curOp)return t();xi(e);try{return t()}finally{Ii(e)}}function Ri(e,t){return function(){if(e.curOp)return t.apply(e,arguments);xi(e);try{return t.apply(e,arguments)}finally{Ii(e)}}}function Ni(e){return function(){if(this.curOp)return e.apply(this,arguments);xi(this);try{return e.apply(this,arguments)}finally{Ii(this)}}}function Li(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);xi(t);try{return e.apply(this,arguments)}finally{Ii(t)}}}function Di(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,M(Bi,e))}function Bi(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,r=bt(e,t.highlightFrontier),i=[];t.iter(r.line,Math.min(t.first+t.size,e.display.viewTo+500),(function(o){if(r.line>=e.display.viewFrom){var a=o.styles,s=o.text.length>e.options.maxHighlightLength?Ge(t.mode,r.state):null,l=gt(e,o,r,!0);s&&(r.state=s),o.styles=l.styles;var c=o.styleClasses,u=l.classes;u?o.styleClasses=u:c&&(o.styleClasses=null);for(var d=!a||a.length!=o.styles.length||c!=u&&(!c||!u||c.bgClass!=u.bgClass||c.textClass!=u.textClass),f=0;!d&&f<a.length;++f)d=a[f]!=o.styles[f];d&&i.push(r.line),o.stateAfter=r.save(),r.nextLine()}else o.text.length<=e.options.maxHighlightLength&&yt(e,o.text,r),o.stateAfter=r.line%5==0?r.save():null,r.nextLine();if(+new Date>n)return Di(e,e.options.workDelay),!0})),t.highlightFrontier=r.line,t.modeFrontier=Math.max(t.modeFrontier,r.line),i.length&&Oi(e,(function(){for(var t=0;t<i.length;t++)Pr(e,i[t],"text")}))}}var Mi=function(e,t,n){var r=e.display;this.viewport=t,this.visible=ei(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=Un(e),this.force=n,this.dims=Or(e),this.events=[]};function Pi(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Zn(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Zn(e)+"px",t.scrollbarsClipped=!0)}function Fi(e){if(e.hasFocus())return null;var t=N();if(!t||!R(e.display.lineDiv,t))return null;var n={activeElt:t};if(window.getSelection){var r=window.getSelection();r.anchorNode&&r.extend&&R(e.display.lineDiv,r.anchorNode)&&(n.anchorNode=r.anchorNode,n.anchorOffset=r.anchorOffset,n.focusNode=r.focusNode,n.focusOffset=r.focusOffset)}return n}function ji(e){if(e&&e.activeElt&&e.activeElt!=N()&&(e.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName)&&e.anchorNode&&R(document.body,e.anchorNode)&&R(document.body,e.focusNode))){var t=window.getSelection(),n=document.createRange();n.setEnd(e.anchorNode,e.anchorOffset),n.collapse(!1),t.removeAllRanges(),t.addRange(n),t.extend(e.focusNode,e.focusOffset)}}function Hi(e,t){var n=e.display,r=e.doc;if(t.editorIsHidden)return Fr(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==zr(e))return!1;Zi(e)&&(Fr(e),t.dims=Or(e));var i=r.first+r.size,o=Math.max(t.visible.from-e.options.viewportMargin,r.first),a=Math.min(i,t.visible.to+e.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(r.first,n.viewFrom)),n.viewTo>a&&n.viewTo-a<20&&(a=Math.min(i,n.viewTo)),Et&&(o=en(e.doc,o),a=tn(e.doc,a));var s=o!=n.viewFrom||a!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;Hr(e,o,a),n.viewOffset=on(Xe(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var l=zr(e);if(!s&&0==l&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var c=Fi(e);return l>4&&(n.lineDiv.style.display="none"),Vi(e,n.updateLineNumbers,t.dims),l>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,ji(c),_(n.cursorDiv),_(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,s&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,Di(e,400)),n.updateLineNumbers=null,!0}function zi(e,t){for(var n=t.viewport,r=!0;;r=!1){if(r&&e.options.lineWrapping&&t.oldDisplayWidth!=Un(e))r&&(t.visible=ei(e.display,e.doc,n));else if(n&&null!=n.top&&(n={top:Math.min(e.doc.height+Kn(e.display)-qn(e),n.top)}),t.visible=ei(e.display,e.doc,n),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break;if(!Hi(e,t))break;Jr(e);var i=pi(e);$r(e),vi(e,i),Ki(e,i),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function $i(e,t){var n=new Mi(e,t);if(Hi(e,n)){Jr(e),zi(e,n);var r=pi(e);$r(e),vi(e,r),Ki(e,r),n.finish()}}function Vi(e,t,n){var r=e.display,i=e.options.lineNumbers,o=r.lineDiv,a=o.firstChild;function s(t){var n=t.nextSibling;return l&&b&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var c=r.view,u=r.viewFrom,d=0;d<c.length;d++){var f=c[d];if(f.hidden);else if(f.node&&f.node.parentNode==o){while(a!=f.node)a=s(a);var h=i&&null!=t&&t<=u&&f.lineNumber;f.changes&&(H(f.changes,"gutter")>-1&&(h=!1),On(e,f,u,n)),h&&(_(f.lineNumber),f.lineNumber.appendChild(document.createTextNode(rt(e.options,u)))),a=f.node.nextSibling}else{var p=Fn(e,f,u,n);o.insertBefore(p,a)}u+=f.size}while(a)a=s(a)}function Wi(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px"}function Ki(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Zn(e)+"px"}function Gi(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var r=Rr(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=r+"px",a=0;a<n.length;a++)if(!n[a].hidden){e.options.fixedGutter&&(n[a].gutter&&(n[a].gutter.style.left=o),n[a].gutterBackground&&(n[a].gutterBackground.style.left=o));var s=n[a].alignable;if(s)for(var l=0;l<s.length;l++)s[l].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=r+i+"px")}}function Zi(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=rt(e.options,t.first+t.size-1),r=e.display;if(n.length!=r.lineNumChars){var i=r.measure.appendChild(E("div",[E("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,a=i.offsetWidth-o;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(o,r.lineGutter.offsetWidth-a)+1,r.lineNumWidth=r.lineNumInnerWidth+a,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",Wi(e.display),!0}return!1}function Ui(e,t){for(var n=[],r=!1,i=0;i<e.length;i++){var o=e[i],a=null;if("string"!=typeof o&&(a=o.style,o=o.className),"CodeMirror-linenumbers"==o){if(!t)continue;r=!0}n.push({className:o,style:a})}return t&&!r&&n.push({className:"CodeMirror-linenumbers",style:null}),n}function qi(e){var t=e.gutters,n=e.gutterSpecs;_(t),e.lineGutter=null;for(var r=0;r<n.length;++r){var i=n[r],o=i.className,a=i.style,s=t.appendChild(E("div",null,"CodeMirror-gutter "+o));a&&(s.style.cssText=a),"CodeMirror-linenumbers"==o&&(e.lineGutter=s,s.style.width=(e.lineNumWidth||1)+"px")}t.style.display=n.length?"":"none",Wi(e)}function Xi(e){qi(e.display),Mr(e),Gi(e)}function Yi(e,t,r,i){var o=this;this.input=r,o.scrollbarFiller=E("div",null,"CodeMirror-scrollbar-filler"),o.scrollbarFiller.setAttribute("cm-not-content","true"),o.gutterFiller=E("div",null,"CodeMirror-gutter-filler"),o.gutterFiller.setAttribute("cm-not-content","true"),o.lineDiv=O("div",null,"CodeMirror-code"),o.selectionDiv=E("div",null,null,"position: relative; z-index: 1"),o.cursorDiv=E("div",null,"CodeMirror-cursors"),o.measure=E("div",null,"CodeMirror-measure"),o.lineMeasure=E("div",null,"CodeMirror-measure"),o.lineSpace=O("div",[o.measure,o.lineMeasure,o.selectionDiv,o.cursorDiv,o.lineDiv],null,"position: relative; outline: none");var c=O("div",[o.lineSpace],"CodeMirror-lines");o.mover=E("div",[c],null,"position: relative"),o.sizer=E("div",[o.mover],"CodeMirror-sizer"),o.sizerWidth=null,o.heightForcer=E("div",null,null,"position: absolute; height: "+z+"px; width: 1px;"),o.gutters=E("div",null,"CodeMirror-gutters"),o.lineGutter=null,o.scroller=E("div",[o.sizer,o.heightForcer,o.gutters],"CodeMirror-scroll"),o.scroller.setAttribute("tabIndex","-1"),o.wrapper=E("div",[o.scrollbarFiller,o.gutterFiller,o.scroller],"CodeMirror"),a&&s<8&&(o.gutters.style.zIndex=-1,o.scroller.style.paddingRight=0),l||n&&v||(o.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(o.wrapper):e(o.wrapper)),o.viewFrom=o.viewTo=t.first,o.reportedViewFrom=o.reportedViewTo=t.first,o.view=[],o.renderedView=null,o.externalMeasured=null,o.viewOffset=0,o.lastWrapHeight=o.lastWrapWidth=0,o.updateLineNumbers=null,o.nativeBarWidth=o.barHeight=o.barWidth=0,o.scrollbarsClipped=!1,o.lineNumWidth=o.lineNumInnerWidth=o.lineNumChars=null,o.alignWidgets=!1,o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.maxLine=null,o.maxLineLength=0,o.maxLineChanged=!1,o.wheelDX=o.wheelDY=o.wheelStartX=o.wheelStartY=null,o.shift=!1,o.selForContextMenu=null,o.activeTouch=null,o.gutterSpecs=Ui(i.gutters,i.lineNumbers),qi(o),r.init(o)}Mi.prototype.signal=function(e,t){Ce(e,t)&&this.events.push(arguments)},Mi.prototype.finish=function(){for(var e=0;e<this.events.length;e++)ve.apply(null,this.events[e])};var Ji=0,Qi=null;function eo(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}}function to(e){var t=eo(e);return t.x*=Qi,t.y*=Qi,t}function no(e,t){var r=eo(t),i=r.x,o=r.y,a=e.display,s=a.scroller,c=s.scrollWidth>s.clientWidth,u=s.scrollHeight>s.clientHeight;if(i&&c||o&&u){if(o&&b&&l)e:for(var f=t.target,h=a.view;f!=s;f=f.parentNode)for(var p=0;p<h.length;p++)if(h[p].node==f){e.display.currentWheelTarget=f;break e}if(i&&!n&&!d&&null!=Qi)return o&&u&&di(e,Math.max(0,s.scrollTop+o*Qi)),hi(e,Math.max(0,s.scrollLeft+i*Qi)),(!o||o&&u)&&xe(t),void(a.wheelStartX=null);if(o&&null!=Qi){var m=o*Qi,g=e.doc.scrollTop,v=g+a.wrapper.clientHeight;m<0?g=Math.max(0,g+m-50):v=Math.min(e.doc.height,v+m+50),$i(e,{top:g,bottom:v})}Ji<20&&(null==a.wheelStartX?(a.wheelStartX=s.scrollLeft,a.wheelStartY=s.scrollTop,a.wheelDX=i,a.wheelDY=o,setTimeout((function(){if(null!=a.wheelStartX){var e=s.scrollLeft-a.wheelStartX,t=s.scrollTop-a.wheelStartY,n=t&&a.wheelDY&&t/a.wheelDY||e&&a.wheelDX&&e/a.wheelDX;a.wheelStartX=a.wheelStartY=null,n&&(Qi=(Qi*Ji+n)/(Ji+1),++Ji)}}),200)):(a.wheelDX+=i,a.wheelDY+=o))}}a?Qi=-.53:n?Qi=15:u?Qi=-.7:f&&(Qi=-1/3);var ro=function(e,t){this.ranges=e,this.primIndex=t};ro.prototype.primary=function(){return this.ranges[this.primIndex]},ro.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],r=e.ranges[t];if(!at(n.anchor,r.anchor)||!at(n.head,r.head))return!1}return!0},ro.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new io(st(this.ranges[t].anchor),st(this.ranges[t].head));return new ro(e,this.primIndex)},ro.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},ro.prototype.contains=function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(ot(t,r.from())>=0&&ot(e,r.to())<=0)return n}return-1};var io=function(e,t){this.anchor=e,this.head=t};function oo(e,t,n){var r=e&&e.options.selectionsMayTouch,i=t[n];t.sort((function(e,t){return ot(e.from(),t.from())})),n=H(t,i);for(var o=1;o<t.length;o++){var a=t[o],s=t[o-1],l=ot(s.to(),a.from());if(r&&!a.empty()?l>0:l>=0){var c=ct(s.from(),a.from()),u=lt(s.to(),a.to()),d=s.empty()?a.from()==a.head:s.from()==s.head;o<=n&&--n,t.splice(--o,2,new io(d?u:c,d?c:u))}}return new ro(t,n)}function ao(e,t){return new ro([new io(e,t||e)],0)}function so(e){return e.text?it(e.from.line+e.text.length-1,q(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function lo(e,t){if(ot(e,t.from)<0)return e;if(ot(e,t.to)<=0)return so(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=so(t).ch-t.to.ch),it(n,r)}function co(e,t){for(var n=[],r=0;r<e.sel.ranges.length;r++){var i=e.sel.ranges[r];n.push(new io(lo(i.anchor,t),lo(i.head,t)))}return oo(e.cm,n,e.sel.primIndex)}function uo(e,t,n){return e.line==t.line?it(n.line,e.ch-t.ch+n.ch):it(n.line+(e.line-t.line),e.ch)}function fo(e,t,n){for(var r=[],i=it(e.first,0),o=i,a=0;a<t.length;a++){var s=t[a],l=uo(s.from,i,o),c=uo(so(s),i,o);if(i=s.to,o=c,"around"==n){var u=e.sel.ranges[a],d=ot(u.head,u.anchor)<0;r[a]=new io(d?c:l,d?l:c)}else r[a]=new io(l,l)}return new ro(r,e.sel.primIndex)}function ho(e){e.doc.mode=Ve(e.options,e.doc.modeOption),po(e)}function po(e){e.doc.iter((function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)})),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,Di(e,100),e.state.modeGen++,e.curOp&&Mr(e)}function mo(e,t){return 0==t.from.ch&&0==t.to.ch&&""==q(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function go(e,t,n,r){function i(e){return n?n[e]:null}function o(e,n,i){cn(e,n,i,r),Tn(e,"change",e,t)}function a(e,t){for(var n=[],o=e;o<t;++o)n.push(new ln(c[o],i(o),r));return n}var s=t.from,l=t.to,c=t.text,u=Xe(e,s.line),d=Xe(e,l.line),f=q(c),h=i(c.length-1),p=l.line-s.line;if(t.full)e.insert(0,a(0,c.length)),e.remove(c.length,e.size-c.length);else if(mo(e,t)){var m=a(0,c.length-1);o(d,d.text,h),p&&e.remove(s.line,p),m.length&&e.insert(s.line,m)}else if(u==d)if(1==c.length)o(u,u.text.slice(0,s.ch)+f+u.text.slice(l.ch),h);else{var g=a(1,c.length-1);g.push(new ln(f+u.text.slice(l.ch),h,r)),o(u,u.text.slice(0,s.ch)+c[0],i(0)),e.insert(s.line+1,g)}else if(1==c.length)o(u,u.text.slice(0,s.ch)+c[0]+d.text.slice(l.ch),i(0)),e.remove(s.line+1,p);else{o(u,u.text.slice(0,s.ch)+c[0],i(0)),o(d,f+d.text.slice(l.ch),h);var v=a(1,c.length-1);p>1&&e.remove(s.line+1,p-1),e.insert(s.line+1,v)}Tn(e,"change",e,t)}function vo(e,t,n){function r(e,i,o){if(e.linked)for(var a=0;a<e.linked.length;++a){var s=e.linked[a];if(s.doc!=i){var l=o&&s.sharedHist;n&&!l||(t(s.doc,l),r(s.doc,e,l))}}}r(e,null,!0)}function bo(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,Lr(e),ho(e),yo(e),e.options.lineWrapping||sn(e),e.options.mode=t.modeOption,Mr(e)}function yo(e){("rtl"==e.doc.direction?L:S)(e.display.lineDiv,"CodeMirror-rtl")}function Co(e){Oi(e,(function(){yo(e),Mr(e)}))}function wo(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function xo(e,t){var n={from:st(t.from),to:so(t),text:Ye(e,t.from,t.to)};return Eo(e,n,t.from.line,t.to.line+1),vo(e,(function(e){return Eo(e,n,t.from.line,t.to.line+1)}),!0),n}function Io(e){while(e.length){var t=q(e);if(!t.ranges)break;e.pop()}}function Ao(e,t){return t?(Io(e.done),q(e.done)):e.done.length&&!q(e.done).ranges?q(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),q(e.done)):void 0}function ko(e,t,n,r){var i=e.history;i.undone.length=0;var o,a,s=+new Date;if((i.lastOp==r||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&i.lastModTime>s-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(o=Ao(i,i.lastOp==r)))a=q(o.changes),0==ot(t.from,t.to)&&0==ot(t.from,a.to)?a.to=so(t):o.changes.push(xo(e,t));else{var l=q(i.done);l&&l.ranges||To(e.sel,i.done),o={changes:[xo(e,t)],generation:i.generation},i.done.push(o);while(i.done.length>i.undoDepth)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=s,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=t.origin,a||ve(e,"historyAdded")}function So(e,t,n,r){var i=t.charAt(0);return"*"==i||"+"==i&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function _o(e,t,n,r){var i=e.history,o=r&&r.origin;n==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||So(e,o,q(i.done),t))?i.done[i.done.length-1]=t:To(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=n,r&&!1!==r.clearRedo&&Io(i.undone)}function To(e,t){var n=q(t);n&&n.ranges&&n.equals(e)||t.push(e)}function Eo(e,t,n,r){var i=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),(function(n){n.markedSpans&&((i||(i=t["spans_"+e.id]={}))[o]=n.markedSpans),++o}))}function Oo(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function Ro(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var r=[],i=0;i<t.text.length;++i)r.push(Oo(n[i]));return r}function No(e,t){var n=Ro(e,t),r=Ft(e,t);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var o=n[i],a=r[i];if(o&&a)e:for(var s=0;s<a.length;++s){for(var l=a[s],c=0;c<o.length;++c)if(o[c].marker==l.marker)continue e;o.push(l)}else a&&(n[i]=a)}return n}function Lo(e,t,n){for(var r=[],i=0;i<e.length;++i){var o=e[i];if(o.ranges)r.push(n?ro.prototype.deepCopy.call(o):o);else{var a=o.changes,s=[];r.push({changes:s});for(var l=0;l<a.length;++l){var c=a[l],u=void 0;if(s.push({from:c.from,to:c.to,text:c.text}),t)for(var d in c)(u=d.match(/^spans_(\d+)$/))&&H(t,Number(u[1]))>-1&&(q(s)[d]=c[d],delete c[d])}}}return r}function Do(e,t,n,r){if(r){var i=e.anchor;if(n){var o=ot(t,i)<0;o!=ot(n,i)<0?(i=t,t=n):o!=ot(t,n)<0&&(t=n)}return new io(i,t)}return new io(n||t,t)}function Bo(e,t,n,r,i){null==i&&(i=e.cm&&(e.cm.display.shift||e.extend)),zo(e,new ro([Do(e.sel.primary(),t,n,i)],0),r)}function Mo(e,t,n){for(var r=[],i=e.cm&&(e.cm.display.shift||e.extend),o=0;o<e.sel.ranges.length;o++)r[o]=Do(e.sel.ranges[o],t[o],null,i);var a=oo(e.cm,r,e.sel.primIndex);zo(e,a,n)}function Po(e,t,n,r){var i=e.sel.ranges.slice(0);i[t]=n,zo(e,oo(e.cm,i,e.sel.primIndex),r)}function Fo(e,t,n,r){zo(e,ao(t,n),r)}function jo(e,t,n){var r={ranges:t.ranges,update:function(t){this.ranges=[];for(var n=0;n<t.length;n++)this.ranges[n]=new io(dt(e,t[n].anchor),dt(e,t[n].head))},origin:n&&n.origin};return ve(e,"beforeSelectionChange",e,r),e.cm&&ve(e.cm,"beforeSelectionChange",e.cm,r),r.ranges!=t.ranges?oo(e.cm,r.ranges,r.ranges.length-1):t}function Ho(e,t,n){var r=e.history.done,i=q(r);i&&i.ranges?(r[r.length-1]=t,$o(e,t,n)):zo(e,t,n)}function zo(e,t,n){$o(e,t,n),_o(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function $o(e,t,n){(Ce(e,"beforeSelectionChange")||e.cm&&Ce(e.cm,"beforeSelectionChange"))&&(t=jo(e,t,n));var r=n&&n.bias||(ot(t.primary().head,e.sel.primary().head)<0?-1:1);Vo(e,Ko(e,t,r,!0)),n&&!1===n.scroll||!e.cm||ai(e.cm)}function Vo(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,ye(e.cm)),Tn(e,"cursorActivity",e))}function Wo(e){Vo(e,Ko(e,e.sel,null,!1))}function Ko(e,t,n,r){for(var i,o=0;o<t.ranges.length;o++){var a=t.ranges[o],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],l=Zo(e,a.anchor,s&&s.anchor,n,r),c=Zo(e,a.head,s&&s.head,n,r);(i||l!=a.anchor||c!=a.head)&&(i||(i=t.ranges.slice(0,o)),i[o]=new io(l,c))}return i?oo(e.cm,i,t.primIndex):t}function Go(e,t,n,r,i){var o=Xe(e,t.line);if(o.markedSpans)for(var a=0;a<o.markedSpans.length;++a){var s=o.markedSpans[a],l=s.marker,c="selectLeft"in l?!l.selectLeft:l.inclusiveLeft,u="selectRight"in l?!l.selectRight:l.inclusiveRight;if((null==s.from||(c?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(u?s.to>=t.ch:s.to>t.ch))){if(i&&(ve(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--a;continue}break}if(!l.atomic)continue;if(n){var d=l.find(r<0?1:-1),f=void 0;if((r<0?u:c)&&(d=Uo(e,d,-r,d&&d.line==t.line?o:null)),d&&d.line==t.line&&(f=ot(d,n))&&(r<0?f<0:f>0))return Go(e,d,t,r,i)}var h=l.find(r<0?-1:1);return(r<0?c:u)&&(h=Uo(e,h,r,h.line==t.line?o:null)),h?Go(e,h,t,r,i):null}}return t}function Zo(e,t,n,r,i){var o=r||1,a=Go(e,t,n,o,i)||!i&&Go(e,t,n,o,!0)||Go(e,t,n,-o,i)||!i&&Go(e,t,n,-o,!0);return a||(e.cantEdit=!0,it(e.first,0))}function Uo(e,t,n,r){return n<0&&0==t.ch?t.line>e.first?dt(e,it(t.line-1)):null:n>0&&t.ch==(r||Xe(e,t.line)).text.length?t.line<e.first+e.size-1?it(t.line+1,0):null:new it(t.line,t.ch+n)}function qo(e){e.setSelection(it(e.firstLine(),0),it(e.lastLine()),V)}function Xo(e,t,n){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return r.canceled=!0}};return n&&(r.update=function(t,n,i,o){t&&(r.from=dt(e,t)),n&&(r.to=dt(e,n)),i&&(r.text=i),void 0!==o&&(r.origin=o)}),ve(e,"beforeChange",e,r),e.cm&&ve(e.cm,"beforeChange",e.cm,r),r.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:r.from,to:r.to,text:r.text,origin:r.origin}}function Yo(e,t,n){if(e.cm){if(!e.cm.curOp)return Ri(e.cm,Yo)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(Ce(e,"beforeChange")||e.cm&&Ce(e.cm,"beforeChange"))||(t=Xo(e,t,!0),t)){var r=Tt&&!n&&Ht(e,t.from,t.to);if(r)for(var i=r.length-1;i>=0;--i)Jo(e,{from:r[i].from,to:r[i].to,text:i?[""]:t.text,origin:t.origin});else Jo(e,t)}}function Jo(e,t){if(1!=t.text.length||""!=t.text[0]||0!=ot(t.from,t.to)){var n=co(e,t);ko(e,t,n,e.cm?e.cm.curOp.id:NaN),ta(e,t,n,Ft(e,t));var r=[];vo(e,(function(e,n){n||-1!=H(r,e.history)||(aa(e.history,t),r.push(e.history)),ta(e,t,null,Ft(e,t))}))}}function Qo(e,t,n){var r=e.cm&&e.cm.state.suppressEdits;if(!r||n){for(var i,o=e.history,a=e.sel,s="undo"==t?o.done:o.undone,l="undo"==t?o.undone:o.done,c=0;c<s.length;c++)if(i=s[c],n?i.ranges&&!i.equals(e.sel):!i.ranges)break;if(c!=s.length){for(o.lastOrigin=o.lastSelOrigin=null;;){if(i=s.pop(),!i.ranges){if(r)return void s.push(i);break}if(To(i,l),n&&!i.equals(e.sel))return void zo(e,i,{clearRedo:!1});a=i}var u=[];To(a,l),l.push({changes:u,generation:o.generation}),o.generation=i.generation||++o.maxGeneration;for(var d=Ce(e,"beforeChange")||e.cm&&Ce(e.cm,"beforeChange"),f=function(n){var r=i.changes[n];if(r.origin=t,d&&!Xo(e,r,!1))return s.length=0,{};u.push(xo(e,r));var o=n?co(e,r):q(s);ta(e,r,o,No(e,r)),!n&&e.cm&&e.cm.scrollIntoView({from:r.from,to:so(r)});var a=[];vo(e,(function(e,t){t||-1!=H(a,e.history)||(aa(e.history,r),a.push(e.history)),ta(e,r,null,No(e,r))}))},h=i.changes.length-1;h>=0;--h){var p=f(h);if(p)return p.v}}}}function ea(e,t){if(0!=t&&(e.first+=t,e.sel=new ro(X(e.sel.ranges,(function(e){return new io(it(e.anchor.line+t,e.anchor.ch),it(e.head.line+t,e.head.ch))})),e.sel.primIndex),e.cm)){Mr(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)Pr(e.cm,r,"gutter")}}function ta(e,t,n,r){if(e.cm&&!e.cm.curOp)return Ri(e.cm,ta)(e,t,n,r);if(t.to.line<e.first)ea(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);ea(e,i),t={from:it(e.first,0),to:it(t.to.line+i,t.to.ch),text:[q(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:it(o,Xe(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Ye(e,t.from,t.to),n||(n=co(e,t)),e.cm?na(e.cm,t,r):go(e,t,r),$o(e,n,V),e.cantEdit&&Zo(e,it(e.firstLine(),0))&&(e.cantEdit=!1)}}function na(e,t,n){var r=e.doc,i=e.display,o=t.from,a=t.to,s=!1,l=o.line;e.options.lineWrapping||(l=et(Yt(Xe(r,o.line))),r.iter(l,a.line+1,(function(e){if(e==i.maxLine)return s=!0,!0}))),r.sel.contains(t.from,t.to)>-1&&ye(e),go(r,t,n,Nr(e)),e.options.lineWrapping||(r.iter(l,o.line+t.text.length,(function(e){var t=an(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,s=!1)})),s&&(e.curOp.updateMaxLine=!0)),_t(r,o.line),Di(e,400);var c=t.text.length-(a.line-o.line)-1;t.full?Mr(e):o.line!=a.line||1!=t.text.length||mo(e.doc,t)?Mr(e,o.line,a.line+1,c):Pr(e,o.line,"text");var u=Ce(e,"changes"),d=Ce(e,"change");if(d||u){var f={from:o,to:a,text:t.text,removed:t.removed,origin:t.origin};d&&Tn(e,"change",e,f),u&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(f)}e.display.selForContextMenu=null}function ra(e,t,n,r,i){var o;r||(r=n),ot(r,n)<0&&(o=[r,n],n=o[0],r=o[1]),"string"==typeof t&&(t=e.splitLines(t)),Yo(e,{from:n,to:r,text:t,origin:i})}function ia(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function oa(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i],a=!0;if(o.ranges){o.copied||(o=e[i]=o.deepCopy(),o.copied=!0);for(var s=0;s<o.ranges.length;s++)ia(o.ranges[s].anchor,t,n,r),ia(o.ranges[s].head,t,n,r)}else{for(var l=0;l<o.changes.length;++l){var c=o.changes[l];if(n<c.from.line)c.from=it(c.from.line+r,c.from.ch),c.to=it(c.to.line+r,c.to.ch);else if(t<=c.to.line){a=!1;break}}a||(e.splice(0,i+1),i=0)}}}function aa(e,t){var n=t.from.line,r=t.to.line,i=t.text.length-(r-n)-1;oa(e.done,n,r,i),oa(e.undone,n,r,i)}function sa(e,t,n,r){var i=t,o=t;return"number"==typeof t?o=Xe(e,ut(e,t)):i=et(t),null==i?null:(r(o,i)&&e.cm&&Pr(e.cm,i,n),o)}function la(e){this.lines=e,this.parent=null;for(var t=0,n=0;n<e.length;++n)e[n].parent=this,t+=e[n].height;this.height=t}function ca(e){this.children=e;for(var t=0,n=0,r=0;r<e.length;++r){var i=e[r];t+=i.chunkSize(),n+=i.height,i.parent=this}this.size=t,this.height=n,this.parent=null}io.prototype.from=function(){return ct(this.anchor,this.head)},io.prototype.to=function(){return lt(this.anchor,this.head)},io.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},la.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,r=e+t;n<r;++n){var i=this.lines[n];this.height-=i.height,un(i),Tn(i,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r<t.length;++r)t[r].parent=this},iterN:function(e,t,n){for(var r=e+t;e<r;++e)if(n(this.lines[e]))return!0}},ca.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var r=this.children[n],i=r.chunkSize();if(e<i){var o=Math.min(t,i-e),a=r.height;if(r.removeInner(e,o),this.height-=a-r.height,i==o&&(this.children.splice(n--,1),r.parent=null),0==(t-=o))break;e=0}else e-=i}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof la))){var s=[];this.collapse(s),this.children=[new la(s)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(e<=o){if(i.insertInner(e,t,n),i.lines&&i.lines.length>50){for(var a=i.lines.length%25+25,s=a;s<i.lines.length;){var l=new la(i.lines.slice(s,s+=25));i.height-=l.height,this.children.splice(++r,0,l),l.parent=this}i.lines=i.lines.slice(0,a),this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),n=new ca(t);if(e.parent){e.size-=n.size,e.height-=n.height;var r=H(e.parent.children,e);e.parent.children.splice(r+1,0,n)}else{var i=new ca(e.children);i.parent=e,e.children=[i,n],e=i}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(e<o){var a=Math.min(t,o-e);if(i.iterN(e,a,n))return!0;if(0==(t-=a))break;e=0}else e-=o}}};var ua=function(e,t,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.doc=e,this.node=t};function da(e,t,n){on(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&oi(e,n)}function fa(e,t,n,r){var i=new ua(e,n,r),o=e.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),sa(e,t,"widget",(function(t){var n=t.widgets||(t.widgets=[]);if(null==i.insertAt?n.push(i):n.splice(Math.min(n.length-1,Math.max(0,i.insertAt)),0,i),i.line=t,o&&!nn(e,t)){var r=on(t)<e.scrollTop;Qe(t,t.height+$n(i)),r&&oi(o,i.height),o.curOp.forceUpdate=!0}return!0})),o&&Tn(o,"lineWidgetAdded",o,i,"number"==typeof t?t:et(t)),i}ua.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,r=et(n);if(null!=r&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(n.widgets=null);var o=$n(this);Qe(n,Math.max(0,n.height-o)),e&&(Oi(e,(function(){da(e,n,-o),Pr(e,r,"widget")})),Tn(e,"lineWidgetCleared",e,this,r))}},ua.prototype.changed=function(){var e=this,t=this.height,n=this.doc.cm,r=this.line;this.height=null;var i=$n(this)-t;i&&(nn(this.doc,r)||Qe(r,r.height+i),n&&Oi(n,(function(){n.curOp.forceUpdate=!0,da(n,r,i),Tn(n,"lineWidgetChanged",n,e,et(r))})))},we(ua);var ha=0,pa=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++ha};function ma(e,t,n,r,i){if(r&&r.shared)return va(e,t,n,r,i);if(e.cm&&!e.cm.curOp)return Ri(e.cm,ma)(e,t,n,r,i);var o=new pa(e,i),a=ot(t,n);if(r&&P(r,o,!1),a>0||0==a&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=O("span",[o.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(Xt(e,t.line,t,n,o)||t.line!=n.line&&Xt(e,n.line,t,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");Rt()}o.addToHistory&&ko(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var s,l=t.line,c=e.cm;if(e.iter(l,n.line+1,(function(e){c&&o.collapsed&&!c.options.lineWrapping&&Yt(e)==c.display.maxLine&&(s=!0),o.collapsed&&l!=t.line&&Qe(e,0),Bt(e,new Nt(o,l==t.line?t.ch:null,l==n.line?n.ch:null)),++l})),o.collapsed&&e.iter(t.line,n.line+1,(function(t){nn(e,t)&&Qe(t,0)})),o.clearOnEnter&&pe(o,"beforeCursorEnter",(function(){return o.clear()})),o.readOnly&&(Ot(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++ha,o.atomic=!0),c){if(s&&(c.curOp.updateMaxLine=!0),o.collapsed)Mr(c,t.line,n.line+1);else if(o.className||o.startStyle||o.endStyle||o.css||o.attributes||o.title)for(var u=t.line;u<=n.line;u++)Pr(c,u,"text");o.atomic&&Wo(c.doc),Tn(c,"markerAdded",c,o)}return o}pa.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&xi(e),Ce(this,"clear")){var n=this.find();n&&Tn(this,"clear",n.from,n.to)}for(var r=null,i=null,o=0;o<this.lines.length;++o){var a=this.lines[o],s=Lt(a.markedSpans,this);e&&!this.collapsed?Pr(e,et(a),"text"):e&&(null!=s.to&&(i=et(a)),null!=s.from&&(r=et(a))),a.markedSpans=Dt(a.markedSpans,s),null==s.from&&this.collapsed&&!nn(this.doc,a)&&e&&Qe(a,Tr(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var l=0;l<this.lines.length;++l){var c=Yt(this.lines[l]),u=an(c);u>e.display.maxLineLength&&(e.display.maxLine=c,e.display.maxLineLength=u,e.display.maxLineChanged=!0)}null!=r&&e&&this.collapsed&&Mr(e,r,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Wo(e.doc)),e&&Tn(e,"markerCleared",e,this,r,i),t&&Ii(e),this.parent&&this.parent.clear()}},pa.prototype.find=function(e,t){var n,r;null==e&&"bookmark"==this.type&&(e=1);for(var i=0;i<this.lines.length;++i){var o=this.lines[i],a=Lt(o.markedSpans,this);if(null!=a.from&&(n=it(t?o:et(o),a.from),-1==e))return n;if(null!=a.to&&(r=it(t?o:et(o),a.to),1==e))return r}return n&&{from:n,to:r}},pa.prototype.changed=function(){var e=this,t=this.find(-1,!0),n=this,r=this.doc.cm;t&&r&&Oi(r,(function(){var i=t.line,o=et(t.line),a=er(r,o);if(a&&(cr(a),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!nn(n.doc,i)&&null!=n.height){var s=n.height;n.height=null;var l=$n(n)-s;l&&Qe(i,i.height+l)}Tn(r,"markerChanged",r,e)}))},pa.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=H(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},pa.prototype.detachLine=function(e){if(this.lines.splice(H(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},we(pa);var ga=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};function va(e,t,n,r,i){r=P(r),r.shared=!1;var o=[ma(e,t,n,r,i)],a=o[0],s=r.widgetNode;return vo(e,(function(e){s&&(r.widgetNode=s.cloneNode(!0)),o.push(ma(e,dt(e,t),dt(e,n),r,i));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;a=q(o)})),new ga(o,a)}function ba(e){return e.findMarks(it(e.first,0),e.clipPos(it(e.lastLine())),(function(e){return e.parent}))}function ya(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=r.find(),o=e.clipPos(i.from),a=e.clipPos(i.to);if(ot(o,a)){var s=ma(e,o,a,r.primary,r.primary.type);r.markers.push(s),s.parent=r}}}function Ca(e){for(var t=function(t){var n=e[t],r=[n.primary.doc];vo(n.primary.doc,(function(e){return r.push(e)}));for(var i=0;i<n.markers.length;i++){var o=n.markers[i];-1==H(r,o.doc)&&(o.parent=null,n.markers.splice(i--,1))}},n=0;n<e.length;n++)t(n)}ga.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();Tn(this,"clear")}},ga.prototype.find=function(e,t){return this.primary.find(e,t)},we(ga);var wa=0,xa=function(e,t,n,r,i){if(!(this instanceof xa))return new xa(e,t,n,r,i);null==n&&(n=0),ca.call(this,[new la([new ln("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var o=it(n,0);this.sel=ao(o),this.history=new wo(null),this.id=++wa,this.modeOption=t,this.lineSep=r,this.direction="rtl"==i?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),go(this,{from:o,to:o,text:e}),zo(this,ao(o),V)};xa.prototype=Q(ca.prototype,{constructor:xa,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Je(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:Li((function(e){var t=it(this.first,0),n=this.first+this.size-1;Yo(this,{from:t,to:it(n,Xe(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&si(this.cm,0,0),zo(this,ao(t),V)})),replaceRange:function(e,t,n,r){t=dt(this,t),n=n?dt(this,n):t,ra(this,e,t,n,r)},getRange:function(e,t,n){var r=Ye(this,dt(this,e),dt(this,t));return!1===n?r:r.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(nt(this,e))return Xe(this,e)},getLineNumber:function(e){return et(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=Xe(this,e)),Yt(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return dt(this,e)},getCursor:function(e){var t,n=this.sel.primary();return t=null==e||"head"==e?n.head:"anchor"==e?n.anchor:"end"==e||"to"==e||!1===e?n.to():n.from(),t},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Li((function(e,t,n){Fo(this,dt(this,"number"==typeof e?it(e,t||0):e),null,n)})),setSelection:Li((function(e,t,n){Fo(this,dt(this,e),dt(this,t||e),n)})),extendSelection:Li((function(e,t,n){Bo(this,dt(this,e),t&&dt(this,t),n)})),extendSelections:Li((function(e,t){Mo(this,ht(this,e),t)})),extendSelectionsBy:Li((function(e,t){var n=X(this.sel.ranges,e);Mo(this,ht(this,n),t)})),setSelections:Li((function(e,t,n){if(e.length){for(var r=[],i=0;i<e.length;i++)r[i]=new io(dt(this,e[i].anchor),dt(this,e[i].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),zo(this,oo(this.cm,r,t),n)}})),addSelection:Li((function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new io(dt(this,e),dt(this,t||e))),zo(this,oo(this.cm,r,r.length-1),n)})),getSelection:function(e){for(var t,n=this.sel.ranges,r=0;r<n.length;r++){var i=Ye(this,n[r].from(),n[r].to());t=t?t.concat(i):i}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,r=0;r<n.length;r++){var i=Ye(this,n[r].from(),n[r].to());!1!==e&&(i=i.join(e||this.lineSeparator())),t[r]=i}return t},replaceSelection:function(e,t,n){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=e;this.replaceSelections(r,t,n||"+input")},replaceSelections:Li((function(e,t,n){for(var r=[],i=this.sel,o=0;o<i.ranges.length;o++){var a=i.ranges[o];r[o]={from:a.from(),to:a.to(),text:this.splitLines(e[o]),origin:n}}for(var s=t&&"end"!=t&&fo(this,r,t),l=r.length-1;l>=0;l--)Yo(this,r[l]);s?Ho(this,s):this.cm&&ai(this.cm)})),undo:Li((function(){Qo(this,"undo")})),redo:Li((function(){Qo(this,"redo")})),undoSelection:Li((function(){Qo(this,"undo",!0)})),redoSelection:Li((function(){Qo(this,"redo",!0)})),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){var e=this;this.history=new wo(this.history.maxGeneration),vo(this,(function(t){return t.history=e.history}),!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Lo(this.history.done),undone:Lo(this.history.undone)}},setHistory:function(e){var t=this.history=new wo(this.history.maxGeneration);t.done=Lo(e.done.slice(0),null,!0),t.undone=Lo(e.undone.slice(0),null,!0)},setGutterMarker:Li((function(e,t,n){return sa(this,e,"gutter",(function(e){var r=e.gutterMarkers||(e.gutterMarkers={});return r[t]=n,!n&&re(r)&&(e.gutterMarkers=null),!0}))})),clearGutter:Li((function(e){var t=this;this.iter((function(n){n.gutterMarkers&&n.gutterMarkers[e]&&sa(t,n,"gutter",(function(){return n.gutterMarkers[e]=null,re(n.gutterMarkers)&&(n.gutterMarkers=null),!0}))}))})),lineInfo:function(e){var t;if("number"==typeof e){if(!nt(this,e))return null;if(t=e,e=Xe(this,e),!e)return null}else if(t=et(e),null==t)return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:Li((function(e,t,n){return sa(this,e,"gutter"==t?"gutter":"class",(function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[r]){if(A(n).test(e[r]))return!1;e[r]+=" "+n}else e[r]=n;return!0}))})),removeLineClass:Li((function(e,t,n){return sa(this,e,"gutter"==t?"gutter":"class",(function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",i=e[r];if(!i)return!1;if(null==n)e[r]=null;else{var o=i.match(A(n));if(!o)return!1;var a=o.index+o[0].length;e[r]=i.slice(0,o.index)+(o.index&&a!=i.length?" ":"")+i.slice(a)||null}return!0}))})),addLineWidget:Li((function(e,t,n){return fa(this,e,t,n)})),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return ma(this,dt(this,e),dt(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=dt(this,e),ma(this,e,e,n,"bookmark")},findMarksAt:function(e){e=dt(this,e);var t=[],n=Xe(this,e.line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,n){e=dt(this,e),t=dt(this,t);var r=[],i=e.line;return this.iter(e.line,t.line+1,(function(o){var a=o.markedSpans;if(a)for(var s=0;s<a.length;s++){var l=a[s];null!=l.to&&i==e.line&&e.ch>=l.to||null==l.from&&i!=e.line||null!=l.from&&i==t.line&&l.from>=t.ch||n&&!n(l.marker)||r.push(l.marker.parent||l.marker)}++i})),r},getAllMarks:function(){var e=[];return this.iter((function(t){var n=t.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&e.push(n[r].marker)})),e},posFromIndex:function(e){var t,n=this.first,r=this.lineSeparator().length;return this.iter((function(i){var o=i.text.length+r;if(o>e)return t=e,!0;e-=o,++n})),dt(this,it(n,t))},indexFromPos:function(e){e=dt(this,e);var t=e.ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,(function(e){t+=e.text.length+n})),t},copy:function(e){var t=new xa(Je(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var r=new xa(Je(this,t,n),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],ya(r,ba(this)),r},unlinkDoc:function(e){if(e instanceof Ms&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t){var n=this.linked[t];if(n.doc==e){this.linked.splice(t,1),e.unlinkDoc(this),Ca(ba(this));break}}if(e.history==this.history){var r=[e.id];vo(e,(function(e){return r.push(e.id)}),!0),e.history=new wo(null),e.history.done=Lo(this.history.done,r),e.history.undone=Lo(this.history.undone,r)}},iterLinkedDocs:function(e){vo(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Le(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:Li((function(e){"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter((function(e){return e.order=null})),this.cm&&Co(this.cm))}))}),xa.prototype.eachLine=xa.prototype.iter;var Ia=0;function Aa(e){var t=this;if(_a(t),!be(t,e)&&!Vn(t.display,e)){xe(e),a&&(Ia=+new Date);var n=Dr(t,e,!0),r=e.dataTransfer.files;if(n&&!t.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,o=Array(i),s=0,l=function(){++s==i&&Ri(t,(function(){n=dt(t.doc,n);var e={from:n,to:n,text:t.doc.splitLines(o.filter((function(e){return null!=e})).join(t.doc.lineSeparator())),origin:"paste"};Yo(t.doc,e),Ho(t.doc,ao(dt(t.doc,n),dt(t.doc,so(e))))}))()},c=function(e,n){if(t.options.allowDropFileTypes&&-1==H(t.options.allowDropFileTypes,e.type))l();else{var r=new FileReader;r.onerror=function(){return l()},r.onload=function(){var e=r.result;/[\x00-\x08\x0e-\x1f]{2}/.test(e)||(o[n]=e),l()},r.readAsText(e)}},u=0;u<r.length;u++)c(r[u],u);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout((function(){return t.display.input.focus()}),20);try{var d=e.dataTransfer.getData("Text");if(d){var f;if(t.state.draggingText&&!t.state.draggingText.copy&&(f=t.listSelections()),$o(t.doc,ao(n,n)),f)for(var h=0;h<f.length;++h)ra(t.doc,"",f[h].anchor,f[h].head,"drag");t.replaceSelection(d,"around","paste"),t.display.input.focus()}}catch(p){}}}}function ka(e,t){if(a&&(!e.state.draggingText||+new Date-Ia<100))ke(t);else if(!be(e,t)&&!Vn(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!f)){var n=E("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",d&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),d&&n.parentNode.removeChild(n)}}function Sa(e,t){var n=Dr(e,t);if(n){var r=document.createDocumentFragment();Wr(e,n,r),e.display.dragCursor||(e.display.dragCursor=E("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),T(e.display.dragCursor,r)}}function _a(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Ta(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),n=[],r=0;r<t.length;r++){var i=t[r].CodeMirror;i&&n.push(i)}n.length&&n[0].operation((function(){for(var t=0;t<n.length;t++)e(n[t])}))}}var Ea=!1;function Oa(){Ea||(Ra(),Ea=!0)}function Ra(){var e;pe(window,"resize",(function(){null==e&&(e=setTimeout((function(){e=null,Ta(Na)}),100))})),pe(window,"blur",(function(){return Ta(Yr)}))}function Na(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var La={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Da=0;Da<10;Da++)La[Da+48]=La[Da+96]=String(Da);for(var Ba=65;Ba<=90;Ba++)La[Ba]=String.fromCharCode(Ba);for(var Ma=1;Ma<=12;Ma++)La[Ma+111]=La[Ma+63235]="F"+Ma;var Pa={};function Fa(e){var t,n,r,i,o=e.split(/-(?!$)/);e=o[o.length-1];for(var a=0;a<o.length-1;a++){var s=o[a];if(/^(cmd|meta|m)$/i.test(s))i=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))n=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);r=!0}}return t&&(e="Alt-"+e),n&&(e="Ctrl-"+e),i&&(e="Cmd-"+e),r&&(e="Shift-"+e),e}function ja(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete e[n];continue}for(var i=X(n.split(" "),Fa),o=0;o<i.length;o++){var a=void 0,s=void 0;o==i.length-1?(s=i.join(" "),a=r):(s=i.slice(0,o+1).join(" "),a="...");var l=t[s];if(l){if(l!=a)throw new Error("Inconsistent bindings for "+s)}else t[s]=a}delete e[n]}for(var c in t)e[c]=t[c];return e}function Ha(e,t,n,r){t=Wa(t);var i=t.call?t.call(e,r):t[e];if(!1===i)return"nothing";if("..."===i)return"multi";if(null!=i&&n(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return Ha(e,t.fallthrough,n,r);for(var o=0;o<t.fallthrough.length;o++){var a=Ha(e,t.fallthrough[o],n,r);if(a)return a}}}function za(e){var t="string"==typeof e?e:La[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function $a(e,t,n){var r=e;return t.altKey&&"Alt"!=r&&(e="Alt-"+e),(x?t.metaKey:t.ctrlKey)&&"Ctrl"!=r&&(e="Ctrl-"+e),(x?t.ctrlKey:t.metaKey)&&"Cmd"!=r&&(e="Cmd-"+e),!n&&t.shiftKey&&"Shift"!=r&&(e="Shift-"+e),e}function Va(e,t){if(d&&34==e.keyCode&&e["char"])return!1;var n=La[e.keyCode];return null!=n&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(n=e.code),$a(n,e,t))}function Wa(e){return"string"==typeof e?Pa[e]:e}function Ka(e,t){for(var n=e.doc.sel.ranges,r=[],i=0;i<n.length;i++){var o=t(n[i]);while(r.length&&ot(o.from,q(r).to)<=0){var a=r.pop();if(ot(a.from,o.from)<0){o.from=a.from;break}}r.push(o)}Oi(e,(function(){for(var t=r.length-1;t>=0;t--)ra(e.doc,"",r[t].from,r[t].to,"+delete");ai(e)}))}function Ga(e,t,n){var r=ae(e.text,t+n,n);return r<0||r>e.text.length?null:r}function Za(e,t,n){var r=Ga(e,t.ch,n);return null==r?null:new it(t.line,r,n<0?"after":"before")}function Ua(e,t,n,r,i){if(e){"rtl"==t.doc.direction&&(i=-i);var o=fe(n,t.doc.direction);if(o){var a,s=i<0?q(o):o[0],l=i<0==(1==s.level),c=l?"after":"before";if(s.level>0||"rtl"==t.doc.direction){var u=tr(t,n);a=i<0?n.text.length-1:0;var d=nr(t,u,a).top;a=se((function(e){return nr(t,u,e).top==d}),i<0==(1==s.level)?s.from:s.to-1,a),"before"==c&&(a=Ga(n,a,1))}else a=i<0?s.to:s.from;return new it(r,a,c)}}return new it(r,i<0?n.text.length:0,i<0?"before":"after")}function qa(e,t,n,r){var i=fe(t,e.doc.direction);if(!i)return Za(t,n,r);n.ch>=t.text.length?(n.ch=t.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var o=ue(i,n.ch,n.sticky),a=i[o];if("ltr"==e.doc.direction&&a.level%2==0&&(r>0?a.to>n.ch:a.from<n.ch))return Za(t,n,r);var s,l=function(e,n){return Ga(t,e instanceof it?e.ch:e,n)},c=function(n){return e.options.lineWrapping?(s=s||tr(e,t),Ir(e,t,s,n)):{begin:0,end:t.text.length}},u=c("before"==n.sticky?l(n,-1):n.ch);if("rtl"==e.doc.direction||1==a.level){var d=1==a.level==r<0,f=l(n,d?1:-1);if(null!=f&&(d?f<=a.to&&f<=u.end:f>=a.from&&f>=u.begin)){var h=d?"before":"after";return new it(n.line,f,h)}}var p=function(e,t,r){for(var o=function(e,t){return t?new it(n.line,l(e,1),"before"):new it(n.line,e,"after")};e>=0&&e<i.length;e+=t){var a=i[e],s=t>0==(1!=a.level),c=s?r.begin:l(r.end,-1);if(a.from<=c&&c<a.to)return o(c,s);if(c=s?a.from:l(a.to,-1),r.begin<=c&&c<r.end)return o(c,s)}},m=p(o+r,r,u);if(m)return m;var g=r>0?u.end:l(u.begin,-1);return null==g||r>0&&g==t.text.length||(m=p(r>0?0:i.length-1,r,c(g)),!m)?null:m}Pa.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Pa.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Pa.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Pa.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Pa["default"]=b?Pa.macDefault:Pa.pcDefault;var Xa={selectAll:qo,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),V)},killLine:function(e){return Ka(e,(function(t){if(t.empty()){var n=Xe(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:it(t.head.line+1,0)}:{from:t.head,to:it(t.head.line,n)}}return{from:t.from(),to:t.to()}}))},deleteLine:function(e){return Ka(e,(function(t){return{from:it(t.from().line,0),to:dt(e.doc,it(t.to().line+1,0))}}))},delLineLeft:function(e){return Ka(e,(function(e){return{from:it(e.from().line,0),to:e.from()}}))},delWrappedLineLeft:function(e){return Ka(e,(function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return{from:r,to:t.from()}}))},delWrappedLineRight:function(e){return Ka(e,(function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:r}}))},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(it(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(it(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy((function(t){return Ya(e,t.head.line)}),{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy((function(t){return Qa(e,t.head)}),{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy((function(t){return Ja(e,t.head.line)}),{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")}),K)},goLineLeft:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")}),K)},goLineLeftSmart:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return r.ch<e.getLine(r.line).search(/\S/)?Qa(e,t.head):r}),K)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"char")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,i=0;i<n.length;i++){var o=n[i].from(),a=F(e.getLine(o.line),o.ch,r);t.push(U(r-a%r))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return Oi(e,(function(){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++)if(t[r].empty()){var i=t[r].head,o=Xe(e.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new it(i.line,i.ch-1)),i.ch>0)i=new it(i.line,i.ch+1),e.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),it(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var a=Xe(e.doc,i.line-1).text;a&&(i=new it(i.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+a.charAt(a.length-1),it(i.line-1,a.length-1),i,"+transpose"))}n.push(new io(i,i))}e.setSelections(n)}))},newlineAndIndent:function(e){return Oi(e,(function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange(e.doc.lineSeparator(),t[n].anchor,t[n].head,"+input");t=e.listSelections();for(var r=0;r<t.length;r++)e.indentLine(t[r].from().line,null,!0);ai(e)}))},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function Ya(e,t){var n=Xe(e.doc,t),r=Yt(n);return r!=n&&(t=et(r)),Ua(!0,e,r,t,1)}function Ja(e,t){var n=Xe(e.doc,t),r=Jt(n);return r!=n&&(t=et(r)),Ua(!0,e,n,t,-1)}function Qa(e,t){var n=Ya(e,t.line),r=Xe(e.doc,n.line),i=fe(r,e.doc.direction);if(!i||0==i[0].level){var o=Math.max(n.ch,r.text.search(/\S/)),a=t.line==n.line&&t.ch<=o&&t.ch;return it(n.line,a?0:o,n.sticky)}return n}function es(e,t,n){if("string"==typeof t&&(t=Xa[t],!t))return!1;e.display.input.ensurePolled();var r=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),i=t(e)!=$}finally{e.display.shift=r,e.state.suppressEdits=!1}return i}function ts(e,t,n){for(var r=0;r<e.state.keyMaps.length;r++){var i=Ha(t,e.state.keyMaps[r],n,e);if(i)return i}return e.options.extraKeys&&Ha(t,e.options.extraKeys,n,e)||Ha(t,e.options.keyMap,n,e)}var ns=new j;function rs(e,t,n,r){var i=e.state.keySeq;if(i){if(za(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:ns.set(50,(function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())})),is(e,i+" "+t,n,r))return!0}return is(e,t,n,r)}function is(e,t,n,r){var i=ts(e,t,r);return"multi"==i&&(e.state.keySeq=t),"handled"==i&&Tn(e,"keyHandled",e,t,n),"handled"!=i&&"multi"!=i||(xe(n),Zr(e)),!!i}function os(e,t){var n=Va(t,!0);return!!n&&(t.shiftKey&&!e.state.keySeq?rs(e,"Shift-"+n,t,(function(t){return es(e,t,!0)}))||rs(e,n,t,(function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return es(e,t)})):rs(e,n,t,(function(t){return es(e,t)})))}function as(e,t,n){return rs(e,"'"+n+"'",t,(function(t){return es(e,t,!0)}))}var ss=null;function ls(e){var t=this;if((!e.target||e.target==t.display.input.getField())&&(t.curOp.focus=N(),!be(t,e))){a&&s<11&&27==e.keyCode&&(e.returnValue=!1);var r=e.keyCode;t.display.shift=16==r||e.shiftKey;var i=os(t,e);d&&(ss=i?r:null,i||88!=r||Be||!(b?e.metaKey:e.ctrlKey)||t.replaceSelection("",null,"cut")),n&&!b&&!i&&46==r&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),18!=r||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||cs(t)}}function cs(e){var t=e.display.lineDiv;function n(e){18!=e.keyCode&&e.altKey||(S(t,"CodeMirror-crosshair"),ge(document,"keyup",n),ge(document,"mouseover",n))}L(t,"CodeMirror-crosshair"),pe(document,"keyup",n),pe(document,"mouseover",n)}function us(e){16==e.keyCode&&(this.doc.sel.shift=!1),be(this,e)}function ds(e){var t=this;if((!e.target||e.target==t.display.input.getField())&&!(Vn(t.display,e)||be(t,e)||e.ctrlKey&&!e.altKey||b&&e.metaKey)){var n=e.keyCode,r=e.charCode;if(d&&n==ss)return ss=null,void xe(e);if(!d||e.which&&!(e.which<10)||!os(t,e)){var i=String.fromCharCode(null==r?n:r);"\b"!=i&&(as(t,e,i)||t.display.input.onKeyPress(e))}}}var fs,hs,ps=400,ms=function(e,t,n){this.time=e,this.pos=t,this.button=n};function gs(e,t){var n=+new Date;return hs&&hs.compare(n,e,t)?(fs=hs=null,"triple"):fs&&fs.compare(n,e,t)?(hs=new ms(n,e,t),fs=null,"double"):(fs=new ms(n,e,t),hs=null,"single")}function vs(e){var t=this,n=t.display;if(!(be(t,e)||n.activeTouch&&n.input.supportsTouch()))if(n.input.ensurePolled(),n.shift=e.shiftKey,Vn(n,e))l||(n.scroller.draggable=!1,setTimeout((function(){return n.scroller.draggable=!0}),100));else if(!Ss(t,e)){var r=Dr(t,e),i=_e(e),o=r?gs(r,i):"single";window.focus(),1==i&&t.state.selectingText&&t.state.selectingText(e),r&&bs(t,i,r,o,e)||(1==i?r?Cs(t,r,o,e):Se(e)==n.scroller&&xe(e):2==i?(r&&Bo(t.doc,r),setTimeout((function(){return n.input.focus()}),20)):3==i&&(I?t.display.input.onContextMenu(e):qr(t)))}}function bs(e,t,n,r,i){var o="Click";return"double"==r?o="Double"+o:"triple"==r&&(o="Triple"+o),o=(1==t?"Left":2==t?"Middle":"Right")+o,rs(e,$a(o,i),i,(function(t){if("string"==typeof t&&(t=Xa[t]),!t)return!1;var r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r=t(e,n)!=$}finally{e.state.suppressEdits=!1}return r}))}function ys(e,t,n){var r=e.getOption("configureMouse"),i=r?r(e,t,n):{};if(null==i.unit){var o=y?n.shiftKey&&n.metaKey:n.altKey;i.unit=o?"rectangle":"single"==t?"char":"double"==t?"word":"line"}return(null==i.extend||e.doc.extend)&&(i.extend=e.doc.extend||n.shiftKey),null==i.addNew&&(i.addNew=b?n.metaKey:n.ctrlKey),null==i.moveOnDrag&&(i.moveOnDrag=!(b?n.altKey:n.ctrlKey)),i}function Cs(e,t,n,r){a?setTimeout(M(Ur,e),0):e.curOp.focus=N();var i,o=ys(e,n,r),s=e.doc.sel;e.options.dragDrop&&Oe&&!e.isReadOnly()&&"single"==n&&(i=s.contains(t))>-1&&(ot((i=s.ranges[i]).from(),t)<0||t.xRel>0)&&(ot(i.to(),t)>0||t.xRel<0)?ws(e,r,t,o):Is(e,r,t,o)}function ws(e,t,n,r){var i=e.display,o=!1,c=Ri(e,(function(t){l&&(i.scroller.draggable=!1),e.state.draggingText=!1,ge(i.wrapper.ownerDocument,"mouseup",c),ge(i.wrapper.ownerDocument,"mousemove",u),ge(i.scroller,"dragstart",d),ge(i.scroller,"drop",c),o||(xe(t),r.addNew||Bo(e.doc,n,null,null,r.extend),l&&!f||a&&9==s?setTimeout((function(){i.wrapper.ownerDocument.body.focus({preventScroll:!0}),i.input.focus()}),20):i.input.focus())})),u=function(e){o=o||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},d=function(){return o=!0};l&&(i.scroller.draggable=!0),e.state.draggingText=c,c.copy=!r.moveOnDrag,i.scroller.dragDrop&&i.scroller.dragDrop(),pe(i.wrapper.ownerDocument,"mouseup",c),pe(i.wrapper.ownerDocument,"mousemove",u),pe(i.scroller,"dragstart",d),pe(i.scroller,"drop",c),qr(e),setTimeout((function(){return i.input.focus()}),20)}function xs(e,t,n){if("char"==n)return new io(t,t);if("word"==n)return e.findWordAt(t);if("line"==n)return new io(it(t.line,0),dt(e.doc,it(t.line+1,0)));var r=n(e,t);return new io(r.from,r.to)}function Is(e,t,n,r){var i=e.display,o=e.doc;xe(t);var a,s,l=o.sel,c=l.ranges;if(r.addNew&&!r.extend?(s=o.sel.contains(n),a=s>-1?c[s]:new io(n,n)):(a=o.sel.primary(),s=o.sel.primIndex),"rectangle"==r.unit)r.addNew||(a=new io(n,n)),n=Dr(e,t,!0,!0),s=-1;else{var u=xs(e,n,r.unit);a=r.extend?Do(a,u.anchor,u.head,r.extend):u}r.addNew?-1==s?(s=c.length,zo(o,oo(e,c.concat([a]),s),{scroll:!1,origin:"*mouse"})):c.length>1&&c[s].empty()&&"char"==r.unit&&!r.extend?(zo(o,oo(e,c.slice(0,s).concat(c.slice(s+1)),0),{scroll:!1,origin:"*mouse"}),l=o.sel):Po(o,s,a,W):(s=0,zo(o,new ro([a],0),W),l=o.sel);var d=n;function f(t){if(0!=ot(d,t))if(d=t,"rectangle"==r.unit){for(var i=[],c=e.options.tabSize,u=F(Xe(o,n.line).text,n.ch,c),f=F(Xe(o,t.line).text,t.ch,c),h=Math.min(u,f),p=Math.max(u,f),m=Math.min(n.line,t.line),g=Math.min(e.lastLine(),Math.max(n.line,t.line));m<=g;m++){var v=Xe(o,m).text,b=G(v,h,c);h==p?i.push(new io(it(m,b),it(m,b))):v.length>b&&i.push(new io(it(m,b),it(m,G(v,p,c))))}i.length||i.push(new io(n,n)),zo(o,oo(e,l.ranges.slice(0,s).concat(i),s),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var y,C=a,w=xs(e,t,r.unit),x=C.anchor;ot(w.anchor,x)>0?(y=w.head,x=ct(C.from(),w.anchor)):(y=w.anchor,x=lt(C.to(),w.head));var I=l.ranges.slice(0);I[s]=As(e,new io(dt(o,x),y)),zo(o,oo(e,I,s),W)}}var h=i.wrapper.getBoundingClientRect(),p=0;function m(t){var n=++p,a=Dr(e,t,!0,"rectangle"==r.unit);if(a)if(0!=ot(a,d)){e.curOp.focus=N(),f(a);var s=ei(i,o);(a.line>=s.to||a.line<s.from)&&setTimeout(Ri(e,(function(){p==n&&m(t)})),150)}else{var l=t.clientY<h.top?-20:t.clientY>h.bottom?20:0;l&&setTimeout(Ri(e,(function(){p==n&&(i.scroller.scrollTop+=l,m(t))})),50)}}function g(t){e.state.selectingText=!1,p=1/0,t&&(xe(t),i.input.focus()),ge(i.wrapper.ownerDocument,"mousemove",v),ge(i.wrapper.ownerDocument,"mouseup",b),o.history.lastSelOrigin=null}var v=Ri(e,(function(e){0!==e.buttons&&_e(e)?m(e):g(e)})),b=Ri(e,g);e.state.selectingText=b,pe(i.wrapper.ownerDocument,"mousemove",v),pe(i.wrapper.ownerDocument,"mouseup",b)}function As(e,t){var n=t.anchor,r=t.head,i=Xe(e.doc,n.line);if(0==ot(n,r)&&n.sticky==r.sticky)return t;var o=fe(i);if(!o)return t;var a=ue(o,n.ch,n.sticky),s=o[a];if(s.from!=n.ch&&s.to!=n.ch)return t;var l,c=a+(s.from==n.ch==(1!=s.level)?0:1);if(0==c||c==o.length)return t;if(r.line!=n.line)l=(r.line-n.line)*("ltr"==e.doc.direction?1:-1)>0;else{var u=ue(o,r.ch,r.sticky),d=u-a||(r.ch-n.ch)*(1==s.level?-1:1);l=u==c-1||u==c?d<0:d>0}var f=o[c+(l?-1:0)],h=l==(1==f.level),p=h?f.from:f.to,m=h?"after":"before";return n.ch==p&&n.sticky==m?t:new io(new it(n.line,p,m),r)}function ks(e,t,n,r){var i,o;if(t.touches)i=t.touches[0].clientX,o=t.touches[0].clientY;else try{i=t.clientX,o=t.clientY}catch(f){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&xe(t);var a=e.display,s=a.lineDiv.getBoundingClientRect();if(o>s.bottom||!Ce(e,n))return Ae(t);o-=s.top-a.viewOffset;for(var l=0;l<e.display.gutterSpecs.length;++l){var c=a.gutters.childNodes[l];if(c&&c.getBoundingClientRect().right>=i){var u=tt(e.doc,o),d=e.display.gutterSpecs[l];return ve(e,n,e,u,d.className,t),Ae(t)}}}function Ss(e,t){return ks(e,t,"gutterClick",!0)}function _s(e,t){Vn(e.display,t)||Ts(e,t)||be(e,t,"contextmenu")||I||e.display.input.onContextMenu(t)}function Ts(e,t){return!!Ce(e,"gutterContextMenu")&&ks(e,t,"gutterContextMenu",!1)}function Es(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),dr(e)}ms.prototype.compare=function(e,t,n){return this.time+ps>e&&0==ot(t,this.pos)&&n==this.button};var Os={toString:function(){return"CodeMirror.Init"}},Rs={},Ns={};function Ls(e){var t=e.optionHandlers;function n(n,r,i,o){e.defaults[n]=r,i&&(t[n]=o?function(e,t,n){n!=Os&&i(e,t,n)}:i)}e.defineOption=n,e.Init=Os,n("value","",(function(e,t){return e.setValue(t)}),!0),n("mode",null,(function(e,t){e.doc.modeOption=t,ho(e)}),!0),n("indentUnit",2,ho,!0),n("indentWithTabs",!1),n("smartIndent",!0),n("tabSize",4,(function(e){po(e),dr(e),Mr(e)}),!0),n("lineSeparator",null,(function(e,t){if(e.doc.lineSep=t,t){var n=[],r=e.doc.first;e.doc.iter((function(e){for(var i=0;;){var o=e.text.indexOf(t,i);if(-1==o)break;i=o+t.length,n.push(it(r,o))}r++}));for(var i=n.length-1;i>=0;i--)ra(e.doc,t,n[i],it(n[i].line,n[i].ch+t.length))}})),n("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200c\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,(function(e,t,n){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),n!=Os&&e.refresh()})),n("specialCharPlaceholder",mn,(function(e){return e.refresh()}),!0),n("electricChars",!0),n("inputStyle",v?"contenteditable":"textarea",(function(){throw new Error("inputStyle can not (yet) be changed in a running editor")}),!0),n("spellcheck",!1,(function(e,t){return e.getInputField().spellcheck=t}),!0),n("autocorrect",!1,(function(e,t){return e.getInputField().autocorrect=t}),!0),n("autocapitalize",!1,(function(e,t){return e.getInputField().autocapitalize=t}),!0),n("rtlMoveVisually",!C),n("wholeLineUpdateBefore",!0),n("theme","default",(function(e){Es(e),Xi(e)}),!0),n("keyMap","default",(function(e,t,n){var r=Wa(t),i=n!=Os&&Wa(n);i&&i.detach&&i.detach(e,r),r.attach&&r.attach(e,i||null)})),n("extraKeys",null),n("configureMouse",null),n("lineWrapping",!1,Bs,!0),n("gutters",[],(function(e,t){e.display.gutterSpecs=Ui(t,e.options.lineNumbers),Xi(e)}),!0),n("fixedGutter",!0,(function(e,t){e.display.gutters.style.left=t?Rr(e.display)+"px":"0",e.refresh()}),!0),n("coverGutterNextToScrollbar",!1,(function(e){return vi(e)}),!0),n("scrollbarStyle","native",(function(e){Ci(e),vi(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)}),!0),n("lineNumbers",!1,(function(e,t){e.display.gutterSpecs=Ui(e.options.gutters,t),Xi(e)}),!0),n("firstLineNumber",1,Xi,!0),n("lineNumberFormatter",(function(e){return e}),Xi,!0),n("showCursorWhenSelecting",!1,$r,!0),n("resetSelectionOnContextMenu",!0),n("lineWiseCopyCut",!0),n("pasteLinesPerSelection",!0),n("selectionsMayTouch",!1),n("readOnly",!1,(function(e,t){"nocursor"==t&&(Yr(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)})),n("screenReaderLabel",null,(function(e,t){t=""===t?null:t,e.display.input.screenReaderLabelChanged(t)})),n("disableInput",!1,(function(e,t){t||e.display.input.reset()}),!0),n("dragDrop",!0,Ds),n("allowDropFileTypes",null),n("cursorBlinkRate",530),n("cursorScrollMargin",0),n("cursorHeight",1,$r,!0),n("singleCursorHeightPerLine",!0,$r,!0),n("workTime",100),n("workDelay",100),n("flattenSpans",!0,po,!0),n("addModeClass",!1,po,!0),n("pollInterval",100),n("undoDepth",200,(function(e,t){return e.doc.history.undoDepth=t})),n("historyEventDelay",1250),n("viewportMargin",10,(function(e){return e.refresh()}),!0),n("maxHighlightLength",1e4,po,!0),n("moveInputWithCursor",!0,(function(e,t){t||e.display.input.resetPosition()})),n("tabindex",null,(function(e,t){return e.display.input.getField().tabIndex=t||""})),n("autofocus",null),n("direction","ltr",(function(e,t){return e.doc.setDirection(t)}),!0),n("phrases",null)}function Ds(e,t,n){var r=n&&n!=Os;if(!t!=!r){var i=e.display.dragFunctions,o=t?pe:ge;o(e.display.scroller,"dragstart",i.start),o(e.display.scroller,"dragenter",i.enter),o(e.display.scroller,"dragover",i.over),o(e.display.scroller,"dragleave",i.leave),o(e.display.scroller,"drop",i.drop)}}function Bs(e){e.options.lineWrapping?(L(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(S(e.display.wrapper,"CodeMirror-wrap"),sn(e)),Lr(e),Mr(e),dr(e),setTimeout((function(){return vi(e)}),100)}function Ms(e,t){var n=this;if(!(this instanceof Ms))return new Ms(e,t);this.options=t=t?P(t):{},P(Rs,t,!1);var r=t.value;"string"==typeof r?r=new xa(r,t.mode,null,t.lineSeparator,t.direction):t.mode&&(r.modeOption=t.mode),this.doc=r;var i=new Ms.inputStyles[t.inputStyle](this),o=this.display=new Yi(e,r,i,t);for(var c in o.wrapper.CodeMirror=this,Es(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Ci(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new j,keySeq:null,specialChars:null},t.autofocus&&!v&&o.input.focus(),a&&s<11&&setTimeout((function(){return n.display.input.reset(!0)}),20),Ps(this),Oa(),xi(this),this.curOp.forceUpdate=!0,bo(this,r),t.autofocus&&!v||this.hasFocus()?setTimeout(M(Xr,this),20):Yr(this),Ns)Ns.hasOwnProperty(c)&&Ns[c](this,t[c],Os);Zi(this),t.finishInit&&t.finishInit(this);for(var u=0;u<Fs.length;++u)Fs[u](this);Ii(this),l&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}function Ps(e){var t=e.display;pe(t.scroller,"mousedown",Ri(e,vs)),pe(t.scroller,"dblclick",a&&s<11?Ri(e,(function(t){if(!be(e,t)){var n=Dr(e,t);if(n&&!Ss(e,t)&&!Vn(e.display,t)){xe(t);var r=e.findWordAt(n);Bo(e.doc,r.anchor,r.head)}}})):function(t){return be(e,t)||xe(t)}),pe(t.scroller,"contextmenu",(function(t){return _s(e,t)})),pe(t.input.getField(),"contextmenu",(function(n){t.scroller.contains(n.target)||_s(e,n)}));var n,r={end:0};function i(){t.activeTouch&&(n=setTimeout((function(){return t.activeTouch=null}),1e3),r=t.activeTouch,r.end=+new Date)}function o(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function l(e,t){if(null==t.left)return!0;var n=t.left-e.left,r=t.top-e.top;return n*n+r*r>400}pe(t.scroller,"touchstart",(function(i){if(!be(e,i)&&!o(i)&&!Ss(e,i)){t.input.ensurePolled(),clearTimeout(n);var a=+new Date;t.activeTouch={start:a,moved:!1,prev:a-r.end<=300?r:null},1==i.touches.length&&(t.activeTouch.left=i.touches[0].pageX,t.activeTouch.top=i.touches[0].pageY)}})),pe(t.scroller,"touchmove",(function(){t.activeTouch&&(t.activeTouch.moved=!0)})),pe(t.scroller,"touchend",(function(n){var r=t.activeTouch;if(r&&!Vn(t,n)&&null!=r.left&&!r.moved&&new Date-r.start<300){var o,a=e.coordsChar(t.activeTouch,"page");o=!r.prev||l(r,r.prev)?new io(a,a):!r.prev.prev||l(r,r.prev.prev)?e.findWordAt(a):new io(it(a.line,0),dt(e.doc,it(a.line+1,0))),e.setSelection(o.anchor,o.head),e.focus(),xe(n)}i()})),pe(t.scroller,"touchcancel",i),pe(t.scroller,"scroll",(function(){t.scroller.clientHeight&&(di(e,t.scroller.scrollTop),hi(e,t.scroller.scrollLeft,!0),ve(e,"scroll",e))})),pe(t.scroller,"mousewheel",(function(t){return no(e,t)})),pe(t.scroller,"DOMMouseScroll",(function(t){return no(e,t)})),pe(t.wrapper,"scroll",(function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0})),t.dragFunctions={enter:function(t){be(e,t)||ke(t)},over:function(t){be(e,t)||(Sa(e,t),ke(t))},start:function(t){return ka(e,t)},drop:Ri(e,Aa),leave:function(t){be(e,t)||_a(e)}};var c=t.input.getField();pe(c,"keyup",(function(t){return us.call(e,t)})),pe(c,"keydown",Ri(e,ls)),pe(c,"keypress",Ri(e,ds)),pe(c,"focus",(function(t){return Xr(e,t)})),pe(c,"blur",(function(t){return Yr(e,t)}))}Ms.defaults=Rs,Ms.optionHandlers=Ns;var Fs=[];function js(e,t,n,r){var i,o=e.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?i=bt(e,t).state:n="prev");var a=e.options.tabSize,s=Xe(o,t),l=F(s.text,null,a);s.stateAfter&&(s.stateAfter=null);var c,u=s.text.match(/^\s*/)[0];if(r||/\S/.test(s.text)){if("smart"==n&&(c=o.mode.indent(i,s.text.slice(u.length),s.text),c==$||c>150)){if(!r)return;n="prev"}}else c=0,n="not";"prev"==n?c=t>o.first?F(Xe(o,t-1).text,null,a):0:"add"==n?c=l+e.options.indentUnit:"subtract"==n?c=l-e.options.indentUnit:"number"==typeof n&&(c=l+n),c=Math.max(0,c);var d="",f=0;if(e.options.indentWithTabs)for(var h=Math.floor(c/a);h;--h)f+=a,d+="\t";if(f<c&&(d+=U(c-f)),d!=u)return ra(o,d,it(t,0),it(t,u.length),"+input"),s.stateAfter=null,!0;for(var p=0;p<o.sel.ranges.length;p++){var m=o.sel.ranges[p];if(m.head.line==t&&m.head.ch<u.length){var g=it(t,u.length);Po(o,p,new io(g,g));break}}}Ms.defineInitHook=function(e){return Fs.push(e)};var Hs=null;function zs(e){Hs=e}function $s(e,t,n,r,i){var o=e.doc;e.display.shift=!1,r||(r=o.sel);var a=+new Date-200,s="paste"==i||e.state.pasteIncoming>a,l=Le(t),c=null;if(s&&r.ranges.length>1)if(Hs&&Hs.text.join("\n")==t){if(r.ranges.length%Hs.text.length==0){c=[];for(var u=0;u<Hs.text.length;u++)c.push(o.splitLines(Hs.text[u]))}}else l.length==r.ranges.length&&e.options.pasteLinesPerSelection&&(c=X(l,(function(e){return[e]})));for(var d=e.curOp.updateInput,f=r.ranges.length-1;f>=0;f--){var h=r.ranges[f],p=h.from(),m=h.to();h.empty()&&(n&&n>0?p=it(p.line,p.ch-n):e.state.overwrite&&!s?m=it(m.line,Math.min(Xe(o,m.line).text.length,m.ch+q(l).length)):s&&Hs&&Hs.lineWise&&Hs.text.join("\n")==t&&(p=m=it(p.line,0)));var g={from:p,to:m,text:c?c[f%c.length]:l,origin:i||(s?"paste":e.state.cutIncoming>a?"cut":"+input")};Yo(e.doc,g),Tn(e,"inputRead",e,g)}t&&!s&&Ws(e,t),ai(e),e.curOp.updateInput<2&&(e.curOp.updateInput=d),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function Vs(e,t){var n=e.clipboardData&&e.clipboardData.getData("Text");if(n)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||Oi(t,(function(){return $s(t,n,0,null,"paste")})),!0}function Ws(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,r=n.ranges.length-1;r>=0;r--){var i=n.ranges[r];if(!(i.head.ch>100||r&&n.ranges[r-1].head.line==i.head.line)){var o=e.getModeAt(i.head),a=!1;if(o.electricChars){for(var s=0;s<o.electricChars.length;s++)if(t.indexOf(o.electricChars.charAt(s))>-1){a=js(e,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(Xe(e.doc,i.head.line).text.slice(0,i.head.ch))&&(a=js(e,i.head.line,"smart"));a&&Tn(e,"electricInput",e,i.head.line)}}}function Ks(e){for(var t=[],n=[],r=0;r<e.doc.sel.ranges.length;r++){var i=e.doc.sel.ranges[r].head.line,o={anchor:it(i,0),head:it(i+1,0)};n.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:n}}function Gs(e,t,n,r){e.setAttribute("autocorrect",n?"":"off"),e.setAttribute("autocapitalize",r?"":"off"),e.setAttribute("spellcheck",!!t)}function Zs(){var e=E("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=E("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return l?e.style.width="1000px":e.setAttribute("wrap","off"),m&&(e.style.border="1px solid black"),Gs(e),t}function Us(e){var t=e.optionHandlers,n=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,n){var r=this.options,i=r[e];r[e]==n&&"mode"!=e||(r[e]=n,t.hasOwnProperty(e)&&Ri(this,t[e])(this,n,i),ve(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Wa(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:Ni((function(t,n){var r=t.token?t:e.getMode(this.options,t);if(r.startState)throw new Error("Overlays may not be stateful.");Y(this.state.overlays,{mode:r,modeSpec:t,opaque:n&&n.opaque,priority:n&&n.priority||0},(function(e){return e.priority})),this.state.modeGen++,Mr(this)})),removeOverlay:Ni((function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var r=t[n].modeSpec;if(r==e||"string"==typeof e&&r.name==e)return t.splice(n,1),this.state.modeGen++,void Mr(this)}})),indentLine:Ni((function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),nt(this.doc,e)&&js(this,e,t,n)})),indentSelection:Ni((function(e){for(var t=this.doc.sel.ranges,n=-1,r=0;r<t.length;r++){var i=t[r];if(i.empty())i.head.line>n&&(js(this,i.head.line,e,!0),n=i.head.line,r==this.doc.sel.primIndex&&ai(this));else{var o=i.from(),a=i.to(),s=Math.max(n,o.line);n=Math.min(this.lastLine(),a.line-(a.ch?0:1))+1;for(var l=s;l<n;++l)js(this,l,e);var c=this.doc.sel.ranges;0==o.ch&&t.length==c.length&&c[r].from().ch>0&&Po(this.doc,r,new io(o,c[r].to()),V)}}})),getTokenAt:function(e,t){return It(this,e,t)},getLineTokens:function(e,t){return It(this,it(e),t,!0)},getTokenTypeAt:function(e){e=dt(this.doc,e);var t,n=vt(this,Xe(this.doc,e.line)),r=0,i=(n.length-1)/2,o=e.ch;if(0==o)t=n[2];else for(;;){var a=r+i>>1;if((a?n[2*a-1]:0)>=o)i=a;else{if(!(n[2*a+1]<o)){t=n[2*a+2];break}r=a+1}}var s=t?t.indexOf("overlay "):-1;return s<0?t:0==s?null:t.slice(0,s-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var r=[];if(!n.hasOwnProperty(t))return r;var i=n[t],o=this.getModeAt(e);if("string"==typeof o[t])i[o[t]]&&r.push(i[o[t]]);else if(o[t])for(var a=0;a<o[t].length;a++){var s=i[o[t][a]];s&&r.push(s)}else o.helperType&&i[o.helperType]?r.push(i[o.helperType]):i[o.name]&&r.push(i[o.name]);for(var l=0;l<i._global.length;l++){var c=i._global[l];c.pred(o,this)&&-1==H(r,c.val)&&r.push(c.val)}return r},getStateAfter:function(e,t){var n=this.doc;return e=ut(n,null==e?n.first+n.size-1:e),bt(this,e+1,t).state},cursorCoords:function(e,t){var n,r=this.doc.sel.primary();return n=null==e?r.head:"object"==typeof e?dt(this.doc,e):e?r.from():r.to(),br(this,n,t||"page")},charCoords:function(e,t){return vr(this,dt(this.doc,e),t||"page")},coordsChar:function(e,t){return e=gr(this,e,t||"page"),wr(this,e.left,e.top)},lineAtHeight:function(e,t){return e=gr(this,{top:e,left:0},t||"page").top,tt(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,n){var r,i=!1;if("number"==typeof e){var o=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>o&&(e=o,i=!0),r=Xe(this.doc,e)}else r=e;return mr(this,r,{top:0,left:0},t||"page",n||i).top+(i?this.doc.height-on(r):0)},defaultTextHeight:function(){return Tr(this.display)},defaultCharWidth:function(){return Er(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,r,i){var o=this.display;e=br(this,dt(this.doc,e));var a=e.bottom,s=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),o.sizer.appendChild(t),"over"==r)a=e.top;else if("above"==r||"near"==r){var l=Math.max(o.wrapper.clientHeight,this.doc.height),c=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==r||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?a=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(a=e.bottom),s+t.offsetWidth>c&&(s=c-t.offsetWidth)}t.style.top=a+"px",t.style.left=t.style.right="","right"==i?(s=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?s=0:"middle"==i&&(s=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=s+"px"),n&&ri(this,{left:s,top:a,right:s+t.offsetWidth,bottom:a+t.offsetHeight})},triggerOnKeyDown:Ni(ls),triggerOnKeyPress:Ni(ds),triggerOnKeyUp:us,triggerOnMouseDown:Ni(vs),execCommand:function(e){if(Xa.hasOwnProperty(e))return Xa[e].call(null,this)},triggerElectric:Ni((function(e){Ws(this,e)})),findPosH:function(e,t,n,r){var i=1;t<0&&(i=-1,t=-t);for(var o=dt(this.doc,e),a=0;a<t;++a)if(o=qs(this.doc,o,i,n,r),o.hitSide)break;return o},moveH:Ni((function(e,t){var n=this;this.extendSelectionsBy((function(r){return n.display.shift||n.doc.extend||r.empty()?qs(n.doc,r.head,e,t,n.options.rtlMoveVisually):e<0?r.from():r.to()}),K)})),deleteH:Ni((function(e,t){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):Ka(this,(function(n){var i=qs(r,n.head,e,t,!1);return e<0?{from:i,to:n.head}:{from:n.head,to:i}}))})),findPosV:function(e,t,n,r){var i=1,o=r;t<0&&(i=-1,t=-t);for(var a=dt(this.doc,e),s=0;s<t;++s){var l=br(this,a,"div");if(null==o?o=l.left:l.left=o,a=Xs(this,l,i,n),a.hitSide)break}return a},moveV:Ni((function(e,t){var n=this,r=this.doc,i=[],o=!this.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy((function(a){if(o)return e<0?a.from():a.to();var s=br(n,a.head,"div");null!=a.goalColumn&&(s.left=a.goalColumn),i.push(s.left);var l=Xs(n,s,e,t);return"page"==t&&a==r.sel.primary()&&oi(n,vr(n,l,"div").top-s.top),l}),K),i.length)for(var a=0;a<r.sel.ranges.length;a++)r.sel.ranges[a].goalColumn=i[a]})),findWordAt:function(e){var t=this.doc,n=Xe(t,e.line).text,r=e.ch,i=e.ch;if(n){var o=this.getHelper(e,"wordChars");"before"!=e.sticky&&i!=n.length||!r?++i:--r;var a=n.charAt(r),s=ne(a,o)?function(e){return ne(e,o)}:/\s/.test(a)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!ne(e)};while(r>0&&s(n.charAt(r-1)))--r;while(i<n.length&&s(n.charAt(i)))++i}return new io(it(e.line,r),it(e.line,i))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?L(this.display.cursorDiv,"CodeMirror-overwrite"):S(this.display.cursorDiv,"CodeMirror-overwrite"),ve(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==N()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Ni((function(e,t){si(this,e,t)})),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Zn(this)-this.display.barHeight,width:e.scrollWidth-Zn(this)-this.display.barWidth,clientHeight:qn(this),clientWidth:Un(this)}},scrollIntoView:Ni((function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:it(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?li(this,e):ui(this,e.from,e.to,e.margin)})),setSize:Ni((function(e,t){var n=this,r=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=r(e)),null!=t&&(this.display.wrapper.style.height=r(t)),this.options.lineWrapping&&ur(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,(function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){Pr(n,i,"widget");break}++i})),this.curOp.forceUpdate=!0,ve(this,"refresh",this)})),operation:function(e){return Oi(this,e)},startOperation:function(){return xi(this)},endOperation:function(){return Ii(this)},refresh:Ni((function(){var e=this.display.cachedTextHeight;Mr(this),this.curOp.forceUpdate=!0,dr(this),si(this,this.doc.scrollLeft,this.doc.scrollTop),Wi(this.display),(null==e||Math.abs(e-Tr(this.display))>.5||this.options.lineWrapping)&&Lr(this),ve(this,"refresh",this)})),swapDoc:Ni((function(e){var t=this.doc;return t.cm=null,this.state.selectingText&&this.state.selectingText(),bo(this,e),dr(this),this.display.input.reset(),si(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,Tn(this,"swapDoc",this,t),t})),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},we(e),e.registerHelper=function(t,r,i){n.hasOwnProperty(t)||(n[t]=e[t]={_global:[]}),n[t][r]=i},e.registerGlobalHelper=function(t,r,i,o){e.registerHelper(t,r,o),n[t]._global.push({pred:i,val:o})}}function qs(e,t,n,r,i){var o=t,a=n,s=Xe(e,t.line),l=i&&"rtl"==e.direction?-n:n;function c(){var n=t.line+l;return!(n<e.first||n>=e.first+e.size)&&(t=new it(n,t.ch,t.sticky),s=Xe(e,n))}function u(r){var o;if(o=i?qa(e.cm,s,t,n):Za(s,t,n),null==o){if(r||!c())return!1;t=Ua(i,e.cm,s,t.line,l)}else t=o;return!0}if("char"==r)u();else if("column"==r)u(!0);else if("word"==r||"group"==r)for(var d=null,f="group"==r,h=e.cm&&e.cm.getHelper(t,"wordChars"),p=!0;;p=!1){if(n<0&&!u(!p))break;var m=s.text.charAt(t.ch)||"\n",g=ne(m,h)?"w":f&&"\n"==m?"n":!f||/\s/.test(m)?null:"p";if(!f||p||g||(g="s"),d&&d!=g){n<0&&(n=1,u(),t.sticky="after");break}if(g&&(d=g),n>0&&!u(!p))break}var v=Zo(e,t,o,a,!0);return at(o,v)&&(v.hitSide=!0),v}function Xs(e,t,n,r){var i,o,a=e.doc,s=t.left;if("page"==r){var l=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),c=Math.max(l-.5*Tr(e.display),3);i=(n>0?t.bottom:t.top)+n*c}else"line"==r&&(i=n>0?t.bottom+3:t.top-3);for(;;){if(o=wr(e,s,i),!o.outside)break;if(n<0?i<=0:i>=a.height){o.hitSide=!0;break}i+=5*n}return o}var Ys=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new j,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Js(e,t){var n=er(e,t.line);if(!n||n.hidden)return null;var r=Xe(e.doc,t.line),i=Yn(n,r,t.line),o=fe(r,e.doc.direction),a="left";if(o){var s=ue(o,t.ch);a=s%2?"right":"left"}var l=or(i.map,t.ch,a);return l.offset="right"==l.collapse?l.end:l.start,l}function Qs(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}function el(e,t){return t&&(e.bad=!0),e}function tl(e,t,n,r,i){var o="",a=!1,s=e.doc.lineSeparator(),l=!1;function c(e){return function(t){return t.id==e}}function u(){a&&(o+=s,l&&(o+=s),a=l=!1)}function d(e){e&&(u(),o+=e)}function f(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(n)return void d(n);var o,h=t.getAttribute("cm-marker");if(h){var p=e.findMarks(it(r,0),it(i+1,0),c(+h));return void(p.length&&(o=p[0].find(0))&&d(Ye(e.doc,o.from,o.to).join(s)))}if("false"==t.getAttribute("contenteditable"))return;var m=/^(pre|div|p|li|table|br)$/i.test(t.nodeName);if(!/^br$/i.test(t.nodeName)&&0==t.textContent.length)return;m&&u();for(var g=0;g<t.childNodes.length;g++)f(t.childNodes[g]);/^(pre|p)$/i.test(t.nodeName)&&(l=!0),m&&(a=!0)}else 3==t.nodeType&&d(t.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;;){if(f(t),t==n)break;t=t.nextSibling,l=!1}return o}function nl(e,t,n){var r;if(t==e.display.lineDiv){if(r=e.display.lineDiv.childNodes[n],!r)return el(e.clipPos(it(e.display.viewTo-1)),!0);t=null,n=0}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==r)return rl(o,t,n)}}function rl(e,t,n){var r=e.text.firstChild,i=!1;if(!t||!R(r,t))return el(it(et(e.line),0),!0);if(t==r&&(i=!0,t=r.childNodes[n],n=0,!t)){var o=e.rest?q(e.rest):e.line;return el(it(et(o),o.text.length),i)}var a=3==t.nodeType?t:null,s=t;a||1!=t.childNodes.length||3!=t.firstChild.nodeType||(a=t.firstChild,n&&(n=a.nodeValue.length));while(s.parentNode!=r)s=s.parentNode;var l=e.measure,c=l.maps;function u(t,n,r){for(var i=-1;i<(c?c.length:0);i++)for(var o=i<0?l.map:c[i],a=0;a<o.length;a+=3){var s=o[a+2];if(s==t||s==n){var u=et(i<0?e.line:e.rest[i]),d=o[a]+r;return(r<0||s!=t)&&(d=o[a+(r?1:0)]),it(u,d)}}}var d=u(a,s,n);if(d)return el(d,i);for(var f=s.nextSibling,h=a?a.nodeValue.length-n:0;f;f=f.nextSibling){if(d=u(f,f.firstChild,0),d)return el(it(d.line,d.ch-h),i);h+=f.textContent.length}for(var p=s.previousSibling,m=n;p;p=p.previousSibling){if(d=u(p,p.firstChild,-1),d)return el(it(d.line,d.ch+m),i);m+=p.textContent.length}}Ys.prototype.init=function(e){var t=this,n=this,r=n.cm,i=n.div=e.lineDiv;function o(e){for(var t=e.target;t;t=t.parentNode){if(t==i)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(t.className))break}return!1}function a(e){if(o(e)&&!be(r,e)){if(r.somethingSelected())zs({lineWise:!1,text:r.getSelections()}),"cut"==e.type&&r.replaceSelection("",null,"cut");else{if(!r.options.lineWiseCopyCut)return;var t=Ks(r);zs({lineWise:!0,text:t.text}),"cut"==e.type&&r.operation((function(){r.setSelections(t.ranges,0,V),r.replaceSelection("",null,"cut")}))}if(e.clipboardData){e.clipboardData.clearData();var a=Hs.text.join("\n");if(e.clipboardData.setData("Text",a),e.clipboardData.getData("Text")==a)return void e.preventDefault()}var s=Zs(),l=s.firstChild;r.display.lineSpace.insertBefore(s,r.display.lineSpace.firstChild),l.value=Hs.text.join("\n");var c=document.activeElement;B(l),setTimeout((function(){r.display.lineSpace.removeChild(s),c.focus(),c==i&&n.showPrimarySelection()}),50)}}Gs(i,r.options.spellcheck,r.options.autocorrect,r.options.autocapitalize),pe(i,"paste",(function(e){!o(e)||be(r,e)||Vs(e,r)||s<=11&&setTimeout(Ri(r,(function(){return t.updateFromDOM()})),20)})),pe(i,"compositionstart",(function(e){t.composing={data:e.data,done:!1}})),pe(i,"compositionupdate",(function(e){t.composing||(t.composing={data:e.data,done:!1})})),pe(i,"compositionend",(function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)})),pe(i,"touchstart",(function(){return n.forceCompositionEnd()})),pe(i,"input",(function(){t.composing||t.readFromDOMSoon()})),pe(i,"copy",a),pe(i,"cut",a)},Ys.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")},Ys.prototype.prepareSelection=function(){var e=Vr(this.cm,!1);return e.focus=document.activeElement==this.div,e},Ys.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},Ys.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Ys.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,r=t.doc.sel.primary(),i=r.from(),o=r.to();if(t.display.viewTo==t.display.viewFrom||i.line>=t.display.viewTo||o.line<t.display.viewFrom)e.removeAllRanges();else{var a=nl(t,e.anchorNode,e.anchorOffset),s=nl(t,e.focusNode,e.focusOffset);if(!a||a.bad||!s||s.bad||0!=ot(ct(a,s),i)||0!=ot(lt(a,s),o)){var l=t.display.view,c=i.line>=t.display.viewFrom&&Js(t,i)||{node:l[0].measure.map[2],offset:0},u=o.line<t.display.viewTo&&Js(t,o);if(!u){var d=l[l.length-1].measure,f=d.maps?d.maps[d.maps.length-1]:d.map;u={node:f[f.length-1],offset:f[f.length-2]-f[f.length-3]}}if(c&&u){var h,p=e.rangeCount&&e.getRangeAt(0);try{h=k(c.node,c.offset,u.offset,u.node)}catch(m){}h&&(!n&&t.state.focused?(e.collapse(c.node,c.offset),h.collapsed||(e.removeAllRanges(),e.addRange(h))):(e.removeAllRanges(),e.addRange(h)),p&&null==e.anchorNode?e.addRange(p):n&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},Ys.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout((function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation((function(){return e.cm.curOp.selectionChanged=!0}))}),20)},Ys.prototype.showMultipleSelections=function(e){T(this.cm.display.cursorDiv,e.cursors),T(this.cm.display.selectionDiv,e.selection)},Ys.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},Ys.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return R(this.div,t)},Ys.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&document.activeElement==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Ys.prototype.blur=function(){this.div.blur()},Ys.prototype.getField=function(){return this.div},Ys.prototype.supportsTouch=function(){return!0},Ys.prototype.receivedFocus=function(){var e=this;function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))}this.selectionInEditor()?this.pollSelection():Oi(this.cm,(function(){return e.cm.curOp.selectionChanged=!0})),this.polling.set(this.cm.options.pollInterval,t)},Ys.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Ys.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(g&&u&&this.cm.display.gutterSpecs.length&&Qs(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=nl(t,e.anchorNode,e.anchorOffset),r=nl(t,e.focusNode,e.focusOffset);n&&r&&Oi(t,(function(){zo(t.doc,ao(n,r),V),(n.bad||r.bad)&&(t.curOp.selectionChanged=!0)}))}}},Ys.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,n,r=this.cm,i=r.display,o=r.doc.sel.primary(),a=o.from(),s=o.to();if(0==a.ch&&a.line>r.firstLine()&&(a=it(a.line-1,Xe(r.doc,a.line-1).length)),s.ch==Xe(r.doc,s.line).text.length&&s.line<r.lastLine()&&(s=it(s.line+1,0)),a.line<i.viewFrom||s.line>i.viewTo-1)return!1;a.line==i.viewFrom||0==(e=Br(r,a.line))?(t=et(i.view[0].line),n=i.view[0].node):(t=et(i.view[e].line),n=i.view[e-1].node.nextSibling);var l,c,u=Br(r,s.line);if(u==i.view.length-1?(l=i.viewTo-1,c=i.lineDiv.lastChild):(l=et(i.view[u+1].line)-1,c=i.view[u+1].node.previousSibling),!n)return!1;var d=r.doc.splitLines(tl(r,n,c,t,l)),f=Ye(r.doc,it(t,0),it(l,Xe(r.doc,l).text.length));while(d.length>1&&f.length>1)if(q(d)==q(f))d.pop(),f.pop(),l--;else{if(d[0]!=f[0])break;d.shift(),f.shift(),t++}var h=0,p=0,m=d[0],g=f[0],v=Math.min(m.length,g.length);while(h<v&&m.charCodeAt(h)==g.charCodeAt(h))++h;var b=q(d),y=q(f),C=Math.min(b.length-(1==d.length?h:0),y.length-(1==f.length?h:0));while(p<C&&b.charCodeAt(b.length-p-1)==y.charCodeAt(y.length-p-1))++p;if(1==d.length&&1==f.length&&t==a.line)while(h&&h>a.ch&&b.charCodeAt(b.length-p-1)==y.charCodeAt(y.length-p-1))h--,p++;d[d.length-1]=b.slice(0,b.length-p).replace(/^\u200b+/,""),d[0]=d[0].slice(h).replace(/\u200b+$/,"");var w=it(t,h),x=it(l,f.length?q(f).length-p:0);return d.length>1||d[0]||ot(w,x)?(ra(r.doc,d,w,x,"+input"),!0):void 0},Ys.prototype.ensurePolled=function(){this.forceCompositionEnd()},Ys.prototype.reset=function(){this.forceCompositionEnd()},Ys.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Ys.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout((function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()}),80))},Ys.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||Oi(this.cm,(function(){return Mr(e.cm)}))},Ys.prototype.setUneditable=function(e){e.contentEditable="false"},Ys.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||Ri(this.cm,$s)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},Ys.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},Ys.prototype.onContextMenu=function(){},Ys.prototype.resetPosition=function(){},Ys.prototype.needsContentAttribute=!0;var il=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new j,this.hasSelection=!1,this.composing=null};function ol(e,t){if(t=t?P(t):{},t.value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var n=N();t.autofocus=n==e||null!=e.getAttribute("autofocus")&&n==document.body}function r(){e.value=s.getValue()}var i;if(e.form&&(pe(e.form,"submit",r),!t.leaveSubmitMethodAlone)){var o=e.form;i=o.submit;try{var a=o.submit=function(){r(),o.submit=i,o.submit(),o.submit=a}}catch(l){}}t.finishInit=function(n){n.save=r,n.getTextArea=function(){return e},n.toTextArea=function(){n.toTextArea=isNaN,r(),e.parentNode.removeChild(n.getWrapperElement()),e.style.display="",e.form&&(ge(e.form,"submit",r),t.leaveSubmitMethodAlone||"function"!=typeof e.form.submit||(e.form.submit=i))}},e.style.display="none";var s=Ms((function(t){return e.parentNode.insertBefore(t,e.nextSibling)}),t);return s}function al(e){e.off=ge,e.on=pe,e.wheelEventPixels=to,e.Doc=xa,e.splitLines=Le,e.countColumn=F,e.findColumn=G,e.isWordChar=te,e.Pass=$,e.signal=ve,e.Line=ln,e.changeEnd=so,e.scrollbarModel=yi,e.Pos=it,e.cmpPos=ot,e.modes=Fe,e.mimeModes=je,e.resolveMode=$e,e.getMode=Ve,e.modeExtensions=We,e.extendMode=Ke,e.copyState=Ge,e.startState=Ue,e.innerMode=Ze,e.commands=Xa,e.keyMap=Pa,e.keyName=Va,e.isModifierKey=za,e.lookupKey=Ha,e.normalizeKeyMap=ja,e.StringStream=qe,e.SharedTextMarker=ga,e.TextMarker=pa,e.LineWidget=ua,e.e_preventDefault=xe,e.e_stopPropagation=Ie,e.e_stop=ke,e.addClass=L,e.contains=R,e.rmClass=S,e.keyNames=La}il.prototype.init=function(e){var t=this,n=this,r=this.cm;this.createField(e);var i=this.textarea;function o(e){if(!be(r,e)){if(r.somethingSelected())zs({lineWise:!1,text:r.getSelections()});else{if(!r.options.lineWiseCopyCut)return;var t=Ks(r);zs({lineWise:!0,text:t.text}),"cut"==e.type?r.setSelections(t.ranges,null,V):(n.prevInput="",i.value=t.text.join("\n"),B(i))}"cut"==e.type&&(r.state.cutIncoming=+new Date)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),m&&(i.style.width="0px"),pe(i,"input",(function(){a&&s>=9&&t.hasSelection&&(t.hasSelection=null),n.poll()})),pe(i,"paste",(function(e){be(r,e)||Vs(e,r)||(r.state.pasteIncoming=+new Date,n.fastPoll())})),pe(i,"cut",o),pe(i,"copy",o),pe(e.scroller,"paste",(function(t){if(!Vn(e,t)&&!be(r,t)){if(!i.dispatchEvent)return r.state.pasteIncoming=+new Date,void n.focus();var o=new Event("paste");o.clipboardData=t.clipboardData,i.dispatchEvent(o)}})),pe(e.lineSpace,"selectstart",(function(t){Vn(e,t)||xe(t)})),pe(i,"compositionstart",(function(){var e=r.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:e,range:r.markText(e,r.getCursor("to"),{className:"CodeMirror-composing"})}})),pe(i,"compositionend",(function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)}))},il.prototype.createField=function(e){this.wrapper=Zs(),this.textarea=this.wrapper.firstChild},il.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")},il.prototype.prepareSelection=function(){var e=this.cm,t=e.display,n=e.doc,r=Vr(e);if(e.options.moveInputWithCursor){var i=br(e,n.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),a=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+a.top-o.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+a.left-o.left))}return r},il.prototype.showSelection=function(e){var t=this.cm,n=t.display;T(n.cursorDiv,e.cursors),T(n.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},il.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var n=t.getSelection();this.textarea.value=n,t.state.focused&&B(this.textarea),a&&s>=9&&(this.hasSelection=n)}else e||(this.prevInput=this.textarea.value="",a&&s>=9&&(this.hasSelection=null))}},il.prototype.getField=function(){return this.textarea},il.prototype.supportsTouch=function(){return!1},il.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!v||N()!=this.textarea))try{this.textarea.focus()}catch(e){}},il.prototype.blur=function(){this.textarea.blur()},il.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},il.prototype.receivedFocus=function(){this.slowPoll()},il.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,(function(){e.poll(),e.cm.state.focused&&e.slowPoll()}))},il.prototype.fastPoll=function(){var e=!1,t=this;function n(){var r=t.poll();r||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,n))}t.pollingFast=!0,t.polling.set(20,n)},il.prototype.poll=function(){var e=this,t=this.cm,n=this.textarea,r=this.prevInput;if(this.contextMenuPending||!t.state.focused||De(n)&&!r&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var i=n.value;if(i==r&&!t.somethingSelected())return!1;if(a&&s>=9&&this.hasSelection===i||b&&/[\uf700-\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=i.charCodeAt(0);if(8203!=o||r||(r="​"),8666==o)return this.reset(),this.cm.execCommand("undo")}var l=0,c=Math.min(r.length,i.length);while(l<c&&r.charCodeAt(l)==i.charCodeAt(l))++l;return Oi(t,(function(){$s(t,i.slice(l),r.length-l,null,e.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?n.value=e.prevInput="":e.prevInput=i,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))})),!0},il.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},il.prototype.onKeyPress=function(){a&&s>=9&&(this.hasSelection=null),this.fastPoll()},il.prototype.onContextMenu=function(e){var t=this,n=t.cm,r=n.display,i=t.textarea;t.contextMenuPending&&t.contextMenuPending();var o=Dr(n,e),c=r.scroller.scrollTop;if(o&&!d){var u=n.options.resetSelectionOnContextMenu;u&&-1==n.doc.sel.contains(o)&&Ri(n,zo)(n.doc,ao(o),V);var f,h=i.style.cssText,p=t.wrapper.style.cssText,m=t.wrapper.offsetParent.getBoundingClientRect();if(t.wrapper.style.cssText="position: static",i.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-m.top-5)+"px; left: "+(e.clientX-m.left-5)+"px;\n      z-index: 1000; background: "+(a?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",l&&(f=window.scrollY),r.input.focus(),l&&window.scrollTo(null,f),r.input.reset(),n.somethingSelected()||(i.value=t.prevInput=" "),t.contextMenuPending=b,r.selForContextMenu=n.doc.sel,clearTimeout(r.detectingSelectAll),a&&s>=9&&v(),I){ke(e);var g=function(){ge(window,"mouseup",g),setTimeout(b,20)};pe(window,"mouseup",g)}else setTimeout(b,50)}function v(){if(null!=i.selectionStart){var e=n.somethingSelected(),o="​"+(e?i.value:"");i.value="⇚",i.value=o,t.prevInput=e?"":"​",i.selectionStart=1,i.selectionEnd=o.length,r.selForContextMenu=n.doc.sel}}function b(){if(t.contextMenuPending==b&&(t.contextMenuPending=!1,t.wrapper.style.cssText=p,i.style.cssText=h,a&&s<9&&r.scrollbars.setScrollTop(r.scroller.scrollTop=c),null!=i.selectionStart)){(!a||a&&s<9)&&v();var e=0,o=function(){r.selForContextMenu==n.doc.sel&&0==i.selectionStart&&i.selectionEnd>0&&"​"==t.prevInput?Ri(n,qo)(n):e++<10?r.detectingSelectAll=setTimeout(o,500):(r.selForContextMenu=null,r.input.reset())};r.detectingSelectAll=setTimeout(o,200)}}},il.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e},il.prototype.setUneditable=function(){},il.prototype.needsContentAttribute=!1,Ls(Ms),Us(Ms);var sl="iter insert remove copy getEditor constructor".split(" ");for(var ll in xa.prototype)xa.prototype.hasOwnProperty(ll)&&H(sl,ll)<0&&(Ms.prototype[ll]=function(e){return function(){return e.apply(this.doc,arguments)}}(xa.prototype[ll]));return we(xa),Ms.inputStyles={textarea:il,contenteditable:Ys},Ms.defineMode=function(e){Ms.defaults.mode||"null"==e||(Ms.defaults.mode=e),He.apply(this,arguments)},Ms.defineMIME=ze,Ms.defineMode("null",(function(){return{token:function(e){return e.skipToEnd()}}})),Ms.defineMIME("text/plain","null"),Ms.defineExtension=function(e,t){Ms.prototype[e]=t},Ms.defineDocExtension=function(e,t){xa.prototype[e]=t},Ms.fromTextArea=ol,al(Ms),Ms.version="5.55.0",Ms}))},"56cd1":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-drawer",{attrs:{title:"数据权限规则",width:e.drawerWidth,visible:e.visible},on:{close:e.onClose}},[n("div",{style:{padding:"10px",border:"1px solid #e9e9e9",background:"#fff"}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchQuery(t)}}},[n("a-row",{attrs:{gutter:12}},[n("a-col",{attrs:{md:8,sm:8}},[n("a-form-item",{attrs:{label:"规则名称",labelCol:{span:8},wrapperCol:{span:14,offset:1}}},[n("a-input",{attrs:{placeholder:"请输入规则名称"},model:{value:e.queryParam.ruleName,callback:function(t){e.$set(e.queryParam,"ruleName",t)},expression:"queryParam.ruleName"}})],1)],1),n("a-col",{attrs:{md:8,sm:8}},[n("a-form-item",{attrs:{label:"规则值",labelCol:{span:8},wrapperCol:{span:14,offset:1}}},[n("a-input",{attrs:{placeholder:"请输入规则值"},model:{value:e.queryParam.ruleValue,callback:function(t){e.$set(e.queryParam,"ruleValue",t)},expression:"queryParam.ruleValue"}})],1)],1),n("a-col",{attrs:{md:7,sm:8}},[n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")])],1)])],1),n("a-row",[n("a-col",{attrs:{md:24,sm:24}},[n("a-button",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"primary",icon:"plus"},on:{click:e.addPermissionRule}},[e._v("添加")])],1)],1)],1),n("a-table",{ref:"table",attrs:{rowKey:"id",size:"middle",columns:e.columns,dataSource:e.dataSource,loading:e.loading,rowClassName:e.getRowClassname},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[n("a-icon",{attrs:{type:"edit"}}),e._v("编辑\n          ")],1),n("a-divider",{attrs:{type:"vertical"}}),n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete(r.id)}}},[n("a",[e._v("删除")])])],1)}}])})],1)]),n("permission-data-rule-modal",{ref:"modalForm",on:{ok:e.modalFormOk}})],1)},i=[],o=n("4ec3"),a=n("b65a"),s=n("7c33"),l=[{title:"规则名称",dataIndex:"ruleName",key:"ruleName"},{title:"规则字段",dataIndex:"ruleColumn",key:"ruleColumn"},{title:"规则值",dataIndex:"ruleValue",key:"ruleValue"},{title:"操作",dataIndex:"action",scopedSlots:{customRender:"action"},align:"center"}],c={name:"PermissionDataRuleList",mixins:[a["a"]],components:{PermissionDataRuleModal:s["default"]},data:function(){return{queryParam:{},drawerWidth:650,columns:l,permId:"",visible:!1,form:this.$form.createForm(this),loading:!1,url:{list:"/sys/permission/getPermRuleListByPermId",delete:"/sys/permission/deletePermissionRule"}}},created:function(){this.resetScreenSize()},methods:{loadData:function(){if(this.permId){var e=this;this.dataSource=[];var t=this.getQueryParams();Object(o["w"])(t).then((function(t){t.success&&(e.dataSource=t.result)}))}},edit:function(e){e.id&&(this.visible=!0,this.permId=e.id),this.queryParam={},this.queryParam.permissionId=e.id,this.visible=!0,this.loadData(),this.resetScreenSize()},addPermissionRule:function(){this.$refs.modalForm.add(this.permId),this.$refs.modalForm.title="新增"},searchQuery:function(){var e=this,t=this.getQueryParams();t.permissionId=this.permId,Object(o["H"])(t).then((function(t){t.success&&(e.dataSource=t.result)}))},searchReset:function(){this.queryParam={},this.queryParam.permissionId=this.permId,this.loadData(1)},onClose:function(){this.visible=!1},resetScreenSize:function(){var e=document.body.clientWidth;this.drawerWidth=e<500?e:650},getRowClassname:function(e){if(1!=e.status)return"data-rule-invalid"}}},u=c,d=(n("315e"),n("2877")),f=Object(d["a"])(u,r,i,!1,null,null,null);t["default"]=f.exports},"57ed":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:e.title,width:600,visible:e.visible,confirmLoading:e.confirmLoading,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"字典名称"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["dictName",e.validatorRules.dictName],expression:"[ 'dictName', validatorRules.dictName]",modifiers:{trim:!0}}],attrs:{placeholder:"请输入字典名称"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"字典编码"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["dictCode",e.validatorRules.dictCode],expression:"[ 'dictCode', validatorRules.dictCode]",modifiers:{trim:!0}}],attrs:{placeholder:"请输入字典编码"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"描述"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["description"],expression:"[ 'description']"}]})],1)],1)],1)],1)},i=[],o=n("88bc"),a=n.n(o),s=n("4ec3"),l={name:"DictModal",data:function(){return{value:1,title:"操作",visible:!1,model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{dictName:{rules:[{required:!0,message:"请输入字典名称!"}]},dictCode:{rules:[{required:!0,message:"请输入字典编码!"},{validator:this.validateDictCode}]}}}},created:function(){},methods:{validateDictCode:function(e,t,n){var r={tableName:"sys_dict",fieldName:"dict_code",fieldVal:t,dataId:this.model.id};Object(s["m"])(r).then((function(e){e.success?n():n(e.message)}))},handleChange:function(e){this.model.status=e},add:function(){this.edit({})},edit:function(e){var t=this;e.id?this.visiblekey=!0:this.visiblekey=!1,this.form.resetFields(),this.model=Object.assign({},e),this.visible=!0,this.$nextTick((function(){t.form.setFieldsValue(a()(t.model,"dictName","dictCode","description"))}))},handleOk:function(){var e=this,t=this;this.form.validateFields((function(n,r){if(!n){t.confirmLoading=!0,r.dictName=(r.dictName||"").trim(),r.dictCode=(r.dictCode||"").trim(),r.description=(r.description||"").trim();var i,o=Object.assign(e.model,r);i=e.model.id?Object(s["n"])(o):Object(s["a"])(o),i.then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}}))},handleCancel:function(){this.close()},close:function(){this.$emit("close"),this.visible=!1}}},c=l,u=n("2877"),d=Object(u["a"])(c,r,i,!1,null,null,null);t["default"]=d.exports},5831:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:48}},[n("a-col",{attrs:{md:8,sm:24}},[n("a-form-item",{attrs:{label:"规则编号"}},[n("a-input",{attrs:{placeholder:""}})],1)],1),n("a-col",{attrs:{md:8,sm:24}},[n("a-form-item",{attrs:{label:"使用状态"}},[n("a-select",{attrs:{placeholder:"请选择","default-value":"0"}},[n("a-select-option",{attrs:{value:"0"}},[e._v("全部")]),n("a-select-option",{attrs:{value:"1"}},[e._v("关闭")]),n("a-select-option",{attrs:{value:"2"}},[e._v("运行中")])],1)],1)],1),e.advanced?[n("a-col",{attrs:{md:8,sm:24}},[n("a-form-item",{attrs:{label:"调用次数"}},[n("a-input-number",{staticStyle:{width:"100%"}})],1)],1),n("a-col",{attrs:{md:8,sm:24}},[n("a-form-item",{attrs:{label:"更新日期"}},[n("a-date-picker",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入更新日期"}})],1)],1),n("a-col",{attrs:{md:8,sm:24}},[n("a-form-item",{attrs:{label:"使用状态"}},[n("a-select",{attrs:{placeholder:"请选择","default-value":"0"}},[n("a-select-option",{attrs:{value:"0"}},[e._v("全部")]),n("a-select-option",{attrs:{value:"1"}},[e._v("关闭")]),n("a-select-option",{attrs:{value:"2"}},[e._v("运行中")])],1)],1)],1),n("a-col",{attrs:{md:8,sm:24}},[n("a-form-item",{attrs:{label:"使用状态"}},[n("a-select",{attrs:{placeholder:"请选择","default-value":"0"}},[n("a-select-option",{attrs:{value:"0"}},[e._v("全部")]),n("a-select-option",{attrs:{value:"1"}},[e._v("关闭")]),n("a-select-option",{attrs:{value:"2"}},[e._v("运行中")])],1)],1)],1)]:e._e(),n("a-col",{attrs:{md:e.advanced?24:8,sm:24}},[n("span",{staticClass:"table-page-search-submitButtons",style:e.advanced&&{float:"right",overflow:"hidden"}||{}},[n("a-button",{attrs:{type:"primary"}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v("重置")]),n("a",{staticStyle:{"margin-left":"8px"},on:{click:e.toggleAdvanced}},[e._v("\n              "+e._s(e.advanced?"收起":"展开")+"\n              "),n("a-icon",{attrs:{type:e.advanced?"up":"down"}})],1)],1)])],2)],1)],1),n("div",{staticClass:"table-operator"},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:function(){return e.$router.push({name:"anime-add"})}}},[e._v("新建")]),e.selectedRowKeys.length>0?n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1"},[n("a-icon",{attrs:{type:"delete"}}),e._v("删除")],1),n("a-menu-item",{key:"2"},[n("a-icon",{attrs:{type:"lock"}}),e._v("锁定")],1)],1),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v("\n        批量操作 "),n("a-icon",{attrs:{type:"down"}})],1)],1):e._e()],1),n("s-table",{ref:"table",attrs:{size:"default",columns:e.columns,data:e.loadData,showAlertInfo:!0},on:{onSelect:e.onChange},scopedSlots:e._u([e._l(e.columns,(function(t,r){return{key:t.dataIndex,fn:function(r,i,o){return t.scopedSlots?[n("div",{key:o},[i.editable?n("a-input",{staticStyle:{margin:"-5px 0"},attrs:{value:r},on:{change:function(n){return e.handleChange(n.target.value,i.key,t)}}}):[e._v(e._s(r))]],2)]:void 0}}})),{key:"action",fn:function(t,r,i){return[n("div",{staticClass:"editable-row-operations"},[r.editable?n("span",[n("a",{on:{click:function(){return e.save(r)}}},[e._v("保存")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-popconfirm",{attrs:{title:"真的放弃编辑吗?"},on:{confirm:function(){return e.cancel(r)}}},[n("a",[e._v("取消")])])],1):n("span",[n("a",{staticClass:"edit",on:{click:function(){return e.edit(r)}}},[e._v("修改")]),n("a-divider",{attrs:{type:"vertical"}}),n("a",{staticClass:"delete",on:{click:function(){return e.del(r)}}},[e._v("删除")])],1)])]}}],null,!0)})],1)},i=[],o=n("e8c4"),a={name:"TableList",components:{STable:o["a"]},data:function(){var e=this;return{advanced:!1,queryParam:{},columns:[{title:"规则编号",dataIndex:"no",width:90},{title:"描述",dataIndex:"description",scopedSlots:{customRender:"description"}},{title:"服务调用次数",dataIndex:"callNo",width:"150px",sorter:!0,needTotal:!0,scopedSlots:{customRender:"callNo"}},{title:"状态",dataIndex:"status",width:"100px",needTotal:!0,scopedSlots:{customRender:"status"}},{title:"更新时间",dataIndex:"updatedAt",width:"150px",sorter:!0,scopedSlots:{customRender:"updatedAt"}},{table:"操作",dataIndex:"action",width:"120px",scopedSlots:{customRender:"action"}}],loadData:function(t){return e.$http.get("/api/service",{params:Object.assign(t,e.queryParam)}).then((function(e){return e.result}))},selectedRowKeys:[],selectedRows:[]}},methods:{handleChange:function(e,t,n){},edit:function(e){e.editable=!0,this.$refs.table.updateEdit()},del:function(e){this.$confirm({title:"警告",content:"真的要删除吗?",okText:"删除",okType:"danger",cancelText:"取消",onOk:function(){return new Promise((function(e,t){setTimeout(Math.random()>.5?e:t,1e3)})).catch((function(){}))},onCancel:function(){}})},save:function(e){delete e.editable,this.$refs.table.updateEdit()},cancel:function(e){delete e.editable,this.$refs.table.updateEdit()},onChange:function(e){this.selectedRowKeys=e.selectedRowKeys,this.selectedRows=e.selectedRows},toggleAdvanced:function(){this.advanced=!this.advanced}},watch:{}},s=a,l=(n("bf8e"),n("2877")),c=Object(l["a"])(s,r,i,!1,null,"f39252d0",null);t["default"]=c.exports},5859:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:10}},[n("a-col",{attrs:{md:10,sm:12}},[n("a-form-item",{staticStyle:{"margin-left":"8px"},attrs:{label:"用户账号"}},[n("a-input",{attrs:{placeholder:"请输入账号"},model:{value:e.queryParam.username,callback:function(t){e.$set(e.queryParam,"username",t)},expression:"queryParam.username"}})],1)],1),n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-col",{attrs:{md:6,sm:24}},[n("a-button",{staticStyle:{"margin-left":"18px"},attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")])],1)],1)],1)],1)],1),n("div",{staticClass:"table-operator",staticStyle:{"margin-top":"-15px"},attrs:{md:24,sm:24}},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.handleAddUserDepart}},[e._v("添加已有用户")]),n("a-button",{staticStyle:{"margin-top":"16px"},attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("新建用户")]),e.selectedRowKeys.length>0?n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:e.batchDel}},[n("a-icon",{attrs:{type:"delete"}}),e._v("\n          取消关联\n        ")],1)],1),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v(" 批量操作\n        "),n("a-icon",{attrs:{type:"down"}})],1)],1):e._e()],1),n("div",[n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),e._v(" 已选择 "),n("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRowKeys.length))]),e._v("项\n      "),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])]),n("a-table",{ref:"table",attrs:{size:"middle",bordered:"",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link"},[e._v("\n            更多 "),n("a-icon",{attrs:{type:"down"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.handleDeptRole(r)}}},[e._v("分配部门角色")])]),n("a-menu-item",[n("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.handleDetail(r)}}},[e._v("用户详情")])]),n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定取消与选中部门关联吗?"},on:{confirm:function(){return e.handleDelete(r.id)}}},[n("a",[e._v("取消关联")])])],1)],1)],1)],1)}}])})],1),n("user-modal",{ref:"modalForm",on:{ok:e.modalFormOk}}),n("Select-User-Modal",{ref:"selectUserModal",on:{selectFinished:e.selectOK}}),n("dept-role-user-modal",{ref:"deptRoleUser"})],1)},i=[],o=n("b65a"),a=n("0fea"),s=n("b3c4"),l=n("418f"),c=n("8034"),u={name:"DeptUserInfo",mixins:[o["a"]],components:{DeptRoleUserModal:c["default"],SelectUserModal:s["default"],UserModal:l["default"]},data:function(){return{description:"用户信息",currentDeptId:"",columns:[{title:"用户账号",align:"center",dataIndex:"username"},{title:"用户名称",align:"center",dataIndex:"realname"},{title:"部门",align:"center",dataIndex:"orgCode"},{title:"性别",align:"center",dataIndex:"sex_dictText"},{title:"电话",align:"center",dataIndex:"phone"},{title:"操作",dataIndex:"action",scopedSlots:{customRender:"action"},align:"center",width:150}],url:{list:"/sys/user/departUserList",edit:"/sys/user/editSysDepartWithUser",delete:"/sys/user/deleteUserInDepart",deleteBatch:"/sys/user/deleteUserInDepartBatch"}}},created:function(){},methods:{searchReset:function(){this.queryParam={},this.loadData(1)},loadData:function(e){var t=this;if(this.url.list){1===e&&(this.ipagination.current=1);var n=this.getQueryParams();n.depId=this.currentDeptId,Object(a["c"])(this.url.list,n).then((function(e){e.success&&e.result&&(t.dataSource=e.result.records,t.ipagination.total=e.result.total)}))}else this.$message.error("请设置url.list属性!")},batchDel:function(){if(this.url.deleteBatch)if(this.currentDeptId)if(this.selectedRowKeys.length<=0)this.$message.warning("请选择一条记录！");else{for(var e="",t=0;t<this.selectedRowKeys.length;t++)e+=this.selectedRowKeys[t]+",";var n=this;this.$confirm({title:"确认取消",content:"是否取消用户与选中部门的关联?",onOk:function(){Object(a["a"])(n.url.deleteBatch,{depId:n.currentDeptId,userIds:e}).then((function(e){e.success?(n.$message.success("删除用户与选中部门关系成功！"),n.loadData(),n.onClearSelected()):n.$message.warning(e.message)}))}})}else this.$message.error("未选中任何部门，无法取消部门与用户的关联!");else this.$message.error("请设置url.deleteBatch属性!")},handleDelete:function(e){var t=this;if(this.url.delete)if(this.currentDeptId){var n=this;Object(a["a"])(n.url.delete,{depId:this.currentDeptId,userId:e}).then((function(r){if(r.success){if(n.$message.success("删除用户与选中部门关系成功！"),t.selectedRowKeys.length>0)for(var i=0;i<t.selectedRowKeys.length;i++)if(t.selectedRowKeys[i]==e){t.selectedRowKeys.splice(i,1);break}n.loadData()}else n.$message.warning(r.message)}))}else this.$message.error("未选中任何部门，无法取消部门与用户的关联!");else this.$message.error("请设置url.delete属性!")},open:function(e){this.currentDeptId=e.id,this.loadData(1)},clearList:function(){this.currentDeptId="",this.dataSource=[]},hasSelectDept:function(){return""!=this.currentDeptId||(this.$message.error("请选择一个部门!"),!1)},handleAddUserDepart:function(){""==this.currentDeptId?this.$message.error("请选择一个部门!"):this.$refs.selectUserModal.visible=!0},handleEdit:function(e){this.$refs.modalForm.title="编辑",this.$refs.modalForm.departDisabled=!0,this.$refs.modalForm.disableSubmit=!1,this.$refs.modalForm.edit(e)},handleAdd:function(){""==this.currentDeptId?this.$message.error("请选择一个部门!"):(this.$refs.modalForm.departDisabled=!0,this.$refs.modalForm.userDepartModel.departIdList=[this.currentDeptId],this.$refs.modalForm.add(),this.$refs.modalForm.title="新增")},selectOK:function(e){var t=this,n={};n.depId=this.currentDeptId,n.userIdList=[];for(var r=0;r<e.length;r++)n.userIdList.push(e[r]);Object(a["i"])(this.url.edit,n).then((function(e){e.success?(t.$message.success(e.message),t.loadData()):t.$message.warning(e.message)}))},handleDeptRole:function(e){""!=this.currentDeptId?(this.$refs.deptRoleUser.add(e,this.currentDeptId),this.$refs.deptRoleUser.title="部门角色分配"):this.$message.warning("请先选择一个部门!")}}},d=u,f=(n("7199"),n("2877")),h=Object(f["a"])(d,r,i,!1,null,"2a31c5e6",null);t["default"]=h.exports},"588f":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{display:"none"}},[n("iframe",{attrs:{id:e.id,src:e.url,frameborder:"0",width:"100%",height:"550px",scrolling:"auto"}})])},i=[],o=n("2b0e"),a=n("9fb0"),s={name:"PdfPreviewModal",data:function(){return{url:window._CONFIG["pdfDomainURL"],id:"pdfPreviewIframe",headers:{}}},created:function(){var e=o["default"].ls.get(a["a"]);this.headers={"X-Access-Token":e}},computed:{},mounted:function(){window.addEventListener("message",this.handleScanFileMessage)},methods:{handleScanFileMessage:function(e){e.data},previewFiles:function(e,t){var n=document.getElementById("pdfPreviewIframe"),r={title:e,token:t};n.contentWindow.postMessage(r,"*")}}},l=s,c=n("2877"),u=Object(c["a"])(l,r,i,!1,null,"afa3ac78",null);t["default"]=u.exports},"58e3":function(e,t,n){"use strict";var r=n("7d19"),i=n.n(r);i.a},"58f7":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return""!==e.tips?n("tooltip",[n("template",{slot:"title"},[e._v(e._s(e.tips))]),n("avatar",{attrs:{size:e.avatarSize,src:e.src}})],2):n("avatar",{attrs:{size:e.avatarSize,src:e.src}})},i=[],o=n("27fd"),a=n("f933"),s={name:"AvatarItem",components:{Avatar:o["a"],Tooltip:a["a"]},props:{tips:{type:String,default:"",required:!1},src:{type:String,default:""}},data:function(){return{size:this.$parent.size}},computed:{avatarSize:function(){return"mini"!==this.size&&this.size||20}},watch:{"$parent.size":function(e){this.size=e}}},l=s,c=n("2877"),u=Object(c["a"])(l,r,i,!1,null,null,null);t["default"]=u.exports},"59a0":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("a-drawer",{attrs:{title:"字典列表",width:e.screenWidth,visible:e.visible},on:{close:e.onClose}},[n("div",{style:{padding:"10px",border:"1px solid #e9e9e9",background:"#fff"}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline",form:e.form},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchQuery(t)}}},[n("a-row",{attrs:{gutter:10}},[n("a-col",{attrs:{md:8,sm:12}},[n("a-form-item",{attrs:{label:"名称"}},[n("a-input",{staticStyle:{width:"120px"},attrs:{placeholder:"请输入名称"},model:{value:e.queryParam.itemText,callback:function(t){e.$set(e.queryParam,"itemText",t)},expression:"queryParam.itemText"}})],1)],1),n("a-col",{attrs:{md:9,sm:24}},[n("a-form-item",{staticStyle:{width:"170px"},attrs:{label:"状态",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("a-select",{attrs:{placeholder:"请选择"},model:{value:e.queryParam.status,callback:function(t){e.$set(e.queryParam,"status",t)},expression:"queryParam.status"}},[n("a-select-option",{attrs:{value:"1"}},[e._v("正常")]),n("a-select-option",{attrs:{value:"0"}},[e._v("禁用")])],1)],1)],1),n("a-col",{attrs:{md:7,sm:24}},[n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left"}},[n("a-button",{attrs:{type:"primary"},on:{click:e.searchQuery}},[e._v("搜索")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary"},on:{click:e.searchReset}},[e._v("重置")])],1)])],1),n("a-row",[n("a-col",{attrs:{md:2,sm:24}},[n("a-button",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("新增")])],1)],1)],1)],1),n("div",[n("a-table",{ref:"table",attrs:{rowKey:"id",size:"middle",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete(r.id)}}},[n("a",[e._v("删除")])])],1)}}])})],1)])]),n("dict-item-modal",{ref:"modalForm",on:{ok:e.modalFormOk}})],1)},i=[],o=n("88bc"),a=n.n(o),s=n("ca00"),l=n("8144"),c=n("b65a"),u={name:"DictItemList",mixins:[c["a"]],components:{DictItemModal:l["default"]},data:function(){return{columns:[{title:"名称",align:"center",dataIndex:"itemText"},{title:"数据值",align:"center",dataIndex:"itemValue"},{title:"操作",dataIndex:"action",align:"center",scopedSlots:{customRender:"action"}}],queryParam:{dictId:"",dictName:"",itemText:"",delFlag:"1",status:[]},title:"操作",visible:!1,screenWidth:800,model:{},dictId:"",status:1,labelCol:{xs:{span:5},sm:{span:5}},wrapperCol:{xs:{span:12},sm:{span:12}},form:this.$form.createForm(this),validatorRules:{itemText:{rules:[{required:!0,message:"请输入名称!"}]},itemValue:{rules:[{required:!0,message:"请输入数据值!"}]}},url:{list:"/sys/dictItem/list",delete:"/sys/dictItem/delete",deleteBatch:"/sys/dictItem/deleteBatch"}}},created:function(){this.resetScreenSize()},methods:{add:function(e){this.dictId=e,this.edit({})},edit:function(e){var t=this;e.id&&(this.dictId=e.id),this.queryParam={},this.form.resetFields(),this.model=Object.assign({},e),this.model.dictId=this.dictId,this.model.status=this.status,this.visible=!0,this.$nextTick((function(){t.form.setFieldsValue(a()(t.model,"itemText","itemValue"))})),this.loadData()},getQueryParams:function(){var e=Object.assign({},this.queryParam);return e.dictId=this.dictId,e.field=this.getQueryField(),e.pageNo=this.ipagination.current,e.pageSize=this.ipagination.pageSize,this.superQueryParams&&(e["superQueryParams"]=encodeURI(this.superQueryParams),e["superQueryMatchType"]=this.superQueryMatchType),Object(s["d"])(e)},handleAdd:function(){this.$refs.modalForm.add(this.dictId),this.$refs.modalForm.title="新增"},showDrawer:function(){this.visible=!0},onClose:function(){this.visible=!1,this.form.resetFields(),this.dataSource=[]},resetScreenSize:function(){var e=document.body.clientWidth;this.screenWidth=e<600?e:600}}},d=u,f=n("2877"),h=Object(f["a"])(d,r,i,!1,null,"48e143fe",null);t["default"]=h.exports},"59a3":function(e,t,n){"use strict";var r=n("6163"),i=n.n(r);i.a},"5aa8":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=this,n=t.$createElement,r=t._self._c||n;return r("a-card",{attrs:{bordered:!1}},[r("div",{staticClass:"table-page-search-wrapper"},[r("a-form",{attrs:{layout:"inline"}},[r("a-row",{attrs:{gutter:48}},[r("a-col",{attrs:{md:8,sm:24}},[r("a-form-item",{attrs:{label:"角色ID"}},[r("a-input",{attrs:{placeholder:"请输入"}})],1)],1),r("a-col",{attrs:{md:8,sm:24}},[r("a-form-item",{attrs:{label:"状态"}},[r("a-select",{attrs:{placeholder:"请选择","default-value":"0"}},[r("a-select-option",{attrs:{value:"0"}},[t._v("全部")]),r("a-select-option",{attrs:{value:"1"}},[t._v("关闭")]),r("a-select-option",{attrs:{value:"2"}},[t._v("运行中")])],1)],1)],1),r("a-col",{attrs:{md:8,sm:24}},[r("span",{staticClass:"table-page-search-submitButtons"},[r("a-button",{attrs:{type:"primary"}},[t._v("查询")]),r("a-button",{staticStyle:{"margin-left":"8px"}},[t._v("重置")])],1)])],1)],1)],1),r("s-table",{attrs:{columns:t.columns,data:t.loadData},scopedSlots:t._u([{key:"actions",fn:function(e,n){return r("span",{},t._l(n.actionList,(function(e,n){return r("a-tag",{key:n},[t._v(t._s(e.describe))])})),1)}},{key:"status",fn:function(e){return r("span",{},[t._v("\n      "+t._s(t._f("statusFilter")(e))+"\n    ")])}},{key:"action",fn:function(e,n){return r("span",{},[r("a",{on:{click:function(e){return t.handleEdit(n)}}},[t._v("编辑")]),r("a-divider",{attrs:{type:"vertical"}}),r("a-dropdown",[r("a",{staticClass:"ant-dropdown-link"},[t._v("\n          更多 "),r("a-icon",{attrs:{type:"down"}})],1),r("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[r("a-menu-item",[r("a",{attrs:{href:"javascript:;"}},[t._v("详情")])]),r("a-menu-item",[r("a",{attrs:{href:"javascript:;"}},[t._v("禁用")])]),r("a-menu-item",[r("a",{attrs:{href:"javascript:;"}},[t._v("删除")])])],1)],1)],1)}}])}),r("a-modal",{attrs:{title:"操作",width:800},on:{ok:t.handleOk},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[r("a-form",{attrs:{autoFormCreate:function(t){e.form=t}}},[r("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"唯一识别码",hasFeedback:"",validateStatus:"success"}},[r("a-input",{attrs:{placeholder:"唯一识别码",id:"no",disabled:"disabled"},model:{value:t.mdl.id,callback:function(e){t.$set(t.mdl,"id",e)},expression:"mdl.id"}})],1),r("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"权限名称",hasFeedback:"",validateStatus:"success"}},[r("a-input",{attrs:{placeholder:"起一个名字",id:"permission_name"},model:{value:t.mdl.name,callback:function(e){t.$set(t.mdl,"name",e)},expression:"mdl.name"}})],1),r("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"状态",hasFeedback:"",validateStatus:"warning"}},[r("a-select",{model:{value:t.mdl.status,callback:function(e){t.$set(t.mdl,"status",e)},expression:"mdl.status"}},[r("a-select-option",{attrs:{value:"1"}},[t._v("正常")]),r("a-select-option",{attrs:{value:"2"}},[t._v("禁用")])],1)],1),r("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"描述",hasFeedback:""}},[r("a-textarea",{attrs:{rows:5,placeholder:"...",id:"describe"},model:{value:t.mdl.describe,callback:function(e){t.$set(t.mdl,"describe",e)},expression:"mdl.describe"}})],1),r("a-divider"),r("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"赋予权限",hasFeedback:""}},[r("a-select",{staticStyle:{width:"100%"},attrs:{mode:"multiple",allowClear:!0},model:{value:t.mdl.actions,callback:function(e){t.$set(t.mdl,"actions",e)},expression:"mdl.actions"}},t._l(t.permissionList,(function(e,n){return r("a-select-option",{key:n,attrs:{value:e.value}},[t._v(t._s(e.label))])})),1)],1)],1)],1)],1)},i=[],o=n("e8c4"),a={name:"TableList",components:{STable:o["a"]},data:function(){var e=this;return{description:"列表使用场景：后台管理中的权限管理以及角色管理，可用于基于 RBAC 设计的角色权限控制，颗粒度细到每一个操作类型。",visible:!1,labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},form:null,mdl:{},advanced:!1,queryParam:{},columns:[{title:"唯一识别码",dataIndex:"id"},{title:"权限名称",dataIndex:"name"},{title:"可操作权限",dataIndex:"actions",scopedSlots:{customRender:"actions"}},{title:"状态",dataIndex:"status",scopedSlots:{customRender:"status"}},{title:"操作",width:"150px",dataIndex:"action",scopedSlots:{customRender:"action"}}],permissionList:null,loadData:function(t){return e.$http.get("/api/permission",{params:Object.assign(t,e.queryParam)}).then((function(e){var t=e.result;return t.data.map((function(e){return e.actionList=JSON.parse(e.actionData),e})),t}))},selectedRowKeys:[],selectedRows:[]}},filters:{statusFilter:function(e){var t={1:"正常",2:"禁用"};return t[e]}},created:function(){this.loadPermissionList()},methods:{loadPermissionList:function(){var e=this;new Promise((function(e){var t=[{label:"新增",value:"add",defaultChecked:!1},{label:"查询",value:"get",defaultChecked:!1},{label:"修改",value:"update",defaultChecked:!1},{label:"列表",value:"query",defaultChecked:!1},{label:"删除",value:"delete",defaultChecked:!1},{label:"导入",value:"import",defaultChecked:!1},{label:"导出",value:"export",defaultChecked:!1}];setTimeout(e(t),1500)})).then((function(t){e.permissionList=t}))},handleEdit:function(e){this.mdl=Object.assign({},e),this.visible=!0},handleOk:function(){},onChange:function(e,t){this.selectedRowKeys=e,this.selectedRows=t},toggleAdvanced:function(){this.advanced=!this.advanced}},watch:{}},s=a,l=n("2877"),c=Object(l["a"])(s,r,i,!1,null,null,null);t["default"]=c.exports},"5b37":function(e,t,n){},"5bef":function(e,t,n){(function(e){e(n("56b3"),n("f9d4"),n("7b00"),n("d69f"))})((function(e){"use strict";e.defineMode("pug",(function(t){var n="keyword",r="meta",i="builtin",o="qualifier",a={"{":"}","(":")","[":"]"},s=e.getMode(t,"javascript");function l(){this.javaScriptLine=!1,this.javaScriptLineExcludesColon=!1,this.javaScriptArguments=!1,this.javaScriptArgumentsDepth=0,this.isInterpolating=!1,this.interpolationNesting=0,this.jsState=e.startState(s),this.restOfLine="",this.isIncludeFiltered=!1,this.isEach=!1,this.lastTag="",this.scriptType="",this.isAttrs=!1,this.attrsNest=[],this.inAttributeName=!0,this.attributeIsType=!1,this.attrValue="",this.indentOf=1/0,this.indentToken="",this.innerMode=null,this.innerState=null,this.innerModeForLine=!1}function c(e,t){if(e.sol()&&(t.javaScriptLine=!1,t.javaScriptLineExcludesColon=!1),t.javaScriptLine){if(t.javaScriptLineExcludesColon&&":"===e.peek())return t.javaScriptLine=!1,void(t.javaScriptLineExcludesColon=!1);var n=s.token(e,t.jsState);return e.eol()&&(t.javaScriptLine=!1),n||!0}}function u(e,t){if(t.javaScriptArguments){if(0===t.javaScriptArgumentsDepth&&"("!==e.peek())return void(t.javaScriptArguments=!1);if("("===e.peek()?t.javaScriptArgumentsDepth++:")"===e.peek()&&t.javaScriptArgumentsDepth--,0===t.javaScriptArgumentsDepth)return void(t.javaScriptArguments=!1);var n=s.token(e,t.jsState);return n||!0}}function d(e){if(e.match(/^yield\b/))return"keyword"}function f(e){if(e.match(/^(?:doctype) *([^\n]+)?/))return r}function h(e,t){if(e.match("#{"))return t.isInterpolating=!0,t.interpolationNesting=0,"punctuation"}function p(e,t){if(t.isInterpolating){if("}"===e.peek()){if(t.interpolationNesting--,t.interpolationNesting<0)return e.next(),t.isInterpolating=!1,"punctuation"}else"{"===e.peek()&&t.interpolationNesting++;return s.token(e,t.jsState)||!0}}function m(e,t){if(e.match(/^case\b/))return t.javaScriptLine=!0,n}function g(e,t){if(e.match(/^when\b/))return t.javaScriptLine=!0,t.javaScriptLineExcludesColon=!0,n}function v(e){if(e.match(/^default\b/))return n}function b(e,t){if(e.match(/^extends?\b/))return t.restOfLine="string",n}function y(e,t){if(e.match(/^append\b/))return t.restOfLine="variable",n}function C(e,t){if(e.match(/^prepend\b/))return t.restOfLine="variable",n}function w(e,t){if(e.match(/^block\b *(?:(prepend|append)\b)?/))return t.restOfLine="variable",n}function x(e,t){if(e.match(/^include\b/))return t.restOfLine="string",n}function I(e,t){if(e.match(/^include:([a-zA-Z0-9\-]+)/,!1)&&e.match("include"))return t.isIncludeFiltered=!0,n}function A(e,t){if(t.isIncludeFiltered){var n=L(e,t);return t.isIncludeFiltered=!1,t.restOfLine="string",n}}function k(e,t){if(e.match(/^mixin\b/))return t.javaScriptLine=!0,n}function S(e,t){return e.match(/^\+([-\w]+)/)?(e.match(/^\( *[-\w]+ *=/,!1)||(t.javaScriptArguments=!0,t.javaScriptArgumentsDepth=0),"variable"):e.match(/^\+#{/,!1)?(e.next(),t.mixinCallAfter=!0,h(e,t)):void 0}function _(e,t){if(t.mixinCallAfter)return t.mixinCallAfter=!1,e.match(/^\( *[-\w]+ *=/,!1)||(t.javaScriptArguments=!0,t.javaScriptArgumentsDepth=0),!0}function T(e,t){if(e.match(/^(if|unless|else if|else)\b/))return t.javaScriptLine=!0,n}function E(e,t){if(e.match(/^(- *)?(each|for)\b/))return t.isEach=!0,n}function O(e,t){if(t.isEach){if(e.match(/^ in\b/))return t.javaScriptLine=!0,t.isEach=!1,n;if(e.sol()||e.eol())t.isEach=!1;else if(e.next()){while(!e.match(/^ in\b/,!1)&&e.next());return"variable"}}}function R(e,t){if(e.match(/^while\b/))return t.javaScriptLine=!0,n}function N(e,t){var n;if(n=e.match(/^(\w(?:[-:\w]*\w)?)\/?/))return t.lastTag=n[1].toLowerCase(),"script"===t.lastTag&&(t.scriptType="application/javascript"),"tag"}function L(n,r){var i;if(n.match(/^:([\w\-]+)/))return t&&t.innerModes&&(i=t.innerModes(n.current().substring(1))),i||(i=n.current().substring(1)),"string"===typeof i&&(i=e.getMode(t,i)),G(n,r,i),"atom"}function D(e,t){if(e.match(/^(!?=|-)/))return t.javaScriptLine=!0,"punctuation"}function B(e){if(e.match(/^#([\w-]+)/))return i}function M(e){if(e.match(/^\.([\w-]+)/))return o}function P(e,t){if("("==e.peek())return e.next(),t.isAttrs=!0,t.attrsNest=[],t.inAttributeName=!0,t.attrValue="",t.attributeIsType=!1,"punctuation"}function F(t,n){if(n.isAttrs){if(a[t.peek()]&&n.attrsNest.push(a[t.peek()]),n.attrsNest[n.attrsNest.length-1]===t.peek())n.attrsNest.pop();else if(t.eat(")"))return n.isAttrs=!1,"punctuation";if(n.inAttributeName&&t.match(/^[^=,\)!]+/))return"="!==t.peek()&&"!"!==t.peek()||(n.inAttributeName=!1,n.jsState=e.startState(s),"script"===n.lastTag&&"type"===t.current().trim().toLowerCase()?n.attributeIsType=!0:n.attributeIsType=!1),"attribute";var r=s.token(t,n.jsState);if(n.attributeIsType&&"string"===r&&(n.scriptType=t.current().toString()),0===n.attrsNest.length&&("string"===r||"variable"===r||"keyword"===r))try{return Function("","var x "+n.attrValue.replace(/,\s*$/,"").replace(/^!/,"")),n.inAttributeName=!0,n.attrValue="",t.backUp(t.current().length),F(t,n)}catch(i){}return n.attrValue+=t.current(),r||!0}}function j(e,t){if(e.match(/^&attributes\b/))return t.javaScriptArguments=!0,t.javaScriptArgumentsDepth=0,"keyword"}function H(e){if(e.sol()&&e.eatSpace())return"indent"}function z(e,t){if(e.match(/^ *\/\/(-)?([^\n]*)/))return t.indentOf=e.indentation(),t.indentToken="comment","comment"}function $(e){if(e.match(/^: */))return"colon"}function V(e,t){return e.match(/^(?:\| ?| )([^\n]+)/)?"string":e.match(/^(<[^\n]*)/,!1)?(G(e,t,"htmlmixed"),t.innerModeForLine=!0,Z(e,t,!0)):void 0}function W(e,t){if(e.eat(".")){var n=null;return"script"===t.lastTag&&-1!=t.scriptType.toLowerCase().indexOf("javascript")?n=t.scriptType.toLowerCase().replace(/"|'/g,""):"style"===t.lastTag&&(n="css"),G(e,t,n),"dot"}}function K(e){return e.next(),null}function G(n,r,i){i=e.mimeModes[i]||i,i=t.innerModes&&t.innerModes(i)||i,i=e.mimeModes[i]||i,i=e.getMode(t,i),r.indentOf=n.indentation(),i&&"null"!==i.name?r.innerMode=i:r.indentToken="string"}function Z(t,n,r){if(t.indentation()>n.indentOf||n.innerModeForLine&&!t.sol()||r)return n.innerMode?(n.innerState||(n.innerState=n.innerMode.startState?e.startState(n.innerMode,t.indentation()):{}),t.hideFirstChars(n.indentOf+2,(function(){return n.innerMode.token(t,n.innerState)||!0}))):(t.skipToEnd(),n.indentToken);t.sol()&&(n.indentOf=1/0,n.indentToken=null,n.innerMode=null,n.innerState=null)}function U(e,t){if(e.sol()&&(t.restOfLine=""),t.restOfLine){e.skipToEnd();var n=t.restOfLine;return t.restOfLine="",n}}function q(){return new l}function X(e){return e.copy()}function Y(e,t){var n=Z(e,t)||U(e,t)||p(e,t)||A(e,t)||O(e,t)||F(e,t)||c(e,t)||u(e,t)||_(e,t)||d(e)||f(e)||h(e,t)||m(e,t)||g(e,t)||v(e)||b(e,t)||y(e,t)||C(e,t)||w(e,t)||x(e,t)||I(e,t)||k(e,t)||S(e,t)||T(e,t)||E(e,t)||R(e,t)||N(e,t)||L(e,t)||D(e,t)||B(e)||M(e)||P(e,t)||j(e,t)||H(e)||V(e,t)||z(e,t)||$(e)||W(e,t)||K(e);return!0===n?null:n}return l.prototype.copy=function(){var t=new l;return t.javaScriptLine=this.javaScriptLine,t.javaScriptLineExcludesColon=this.javaScriptLineExcludesColon,t.javaScriptArguments=this.javaScriptArguments,t.javaScriptArgumentsDepth=this.javaScriptArgumentsDepth,t.isInterpolating=this.isInterpolating,t.interpolationNesting=this.interpolationNesting,t.jsState=e.copyState(s,this.jsState),t.innerMode=this.innerMode,this.innerMode&&this.innerState&&(t.innerState=e.copyState(this.innerMode,this.innerState)),t.restOfLine=this.restOfLine,t.isIncludeFiltered=this.isIncludeFiltered,t.isEach=this.isEach,t.lastTag=this.lastTag,t.scriptType=this.scriptType,t.isAttrs=this.isAttrs,t.attrsNest=this.attrsNest.slice(),t.inAttributeName=this.inAttributeName,t.attributeIsType=this.attributeIsType,t.attrValue=this.attrValue,t.indentOf=this.indentOf,t.indentToken=this.indentToken,t.innerModeForLine=this.innerModeForLine,t},{startState:q,copyState:X,token:Y}}),"javascript","css","htmlmixed"),e.defineMIME("text/x-pug","pug"),e.defineMIME("text/x-jade","pug")}))},"5c4b":function(e,t,n){"use strict";var r=n("360f"),i=n.n(r);i.a},"5d18":function(e,t,n){"use strict";var r=n("e236"),i=n.n(r);i.a},"5d1e":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{staticStyle:{top:"0px"},attrs:{title:"分屏",width:e.modalWidth,visible:e.visible,bodyStyle:e.bodyStyle,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("split-pane",{attrs:{"min-percent":20,"default-percent":50,split:"vertical"}},[n("template",{slot:"paneL"},[n("split-panel-a")],1),n("template",{slot:"paneR"},[n("split-panel-b")],1)],2)],1)},i=[],o=n("19ab"),a=n.n(o),s=n("54d3"),l=n("9606"),c={name:"SplitPanelModal",components:{splitPane:a.a,SplitPanelA:s["default"],SplitPanelB:l["default"]},data:function(){return{visible:!1,bodyStyle:{padding:"0",height:window.innerHeight-150+"px"},modalWidth:800}},created:function(){this.modalWidth=window.innerWidth-0},methods:{show:function(){this.visible=!0},handleOk:function(){},handleCancel:function(){this.visible=!1}}},u=c,d=n("2877"),f=Object(d["a"])(u,r,i,!1,null,"2ad4866e",null);t["default"]=f.exports},"5e4c":function(e,t){(function(e){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager");function n(){t.add("contextmenu",(function(){e.console.warn("Context menu plugin is now built in to the core editor, please remove it from your editor configuration")}))}n()})(window)},"5e65":function(e,t,n){e.exports=n.p+"img/duban.9a5f5bac.png"},"5eda":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=this,n=t.$createElement,r=t._self._c||n;return r("a-card",{attrs:{bordered:!1}},[r("div",{staticClass:"table-page-search-wrapper"},[r("a-form",{attrs:{layout:"inline"}},[r("a-row",{attrs:{gutter:48}},[r("a-col",{attrs:{md:8,sm:24}},[r("a-form-item",{attrs:{label:"角色ID"}},[r("a-input",{attrs:{placeholder:"请输入"}})],1)],1),r("a-col",{attrs:{md:8,sm:24}},[r("a-form-item",{attrs:{label:"状态"}},[r("a-select",{attrs:{placeholder:"请选择","default-value":"0"}},[r("a-select-option",{attrs:{value:"0"}},[t._v("全部")]),r("a-select-option",{attrs:{value:"1"}},[t._v("关闭")]),r("a-select-option",{attrs:{value:"2"}},[t._v("运行中")])],1)],1)],1),r("a-col",{attrs:{md:8,sm:24}},[r("span",{staticClass:"table-page-search-submitButtons"},[r("a-button",{attrs:{type:"primary"}},[t._v("查询")]),r("a-button",{staticStyle:{"margin-left":"8px"}},[t._v("重置")])],1)])],1)],1)],1),r("s-table",{attrs:{size:"default",columns:t.columns,data:t.loadData},scopedSlots:t._u([{key:"expandedRowRender",fn:function(e){return r("div",{staticStyle:{margin:"0"}},[r("a-row",{style:{marginBottom:"12px"},attrs:{gutter:24}},t._l(e.permissions,(function(e,n){return r("a-col",{key:n,style:{marginBottom:"12px"},attrs:{span:12}},[r("a-col",{attrs:{lg:4,md:24}},[r("span",[t._v(t._s(e.permissionName)+"：")])]),e.actionEntitySet.length>0?r("a-col",{attrs:{lg:20,md:24}},t._l(e.actionEntitySet,(function(e,n){return r("a-tag",{key:n,attrs:{color:"cyan"}},[t._v(t._s(e.describe))])})),1):r("a-col",{attrs:{span:20}},[t._v("-")])],1)})),1)],1)}},{key:"action",fn:function(e,n){return r("span",{},[r("a",{on:{click:function(e){return t.handleEdit(n)}}},[t._v("编辑")]),r("a-divider",{attrs:{type:"vertical"}}),r("a-dropdown",[r("a",{staticClass:"ant-dropdown-link"},[t._v("\n          更多 "),r("a-icon",{attrs:{type:"down"}})],1),r("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[r("a-menu-item",[r("a",{attrs:{href:"javascript:;"}},[t._v("详情")])]),r("a-menu-item",[r("a",{attrs:{href:"javascript:;"}},[t._v("禁用")])]),r("a-menu-item",[r("a",{attrs:{href:"javascript:;"}},[t._v("删除")])])],1)],1)],1)}}])}),r("a-modal",{staticStyle:{top:"20px"},attrs:{title:"操作",width:800},on:{ok:t.handleOk},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[r("a-form",{attrs:{autoFormCreate:function(t){e.form=t}}},[r("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"唯一识别码",hasFeedback:"",validateStatus:"success"}},[r("a-input",{attrs:{placeholder:"唯一识别码",id:"no",disabled:"disabled"},model:{value:t.mdl.id,callback:function(e){t.$set(t.mdl,"id",e)},expression:"mdl.id"}})],1),r("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"角色名称",hasFeedback:"",validateStatus:"success"}},[r("a-input",{attrs:{placeholder:"起一个名字",id:"role_name"},model:{value:t.mdl.name,callback:function(e){t.$set(t.mdl,"name",e)},expression:"mdl.name"}})],1),r("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"状态",hasFeedback:"",validateStatus:"warning"}},[r("a-select",{model:{value:t.mdl.status,callback:function(e){t.$set(t.mdl,"status",e)},expression:"mdl.status"}},[r("a-select-option",{attrs:{value:"1"}},[t._v("正常")]),r("a-select-option",{attrs:{value:"2"}},[t._v("禁用")])],1)],1),r("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"描述",hasFeedback:""}},[r("a-textarea",{attrs:{rows:5,placeholder:"...",id:"describe"},model:{value:t.mdl.describe,callback:function(e){t.$set(t.mdl,"describe",e)},expression:"mdl.describe"}})],1),r("a-divider"),r("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"拥有权限",hasFeedback:""}},t._l(t.mdl.permissions,(function(e,n){return r("a-row",{key:n,attrs:{gutter:16}},[r("a-col",{attrs:{span:4}},[t._v("\n            "+t._s(e.permissionName)+"：\n          ")]),r("a-col",{attrs:{span:20}},[r("a-checkbox-group",{attrs:{options:e.actionsOptions}})],1)],1)})),1)],1)],1)],1)},i=[],o=n("e8c4"),a=n("0fea"),s={name:"TableList",components:{STable:o["a"]},data:function(){return{description:"列表使用场景：后台管理中的权限管理以及角色管理，可用于基于 RBAC 设计的角色权限控制，颗粒度细到每一个操作类型。",visible:!1,labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},form:null,mdl:{},advanced:!1,queryParam:{},columns:[{title:"唯一识别码",dataIndex:"id"},{title:"角色名称",dataIndex:"name"},{title:"状态",dataIndex:"status"},{title:"创建时间",dataIndex:"createTime",sorter:!0},{title:"操作",width:"150px",dataIndex:"action",scopedSlots:{customRender:"action"}}],loadData:function(e){return Object(a["f"])(e).then((function(e){return e.result}))},selectedRowKeys:[],selectedRows:[]}},created:function(){Object(a["g"])().then((function(e){})),Object(a["f"])().then((function(e){}))},methods:{handleEdit:function(e){this.mdl=Object.assign({},e),this.mdl.permissions.forEach((function(e){e.actionsOptions=e.actionEntitySet.map((function(e){return{label:e.describe,value:e.action,defaultCheck:e.defaultCheck}}))})),this.visible=!0},handleOk:function(){},onChange:function(e,t){this.selectedRowKeys=e,this.selectedRows=t},toggleAdvanced:function(){this.advanced=!this.advanced}},watch:{}},l=s,c=n("2877"),u=Object(c["a"])(l,r,i,!1,null,null,null);t["default"]=u.exports},6014:function(e,t,n){},"603e":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{staticStyle:{height:"100%"},attrs:{bordered:!1}},[n("div",{staticStyle:{"padding-bottom":"2px"}},[n("a-alert",{attrs:{type:"warning","show-icon":""}},[n("div",{staticStyle:{width:"100%"},attrs:{slot:"message"},slot:"message"},[n("span",[e._v("路由配置请慎重")]),n("span",{staticStyle:{display:"inline-block",float:"right","padding-right":"5px"}},[n("a",{on:{click:e.clearRedis}},[n("a-icon",{attrs:{type:"reload"}}),e._v("清除缓存")],1)])])])],1),n("div",{style:{height:e.editorHeight+"px",width:"100%"},attrs:{id:e.eleId}}),n("div",{staticStyle:{"text-align":"center","padding-top":"10px"}},[n("a-button",{staticStyle:{width:"160px"},attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("保存")])],1)])},i=[],o=n("dcf5"),a=n.n(o),s=(n("6014"),n("0fea")),l={name:"SysGatewayRouteList",data:function(){return{eleId:"jsoneditor",description:"gateway路由管理管理页面",editor:null,editorWidth:400,editorHeight:500,url:{list:"/sys/gatewayRoute/list",update:"/sys/gatewayRoute/updateAll",clear:"/sys/gatewayRoute/clearRedis"}}},created:function(){var e=window.innerWidth;this.editorWidth=e},mounted:function(){this.initJsonEditor()},methods:{initJsonEditor:function(){var e=document.getElementById(this.eleId),t={modes:["text","code","tree","form","view"],mode:"tree",ace:ace,sortObjectKeys:"code",mainMenuBar:["format"]};this.editor=new a.a(e,t),this.initRouteData()},initRouteData:function(){var e=this;Object(s["c"])(this.url.list).then((function(t){if(t.success){var n=t.result;e.editor.set(n)}}))},submitForm:function(){var e=this,t=this.editor.getText();!t||t.length<=0||"{}"==t||"[]"==t?this.$message.warning("未录入任何信息"):Object(s["i"])(this.url.update,{routes:t}).then((function(t){t.success?e.$message.success(t.message):e.$message.error(t.message)}))},clearRedis:function(){var e=this;Object(s["c"])(this.url.clear).then((function(t){t.success&&e.$message.success(t.message)}))}}},c=l,u=n("2877"),d=Object(u["a"])(c,r,i,!1,null,null,null);t["default"]=d.exports},"611e":function(e,t,n){"use strict";var r=n("996b");t["a"]=r["default"]},6147:function(e,t,n){"use strict";var r=n("aaac"),i=n.n(r);i.a},6163:function(e,t,n){},"617d":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-header-index-wide"},[n("a-row",{attrs:{gutter:24}},[n("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:6}},[n("chart-card",{attrs:{loading:e.loading,title:"受理量",total:e._f("NumberFormat")(e.cardCount.sll)}},[n("a-tooltip",{attrs:{slot:"action",title:"指标说明"},slot:"action"},[n("a-icon",{attrs:{type:"info-circle-o"}})],1),n("div",[n("mini-area",{attrs:{dataSource:e.chartData.sll}})],1),n("template",{slot:"footer"},[e._v("今日受理量："),n("span",[e._v(e._s(e.todaySll))])])],2)],1),n("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:6}},[n("chart-card",{attrs:{loading:e.loading,title:"办结量",total:e._f("NumberFormat")(e.cardCount.bjl)}},[n("a-tooltip",{attrs:{slot:"action",title:"指标说明"},slot:"action"},[n("a-icon",{attrs:{type:"info-circle-o"}})],1),n("div",[n("mini-area",{attrs:{dataSource:e.chartData.bjl}})],1),n("template",{slot:"footer"},[e._v("今日办结量："),n("span",[e._v(e._s(e.todayBjl))])])],2)],1),n("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:6}},[n("chart-card",{attrs:{loading:e.loading,title:"用户受理量",total:e._f("NumberFormat")(e.cardCount.isll)}},[n("a-tooltip",{attrs:{slot:"action",title:"指标说明"},slot:"action"},[n("a-icon",{attrs:{type:"info-circle-o"}})],1),n("div",[n("mini-bar",{attrs:{dataSource:e.chartData.isll}})],1),n("template",{slot:"footer"},[e._v("用户今日受理量："),n("span",[e._v(e._s(e.todayISll))])])],2)],1),n("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:6}},[n("chart-card",{attrs:{loading:e.loading,title:"用户办结量",total:e._f("NumberFormat")(e.cardCount.ibjl)}},[n("a-tooltip",{attrs:{slot:"action",title:"指标说明"},slot:"action"},[n("a-icon",{attrs:{type:"info-circle-o"}})],1),n("div",[n("mini-bar",{attrs:{dataSource:e.chartData.ibjl}})],1),n("template",{slot:"footer"},[e._v("用户今日办结量："),n("span",[e._v(e._s(e.todayIBjl))])])],2)],1)],1),n("a-card",{attrs:{loading:e.loading,bordered:!1,"body-style":{padding:"0"}}},[n("div",{staticClass:"salesCard"},[n("a-tabs",{attrs:{"default-active-key":"1",size:"large","tab-bar-style":{marginBottom:"24px",paddingLeft:"16px"}}},[n("div",{staticClass:"extra-wrapper",attrs:{slot:"tabBarExtraContent"},slot:"tabBarExtraContent"},[n("div",{staticClass:"extra-item"},[n("a",[e._v("今日")]),n("a",[e._v("本周")]),n("a",[e._v("本月")]),n("a",[e._v("本年")])]),n("a-range-picker",{style:{width:"256px"}})],1),n("a-tab-pane",{key:"1",attrs:{loading:"true",tab:"受理监管"}},[n("a-row",[n("a-col",{attrs:{xl:16,lg:12,md:12,sm:24,xs:24}},[n("bar",{attrs:{title:"受理量统计"}})],1),n("a-col",{attrs:{xl:8,lg:12,md:12,sm:24,xs:24}},[n("a-card",{staticStyle:{"margin-bottom":"24px"},attrs:{title:"快速开始 / 便捷导航",bordered:!1,"body-style":{padding:0}}},[n("div",{staticClass:"item-group"},[n("a-row",e._l(e.registerTypeList,(function(t,r){return n("a-col",{key:"registerType"+r,class:"more-btn",attrs:{span:12}},[n("a-button",{staticStyle:{"margin-bottom":"10px"},attrs:{size:"small",type:"primary",ghost:""},on:{click:function(t){return e.goPage(r)}}},[e._v(e._s(t.text))])],1)})),1)],1)])],1)],1)],1),n("a-tab-pane",{key:"2",attrs:{tab:"交互监管"}},[n("a-row",[n("a-col",{attrs:{xl:16,lg:12,md:12,sm:24,xs:24}},[n("bar-multid",{attrs:{dataSource:e.jhjgData,fields:e.jhjgFields,title:"平台与部门交互量统计"}})],1),n("a-col",{attrs:{xl:8,lg:12,md:12,sm:24,xs:24}},[n("a-card",{staticStyle:{"margin-bottom":"24px"},attrs:{title:"快速开始 / 便捷导航",bordered:!1,"body-style":{padding:0}}},[n("div",{staticClass:"item-group"},[n("a-row",e._l(e.registerTypeList,(function(t,r){return n("a-col",{key:"registerType"+r,class:"more-btn",attrs:{span:12}},[n("a-button",{staticStyle:{"margin-bottom":"10px"},attrs:{size:"small",type:"primary",ghost:""},on:{click:function(t){return e.goPage(r)}}},[e._v(e._s(t.text))])],1)})),1)],1)])],1)],1)],1),n("a-tab-pane",{key:"3",attrs:{tab:"效率监管"}},[n("a-row",[n("a-col",{attrs:{xl:16,lg:12,md:12,sm:24,xs:24}},[n("line-chart-multid",{attrs:{dataSource:e.xljgData,fields:e.xljgFields,title:"平台与部门交互效率统计"}})],1),n("a-col",{attrs:{xl:8,lg:12,md:12,sm:24,xs:24}},[n("a-card",{staticStyle:{"margin-bottom":"24px"},attrs:{title:"快速开始 / 便捷导航",bordered:!1,"body-style":{padding:0}}},[n("div",{staticClass:"item-group"},[n("a-row",e._l(e.registerTypeList,(function(t,r){return n("a-col",{key:"registerType"+r,class:"more-btn",attrs:{span:12}},[n("a-button",{staticStyle:{"margin-bottom":"10px"},attrs:{size:"small",type:"primary",ghost:""},on:{click:function(t){return e.goPage(r)}}},[e._v(e._s(t.text))])],1)})),1)],1)])],1)],1)],1),n("a-tab-pane",{key:"4",attrs:{tab:"存储监管"}},[n("a-row",[n("a-col",{attrs:{xl:16,lg:12,md:12,sm:24,xs:24}},[n("a-row",[e.diskInfo&&e.diskInfo.length>0?e._l(e.diskInfo,(function(e,t){return n("a-col",{key:"diskInfo"+t,attrs:{span:12}},[n("dash-chart-demo",{attrs:{title:e.name,dataSource:e.restPPT}})],1)})):e._e()],2)],1),n("a-col",{attrs:{xl:8,lg:12,md:12,sm:24,xs:24}},[n("a-card",{staticStyle:{"margin-bottom":"24px"},attrs:{title:"快速开始 / 便捷导航",bordered:!1,"body-style":{padding:0}}},[n("div",{staticClass:"item-group"},[n("a-row",e._l(e.registerTypeList,(function(t,r){return n("a-col",{key:"registerType"+r,class:"more-btn",attrs:{span:10}},[n("a-button",{staticStyle:{"margin-bottom":"10px"},attrs:{size:"small",type:"primary",ghost:""},on:{click:function(t){return e.goPage(r)}}},[e._v(e._s(t.text))])],1)})),1)],1)])],1)],1)],1)],1)],1)]),n("a-row",{attrs:{gutter:12}},[n("a-card",{class:{"anty-list-cust":!0},style:{marginTop:"24px"},attrs:{loading:e.loading,bordered:!1}},[n("a-tabs",{attrs:{"default-active-key":"1",size:"large","tab-bar-style":{marginBottom:"24px",paddingLeft:"16px"}}},[n("div",{staticClass:"extra-wrapper",attrs:{slot:"tabBarExtraContent"},slot:"tabBarExtraContent"},[n("a-radio-group",{attrs:{defaultValue:"1"}},[n("a-radio-button",{attrs:{value:"1"}},[e._v("转移登记")]),n("a-radio-button",{attrs:{value:"2"}},[e._v("抵押登记")])],1)],1),n("a-tab-pane",{key:"1",attrs:{loading:"true",tab:"业务流程限时监管"}},[n("a-table",{attrs:{dataSource:e.dataSource1,size:"default",rowKey:"id",columns:e.columns,pagination:e.ipagination},scopedSlots:e._u([{key:"flowRate",fn:function(t,r,i){return[n("a-progress",{staticStyle:{width:"80px"},attrs:{percent:e.getFlowRateNumber(r.flowRate)}})]}}])})],1),n("a-tab-pane",{key:"2",attrs:{loading:"true",tab:"业务节点限时监管"}},[n("a-table",{attrs:{dataSource:e.dataSource2,size:"default",rowKey:"id",columns:e.columns2,pagination:e.ipagination},scopedSlots:e._u([{key:"flowRate",fn:function(t,r,i){return[n("span",{staticStyle:{color:"red"}},[e._v(e._s(r.flowRate)+"分钟")])]}}])})],1)],1)],1)],1)],1)},i=[],o=n("146b"),a=o["a"],s=(n("31d3"),n("2877")),l=Object(s["a"])(a,r,i,!1,null,"072cd073",null);t["default"]=l.exports},"61b4":function(e,t,n){},"61fc":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("j-select-biz-component",e._g(e._b({attrs:{width:1e3}},"j-select-biz-component",e.configs,!1),e.$listeners))},i=[],o=n("b296"),a={name:"JSelectPosition",components:{JSelectBizComponent:o["default"]},props:["value"],data:function(){return{settings:{name:"职务",displayKey:"name",returnKeys:["id","code"],listUrl:"/sys/position/list",queryParamCode:"name",queryParamText:"职务名称",columns:[{title:"职务名称",dataIndex:"name",align:"center",width:"30%",widthRight:"70%"},{title:"职务编码",dataIndex:"code",align:"center",width:"35%"},{title:"职级",dataIndex:"rank_dictText",align:"center",width:"25%"}]}}},computed:{configs:function(){return Object.assign({value:this.value},this.settings,this.$attrs)}}},s=a,l=n("2877"),c=Object(l["a"])(s,r,i,!1,null,"955c0682",null);t["default"]=c.exports},6239:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{"body-style":{padding:"24px 32px"},bordered:!1}},[n("a-form",{attrs:{form:e.form},on:{submit:e.handleSubmit}},[n("a-form-item",{attrs:{label:"标题",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"请输入标题"}]}],expression:"[\n          'name',\n          {rules: [{ required: true, message: '请输入标题' }]}\n        ]"}],attrs:{name:"name",placeholder:"给目标起个名字"}})],1),n("a-form-item",{attrs:{label:"起止日期",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[n("a-range-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["buildTime",{rules:[{required:!0,message:"请选择起止日期"}]}],expression:"[\n          'buildTime',\n          {rules: [{ required: true, message: '请选择起止日期' }]}\n        ]"}],staticStyle:{width:"100%"},attrs:{name:"buildTime"}})],1),n("a-form-item",{attrs:{label:"目标描述",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[n("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["description",{rules:[{required:!0,message:"请输入目标描述"}]}],expression:"[\n          'description',\n          {rules: [{ required: true, message: '请输入目标描述' }]}\n        ]"}],attrs:{rows:"4",placeholder:"请输入你阶段性工作目标"}})],1),n("a-form-item",{attrs:{label:"衡量标准",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[n("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["type",{rules:[{required:!0,message:"请输入衡量标准"}]}],expression:"[\n          'type',\n          {rules: [{ required: true, message: '请输入衡量标准' }]}\n        ]"}],attrs:{rows:"4",placeholder:"请输入衡量标准"}})],1),n("a-form-item",{attrs:{label:"客户",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["customer",{rules:[{required:!0,message:"请描述你服务的客户"}]}],expression:"[\n          'customer',\n          {rules: [{ required: true, message: '请描述你服务的客户' }]}\n        ]"}],attrs:{placeholder:"请描述你服务的客户，内部客户直接 @姓名／工号"}})],1),n("a-form-item",{attrs:{label:"邀评人",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}},required:!1}},[n("a-input",{attrs:{placeholder:"请直接 @姓名／工号，最多可邀请 5 人"}})],1),n("a-form-item",{attrs:{label:"权重",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}},required:!1}},[n("a-input-number",{attrs:{min:0,max:100}}),n("span",[e._v(" %")])],1),n("a-form-item",{attrs:{label:"目标公开",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}},required:!1,help:"客户、邀评人默认被分享"}},[n("a-radio-group",{model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[n("a-radio",{attrs:{value:1}},[e._v("公开")]),n("a-radio",{attrs:{value:2}},[e._v("部分公开")]),n("a-radio",{attrs:{value:3}},[e._v("不公开")])],1),n("a-form-item",[2===e.value?n("a-select",{attrs:{mode:"multiple"}},[n("a-select-option",{attrs:{value:"4"}},[e._v("同事一")]),n("a-select-option",{attrs:{value:"5"}},[e._v("同事二")]),n("a-select-option",{attrs:{value:"6"}},[e._v("同事三")])],1):e._e()],1)],1),n("a-form-item",{staticStyle:{"text-align":"center"},attrs:{wrapperCol:{span:24}}},[n("a-button",{attrs:{htmlType:"submit",type:"primary"}},[e._v("提交")]),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v("保存")])],1)],1)],1)},i=[],o={name:"BaseForm",data:function(){return{description:"表单页用于向用户收集或验证信息，基础表单常见于数据项较少的表单场景。",value:1,form:this.$form.createForm(this)}},methods:{handleSubmit:function(e){e.preventDefault(),this.form.validateFields((function(e,t){}))}}},a=o,s=n("2877"),l=Object(s["a"])(a,r,i,!1,null,null,null);t["default"]=l.exports},"64b2":function(e,t,n){},"64f5":function(e,t,n){},6515:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-row",{attrs:{type:"flex",gutter:16}},[n("a-col",{attrs:{md:5,sm:24}},[n("address-list-left",{model:{value:e.currentOrgCode,callback:function(t){e.currentOrgCode=t},expression:"currentOrgCode"}})],1),n("a-col",{attrs:{md:19,sm:24}},[n("address-list-right",{model:{value:e.currentOrgCode,callback:function(t){e.currentOrgCode=t},expression:"currentOrgCode"}})],1)],1)},i=[],o=n("3864"),a=n("cb6b"),s={name:"AddressList",components:{AddressListLeft:o["default"],AddressListRight:a["default"]},data:function(){return{description:"通讯录页面",currentOrgCode:""}},methods:{}},l=s,c=(n("db55"),n("2877")),u=Object(c["a"])(l,r,i,!1,null,"4fd4546e",null);t["default"]=u.exports},"658e":function(e,t,n){},6610:function(e,t,n){},6620:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{md:6,sm:24}},[n("a-form-item",{attrs:{label:"订单号"}},[n("a-input",{attrs:{placeholder:"请输入订单号"},model:{value:e.queryParam.orderCode,callback:function(t){e.$set(e.queryParam,"orderCode",t)},expression:"queryParam.orderCode"}})],1)],1),n("a-col",{attrs:{md:6,sm:24}},[n("a-form-item",{attrs:{label:"订单类型"}},[n("a-select",{attrs:{placeholder:"请输入订单类型"},model:{value:e.queryParam.ctype,callback:function(t){e.$set(e.queryParam,"ctype",t)},expression:"queryParam.ctype"}},[n("a-select-option",{attrs:{value:"1"}},[e._v("国内订单")]),n("a-select-option",{attrs:{value:"2"}},[e._v("国际订单")])],1)],1)],1),n("a-col",{attrs:{md:6,sm:24}},[n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")])],1)])],1)],1)],1),n("div",{staticClass:"table-operator"},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("新增")]),e.selectedRowKeys.length>0?n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:e.batchDel}},[n("a-icon",{attrs:{type:"delete"}}),e._v("\n          删除\n        ")],1)],1),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v(" 批量操作\n        "),n("a-icon",{attrs:{type:"down"}})],1)],1):e._e()],1),n("div",[n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),e._v(" 已选择 "),n("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRowKeys.length))]),e._v("项\n      "),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])]),n("a-table",{ref:"table",attrs:{size:"middle",bordered:"",rowKey:"id",filterMultiple:"filterMultiple",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange,type:e.type},customRow:e.clickThenCheck},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete(r.id)}}},[n("a",[e._v("删除")])])],1)}}])})],1),n("a-tabs",{attrs:{defaultActiveKey:"1"}},[n("a-tab-pane",{key:"1",attrs:{tab:"客户信息"}},[n("Jeecg-Order-Customer-List",{ref:"JeecgOrderCustomerList"})],1),n("a-tab-pane",{key:"2",attrs:{tab:"机票信息",forceRender:""}},[n("Jeecg-Order-Ticket-List",{ref:"JeecgOrderTicketList"})],1)],1),n("jeecgOrderDMain-modal",{ref:"modalForm",on:{ok:e.modalFormOk}})],1)},i=[],o=n("dd9d"),a=n("d544"),s=n("8c22"),l=n("0fea"),c=n("39a5"),u=n("aa8e"),d=n("b65a"),f={name:"JeecgOrderDMainList",mixins:[d["a"]],components:{JeecgOrderTicketModal:u["default"],JeecgOrderCustomerModal:c["default"],JeecgOrderDMainModal:o["default"],JeecgOrderCustomerList:a["default"],JeecgOrderTicketList:s["default"]},data:function(){return{description:"订单管理页面",ipagination:{current:1,pageSize:5,pageSizeOptions:["5","10","20"],showTotal:function(e,t){return t[0]+"-"+t[1]+" 共"+e+"条"},showQuickJumper:!0,showSizeChanger:!0,total:0},columns:[{title:"#",dataIndex:"",key:"rowIndex",width:60,align:"center",customRender:function(e,t,n){return parseInt(n)+1}},{title:"订单号",align:"center",dataIndex:"orderCode"},{title:"订单类型",align:"center",dataIndex:"ctype",customRender:function(e){var t="";return"1"===e?t="国内订单":"2"===e&&(t="国际订单"),t}},{title:"订单日期",align:"center",dataIndex:"orderDate"},{title:"订单金额",align:"center",dataIndex:"orderMoney"},{title:"订单备注",align:"center",dataIndex:"content"},{title:"操作",dataIndex:"action",align:"center",scopedSlots:{customRender:"action"}}],type:"radio",url:{list:"/test/order/orderList",delete:"/test/order/delete",deleteBatch:"/test/order/deleteBatch"}}},methods:{clickThenCheck:function(e){var t=this;return{on:{click:function(){t.onSelectChange(e.id.split(","),[e])}}}},onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectionRows=t,this.$refs.JeecgOrderCustomerList.getOrderMain(this.selectedRowKeys[0]),this.$refs.JeecgOrderTicketList.getOrderMain(this.selectedRowKeys[0])},onClearSelected:function(){this.selectedRowKeys=[],this.selectionRows=[],this.$refs.JeecgOrderCustomerList.queryParam.mainId=null,this.$refs.JeecgOrderTicketList.queryParam.mainId=null,this.$refs.JeecgOrderCustomerList.loadData(),this.$refs.JeecgOrderTicketList.loadData(),this.$refs.JeecgOrderCustomerList.selectedRowKeys=[],this.$refs.JeecgOrderCustomerList.selectionRows=[],this.$refs.JeecgOrderTicketList.selectedRowKeys=[],this.$refs.JeecgOrderTicketList.selectionRows=[]},handleDelete:function(e){var t=this,n=this;Object(l["a"])(n.url.delete,{id:e}).then((function(e){e.success?(n.$message.success(e.message),n.loadData(),t.$refs.JeecgOrderCustomerList.loadData(),t.$refs.JeecgOrderTicketList.loadData()):n.$message.warning(e.message)}))},searchQuery:function(){this.selectedRowKeys=[],this.selectionRows=[],this.$refs.JeecgOrderCustomerList.queryParam.mainId=null,this.$refs.JeecgOrderTicketList.queryParam.mainId=null,this.$refs.JeecgOrderCustomerList.loadData(),this.$refs.JeecgOrderTicketList.loadData(),this.$refs.JeecgOrderCustomerList.selectedRowKeys=[],this.$refs.JeecgOrderCustomerList.selectionRows=[],this.$refs.JeecgOrderTicketList.selectedRowKeys=[],this.$refs.JeecgOrderTicketList.selectionRows=[],this.loadData()}}},h=f,p=(n("d5ea"),n("2877")),m=Object(p["a"])(h,r,i,!1,null,"52102629",null);t["default"]=m.exports},6675:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-drawer",{attrs:{title:"数据规则/按钮权限配置",width:"365",closable:!1,visible:e.visible},on:{close:e.onClose}},[n("a-tabs",{attrs:{defaultActiveKey:"1"}},[n("a-tab-pane",{key:"1",attrs:{tab:"数据规则"}},[e.dataruleList.length>0?n("a-checkbox-group",{model:{value:e.dataruleChecked,callback:function(t){e.dataruleChecked=t},expression:"dataruleChecked"}},[n("a-row",[e._l(e.dataruleList,(function(t,r){return n("a-col",{key:"dr"+r,attrs:{span:24}},[n("a-checkbox",{attrs:{value:t.id}},[e._v(e._s(t.ruleName))])],1)})),n("a-col",{attrs:{span:24}},[n("div",{staticStyle:{width:"100%","margin-top":"15px"}},[n("a-button",{attrs:{type:"primary",size:"small",icon:"save"},on:{click:e.saveDataruleForRole}},[e._v("点击保存")])],1)])],2)],1):n("div",[n("h3",[e._v("无配置信息!")])])],1)],1)],1)},i=[],o=n("290c"),a=n("da05"),s=n("0fea"),l={name:"DepartDataruleModal",components:{ACol:a["b"],ARow:o["a"]},data:function(){return{functionId:"",departId:"",visible:!1,tabList:[{key:"1",tab:"数据规则"},{key:"2",tab:"按钮权限"}],activeTabKey:"1",url:{datarule:"/sys/sysDepartPermission/datarule"},dataruleList:[],dataruleChecked:[]}},methods:{loadData:function(){var e=this;Object(s["c"])("".concat(this.url.datarule,"/").concat(this.functionId,"/").concat(this.departId)).then((function(t){if(t.success){e.dataruleList=t.result.datarule;var n=t.result.drChecked;n&&(e.dataruleChecked=n.split(","))}}))},saveDataruleForRole:function(){var e=this;this.dataruleChecked&&0!=this.dataruleChecked.length||this.$message.warning("请注意，现未勾选任何数据权限!");var t={permissionId:this.functionId,departId:this.departId,dataRuleIds:this.dataruleChecked.join(",")};Object(s["i"])(this.url.datarule,t).then((function(t){t.success?e.$message.success(t.message):e.$message.error(t.message)}))},show:function(e,t){this.onReset(),this.functionId=e,this.departId=t,this.visible=!0,this.loadData()},onClose:function(){this.visible=!1,this.onReset()},onTabChange:function(e){this.activeTabKey=e},onReset:function(){this.functionId="",this.departId="",this.dataruleList=[],this.dataruleChecked=[]}}},c=l,u=n("2877"),d=Object(u["a"])(c,r,i,!1,null,"47ca2114",null);t["default"]=d.exports},"66a4":function(e,t,n){"use strict";var r=n("87e3"),i=n.n(r);i.a},"66cbb":function(e,t,n){},6741:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-skeleton",{attrs:{active:"",loading:e.loading,paragraph:{rows:17}}},[n("a-card",{attrs:{bordered:!1}},[n("a-alert",{attrs:{type:"info",showIcon:!0}},[n("div",{attrs:{slot:"message"},slot:"message"},[e._v("\n        上次更新时间："+e._s(this.time)+"\n        "),n("a-divider",{attrs:{type:"vertical"}}),n("a",{on:{click:e.handleClickUpdate}},[e._v("立即更新")])],1)]),n("a-table",{staticStyle:{"margin-top":"20px"},attrs:{rowKey:"id",size:"middle",columns:e.columns,dataSource:e.dataSource,pagination:!1,loading:e.tableLoading},scopedSlots:e._u([{key:"param",fn:function(t,r){return[n("a-tag",{attrs:{color:e.textInfo[r.param].color}},[e._v(e._s(t))])]}},{key:"text",fn:function(t,n){return[e._v("\n        "+e._s(e.textInfo[n.param].text)+"\n      ")]}},{key:"value",fn:function(t,n){return[e._v("\n        "+e._s(t)+" "+e._s(e.textInfo[n.param].unit)+"\n      ")]}}])})],1)],1)},i=[],o=n("c1df"),a=n.n(o),s=n("0fea");a.a.locale("zh-cn");var l={data:function(){return{time:"",loading:!0,tableLoading:!0,columns:[{title:"参数",width:"30%",dataIndex:"param",scopedSlots:{customRender:"param"}},{title:"描述",width:"40%",dataIndex:"text",scopedSlots:{customRender:"text"}},{title:"当前值",width:"30%",dataIndex:"value",scopedSlots:{customRender:"value"}}],dataSource:[],textInfo:{"jvm.memory.max":{color:"purple",text:"JVM 最大内存",unit:"MB"},"jvm.memory.committed":{color:"purple",text:"JVM 可用内存",unit:"MB"},"jvm.memory.used":{color:"purple",text:"JVM 已用内存",unit:"MB"},"jvm.buffer.memory.used":{color:"cyan",text:"JVM 缓冲区已用内存",unit:"MB"},"jvm.buffer.count":{color:"cyan",text:"当前缓冲区数量",unit:"个"},"jvm.threads.daemon":{color:"green",text:"JVM 守护线程数量",unit:"个"},"jvm.threads.live":{color:"green",text:"JVM 当前活跃线程数量",unit:"个"},"jvm.threads.peak":{color:"green",text:"JVM 峰值线程数量",unit:"个"},"jvm.classes.loaded":{color:"orange",text:"JVM 已加载 Class 数量",unit:"个"},"jvm.classes.unloaded":{color:"orange",text:"JVM 未加载 Class 数量",unit:"个"},"jvm.gc.memory.allocated":{color:"pink",text:"GC 时, 年轻代分配的内存空间",unit:"MB"},"jvm.gc.memory.promoted":{color:"pink",text:"GC 时, 老年代分配的内存空间",unit:"MB"},"jvm.gc.max.data.size":{color:"pink",text:"GC 时, 老年代的最大内存空间",unit:"MB"},"jvm.gc.live.data.size":{color:"pink",text:"FullGC 时, 老年代的内存空间",unit:"MB"},"jvm.gc.pause.count":{color:"blue",text:"系统启动以来GC 次数",unit:"次"},"jvm.gc.pause.totalTime":{color:"blue",text:"系统启动以来GC 总耗时",unit:"秒"}},moreInfo:{"jvm.gc.pause":[".count",".totalTime"]}}},mounted:function(){this.loadTomcatInfo()},methods:{handleClickUpdate:function(){this.loadTomcatInfo()},loadTomcatInfo:function(){var e=this;this.tableLoading=!0,this.time=a()().format("YYYY年MM月DD日 HH时mm分ss秒"),Promise.all([Object(s["c"])("actuator/metrics/jvm.memory.max"),Object(s["c"])("actuator/metrics/jvm.memory.committed"),Object(s["c"])("actuator/metrics/jvm.memory.used"),Object(s["c"])("actuator/metrics/jvm.buffer.memory.used"),Object(s["c"])("actuator/metrics/jvm.buffer.count"),Object(s["c"])("actuator/metrics/jvm.threads.daemon"),Object(s["c"])("actuator/metrics/jvm.threads.live"),Object(s["c"])("actuator/metrics/jvm.threads.peak"),Object(s["c"])("actuator/metrics/jvm.classes.loaded"),Object(s["c"])("actuator/metrics/jvm.classes.unloaded"),Object(s["c"])("actuator/metrics/jvm.gc.memory.allocated"),Object(s["c"])("actuator/metrics/jvm.gc.memory.promoted"),Object(s["c"])("actuator/metrics/jvm.gc.max.data.size"),Object(s["c"])("actuator/metrics/jvm.gc.live.data.size"),Object(s["c"])("actuator/metrics/jvm.gc.pause")]).then((function(t){var n=[];t.forEach((function(t,r){var i=e.moreInfo[t.name];i instanceof Array||(i=[""]),i.forEach((function(i,o){var a=t.name+i,s=t.measurements[o].value;"jvm.memory.max"!==a&&"jvm.memory.committed"!==a&&"jvm.memory.used"!==a&&"jvm.buffer.memory.used"!==a&&"jvm.gc.memory.allocated"!==a&&"jvm.gc.memory.promoted"!==a&&"jvm.gc.max.data.size"!==a&&"jvm.gc.live.data.size"!==a||(s=e.convert(s,Number)),n.push({id:a+r,param:a,text:"false value",value:s})}))})),e.dataSource=n})).catch((function(t){e.$message.error("获取JVM信息失败")})).finally((function(){e.loading=!1,e.tableLoading=!1}))},convert:function(e,t){return t===Number?Number(e/1048576).toFixed(3):t===Date?a()(1e3*e).format("YYYY-MM-DD HH:mm:ss"):e}}},c=l,u=n("2877"),d=Object(u["a"])(c,r,i,!1,null,null,null);t["default"]=d.exports},"67e6":function(e,t,n){},"692e":function(e,t,n){var r={"./App.vue":"3dfd","./components/AvatarList/Item.vue":"58f7","./components/AvatarList/List.vue":"a40c","./components/ChartCard.vue":"05ed","./components/CountDown/CountDown.vue":"6a2a","./components/Ellipsis/Ellipsis.vue":"2095","./components/NumberInfo/NumberInfo.vue":"23fe","./components/Trend/Trend.vue":"996b","./components/chart/AreaChartTy.vue":"f552","./components/chart/Bar.vue":"edd9","./components/chart/BarAndLine.vue":"e659","./components/chart/BarMultid.vue":"8191","./components/chart/DashChartDemo.vue":"972f","./components/chart/IndexBar.vue":"0096","./components/chart/LineChartMultid.vue":"4ec6","./components/chart/Liquid.vue":"4ced","./components/chart/MiniArea.vue":"1d43","./components/chart/MiniBar.vue":"942d","./components/chart/MiniProgress.vue":"bf13","./components/chart/Pie.vue":"6cb2","./components/chart/Radar.vue":"3981","./components/chart/RankList.vue":"0923","./components/chart/StackBar.vue":"1ae1","./components/chart/TransferBar.vue":"1cf5","./components/chart/Trend.vue":"527e","./components/dict/JDictSelectTag.vue":"7b16","./components/dict/JMultiSelectTag.vue":"f680","./components/dict/JSearchSelectTag.vue":"c010","./components/jeecg/JAreaLinkage.vue":"9e8f","./components/jeecg/JCategorySelect.vue":"49a8","./components/jeecg/JCheckbox.vue":"a726","./components/jeecg/JCodeEditor.vue":"a876","./components/jeecg/JCron.vue":"1e29","./components/jeecg/JDate.vue":"2dab","./components/jeecg/JEditableTable.vue":"7550","./components/jeecg/JEditor.vue":"a061","./components/jeecg/JEllipsis.vue":"d579","./components/jeecg/JFormContainer.vue":"c681","./components/jeecg/JImageUpload.vue":"e610","./components/jeecg/JImportModal.vue":"7c93","./components/jeecg/JInput.vue":"4349","./components/jeecg/JMarkdownEditor/index.vue":"6f9a","./components/jeecg/JModal/index.vue":"5d8b","./components/jeecg/JPopup.vue":"9ffd","./components/jeecg/JSelectMultiple.vue":"13d2","./components/jeecg/JSlider.vue":"ae14","./components/jeecg/JSuperQuery.vue":"8c6e","./components/jeecg/JSwitch.vue":"f92c","./components/jeecg/JTreeDict.vue":"4165","./components/jeecg/JTreeSelect.vue":"b098","./components/jeecg/JTreeTable.vue":"6b87","./components/jeecg/JUpload.vue":"cf74","./components/jeecg/minipop/JFilePop.vue":"242f","./components/jeecg/minipop/JInputPop.vue":"5f64","./components/jeecg/modal/JCronModal.vue":"0ed5","./components/jeecg/modal/JPopupOnlReport.vue":"a916","./components/jeecgbiz/JSelectBizComponent/JSelectBizComponentModal.vue":"b16a","./components/jeecgbiz/JSelectBizComponent/index.vue":"b296","./components/jeecgbiz/JSelectDepart.vue":"fe54","./components/jeecgbiz/JSelectMultiUser.vue":"0f9d","./components/jeecgbiz/JSelectPosition.vue":"61fc","./components/jeecgbiz/JSelectRole.vue":"1e8c","./components/jeecgbiz/JSelectUserByDep.vue":"c14a","./components/jeecgbiz/modal/JSelectDepartModal.vue":"b0cd","./components/jeecgbiz/modal/JSelectUserByDepModal.vue":"a505","./components/jeecgbiz/modal/SelectUserListModal.vue":"9caf","./components/layouts/BasicLayout.vue":"5f32","./components/layouts/BlankLayout.vue":"e0179","./components/layouts/IframeFReportView.vue":"4505","./components/layouts/IframePageView.vue":"e6b8","./components/layouts/PageView.vue":"345a","./components/layouts/RouteView.vue":"501f","./components/layouts/TabLayout.vue":"0f63","./components/layouts/UserLayout.vue":"7efd","./components/menu/Contextmenu.vue":"91ad","./components/menu/SideMenu.vue":"e5f9","./components/page/GlobalFooter.vue":"911c","./components/page/GlobalHeader.vue":"630d","./components/page/GlobalLayout.vue":"8415","./components/page/PageHeader.vue":"603b","./components/page/PageLayout.vue":"b445","./components/page/SHeaderNotice.vue":"422d","./components/setting/SettingDrawer.vue":"2191","./components/setting/SettingItem.vue":"5d9b","./components/table/StandardTable.vue":"3521","./components/tools/Breadcrumb.vue":"e97b","./components/tools/DepartSelect.vue":"e2c7","./components/tools/DetailList.vue":"c16f","./components/tools/DynamicNotice.vue":"4eaf","./components/tools/FooterToolBar.vue":"c984","./components/tools/HeadInfo.vue":"81d1","./components/tools/HeaderNotice.vue":"a4b0","./components/tools/Logo.vue":"a250","./components/tools/ShowAnnouncement.vue":"2bd9","./components/tools/TwoStepCaptcha.vue":"2ca2","./components/tools/UserMenu.vue":"8d4d","./components/tools/UserPassword.vue":"ce42","./views/404.vue":"8cdb","./views/Home.vue":"bb51","./views/account/center/Index.vue":"f2f0","./views/account/center/page/App.vue":"2f5e","./views/account/center/page/Article.vue":"b8ea","./views/account/center/page/Project.vue":"b8c5","./views/account/settings/AvatarModal.vue":"8d90","./views/account/settings/BaseSetting.vue":"33e6","./views/account/settings/Binding.vue":"91be","./views/account/settings/Custom.vue":"55c3","./views/account/settings/Index.vue":"cd07","./views/account/settings/Notification.vue":"0c3f","./views/account/settings/Security.vue":"a9a9","./views/dashboard/Analysis.vue":"2f3a","./views/dashboard/IndexBdc.vue":"3559","./views/dashboard/IndexChart.vue":"94bb","./views/dashboard/IndexTask.vue":"0ec6","./views/dashboard/Monitor.vue":"0b56","./views/dashboard/Workplace.vue":"004c","./views/exception/403.vue":"e409","./views/exception/404.vue":"cc89","./views/exception/500.vue":"6c05","./views/exception/ExceptionPage.vue":"0673","./views/form/BasicForm.vue":"6239","./views/form/advancedForm/AdvancedForm.vue":"70d7","./views/form/advancedForm/RepositoryForm.vue":"cd43","./views/form/advancedForm/TaskForm.vue":"8dd6","./views/form/stepForm/Step1.vue":"82ef","./views/form/stepForm/Step2.vue":"f4a3","./views/form/stepForm/Step3.vue":"a462","./views/form/stepForm/StepForm.vue":"f311","./views/jeecg/ImagCropper.vue":"0663","./views/jeecg/ImagPreview.vue":"8629","./views/jeecg/ImgDragSort.vue":"042c","./views/jeecg/ImgTurnPage.vue":"4874","./views/jeecg/InterfaceTest.vue":"ff2a","./views/jeecg/JeecgDemoList.vue":"15dc","./views/jeecg/JeecgEditableTableExample.vue":"b020","./views/jeecg/JeecgOrderMainList.vue":"9b15","./views/jeecg/JeecgOrderMainListForJEditableTable.vue":"b2da","./views/jeecg/JeecgPdfView.vue":"19c0","./views/jeecg/JeecgTreeTable.vue":"da9b","./views/jeecg/PrintDemo.vue":"91b6","./views/jeecg/RowspanTable.vue":"3826","./views/jeecg/SelectDemo.vue":"b2b7","./views/jeecg/SplitPanel.vue":"7896","./views/jeecg/TableExpandeSub.vue":"8428","./views/jeecg/TableTotal.vue":"0467","./views/jeecg/helloworld.vue":"33b1","./views/jeecg/helloworld2.vue":"2f9b","./views/jeecg/modules/JEditableTable/DefaultTable.vue":"ff3c","./views/jeecg/modules/JEditableTable/ReadOnlyTable.vue":"9ba5","./views/jeecg/modules/JEditableTable/ThreeLinkage.vue":"01fe","./views/jeecg/modules/JeecgDemoModal.vue":"c943","./views/jeecg/modules/JeecgDemoTabsModal.vue":"3335","./views/jeecg/modules/JeecgOrderMainModal.vue":"8a45","./views/jeecg/modules/JeecgOrderModalForJEditableTable.vue":"b8ad3","./views/jeecg/modules/PdfPreviewModal.vue":"588f","./views/jeecg/modules/SplitPanelA.vue":"54d3","./views/jeecg/modules/SplitPanelB.vue":"9606","./views/jeecg/modules/SplitPanelModal.vue":"5d1e","./views/jeecg/modules/SuperQueryModal.vue":"f534","./views/jeecg/modules/VueCronModal.vue":"2a1c","./views/jeecg/report/Analysis.vue":"617d","./views/jeecg/report/ArchivesStatisticst.vue":"2832","./views/jeecg/report/ViserChartDemo.vue":"5139","./views/jeecg/tablist/JeecgOrderCustomerList.vue":"d544","./views/jeecg/tablist/JeecgOrderDMainList.vue":"6620","./views/jeecg/tablist/JeecgOrderTicketList.vue":"8c22","./views/jeecg/tablist/form/JeecgOrderCustomerModal.vue":"39a5","./views/jeecg/tablist/form/JeecgOrderDMainModal.vue":"dd9d","./views/jeecg/tablist/form/JeecgOrderTicketModal.vue":"aa8e","./views/list/CardList.vue":"d039","./views/list/PermissionList.vue":"5aa8","./views/list/RoleList.vue":"4002","./views/list/StandardList.vue":"2d51","./views/list/TableInnerEditList.vue":"5831","./views/list/TableList.vue":"f5eb","./views/list/UserList.vue":"5eda","./views/list/modules/RoleModal.vue":"0b38","./views/list/search/SearchLayout.vue":"9cbf","./views/modules/message/SysMessageList.vue":"17d8","./views/modules/message/SysMessageTemplateList.vue":"fd15","./views/modules/message/modules/SysMessageModal.vue":"89ba","./views/modules/message/modules/SysMessageTemplateModal.vue":"e5ab","./views/modules/message/modules/SysMessageTestModal.vue":"86a6","./views/modules/monitor/DiskMonitoring.vue":"a3fd","./views/modules/monitor/HttpTrace.vue":"3d75","./views/modules/monitor/JvmInfo.vue":"6741","./views/modules/monitor/RedisInfo.vue":"ebfa","./views/modules/monitor/RedisTerminal.vue":"b02a","./views/modules/monitor/SystemInfo.vue":"48f7","./views/modules/monitor/TomcatInfo.vue":"c3e2","./views/modules/oss/OSSFileList.vue":"9eee","./views/profile/advanced/Advanced.vue":"b644","./views/profile/basic/Index.vue":"df55","./views/result/Error.vue":"f32b","./views/result/Result.vue":"9a3d","./views/result/Success.vue":"3ada","./views/system/AddressList.vue":"6515","./views/system/DataLogList.vue":"4867","./views/system/DepartList.vue":"c9c2","./views/system/DepartList2.vue":"444c","./views/system/DepartUserList.vue":"806e","./views/system/DictDeleteList.vue":"3b0e","./views/system/DictItemList.vue":"59a0","./views/system/DictList.vue":"b4e3","./views/system/LogList.vue":"2977","./views/system/NewPermissionList.vue":"cd6d","./views/system/PermissionDataRuleList.vue":"56cd1","./views/system/PermissionList.vue":"25f0","./views/system/QuartzJobList.vue":"7a9d","./views/system/RoleList.vue":"4fa6","./views/system/RoleUserList.vue":"01c0","./views/system/SysAnnouncementList.vue":"1dc5","./views/system/SysCategoryList.vue":"ddf2","./views/system/SysCheckRuleList.vue":"a364","./views/system/SysDataSourceList.vue":"fad2","./views/system/SysFillRuleList.vue":"4f83","./views/system/SysGatewayRouteList.vue":"603e","./views/system/SysPositionList.vue":"1d8c","./views/system/TenantList.vue":"48e9","./views/system/UserAnnouncementList.vue":"bb70","./views/system/UserList.vue":"0d4b","./views/system/modules/AddressListLeft.vue":"3864","./views/system/modules/AddressListRight.vue":"cb6b","./views/system/modules/DataLogCompareModal.vue":"fcbc","./views/system/modules/DataLogModal.vue":"b4690","./views/system/modules/DepartAuthModal.vue":"1be7","./views/system/modules/DepartDataruleModal.vue":"6675","./views/system/modules/DepartModal.vue":"c1af","./views/system/modules/DepartWindow.vue":"c63e","./views/system/modules/DeptBaseInfo.vue":"e326","./views/system/modules/DeptRoleAuthModal.vue":"dc4b","./views/system/modules/DeptRoleDataruleModal.vue":"d456","./views/system/modules/DeptRoleInfo.vue":"24b9","./views/system/modules/DeptRoleUserModal.vue":"8034","./views/system/modules/DeptUserInfo.vue":"5859","./views/system/modules/DictItemModal.vue":"8144","./views/system/modules/DictModal.vue":"57ed","./views/system/modules/PasswordModal.vue":"ddf9","./views/system/modules/PermissionDataRuleModal.vue":"7c33","./views/system/modules/PermissionModal.vue":"b90e","./views/system/modules/QuartzJobModal.vue":"077e","./views/system/modules/RoleDataruleModal.vue":"2285","./views/system/modules/RoleModal.vue":"2a70","./views/system/modules/SelectUserListModal.vue":"ed2a","./views/system/modules/SelectUserModal.vue":"b3c4","./views/system/modules/SysAnnouncementModal.vue":"4647","./views/system/modules/SysCategoryModal.vue":"f1cf","./views/system/modules/SysCheckRuleModal.vue":"9655","./views/system/modules/SysCheckRuleTestModal.vue":"7d57","./views/system/modules/SysDataSourceModal.vue":"d57c","./views/system/modules/SysDepartRoleModal.vue":"a119","./views/system/modules/SysFillRuleModal.vue":"6b7a","./views/system/modules/SysPositionModal.vue":"8e7c","./views/system/modules/SysUserAgentModal.vue":"74c6","./views/system/modules/TenantForm.vue":"4890","./views/system/modules/TenantModal.vue":"7474","./views/system/modules/UserModal.vue":"418f","./views/system/modules/UserRecycleBinModal.vue":"eb9c","./views/system/modules/UserRoleModal.vue":"ee18","./views/system/modules/icon/Icons.vue":"11cb","./views/user/Alteration.vue":"ffc3","./views/user/Login.vue":"ac2a","./views/user/LoginSelectModal.vue":"d60c","./views/user/Register.vue":"1348","./views/user/RegisterResult.vue":"1037","./views/user/Step1.vue":"f14a","./views/user/Step2.vue":"ba6d","./views/user/Step3.vue":"f6d9","./views/user/Step4.vue":"8e46"};function i(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id="692e"},"693d":function(e,t,n){(function(e){"use strict";e(n("56b3"),n("9eb9"),n("d5e0"),n("f9d4"),n("a0bd"),n("7b00"),n("1b63"),n("76d2"),n("5bef"),n("e1de"))})((function(e){var t={script:[["lang",/coffee(script)?/,"coffeescript"],["type",/^(?:text|application)\/(?:x-)?coffee(?:script)?$/,"coffeescript"],["lang",/^babel$/,"javascript"],["type",/^text\/babel$/,"javascript"],["type",/^text\/ecmascript-\d+$/,"javascript"]],style:[["lang",/^stylus$/i,"stylus"],["lang",/^sass$/i,"sass"],["lang",/^less$/i,"text/x-less"],["lang",/^scss$/i,"text/x-scss"],["type",/^(text\/)?(x-)?styl(us)?$/i,"stylus"],["type",/^text\/sass/i,"sass"],["type",/^(text\/)?(x-)?scss$/i,"text/x-scss"],["type",/^(text\/)?(x-)?less$/i,"text/x-less"]],template:[["lang",/^vue-template$/i,"vue"],["lang",/^pug$/i,"pug"],["lang",/^handlebars$/i,"handlebars"],["type",/^(text\/)?(x-)?pug$/i,"pug"],["type",/^text\/x-handlebars-template$/i,"handlebars"],[null,null,"vue-template"]]};e.defineMode("vue-template",(function(t,n){var r={token:function(e){if(e.match(/^\{\{.*?\}\}/))return"meta mustache";while(e.next()&&!e.match("{{",!1));return null}};return e.overlayMode(e.getMode(t,n.backdrop||"text/html"),r)})),e.defineMode("vue",(function(n){return e.getMode(n,{name:"htmlmixed",tags:t})}),"htmlmixed","xml","javascript","coffeescript","css","sass","stylus","pug","handlebars"),e.defineMIME("script/x-vue","vue"),e.defineMIME("text/x-vue","vue")}))},"698a":function(e,t,n){"use strict";var r=n("727f"),i=n.n(r);i.a},"6a2a":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[e._v("\n  "+e._s(e._f("format")(e.lastTime))+"\n")])},i=[];function o(e){return 1*e<10?"0".concat(e):e}var a={name:"CountDown",props:{format:{type:Function,default:void 0},target:{type:[Date,Number],required:!0},onEnd:{type:Function,default:function(){}}},data:function(){return{dateTime:"0",originTargetTime:0,lastTime:0,timer:0,interval:1e3}},filters:{format:function(e){var t=36e5,n=6e4,r=Math.floor(e/t),i=Math.floor((e-r*t)/n),a=Math.floor((e-r*t-i*n)/1e3);return"".concat(o(r),":").concat(o(i),":").concat(o(a))}},created:function(){this.initTime(),this.tick()},methods:{initTime:function(){var e=0,t=0;this.originTargetTime=this.target;try{t="[object Date]"===Object.prototype.toString.call(this.target)?this.target:new Date(this.target).getTime()}catch(n){throw new Error("invalid target prop")}e=t-(new Date).getTime(),this.lastTime=e<0?0:e},tick:function(){var e=this,t=this.onEnd;this.timer=setTimeout((function(){e.lastTime<e.interval?(clearTimeout(e.timer),e.lastTime=0,"function"===typeof t&&t()):(e.lastTime-=e.interval,e.tick())}),this.interval)}},beforeUpdate:function(){this.originTargetTime!==this.target&&this.initTime()},beforeDestroy:function(){clearTimeout(this.timer)}},s=a,l=n("2877"),c=Object(l["a"])(s,r,i,!1,null,"1bfa669c",null);t["default"]=c.exports},"6b55":function(e,t,n){},"6b7a":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:e.title,width:800,visible:e.visible,maskClosable:!1,confirmLoading:e.confirmLoading,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"规则名称"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["ruleName",e.validatorRules.ruleName],expression:"['ruleName', validatorRules.ruleName]"}],attrs:{placeholder:"请输入规则名称"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"规则Code"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["ruleCode",e.validatorRules.ruleCode],expression:"['ruleCode', validatorRules.ruleCode]"}],attrs:{placeholder:"请输入规则Code",disabled:e.disabledCode}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"规则实现类"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["ruleClass",e.validatorRules.ruleClass],expression:"['ruleClass', validatorRules.ruleClass]"}],attrs:{placeholder:"请输入规则实现类"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"规则参数"}},[n("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["ruleParams",e.validatorRules.ruleParams],expression:"['ruleParams', validatorRules.ruleParams]"}],attrs:{placeholder:"请输入规则参数",rows:5}})],1)],1)],1)],1)},i=[],o=n("88bc"),a=n.n(o),s=n("0fea"),l=n("ca00"),c={name:"SysFillRuleModal",components:{},data:function(){var e=this;return{title:"操作",visible:!1,model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{ruleName:{rules:[{required:!0,message:"规则名称不能为空"}]},ruleCode:{rules:[{required:!0,message:"规则Code不能为空"},{validator:function(t,n,r){return Object(l["o"])("sys_fill_rule","rule_code",n,e.model.id,r)}}]},ruleClass:{rules:[{required:!0,message:"规则实现类不能为空"}]},ruleParams:{rules:[{validator:function(e,t,n){try{var r=JSON.parse(t);r instanceof Array?n("只能传递JSON对象，不能传递JSON数组"):r instanceof Object?n():n("请输入JSON字符串")}catch(i){n("请输入JSON字符串")}}}]}},url:{add:"/sys/fillRule/add",edit:"/sys/fillRule/edit"}}},computed:{disabledCode:function(){return!!this.model.id}},created:function(){},methods:{add:function(){this.edit({})},edit:function(e){var t=this;this.form.resetFields(),this.model=Object.assign({},e),this.visible=!0,this.$nextTick((function(){t.form.setFieldsValue(a()(t.model,"ruleName","ruleCode","ruleClass","ruleParams"))}))},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields((function(n,r){if(!n){t.confirmLoading=!0;var i=e.url.add,o="post";e.model.id&&(i=e.url.edit,o="put");var a=Object.assign(e.model,r);Object(s["h"])(i,a,o).then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}}))},handleCancel:function(){this.close()}}},u=c,d=n("2877"),f=Object(d["a"])(u,r,i,!1,null,"94f804a6",null);t["default"]=f.exports},"6b87":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-table",e._g(e._b({attrs:{rowKey:e.rowKey,columns:e.columns,dataSource:e.dataSource,expandedRowKeys:e.expandedRowKeys},on:{expand:e.handleExpand,expandedRowsChange:function(t){e.expandedRowKeys=t}},scopedSlots:e._u([e._l(e.slots,(function(t){return{key:t,fn:function(n,r,i){return[e._t(t,null,null,{text:n,record:r,index:i})]}}}))],null,!0)},"a-table",e.tableAttrs,!1),e.$listeners))},i=[],o=n("0fea");function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=l(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function l(e,t){if(e){if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u={name:"JTreeTable",props:{rowKey:{type:String,default:"id"},queryKey:{type:String,default:"parentId"},queryParams:{type:Object,default:function(){return{}}},topValue:{type:String,default:null},columns:{type:Array,required:!0},url:{type:String,required:!0},childrenUrl:{type:String,default:null},tableProps:{type:Object,default:function(){return{}}},immediateRequest:{type:Boolean,default:!0},condition:{type:String,default:"",required:!1}},data:function(){return{dataSource:[],expandedRowKeys:[]}},computed:{getChildrenUrl:function(){return this.childrenUrl?this.childrenUrl:this.url},slots:function(){var e,t=[],n=s(this.columns);try{for(n.s();!(e=n.n()).done;){var r=e.value;r.scopedSlots&&r.scopedSlots.customRender&&t.push(r.scopedSlots.customRender)}}catch(i){n.e(i)}finally{n.f()}return t},tableAttrs:function(){return Object.assign(this.$attrs,this.tableProps)}},watch:{queryParams:{deep:!0,handler:function(){this.loadData()}}},created:function(){this.immediateRequest&&this.loadData()},methods:{loadData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.topValue,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.url;this.$emit("requestBefore",{first:n}),n&&(this.expandedRowKeys=[]);var i=Object.assign({},this.queryParams||{});return i[this.queryKey]=t,this.condition&&this.condition.length>0&&(i["condition"]=this.condition),Object(o["c"])(r,i).then((function(t){var r=[];if(t.result instanceof Array)r=t.result;else{if(!(t.result.records instanceof Array))throw"返回数据类型不识别";r=t.result.records}var i=r.map((function(t){if(!0===t.hasChildren){var n,r,i,o=s(e.columns);try{for(o.s();!(i=o.n()).done;){var l=i.value;if(r=l.dataIndex,r)break}}catch(u){o.e(u)}finally{o.f()}var c=(n={id:"".concat(t.id,"_loadChild")},a(n,r,"loading..."),a(n,"isLoading",!0),n);t.children=[c]}return t}));return n&&(e.dataSource=i),e.$emit("requestSuccess",{first:n,dataSource:i,res:t}),Promise.resolve(i)})).finally((function(){return e.$emit("requestFinally",{first:n})}))},handleExpand:function(e,t){e&&!0===t.children[0].isLoading&&this.loadData(t.id,!1,this.getChildrenUrl).then((function(e){0===e.length?t.children=null:t.children=e}))}}},d=u,f=n("2877"),h=Object(f["a"])(d,r,i,!1,null,"b9ac6274",null);t["default"]=h.exports},"6c05":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("exception-page",{attrs:{type:"500"}})},i=[],o=n("0673"),a={components:{ExceptionPage:o["default"]}},s=a,l=n("2877"),c=Object(l["a"])(s,r,i,!1,null,"9ac4b85a",null);t["default"]=c.exports},"6cb2":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-chart",{attrs:{forceFit:!0,height:e.height,data:e.data,scale:e.scale,onClick:e.handleClick}},[n("v-tooltip",{attrs:{showTitle:!1,dataKey:"item*percent"}}),n("v-axis"),n("v-legend",{attrs:{dataKey:"item"}}),n("v-pie",{attrs:{position:"percent",color:"item","v-style":e.pieStyle,label:e.labelConfig}}),n("v-coord",{attrs:{type:"theta"}})],1)},i=[],o=n("c917"),a=n("7104"),s={name:"Pie",mixins:[o["a"]],props:{title:{type:String,default:""},height:{type:Number,default:254},dataSource:{type:Array,default:function(){return[{item:"示例一",count:40},{item:"示例二",count:21},{item:"示例三",count:17},{item:"示例四",count:13},{item:"示例五",count:9}]}}},data:function(){return{scale:[{dataKey:"percent",min:0,formatter:".0%"}],pieStyle:{stroke:"#fff",lineWidth:1},labelConfig:["percent",{formatter:function(e,t){return t.point.item+": "+e}}]}},computed:{data:function(){var e=(new a.View).source(this.dataSource);return e.transform({type:"percent",field:"count",dimension:"item",as:"percent"}),e.rows}}},l=s,c=n("2877"),u=Object(c["a"])(l,r,i,!1,null,null,null);t["default"]=u.exports},"6dd0":function(e,t,n){},"6e44":function(e,t,n){"use strict";var r=n("cd8b"),i=n.n(r);i.a},"6eb7":function(e,t,n){},"6f9a":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"j-markdown-editor",attrs:{id:e.id}})},i=[],o=(n("a7be"),n("f513"),n("f4c3"),n("a0ae")),a=n.n(o),s={minHeight:"200px",previewStyle:"vertical",useCommandShortcut:!0,useDefaultHTMLSanitizer:!0,usageStatistics:!1,hideModeSwitch:!1,toolbarItems:["heading","bold","italic","strike","divider","hr","quote","divider","ul","ol","task","indent","outdent","divider","table","image","link","divider","code","codeblock"]};function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d={name:"JMarkdownEditor",props:{value:{type:String,default:""},id:{type:String,required:!1,default:function(){return"markdown-editor-"+ +new Date+(1e3*Math.random()).toFixed(0)}},options:{type:Object,default:function(){return s}},mode:{type:String,default:"markdown"},height:{type:String,required:!1,default:"300px"},language:{type:String,required:!1,default:"zh-CN"}},data:function(){return{editor:null}},computed:{editorOptions:function(){var e=Object.assign({},s,this.options);return e.initialEditType=this.mode,e.height=this.height,e.language=this.language,e}},watch:{value:function(e,t){e!==t&&e!==this.editor.getMarkdown()&&this.editor.setMarkdown(e)},language:function(e){this.destroyEditor(),this.initEditor()},height:function(e){this.editor.height(e)},mode:function(e){this.editor.changeMode(e)}},mounted:function(){this.initEditor()},destroyed:function(){this.destroyEditor()},methods:{initEditor:function(){var e=this;this.editor=new a.a(c({el:document.getElementById(this.id)},this.editorOptions)),this.value&&this.editor.setMarkdown(this.value),this.editor.on("change",(function(){e.$emit("change",e.editor.getMarkdown())}))},destroyEditor:function(){this.editor&&(this.editor.off("change"),this.editor.remove())},setMarkdown:function(e){this.editor.setMarkdown(e)},getMarkdown:function(){return this.editor.getMarkdown()},setHtml:function(e){this.editor.setHtml(e)},getHtml:function(){return this.editor.getHtml()}},model:{prop:"value",event:"change"}},f=d,h=(n("bf93"),n("2877")),p=Object(h["a"])(f,r,i,!1,null,"b6aaa5ce",null);t["default"]=p.exports},"6fd8":function(e,t,n){"use strict";var r=n("b80a"),i=n.n(r);i.a},"70d7":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=this,n=t.$createElement,r=t._self._c||n;return r("div",[r("a-card",{staticClass:"card",attrs:{title:"仓库管理",bordered:!1}},[r("repository-form",{ref:"repository",attrs:{showSubmit:!1}})],1),r("a-card",{staticClass:"card",attrs:{title:"任务管理",bordered:!1}},[r("task-form",{ref:"task",attrs:{showSubmit:!1}})],1),r("a-card",[r("form",{attrs:{autoFormCreate:function(t){return e.form=t}}},[r("a-table",{attrs:{columns:t.columns,dataSource:t.data,pagination:!1},scopedSlots:t._u([t._l(["name","workId","department"],(function(e,n){return{key:e,fn:function(i,o,a){return[o.editable?r("a-input",{key:e,staticStyle:{margin:"-5px 0"},attrs:{value:i,placeholder:t.columns[n].title},on:{change:function(n){return t.handleChange(n.target.value,o.key,e)}}}):[t._v(t._s(i))]]}}})),{key:"operation",fn:function(e,n,i){return[n.editable?[n.isNew?r("span",[r("a",{on:{click:function(e){return t.saveRow(n.key)}}},[t._v("添加")]),r("a-divider",{attrs:{type:"vertical"}}),r("a-popconfirm",{attrs:{title:"是否要删除此行？"},on:{confirm:function(e){return t.remove(n.key)}}},[r("a",[t._v("删除")])])],1):r("span",[r("a",{on:{click:function(e){return t.saveRow(n.key)}}},[t._v("保存")]),r("a-divider",{attrs:{type:"vertical"}}),r("a",{on:{click:function(e){return t.cancel(n.key)}}},[t._v("取消")])],1)]:r("span",[r("a",{on:{click:function(e){return t.toggle(n.key)}}},[t._v("编辑")]),r("a-divider",{attrs:{type:"vertical"}}),r("a-popconfirm",{attrs:{title:"是否要删除此行？"},on:{confirm:function(e){return t.remove(n.key)}}},[r("a",[t._v("删除")])])],1)]}}],null,!0)}),r("a-button",{staticStyle:{width:"100%","margin-top":"16px","margin-bottom":"8px"},attrs:{type:"dashed",icon:"plus"},on:{click:t.newMember}},[t._v("新增成员")])],1)]),r("footer-tool-bar",[r("a-button",{attrs:{type:"primary",loading:t.loading},on:{click:t.validate}},[t._v("提交")])],1)],1)},i=[],o=n("cd43"),a=n("8dd6"),s=n("c984");function l(e){return f(e)||d(e)||u(e)||c()}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){if(e){if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function d(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function f(e){if(Array.isArray(e))return h(e)}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p={name:"AdvancedForm",components:{FooterToolBar:s["default"],RepositoryForm:o["default"],TaskForm:a["default"]},data:function(){return{description:"高级表单常见于一次性输入和提交大批量数据的场景。",loading:!1,columns:[{title:"成员姓名",dataIndex:"name",key:"name",width:"20%",scopedSlots:{customRender:"name"}},{title:"工号",dataIndex:"workId",key:"workId",width:"20%",scopedSlots:{customRender:"workId"}},{title:"所属部门",dataIndex:"department",key:"department",width:"40%",scopedSlots:{customRender:"department"}},{title:"操作",key:"action",scopedSlots:{customRender:"operation"}}],data:[{key:"1",name:"小明",workId:"001",editable:!1,department:"行政部"},{key:"2",name:"李莉",workId:"002",editable:!1,department:"IT部"},{key:"3",name:"王小帅",workId:"003",editable:!1,department:"财务部"}]}},methods:{handleSubmit:function(e){e.preventDefault()},newMember:function(){this.data.push({key:"-1",name:"",workId:"",department:"",editable:!0,isNew:!0})},remove:function(e){var t=this.data.filter((function(t){return t.key!==e}));this.data=t},saveRow:function(e){var t=this.data.filter((function(t){return t.key===e}))[0];t.editable=!1,t.isNew=!1},toggle:function(e){var t=this.data.filter((function(t){return t.key===e}))[0];t.editable=!t.editable},getRowByKey:function(e,t){var n=this.data;return(t||n).filter((function(t){return t.key===e}))[0]},cancel:function(e){var t=this.data.filter((function(t){return t.key===e}))[0];t.editable=!1},handleChange:function(e,t,n){var r=l(this.data),i=r.filter((function(e){return t===e.key}))[0];i&&(i[n]=e,this.data=r)},validate:function(){var e=this;this.$refs.repository.form.validateFields((function(t,n){t||e.$notification["error"]({message:"Received values of form:",description:n})})),this.$refs.task.form.validateFields((function(t,n){t||e.$notification["error"]({message:"Received values of form:",description:n})}))}}},m=p,g=(n("2c4b"),n("2877")),v=Object(g["a"])(m,r,i,!1,null,"702d482d",null);t["default"]=v.exports},7199:function(e,t,n){"use strict";var r=n("aea3"),i=n.n(r);i.a},"71ca":function(e,t,n){},"727f":function(e,t,n){},"72c0":function(e,t,n){"use strict";var r=n("f594"),i=n.n(r);i.a},"73c0":function(e,t,n){"use strict";var r=n("01f7"),i=n.n(r);i.a},"73cb":function(e,t,n){"use strict";var r=n("746b"),i=n.n(r);i.a},"746b":function(e,t,n){},7474:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("j-modal",{attrs:{title:e.title,width:e.width,visible:e.visible,switchFullscreen:"",okButtonProps:{class:{"jee-hidden":e.disableSubmit}},cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("tenant-form",{ref:"realForm",attrs:{disabled:e.disableSubmit,normal:""},on:{ok:e.submitCallback}})],1)},i=[],o=n("4890"),a={name:"TenantModal",components:{TenantForm:o["default"]},data:function(){return{title:"",width:800,visible:!1,disableSubmit:!1}},methods:{add:function(){var e=this;this.visible=!0,this.$nextTick((function(){e.$refs.realForm.add()}))},edit:function(e){var t=this;this.visible=!0,this.$nextTick((function(){t.$refs.realForm.edit(e)}))},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){this.$refs.realForm.submitForm()},submitCallback:function(){this.$emit("ok"),this.visible=!1},handleCancel:function(){this.close()}}},s=a,l=n("2877"),c=Object(l["a"])(s,r,i,!1,null,null,null);t["default"]=c.exports},"74c6":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:e.title,width:800,visible:e.visible,confirmLoading:e.confirmLoading,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"用户名"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["userName",{}],expression:"['userName', {}]"}],attrs:{placeholder:"请输入用户名",readOnly:""}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"代理人用户名"}},[n("j-select-user-by-dep",{directives:[{name:"decorator",rawName:"v-decorator",value:["agentUserName",e.validatorRules.agentUserName],expression:"['agentUserName', validatorRules.agentUserName]"}],attrs:{placeholder:"请输入代理人用户名","trigger-change":!0}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"代理开始时间"}},[n("j-date",{directives:[{name:"decorator",rawName:"v-decorator",value:["startTime",e.validatorRules.startTime],expression:"[ 'startTime', validatorRules.startTime]"}],staticStyle:{width:"100%"},attrs:{"trigger-change":!0,showTime:!0,"date-format":"YYYY-MM-DD HH:mm:ss",placeholder:"请选择开始时间"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"代理结束时间"}},[n("j-date",{directives:[{name:"decorator",rawName:"v-decorator",value:["endTime",e.validatorRules.endTime],expression:"[ 'endTime', validatorRules.endTime]"}],staticStyle:{width:"100%"},attrs:{"trigger-change":!0,showTime:!0,"date-format":"YYYY-MM-DD HH:mm:ss",placeholder:"请选择结束时间"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"状态"}},[n("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["status",{}],expression:"[ 'status', {}]"}],staticClass:"fontiframe",attrs:{name:"radioGroup"}},[n("a-radio",{staticClass:"radioGroup",attrs:{value:"1"}},[e._v("有效")]),n("a-radio",{staticClass:"radioGroup",attrs:{value:"0"}},[e._v("无效")])],1)],1)],1)],1)],1)},i=[],o=n("88bc"),a=n.n(o),s=n("0fea"),l=n("2dab"),c=n("c14a"),u={name:"SysUserAgentModal",components:{JDate:l["default"],JSelectUserByDep:c["default"]},data:function(){return{title:"操作",visible:!1,model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},username:"",confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{agentUserName:{rules:[{required:!0,message:"请输入代理人用户名!"}]},startTime:{rules:[{required:!0,message:"请输入代理开始时间!"}]},endTime:{rules:[{required:!0,message:"请输入代理结束时间!"}]}},url:{add:"/sys/sysUserAgent/add",edit:"/sys/sysUserAgent/edit",queryByUserName:"/sys/sysUserAgent/queryByUserName"}}},created:function(){},methods:{agentSettings:function(e){this.username=e,this.init()},init:function(){var e=this,t={userName:this.username};Object(s["c"])(this.url.queryByUserName,t).then((function(t){t.success?e.edit(t.result):e.edit({userName:e.username,status:"0"})}))},edit:function(e){var t=this;this.form.resetFields(),this.model=Object.assign({},e),this.visible=!0,this.$nextTick((function(){t.form.setFieldsValue(a()(t.model,"userName","agentUserName","status","startTime","endTime"))}))},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields((function(n,r){if(!n){t.confirmLoading=!0;var i="",o="";e.model.id?(i+=e.url.edit,o="put"):(i+=e.url.add,o="post");var a=Object.assign(e.model,r);Object(s["h"])(i,a,o).then((function(e){e.success?t.$message.success(e.message):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}}))},handleCancel:function(){this.close()}}},d=u,f=n("2877"),h=Object(f["a"])(d,r,i,!1,null,"5e663c2e",null);t["default"]=h.exports},"754d":function(e,t,n){},"76ae":function(e,t,n){(function(e){e(n("56b3"))})((function(e){"use strict";function t(e,t){if(!e.hasOwnProperty(t))throw new Error("Undefined state "+t+" in simple mode")}function n(e,t){if(!e)return/(?:)/;var n="";return e instanceof RegExp?(e.ignoreCase&&(n="i"),e=e.source):e=String(e),new RegExp((!1===t?"":"^")+"(?:"+e+")",n)}function r(e){if(!e)return null;if(e.apply)return e;if("string"==typeof e)return e.replace(/\./g," ");for(var t=[],n=0;n<e.length;n++)t.push(e[n]&&e[n].replace(/\./g," "));return t}function i(e,i){(e.next||e.push)&&t(i,e.next||e.push),this.regex=n(e.regex),this.token=r(e.token),this.data=e}function o(e,t){return function(n,r){if(r.pending){var i=r.pending.shift();return 0==r.pending.length&&(r.pending=null),n.pos+=i.text.length,i.token}if(r.local){if(r.local.end&&n.match(r.local.end)){var o=r.local.endToken||null;return r.local=r.localState=null,o}var a;o=r.local.mode.token(n,r.localState);return r.local.endScan&&(a=r.local.endScan.exec(n.current()))&&(n.pos=n.start+a.index),o}for(var l=e[r.state],c=0;c<l.length;c++){var u=l[c],d=(!u.data.sol||n.sol())&&n.match(u.regex);if(d){u.data.next?r.state=u.data.next:u.data.push?((r.stack||(r.stack=[])).push(r.state),r.state=u.data.push):u.data.pop&&r.stack&&r.stack.length&&(r.state=r.stack.pop()),u.data.mode&&s(t,r,u.data.mode,u.token),u.data.indent&&r.indent.push(n.indentation()+t.indentUnit),u.data.dedent&&r.indent.pop();var f=u.token;if(f&&f.apply&&(f=f(d)),d.length>2&&u.token&&"string"!=typeof u.token){r.pending=[];for(var h=2;h<d.length;h++)d[h]&&r.pending.push({text:d[h],token:u.token[h-1]});return n.backUp(d[0].length-(d[1]?d[1].length:0)),f[0]}return f&&f.join?f[0]:f}}return n.next(),null}}function a(e,t){if(e===t)return!0;if(!e||"object"!=typeof e||!t||"object"!=typeof t)return!1;var n=0;for(var r in e)if(e.hasOwnProperty(r)){if(!t.hasOwnProperty(r)||!a(e[r],t[r]))return!1;n++}for(var r in t)t.hasOwnProperty(r)&&n--;return 0==n}function s(t,r,i,o){var s;if(i.persistent)for(var l=r.persistentStates;l&&!s;l=l.next)(i.spec?a(i.spec,l.spec):i.mode==l.mode)&&(s=l);var c=s?s.mode:i.mode||e.getMode(t,i.spec),u=s?s.state:e.startState(c);i.persistent&&!s&&(r.persistentStates={mode:c,spec:i.spec,state:u,next:r.persistentStates}),r.localState=u,r.local={mode:c,end:i.end&&n(i.end),endScan:i.end&&!1!==i.forceEnd&&n(i.end,!1),endToken:o&&o.join?o[o.length-1]:o}}function l(e,t){for(var n=0;n<t.length;n++)if(t[n]===e)return!0}function c(t,n){return function(r,i,o){if(r.local&&r.local.mode.indent)return r.local.mode.indent(r.localState,i,o);if(null==r.indent||r.local||n.dontIndentStates&&l(r.state,n.dontIndentStates)>-1)return e.Pass;var a=r.indent.length-1,s=t[r.state];e:for(;;){for(var c=0;c<s.length;c++){var u=s[c];if(u.data.dedent&&!1!==u.data.dedentIfLineStart){var d=u.regex.exec(i);if(d&&d[0]){a--,(u.next||u.push)&&(s=t[u.next||u.push]),i=i.slice(d[0].length);continue e}}}break}return a<0?0:r.indent[a]}}e.defineSimpleMode=function(t,n){e.defineMode(t,(function(t){return e.simpleMode(t,n)}))},e.simpleMode=function(n,r){t(r,"start");var a={},s=r.meta||{},l=!1;for(var u in r)if(u!=s&&r.hasOwnProperty(u))for(var d=a[u]=[],f=r[u],h=0;h<f.length;h++){var p=f[h];d.push(new i(p,r)),(p.indent||p.dedent)&&(l=!0)}var m={startState:function(){return{state:"start",pending:null,local:null,localState:null,indent:l?[]:null}},copyState:function(t){var n={state:t.state,pending:t.pending,local:t.local,localState:null,indent:t.indent&&t.indent.slice(0)};t.localState&&(n.localState=e.copyState(t.local.mode,t.localState)),t.stack&&(n.stack=t.stack.slice(0));for(var r=t.persistentStates;r;r=r.next)n.persistentStates={mode:r.mode,spec:r.spec,state:r.state==t.localState?n.localState:e.copyState(r.mode,r.state),next:n.persistentStates};return n},token:o(a,n),innerMode:function(e){return e.local&&{mode:e.local.mode,state:e.localState}},indent:c(a,s)};if(s)for(var g in s)s.hasOwnProperty(g)&&(m[g]=s[g]);return m}}))},"76d2":function(e,t,n){(function(e){e(n("56b3"))})((function(e){"use strict";e.defineMode("stylus",(function(e){var h,p,b,y,C=e.indentUnit,w="",x=g(t),I=/^(a|b|i|s|col|em)$/i,A=g(o),k=g(a),S=g(c),_=g(l),T=g(n),E=m(n),O=g(i),R=g(r),N=g(s),L=/^\s*([.]{2,3}|&&|\|\||\*\*|[?!=:]?=|[-+*\/%<>]=?|\?:|\~)/,D=m(u),B=g(d),M=new RegExp(/^\-(moz|ms|o|webkit)-/i),P=g(f),F="",j={};while(w.length<C)w+=" ";function H(e,t){if(F=e.string.match(/(^[\w-]+\s*=\s*$)|(^\s*[\w-]+\s*=\s*[\w-])|(^\s*(\.|#|@|\$|\&|\[|\d|\+|::?|\{|\>|~|\/)?\s*[\w-]*([a-z0-9-]|\*|\/\*)(\(|,)?)/),t.context.line.firstWord=F?F[0].replace(/^\s*/,""):"",t.context.line.indent=e.indentation(),h=e.peek(),e.match("//"))return e.skipToEnd(),["comment","comment"];if(e.match("/*"))return t.tokenize=z,z(e,t);if('"'==h||"'"==h)return e.next(),t.tokenize=$(h),t.tokenize(e,t);if("@"==h)return e.next(),e.eatWhile(/[\w\\-]/),["def",e.current()];if("#"==h){if(e.next(),e.match(/^[0-9a-f]{3}([0-9a-f]([0-9a-f]{2}){0,2})?\b(?!-)/i))return["atom","atom"];if(e.match(/^[a-z][\w-]*/i))return["builtin","hash"]}return e.match(M)?["meta","vendor-prefixes"]:e.match(/^-?[0-9]?\.?[0-9]/)?(e.eatWhile(/[a-z%]/i),["number","unit"]):"!"==h?(e.next(),[e.match(/^(important|optional)/i)?"keyword":"operator","important"]):"."==h&&e.match(/^\.[a-z][\w-]*/i)?["qualifier","qualifier"]:e.match(E)?("("==e.peek()&&(t.tokenize=V),["property","word"]):e.match(/^[a-z][\w-]*\(/i)?(e.backUp(1),["keyword","mixin"]):e.match(/^(\+|-)[a-z][\w-]*\(/i)?(e.backUp(1),["keyword","block-mixin"]):e.string.match(/^\s*&/)&&e.match(/^[-_]+[a-z][\w-]*/)?["qualifier","qualifier"]:e.match(/^(\/|&)(-|_|:|\.|#|[a-z])/)?(e.backUp(1),["variable-3","reference"]):e.match(/^&{1}\s*$/)?["variable-3","reference"]:e.match(D)?["operator","operator"]:e.match(/^\$?[-_]*[a-z0-9]+[\w-]*/i)?e.match(/^(\.|\[)[\w-\'\"\]]+/i,!1)&&!q(e.current())?(e.match(/\./),["variable-2","variable-name"]):["variable-2","word"]:e.match(L)?["operator",e.current()]:/[:;,{}\[\]\(\)]/.test(h)?(e.next(),[null,h]):(e.next(),[null,null])}function z(e,t){var n,r=!1;while(null!=(n=e.next())){if(r&&"/"==n){t.tokenize=null;break}r="*"==n}return["comment","comment"]}function $(e){return function(t,n){var r,i=!1;while(null!=(r=t.next())){if(r==e&&!i){")"==e&&t.backUp(1);break}i=!i&&"\\"==r}return(r==e||!i&&")"!=e)&&(n.tokenize=null),["string","string"]}}function V(e,t){return e.next(),e.match(/\s*[\"\')]/,!1)?t.tokenize=null:t.tokenize=$(")"),[null,"("]}function W(e,t,n,r){this.type=e,this.indent=t,this.prev=n,this.line=r||{firstWord:"",indent:0}}function K(e,t,n,r){return r=r>=0?r:C,e.context=new W(n,t.indentation()+r,e.context),n}function G(e,t){var n=e.context.indent-C;return t=t||!1,e.context=e.context.prev,t&&(e.context.indent=n),e.context.type}function Z(e,t,n){return j[n.context.type](e,t,n)}function U(e,t,n,r){for(var i=r||1;i>0;i--)n.context=n.context.prev;return Z(e,t,n)}function q(e){return e.toLowerCase()in x}function X(e){return e=e.toLowerCase(),e in A||e in N}function Y(e){return e.toLowerCase()in B}function J(e){return e.toLowerCase().match(M)}function Q(e){var t=e.toLowerCase(),n="variable-2";return q(e)?n="tag":Y(e)?n="block-keyword":X(e)?n="property":t in S||t in P?n="atom":"return"==t||t in _?n="keyword":e.match(/^[A-Z]/)&&(n="string"),n}function ee(e,t){return ie(t)&&("{"==e||"]"==e||"hash"==e||"qualifier"==e)||"block-mixin"==e}function te(e,t){return"{"==e&&t.match(/^\s*\$?[\w-]+/i,!1)}function ne(e,t){return":"==e&&t.match(/^[a-z-]+/,!1)}function re(e){return e.sol()||e.string.match(new RegExp("^\\s*"+v(e.current())))}function ie(e){return e.eol()||e.match(/^\s*$/,!1)}function oe(e){var t=/^\s*[-_]*[a-z0-9]+[\w-]*/i,n="string"==typeof e?e.match(t):e.string.match(t);return n?n[0].replace(/^\s*/,""):""}return j.block=function(e,t,n){if("comment"==e&&re(t)||","==e&&ie(t)||"mixin"==e)return K(n,t,"block",0);if(te(e,t))return K(n,t,"interpolation");if(ie(t)&&"]"==e&&!/^\s*(\.|#|:|\[|\*|&)/.test(t.string)&&!q(oe(t)))return K(n,t,"block",0);if(ee(e,t))return K(n,t,"block");if("}"==e&&ie(t))return K(n,t,"block",0);if("variable-name"==e)return t.string.match(/^\s?\$[\w-\.\[\]\'\"]+$/)||Y(oe(t))?K(n,t,"variableName"):K(n,t,"variableName",0);if("="==e)return ie(t)||Y(oe(t))?K(n,t,"block"):K(n,t,"block",0);if("*"==e&&(ie(t)||t.match(/\s*(,|\.|#|\[|:|{)/,!1)))return y="tag",K(n,t,"block");if(ne(e,t))return K(n,t,"pseudo");if(/@(font-face|media|supports|(-moz-)?document)/.test(e))return K(n,t,ie(t)?"block":"atBlock");if(/@(-(moz|ms|o|webkit)-)?keyframes$/.test(e))return K(n,t,"keyframes");if(/@extends?/.test(e))return K(n,t,"extend",0);if(e&&"@"==e.charAt(0))return t.indentation()>0&&X(t.current().slice(1))?(y="variable-2","block"):/(@import|@require|@charset)/.test(e)?K(n,t,"block",0):K(n,t,"block");if("reference"==e&&ie(t))return K(n,t,"block");if("("==e)return K(n,t,"parens");if("vendor-prefixes"==e)return K(n,t,"vendorPrefixes");if("word"==e){var r=t.current();if(y=Q(r),"property"==y)return re(t)?K(n,t,"block",0):(y="atom","block");if("tag"==y){if(/embed|menu|pre|progress|sub|table/.test(r)&&X(oe(t)))return y="atom","block";if(t.string.match(new RegExp("\\[\\s*"+r+"|"+r+"\\s*\\]")))return y="atom","block";if(I.test(r)&&(re(t)&&t.string.match(/=/)||!re(t)&&!t.string.match(/^(\s*\.|#|\&|\[|\/|>|\*)/)&&!q(oe(t))))return y="variable-2",Y(oe(t))?"block":K(n,t,"block",0);if(ie(t))return K(n,t,"block")}if("block-keyword"==y)return y="keyword",t.current(/(if|unless)/)&&!re(t)?"block":K(n,t,"block");if("return"==r)return K(n,t,"block",0);if("variable-2"==y&&t.string.match(/^\s?\$[\w-\.\[\]\'\"]+$/))return K(n,t,"block")}return n.context.type},j.parens=function(e,t,n){if("("==e)return K(n,t,"parens");if(")"==e)return"parens"==n.context.prev.type?G(n):t.string.match(/^[a-z][\w-]*\(/i)&&ie(t)||Y(oe(t))||/(\.|#|:|\[|\*|&|>|~|\+|\/)/.test(oe(t))||!t.string.match(/^-?[a-z][\w-\.\[\]\'\"]*\s*=/)&&q(oe(t))?K(n,t,"block"):t.string.match(/^[\$-]?[a-z][\w-\.\[\]\'\"]*\s*=/)||t.string.match(/^\s*(\(|\)|[0-9])/)||t.string.match(/^\s+[a-z][\w-]*\(/i)||t.string.match(/^\s+[\$-]?[a-z]/i)?K(n,t,"block",0):ie(t)?K(n,t,"block"):K(n,t,"block",0);if(e&&"@"==e.charAt(0)&&X(t.current().slice(1))&&(y="variable-2"),"word"==e){var r=t.current();y=Q(r),"tag"==y&&I.test(r)&&(y="variable-2"),"property"!=y&&"to"!=r||(y="atom")}return"variable-name"==e?K(n,t,"variableName"):ne(e,t)?K(n,t,"pseudo"):n.context.type},j.vendorPrefixes=function(e,t,n){return"word"==e?(y="property",K(n,t,"block",0)):G(n)},j.pseudo=function(e,t,n){return X(oe(t.string))?U(e,t,n):(t.match(/^[a-z-]+/),y="variable-3",ie(t)?K(n,t,"block"):G(n))},j.atBlock=function(e,t,n){if("("==e)return K(n,t,"atBlock_parens");if(ee(e,t))return K(n,t,"block");if(te(e,t))return K(n,t,"interpolation");if("word"==e){var r=t.current().toLowerCase();if(y=/^(only|not|and|or)$/.test(r)?"keyword":T.hasOwnProperty(r)?"tag":R.hasOwnProperty(r)?"attribute":O.hasOwnProperty(r)?"property":k.hasOwnProperty(r)?"string-2":Q(t.current()),"tag"==y&&ie(t))return K(n,t,"block")}return"operator"==e&&/^(not|and|or)$/.test(t.current())&&(y="keyword"),n.context.type},j.atBlock_parens=function(e,t,n){if("{"==e||"}"==e)return n.context.type;if(")"==e)return ie(t)?K(n,t,"block"):K(n,t,"atBlock");if("word"==e){var r=t.current().toLowerCase();return y=Q(r),/^(max|min)/.test(r)&&(y="property"),"tag"==y&&(y=I.test(r)?"variable-2":"atom"),n.context.type}return j.atBlock(e,t,n)},j.keyframes=function(e,t,n){return"0"==t.indentation()&&("}"==e&&re(t)||"]"==e||"hash"==e||"qualifier"==e||q(t.current()))?U(e,t,n):"{"==e?K(n,t,"keyframes"):"}"==e?re(t)?G(n,!0):K(n,t,"keyframes"):"unit"==e&&/^[0-9]+\%$/.test(t.current())?K(n,t,"keyframes"):"word"==e&&(y=Q(t.current()),"block-keyword"==y)?(y="keyword",K(n,t,"keyframes")):/@(font-face|media|supports|(-moz-)?document)/.test(e)?K(n,t,ie(t)?"block":"atBlock"):"mixin"==e?K(n,t,"block",0):n.context.type},j.interpolation=function(e,t,n){return"{"==e&&G(n)&&K(n,t,"block"),"}"==e?t.string.match(/^\s*(\.|#|:|\[|\*|&|>|~|\+|\/)/i)||t.string.match(/^\s*[a-z]/i)&&q(oe(t))?K(n,t,"block"):!t.string.match(/^(\{|\s*\&)/)||t.match(/\s*[\w-]/,!1)?K(n,t,"block",0):K(n,t,"block"):"variable-name"==e?K(n,t,"variableName",0):("word"==e&&(y=Q(t.current()),"tag"==y&&(y="atom")),n.context.type)},j.extend=function(e,t,n){return"["==e||"="==e?"extend":"]"==e?G(n):"word"==e?(y=Q(t.current()),"extend"):G(n)},j.variableName=function(e,t,n){return"string"==e||"["==e||"]"==e||t.current().match(/^(\.|\$)/)?(t.current().match(/^\.[\w-]+/i)&&(y="variable-2"),"variableName"):U(e,t,n)},{startState:function(e){return{tokenize:null,state:"block",context:new W("block",e||0,null)}},token:function(e,t){return!t.tokenize&&e.eatSpace()?null:(p=(t.tokenize||H)(e,t),p&&"object"==typeof p&&(b=p[1],p=p[0]),y=p,t.state=j[t.state](b,e,t),y)},indent:function(e,t,n){var r=e.context,i=t&&t.charAt(0),o=r.indent,a=oe(t),s=n.match(/^\s*/)[0].replace(/\t/g,w).length,l=e.context.prev?e.context.prev.line.firstWord:"",c=e.context.prev?e.context.prev.line.indent:s;return r.prev&&("}"==i&&("block"==r.type||"atBlock"==r.type||"keyframes"==r.type)||")"==i&&("parens"==r.type||"atBlock_parens"==r.type)||"{"==i&&"at"==r.type)?o=r.indent-C:/(\})/.test(i)||(/@|\$|\d/.test(i)||/^\{/.test(t)||/^\s*\/(\/|\*)/.test(t)||/^\s*\/\*/.test(l)||/^\s*[\w-\.\[\]\'\"]+\s*(\?|:|\+)?=/i.test(t)||/^(\+|-)?[a-z][\w-]*\(/i.test(t)||/^return/.test(t)||Y(a)?o=s:/(\.|#|:|\[|\*|&|>|~|\+|\/)/.test(i)||q(a)?o=/\,\s*$/.test(l)?c:/^\s+/.test(n)&&(/(\.|#|:|\[|\*|&|>|~|\+|\/)/.test(l)||q(l))?s<=c?c:c+C:s:/,\s*$/.test(n)||!J(a)&&!X(a)||(o=Y(l)?s<=c?c:c+C:/^\{/.test(l)?s<=c?s:c+C:J(l)||X(l)?s>=c?c:s:/^(\.|#|:|\[|\*|&|@|\+|\-|>|~|\/)/.test(l)||/=\s*$/.test(l)||q(l)||/^\$[\w-\.\[\]\'\"]/.test(l)?c+C:s)),o},electricChars:"}",lineComment:"//",fold:"indent"}}));var t=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","bgsound","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","nobr","noframes","noscript","object","ol","optgroup","option","output","p","param","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","var","video"],n=["domain","regexp","url","url-prefix"],r=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],i=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid"],o=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-position","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marker-offset","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode","font-smoothing","osx-font-smoothing"],a=["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"],s=["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],l=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],c=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","column","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","dashed","decimal","decimal-leading-zero","default","default-button","destination-atop","destination-in","destination-out","destination-over","devanagari","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","flex","footnotes","forwards","from","geometricPrecision","georgian","graytext","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","malayalam","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row-resize","rtl","run-in","running","s-resize","sans-serif","scale","scale3d","scaleX","scaleY","scaleZ","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","semi-condensed","semi-expanded","separate","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","solid","somali","source-atop","source-in","source-out","source-over","space","spell-out","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","symbolic","symbols","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","x-large","x-small","xor","xx-large","xx-small","bicubic","optimizespeed","grayscale","row","row-reverse","wrap","wrap-reverse","column-reverse","flex-start","flex-end","space-between","space-around","unset"],u=["in","and","or","not","is not","is a","is","isnt","defined","if unless"],d=["for","if","else","unless","from","to"],f=["null","true","false","href","title","type","not-allowed","readonly","disabled"],h=["@font-face","@keyframes","@media","@viewport","@page","@host","@supports","@block","@css"],p=t.concat(n,r,i,o,a,l,c,s,u,d,f,h);function m(e){return e=e.sort((function(e,t){return t>e})),new RegExp("^(("+e.join(")|(")+"))\\b")}function g(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=!0;return t}function v(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}e.registerHelper("hintWords","stylus",p),e.defineMIME("text/x-styl","stylus")}))},7723:function(e,t,n){},"7746c":function(e,t,n){"use strict";var r=n("476c"),i=n.n(r);i.a},7896:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",[n("a-button",{attrs:{type:"primary",icon:"desktop"},on:{click:e.splitPane}},[e._v("点我分屏")]),n("split-panel-modal",{ref:"splitPanelModal"})],1)},i=[],o=n("5d1e"),a={name:"SplitPanel",components:{SplitPanelModal:o["default"]},data:function(){return{description:"分屏"}},methods:{splitPane:function(){this.$refs.splitPanelModal.show()}}},s=a,l=n("2877"),c=Object(l["a"])(s,r,i,!1,null,"b3f18768",null);t["default"]=c.exports},"7a83":function(e,t,n){"use strict";var r=n("8234"),i=n.n(r);i.a},"7a9d":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchQuery(t)}}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{md:6,sm:10}},[n("a-form-item",{attrs:{label:"任务类名"}},[n("a-input",{attrs:{placeholder:"请输入任务类名"},model:{value:e.queryParam.jobClassName,callback:function(t){e.$set(e.queryParam,"jobClassName",t)},expression:"queryParam.jobClassName"}})],1)],1),n("a-col",{attrs:{md:6,sm:10}},[n("a-form-item",{attrs:{label:"任务状态"}},[n("a-select",{staticStyle:{width:"220px"},attrs:{placeholder:"请选择状态"},model:{value:e.queryParam.status,callback:function(t){e.$set(e.queryParam,"status",t)},expression:"queryParam.status"}},[n("a-select-option",{attrs:{value:""}},[e._v("全部")]),n("a-select-option",{attrs:{value:"0"}},[e._v("正常")]),n("a-select-option",{attrs:{value:"-1"}},[e._v("停止")])],1)],1)],1),n("a-col",{attrs:{md:6,sm:10}},[n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")])],1)])],1)],1)],1),n("div",{staticClass:"table-operator"},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("新增")]),n("a-button",{attrs:{type:"primary",icon:"download"},on:{click:function(t){return e.handleExportXls("定时任务信息")}}},[e._v("导出")]),n("a-upload",{attrs:{name:"file",showUploadList:!1,multiple:!1,headers:e.tokenHeader,action:e.importExcelUrl},on:{change:e.handleImportExcel}},[n("a-button",{attrs:{type:"primary",icon:"import"}},[e._v("导入")])],1),e.selectedRowKeys.length>0?n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:e.batchDel}},[n("a-icon",{attrs:{type:"delete"}}),e._v("删除")],1)],1),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v(" 批量操作 "),n("a-icon",{attrs:{type:"down"}})],1)],1):e._e()],1),n("div",[n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),e._v(" 已选择 "),n("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRowKeys.length))]),e._v("项\n      "),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])]),n("a-table",{ref:"table",attrs:{size:"middle",bordered:"",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"description",fn:function(e){return n("span",{},[n("j-ellipsis",{attrs:{value:e,length:20}})],1)}},{key:"parameterRender",fn:function(e){return n("span",{},[n("j-ellipsis",{attrs:{value:e,length:20}})],1)}},{key:"action",fn:function(t,r){return n("span",{},[-1==r.status?n("a",{on:{click:function(t){return e.resumeJob(r)}}},[e._v("启动")]):e._e(),0==r.status?n("a",{on:{click:function(t){return e.pauseJob(r)}}},[e._v("停止")]):e._e(),n("a-divider",{attrs:{type:"vertical"}}),n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link"},[e._v("更多 "),n("a-icon",{attrs:{type:"down"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a",{on:{click:function(t){return e.executeImmediately(r)}}},[e._v("立即执行")])]),n("a-menu-item",[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")])]),n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete(r.id)}}},[n("a",[e._v("删除")])])],1)],1)],1)],1)}},{key:"customRenderStatus",fn:function(t){return[0==t?n("a-tag",{attrs:{color:"green"}},[e._v("已启动")]):e._e(),-1==t?n("a-tag",{attrs:{color:"orange"}},[e._v("已暂停")]):e._e()]}}])})],1),n("quartzJob-modal",{ref:"modalForm",on:{ok:e.modalFormOk}})],1)},i=[],o=n("077e"),a=n("0fea"),s=n("b65a"),l=n("d579"),c={name:"QuartzJobList",mixins:[s["a"]],components:{QuartzJobModal:o["default"],JEllipsis:l["default"]},data:function(){return{description:"定时任务在线管理",queryParam:{},columns:[{title:"#",dataIndex:"",key:"rowIndex",width:60,align:"center",customRender:function(e,t,n){return parseInt(n)+1}},{title:"任务类名",align:"center",dataIndex:"jobClassName",sorter:!0},{title:"cron表达式",align:"center",dataIndex:"cronExpression"},{title:"参数",align:"center",width:150,dataIndex:"parameter",scopedSlots:{customRender:"parameterRender"}},{title:"描述",align:"center",width:250,dataIndex:"description",scopedSlots:{customRender:"description"}},{title:"状态",align:"center",dataIndex:"status",scopedSlots:{customRender:"customRenderStatus"},filterMultiple:!1,filters:[{text:"已启动",value:"0"},{text:"已暂停",value:"-1"}]},{title:"操作",dataIndex:"action",align:"center",width:180,scopedSlots:{customRender:"action"}}],url:{list:"/sys/quartzJob/list",delete:"/sys/quartzJob/delete",deleteBatch:"/sys/quartzJob/deleteBatch",pause:"/sys/quartzJob/pause",resume:"/sys/quartzJob/resume",exportXlsUrl:"sys/quartzJob/exportXls",importExcelUrl:"sys/quartzJob/importExcel",execute:"sys/quartzJob/execute"}}},computed:{importExcelUrl:function(){return"".concat(window._CONFIG["domianURL"],"/").concat(this.url.importExcelUrl)}},methods:{handleTableChange:function(e,t,n){Object.keys(n).length>0&&(this.isorter.column=n.field,this.isorter.order="ascend"==n.order?"asc":"desc"),this.filters.status=t.status[0],this.ipagination=e,this.loadData()},pauseJob:function(e){var t=this;this.$confirm({title:"确认暂停",content:"是否暂停选中任务?",onOk:function(){Object(a["c"])(t.url.pause,{jobClassName:e.jobClassName}).then((function(e){e.success?(t.$message.success(e.message),t.loadData(),t.onClearSelected()):t.$message.warning(e.message)}))}})},resumeJob:function(e){var t=this;this.$confirm({title:"确认启动",content:"是否启动选中任务?",onOk:function(){Object(a["c"])(t.url.resume,{jobClassName:e.jobClassName}).then((function(e){e.success?(t.$message.success(e.message),t.loadData(),t.onClearSelected()):t.$message.warning(e.message)}))}})},executeImmediately:function(e){var t=this;this.$confirm({title:"确认提示",content:"是否立即执行任务?",onOk:function(){Object(a["c"])(t.url.execute,{id:e.id}).then((function(e){e.success?(t.$message.success(e.message),t.loadData(),t.onClearSelected()):t.$message.warning(e.message)}))}})}}},u=c,d=(n("4e97"),n("2877")),f=Object(d["a"])(u,r,i,!1,null,"bd90d43a",null);t["default"]=f.exports},"7b00":function(e,t,n){(function(e){e(n("56b3"))})((function(e){"use strict";function t(e){for(var t={},n=0;n<e.length;++n)t[e[n].toLowerCase()]=!0;return t}e.defineMode("css",(function(t,n){var r=n.inline;n.propertyKeywords||(n=e.resolveMode("text/css"));var i,o,a=t.indentUnit,s=n.tokenHooks,l=n.documentTypes||{},c=n.mediaTypes||{},u=n.mediaFeatures||{},d=n.mediaValueKeywords||{},f=n.propertyKeywords||{},h=n.nonStandardPropertyKeywords||{},p=n.fontProperties||{},m=n.counterDescriptors||{},g=n.colorKeywords||{},v=n.valueKeywords||{},b=n.allowNested,y=n.lineComment,C=!0===n.supportsAtComponent;function w(e,t){return i=t,e}function x(e,t){var n=e.next();if(s[n]){var r=s[n](e,t);if(!1!==r)return r}return"@"==n?(e.eatWhile(/[\w\\\-]/),w("def",e.current())):"="==n||("~"==n||"|"==n)&&e.eat("=")?w(null,"compare"):'"'==n||"'"==n?(t.tokenize=I(n),t.tokenize(e,t)):"#"==n?(e.eatWhile(/[\w\\\-]/),w("atom","hash")):"!"==n?(e.match(/^\s*\w*/),w("keyword","important")):/\d/.test(n)||"."==n&&e.eat(/\d/)?(e.eatWhile(/[\w.%]/),w("number","unit")):"-"!==n?/[,+>*\/]/.test(n)?w(null,"select-op"):"."==n&&e.match(/^-?[_a-z][_a-z0-9-]*/i)?w("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(n)?w(null,n):e.match(/[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/.test(e.current().toLowerCase())&&(t.tokenize=A),w("variable callee","variable")):/[\w\\\-]/.test(n)?(e.eatWhile(/[\w\\\-]/),w("property","word")):w(null,null):/[\d.]/.test(e.peek())?(e.eatWhile(/[\w.%]/),w("number","unit")):e.match(/^-[\w\\\-]*/)?(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?w("variable-2","variable-definition"):w("variable-2","variable")):e.match(/^\w+-/)?w("meta","meta"):void 0}function I(e){return function(t,n){var r,i=!1;while(null!=(r=t.next())){if(r==e&&!i){")"==e&&t.backUp(1);break}i=!i&&"\\"==r}return(r==e||!i&&")"!=e)&&(n.tokenize=null),w("string","string")}}function A(e,t){return e.next(),e.match(/\s*[\"\')]/,!1)?t.tokenize=null:t.tokenize=I(")"),w(null,"(")}function k(e,t,n){this.type=e,this.indent=t,this.prev=n}function S(e,t,n,r){return e.context=new k(n,t.indentation()+(!1===r?0:a),e.context),n}function _(e){return e.context.prev&&(e.context=e.context.prev),e.context.type}function T(e,t,n){return R[n.context.type](e,t,n)}function E(e,t,n,r){for(var i=r||1;i>0;i--)n.context=n.context.prev;return T(e,t,n)}function O(e){var t=e.current().toLowerCase();o=v.hasOwnProperty(t)?"atom":g.hasOwnProperty(t)?"keyword":"variable"}var R={top:function(e,t,n){if("{"==e)return S(n,t,"block");if("}"==e&&n.context.prev)return _(n);if(C&&/@component/i.test(e))return S(n,t,"atComponentBlock");if(/^@(-moz-)?document$/i.test(e))return S(n,t,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(e))return S(n,t,"atBlock");if(/^@(font-face|counter-style)/i.test(e))return n.stateArg=e,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(e))return"keyframes";if(e&&"@"==e.charAt(0))return S(n,t,"at");if("hash"==e)o="builtin";else if("word"==e)o="tag";else{if("variable-definition"==e)return"maybeprop";if("interpolation"==e)return S(n,t,"interpolation");if(":"==e)return"pseudo";if(b&&"("==e)return S(n,t,"parens")}return n.context.type},block:function(e,t,n){if("word"==e){var r=t.current().toLowerCase();return f.hasOwnProperty(r)?(o="property","maybeprop"):h.hasOwnProperty(r)?(o="string-2","maybeprop"):b?(o=t.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(o+=" error","maybeprop")}return"meta"==e?"block":b||"hash"!=e&&"qualifier"!=e?R.top(e,t,n):(o="error","block")},maybeprop:function(e,t,n){return":"==e?S(n,t,"prop"):T(e,t,n)},prop:function(e,t,n){if(";"==e)return _(n);if("{"==e&&b)return S(n,t,"propBlock");if("}"==e||"{"==e)return E(e,t,n);if("("==e)return S(n,t,"parens");if("hash"!=e||/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(t.current())){if("word"==e)O(t);else if("interpolation"==e)return S(n,t,"interpolation")}else o+=" error";return"prop"},propBlock:function(e,t,n){return"}"==e?_(n):"word"==e?(o="property","maybeprop"):n.context.type},parens:function(e,t,n){return"{"==e||"}"==e?E(e,t,n):")"==e?_(n):"("==e?S(n,t,"parens"):"interpolation"==e?S(n,t,"interpolation"):("word"==e&&O(t),"parens")},pseudo:function(e,t,n){return"meta"==e?"pseudo":"word"==e?(o="variable-3",n.context.type):T(e,t,n)},documentTypes:function(e,t,n){return"word"==e&&l.hasOwnProperty(t.current())?(o="tag",n.context.type):R.atBlock(e,t,n)},atBlock:function(e,t,n){if("("==e)return S(n,t,"atBlock_parens");if("}"==e||";"==e)return E(e,t,n);if("{"==e)return _(n)&&S(n,t,b?"block":"top");if("interpolation"==e)return S(n,t,"interpolation");if("word"==e){var r=t.current().toLowerCase();o="only"==r||"not"==r||"and"==r||"or"==r?"keyword":c.hasOwnProperty(r)?"attribute":u.hasOwnProperty(r)?"property":d.hasOwnProperty(r)?"keyword":f.hasOwnProperty(r)?"property":h.hasOwnProperty(r)?"string-2":v.hasOwnProperty(r)?"atom":g.hasOwnProperty(r)?"keyword":"error"}return n.context.type},atComponentBlock:function(e,t,n){return"}"==e?E(e,t,n):"{"==e?_(n)&&S(n,t,b?"block":"top",!1):("word"==e&&(o="error"),n.context.type)},atBlock_parens:function(e,t,n){return")"==e?_(n):"{"==e||"}"==e?E(e,t,n,2):R.atBlock(e,t,n)},restricted_atBlock_before:function(e,t,n){return"{"==e?S(n,t,"restricted_atBlock"):"word"==e&&"@counter-style"==n.stateArg?(o="variable","restricted_atBlock_before"):T(e,t,n)},restricted_atBlock:function(e,t,n){return"}"==e?(n.stateArg=null,_(n)):"word"==e?(o="@font-face"==n.stateArg&&!p.hasOwnProperty(t.current().toLowerCase())||"@counter-style"==n.stateArg&&!m.hasOwnProperty(t.current().toLowerCase())?"error":"property","maybeprop"):"restricted_atBlock"},keyframes:function(e,t,n){return"word"==e?(o="variable","keyframes"):"{"==e?S(n,t,"top"):T(e,t,n)},at:function(e,t,n){return";"==e?_(n):"{"==e||"}"==e?E(e,t,n):("word"==e?o="tag":"hash"==e&&(o="builtin"),"at")},interpolation:function(e,t,n){return"}"==e?_(n):"{"==e||";"==e?E(e,t,n):("word"==e?o="variable":"variable"!=e&&"("!=e&&")"!=e&&(o="error"),"interpolation")}};return{startState:function(e){return{tokenize:null,state:r?"block":"top",stateArg:null,context:new k(r?"block":"top",e||0,null)}},token:function(e,t){if(!t.tokenize&&e.eatSpace())return null;var n=(t.tokenize||x)(e,t);return n&&"object"==typeof n&&(i=n[1],n=n[0]),o=n,"comment"!=i&&(t.state=R[t.state](i,e,t)),o},indent:function(e,t){var n=e.context,r=t&&t.charAt(0),i=n.indent;return"prop"!=n.type||"}"!=r&&")"!=r||(n=n.prev),n.prev&&("}"!=r||"block"!=n.type&&"top"!=n.type&&"interpolation"!=n.type&&"restricted_atBlock"!=n.type?(")"!=r||"parens"!=n.type&&"atBlock_parens"!=n.type)&&("{"!=r||"at"!=n.type&&"atBlock"!=n.type)||(i=Math.max(0,n.indent-a)):(n=n.prev,i=n.indent)),i},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:y,fold:"brace"}}));var n=["domain","regexp","url","url-prefix"],r=t(n),i=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],o=t(i),a=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover"],s=t(a),l=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive"],c=t(l),u=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],d=t(u),f=["border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],h=t(f),p=["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],m=t(p),g=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],v=t(g),b=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],y=t(b),C=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],w=t(C),x=n.concat(i).concat(a).concat(l).concat(u).concat(f).concat(b).concat(C);function I(e,t){var n,r=!1;while(null!=(n=e.next())){if(r&&"/"==n){t.tokenize=null;break}r="*"==n}return["comment","comment"]}e.registerHelper("hintWords","css",x),e.defineMIME("text/css",{documentTypes:r,mediaTypes:o,mediaFeatures:s,mediaValueKeywords:c,propertyKeywords:d,nonStandardPropertyKeywords:h,fontProperties:m,counterDescriptors:v,colorKeywords:y,valueKeywords:w,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=I,I(e,t))}},name:"css"}),e.defineMIME("text/x-scss",{mediaTypes:o,mediaFeatures:s,mediaValueKeywords:c,propertyKeywords:d,nonStandardPropertyKeywords:h,colorKeywords:y,valueKeywords:w,fontProperties:m,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=I,I(e,t)):["operator","operator"]},":":function(e){return!!e.match(/\s*\{/,!1)&&[null,null]},$:function(e){return e.match(/^[\w-]+/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(e){return!!e.eat("{")&&[null,"interpolation"]}},name:"css",helperType:"scss"}),e.defineMIME("text/x-less",{mediaTypes:o,mediaFeatures:s,mediaValueKeywords:c,propertyKeywords:d,nonStandardPropertyKeywords:h,colorKeywords:y,valueKeywords:w,fontProperties:m,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=I,I(e,t)):["operator","operator"]},"@":function(e){return e.eat("{")?[null,"interpolation"]:!e.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)&&(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),e.defineMIME("text/x-gss",{documentTypes:r,mediaTypes:o,mediaFeatures:s,propertyKeywords:d,nonStandardPropertyKeywords:h,fontProperties:m,counterDescriptors:v,colorKeywords:y,valueKeywords:w,supportsAtComponent:!0,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=I,I(e,t))}},name:"css",helperType:"gss"})}))},"7c33":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:e.title,width:1e3,visible:e.visible,confirmLoading:e.confirmLoading,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"规则名称"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["ruleName",e.validatorRules.ruleName],expression:"['ruleName', validatorRules.ruleName]"}],attrs:{placeholder:"请输入规则名称"}})],1),n("a-form-item",{directives:[{name:"show",rawName:"v-show",value:e.showRuleColumn,expression:"showRuleColumn"}],attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"规则字段"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["ruleColumn",e.validatorRules.ruleColumn],expression:"['ruleColumn', validatorRules.ruleColumn]"}],attrs:{placeholder:"请输入规则字段"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"条件规则"}},[n("j-dict-select-tag",{directives:[{name:"decorator",rawName:"v-decorator",value:["ruleConditions",e.validatorRules.ruleConditions],expression:"['ruleConditions', validatorRules.ruleConditions]"}],attrs:{placeholder:"请输入条件规则",triggerChange:!0,dictCode:"rule_conditions"},on:{change:e.handleChangeRuleCondition}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"规则值"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["ruleValue",e.validatorRules.ruleValue],expression:"['ruleValue', validatorRules.ruleValue]"}],attrs:{placeholder:"请输入规则值"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"状态"}},[n("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["status",{initialValue:"1"}],expression:"['status',{initialValue:'1'}]"}],attrs:{buttonStyle:"solid"}},[n("a-radio-button",{attrs:{value:"1"}},[e._v("有效")]),n("a-radio-button",{attrs:{value:"0"}},[e._v("无效")])],1)],1)],1)],1)],1)},i=[],o=n("0fea"),a=n("88bc"),s=n.n(a),l={name:"PermissionDataRuleModal",data:function(){return{queryParam:{},title:"操作",visible:!1,model:{},ruleConditionList:[],labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),permissionId:"",validatorRules:{ruleConditions:{rules:[{required:!0,message:"请选择条件!"}]},ruleName:{rules:[{required:!0,message:"请输入规则名称!"}]},ruleValue:{rules:[{required:!0,message:"请输入规则值!"}]},ruleColumn:{rules:[]}},url:{list:"/sys/dictItem/list",add:"/sys/permission/addPermissionRule",edit:"/sys/permission/editPermissionRule"},showRuleColumn:!0}},created:function(){},methods:{add:function(e){this.permissionId=e,this.edit({})},edit:function(e){var t=this;this.form.resetFields(),this.model=Object.assign({},e),e.permissionId?this.model.permissionId=e.permissionId:this.model.permissionId=this.permissionId,this.visible=!0,this.initRuleCondition(),this.$nextTick((function(){t.form.setFieldsValue(s()(t.model,"status","ruleName","ruleColumn","ruleConditions","ruleValue"))}))},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields((function(n,r){if(!n){t.confirmLoading=!0;var i="",a="";e.model.id?(i+=e.url.edit,a="put"):(i+=e.url.add,a="post");var s=Object.assign(e.model,r);s.ruleColumn&&s.ruleColumn.length>0&&(s.ruleColumn=s.ruleColumn.trim()),s.ruleValue&&s.ruleValue.length>0&&(s.ruleValue=s.ruleValue.trim()),Object(o["h"])(i,s,a).then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}}))},handleCancel:function(){this.close()},initRuleCondition:function(){this.model.ruleConditions&&"USE_SQL_RULES"==this.model.ruleConditions?this.showRuleColumn=!1:this.showRuleColumn=!0},handleChangeRuleCondition:function(e){"USE_SQL_RULES"==e?(this.form.setFieldsValue({ruleColumn:""}),this.showRuleColumn=!1):this.showRuleColumn=!0}}},c=l,u=n("2877"),d=Object(u["a"])(c,r,i,!1,null,"2f909d56",null);t["default"]=d.exports},"7c93":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:"导入EXCEL",width:600,visible:e.visible,confirmLoading:e.uploading},on:{cancel:e.handleClose}},[n("a-upload",{attrs:{name:"file",multiple:!0,accept:".xls,.xlsx",fileList:e.fileList,remove:e.handleRemove,beforeUpload:e.beforeUpload}},[n("a-button",[n("a-icon",{attrs:{type:"upload"}}),e._v("\n      选择导入文件\n    ")],1)],1),n("template",{slot:"footer"},[n("a-button",{on:{click:e.handleClose}},[e._v("关闭")]),n("a-button",{attrs:{type:"primary",disabled:0===e.fileList.length,loading:e.uploading},on:{click:e.handleImport}},[e._v("\n      "+e._s(e.uploading?"上传中...":"开始上传")+"\n    ")])],1)],2)},i=[],o=n("0fea");function a(e){return u(e)||c(e)||l(e)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){if(e){if("string"===typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function c(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function u(e){if(Array.isArray(e))return d(e)}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f={name:"JImportModal",props:{url:{type:String,default:"",required:!1},biz:{type:String,default:"",required:!1}},data:function(){return{visible:!1,uploading:!1,fileList:[],uploadAction:"",foreignKeys:""}},watch:{url:function(e){e&&(this.uploadAction=window._CONFIG["domianURL"]+e)}},created:function(){this.uploadAction=window._CONFIG["domianURL"]+this.url},methods:{handleClose:function(){this.visible=!1},show:function(e){this.fileList=[],this.uploading=!1,this.visible=!0,this.foreignKeys=e},handleRemove:function(e){var t=this.fileList.indexOf(e),n=this.fileList.slice();n.splice(t,1),this.fileList=n},beforeUpload:function(e){return this.fileList=[].concat(a(this.fileList),[e]),!1},handleImport:function(){var e=this,t=this.fileList,n=new FormData;this.biz&&n.append("isSingleTableImport",this.biz),this.foreignKeys&&this.foreignKeys.length>0&&n.append("foreignKeys",this.foreignKeys),t.forEach((function(e){n.append("files[]",e)})),this.uploading=!0,Object(o["i"])(this.uploadAction,n).then((function(t){e.uploading=!1,t.success?(e.$message.success(t.message),e.visible=!1,e.$emit("ok")):e.$message.warning(t.message)}))}}},h=f,p=n("2877"),m=Object(p["a"])(h,r,i,!1,null,"4051e061",null);t["default"]=m.exports},"7ce2":function(e,t,n){},"7d19":function(e,t,n){},"7d57":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:"功能测试",width:800,visible:e.visible},on:{ok:function(t){e.visible=!1},cancel:function(t){e.visible=!1}}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{label:"功能测试"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["test",e.validatorRules.test],expression:"['test', validatorRules.test]"}],attrs:{placeholder:"请输入"},on:{change:function(t){return e.testValue=t.target.value}}})],1)],1),n("a-row",{attrs:{type:"flex",gutter:8}},e._l(e.testValue,(function(t,r){return n("a-col",{key:r},[n("a-row",[n("a-col",[n("a-input",{staticStyle:{"text-align":"center",width:"40px"},attrs:{value:t}})],1),n("a-col",{staticStyle:{"text-align":"center"}},[e._v(e._s(r+1))])],1)],1)})),1)],1)},i=[],o=n("ca00"),a={name:"SysCheckRuleTestModal",data:function(){var e=this;return{title:"操作",visible:!1,ruleCode:"",testValue:"",form:this.$form.createForm(this),validatorRules:{test:{rules:[{validator:function(t,n,r){return Object(o["n"])(e.ruleCode,n,r)}}]}}}},methods:{open:function(e){this.ruleCode=e,this.form.resetFields(),this.testValue="",this.visible=!0}}},s=a,l=n("2877"),c=Object(l["a"])(s,r,i,!1,null,"0e3a1b08",null);t["default"]=c.exports},"7e79":function(e,t,n){!function(t,n){e.exports=n()}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t,n){var r=n(2);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(4)(r,i),r.locals&&(e.exports=r.locals)},function(e,t,n){"use strict";var r=n(0);n.n(r).a},function(e,t,n){(e.exports=n(3)(!1)).push([e.i,'\n.vue-cropper[data-v-6dae58fd] {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  user-select: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  direction: ltr;\n  touch-action: none;\n  text-align: left;\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC");\n}\n.cropper-box[data-v-6dae58fd],\n.cropper-box-canvas[data-v-6dae58fd],\n.cropper-drag-box[data-v-6dae58fd],\n.cropper-crop-box[data-v-6dae58fd],\n.cropper-face[data-v-6dae58fd] {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  user-select: none;\n}\n.cropper-box-canvas img[data-v-6dae58fd] {\n  position: relative;\n  text-align: left;\n  user-select: none;\n  transform: none;\n  max-width: none;\n  max-height: none;\n}\n.cropper-box[data-v-6dae58fd] {\n  overflow: hidden;\n}\n.cropper-move[data-v-6dae58fd] {\n  cursor: move;\n}\n.cropper-crop[data-v-6dae58fd] {\n  cursor: crosshair;\n}\n.cropper-modal[data-v-6dae58fd] {\n  background: rgba(0, 0, 0, 0.5);\n}\n.cropper-crop-box[data-v-6dae58fd] {\n  /*border: 2px solid #39f;*/\n}\n.cropper-view-box[data-v-6dae58fd] {\n  display: block;\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n  outline: 1px solid #39f;\n  outline-color: rgba(51, 153, 255, 0.75);\n  user-select: none;\n}\n.cropper-view-box img[data-v-6dae58fd] {\n  user-select: none;\n  text-align: left;\n  max-width: none;\n  max-height: none;\n}\n.cropper-face[data-v-6dae58fd] {\n  top: 0;\n  left: 0;\n  background-color: #fff;\n  opacity: 0.1;\n}\n.crop-info[data-v-6dae58fd] {\n  position: absolute;\n  left: 0px;\n  min-width: 65px;\n  text-align: center;\n  color: white;\n  line-height: 20px;\n  background-color: rgba(0, 0, 0, 0.8);\n  font-size: 12px;\n}\n.crop-line[data-v-6dae58fd] {\n  position: absolute;\n  display: block;\n  width: 100%;\n  height: 100%;\n  opacity: 0.1;\n}\n.line-w[data-v-6dae58fd] {\n  top: -3px;\n  left: 0;\n  height: 5px;\n  cursor: n-resize;\n}\n.line-a[data-v-6dae58fd] {\n  top: 0;\n  left: -3px;\n  width: 5px;\n  cursor: w-resize;\n}\n.line-s[data-v-6dae58fd] {\n  bottom: -3px;\n  left: 0;\n  height: 5px;\n  cursor: s-resize;\n}\n.line-d[data-v-6dae58fd] {\n  top: 0;\n  right: -3px;\n  width: 5px;\n  cursor: e-resize;\n}\n.crop-point[data-v-6dae58fd] {\n  position: absolute;\n  width: 8px;\n  height: 8px;\n  opacity: 0.75;\n  background-color: #39f;\n  border-radius: 100%;\n}\n.point1[data-v-6dae58fd] {\n  top: -4px;\n  left: -4px;\n  cursor: nw-resize;\n}\n.point2[data-v-6dae58fd] {\n  top: -5px;\n  left: 50%;\n  margin-left: -3px;\n  cursor: n-resize;\n}\n.point3[data-v-6dae58fd] {\n  top: -4px;\n  right: -4px;\n  cursor: ne-resize;\n}\n.point4[data-v-6dae58fd] {\n  top: 50%;\n  left: -4px;\n  margin-top: -3px;\n  cursor: w-resize;\n}\n.point5[data-v-6dae58fd] {\n  top: 50%;\n  right: -4px;\n  margin-top: -3px;\n  cursor: e-resize;\n}\n.point6[data-v-6dae58fd] {\n  bottom: -5px;\n  left: -4px;\n  cursor: sw-resize;\n}\n.point7[data-v-6dae58fd] {\n  bottom: -5px;\n  left: 50%;\n  margin-left: -3px;\n  cursor: s-resize;\n}\n.point8[data-v-6dae58fd] {\n  bottom: -5px;\n  right: -4px;\n  cursor: se-resize;\n}\n@media screen and (max-width: 500px) {\n.crop-point[data-v-6dae58fd] {\n    position: absolute;\n    width: 20px;\n    height: 20px;\n    opacity: 0.45;\n    background-color: #39f;\n    border-radius: 100%;\n}\n.point1[data-v-6dae58fd] {\n    top: -10px;\n    left: -10px;\n}\n.point2[data-v-6dae58fd],\n  .point4[data-v-6dae58fd],\n  .point5[data-v-6dae58fd],\n  .point7[data-v-6dae58fd] {\n    display: none;\n}\n.point3[data-v-6dae58fd] {\n    top: -10px;\n    right: -10px;\n}\n.point4[data-v-6dae58fd] {\n    top: 0;\n    left: 0;\n}\n.point6[data-v-6dae58fd] {\n    bottom: -10px;\n    left: -10px;\n}\n.point8[data-v-6dae58fd] {\n    bottom: -10px;\n    right: -10px;\n}\n}\n',""])},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var i=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(r),o=r.sources.map((function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"}));return[n].concat(o).concat([i]).join("\n")}return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<e.length;i++){var a=e[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){var r={},i=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}((function(){return window&&document&&document.all&&!window.atob})),o=function(e){var t={};return function(e,n){if("function"==typeof e)return e();if(void 0===t[e]){var r=function(e,t){return t?t.querySelector(e):document.querySelector(e)}.call(this,e,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}}(),a=null,s=0,l=[],c=n(5);function u(e,t){for(var n=0;n<e.length;n++){var i=e[n],o=r[i.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](i.parts[a]);for(;a<i.parts.length;a++)o.parts.push(g(i.parts[a],t))}else{var s=[];for(a=0;a<i.parts.length;a++)s.push(g(i.parts[a],t));r[i.id]={id:i.id,refs:1,parts:s}}}}function d(e,t){for(var n=[],r={},i=0;i<e.length;i++){var o=e[i],a=t.base?o[0]+t.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function f(e,t){var n=o(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=l[l.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),l.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=o(e.insertAt.before,n);n.insertBefore(t,i)}}function h(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=l.indexOf(e);t>=0&&l.splice(t,1)}function p(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var r=function(){return n.nc}();r&&(e.attrs.nonce=r)}return m(t,e.attrs),f(e,t),t}function m(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function g(e,t){var n,r,i,o;if(t.transform&&e.css){if(!(o="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=o}if(t.singleton){var l=s++;n=a||(a=p(t)),r=b.bind(null,n,l,!1),i=b.bind(null,n,l,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",m(t,e.attrs),f(e,t),t}(t),r=function(e,t,n){var r=n.css,i=n.sourceMap,o=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||o)&&(r=c(r)),i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,t),i=function(){h(n),n.href&&URL.revokeObjectURL(n.href)}):(n=p(t),r=function(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),i=function(){h(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=i()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=d(e,t);return u(n,t),function(e){for(var i=[],o=0;o<n.length;o++){var a=n[o];(s=r[a.id]).refs--,i.push(s)}for(e&&u(d(e,t),t),o=0;o<i.length;o++){var s;if(0===(s=i[o]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete r[s.id]}}}};var v=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}();function b(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=v(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var i,o=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?e:(i=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")}))}},function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"cropper",staticClass:"vue-cropper",on:{mouseover:e.scaleImg,mouseout:e.cancelScale}},[e.imgs?n("div",{staticClass:"cropper-box"},[n("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],staticClass:"cropper-box-canvas",style:{width:e.trueWidth+"px",height:e.trueHeight+"px",transform:"scale("+e.scale+","+e.scale+") translate3d("+e.x/e.scale+"px,"+e.y/e.scale+"px,0)rotateZ("+90*e.rotate+"deg)"}},[n("img",{ref:"cropperImg",attrs:{src:e.imgs,alt:"cropper-img"}})])]):e._e(),e._v(" "),n("div",{staticClass:"cropper-drag-box",class:{"cropper-move":e.move&&!e.crop,"cropper-crop":e.crop,"cropper-modal":e.cropping},on:{mousedown:e.startMove,touchstart:e.startMove}}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.cropping,expression:"cropping"}],staticClass:"cropper-crop-box",style:{width:e.cropW+"px",height:e.cropH+"px",transform:"translate3d("+e.cropOffsertX+"px,"+e.cropOffsertY+"px,0)"}},[n("span",{staticClass:"cropper-view-box"},[n("img",{style:{width:e.trueWidth+"px",height:e.trueHeight+"px",transform:"scale("+e.scale+","+e.scale+") translate3d("+(e.x-e.cropOffsertX)/e.scale+"px,"+(e.y-e.cropOffsertY)/e.scale+"px,0)rotateZ("+90*e.rotate+"deg)"},attrs:{src:e.imgs,alt:"cropper-img"}})]),e._v(" "),n("span",{staticClass:"cropper-face cropper-move",on:{mousedown:e.cropMove,touchstart:e.cropMove}}),e._v(" "),e.info?n("span",{staticClass:"crop-info",style:{top:e.cropInfo.top}},[e._v(e._s(this.cropInfo.width)+" × "+e._s(this.cropInfo.height))]):e._e(),e._v(" "),e.fixedBox?e._e():n("span",[n("span",{staticClass:"crop-line line-w",on:{mousedown:function(t){e.changeCropSize(t,!1,!0,0,1)},touchstart:function(t){e.changeCropSize(t,!1,!0,0,1)}}}),e._v(" "),n("span",{staticClass:"crop-line line-a",on:{mousedown:function(t){e.changeCropSize(t,!0,!1,1,0)},touchstart:function(t){e.changeCropSize(t,!0,!1,1,0)}}}),e._v(" "),n("span",{staticClass:"crop-line line-s",on:{mousedown:function(t){e.changeCropSize(t,!1,!0,0,2)},touchstart:function(t){e.changeCropSize(t,!1,!0,0,2)}}}),e._v(" "),n("span",{staticClass:"crop-line line-d",on:{mousedown:function(t){e.changeCropSize(t,!0,!1,2,0)},touchstart:function(t){e.changeCropSize(t,!0,!1,2,0)}}}),e._v(" "),n("span",{staticClass:"crop-point point1",on:{mousedown:function(t){e.changeCropSize(t,!0,!0,1,1)},touchstart:function(t){e.changeCropSize(t,!0,!0,1,1)}}}),e._v(" "),n("span",{staticClass:"crop-point point2",on:{mousedown:function(t){e.changeCropSize(t,!1,!0,0,1)},touchstart:function(t){e.changeCropSize(t,!1,!0,0,1)}}}),e._v(" "),n("span",{staticClass:"crop-point point3",on:{mousedown:function(t){e.changeCropSize(t,!0,!0,2,1)},touchstart:function(t){e.changeCropSize(t,!0,!0,2,1)}}}),e._v(" "),n("span",{staticClass:"crop-point point4",on:{mousedown:function(t){e.changeCropSize(t,!0,!1,1,0)},touchstart:function(t){e.changeCropSize(t,!0,!1,1,0)}}}),e._v(" "),n("span",{staticClass:"crop-point point5",on:{mousedown:function(t){e.changeCropSize(t,!0,!1,2,0)},touchstart:function(t){e.changeCropSize(t,!0,!1,2,0)}}}),e._v(" "),n("span",{staticClass:"crop-point point6",on:{mousedown:function(t){e.changeCropSize(t,!0,!0,1,2)},touchstart:function(t){e.changeCropSize(t,!0,!0,1,2)}}}),e._v(" "),n("span",{staticClass:"crop-point point7",on:{mousedown:function(t){e.changeCropSize(t,!1,!0,0,2)},touchstart:function(t){e.changeCropSize(t,!1,!0,0,2)}}}),e._v(" "),n("span",{staticClass:"crop-point point8",on:{mousedown:function(t){e.changeCropSize(t,!0,!0,2,2)},touchstart:function(t){e.changeCropSize(t,!0,!0,2,2)}}})])])])};r._withStripped=!0;var i={getData:function(e){return new Promise((function(t,n){var r={};(function(e){var t=null;return new Promise((function(n,r){if(e.src)if(/^data\:/i.test(e.src))t=function(e){e=e.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var t=atob(e),n=t.length,r=new ArrayBuffer(n),i=new Uint8Array(r),o=0;o<n;o++)i[o]=t.charCodeAt(o);return r}(e.src),n(t);else if(/^blob\:/i.test(e.src)){var i=new FileReader;i.onload=function(e){t=e.target.result,n(t)},function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="blob",n.onload=function(e){200!=this.status&&0!==this.status||t(this.response)},n.send()}(e.src,(function(e){i.readAsArrayBuffer(e)}))}else{var o=new XMLHttpRequest;o.onload=function(){if(200!=this.status&&0!==this.status)throw"Could not load image";t=o.response,n(t),o=null},o.open("GET",e.src,!0),o.responseType="arraybuffer",o.send(null)}else r("img error")}))})(e).then((function(e){r.arrayBuffer=e,r.orientation=function(e){var t,n,r,i,o,a,s,l,c,u=new DataView(e),d=u.byteLength;if(255===u.getUint8(0)&&216===u.getUint8(1))for(l=2;l<d;){if(255===u.getUint8(l)&&225===u.getUint8(l+1)){a=l;break}l++}if(a&&(n=a+10,"Exif"===function(e,t,n){var r,i="";for(r=t,n+=t;r<n;r++)i+=String.fromCharCode(e.getUint8(r));return i}(u,a+4,4)&&(o=u.getUint16(n),((i=18761===o)||19789===o)&&42===u.getUint16(n+2,i)&&(r=u.getUint32(n+4,i))>=8&&(s=n+r))),s)for(d=u.getUint16(s,i),c=0;c<d;c++)if(l=s+12*c+2,274===u.getUint16(l,i)){l+=8,t=u.getUint16(l,i);break}return t}(e),t(r)})).catch((function(e){n(e)}))}))}},o=i,a={data:function(){return{w:0,h:0,scale:1,x:0,y:0,loading:!0,trueWidth:0,trueHeight:0,move:!0,moveX:0,moveY:0,crop:!1,cropping:!1,cropW:0,cropH:0,cropOldW:0,cropOldH:0,canChangeX:!1,canChangeY:!1,changeCropTypeX:1,changeCropTypeY:1,cropX:0,cropY:0,cropChangeX:0,cropChangeY:0,cropOffsertX:0,cropOffsertY:0,support:"",touches:[],touchNow:!1,rotate:0,isIos:!1,orientation:0,imgs:"",coe:.2,scaling:!1,scalingSet:"",coeStatus:"",isCanShow:!0}},props:{img:{type:[String,Blob,null,File],default:""},outputSize:{type:Number,default:1},outputType:{type:String,default:"jpeg"},info:{type:Boolean,default:!0},canScale:{type:Boolean,default:!0},autoCrop:{type:Boolean,default:!1},autoCropWidth:{type:[Number,String],default:0},autoCropHeight:{type:[Number,String],default:0},fixed:{type:Boolean,default:!1},fixedNumber:{type:Array,default:function(){return[1,1]}},fixedBox:{type:Boolean,default:!1},full:{type:Boolean,default:!1},canMove:{type:Boolean,default:!0},canMoveBox:{type:Boolean,default:!0},original:{type:Boolean,default:!1},centerBox:{type:Boolean,default:!1},high:{type:Boolean,default:!0},infoTrue:{type:Boolean,default:!1},maxImgSize:{type:Number,default:2e3},enlarge:{type:[Number,String],default:1},preW:{type:[Number,String],default:0},mode:{type:String,default:"contain"},limitMinSize:{type:[Number,Array,String],default:function(){return 10}}},computed:{cropInfo:function(){var e={};if(e.top=this.cropOffsertY>21?"-21px":"0px",e.width=this.cropW>0?this.cropW:0,e.height=this.cropH>0?this.cropH:0,this.infoTrue){var t=1;this.high&&!this.full&&(t=window.devicePixelRatio),1!==this.enlarge&!this.full&&(t=Math.abs(Number(this.enlarge))),e.width=e.width*t,e.height=e.height*t,this.full&&(e.width=e.width/this.scale,e.height=e.height/this.scale)}return e.width=e.width.toFixed(0),e.height=e.height.toFixed(0),e},isIE:function(){navigator.userAgent;var e=!!window.ActiveXObject||"ActiveXObject"in window;return e},passive:function(){return this.isIE?null:{passive:!1}}},watch:{img:function(){this.checkedImg()},imgs:function(e){""!==e&&this.reload()},cropW:function(){this.showPreview()},cropH:function(){this.showPreview()},cropOffsertX:function(){this.showPreview()},cropOffsertY:function(){this.showPreview()},scale:function(e,t){this.showPreview()},x:function(){this.showPreview()},y:function(){this.showPreview()},autoCrop:function(e){e&&this.goAutoCrop()},autoCropWidth:function(){this.autoCrop&&this.goAutoCrop()},autoCropHeight:function(){this.autoCrop&&this.goAutoCrop()},mode:function(){this.checkedImg()},rotate:function(){this.showPreview(),(this.autoCrop||this.cropW>0||this.cropH>0)&&this.goAutoCrop(this.cropW,this.cropH)}},methods:{getVersion:function(e){for(var t=navigator.userAgent.split(" "),n="",r=new RegExp(e,"i"),i=0;i<t.length;i++)r.test(t[i])&&(n=t[i]);return n?n.split("/")[1].split("."):["0","0","0"]},checkOrientationImage:function(e,t,n,r){var i=this;if(this.getVersion("chrome")[0]>=81)t=-1;else if(this.getVersion("safari")[0]>=605){var o=this.getVersion("version");o[0]>13&&o[1]>1&&(t=-1)}else this.getVersion("appleWebkit")[0]>=605&&(t=-1);var a=document.createElement("canvas"),s=a.getContext("2d");switch(s.save(),t){case 2:a.width=n,a.height=r,s.translate(n,0),s.scale(-1,1);break;case 3:a.width=n,a.height=r,s.translate(n/2,r/2),s.rotate(180*Math.PI/180),s.translate(-n/2,-r/2);break;case 4:a.width=n,a.height=r,s.translate(0,r),s.scale(1,-1);break;case 5:a.height=n,a.width=r,s.rotate(.5*Math.PI),s.scale(1,-1);break;case 6:a.width=r,a.height=n,s.translate(r/2,n/2),s.rotate(90*Math.PI/180),s.translate(-n/2,-r/2);break;case 7:a.height=n,a.width=r,s.rotate(.5*Math.PI),s.translate(n,-r),s.scale(-1,1);break;case 8:a.height=n,a.width=r,s.translate(r/2,n/2),s.rotate(-90*Math.PI/180),s.translate(-n/2,-r/2);break;default:a.width=n,a.height=r}s.drawImage(e,0,0,n,r),s.restore(),a.toBlob((function(e){var t=URL.createObjectURL(e);URL.revokeObjectURL(i.imgs),i.imgs=t}),"image/"+this.outputType,1)},checkedImg:function(){var e=this;if(null===this.img||""===this.img)return this.imgs="",void this.clearCrop();this.loading=!0,this.scale=1,this.rotate=0,this.clearCrop();var t=new Image;if(t.onload=function(){if(""===e.img)return e.$emit("imgLoad","error"),e.$emit("img-load","error"),!1;var n=t.width,r=t.height;o.getData(t).then((function(i){e.orientation=i.orientation||1;var o=e.maxImgSize;!e.orientation&&n<o&r<o?e.imgs=e.img:(n>o&&(r=r/n*o,n=o),r>o&&(n=n/r*o,r=o),e.checkOrientationImage(t,e.orientation,n,r))}))},t.onerror=function(){e.$emit("imgLoad","error"),e.$emit("img-load","error")},"data"!==this.img.substr(0,4)&&(t.crossOrigin=""),this.isIE){var n=new XMLHttpRequest;n.onload=function(){var e=URL.createObjectURL(this.response);t.src=e},n.open("GET",this.img,!0),n.responseType="blob",n.send()}else t.src=this.img},startMove:function(e){if(e.preventDefault(),this.move&&!this.crop){if(!this.canMove)return!1;this.moveX=(e.clientX?e.clientX:e.touches[0].clientX)-this.x,this.moveY=(e.clientY?e.clientY:e.touches[0].clientY)-this.y,e.touches?(window.addEventListener("touchmove",this.moveImg),window.addEventListener("touchend",this.leaveImg),2==e.touches.length&&(this.touches=e.touches,window.addEventListener("touchmove",this.touchScale),window.addEventListener("touchend",this.cancelTouchScale))):(window.addEventListener("mousemove",this.moveImg),window.addEventListener("mouseup",this.leaveImg)),this.$emit("imgMoving",{moving:!0,axis:this.getImgAxis()}),this.$emit("img-moving",{moving:!0,axis:this.getImgAxis()})}else this.cropping=!0,window.addEventListener("mousemove",this.createCrop),window.addEventListener("mouseup",this.endCrop),window.addEventListener("touchmove",this.createCrop),window.addEventListener("touchend",this.endCrop),this.cropOffsertX=e.offsetX?e.offsetX:e.touches[0].pageX-this.$refs.cropper.offsetLeft,this.cropOffsertY=e.offsetY?e.offsetY:e.touches[0].pageY-this.$refs.cropper.offsetTop,this.cropX=e.clientX?e.clientX:e.touches[0].clientX,this.cropY=e.clientY?e.clientY:e.touches[0].clientY,this.cropChangeX=this.cropOffsertX,this.cropChangeY=this.cropOffsertY,this.cropW=0,this.cropH=0},touchScale:function(e){var t=this;e.preventDefault();var n=this.scale,r=this.touches[0].clientX,i=this.touches[0].clientY,o=e.touches[0].clientX,a=e.touches[0].clientY,s=this.touches[1].clientX,l=this.touches[1].clientY,c=e.touches[1].clientX,u=e.touches[1].clientY,d=Math.sqrt(Math.pow(r-s,2)+Math.pow(i-l,2)),f=Math.sqrt(Math.pow(o-c,2)+Math.pow(a-u,2))-d,h=1,p=(h=(h=h/this.trueWidth>h/this.trueHeight?h/this.trueHeight:h/this.trueWidth)>.1?.1:h)*f;if(!this.touchNow){if(this.touchNow=!0,f>0?n+=Math.abs(p):f<0&&n>Math.abs(p)&&(n-=Math.abs(p)),this.touches=e.touches,setTimeout((function(){t.touchNow=!1}),8),!this.checkoutImgAxis(this.x,this.y,n))return!1;this.scale=n}},cancelTouchScale:function(e){window.removeEventListener("touchmove",this.touchScale)},moveImg:function(e){var t=this;if(e.preventDefault(),e.touches&&2===e.touches.length)return this.touches=e.touches,window.addEventListener("touchmove",this.touchScale),window.addEventListener("touchend",this.cancelTouchScale),window.removeEventListener("touchmove",this.moveImg),!1;var n,r,i=e.clientX?e.clientX:e.touches[0].clientX,o=e.clientY?e.clientY:e.touches[0].clientY;n=i-this.moveX,r=o-this.moveY,this.$nextTick((function(){if(t.centerBox){var e,i,o,a,s=t.getImgAxis(n,r,t.scale),l=t.getCropAxis(),c=t.trueHeight*t.scale,u=t.trueWidth*t.scale;switch(t.rotate){case 1:case-1:case 3:case-3:e=t.cropOffsertX-t.trueWidth*(1-t.scale)/2+(c-u)/2,i=t.cropOffsertY-t.trueHeight*(1-t.scale)/2+(u-c)/2,o=e-c+t.cropW,a=i-u+t.cropH;break;default:e=t.cropOffsertX-t.trueWidth*(1-t.scale)/2,i=t.cropOffsertY-t.trueHeight*(1-t.scale)/2,o=e-u+t.cropW,a=i-c+t.cropH}s.x1>=l.x1&&(n=e),s.y1>=l.y1&&(r=i),s.x2<=l.x2&&(n=o),s.y2<=l.y2&&(r=a)}t.x=n,t.y=r,t.$emit("imgMoving",{moving:!0,axis:t.getImgAxis()}),t.$emit("img-moving",{moving:!0,axis:t.getImgAxis()})}))},leaveImg:function(e){window.removeEventListener("mousemove",this.moveImg),window.removeEventListener("touchmove",this.moveImg),window.removeEventListener("mouseup",this.leaveImg),window.removeEventListener("touchend",this.leaveImg),this.$emit("imgMoving",{moving:!1,axis:this.getImgAxis()}),this.$emit("img-moving",{moving:!1,axis:this.getImgAxis()})},scaleImg:function(){this.canScale&&window.addEventListener(this.support,this.changeSize,this.passive)},cancelScale:function(){this.canScale&&window.removeEventListener(this.support,this.changeSize)},changeSize:function(e){var t=this;e.preventDefault();var n=this.scale,r=e.deltaY||e.wheelDelta;r=navigator.userAgent.indexOf("Firefox")>0?30*r:r,this.isIE&&(r=-r);var i=this.coe,o=(i=i/this.trueWidth>i/this.trueHeight?i/this.trueHeight:i/this.trueWidth)*r;o<0?n+=Math.abs(o):n>Math.abs(o)&&(n-=Math.abs(o));var a=o<0?"add":"reduce";if(a!==this.coeStatus&&(this.coeStatus=a,this.coe=.2),this.scaling||(this.scalingSet=setTimeout((function(){t.scaling=!1,t.coe=t.coe+=.01}),50)),this.scaling=!0,!this.checkoutImgAxis(this.x,this.y,n))return!1;this.scale=n},changeScale:function(e){var t=this.scale;e=e||1;var n=20;if((e*=n=n/this.trueWidth>n/this.trueHeight?n/this.trueHeight:n/this.trueWidth)>0?t+=Math.abs(e):t>Math.abs(e)&&(t-=Math.abs(e)),!this.checkoutImgAxis(this.x,this.y,t))return!1;this.scale=t},createCrop:function(e){var t=this;e.preventDefault();var n=e.clientX?e.clientX:e.touches?e.touches[0].clientX:0,r=e.clientY?e.clientY:e.touches?e.touches[0].clientY:0;this.$nextTick((function(){var e=n-t.cropX,i=r-t.cropY;if(e>0?(t.cropW=e+t.cropChangeX>t.w?t.w-t.cropChangeX:e,t.cropOffsertX=t.cropChangeX):(t.cropW=t.w-t.cropChangeX+Math.abs(e)>t.w?t.cropChangeX:Math.abs(e),t.cropOffsertX=t.cropChangeX+e>0?t.cropChangeX+e:0),t.fixed){var o=t.cropW/t.fixedNumber[0]*t.fixedNumber[1];o+t.cropOffsertY>t.h?(t.cropH=t.h-t.cropOffsertY,t.cropW=t.cropH/t.fixedNumber[1]*t.fixedNumber[0],t.cropOffsertX=e>0?t.cropChangeX:t.cropChangeX-t.cropW):t.cropH=o,t.cropOffsertY=t.cropOffsertY}else i>0?(t.cropH=i+t.cropChangeY>t.h?t.h-t.cropChangeY:i,t.cropOffsertY=t.cropChangeY):(t.cropH=t.h-t.cropChangeY+Math.abs(i)>t.h?t.cropChangeY:Math.abs(i),t.cropOffsertY=t.cropChangeY+i>0?t.cropChangeY+i:0)}))},changeCropSize:function(e,t,n,r,i){e.preventDefault(),window.addEventListener("mousemove",this.changeCropNow),window.addEventListener("mouseup",this.changeCropEnd),window.addEventListener("touchmove",this.changeCropNow),window.addEventListener("touchend",this.changeCropEnd),this.canChangeX=t,this.canChangeY=n,this.changeCropTypeX=r,this.changeCropTypeY=i,this.cropX=e.clientX?e.clientX:e.touches[0].clientX,this.cropY=e.clientY?e.clientY:e.touches[0].clientY,this.cropOldW=this.cropW,this.cropOldH=this.cropH,this.cropChangeX=this.cropOffsertX,this.cropChangeY=this.cropOffsertY,this.fixed&&this.canChangeX&&this.canChangeY&&(this.canChangeY=0),this.$emit("change-crop-size",{width:this.cropW,height:this.cropH})},changeCropNow:function(e){var t=this;e.preventDefault();var n=e.clientX?e.clientX:e.touches?e.touches[0].clientX:0,r=e.clientY?e.clientY:e.touches?e.touches[0].clientY:0,i=this.w,o=this.h,a=0,s=0;if(this.centerBox){var l=this.getImgAxis(),c=l.x2,u=l.y2;a=l.x1>0?l.x1:0,s=l.y1>0?l.y1:0,i>c&&(i=c),o>u&&(o=u)}this.$nextTick((function(){var e=n-t.cropX,l=r-t.cropY;if(t.canChangeX&&(1===t.changeCropTypeX?t.cropOldW-e>0?(t.cropW=i-t.cropChangeX-e<=i-a?t.cropOldW-e:t.cropOldW+t.cropChangeX-a,t.cropOffsertX=i-t.cropChangeX-e<=i-a?t.cropChangeX+e:a):(t.cropW=Math.abs(e)+t.cropChangeX<=i?Math.abs(e)-t.cropOldW:i-t.cropOldW-t.cropChangeX,t.cropOffsertX=t.cropChangeX+t.cropOldW):2===t.changeCropTypeX&&(t.cropOldW+e>0?(t.cropW=t.cropOldW+e+t.cropOffsertX<=i?t.cropOldW+e:i-t.cropOffsertX,t.cropOffsertX=t.cropChangeX):(t.cropW=i-t.cropChangeX+Math.abs(e+t.cropOldW)<=i-a?Math.abs(e+t.cropOldW):t.cropChangeX-a,t.cropOffsertX=i-t.cropChangeX+Math.abs(e+t.cropOldW)<=i-a?t.cropChangeX-Math.abs(e+t.cropOldW):a))),t.canChangeY&&(1===t.changeCropTypeY?t.cropOldH-l>0?(t.cropH=o-t.cropChangeY-l<=o-s?t.cropOldH-l:t.cropOldH+t.cropChangeY-s,t.cropOffsertY=o-t.cropChangeY-l<=o-s?t.cropChangeY+l:s):(t.cropH=Math.abs(l)+t.cropChangeY<=o?Math.abs(l)-t.cropOldH:o-t.cropOldH-t.cropChangeY,t.cropOffsertY=t.cropChangeY+t.cropOldH):2===t.changeCropTypeY&&(t.cropOldH+l>0?(t.cropH=t.cropOldH+l+t.cropOffsertY<=o?t.cropOldH+l:o-t.cropOffsertY,t.cropOffsertY=t.cropChangeY):(t.cropH=o-t.cropChangeY+Math.abs(l+t.cropOldH)<=o-s?Math.abs(l+t.cropOldH):t.cropChangeY-s,t.cropOffsertY=o-t.cropChangeY+Math.abs(l+t.cropOldH)<=o-s?t.cropChangeY-Math.abs(l+t.cropOldH):s))),t.canChangeX&&t.fixed){var c=t.cropW/t.fixedNumber[0]*t.fixedNumber[1];c+t.cropOffsertY>o?(t.cropH=o-t.cropOffsertY,t.cropW=t.cropH/t.fixedNumber[1]*t.fixedNumber[0]):t.cropH=c}if(t.canChangeY&&t.fixed){var u=t.cropH/t.fixedNumber[1]*t.fixedNumber[0];u+t.cropOffsertX>i?(t.cropW=i-t.cropOffsertX,t.cropH=t.cropW/t.fixedNumber[0]*t.fixedNumber[1]):t.cropW=u}}))},checkCropLimitSize:function(){this.cropW,this.cropH;var e=this.limitMinSize,t=new Array;return t=Array.isArray[e]?e:[e,e],[parseFloat(t[0]),parseFloat(t[1])]},changeCropEnd:function(e){window.removeEventListener("mousemove",this.changeCropNow),window.removeEventListener("mouseup",this.changeCropEnd),window.removeEventListener("touchmove",this.changeCropNow),window.removeEventListener("touchend",this.changeCropEnd)},endCrop:function(){0===this.cropW&&0===this.cropH&&(this.cropping=!1),window.removeEventListener("mousemove",this.createCrop),window.removeEventListener("mouseup",this.endCrop),window.removeEventListener("touchmove",this.createCrop),window.removeEventListener("touchend",this.endCrop)},startCrop:function(){this.crop=!0},stopCrop:function(){this.crop=!1},clearCrop:function(){this.cropping=!1,this.cropW=0,this.cropH=0},cropMove:function(e){if(e.preventDefault(),!this.canMoveBox)return this.crop=!1,this.startMove(e),!1;if(e.touches&&2===e.touches.length)return this.crop=!1,this.startMove(e),this.leaveCrop(),!1;window.addEventListener("mousemove",this.moveCrop),window.addEventListener("mouseup",this.leaveCrop),window.addEventListener("touchmove",this.moveCrop),window.addEventListener("touchend",this.leaveCrop);var t,n,r=e.clientX?e.clientX:e.touches[0].clientX,i=e.clientY?e.clientY:e.touches[0].clientY;t=r-this.cropOffsertX,n=i-this.cropOffsertY,this.cropX=t,this.cropY=n,this.$emit("cropMoving",{moving:!0,axis:this.getCropAxis()}),this.$emit("crop-moving",{moving:!0,axis:this.getCropAxis()})},moveCrop:function(e,t){var n=this,r=0,i=0;e&&(e.preventDefault(),r=e.clientX?e.clientX:e.touches[0].clientX,i=e.clientY?e.clientY:e.touches[0].clientY),this.$nextTick((function(){var e,o,a=r-n.cropX,s=i-n.cropY;if(t&&(a=n.cropOffsertX,s=n.cropOffsertY),e=a<=0?0:a+n.cropW>n.w?n.w-n.cropW:a,o=s<=0?0:s+n.cropH>n.h?n.h-n.cropH:s,n.centerBox){var l=n.getImgAxis();e<=l.x1&&(e=l.x1),e+n.cropW>l.x2&&(e=l.x2-n.cropW),o<=l.y1&&(o=l.y1),o+n.cropH>l.y2&&(o=l.y2-n.cropH)}n.cropOffsertX=e,n.cropOffsertY=o,n.$emit("cropMoving",{moving:!0,axis:n.getCropAxis()}),n.$emit("crop-moving",{moving:!0,axis:n.getCropAxis()})}))},getImgAxis:function(e,t,n){e=e||this.x,t=t||this.y,n=n||this.scale;var r={x1:0,x2:0,y1:0,y2:0},i=this.trueWidth*n,o=this.trueHeight*n;switch(this.rotate){case 0:r.x1=e+this.trueWidth*(1-n)/2,r.x2=r.x1+this.trueWidth*n,r.y1=t+this.trueHeight*(1-n)/2,r.y2=r.y1+this.trueHeight*n;break;case 1:case-1:case 3:case-3:r.x1=e+this.trueWidth*(1-n)/2+(i-o)/2,r.x2=r.x1+this.trueHeight*n,r.y1=t+this.trueHeight*(1-n)/2+(o-i)/2,r.y2=r.y1+this.trueWidth*n;break;default:r.x1=e+this.trueWidth*(1-n)/2,r.x2=r.x1+this.trueWidth*n,r.y1=t+this.trueHeight*(1-n)/2,r.y2=r.y1+this.trueHeight*n}return r},getCropAxis:function(){var e={x1:0,x2:0,y1:0,y2:0};return e.x1=this.cropOffsertX,e.x2=e.x1+this.cropW,e.y1=this.cropOffsertY,e.y2=e.y1+this.cropH,e},leaveCrop:function(e){window.removeEventListener("mousemove",this.moveCrop),window.removeEventListener("mouseup",this.leaveCrop),window.removeEventListener("touchmove",this.moveCrop),window.removeEventListener("touchend",this.leaveCrop),this.$emit("cropMoving",{moving:!1,axis:this.getCropAxis()}),this.$emit("crop-moving",{moving:!1,axis:this.getCropAxis()})},getCropChecked:function(e){var t=this,n=document.createElement("canvas"),r=new Image,i=this.rotate,o=this.trueWidth,a=this.trueHeight,s=this.cropOffsertX,l=this.cropOffsertY;function c(e,t){n.width=Math.round(e),n.height=Math.round(t)}r.onload=function(){if(0!==t.cropW){var u=n.getContext("2d"),d=1;t.high&!t.full&&(d=window.devicePixelRatio),1!==t.enlarge&!t.full&&(d=Math.abs(Number(t.enlarge)));var f=t.cropW*d,h=t.cropH*d,p=o*t.scale*d,m=a*t.scale*d,g=(t.x-s+t.trueWidth*(1-t.scale)/2)*d,v=(t.y-l+t.trueHeight*(1-t.scale)/2)*d;switch(c(f,h),u.save(),i){case 0:t.full?(c(f/t.scale,h/t.scale),u.drawImage(r,g/t.scale,v/t.scale,p/t.scale,m/t.scale)):u.drawImage(r,g,v,p,m);break;case 1:case-3:t.full?(c(f/t.scale,h/t.scale),g=g/t.scale+(p/t.scale-m/t.scale)/2,v=v/t.scale+(m/t.scale-p/t.scale)/2,u.rotate(90*i*Math.PI/180),u.drawImage(r,v,-g-m/t.scale,p/t.scale,m/t.scale)):(g+=(p-m)/2,v+=(m-p)/2,u.rotate(90*i*Math.PI/180),u.drawImage(r,v,-g-m,p,m));break;case 2:case-2:t.full?(c(f/t.scale,h/t.scale),u.rotate(90*i*Math.PI/180),g/=t.scale,v/=t.scale,u.drawImage(r,-g-p/t.scale,-v-m/t.scale,p/t.scale,m/t.scale)):(u.rotate(90*i*Math.PI/180),u.drawImage(r,-g-p,-v-m,p,m));break;case 3:case-1:t.full?(c(f/t.scale,h/t.scale),g=g/t.scale+(p/t.scale-m/t.scale)/2,v=v/t.scale+(m/t.scale-p/t.scale)/2,u.rotate(90*i*Math.PI/180),u.drawImage(r,-v-p/t.scale,g,p/t.scale,m/t.scale)):(g+=(p-m)/2,v+=(m-p)/2,u.rotate(90*i*Math.PI/180),u.drawImage(r,-v-p,g,p,m));break;default:t.full?(c(f/t.scale,h/t.scale),u.drawImage(r,g/t.scale,v/t.scale,p/t.scale,m/t.scale)):u.drawImage(r,g,v,p,m)}u.restore()}else{var b=o*t.scale,y=a*t.scale,C=n.getContext("2d");switch(C.save(),i){case 0:c(b,y),C.drawImage(r,0,0,b,y);break;case 1:case-3:c(y,b),C.rotate(90*i*Math.PI/180),C.drawImage(r,0,-y,b,y);break;case 2:case-2:c(b,y),C.rotate(90*i*Math.PI/180),C.drawImage(r,-b,-y,b,y);break;case 3:case-1:c(y,b),C.rotate(90*i*Math.PI/180),C.drawImage(r,-b,0,b,y);break;default:c(b,y),C.drawImage(r,0,0,b,y)}C.restore()}e(n)},"data"!==this.img.substr(0,4)&&(r.crossOrigin="Anonymous"),r.src=this.imgs},getCropData:function(e){var t=this;this.getCropChecked((function(n){e(n.toDataURL("image/"+t.outputType,t.outputSize))}))},getCropBlob:function(e){var t=this;this.getCropChecked((function(n){n.toBlob((function(t){return e(t)}),"image/"+t.outputType,t.outputSize)}))},showPreview:function(){var e=this;if(!this.isCanShow)return!1;this.isCanShow=!1,setTimeout((function(){e.isCanShow=!0}),16);var t=this.cropW,n=this.cropH,r=this.scale,i={};i.div={width:"".concat(t,"px"),height:"".concat(n,"px")};var o=(this.x-this.cropOffsertX)/r,a=(this.y-this.cropOffsertY)/r;i.w=t,i.h=n,i.url=this.imgs,i.img={width:"".concat(this.trueWidth,"px"),height:"".concat(this.trueHeight,"px"),transform:"scale(".concat(r,")translate3d(").concat(o,"px, ").concat(a,"px, ").concat(0,"px)rotateZ(").concat(90*this.rotate,"deg)")},i.html='\n      <div class="show-preview" style="width: '.concat(i.w,"px; height: ").concat(i.h,'px,; overflow: hidden">\n        <div style="width: ').concat(t,"px; height: ").concat(n,'px">\n          <img src=').concat(i.url,' style="width: ').concat(this.trueWidth,"px; height: ").concat(this.trueHeight,"px; transform:\n          scale(").concat(r,")translate3d(").concat(o,"px, ").concat(a,"px, ").concat(0,"px)rotateZ(").concat(90*this.rotate,'deg)">\n        </div>\n      </div>'),this.$emit("realTime",i),this.$emit("real-time",i)},reload:function(){var e=this,t=new Image;t.onload=function(){e.w=parseFloat(window.getComputedStyle(e.$refs.cropper).width),e.h=parseFloat(window.getComputedStyle(e.$refs.cropper).height),e.trueWidth=t.width,e.trueHeight=t.height,e.original?e.scale=1:e.scale=e.checkedMode(),e.$nextTick((function(){e.x=-(e.trueWidth-e.trueWidth*e.scale)/2+(e.w-e.trueWidth*e.scale)/2,e.y=-(e.trueHeight-e.trueHeight*e.scale)/2+(e.h-e.trueHeight*e.scale)/2,e.loading=!1,e.autoCrop&&e.goAutoCrop(),e.$emit("img-load","success"),e.$emit("imgLoad","success"),setTimeout((function(){e.showPreview()}),20)}))},t.onerror=function(){e.$emit("imgLoad","error"),e.$emit("img-load","error")},t.src=this.imgs},checkedMode:function(){var e=1,t=(this.trueWidth,this.trueHeight),n=this.mode.split(" ");switch(n[0]){case"contain":this.trueWidth>this.w&&(e=this.w/this.trueWidth),this.trueHeight*e>this.h&&(e=this.h/this.trueHeight);break;case"cover":(t*=e=this.w/this.trueWidth)<this.h&&(e=(t=this.h)/this.trueHeight);break;default:try{var r=n[0];if(-1!==r.search("px")&&(r=r.replace("px",""),e=parseFloat(r)/this.trueWidth),-1!==r.search("%")&&(r=r.replace("%",""),e=parseFloat(r)/100*this.w/this.trueWidth),2===n.length&&"auto"===r){var i=n[1];-1!==i.search("px")&&(i=i.replace("px",""),e=(t=parseFloat(i))/this.trueHeight),-1!==i.search("%")&&(i=i.replace("%",""),e=(t=parseFloat(i)/100*this.h)/this.trueHeight)}}catch(t){e=1}}return e},goAutoCrop:function(e,t){if(""!==this.imgs&&null!==this.imgs){this.clearCrop(),this.cropping=!0;var n=this.w,r=this.h;if(this.centerBox){var i=this.trueWidth*this.scale,o=this.trueHeight*this.scale;n=i<n?i:n,r=o<r?o:r}var a=e||parseFloat(this.autoCropWidth),s=t||parseFloat(this.autoCropHeight);0!==a&&0!==s||(a=.8*n,s=.8*r),a=a>n?n:a,s=s>r?r:s,this.fixed&&(s=a/this.fixedNumber[0]*this.fixedNumber[1]),s>this.h&&(a=(s=this.h)/this.fixedNumber[1]*this.fixedNumber[0]),this.changeCrop(a,s)}},changeCrop:function(e,t){var n=this;if(this.centerBox){var r=this.getImgAxis();e>r.x2-r.x1&&(t=(e=r.x2-r.x1)/this.fixedNumber[0]*this.fixedNumber[1]),t>r.y2-r.y1&&(e=(t=r.y2-r.y1)/this.fixedNumber[1]*this.fixedNumber[0])}this.cropW=e,this.cropH=t,this.checkCropLimitSize(),this.$nextTick((function(){n.cropOffsertX=(n.w-n.cropW)/2,n.cropOffsertY=(n.h-n.cropH)/2,n.centerBox&&n.moveCrop(null,!0)}))},refresh:function(){var e=this;this.img,this.imgs="",this.scale=1,this.crop=!1,this.rotate=0,this.w=0,this.h=0,this.trueWidth=0,this.trueHeight=0,this.clearCrop(),this.$nextTick((function(){e.checkedImg()}))},rotateLeft:function(){this.rotate=this.rotate<=-3?0:this.rotate-1},rotateRight:function(){this.rotate=this.rotate>=3?0:this.rotate+1},rotateClear:function(){this.rotate=0},checkoutImgAxis:function(e,t,n){e=e||this.x,t=t||this.y,n=n||this.scale;var r=!0;if(this.centerBox){var i=this.getImgAxis(e,t,n),o=this.getCropAxis();i.x1>=o.x1&&(r=!1),i.x2<=o.x2&&(r=!1),i.y1>=o.y1&&(r=!1),i.y2<=o.y2&&(r=!1)}return r}},mounted:function(){this.support="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";var e=this,t=navigator.userAgent;this.isIOS=!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(t,n,r){for(var i=atob(this.toDataURL(n,r).split(",")[1]),o=i.length,a=new Uint8Array(o),s=0;s<o;s++)a[s]=i.charCodeAt(s);t(new Blob([a],{type:e.type||"image/png"}))}}),this.showPreview(),this.checkedImg()},destroyed:function(){window.removeEventListener("mousemove",this.moveCrop),window.removeEventListener("mouseup",this.leaveCrop),window.removeEventListener("touchmove",this.moveCrop),window.removeEventListener("touchend",this.leaveCrop)}};n(1);var s=function(e,t,n,r,i,o,a,s){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),a?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},c._ssrRegister=l):i&&(l=s?function(){i.call(this,this.$root.$options.shadowRoot)}:i),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:c}}(a,r,[],!1,null,"6dae58fd",null);s.options.__file="src/vue-cropper.vue";var l=s.exports;n.d(t,"VueCropper",(function(){return l}));var c=function(e){e.component("VueCropper",l)};"undefined"!=typeof window&&window.Vue&&c(window.Vue),t.default={version:"0.5.4",install:c,VueCropper:l,vueCropper:l}}])}))},8034:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-drawer",{staticStyle:{overflow:"auto","padding-bottom":"53px"},attrs:{title:e.title,maskClosable:!0,width:"600",placement:"right",closable:!0,visible:e.visible},on:{close:e.close}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[e.designNameOption.length>0?n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{label:""}},[n("a-col",{attrs:{xl:24,lg:24,md:24,sm:24,xs:24}},[n("a-card",{style:{marginTop:"12px",height:"auto"}},[n("a-checkbox-group",{staticStyle:{width:"100%"},on:{change:e.designNameChange},model:{value:e.designNameValue,callback:function(t){e.designNameValue=t},expression:"designNameValue"}},[n("a-row",[e._l(e.designNameOption,(function(t){return[n("a-col",{attrs:{span:6}},[n("a-checkbox",{attrs:{value:t.value}},[e._v(e._s(t.text))])],1)]}))],2)],1)],1)],1)],1)],1):n("div",[n("h3",[e._v("无可配置角色!")])])],1),n("div",{staticClass:"drawer-bootom-button"},[n("a-dropdown",{staticStyle:{float:"left"},attrs:{trigger:["click"],placement:"topCenter"}},[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:e.checkALL}},[e._v("全部勾选")]),n("a-menu-item",{key:"2",on:{click:e.cancelCheckALL}},[e._v("取消全选")])],1),n("a-button",[e._v("\n        操作 "),n("a-icon",{attrs:{type:"up"}})],1)],1),n("a-popconfirm",{attrs:{title:"确定放弃编辑？",okText:"确定",cancelText:"取消"},on:{confirm:e.close}},[n("a-button",{staticStyle:{"margin-right":".8rem"}},[e._v("取消")])],1),n("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleSubmit(!0)}}},[e._v("保存")])],1)],1)},i=[],o=n("0fea"),a=n("d579");n("89f2");function s(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=l(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function l(e,t){if(e){if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u={name:"DeptRoleUserModal",components:{JEllipsis:a["default"]},data:function(){return{currentDeptId:"",title:"部门角色分配",visible:!1,model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{},url:{add:"/sys/sysDepartRole/deptRoleUserAdd",getDeptRoleList:"/sys/sysDepartRole/getDeptRoleList",getDeptRoleByUserId:"/sys/sysDepartRole/getDeptRoleByUserId"},designNameOption:[],userId:"",newRoleId:"",oldRoleId:"",designNameValue:[],desformList:[]}},created:function(){},methods:{add:function(e,t){this.userId=e.id,this.currentDeptId=t,this.loadDesformList(),this.edit({})},edit:function(e){var t=this;this.form.resetFields(),this.model=Object.assign({},e),this.visible=!0,Object(o["c"])(this.url.getDeptRoleByUserId,{userId:this.userId,departId:this.currentDeptId}).then((function(e){if(e.success){var n,r=[],i=s(e.result);try{for(i.s();!(n=i.n()).done;){var o=n.value;r.push(o.droleId)}}catch(a){i.e(a)}finally{i.f()}t.oldRoleId=r.join(","),t.designNameValue=r,t.newRoleId=r.join(",")}}))},close:function(){this.$emit("close"),this.visible=!1},handleSubmit:function(){var e=this;e.confirmLoading=!0;var t=this.url.add,n="post",r=Object.assign(this.model,{});r.userId=this.userId,r.newRoleId=this.newRoleId,r.oldRoleId=this.oldRoleId,Object(o["h"])(t,r,n).then((function(t){t.success?(e.$message.success(t.message),e.$emit("reload"),e.$emit("ok")):e.$message.warning(t.message)})).finally((function(){e.confirmLoading=!1,e.close()}))},handleCancel:function(){this.designNameOption=[],this.designNameValue=[],this.close()},designNameChange:function(e){this.newRoleId=e.join(",")},checkALL:function(){var e,t=[],n=s(this.desformList);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push(r.id)}}catch(i){n.e(i)}finally{n.f()}this.designNameValue=t,this.newRoleId=t.join(",")},cancelCheckALL:function(){this.designNameValue=[],this.newRoleId=""},loadDesformList:function(){var e=this;Object(o["c"])(this.url.getDeptRoleList,{departId:this.currentDeptId,userId:this.userId}).then((function(t){if(t.success){e.desformList=t.result;var n,r=[],i=s(e.desformList);try{for(i.s();!(n=i.n()).done;){var o=n.value;r.push({value:o.id,text:o.roleName})}}catch(a){i.e(a)}finally{i.f()}e.designNameOption=r}}))}}},d=u,f=(n("d5d2"),n("2877")),h=Object(f["a"])(d,r,i,!1,null,"dfac9256",null);t["default"]=h.exports},"806e":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-row",{attrs:{gutter:10}},[n("a-col",{attrs:{md:8,sm:24}},[n("a-card",{attrs:{bordered:!1}},[n("div",{staticStyle:{background:"#fff","padding-left":"16px",height:"100%","margin-top":"5px"}},[n("a-input-search",{staticStyle:{width:"100%","margin-top":"10px"},attrs:{placeholder:"请输入部门名称"},on:{search:e.onSearch}}),"2"===e.userIdentity&&e.departTree.length>0?[n("a-tree",{attrs:{showLine:"",selectedKeys:e.selectedKeys,checkStrictly:!0,dropdownStyle:{maxHeight:"200px",overflow:"auto"},treeData:e.departTree,autoExpandParent:e.autoExpandParent,expandedKeys:e.iExpandedKeys},on:{select:e.onSelect,expand:e.onExpand}})]:"2"===e.userIdentity&&0==e.departTree.length?n("div",{staticStyle:{"margin-top":"24px"}},[n("h3",[n("span",[e._v("您的部门下暂无有效部门信息")])])]):n("div",{staticStyle:{"margin-top":"24px"}},[n("h3",[e._v("普通员工暂此权限")])])],2)])],1),n("a-col",{attrs:{md:16,sm:24}},[n("a-card",{attrs:{bordered:!1}},[n("a-tabs",{attrs:{defaultActiveKey:"2"},on:{change:e.callback}},[n("a-tab-pane",{key:"1",attrs:{tab:"基本信息",forceRender:""}},[n("Dept-Base-Info",{ref:"DeptBaseInfo"})],1),n("a-tab-pane",{key:"2",attrs:{tab:"用户信息"}},[n("Dept-User-Info",{ref:"DeptUserInfo",on:{clearSelectedDepartKeys:e.clearSelectedDepartKeys}})],1),n("a-tab-pane",{key:"3",attrs:{tab:"部门角色",forceRender:""}},[n("dept-role-info",{ref:"DeptRoleInfo",on:{clearSelectedDepartKeys:e.clearSelectedDepartKeys}})],1)],1)],1)],1)],1)},i=[],o=n("e326"),a=n("5859"),s=n("4ec3"),l=n("b65a"),c=n("24b9"),u={name:"DepartUserList",mixins:[l["a"]],components:{DeptRoleInfo:c["default"],DeptBaseInfo:o["default"],DeptUserInfo:a["default"]},data:function(){return{currentDeptId:"",iExpandedKeys:[],loading:!1,autoExpandParent:!0,currFlowId:"",currFlowName:"",disable:!0,treeData:[],visible:!1,departTree:[],rightClickSelectedKey:"",hiding:!0,model:{},dropTrigger:"",depart:{},disableSubmit:!1,checkedKeys:[],selectedKeys:[],autoIncr:1,currSelected:{},form:this.$form.createForm(this),labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},graphDatasource:{nodes:[],edges:[]},userIdentity:""}},methods:{callback:function(e){},loadData:function(){this.refresh()},clearSelectedDepartKeys:function(){this.checkedKeys=[],this.selectedKeys=[],this.currentDeptId="",this.$refs.DeptUserInfo.currentDeptId="",this.$refs.DeptRoleInfo.currentDeptId=""},loadTree:function(){var e=this,t=this;t.treeData=[],t.departTree=[],Object(s["G"])().then((function(n){if(n.success&&n.result){for(var r=0;r<n.result.length;r++){var i=n.result[r];t.treeData.push(i),t.departTree.push(i),t.setThisExpandedKeys(i)}e.loading=!1}t.userIdentity=n.message}))},setThisExpandedKeys:function(e){e.children&&e.children.length>0&&this.iExpandedKeys.push(e.key)},refresh:function(){this.loading=!0,this.loadTree()},onExpand:function(e){this.iExpandedKeys=e,this.autoExpandParent=!1},onSearch:function(e){var t=this;e?Object(s["T"])({keyWord:e,myDeptSearch:"1"}).then((function(e){if(e.success){t.departTree=[];for(var n=0;n<e.result.length;n++){var r=e.result[n];t.departTree.push(r)}}else t.$message.warning(e.message)})):t.loadTree()},onCheck:function(e,t){var n=t.node.dataRef;this.checkedKeys=[],this.currentDeptId=n.id,this.checkedKeys.push(n.id),this.$refs.DeptBaseInfo.open(n),this.$refs.DeptUserInfo.open(n),this.$refs.DeptRoleInfo.open(n),this.hiding=!1},onSelect:function(e,t){this.selectedKeys[0]!==e[0]&&(this.selectedKeys=[e[0]]);var n=t.node.dataRef;this.checkedKeys.push(n.id),this.$refs.DeptBaseInfo.open(n),this.$refs.DeptUserInfo.onClearSelected(),this.$refs.DeptUserInfo.open(n),this.$refs.DeptRoleInfo.onClearSelected(),this.$refs.DeptRoleInfo.open(n)}},created:function(){this.currFlowId=this.$route.params.id,this.currFlowName=this.$route.params.name}},d=u,f=(n("b8d2"),n("2877")),h=Object(f["a"])(d,r,i,!1,null,"4bb06339",null);t["default"]=h.exports},8128:function(e,t,n){},8144:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:e.title,width:800,visible:e.visible,confirmLoading:e.confirmLoading,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"名称"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["itemText",e.validatorRules.itemText],expression:"['itemText', validatorRules.itemText]",modifiers:{trim:!0}}],attrs:{placeholder:"请输入名称"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"数据值"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["itemValue",e.validatorRules.itemValue],expression:"['itemValue', validatorRules.itemValue]",modifiers:{trim:!0}}],attrs:{placeholder:"请输入数据值"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"描述"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["description"],expression:"['description']"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"排序值"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["sortOrder",{initialValue:1}],expression:"['sortOrder',{'initialValue':1}]"}],attrs:{min:1}}),e._v("\n        值越小越靠前，支持小数\n      ")],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"是否启用",hasFeedback:""}},[n("a-switch",{attrs:{checkedChildren:"启用",unCheckedChildren:"禁用"},on:{change:e.onChose},model:{value:e.visibleCheck,callback:function(t){e.visibleCheck=t},expression:"visibleCheck"}})],1)],1)],1)],1)},i=[],o=n("88bc"),a=n.n(o),s=n("4ec3"),l={name:"DictItemModal",data:function(){return{title:"操作",visible:!1,visibleCheck:!0,model:{},dictId:"",status:1,labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{itemText:{rules:[{required:!0,message:"请输入名称!"}]},itemValue:{rules:[{required:!0,message:"请输入数据值!"}]}}}},created:function(){},methods:{add:function(e){this.dictId=e,this.edit({})},edit:function(e){var t=this;e.id&&(this.dictId=e.dictId,this.visibleCheck=1==e.status),this.form.resetFields(),this.model=Object.assign({},e),this.model.dictId=this.dictId,this.model.status=this.status,this.visible=!0,this.$nextTick((function(){t.form.setFieldsValue(a()(t.model,"itemText","itemValue","description","sortOrder"))}))},onChose:function(e){e?(this.status=1,this.visibleCheck=!0):(this.status=0,this.visibleCheck=!1)},handleOk:function(){var e=this,t=this;this.form.validateFields((function(n,r){if(!n){t.confirmLoading=!0,r.itemText=(r.itemText||"").trim(),r.itemValue=(r.itemValue||"").trim(),r.description=(r.description||"").trim();var i,o=Object.assign(e.model,r);o.status=e.status,i=e.model.id?Object(s["o"])(o):Object(s["b"])(o),i.then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}}))},handleCancel:function(){this.close()},close:function(){this.$emit("close"),this.visible=!1}}},c=l,u=n("2877"),d=Object(u["a"])(c,r,i,!1,null,null,null);t["default"]=d.exports},8191:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{style:{padding:"0 0 32px 32px"}},[n("h4",{style:{marginBottom:"20px"}},[e._v(e._s(e.title))]),n("v-chart",{attrs:{data:e.data,height:e.height,"force-fit":!0,onClick:e.handleClick}},[n("v-tooltip"),n("v-axis"),n("v-legend"),n("v-bar",{attrs:{position:"x*y",color:"type",adjust:e.adjust}})],1)],1)},i=[],o=n("7104"),a=n("c917");function s(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=l(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function l(e,t){if(e){if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u={name:"BarMultid",mixins:[a["a"]],props:{title:{type:String,default:""},dataSource:{type:Array,default:function(){return[{type:"Jeecg","Jan.":18.9,"Feb.":28.8,"Mar.":39.3,"Apr.":81.4,May:47,"Jun.":20.3,"Jul.":24,"Aug.":35.6},{type:"Jeebt","Jan.":12.4,"Feb.":23.2,"Mar.":34.5,"Apr.":99.7,May:52.6,"Jun.":35.5,"Jul.":37.4,"Aug.":42.4}]}},fields:{type:Array,default:function(){return["Jan.","Feb.","Mar.","Apr.","May","Jun.","Jul.","Aug."]}},aliases:{type:Array,default:function(){return[]}},height:{type:Number,default:254}},data:function(){return{adjust:[{type:"dodge",marginRatio:1/32}]}},computed:{data:function(){var e=this,t=(new o["DataSet"].View).source(this.dataSource);t.transform({type:"fold",fields:this.fields,key:"x",value:"y"});var n=t.rows.map((function(e){return"string"===typeof e.x&&(e.x=e.x.replace(/[-/]/g,"_")),e}));return n.forEach((function(t){var n,r=s(e.aliases);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.field===t.type){t.type=i.alias;break}}}catch(o){r.e(o)}finally{r.f()}})),n}}},d=u,f=n("2877"),h=Object(f["a"])(d,r,i,!1,null,"6bdf6151",null);t["default"]=h.exports},"81d1":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"head-info",class:e.center&&"center"},[n("span",[e._v(e._s(e.title))]),n("p",[e._v(e._s(e.content))]),e.bordered?n("em"):e._e()])},i=[],o={name:"HeadInfo",props:{title:{type:String,default:""},content:{type:String,default:""},bordered:{type:Boolean,default:!1},center:{type:Boolean,default:!0}}},a=o,s=(n("3ee3"),n("2877")),l=Object(s["a"])(a,r,i,!1,null,"61b1bcfd",null);t["default"]=l.exports},"81f4":function(e,t,n){"use strict";var r=n("f07c"),i=n.n(r);i.a},8234:function(e,t,n){},8264:function(e,t,n){},"82ef":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-form",{staticStyle:{"max-width":"500px",margin:"40px auto 0"}},[n("a-form-item",{attrs:{label:"付款账户",labelCol:{span:5},wrapperCol:{span:19}}},[n("a-select",{attrs:{value:"1",placeholder:"ant-design@alipay.com"}},[n("a-select-option",{attrs:{value:"1"}},[e._v("ant-design@alipay.com")])],1)],1),n("a-form-item",{attrs:{label:"收款账户",labelCol:{span:5},wrapperCol:{span:19}}},[n("a-input-group",{staticStyle:{display:"inline-block","vertical-align":"middle"},attrs:{compact:!0}},[n("a-select",{staticStyle:{width:"100px"},attrs:{defaultValue:"alipay"}},[n("a-select-option",{attrs:{value:"alipay"}},[e._v("支付宝")]),n("a-select-option",{attrs:{value:"wexinpay"}},[e._v("微信")])],1),n("a-input",{style:{width:"calc(100% - 100px)"},attrs:{value:"test@example.com"}})],1)],1),n("a-form-item",{attrs:{label:"收款人姓名",labelCol:{span:5},wrapperCol:{span:19}}},[n("a-input",{attrs:{value:"Alex"}})],1),n("a-form-item",{attrs:{label:"转账金额",labelCol:{span:5},wrapperCol:{span:19}}},[n("a-input",{attrs:{prefix:"￥",value:"5000"}})],1),n("a-form-item",{attrs:{wrapperCol:{span:19,offset:5}}},[n("a-button",{attrs:{type:"primary"},on:{click:e.nextStep}},[e._v("下一步")])],1)],1)],1)},i=[],o={name:"Step1",methods:{nextStep:function(){this.$emit("nextStep")}}},a=o,s=n("2877"),l=Object(s["a"])(a,r,i,!1,null,"748eaddd",null);t["default"]=l.exports},8428:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{md:6,sm:24}},[n("a-form-item",{attrs:{label:"订单号"}},[n("a-input",{attrs:{placeholder:"请输入订单号"},model:{value:e.queryParam.orderCode,callback:function(t){e.$set(e.queryParam,"orderCode",t)},expression:"queryParam.orderCode"}})],1)],1),n("a-col",{attrs:{md:6,sm:24}},[n("a-form-item",{attrs:{label:"订单类型"}},[n("a-select",{attrs:{placeholder:"请输入订单类型"},model:{value:e.queryParam.ctype,callback:function(t){e.$set(e.queryParam,"ctype",t)},expression:"queryParam.ctype"}},[n("a-select-option",{attrs:{value:"1"}},[e._v("国内订单")]),n("a-select-option",{attrs:{value:"2"}},[e._v("国际订单")])],1)],1)],1),n("a-col",{attrs:{md:6,sm:24}},[n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")])],1)])],1)],1)],1),n("div",{staticClass:"table-operator"},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("新增")]),e.selectedRowKeys.length>0?n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:e.batchDel}},[n("a-icon",{attrs:{type:"delete"}}),e._v("\n          删除\n        ")],1)],1),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v(" 批量操作\n        "),n("a-icon",{attrs:{type:"down"}})],1)],1):e._e()],1),n("div",[n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),e._v(" 已选择 "),n("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRowKeys.length))]),e._v("项\n      "),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])]),n("a-table",{ref:"table",attrs:{bordered:"",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:!1,expandedRowKeys:e.expandedRowKeys,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange,expand:e.handleExpand},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete(r.id)}}},[n("a",[e._v("删除")])])],1)}},{key:"expandedRowRender",fn:function(t){return n("a-table",{attrs:{columns:e.innerColumns,dataSource:e.innerData,size:"middle",bordered:"",rowKey:"id",pagination:!1,loading:e.loading}})}}])})],1),n("jeecgOrderDMain-modal",{ref:"modalForm",on:{ok:e.modalFormOk}})],1)},i=[],o=n("0fea"),a=n("dd9d"),s=n("b65a"),l={name:"TableDemo",mixins:[s["a"]],components:{JeecgOrderDMainModal:a["default"]},data:function(){return{innerColumns:[{title:"客户名",align:"center",width:100,dataIndex:"name",key:"name"},{title:"性别",align:"center",dataIndex:"sex",customRender:function(e){return 1==e?"男":2==e?"女":e}},{title:"身份证号码",align:"center",dataIndex:"idcard"},{title:"电话",dataIndex:"telphone",align:"center"}],innerData:[],expandedRowKeys:[],id:" ",description:"列表展开子表Demo",columns:[{title:"#",dataIndex:"",key:"rowIndex",width:60,align:"center",customRender:function(e,t,n){return parseInt(n)+1}},{title:"订单号",align:"center",dataIndex:"orderCode"},{title:"订单类型",align:"center",dataIndex:"ctype",customRender:function(e){var t="";return"1"===e?t="国内订单":"2"===e&&(t="国际订单"),t}},{title:"订单日期",align:"center",dataIndex:"orderDate"},{title:"订单金额",align:"center",dataIndex:"orderMoney"},{title:"订单备注",align:"center",dataIndex:"content"},{title:"操作",dataIndex:"action",align:"center",scopedSlots:{customRender:"action"}}],type:"radio",url:{list:"/test/order/orderList",delete:"/test/order/delete",deleteBatch:"/test/order/deleteBatch",customerListByMainId:"/test/order/listOrderCustomerByMainId"}}},computed:{currentId:function(){return this.id}},methods:{handleExpand:function(e,t){var n=this;this.expandedRowKeys=[],this.innerData=[],!0===e&&(this.loading=!0,this.expandedRowKeys.push(t.id),Object(o["c"])(this.url.customerListByMainId,{mainId:t.id}).then((function(e){e.success&&(n.loading=!1,n.innerData=e.result.records)})))}}},c=l,u=(n("5c4b"),n("2877")),d=Object(u["a"])(c,r,i,!1,null,"24d3d77e",null);t["default"]=d.exports},84962:function(e,t,n){},"84c5":function(e,t,n){"use strict";var r=n("d7ca"),i=n.n(r);i.a},"84ec":function(e,t,n){n("2401")},8500:function(e,t,n){"use strict";var r=n("5b37"),i=n.n(r);i.a},8629:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("a-col",{attrs:{span:18}},[n("a-spin",{attrs:{tip:"Loading...",spinning:e.spinning}},[n("div",[n("a-row",[n("a-col",{attrs:{span:18}},[n("p",[n("a-divider",{attrs:{orientation:"left"}},[e._v("组一")])],1)]),n("a-col",{attrs:{span:6}}),n("a-col",{attrs:{span:12}},[e._l(e.dataSource[0].fileDetails,(function(t,r){return n("div",{key:r},[n("div",{staticStyle:{float:"left",width:"104px",height:"104px","margin-right":"10px",margin:"0 8px 8px 0"}},[n("div",{staticStyle:{width:"100%",height:"100%",position:"relative",padding:"8px",border:"1px solid #d9d9d9","border-radius":"4px"}},[n("img",{staticStyle:{width:"100%"},attrs:{src:t.imgUrl,preview:e.dataSource[0].key}})])])])}))],2)],1)],1),n("div",[n("a-row",[n("a-col",{attrs:{span:18}},[n("p",[n("a-divider",{attrs:{orientation:"left"}},[e._v("组二")])],1)]),n("a-col",{attrs:{span:6}}),n("a-col",{attrs:{span:12}},[e._l(e.dataSource[1].fileDetails,(function(t,r){return n("div",{key:r},[n("div",{staticStyle:{float:"left",width:"104px",height:"104px","margin-right":"10px",margin:"0 8px 8px 0"}},[n("div",{staticStyle:{width:"100%",height:"100%",position:"relative",padding:"8px",border:"1px solid #d9d9d9","border-radius":"4px"}},[n("img",{staticStyle:{width:"100%"},attrs:{src:t.imgUrl,preview:e.dataSource[1].key}})])])])}))],2)],1)],1)]),n("p")],1)],1)},i=[],o=n("290c"),a={name:"ImagPreview",components:{ARow:o["a"]},data:function(){return{description:"图片预览页面",spinning:!1,dataSource:[{key:0,fileDetails:[{imgUrl:"https://static.jeecg.com/upload/test/3a4490d5d1cd495b826e528537a47cc1.jpg"},{imgUrl:"https://static.jeecg.com/upload/test/8f22cd945be44388bacbf0b88cf86cfa.png"}]},{key:1,fileDetails:[{imgUrl:"https://static.jeecg.com/upload/test/u27356337152749454924fm27gp0_1588149731821.jpg"},{imgUrl:"https://static.jeecg.com/upload/test/1_1588149743473.jpg"}]}],url:{}}},created:function(){},methods:{}},s=a,l=(n("f267"),n("2877")),c=Object(l["a"])(s,r,i,!1,null,"6834cfdb",null);t["default"]=c.exports},"86a6":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:e.title,width:800,visible:e.visible,confirmLoading:e.confirmLoading,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"模板标题"}},[n("a-input",{attrs:{disabled:""},model:{value:e.templateName,callback:function(t){e.templateName=t},expression:"templateName"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"模板内容"}},[n("a-textarea",{attrs:{disabled:"",autosize:{minRows:5,maxRows:8}},model:{value:e.templateContent,callback:function(t){e.templateContent=t},expression:"templateContent"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"测试数据"}},[n("a-textarea",{attrs:{placeholder:"请输入json格式测试数据",autosize:{minRows:5,maxRows:8}},model:{value:e.testData,callback:function(t){e.testData=t},expression:"testData"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"消息类型"}},[n("j-dict-select-tag",{attrs:{placeholder:"请选择消息类型",dictCode:"msgType"},model:{value:e.msgType,callback:function(t){e.msgType=t},expression:"msgType"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"消息接收方"}},[n("a-input",{attrs:{placeholder:"请输入消息接收方"},model:{value:e.receiver,callback:function(t){e.receiver=t},expression:"receiver"}})],1)],1)],1)],1)},i=[],o=n("0fea"),a={name:"SysMessageTestModal",data:function(){return{title:"操作",visible:!1,model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,url:{send:"/message/sysMessageTemplate/sendMsg"},templateName:"",templateContent:"",receiver:"",msgType:"",testData:"",sendParams:{}}},methods:{open:function(e){this.sendParams.templateCode=e.templateCode,this.templateName=e.templateName,this.templateContent=e.templateContent,this.testData=e.templateTestJson,this.visible=!0},close:function(){this.receiver="",this.msgType="",this.sendParams={},this.visible=!1},handleOk:function(){var e=this,t=this.url.send,n="post";this.sendParams.testData=this.testData,this.sendParams.receiver=this.receiver,this.sendParams.msgType=this.msgType,Object(o["h"])(t,this.sendParams,n).then((function(t){t.success?e.$message.success(t.message):e.$message.warning(t.message)})).finally((function(){e.confirmLoading=!1,e.close()}))},handleCancel:function(){this.close()}}},s=a,l=n("2877"),c=Object(l["a"])(s,r,i,!1,null,"1c0249fc",null);t["default"]=c.exports},"879c":function(e,t,n){"use strict";var r=n("4227"),i=n.n(r);i.a},"87e3":function(e,t,n){},"88bc":function(e,t,n){(function(t){var n=1/0,r=9007199254740991,i="[object Arguments]",o="[object Function]",a="[object GeneratorFunction]",s="[object Symbol]",l="object"==typeof t&&t&&t.Object===Object&&t,c="object"==typeof self&&self&&self.Object===Object&&self,u=l||c||Function("return this")();function d(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function f(e,t){var n=-1,r=e?e.length:0,i=Array(r);while(++n<r)i[n]=t(e[n],n,e);return i}function h(e,t){var n=-1,r=t.length,i=e.length;while(++n<r)e[i+n]=t[n];return e}var p=Object.prototype,m=p.hasOwnProperty,g=p.toString,v=u.Symbol,b=p.propertyIsEnumerable,y=v?v.isConcatSpreadable:void 0,C=Math.max;function w(e,t,n,r,i){var o=-1,a=e.length;n||(n=k),i||(i=[]);while(++o<a){var s=e[o];t>0&&n(s)?t>1?w(s,t-1,n,r,i):h(i,s):r||(i[i.length]=s)}return i}function x(e,t){return e=Object(e),I(e,t,(function(t,n){return n in e}))}function I(e,t,n){var r=-1,i=t.length,o={};while(++r<i){var a=t[r],s=e[a];n(s,a)&&(o[a]=s)}return o}function A(e,t){return t=C(void 0===t?e.length-1:t,0),function(){var n=arguments,r=-1,i=C(n.length-t,0),o=Array(i);while(++r<i)o[r]=n[t+r];r=-1;var a=Array(t+1);while(++r<t)a[r]=n[r];return a[t]=o,d(e,this,a)}}function k(e){return T(e)||_(e)||!!(y&&e&&e[y])}function S(e){if("string"==typeof e||B(e))return e;var t=e+"";return"0"==t&&1/e==-n?"-0":t}function _(e){return O(e)&&m.call(e,"callee")&&(!b.call(e,"callee")||g.call(e)==i)}var T=Array.isArray;function E(e){return null!=e&&N(e.length)&&!R(e)}function O(e){return D(e)&&E(e)}function R(e){var t=L(e)?g.call(e):"";return t==o||t==a}function N(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}function L(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function D(e){return!!e&&"object"==typeof e}function B(e){return"symbol"==typeof e||D(e)&&g.call(e)==s}var M=A((function(e,t){return null==e?{}:x(e,f(w(t,1),S))}));e.exports=M}).call(this,n("c8ba"))},8937:function(e,t,n){},"89ba":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-drawer",{staticStyle:{overflow:"auto","padding-bottom":"53px"},attrs:{title:e.title,maskClosable:!0,width:"650",placement:"right",closable:!0,visible:e.visible},on:{close:e.close}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"消息标题"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["esTitle",{}],expression:"['esTitle', {}]"}],attrs:{placeholder:"请输入消息标题"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"发送内容"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["esContent",{}],expression:"['esContent', {}]"}],attrs:{placeholder:"请输入发送内容"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"发送所需参数"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["esParam",{}],expression:"['esParam', {}]"}],attrs:{placeholder:"请输入发送所需参数Json格式"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"接收人"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["esReceiver",{}],expression:"['esReceiver', {}]"}],attrs:{placeholder:"请输入接收人"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"发送方式"}},[n("j-dict-select-tag",{directives:[{name:"decorator",rawName:"v-decorator",value:["esType",{}],expression:"[ 'esType', {}]"}],attrs:{triggerChange:!0,dictCode:"msgType",placeholder:"请选择发送方式"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"发送时间"}},[n("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["esSendTime",{}],expression:"[ 'esSendTime', {}]"}],attrs:{showTime:"",format:"YYYY-MM-DD HH:mm:ss"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"发送状态"}},[n("j-dict-select-tag",{directives:[{name:"decorator",rawName:"v-decorator",value:["esSendStatus",{}],expression:"[ 'esSendStatus', {}]"}],attrs:{triggerChange:!0,dictCode:"msgSendStatus",placeholder:"请选择发送状态"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"发送次数"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["esSendNum",{}],expression:"[ 'esSendNum', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"发送失败原因"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["esResult",{}],expression:"['esResult', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"备注"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["remark",{}],expression:"['remark', {}]"}]})],1)],1)],1),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.disableSubmit,expression:"!disableSubmit"}]},[n("a-button",{staticStyle:{"margin-right":".8rem"},on:{confirm:e.handleCancel}},[e._v("取消")]),n("a-button",{attrs:{type:"primary",loading:e.confirmLoading},on:{click:e.handleOk}},[e._v("提交")])],1)],1)},i=[],o=n("0fea"),a=n("88bc"),s=n.n(a),l=n("c1df"),c=n.n(l),u={name:"SysMessageModal",data:function(){return{title:"操作",visible:!1,model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{},disableSubmit:!0,url:{add:"/message/sysMessage/add",edit:"/message/sysMessage/edit"}}},created:function(){},methods:{add:function(){this.edit({})},edit:function(e){var t=this;this.form.resetFields(),this.model=Object.assign({},e),this.visible=!0,this.$nextTick((function(){t.form.setFieldsValue(s()(t.model,"esContent","esParam","esReceiver","esResult","esSendNum","esSendStatus","esTitle","esType","remark")),t.form.setFieldsValue({esSendTime:t.model.esSendTime?c()(t.model.esSendTime):null})}))},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields((function(n,r){if(!n){t.confirmLoading=!0;var i="",a="";e.model.id?(i+=e.url.edit,a="put"):(i+=e.url.add,a="post");var s=Object.assign(e.model,r);s.esSendTime=s.esSendTime?s.esSendTime.format("YYYY-MM-DD HH:mm:ss"):null,Object(o["h"])(i,s,a).then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}}))},handleCancel:function(){this.close()}}},d=u,f=n("2877"),h=Object(f["a"])(d,r,i,!1,null,"0264d6cc",null);t["default"]=h.exports},"8a25":function(e,t,n){},"8a45":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:e.title,width:1200,visible:e.visible,confirmLoading:e.confirmLoading},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-row",{staticClass:"form-row",attrs:{gutter:16}},[n("a-col",{attrs:{lg:8}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"订单号"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["orderCode",{rules:[{required:!0,message:"请输入订单号!"}]}],expression:"['orderCode', {rules: [{ required: true, message: '请输入订单号!' }]}]"}],attrs:{placeholder:"请输入订单号"}})],1)],1),n("a-col",{attrs:{lg:8}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"订单类型"}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["ctype",{}],expression:"['ctype',{}]"}],attrs:{placeholder:"请输入订单类型"}},[n("a-select-option",{attrs:{value:"1"}},[e._v("国内订单")]),n("a-select-option",{attrs:{value:"2"}},[e._v("国际订单")])],1)],1)],1),n("a-col",{attrs:{lg:8}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"订单日期"}},[n("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["orderDate",{}],expression:"[ 'orderDate',{}]"}],attrs:{showTime:"",format:"YYYY-MM-DD HH:mm:ss"}})],1)],1)],1),n("a-row",{staticClass:"form-row",attrs:{gutter:16}},[n("a-col",{attrs:{lg:8}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"订单金额"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["orderMoney",{}],expression:"[ 'orderMoney', {}]"}],staticStyle:{width:"200px"}})],1)],1),n("a-col",{attrs:{lg:8}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"订单备注"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["content",{}],expression:"['content', {}]"}],attrs:{placeholder:"请输入订单备注"}})],1)],1)],1),n("a-tabs",{attrs:{defaultActiveKey:"1"}},[n("a-tab-pane",{key:"1",attrs:{tab:"客户信息"}},[n("div",[n("a-row",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"flex",gutter:16}},[n("a-col",{attrs:{span:5}},[e._v("客户名")]),n("a-col",{attrs:{span:5}},[e._v("性别")]),n("a-col",{attrs:{span:5}},[e._v("身份证号码")]),n("a-col",{attrs:{span:5}},[e._v("手机号")]),n("a-col",{attrs:{span:4}},[e._v("操作")])],1),e._l(e.orderMainModel.jeecgOrderCustomerList,(function(t,r){return n("a-row",{key:r,staticStyle:{"margin-bottom":"10px"},attrs:{type:"flex",gutter:16}},[n("a-col",{attrs:{span:5}},[n("a-form-item",[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["jeecgOrderCustomerList["+r+"].name",{initialValue:t.name,rules:[{required:!0,message:"请输入用户名!"}]}],expression:"['jeecgOrderCustomerList['+index+'].name', {'initialValue':item.name,rules: [{ required: true, message: '请输入用户名!' }]}]"}],attrs:{placeholder:"客户名"}})],1)],1),n("a-col",{attrs:{span:5}},[n("a-form-item",[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["jeecgOrderCustomerList["+r+"].sex",{initialValue:t.sex}],expression:"['jeecgOrderCustomerList['+index+'].sex', {'initialValue':item.sex}]"}],attrs:{placeholder:"性别"}},[n("a-select-option",{attrs:{value:"1"}},[e._v("男")]),n("a-select-option",{attrs:{value:"2"}},[e._v("女")])],1)],1)],1),n("a-col",{attrs:{span:5}},[n("a-form-item",[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["jeecgOrderCustomerList["+r+"].idcard",{initialValue:t.idcard,rules:[{pattern:"^\\d{6}(18|19|20)?\\d{2}(0[1-9]|1[012])(0[1-9]|[12]\\d|3[01])\\d{3}(\\d|[xX])$",message:"身份证号格式不对!"}]}],expression:"['jeecgOrderCustomerList['+index+'].idcard', {'initialValue':item.idcard,rules: [{ pattern: '^\\\\d{6}(18|19|20)?\\\\d{2}(0[1-9]|1[012])(0[1-9]|[12]\\\\d|3[01])\\\\d{3}(\\\\d|[xX])$', message: '身份证号格式不对!' }]}]"}],attrs:{placeholder:"身份证号"}})],1)],1),n("a-col",{attrs:{span:5}},[n("a-form-item",[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["jeecgOrderCustomerList["+r+"].telphone",{initialValue:t.telphone,rules:[{pattern:"^1(3|4|5|7|8)\\d{9}$",message:"手机号格式不对!"}]}],expression:"['jeecgOrderCustomerList['+index+'].telphone', {'initialValue':item.telphone,rules: [{ pattern: '^1(3|4|5|7|8)\\\\d{9}$', message: '手机号格式不对!' }]}]"}],attrs:{placeholder:"手机号"}})],1)],1),n("a-col",{attrs:{span:4}},[n("a-form-item",[n("a-button",{attrs:{icon:"plus"},on:{click:e.addRowCustom}}),e._v(" \n                  "),n("a-button",{attrs:{icon:"minus"},on:{click:function(t){return e.delRowCustom(r)}}})],1)],1)],1)}))],2)]),n("a-tab-pane",{key:"2",attrs:{tab:"机票信息",forceRender:""}},[n("div",[n("a-row",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"flex",gutter:16}},[n("a-col",{attrs:{span:6}},[e._v("航班号")]),n("a-col",{attrs:{span:6}},[e._v("航班时间")]),n("a-col",{attrs:{span:6}},[e._v("操作")])],1),e._l(e.orderMainModel.jeecgOrderTicketList,(function(t,r){return n("a-row",{key:r,staticStyle:{"margin-bottom":"10px"},attrs:{type:"flex",gutter:16}},[n("a-col",{attrs:{span:6}},[n("a-form-item",[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["jeecgOrderTicketList["+r+"].ticketCode",{initialValue:t.ticketCode,rules:[{required:!0,message:"请输入航班号!"}]}],expression:"['jeecgOrderTicketList['+index+'].ticketCode', {'initialValue':item.ticketCode,rules: [{ required: true, message: '请输入航班号!' }]}]"}],attrs:{placeholder:"航班号"}})],1)],1),n("a-col",{attrs:{span:6}},[n("a-form-item",[n("j-date",{directives:[{name:"decorator",rawName:"v-decorator",value:["jeecgOrderTicketList["+r+"].tickectDate",{initialValue:t.tickectDate}],expression:"['jeecgOrderTicketList['+index+'].tickectDate', {'initialValue':item.tickectDate}]"}],attrs:{placeholder:"航班时间","trigger-change":!0}})],1)],1),n("a-col",{attrs:{span:6}},[n("a-form-item",[n("a-button",{attrs:{icon:"plus"},on:{click:e.addRowTicket}}),e._v(" \n                  "),n("a-button",{attrs:{icon:"minus"},on:{click:function(t){return e.delRowTicket(r)}}})],1)],1)],1)}))],2)])],1)],1)],1)],1)},i=[],o=n("0fea"),a=n("2dab"),s=n("88bc"),l=n.n(s),c=n("c1df"),u=n.n(c);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p={name:"JeecgOrderMainModal",components:{JDate:a["default"]},data:function(){return{title:"操作",visible:!1,orderMainModel:{jeecgOrderCustomerList:[{}],jeecgOrderTicketList:[{}]},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{},url:{add:"/test/jeecgOrderMain/add",edit:"/test/jeecgOrderMain/edit",orderCustomerList:"/test/jeecgOrderMain/queryOrderCustomerListByMainId",orderTicketList:"/test/jeecgOrderMain/queryOrderTicketListByMainId"}}},created:function(){},methods:{add:function(){this.edit({})},edit:function(e){var t=this;if(this.form.resetFields(),this.orderMainModel=Object.assign({},e),this.orderMainModel.jeecgOrderCustomerList=[{}],this.orderMainModel.jeecgOrderTicketList=[{}],this.orderMainModel.id){var n={id:this.orderMainModel.id};Object(o["c"])(this.url.orderCustomerList,n).then((function(e){e.success&&(t.orderMainModel.jeecgOrderCustomerList=e.result,t.$forceUpdate())})),Object(o["c"])(this.url.orderTicketList,n).then((function(e){e.success&&(t.orderMainModel.jeecgOrderTicketList=e.result,t.$forceUpdate())}))}this.visible=!0,this.$nextTick((function(){t.form.setFieldsValue(l()(t.orderMainModel,"orderCode","ctype","orderMoney","content")),t.form.setFieldsValue({orderDate:t.orderMainModel.orderDate?u()(t.orderMainModel.orderDate):null})}))},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields((function(n,r){if(!n){t.confirmLoading=!0;var i="",a="";e.orderMainModel.id?(i+=e.url.edit,a="put"):(i+=e.url.add,a="post");var s=Object.assign(e.orderMainModel,r);s.orderDate=s.orderDate?s.orderDate.format("YYYY-MM-DD HH:mm:ss"):null;var l=f(f({},s),{},{jeecgOrderCustomerList:s.jeecgOrderCustomerList,jeecgOrderTicketList:s.jeecgOrderTicketList});Object(o["h"])(i,l,a).then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}}))},handleCancel:function(){this.close()},addRowCustom:function(){this.orderMainModel.jeecgOrderCustomerList.push({}),this.$forceUpdate()},delRowCustom:function(e){var t=this.form.getFieldsValue();t["jeecgOrderCustomerList"].splice(e,1),this.form.setFieldsValue(t),this.orderMainModel.jeecgOrderCustomerList.splice(e,1),this.$forceUpdate()},addRowTicket:function(){this.orderMainModel.jeecgOrderTicketList.push({}),this.$forceUpdate()},delRowTicket:function(e){var t=this.form.getFieldsValue();t["jeecgOrderTicketList"].splice(e,1),this.form.setFieldsValue(t),this.orderMainModel.jeecgOrderTicketList.splice(e,1),this.$forceUpdate()}}},m=p,g=(n("ce8e"),n("2877")),v=Object(g["a"])(m,r,i,!1,null,"71240f1e",null);t["default"]=v.exports},"8b3e":function(e,t,n){"use strict";var r=n("3bf3"),i=n.n(r);i.a},"8c22":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-operator",staticStyle:{margin:"-25px 0px 10px 2px"},attrs:{md:24,sm:24}},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("新增")]),e.selectedRowKeys.length>0?n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:e.batchDel}},[n("a-icon",{attrs:{type:"delete"}}),e._v("\n          删除\n        ")],1)],1),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v(" 批量操作\n        "),n("a-icon",{attrs:{type:"down"}})],1)],1):e._e()],1),n("div",[n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),e._v(" 已选择 "),n("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRowKeys.length))]),e._v("项\n      "),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])]),n("a-table",{ref:"table",attrs:{size:"middle",bordered:"",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link"},[e._v("\n            更多 "),n("a-icon",{attrs:{type:"down"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.handleDetail(r)}}},[e._v("详情")])]),n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete(r.id)}}},[n("a",[e._v("删除")])])],1)],1)],1)],1)}}])})],1),n("JeecgOrderTicket-modal",{ref:"modalForm",on:{ok:e.modalFormOk}})],1)},i=[],o=n("aa8e"),a=n("b65a"),s=n("0fea"),l={name:"JeecgOrderTicketList",mixins:[a["a"]],components:{JeecgOrderTicketModal:o["default"]},data:function(){return{description:"机票信息",columns:[{title:"航班号",align:"center",dataIndex:"ticketCode"},{title:"航班时间",align:"center",dataIndex:"tickectDate"},{title:"订单号码",align:"center",dataIndex:"orderId"},{title:"创建人",align:"center",dataIndex:"createBy"},{title:"创建时间",align:"center",dataIndex:"createTime",sorter:!0},{title:"操作",key:"operation",align:"center",width:130,scopedSlots:{customRender:"action"}}],url:{list:"/test/order/listOrderTicketByMainId",delete:"/test/order/deleteTicket",deleteBatch:"/test/order/deleteBatchTicket"}}},methods:{loadData:function(e){var t=this;1===e&&(this.ipagination.current=1);var n=this.getQueryParams();Object(s["c"])(this.url.list,{orderId:n.mainId,pageNo:this.ipagination.current,pageSize:this.ipagination.pageSize}).then((function(e){e.success?(t.dataSource=e.result.records,t.ipagination.total=e.result.total):t.dataSource=null}))},getOrderMain:function(e){this.queryParam.mainId=e,this.loadData(1)},handleAdd:function(){this.$refs.modalForm.add(this.queryParam.mainId),this.$refs.modalForm.title="添加机票信息"}}},c=l,u=(n("81f4"),n("2877")),d=Object(u["a"])(c,r,i,!1,null,"0550d32d",null);t["default"]=d.exports},"8c6e":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"j-super-query-box"},[e._t("button",[e.superQueryFlag?n("a-tooltip",e._b({attrs:{mouseLeaveDelay:.2}},"a-tooltip",e.tooltipProps,!1),[n("span",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[e._v(e._s(e.tooltipProps))]),n("template",{slot:"title"},[n("span",[e._v("已有高级查询条件生效")]),n("a-divider",{attrs:{type:"vertical"}}),n("a",{on:{click:e.handleReset}},[e._v("清空")])],1),n("a-button-group",[n("a-button",{attrs:{type:"primary"},on:{click:e.handleOpen}},[n("a-icon",{attrs:{type:"appstore",theme:"twoTone",spin:""}}),n("span",[e._v("高级查询")])],1),e.izMobile?n("a-button",{attrs:{type:"primary",icon:"delete"},on:{click:e.handleReset}}):e._e()],1)],2):n("a-button",{attrs:{type:"primary",icon:"filter"},on:{click:e.handleOpen}},[e._v("高级查询")])],{isActive:e.superQueryFlag,isMobile:e.izMobile,open:e.handleOpen,reset:e.handleReset}),n("j-modal",{staticClass:"j-super-query-modal",staticStyle:{top:"5%","max-height":"95%"},attrs:{title:"高级查询构造器",width:1e3,visible:e.visible,mask:!1,fullscreen:e.izMobile},on:{cancel:e.handleCancel}},[n("template",{slot:"footer"},[n("div",{staticStyle:{float:"left"}},[n("a-button",{attrs:{loading:e.loading},on:{click:e.handleReset}},[e._v("重置")]),n("a-button",{attrs:{loading:e.loading},on:{click:e.handleSave}},[e._v("保存查询条件")])],1),n("a-button",{attrs:{loading:e.loading},on:{click:e.handleCancel}},[e._v("关闭")]),n("a-button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.handleOk}},[e._v("查询")])],1),n("a-spin",{attrs:{spinning:e.loading}},[n("a-row",[n("a-col",{attrs:{sm:24,md:19}},[0===e.queryParamsModel.length?n("a-empty",{staticStyle:{"margin-bottom":"12px"}},[n("div",{attrs:{slot:"description"},slot:"description"},[n("span",[e._v("没有任何查询条件")]),n("a-divider",{attrs:{type:"vertical"}}),n("a",{on:{click:e.handleAdd}},[e._v("点击新增")])],1)]):n("a-form",{attrs:{layout:"inline"}},[n("a-row",{staticStyle:{"margin-bottom":"12px"}},[n("a-col",{attrs:{md:12,xs:24}},[n("a-form-item",{staticStyle:{width:"100%"},attrs:{label:"过滤条件匹配",labelCol:{md:6,xs:24},wrapperCol:{md:18,xs:24}}},[n("a-select",{staticStyle:{width:"100%"},attrs:{getPopupContainer:function(e){return e.parentNode}},model:{value:e.matchType,callback:function(t){e.matchType=t},expression:"matchType"}},[n("a-select-option",{attrs:{value:"and"}},[e._v("AND（所有条件都要求匹配）")]),n("a-select-option",{attrs:{value:"or"}},[e._v("OR（条件中的任意一个匹配）")])],1)],1)],1)],1),e._l(e.queryParamsModel,(function(t,r){return n("a-row",{key:r,staticStyle:{"margin-bottom":"10px"},attrs:{type:"flex",gutter:16}},[n("a-col",{staticStyle:{"margin-bottom":"12px"},attrs:{md:8,xs:24}},[n("a-tree-select",{staticStyle:{width:"100%"},attrs:{showSearch:"",treeData:e.fieldTreeData,dropdownStyle:{maxHeight:"400px",overflow:"auto"},placeholder:"选择查询字段",allowClear:"",treeDefaultExpandAll:"",getPopupContainer:function(e){return e.parentNode}},on:{select:function(n,r){return e.handleSelected(r,t)}},model:{value:t.field,callback:function(n){e.$set(t,"field",n)},expression:"item.field"}})],1),n("a-col",{staticStyle:{"margin-bottom":"12px"},attrs:{md:4,xs:24}},[n("a-select",{attrs:{placeholder:"匹配规则",value:t.rule,getPopupContainer:function(e){return e.parentNode}},on:{change:function(n){return e.handleRuleChange(t,n)}}},[n("a-select-option",{attrs:{value:"eq"}},[e._v("等于")]),n("a-select-option",{attrs:{value:"like"}},[e._v("包含")]),n("a-select-option",{attrs:{value:"right_like"}},[e._v("以..开始")]),n("a-select-option",{attrs:{value:"left_like"}},[e._v("以..结尾")]),n("a-select-option",{attrs:{value:"in"}},[e._v("在...中")]),n("a-select-option",{attrs:{value:"ne"}},[e._v("不等于")]),n("a-select-option",{attrs:{value:"gt"}},[e._v("大于")]),n("a-select-option",{attrs:{value:"ge"}},[e._v("大于等于")]),n("a-select-option",{attrs:{value:"lt"}},[e._v("小于")]),n("a-select-option",{attrs:{value:"le"}},[e._v("小于等于")])],1)],1),n("a-col",{staticStyle:{"margin-bottom":"12px"},attrs:{md:8,xs:24}},[t.dictCode?["table-dict"===t.type?[n("j-popup",{attrs:{code:t.dictTable,field:t.dictCode,orgFields:t.dictCode,destFields:t.dictCode},model:{value:t.val,callback:function(n){e.$set(t,"val",n)},expression:"item.val"}})]:[n("j-multi-select-tag",{directives:[{name:"show",rawName:"v-show",value:e.allowMultiple(t),expression:"allowMultiple(item)"}],attrs:{dictCode:t.dictCode,placeholder:"请选择"},model:{value:t.val,callback:function(n){e.$set(t,"val",n)},expression:"item.val"}}),n("j-dict-select-tag",{directives:[{name:"show",rawName:"v-show",value:!e.allowMultiple(t),expression:"!allowMultiple(item)"}],attrs:{dictCode:t.dictCode,placeholder:"请选择"},model:{value:t.val,callback:function(n){e.$set(t,"val",n)},expression:"item.val"}})]]:"popup"===t.type?n("j-popup",e._b({attrs:{value:t.val,"group-id":"superQuery"},on:{input:function(n,r){return e.handleChangeJPopup(t,n,r)}}},"j-popup",t.popup,!1)):"select-user"===t.type||"sel_user"===t.type?n("j-select-multi-user",{attrs:{buttons:!1,multiple:!1,placeholder:"请选择用户",returnKeys:["id",t.customReturnField||"username"]},model:{value:t.val,callback:function(n){e.$set(t,"val",n)},expression:"item.val"}}):"select-depart"===t.type||"sel_depart"===t.type?n("j-select-depart",{attrs:{multi:!1,placeholder:"请选择部门",customReturnField:t.customReturnField||"id"},model:{value:t.val,callback:function(n){e.$set(t,"val",n)},expression:"item.val"}}):t.options instanceof Array?n("a-select",{attrs:{options:t.options,allowClear:"",placeholder:"请选择",mode:e.allowMultiple(t)?"multiple":""},model:{value:t.val,callback:function(n){e.$set(t,"val",n)},expression:"item.val"}}):"area-linkage"===t.type||"pca"===t.type?n("j-area-linkage",{staticStyle:{width:"100%"},model:{value:t.val,callback:function(n){e.$set(t,"val",n)},expression:"item.val"}}):"date"==t.type?n("j-date",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择日期"},model:{value:t.val,callback:function(n){e.$set(t,"val",n)},expression:"item.val"}}):"datetime"==t.type?n("j-date",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择时间","show-time":!0,"date-format":"YYYY-MM-DD HH:mm:ss"},model:{value:t.val,callback:function(n){e.$set(t,"val",n)},expression:"item.val"}}):"time"===t.type?n("a-time-picker",{staticStyle:{width:"100%"},attrs:{value:t.val?e.moment(t.val,"HH:mm:ss"):null,format:"HH:mm:ss"},on:{change:function(e,n){return t.val=n}}}):"int"==t.type||"number"==t.type?n("a-input-number",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入数值"},model:{value:t.val,callback:function(n){e.$set(t,"val",n)},expression:"item.val"}}):"switch"==t.type?n("a-select",{attrs:{placeholder:"请选择"},model:{value:t.val,callback:function(n){e.$set(t,"val",n)},expression:"item.val"}},[n("a-select-option",{attrs:{value:"Y"}},[e._v("是")]),n("a-select-option",{attrs:{value:"N"}},[e._v("否")])],1):n("a-input",{attrs:{placeholder:"请输入值"},model:{value:t.val,callback:function(n){e.$set(t,"val",n)},expression:"item.val"}})],2),n("a-col",{staticStyle:{"margin-bottom":"12px"},attrs:{md:4,xs:0}},[n("a-button",{attrs:{icon:"plus"},on:{click:e.handleAdd}}),e._v(" \r\n                "),n("a-button",{attrs:{icon:"minus"},on:{click:function(t){return e.handleDel(r)}}})],1),n("a-col",{staticStyle:{"margin-bottom":"12px","text-align":"right"},attrs:{md:0,xs:24}},[n("a-button",{attrs:{icon:"plus"},on:{click:e.handleAdd}}),e._v(" \r\n                "),n("a-button",{attrs:{icon:"minus"},on:{click:function(t){return e.handleDel(r)}}})],1)],1)}))],2)],1),n("a-col",{attrs:{sm:24,md:5}},[n("a-card",{staticClass:"j-super-query-history-card",attrs:{bordered:!0}},[n("div",{attrs:{slot:"title"},slot:"title"},[e._v("\r\n              保存的查询\r\n            ")]),0===e.saveTreeData.length?n("a-empty",{staticClass:"j-super-query-history-empty",attrs:{description:"没有保存任何查询"}}):n("a-tree",{staticClass:"j-super-query-history-tree",attrs:{showIcon:"",treeData:e.saveTreeData,selectedKeys:[]},on:{select:e.handleTreeSelect}})],1)],1)],1)],1),n("a-modal",{attrs:{title:"请输入保存的名称",visible:e.prompt.visible},on:{cancel:function(t){e.prompt.visible=!1},ok:e.handlePromptOk}},[n("a-input",{model:{value:e.prompt.value,callback:function(t){e.$set(e.prompt,"value",t)},expression:"prompt.value"}})],1)],2)],2)},i=[],o=n("c1df"),a=n.n(o),s=n("ca00"),l=n("ac0d"),c=n("2dab"),u=n("fe54"),d=n("0f9d"),f=n("f680"),h=n("9e8f");function p(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=m(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function m(e,t){if(e){if("string"===typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C={name:"JSuperQuery",mixins:[l["b"]],components:{JAreaLinkage:h["default"],JMultiSelectTag:f["default"],JDate:c["default"],JSelectDepart:u["default"],JSelectMultiUser:d["default"]},props:{fieldList:{type:Array,required:!0},callback:{type:String,required:!1,default:"handleSuperQuery"},loading:{type:Boolean,default:!1},saveCode:{type:String,default:null}},data:function(){var e=this.$createElement;return{moment:a.a,fieldTreeData:[],prompt:{visible:!1,value:""},visible:!1,queryParamsModel:[],treeIcon:e("a-icon",{attrs:{type:"file-text"}}),saveTreeData:[],saveCodeBefore:"JSuperQuerySaved_",matchType:"and",superQueryFlag:!1}},computed:{izMobile:function(){return"mobile"===this.device},tooltipProps:function(){return this.izMobile?{visible:!1}:{}},fullSaveCode:function(){var e=this.saveCode;return null!=e&&""!==e||(e=this.$route.fullPath),this.saveCodeBefore+e}},watch:{fullSaveCode:{immediate:!0,handler:function(){var e=this,t=this.$ls.get(this.fullSaveCode);t instanceof Array&&(this.saveTreeData=t.map((function(t){return e.renderSaveTreeData(t)})))}},fieldList:{deep:!0,immediate:!0,handler:function(e){var t=[],n=[];e.forEach((function(e){var r=b({},e);r.label=r.label||r.text;var i=r.children instanceof Array;r.disabled=i,r.selectable=!i,i?(r.children=r.children.map((function(e){var t=b({},e);return t.label=t.label||t.text,t.label=r.label+"-"+t.label,t.value=r.value+","+t.value,t.val="",t})),r.val="",n.push(r)):t.push(r)})),this.fieldTreeData=t.concat(n)}}},methods:{show:function(){this.queryParamsModel&&0!==this.queryParamsModel.length||this.resetLine(),this.visible=!0},handleOk:function(){if(this.isNullArray(this.queryParamsModel))this.$message.warn("不能查询空条件");else{var e={matchType:this.matchType,params:this.removeEmptyObject(this.queryParamsModel)};this.izMobile&&(this.visible=!1),this.emitCallback(e)}},emitCallback:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=void 0===t?[]:t,r=e.matchType,i=void 0===r?this.matchType:r;this.superQueryFlag=n&&n.length>0;var o,a=p(n);try{for(a.s();!(o=a.n()).done;){var s=o.value;Array.isArray(s.val)&&(s.val=s.val.join(","))}}catch(l){a.e(l)}finally{a.f()}this.$emit(this.callback,n,i)},handleCancel:function(){this.close()},close:function(){this.$emit("close"),this.visible=!1},handleAdd:function(){this.addNewLine()},addNewLine:function(){this.queryParamsModel.push({rule:"eq"})},resetLine:function(){this.superQueryFlag=!1,this.queryParamsModel=[],this.addNewLine()},handleDel:function(e){this.queryParamsModel.splice(e,1)},handleSelected:function(e,t){var n=e.dataRef,r=n.type,i=n.options,o=n.dictCode,a=n.dictTable,s=n.customReturnField,l=n.popup;t["type"]=r,t["options"]=i,t["dictCode"]=o,t["dictTable"]=a,t["customReturnField"]=s,l&&(t["popup"]=l),this.$set(t,"val",void 0)},handleOpen:function(){this.show()},handleReset:function(){this.resetLine(),this.emitCallback()},handleSave:function(){var e=this.removeEmptyObject(this.queryParamsModel);this.isNullArray(e)?this.$message.warning("空条件不能保存"):(this.prompt.value="",this.prompt.visible=!0)},handlePromptOk:function(){var e=this,t=this.prompt.value;if(t){var n=this.removeEmptyObject(this.queryParamsModel),r=this.saveTreeData.filter((function(e){return e.originTitle===t}));r.length>0?this.$confirm({content:"".concat(t," 已存在，是否覆盖？"),onOk:function(){e.prompt.visible=!1,r[0].records=n,e.saveToLocalStore(),e.$message.success("保存成功")}}):(this.prompt.visible=!1,this.saveTreeData.push(this.renderSaveTreeData({title:t,matchType:this.matchType,records:n})),this.saveToLocalStore(),this.$message.success("保存成功"))}else this.$message.warning("保存名称不能为空")},handleTreeSelect:function(e,t){if(t.selectedNodes[0]){var n=t.selectedNodes[0].data.props,r=n.matchType,i=n.records;this.matchType=r||this.matchType,this.queryParamsModel=s["b"](i)}},handleRemoveSaveTreeItem:function(e,t){var n=this;e.stopPropagation(),this.$confirm({content:"是否删除当前查询？",onOk:function(){var e=t.eventKey;n.saveTreeData.splice(Number.parseInt(e.substring(2)),1),n.saveToLocalStore()}})},saveToLocalStore:function(){var e=this.saveTreeData.map((function(e){var t=e.originTitle,n=e.matchType,r=e.records;return{title:t,matchType:n,records:r}}));this.$ls.set(this.fullSaveCode,e)},isNullArray:function(e){if(!e||0===e.length)return!0;if(1===e.length){var t=e[0];if(!t.field||null==t.val||""===t.val||!t.rule)return!0}return!1},removeEmptyObject:function(e){for(var t=s["b"](e),n=0;n<t.length;n++){var r=t[n];null==r||Object.keys(r).length<=0?t.splice(n--,1):Array.isArray(r.options)&&r.dictCode&&delete r.options}return t},renderSaveTreeData:function(e){var t=this,n=this.$createElement;return e.icon=this.treeIcon,e.originTitle=e["title"],e.title=function(e,r){var i;if(e.dataRef)i=e;else{if(!r.dataRef)return n("span",{style:"color:red;"},["Antdv版本不支持"]);i=r}var o=i.dataRef.originTitle;return n("div",{class:"j-history-tree-title"},[n("span",[o]),n("div",{class:"j-history-tree-title-closer",on:{click:function(e){return t.handleRemoveSaveTreeItem(e,i)}}},[n("a-icon",{attrs:{type:"close-circle"}})])])},e},allowMultiple:function(e){return"in"===e.rule},handleRuleChange:function(e,t){var n=e.rule;if(this.$set(e,"rule",t),"in"===n&&(e.dictCode||e.options instanceof Array)){var r=e.val;"string"===typeof e.val?r=e.val.split(",")[0]:Array.isArray(e.val)&&(r=e.val[0]),this.$set(e,"val",r)}},handleChangeJPopup:function(e,t,n){e.val=n[e.popup["destFields"]]}}},w=C,x=(n("adfa"),n("2877")),I=Object(x["a"])(w,r,i,!1,null,"6911ec13",null);t["default"]=I.exports},"8cdb":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("\n  404 page\n")])},i=[],o={name:"404"},a=o,s=n("2877"),l=Object(s["a"])(a,r,i,!1,null,"4e5e76bf",null);t["default"]=l.exports},"8cf3":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE4AAABOCAYAAACOqiAdAAAN90lEQVR4nN2ca2xcx3XHfzN796Hl+y1RlGRTKilLghobEfWw1RguWsBw+6GFK8XuhxQoWiBf8qEt7EguYEkG6qSpkwYIYLTo40uBtOgDCfpE6zZ1RNKyZVtSUjuUYlO2TJEiRXLJJSnu496Zfhjukrv3scvlLinlD1DQ7sw9c/ePM3POnJlzhNaaLUIdcBg4APQDe4EeYDvQAsRX+t0DEsAdYAz4GLgOfAhcBZY39a1XIDaZuL3AV4AngMeqJPNdYBD4DobUTcFmENcDfAP4ArCjxmNNAG8AZzHaWTPUkrgTwOuY6bgVeB/4MvBOLYTXgrivAaeAh6stuEJ8BPwj8NVqCq0mcUcxGvZoWb1VFr18F52aRqRmITuHziygMkvgpEBlTT8ZRljbkOE42mqAaDMi1oqOtiHjXSCtct9vGKOBP1r3L/NANYhrxBD2fKmOOjMPi5+hF8fQi+Po1HTFgwpAxNqhvhvqehANexCRhnIe/XMMgariwdk4cceAvwX2BHXSyVHzNz+KTs9tZDxfiFgzoqEXGvchmx4q1f0D4DeAn1Q83gaI+yLw3aAOOjGCSlxHz90ANsftEQhEcx+07Ee29Ad1tYFnge9XNE6FxL0G/J5fo07eRM1+gJ79sBLZVYEAROsBaPt5ZMOuoK5/DLy4bvkVEHcJYwjcyCRR09dQMz+C7NJ65dYEIlIHrYeRnUcQVsyv2xDGKS9f7jqJew8fj18nb6Luvo+e3zTnfV0QTXsRXceQ9Tv9ugwDj5ctbx3E+Wqanr6KmryMTifKlbUlELEW6DpOqO2QX5dB4GQ5smSZY76GF2naQU0M44z94L4nDUCnEjD2X9gTl8BbYZ7AOPAlUY7GeVtPlUVNDKMm3y5nnPsKQoDuPIbVfdJ8cONJ4M1AGSWIOwa85fpWO6jxwQeStByEANV5nPBOz5k5idljT/k9HzRVGzHOrQv6ztsPNGlgZqqcfAtn8j2v5i7gn4OeDyLudTx2BHr6Ks4DTloOGuDOD8nO/tSreQD4pt+zflP1KMaKFg6UvIn67I0HwhCsByLWguh9FhlrKW5KAruB+eIGP4173fVNJmn8tJ8x0gBIJVBj/41WTnFLLoDhghdxX8MjNKSmr923zu1GoQGZHMWZ9ow4PYfRugJ4EXfKJTh502yjfoahADE1jEonvZq/U/xFMXEn8IjcqtkP7pu9Z0UQIEIgQgIRZA6zSzh3PA3frwIFkYJiMa75rBMjWxrl2ChkWCDDAjsF2UWFUhAKezq9aA1i5gpq2TPA+kdrP6y1qj3AZ8W9ndHvo+eub+zttwhWVLAwmeX//voud4YXUcsQ67E4/Nud9Jysx0m5PQohwGl5lMhDv1TctMzqWW+Bxn2juKdOjq4EIR88WFHBwoTN4Mu3GfmbSRZGl7g3scT05TmGXviUmQ9ThCJuzdMaxOxVdGahuGkb8Ce5D2uJ+4JLyPwomxW5rSYMaVmGXhljajBBBEkIiURiESKVzPDxvyQQlveUFWhUwnOW5WN2OeL2UnRYrDPz6ORolX7K5sGKChbuZBl+5TaTP0xgeTgOAkgls74yBMD0NbR2neccBSKwStxXXE8vfFazg5VaIa9p525zx4c00GgEHQfqfSeTBnRq2oSh3LgAq8S5wsZ6qaY3CKoOo2k2QxduMznoRxrYKDofq6f3mSZU1n8ZElLgzH/i1fQEGOLqKA6Hqyx6cbyyX7AFsGLSaNr5MSYvzgWS1nKoniNndxKtt1B2wPqtNSLpuVN6HJASj7sduRP2BwFWLGcIbjN5MYGF94Jvo2g9VMfxc7voeCSOky11Hi3QC6M4ju3VWCcx99MK8KCQFopKFsazDJ0b8zUEsELawTqOnzek2anSh/gasKQmu+S5zp2QmEt9BRCp2fX9gi2AFRUs3skYTSuxprUcrOPYuV207y+PtDw0JO5+6tVy0sK4IoXIusJP9xVCUcnCxAppJTSt5WAdJ87vor1MTSuAkMTsGa+WHonZahXAJ0JwX8CKCRYnMgxdGC9vep6rkDQAIZBZz6nabWHu3BZAlxkJEQKkJRBhAQqcjMLtM1YPVnTFel7IGYIS03Mda5oXNAKyi15NXRbmonIhnFRJoSIkQGsSNzPMXF8i3hqm43AcKyYD/aNKYaxnpmzS1mMIfKEhpNJeLc0Wa3b8eSj/7QiY2JaTVlz5s0lufm+W9GyGUEjS+lgjAy92034ghr1cPdWzooKFcbss0joHGhg400Nb37aNkcbKxsKbi7pyT/ILEApLbv1gget/NUV2NmN+iKOZujzH0NkxZn6SwtpWkWgX8n7a+bHSmnYozrE/7KFtvdbTBwLf24daYvIICiHDwRIlTLy7gEIhV36IQBBGMncjyeBLY8yMbJy8PGllbKNaD9Zx/OXdtPTGsO+5Dl0qgwBHe3JxT2KSL4rfOFCeBrTWnj66hWRuJMngBjXPTM/yDEHroZU17UAcO1299VWgIexeyYBZiclYKUAoXB8sUEH3kUZAoj1CDHnyzqyQF18feavTs7SftmGXIwhasSzcthOYknglUpQgzskoHvrlRvqf68QBf/Ju5MhLl615oega0gaDN+yth4zLURPSAK0VKtbu1XRL4pHGoyPNwQIVyJDgyIvb6TsVTN78jZVpO1Ja88w2Kstwfk3z27A7tByIc+xcFVyOAAghadu536vposQklBUi1lpSqLI1QggGzu6g//kuX/JCSOZG5hn86hjTH/iveca5tRk6HxSENJrWNdDI46/uqTFpkLZBhuu8mgclJguv8KFou8+1sULkyDvywo41mudGftr6aJ6J3GYYulCGy3GwjoGXquOnBUJriLYTjkS8WickcK34WxHvhKjn3HbBkAcDL3XTf7oLB11i2t4usLa5M4LVeFpp69m6bxv2vRqSBgghUA29SBnyak7n/LjCS2LSQtR3lz2Iso1rcuTMDvpOd+EgAqzt/KrmNYVYmAg+WAFwULQeiueDkDXVtBUorbHaXaFKMDfUVe5NB4tbRZ0raBI8UE7zzuyg73QJazuSZOjsbW5fXOTSq+PcebPUjqCO4+d218x6FkMIsAkTruvwah6E1ZP8vZgsuzx0ZgH10++u+6RLWgKtNZdfneD6301hUtTcC6ZCE66PYC9mEAHh7g3F0yqEFJBqepR4r+s0/13gCKyecn2MSZLNQ0QaEI3rz5zMG4yVaWvjrXkSEUhaFicf5dhM0gBspYlt/5xXU35mrp0f/+Pq1rQPL20phbyrcmYH/c8ZV8XL3gZpWtdAI0+8upuOKm3Yy4VAkw13IOOexvHbuf+sJc6VCCsbH0a29FX0Ark178iLO+g75a95xci7HGd6aO3bhp3ePNJg5ZBm1y/ioTDDwCe5D2uJG8NUVShE8/4KdM4gbzDOBhuMHNYGIdv6tmEvbS5pUkBKthJtdl3AhCIDWmzKvuwS1tJvsvAqxFpr2//FLpSPq2Kj6Px8AycubJ7L4XoHpYjtfcYraeQKRRmGxcRdwqsERdthk4VXIdYajJ873ematjaKpv46jl/YRfuBrSFNCk2m4SBWg6f/+oarv0enf3B1atgNrYfL2ob5IeckD5zZzv7f7EJHLbIobDRNffUcf3k3zbujNd8ReEEIyKiol/sBpprEC65nfPIc3sKkI+Wh7WXUp/+6cmeuckhLoGzN3ZEUU4NJ4rtibD8ap74zjJPZ/Lt4AhM+sh8+Ray116vL1/EwnH7EfQ4zrwugFsfQt/7d7/pT+S8rzd1cYZljRZXVwRdgagiBJtt2lNieJ72afdMw/QJkV4G/cHWu74HOY4hQiTOJEtAKnLTGXlLYy2rrSBOaebmd6C5Pbj4BnvF9NiB70MLU6HikuMEeH0ZMDvqkfD4YEGhUpA3rwJcQ3odTTwP/4fd8UEjWBk57NVjdx9EdRzdkLLYSAo0TacHqf96PtG8RQBqUl+j765gSO4XQGnv8ImLq0gOleUKAE27F6n8e6X2C9Q5+xRrWoJwTlH/ClJhwvYHVfRK948kNr3mbBSFgKbSd8CNf8iPtPeDXypK1jmIGg/hUSXASN2D8TUgn7svL/WLln1TzEeJ7fgHhHdX9CJPw9m5ZMtdZPmMIk+/lglqeRt3+X8TC6H01dQWQFRHE7l8h2rbPr9tHwG9hfl95ciso2OKreVrZOHevIe5egszSlmqfEKCUJttwkNjDT/lNTTD+6u9Spqbl5VdYIujreGxDclCpBM7kO8iZayD8KlXUBmJlvEyoGeuhp4k0BZYHehtj/NZ9xX4jRameAv4e8D2EdZamUNPvI2Z+7BMTqQ5ybpFSmnSohcjupwi39CICcyz5JvD7FY+5wTJoO4HvAZ8P6qTSSdTsCMxcgXQCISXoyrPEhAB0bjo62ETQzY8Q7noMq76LElHrW5jw2b9VOLx5hypVLPxT4HfwuqS4BlorVCqBmvsIkh/Dwi0EyvyFLISQ5O9AaUyC7soHrRyUckCEyDogIk04DfsIdx4mHG9HhMqqXPiXwB8AG861qmapx3ZMovCz5T6glU06OUl6aZZQegr73gxkkggnjdZZtAYtwhCuJxTvwI50UN/Wg1XXgZQhRPlbl8sYLfMsMlIJalFctBeTw/50tQVXgB8D/4nRsqqiluVse4FXMBroeQGjhhjGuE3rLqhXLjar8vRrmKy7gRqOcQVD1reAmzUcB9j8kt1R4DyGxLKL3AXgbQxZ38ajnkAtsdnErYXE+IAnMRHnPUA3piBUM6sWeglzT3kKc+32IoasUSCzua+8iv8HJGcN3sq4wbgAAAAASUVORK5CYII="},"8d85":function(e,t,n){"use strict";var r=n("d387"),i=n.n(r);i.a},"8d90":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{visible:e.visible,title:"修改头像",maskClosable:!1,confirmLoading:e.confirmLoading,width:800}},[n("a-row",[n("a-col",{style:{height:"350px"},attrs:{xs:24,md:12}},[n("vue-cropper",{ref:"cropper",attrs:{img:e.options.img,info:!0,autoCrop:e.options.autoCrop,autoCropWidth:e.options.autoCropWidth,autoCropHeight:e.options.autoCropHeight,fixedBox:e.options.fixedBox},on:{realTime:e.realTime}})],1),n("a-col",{style:{height:"350px"},attrs:{xs:24,md:12}},[n("div",{staticClass:"avatar-upload-preview"},[n("img",{style:e.previews.img,attrs:{src:e.previews.url}})])])],1),n("template",{slot:"footer"},[n("a-button",{key:"back",on:{click:e.cancelHandel}},[e._v("取消")]),n("a-button",{key:"submit",attrs:{type:"primary",loading:e.confirmLoading},on:{click:e.okHandel}},[e._v("保存")])],1)],2)},i=[],o=n("7e79"),a={components:{VueCropper:o["VueCropper"]},data:function(){return{visible:!1,id:null,confirmLoading:!1,options:{img:"/avatar2.jpg",autoCrop:!0,autoCropWidth:200,autoCropHeight:200,fixedBox:!0},previews:{}}},methods:{edit:function(e){this.visible=!0,this.id=e},close:function(){this.id=null,this.visible=!1},cancelHandel:function(){this.close()},okHandel:function(){var e=this;e.confirmLoading=!0,setTimeout((function(){e.confirmLoading=!1,e.close(),e.$message.success("上传头像成功")}),2e3)},realTime:function(e){this.previews=e}}},s=a,l=(n("ba30"),n("2877")),c=Object(l["a"])(s,r,i,!1,null,"68555700",null);t["default"]=c.exports},"8dd6":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-form",{staticClass:"form",attrs:{form:e.form},on:{submit:e.handleSubmit}},[n("a-row",{staticClass:"form-row",attrs:{gutter:16}},[n("a-col",{attrs:{lg:6,md:12,sm:24}},[n("a-form-item",{attrs:{label:"任务名"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["task.name",{rules:[{required:!0,message:"请输入任务名称",whitespace:!0}]}],expression:"[ 'task.name', {rules: [{ required: true, message: '请输入任务名称', whitespace: true}]} ]"}],attrs:{placeholder:"请输入任务名称"}})],1)],1),n("a-col",{attrs:{xl:{span:7,offset:1},lg:{span:8},md:{span:12},sm:24}},[n("a-form-item",{attrs:{label:"任务描述"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["task.description",{rules:[{required:!0,message:"请输入任务描述",whitespace:!0}]}],expression:"[ 'task.description', {rules: [{ required: true, message: '请输入任务描述', whitespace: true}]} ]"}],attrs:{placeholder:"请输入任务描述"}})],1)],1),n("a-col",{attrs:{xl:{span:9,offset:1},lg:{span:10},md:{span:24},sm:24}},[n("a-form-item",{attrs:{label:"执行人"}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["task.executor",{rules:[{required:!0,message:"请选择执行人"}]}],expression:"[\n            'task.executor',\n            {rules: [{ required: true, message: '请选择执行人'}]}\n          ]"}],attrs:{placeholder:"请选择执行人"}},[n("a-select-option",{attrs:{value:"黄丽丽"}},[e._v("黄丽丽")]),n("a-select-option",{attrs:{value:"李大刀"}},[e._v("李大刀")])],1)],1)],1)],1),n("a-row",{staticClass:"form-row",attrs:{gutter:16}},[n("a-col",{attrs:{lg:6,md:12,sm:24}},[n("a-form-item",{attrs:{label:"责任人"}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["task.manager",{rules:[{required:!0,message:"请选择责任人"}]}],expression:"[\n            'task.manager',\n            {rules: [{ required: true, message: '请选择责任人'}]}\n          ]"}],attrs:{placeholder:"请选择责任人"}},[n("a-select-option",{attrs:{value:"王伟"}},[e._v("王伟")]),n("a-select-option",{attrs:{value:"李红军"}},[e._v("李红军")])],1)],1)],1),n("a-col",{attrs:{xl:{span:7,offset:1},lg:{span:8},md:{span:12},sm:24}},[n("a-form-item",{attrs:{label:"提醒时间"}},[n("a-time-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["task.time",{rules:[{required:!0,message:"请选择提醒时间"}]}],expression:"[\n            'task.time',\n            {rules: [{ required: true, message: '请选择提醒时间'}]}\n          ]"}],staticStyle:{width:"100%"}})],1)],1),n("a-col",{attrs:{xl:{span:9,offset:1},lg:{span:10},md:{span:24},sm:24}},[n("a-form-item",{attrs:{label:"任务类型"}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["task.type",{rules:[{required:!0,message:"请选择任务类型"}]}],expression:"[ 'task.type', {rules: [{ required: true, message: '请选择任务类型'}]} ]"}],attrs:{placeholder:"请选择任务类型"}},[n("a-select-option",{attrs:{value:"定时执行"}},[e._v("定时执行")]),n("a-select-option",{attrs:{value:"周期执行"}},[e._v("周期执行")])],1)],1)],1)],1),e.showSubmit?n("a-form-item",[n("a-button",{attrs:{htmlType:"submit"}},[e._v("Submit")])],1):e._e()],1)},i=[],o={name:"TaskForm",props:{showSubmit:{type:Boolean,default:!1}},data:function(){return{form:this.$form.createForm(this)}},methods:{handleSubmit:function(e){var t=this;e.preventDefault(),this.form.validateFields((function(e,n){e||t.$notification["error"]({message:"Received values of form:",description:n})}))}}},a=o,s=n("2877"),l=Object(s["a"])(a,r,i,!1,null,"17d147d2",null);t["default"]=l.exports},"8e46":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-form",{staticStyle:{margin:"40px auto 0"}},[n("result",{attrs:{title:"更改密码成功","is-success":!0}},[n("div",{staticClass:"toLogin"},[n("h3",[e._v("将在"),n("span",[e._v(e._s(e.time))]),e._v("秒后返回登录页面.")])])])],1)],1)},i=[],o=n("9a3d"),a={name:"Step4",props:["userList"],components:{Result:o["default"]},data:function(){return{loading:!1,time:0}},methods:{countDown:function(){var e=this;e.time--}},mounted:function(){var e=this;e.time=5,setInterval(e.countDown,1e3)},watch:{time:function(e,t){if(0==e){var n={username:this.userList.username};this.$router.push({name:"login",params:n})}}}},s=a,l=(n("c8be"),n("2877")),c=Object(l["a"])(s,r,i,!1,null,"5bfb6b54",null);t["default"]=c.exports},"8e7c":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:e.title,width:800,visible:e.visible,maskClosable:!1,confirmLoading:e.confirmLoading,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"职务编码"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["code",e.validatorRules.code],expression:"['code', validatorRules.code]"}],attrs:{placeholder:"请输入职务编码"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"职务名称"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",e.validatorRules.name],expression:"['name', validatorRules.name]"}],attrs:{placeholder:"请输入职务名称"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"职级"}},[n("j-dict-select-tag",{directives:[{name:"decorator",rawName:"v-decorator",value:["postRank",e.validatorRules.postRank],expression:"['postRank', validatorRules.postRank]"}],attrs:{placeholder:"请选择职级",triggerChange:!0,dictCode:"position_rank"}})],1)],1)],1)],1)},i=[],o=n("88bc"),a=n.n(o),s=n("0fea"),l=n("4ec3"),c=n("7b16"),u=null,d={name:"SysPositionModal",components:{JDictSelectTag:c["default"]},data:function(){var e=this;return{title:"操作",visible:!1,model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{code:{rules:[{required:!0,message:"请输入职务编码"},{validator:function(t,n,r){u&&clearTimeout(u),u=setTimeout((function(){Object(l["m"])({tableName:"sys_position",fieldName:"code",fieldVal:n,dataId:e.model.id}).then((function(e){e.success?r():r(e.message)})).catch(console.error)}),300)}}]},name:{rules:[{required:!0,message:"请输入职务名称"}]},postRank:{rules:[{required:!0,message:"请选择职级"}]}},url:{add:"/sys/position/add",edit:"/sys/position/edit"}}},created:function(){},methods:{add:function(){this.edit({})},edit:function(e){var t=this;this.form.resetFields(),this.model=Object.assign({},e),this.visible=!0,this.$nextTick((function(){t.form.setFieldsValue(a()(t.model,"code","name","postRank"))}))},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields((function(n,r){if(!n){t.confirmLoading=!0;var i="",o="";e.model.id?(i+=e.url.edit,o="put"):(i+=e.url.add,o="post");var a=Object.assign(e.model,r);Object(s["h"])(i,a,o).then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}}))},handleCancel:function(){this.close()}}},f=d,h=n("2877"),p=Object(h["a"])(f,r,i,!1,null,"2d3b9bd6",null);t["default"]=p.exports},"8ea3":function(e,t,n){"use strict";var r=n("49c7"),i=n.n(r);i.a},"903e":function(e,t,n){(function(e){e(n("56b3"))})((function(e){"use strict";e.registerHelper("wordChars","r",/[\w.]/),e.defineMode("r",(function(t){function n(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=!0;return t}var r=["NULL","NA","Inf","NaN","NA_integer_","NA_real_","NA_complex_","NA_character_","TRUE","FALSE"],i=["list","quote","bquote","eval","return","call","parse","deparse"],o=["if","else","repeat","while","function","for","in","next","break"],a=["if","else","repeat","while","function","for"];e.registerHelper("hintWords","r",r.concat(i,o));var s,l=n(r),c=n(i),u=n(o),d=n(a),f=/[+\-*\/^<>=!&|~$:]/;function h(e,t){s=null;var n=e.next();if("#"==n)return e.skipToEnd(),"comment";if("0"==n&&e.eat("x"))return e.eatWhile(/[\da-f]/i),"number";if("."==n&&e.eat(/\d/))return e.match(/\d*(?:e[+\-]?\d+)?/),"number";if(/\d/.test(n))return e.match(/\d*(?:\.\d+)?(?:e[+\-]\d+)?L?/),"number";if("'"==n||'"'==n)return t.tokenize=p(n),"string";if("`"==n)return e.match(/[^`]+`/),"variable-3";if("."==n&&e.match(/.[.\d]+/))return"keyword";if(/[\w\.]/.test(n)&&"_"!=n){e.eatWhile(/[\w\.]/);var r=e.current();return l.propertyIsEnumerable(r)?"atom":u.propertyIsEnumerable(r)?(d.propertyIsEnumerable(r)&&!e.match(/\s*if(\s+|$)/,!1)&&(s="block"),"keyword"):c.propertyIsEnumerable(r)?"builtin":"variable"}return"%"==n?(e.skipTo("%")&&e.next(),"operator variable-2"):"<"==n&&e.eat("-")||"<"==n&&e.match("<-")||"-"==n&&e.match(/>>?/)?"operator arrow":"="==n&&t.ctx.argList?"arg-is":f.test(n)?"$"==n?"operator dollar":(e.eatWhile(f),"operator"):/[\(\){}\[\];]/.test(n)?(s=n,";"==n?"semi":null):null}function p(e){return function(t,n){if(t.eat("\\")){var r=t.next();return"x"==r?t.match(/^[a-f0-9]{2}/i):("u"==r||"U"==r)&&t.eat("{")&&t.skipTo("}")?t.next():"u"==r?t.match(/^[a-f0-9]{4}/i):"U"==r?t.match(/^[a-f0-9]{8}/i):/[0-7]/.test(r)&&t.match(/^[0-7]{1,2}/),"string-2"}var i;while(null!=(i=t.next())){if(i==e){n.tokenize=h;break}if("\\"==i){t.backUp(1);break}}return"string"}}var m=1,g=2,v=4;function b(e,t,n){e.ctx={type:t,indent:e.indent,flags:0,column:n.column(),prev:e.ctx}}function y(e,t){var n=e.ctx;e.ctx={type:n.type,indent:n.indent,flags:n.flags|t,column:n.column,prev:n.prev}}function C(e){e.indent=e.ctx.indent,e.ctx=e.ctx.prev}return{startState:function(){return{tokenize:h,ctx:{type:"top",indent:-t.indentUnit,flags:g},indent:0,afterIdent:!1}},token:function(e,t){if(e.sol()&&(0==(3&t.ctx.flags)&&(t.ctx.flags|=g),t.ctx.flags&v&&C(t),t.indent=e.indentation()),e.eatSpace())return null;var n=t.tokenize(e,t);return"comment"!=n&&0==(t.ctx.flags&g)&&y(t,m),";"!=s&&"{"!=s&&"}"!=s||"block"!=t.ctx.type||C(t),"{"==s?b(t,"}",e):"("==s?(b(t,")",e),t.afterIdent&&(t.ctx.argList=!0)):"["==s?b(t,"]",e):"block"==s?b(t,"block",e):s==t.ctx.type?C(t):"block"==t.ctx.type&&"comment"!=n&&y(t,v),t.afterIdent="variable"==n||"keyword"==n,n},indent:function(e,n){if(e.tokenize!=h)return 0;var r=n&&n.charAt(0),i=e.ctx,o=r==i.type;return i.flags&v&&(i=i.prev),"block"==i.type?i.indent+("{"==r?0:t.indentUnit):i.flags&m?i.column+(o?0:1):i.indent+(o?0:t.indentUnit)},lineComment:"#"}})),e.defineMIME("text/x-rsrc","r")}))},"91b6":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{class:{abcdefg:!0},attrs:{bordered:!1}},[n("div",{staticClass:"no-print",staticStyle:{"text-align":"right"}},[n("a-button",{directives:[{name:"print",rawName:"v-print",value:"#printContent",expression:"'#printContent'"}],attrs:{ghost:"",type:"primary"}},[e._v("打印")])],1),n("section",{ref:"print",staticClass:"abcdefg",attrs:{id:"printContent"}},[n("div",{staticStyle:{"text-align":"center"}},[n("p",{staticStyle:{"font-size":"24px","font-weight":"800"}},[e._v("打印测试表单")])]),n("a-col",{attrs:{md:24,sm:24}},[n("div",{staticClass:"sign",staticStyle:{"text-align":"left",height:"inherit"}},[n("a-col",{attrs:{span:24}},[n("span",[e._v("\n          打印人员:\n        ")]),n("a-input",{staticStyle:{width:"30%"},model:{value:e.printer,callback:function(t){e.printer=t},expression:"printer"}}),n("span",{staticStyle:{"margin-left":"12.5%"}},[e._v("打印日期:")]),n("a-input",{staticStyle:{width:"30%"},model:{value:e.printTime,callback:function(t){e.printTime=t},expression:"printTime"}})],1),n("a-col",{attrs:{span:24}}),n("a-col",{staticStyle:{"margin-top":"20px"},attrs:{span:24}},[n("span",[e._v("打印内容:")]),n("a-input",{staticStyle:{width:"80%"},model:{value:e.printContent,callback:function(t){e.printContent=t},expression:"printContent"}})],1),n("a-col",{staticStyle:{"margin-top":"20px"},attrs:{span:24}},[n("span",[e._v("打印目的:")]),n("a-input",{staticStyle:{width:"80%"},model:{value:e.printReason,callback:function(t){e.printReason=t},expression:"printReason"}})],1),n("a-col",{staticStyle:{"margin-top":"20px"},attrs:{span:24}},[n("span",[e._v("打印图片:")]),n("br"),n("a-upload",{attrs:{action:"/jsonplaceholder.typicode.com/posts/",listType:"picture-card",fileList:e.fileList},on:{preview:e.handlePreview,change:e.handleChange}},[e.fileList.length<3?n("div",[n("a-icon",{attrs:{type:"plus"}}),n("div",{staticClass:"ant-upload-text"},[e._v("Upload")])],1):e._e()]),n("a-modal",{attrs:{visible:e.previewVisible,footer:null},on:{cancel:e.handleCancel}},[n("img",{staticStyle:{width:"100%"},attrs:{alt:"example",src:e.previewImage}})])],1)],1)])],1)])},i=[],o=n("da05"),a=n("290c"),s=n("261e"),l={components:{ATextarea:s["a"],ARow:a["a"],ACol:o["b"]},name:"Printgzsld",props:{reBizCode:{type:String,default:""}},data:function(){return{columns:[{}],labelCol:{xs:{span:24},sm:{span:2}},wrapperCol:{xs:{span:24},sm:{span:8}},printer:"张三",printTime:"2019-02-01 12:00:00",printContent:"打印内容就是,做一个打印测试",printReason:"做一个打印测试",previewVisible:!1,previewImage:"",fileList:[{uid:"-1",name:"xxx.png",status:"done",url:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png"},{uid:"-2",name:"pic1.png",status:"done",url:"https://www.gizbot.com/img/2016/11/whatsapp-error-lead-image-08-1478607387.jpg"}],url:{loadApplicant:"/sps/register/loadApplicants",loadRegisterFiles:"/sps/register/getRegisterFilesConfig"}}},created:function(){this.getDate()},methods:{loadData:function(){},getDate:function(){},handleCancel:function(){this.previewVisible=!1},handlePreview:function(e){this.previewImage=e.url||e.thumbUrl,this.previewVisible=!0},handleChange:function(e){var t=e.fileList;this.fileList=t}}},c=l,u=(n("e044"),n("2877")),d=Object(u["a"])(c,r,i,!1,null,"01873645",null);t["default"]=d.exports},"91be":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-list",{attrs:{itemLayout:"horizontal",dataSource:e.data}})},i=[],o={data:function(){return{data:[]}},methods:{}},a=o,s=n("2877"),l=Object(s["a"])(a,r,i,!1,null,"433691d5",null);t["default"]=l.exports},9203:function(e,t,n){"use strict";var r=n("d054"),i=n.n(r);i.a},"92e9":function(e,t,n){e.exports={pca:n("bfa9"),pcaa:n("0eff")}},"942d":function(e,t,n){"use strict";n.r(t);for(var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{style:{width:null==e.width?"auto":e.width+"px"}},[n("v-chart",{attrs:{forceFit:null==e.width,height:e.height,data:e.data,padding:"0"}},[n("v-tooltip"),n("v-bar",{attrs:{position:"x*y"}})],1)],1)},i=[],o=n("5a0c"),a=n.n(o),s=[],l=(new Date).getTime(),c=0;c<10;c++)s.push({x:a()(new Date(l+864e5*c)).format("YYYY-MM-DD"),y:Math.round(10*Math.random())});var u=["x*y",function(e,t){return{name:e,value:t}}],d=[{dataKey:"x",min:2},{dataKey:"y",title:"时间",min:1,max:30}],f={name:"MiniBar",props:{dataSource:{type:Array,default:function(){return[]}},width:{type:Number,default:null},height:{type:Number,default:200}},created:function(){0===this.dataSource.length?this.data=s:this.data=this.dataSource},data:function(){return{tooltip:u,data:[],scale:d}}},h=f,p=(n("34c4"),n("2877")),m=Object(p["a"])(h,r,i,!1,null,"dda27cb2",null);t["default"]=m.exports},9434:function(e,t,n){n("e8b0")},"94bb":function(e,t,n){"use strict";n.r(t);for(var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-header-index-wide"},[n("a-row",{attrs:{gutter:24}},[n("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:6}},[n("chart-card",{attrs:{loading:e.loading,title:"总销售额",total:"￥126,560"}},[n("a-tooltip",{attrs:{slot:"action",title:"指标说明"},slot:"action"},[n("a-icon",{attrs:{type:"info-circle-o"}})],1),n("div",[n("trend",{staticStyle:{"margin-right":"16px"},attrs:{flag:"up"}},[n("span",{attrs:{slot:"term"},slot:"term"},[e._v("周同比")]),e._v("\n            12%\n          ")]),n("trend",{attrs:{flag:"down"}},[n("span",{attrs:{slot:"term"},slot:"term"},[e._v("日同比")]),e._v("\n            11%\n          ")])],1),n("template",{slot:"footer"},[e._v("日均销售额"),n("span",[e._v("￥ 234.56")])])],2)],1),n("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:6}},[n("chart-card",{attrs:{loading:e.loading,title:"订单量",total:e._f("NumberFormat")(8846)}},[n("a-tooltip",{attrs:{slot:"action",title:"指标说明"},slot:"action"},[n("a-icon",{attrs:{type:"info-circle-o"}})],1),n("div",[n("mini-area")],1),n("template",{slot:"footer"},[e._v("日订单量"),n("span",[e._v(" "+e._s(e._f("NumberFormat")("1234")))])])],2)],1),n("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:6}},[n("chart-card",{attrs:{loading:e.loading,title:"支付笔数",total:e._f("NumberFormat")(6560)}},[n("a-tooltip",{attrs:{slot:"action",title:"指标说明"},slot:"action"},[n("a-icon",{attrs:{type:"info-circle-o"}})],1),n("div",[n("mini-bar",{attrs:{height:40}})],1),n("template",{slot:"footer"},[e._v("转化率 "),n("span",[e._v("60%")])])],2)],1),n("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:6}},[n("chart-card",{attrs:{loading:e.loading,title:"运营活动效果",total:"78%"}},[n("a-tooltip",{attrs:{slot:"action",title:"指标说明"},slot:"action"},[n("a-icon",{attrs:{type:"info-circle-o"}})],1),n("div",[n("mini-progress",{attrs:{color:"rgb(19, 194, 194)",target:80,percentage:78,height:8}})],1),n("template",{slot:"footer"},[n("trend",{staticStyle:{"margin-right":"16px"},attrs:{flag:"down"}},[n("span",{attrs:{slot:"term"},slot:"term"},[e._v("同周比")]),e._v("\n            12%\n          ")]),n("trend",{attrs:{flag:"up"}},[n("span",{attrs:{slot:"term"},slot:"term"},[e._v("日环比")]),e._v("\n            80%\n          ")])],1)],2)],1)],1),n("a-card",{attrs:{loading:e.loading,bordered:!1,"body-style":{padding:"0"}}},[n("div",{staticClass:"salesCard"},[n("a-tabs",{attrs:{"default-active-key":"1",size:"large","tab-bar-style":{marginBottom:"24px",paddingLeft:"16px"}}},[n("div",{staticClass:"extra-wrapper",attrs:{slot:"tabBarExtraContent"},slot:"tabBarExtraContent"},[n("div",{staticClass:"extra-item"},[n("a",[e._v("今日")]),n("a",[e._v("本周")]),n("a",[e._v("本月")]),n("a",[e._v("本年")])]),n("a-range-picker",{style:{width:"256px"}})],1),n("a-tab-pane",{key:"1",attrs:{loading:"true",tab:"销售额"}},[n("a-row",[n("a-col",{attrs:{xl:16,lg:12,md:12,sm:24,xs:24}},[n("bar",{attrs:{title:"销售额排行",dataSource:e.barData}})],1),n("a-col",{attrs:{xl:8,lg:12,md:12,sm:24,xs:24}},[n("rank-list",{attrs:{title:"门店销售排行榜",list:e.rankList}})],1)],1)],1),n("a-tab-pane",{key:"2",attrs:{tab:"销售趋势"}},[n("a-row",[n("a-col",{attrs:{xl:16,lg:12,md:12,sm:24,xs:24}},[n("bar",{attrs:{title:"销售额趋势",dataSource:e.barData}})],1),n("a-col",{attrs:{xl:8,lg:12,md:12,sm:24,xs:24}},[n("rank-list",{attrs:{title:"门店销售排行榜",list:e.rankList}})],1)],1)],1)],1)],1)]),n("a-row",[n("a-col",{attrs:{span:24}},[n("a-card",{style:{marginTop:"24px"},attrs:{loading:e.loading,bordered:!1,title:"最近一周访问量统计"}},[n("a-row",[n("a-col",{attrs:{span:6}},[n("head-info",{attrs:{title:"今日IP",content:e.loginfo.todayIp}})],1),n("a-col",{attrs:{span:2}},[n("a-spin",{staticClass:"circle-cust"},[n("a-icon",{staticStyle:{"font-size":"24px"},attrs:{slot:"indicator",type:"environment"},slot:"indicator"})],1)],1),n("a-col",{attrs:{span:6}},[n("head-info",{attrs:{title:"今日访问",content:e.loginfo.todayVisitCount}})],1),n("a-col",{attrs:{span:2}},[n("a-spin",{staticClass:"circle-cust"},[n("a-icon",{staticStyle:{"font-size":"24px"},attrs:{slot:"indicator",type:"team"},slot:"indicator"})],1)],1),n("a-col",{attrs:{span:6}},[n("head-info",{attrs:{title:"总访问量",content:e.loginfo.totalVisitCount}})],1),n("a-col",{attrs:{span:2}},[n("a-spin",{staticClass:"circle-cust"},[n("a-icon",{staticStyle:{"font-size":"24px"},attrs:{slot:"indicator",type:"rise"},slot:"indicator"})],1)],1)],1),n("line-chart-multid",{attrs:{fields:e.visitFields,dataSource:e.visitInfo}})],1)],1)],1)],1)},i=[],o=n("05ed"),a=n("da05"),s=n("3896"),l=n("1d43"),c=n("942d"),u=n("bf13"),d=n("0923"),f=n("edd9"),h=n("4ec6"),p=n("81d1"),m=n("611e"),g=n("4ec3"),v=[],b=0;b<7;b++)v.push({name:"白鹭岛 "+(b+1)+" 号店",total:1234.56-100*b});for(var y=[],C=0;C<12;C+=1)y.push({x:"".concat(C+1,"月"),y:Math.floor(1e3*Math.random())+200});var w={name:"IndexChart",components:{ATooltip:s["a"],ACol:a["b"],ChartCard:o["default"],MiniArea:l["default"],MiniBar:c["default"],MiniProgress:u["default"],RankList:d["default"],Bar:f["default"],Trend:m["a"],LineChartMultid:h["default"],HeadInfo:p["default"]},data:function(){var e=this.$createElement;return{loading:!0,center:null,rankList:v,barData:y,loginfo:{},visitFields:["ip","visit"],visitInfo:[],indicator:e("a-icon",{attrs:{type:"loading",spin:!0},style:"font-size: 24px"})}},created:function(){var e=this;setTimeout((function(){e.loading=!e.loading}),1e3),this.initLogInfo()},methods:{initLogInfo:function(){var e=this;Object(g["u"])(null).then((function(t){t.success&&(Object.keys(t.result).forEach((function(e){t.result[e]=t.result[e]+""})),e.loginfo=t.result)})),Object(g["B"])().then((function(t){t.success&&(e.visitInfo=t.result)}))}}},x=w,I=(n("0a02"),n("2877")),A=Object(I["a"])(x,r,i,!1,null,"602a0832",null);t["default"]=A.exports},"94ce":function(e,t){(function(e){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=function(){},r=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e(t.apply(null,n))}},i=function(e,t){return function(n){return e(t(n))}},o=function(e){return function(){return e}},a=function(e){return e};function s(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.concat(n);return e.apply(null,i)}}var l=function(e){return function(t){return!e(t)}},c=function(e){return function(){throw new Error(e)}},u=o(!1),d=o(!0),f=function(){return h},h=function(){var e=function(e){return e.isNone()},t=function(e){return e()},r=function(e){return e},i={fold:function(e,t){return e()},is:u,isSome:u,isNone:d,getOr:r,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:o(null),getOrUndefined:o(void 0),or:r,orThunk:t,map:f,each:n,bind:f,exists:u,forall:d,filter:f,equals:e,equals_:e,toArray:function(){return[]},toString:o("none()")};return i}(),p=function(e){var t=o(e),n=function(){return i},r=function(t){return t(e)},i={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:d,isNone:u,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return p(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?i:h},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(u,(function(t){return n(e,t)}))}};return i},m=function(e){return null===e||void 0===e?h:p(e)},g={some:p,none:f,from:m},v=function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},b=function(e){return function(t){return v(t)===e}},y=function(e){return function(t){return typeof t===e}},C=b("string"),w=b("object"),x=b("array"),I=y("boolean"),A=function(e){return null===e||void 0===e},k=function(e){return!A(e)},S=y("function"),_=y("number"),T=Array.prototype.slice,E=Array.prototype.indexOf,O=Array.prototype.push,R=function(e,t){return E.call(e,t)},N=function(e,t){return R(e,t)>-1},L=function(e,t){for(var n=0,r=e.length;n<r;n++){var i=e[n];if(t(i,n))return!0}return!1},D=function(e,t){for(var n=[],r=0;r<e;r++)n.push(t(r));return n},B=function(e,t){for(var n=e.length,r=new Array(n),i=0;i<n;i++){var o=e[i];r[i]=t(o,i)}return r},M=function(e,t){for(var n=0,r=e.length;n<r;n++){var i=e[n];t(i,n)}},P=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];t(r,n)}},F=function(e,t){for(var n=[],r=0,i=e.length;r<i;r++){var o=e[r];t(o,r)&&n.push(o)}return n},j=function(e,t,n){return P(e,(function(e){n=t(n,e)})),n},H=function(e,t,n){return M(e,(function(e){n=t(n,e)})),n},z=function(e,t,n){for(var r=0,i=e.length;r<i;r++){var o=e[r];if(t(o,r))return g.some(o);if(n(o,r))break}return g.none()},$=function(e,t){return z(e,t,u)},V=function(e,t){for(var n=0,r=e.length;n<r;n++){var i=e[n];if(t(i,n))return g.some(n)}return g.none()},W=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!x(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);O.apply(t,e[n])}return t},K=function(e,t){return W(B(e,t))},G=function(e,t){for(var n=0,r=e.length;n<r;++n){var i=e[n];if(!0!==t(i,n))return!1}return!0},Z=function(e){var t=T.call(e,0);return t.reverse(),t},U=function(e){return 0===e.length?g.none():g.some(e[0])},q=function(e){return 0===e.length?g.none():g.some(e[e.length-1])},X=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return g.none()},Y=Object.keys,J=Object.hasOwnProperty,Q=function(e,t){for(var n=Y(e),r=0,i=n.length;r<i;r++){var o=n[r],a=e[o];t(a,o)}},ee=function(e,t){return te(e,(function(e,n){return{k:n,v:t(e,n)}}))},te=function(e,t){var n={};return Q(e,(function(e,r){var i=t(e,r);n[i.k]=i.v})),n},ne=function(e){return function(t,n){e[n]=t}},re=function(e,t,n,r){var i={};return Q(e,(function(e,i){(t(e,i)?n:r)(e,i)})),i},ie=function(e,t){var r={};return re(e,t,ne(r),n),r},oe=function(e,t){return ae(e,t)?g.from(e[t]):g.none()},ae=function(e,t){return J.call(e,t)},se=("undefined"!==typeof e.window?e.window:Function("return this;")(),8),le=9,ce=11,ue=1,de=3,fe=function(e){var t=e.dom().nodeName;return t.toLowerCase()},he=function(e){return e.dom().nodeType},pe=function(e){return function(t){return he(t)===e}},me=function(e){return he(e)===se||"#comment"===fe(e)},ge=pe(ue),ve=pe(de),be=pe(le),ye=pe(ce),Ce=function(t,n,r){if(!(C(r)||I(r)||_(r)))throw e.console.error("Invalid call to Attr.set. Key ",n,":: Value ",r,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(n,r+"")},we=function(e,t,n){Ce(e.dom(),t,n)},xe=function(e,t){var n=e.dom();Q(t,(function(e,t){Ce(n,t,e)}))},Ie=function(e,t){var n=e.dom().getAttribute(t);return null===n?void 0:n},Ae=function(e,t){return g.from(Ie(e,t))},ke=function(e,t){var n=e.dom();return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},Se=function(e,t){e.dom().removeAttribute(t)},_e=function(e){return H(e.dom().attributes,(function(e,t){return e[t.name]=t.value,e}),{})},Te=function(e,t,n){return""===t||e.length>=t.length&&e.substr(n,n+t.length)===t},Ee=function(e,t){return-1!==e.indexOf(t)},Oe=function(e,t){return Te(e,t,0)},Re=function(e,t){return Te(e,t,e.length-t.length)},Ne=function(e){return function(t){return t.replace(e,"")}},Le=Ne(/^\s+|\s+$/g),De=function(e){return e.length>0},Be=function(e){return void 0!==e.style&&S(e.style.getPropertyValue)},Me=function(t,n){var r=n||e.document,i=r.createElement("div");if(i.innerHTML=t,!i.hasChildNodes()||i.childNodes.length>1)throw e.console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return je(i.childNodes[0])},Pe=function(t,n){var r=n||e.document,i=r.createElement(t);return je(i)},Fe=function(t,n){var r=n||e.document,i=r.createTextNode(t);return je(i)},je=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:o(e)}},He=function(e,t,n){var r=e.dom();return g.from(r.elementFromPoint(t,n)).map(je)},ze={fromHtml:Me,fromTag:Pe,fromText:Fe,fromDom:je,fromPoint:He},$e=function(e,t,n){return 0!==(e.compareDocumentPosition(t)&n)},Ve=function(t,n){return $e(t,n,e.Node.DOCUMENT_POSITION_CONTAINED_BY)},We=function(){return We=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},We.apply(this,arguments)},Ke=function(e){var t,n=!1;return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return n||(n=!0,t=e.apply(null,r)),t}},Ge=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}},Ze=function(e,t){var n=Ge(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return Xe(r(1),r(2))},Ue=function(e,t){var n=String(t).toLowerCase();return 0===e.length?qe():Ze(e,n)},qe=function(){return Xe(0,0)},Xe=function(e,t){return{major:e,minor:t}},Ye={nu:Xe,detect:Ue,unknown:qe},Je="Edge",Qe="Chrome",et="IE",tt="Opera",nt="Firefox",rt="Safari",it=function(){return ot({current:void 0,version:Ye.unknown()})},ot=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isEdge:r(Je),isChrome:r(Qe),isIE:r(et),isOpera:r(tt),isFirefox:r(nt),isSafari:r(rt)}},at={unknown:it,nu:ot,edge:o(Je),chrome:o(Qe),ie:o(et),opera:o(tt),firefox:o(nt),safari:o(rt)},st="Windows",lt="iOS",ct="Android",ut="Linux",dt="OSX",ft="Solaris",ht="FreeBSD",pt="ChromeOS",mt=function(){return gt({current:void 0,version:Ye.unknown()})},gt=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isWindows:r(st),isiOS:r(lt),isAndroid:r(ct),isOSX:r(dt),isLinux:r(ut),isSolaris:r(ft),isFreeBSD:r(ht),isChromeOS:r(pt)}},vt={unknown:mt,nu:gt,windows:o(st),ios:o(lt),android:o(ct),linux:o(ut),osx:o(dt),solaris:o(ft),freebsd:o(ht),chromeos:o(pt)},bt=function(e,t,n,r){var i=e.isiOS()&&!0===/ipad/i.test(n),a=e.isiOS()&&!i,s=e.isiOS()||e.isAndroid(),l=s||r("(pointer:coarse)"),c=i||!a&&s&&r("(min-device-width:768px)"),u=a||s&&!c,d=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),f=!u&&!c&&!d;return{isiPad:o(i),isiPhone:o(a),isTablet:o(c),isPhone:o(u),isTouch:o(l),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:o(d),isDesktop:o(f)}},yt=function(e,t){var n=String(t).toLowerCase();return $(e,(function(e){return e.search(n)}))},Ct=function(e,t){return yt(e,t).map((function(e){var n=Ye.detect(e.versionRegexes,t);return{current:e.name,version:n}}))},wt=function(e,t){return yt(e,t).map((function(e){var n=Ye.detect(e.versionRegexes,t);return{current:e.name,version:n}}))},xt={detectBrowser:Ct,detectOs:wt},It=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,At=function(e){return function(t){return Ee(t,e)}},kt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return Ee(e,"edge/")&&Ee(e,"chrome")&&Ee(e,"safari")&&Ee(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,It],search:function(e){return Ee(e,"chrome")&&!Ee(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return Ee(e,"msie")||Ee(e,"trident")}},{name:"Opera",versionRegexes:[It,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:At("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:At("firefox")},{name:"Safari",versionRegexes:[It,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(Ee(e,"safari")||Ee(e,"mobile/"))&&Ee(e,"applewebkit")}}],St=[{name:"Windows",search:At("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return Ee(e,"iphone")||Ee(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:At("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:At("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:At("linux"),versionRegexes:[]},{name:"Solaris",search:At("sunos"),versionRegexes:[]},{name:"FreeBSD",search:At("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:At("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],_t={browsers:o(kt),oses:o(St)},Tt=function(e,t){var n=_t.browsers(),r=_t.oses(),i=xt.detectBrowser(n,e).fold(at.unknown,at.nu),o=xt.detectOs(r,e).fold(vt.unknown,vt.nu),a=bt(o,i,e,t);return{browser:i,os:o,deviceType:a}},Et={detect:Tt},Ot=function(t){return e.window.matchMedia(t).matches},Rt=Ke((function(){return Et.detect(e.navigator.userAgent,Ot)})),Nt=function(){return Rt()},Lt=function(e,t){var n=e.dom();if(n.nodeType!==ue)return!1;var r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},Dt=function(e){return e.nodeType!==ue&&e.nodeType!==le&&e.nodeType!==ce||0===e.childElementCount},Bt=function(t,n){var r=void 0===n?e.document:n.dom();return Dt(r)?[]:B(r.querySelectorAll(t),ze.fromDom)},Mt=function(t,n){var r=void 0===n?e.document:n.dom();return Dt(r)?g.none():g.from(r.querySelector(t)).map(ze.fromDom)},Pt=function(e,t){return e.dom()===t.dom()},Ft=function(e,t){var n=e.dom(),r=t.dom();return n!==r&&n.contains(r)},jt=function(e,t){return Ve(e.dom(),t.dom())},Ht=function(e,t){return Nt().browser.isIE()?jt(e,t):Ft(e,t)},zt=Lt,$t=function(e){return ze.fromDom(e.dom().ownerDocument)},Vt=function(e){return be(e)?e:$t(e)},Wt=function(e){return ze.fromDom(e.dom().ownerDocument.defaultView)},Kt=function(e){return g.from(e.dom().parentNode).map(ze.fromDom)},Gt=function(e,t){var n=S(t)?t:u,r=e.dom(),i=[];while(null!==r.parentNode&&void 0!==r.parentNode){var o=r.parentNode,a=ze.fromDom(o);if(i.push(a),!0===n(a))break;r=o}return i},Zt=function(e){return g.from(e.dom().offsetParent).map(ze.fromDom)},Ut=function(e){return g.from(e.dom().previousSibling).map(ze.fromDom)},qt=function(e){return g.from(e.dom().nextSibling).map(ze.fromDom)},Xt=function(e){return B(e.dom().childNodes,ze.fromDom)},Yt=function(e,t){var n=e.dom().childNodes;return g.from(n[t]).map(ze.fromDom)},Jt=function(e){return Yt(e,0)},Qt=function(e){return ye(e)},en=S(e.Element.prototype.attachShadow)&&S(e.Node.prototype.getRootNode),tn=o(en),nn=en?function(e){return ze.fromDom(e.dom().getRootNode())}:Vt,rn=function(e){var t=nn(e);return Qt(t)?g.some(t):g.none()},on=function(e){return ze.fromDom(e.dom().host)},an=function(e){if(tn()&&k(e.target)){var t=ze.fromDom(e.target);if(ge(t)&&sn(ze.fromDom(e.target))){var n=e;if(n.composed&&n.composedPath){var r=n.composedPath();if(r)return U(r)}}}return g.from(e.target)},sn=function(e){return k(e.dom().shadowRoot)},ln=function(e){var t=ve(e)?e.dom().parentNode:e.dom();return void 0!==t&&null!==t&&null!==t.ownerDocument&&rn(ze.fromDom(t)).fold((function(){return t.ownerDocument.body.contains(t)}),i(ln,on))},cn=function(){return un(ze.fromDom(e.document))},un=function(e){var t=e.dom().body;if(null===t||void 0===t)throw new Error("Body is not available yet");return ze.fromDom(t)},dn=function(t,n,r){if(!C(r))throw e.console.error("Invalid call to CSS.set. Property ",n,":: Value ",r,":: Element ",t),new Error("CSS value must be a string: "+r);Be(t)&&t.style.setProperty(n,r)},fn=function(e,t){Be(e)&&e.style.removeProperty(t)},hn=function(e,t,n){var r=e.dom();dn(r,t,n)},pn=function(e,t){var n=e.dom();Q(t,(function(e,t){dn(n,t,e)}))},mn=function(t,n){var r=t.dom(),i=e.window.getComputedStyle(r),o=i.getPropertyValue(n);return""!==o||ln(t)?o:gn(r,n)},gn=function(e,t){return Be(e)?e.style.getPropertyValue(t):""},vn=function(e,t){var n=e.dom(),r=gn(n,t);return g.from(r).filter((function(e){return e.length>0}))},bn=function(e,t){var n=e.dom();fn(n,t),Ae(e,"style").map(Le).is("")&&Se(e,"style")},yn=function(e,t){var n=e.dom(),r=t.dom();Be(n)&&Be(r)&&(r.style.cssText=n.style.cssText)},Cn=function(e,t){var n=Kt(e);n.each((function(n){n.dom().insertBefore(t.dom(),e.dom())}))},wn=function(e,t){var n=qt(e);n.fold((function(){var n=Kt(e);n.each((function(e){In(e,t)}))}),(function(e){Cn(e,t)}))},xn=function(e,t){var n=Jt(e);n.fold((function(){In(e,t)}),(function(n){e.dom().insertBefore(t.dom(),n.dom())}))},In=function(e,t){e.dom().appendChild(t.dom())},An=function(e,t){Cn(e,t),In(t,e)},kn=function(e,t){M(t,(function(t){Cn(e,t)}))},Sn=function(e,t){M(t,(function(n,r){var i=0===r?e:t[r-1];wn(i,n)}))},_n=function(e,t){M(t,(function(t){In(e,t)}))},Tn=function(e){e.dom().textContent="",M(Xt(e),(function(e){En(e)}))},En=function(e){var t=e.dom();null!==t.parentNode&&t.parentNode.removeChild(t)},On=function(e){var t=Xt(e);t.length>0&&kn(e,t),En(e)},Rn=function(e,t){return{rows:o(e),columns:o(t)}},Nn=function(e,t){return{row:o(e),column:o(t)}},Ln=function(e,t,n){return{element:o(e),rowspan:o(t),colspan:o(n)}},Dn=function(e,t,n,r){return{element:o(e),rowspan:o(t),colspan:o(n),isNew:o(r)}},Bn=function(e,t,n,r,i){return{element:o(e),rowspan:o(t),colspan:o(n),row:o(r),column:o(i)}},Mn=function(e,t,n){return{element:o(e),cells:o(t),section:o(n)}},Pn=function(e,t){return{element:o(e),isNew:o(t)}},Fn=function(e,t,n,r){return{element:o(e),cells:o(t),section:o(n),isNew:o(r)}},jn=function(e,t){return{cells:o(e),section:o(t)}},Hn=function(e,t){return{details:o(e),section:o(t)}},zn=function(e,t,n,r){return{startRow:o(e),startCol:o(t),finishRow:o(n),finishCol:o(r)}},$n=function(e,t,n){return F(Gt(e,n),t)},Vn=function(e,t){return F(Xt(e),t)},Wn=function(e,t){var n=[];return M(Xt(e),(function(e){t(e)&&(n=n.concat([e])),n=n.concat(Wn(e,t))})),n},Kn=function(e,t,n){return $n(e,(function(e){return Lt(e,t)}),n)},Gn=function(e,t){return Vn(e,(function(e){return Lt(e,t)}))},Zn=function(e,t){return Bt(t,e)};function Un(e,t,n,r,i){return e(n,r)?g.some(n):S(i)&&i(n)?g.none():t(n,r,i)}var qn=function(e,t,n){var r=e.dom(),i=S(n)?n:o(!1);while(r.parentNode){r=r.parentNode;var a=ze.fromDom(r);if(t(a))return g.some(a);if(i(a))break}return g.none()},Xn=function(e,t,n){var r=function(e,t){return t(e)};return Un(r,qn,e,t,n)},Yn=function(e,t){var n=function(e){return t(ze.fromDom(e))},r=$(e.dom().childNodes,n);return r.map(ze.fromDom)},Jn=function(e,t){var n=function(e){for(var r=0;r<e.childNodes.length;r++){var i=ze.fromDom(e.childNodes[r]);if(t(i))return g.some(i);var o=n(e.childNodes[r]);if(o.isSome())return o}return g.none()};return n(e.dom())},Qn=function(e,t,n){return qn(e,(function(e){return Lt(e,t)}),n)},er=function(e,t){return Yn(e,(function(e){return Lt(e,t)}))},tr=function(e,t){return Mt(t,e)},nr=function(e,t,n){var r=function(e,t){return Lt(e,t)};return Un(r,Qn,e,t,n)},rr=function(e,t,n){return void 0===n&&(n=0),Ae(e,t).map((function(e){return parseInt(e,10)})).getOr(n)},ir=function(e,t){return rr(e,t,1)},or=function(e){return ir(e,"colspan")>1},ar=function(e){return ir(e,"rowspan")>1},sr=function(e,t){return parseInt(mn(e,t),10)},lr=o(10),cr=o(10),ur=function(e,t){return dr(e,t,o(!0))},dr=function(e,t,n){return K(Xt(e),(function(e){return Lt(e,t)?n(e)?[e]:[]:dr(e,t,n)}))},fr=function(e,t,n){if(void 0===n&&(n=u),n(t))return g.none();if(N(e,fe(t)))return g.some(t);var r=function(e){return Lt(e,"table")||n(e)};return Qn(t,e.join(","),r)},hr=function(e,t){return fr(["td","th"],e,t)},pr=function(e){return ur(e,"th,td")},mr=function(e,t){return nr(e,"table",t)},gr=function(e){return ur(e,"tr")},vr=function(e){var t=gr(e);return B(t,(function(e){var t=e,n=Kt(t),r=n.map((function(e){var t=fe(e);return"tfoot"===t||"thead"===t||"tbody"===t?t:"tbody"})).getOr("tbody"),i=B(pr(e),(function(e){var t=rr(e,"rowspan",1),n=rr(e,"colspan",1);return Ln(e,t,n)}));return Mn(t,i,r)}))},br=function(e,t){return B(e,(function(e){var n=B(pr(e),(function(e){var t=rr(e,"rowspan",1),n=rr(e,"colspan",1);return Ln(e,t,n)}));return Mn(e,n,t.section())}))},yr=function(e,t){return e+","+t},Cr=function(e,t,n){var r=e.access[yr(t,n)];return void 0!==r?g.some(r):g.none()},wr=function(e,t,n){var r=xr(e,(function(e){return n(t,e.element())}));return r.length>0?g.some(r[0]):g.none()},xr=function(e,t){var n=K(e.all,(function(e){return e.cells()}));return F(n,t)},Ir=function(e){var t={},n=[],r=e.length,i=0;M(e,(function(e,r){var o=[];M(e.cells(),(function(e){var n=0;while(void 0!==t[yr(r,n)])n++;for(var a=Bn(e.element(),e.rowspan(),e.colspan(),r,n),s=0;s<e.colspan();s++)for(var l=0;l<e.rowspan();l++){var c=r+l,u=n+s,d=yr(c,u);t[d]=a,i=Math.max(i,u+1)}o.push(a)})),n.push(Mn(e.element(),o,e.section()))}));var o=Rn(r,i);return{grid:o,access:t,all:n}},Ar=function(e){var t=vr(e);return Ir(t)},kr=function(e){var t=B(e.all,(function(e){return e.cells()}));return W(t)},Sr={fromTable:Ar,generate:Ir,getAt:Cr,findItem:wr,filterItems:xr,justCells:kr},_r=function(e,t,n,r){return{minRow:e,minCol:t,maxRow:n,maxCol:r}},Tr=function(e,t){var n=e.grid.columns(),r=e.grid.rows(),i=r,o=n,a=0,s=0;return Q(e.access,(function(e){if(t(e)){var n=e.row(),r=n+e.rowspan()-1,l=e.column(),c=l+e.colspan()-1;n<i?i=n:r>a&&(a=r),l<o?o=l:c>s&&(s=c)}})),_r(i,o,a,s)},Er=function(e,t,n){var r=e[n].element(),i=ze.fromTag("td");In(i,ze.fromTag("br"));var o=t?In:xn;o(r,i)},Or=function(e,t,n,r){for(var i=t.grid.columns(),o=t.grid.rows(),a=0;a<o;a++)for(var s=!1,l=0;l<i;l++)if(!(a<n.minRow||a>n.maxRow||l<n.minCol||l>n.maxCol)){var c=Sr.getAt(t,a,l).filter(r).isNone();c?Er(e,s,a):s=!0}},Rr=function(e,t){var n=F(ur(e,"tr"),(function(e){return 0===e.dom().childElementCount}));M(n,En),t.minCol!==t.maxCol&&t.minRow!==t.maxRow||M(ur(e,"th,td"),(function(e){Se(e,"rowspan"),Se(e,"colspan")})),Se(e,"width"),Se(e,"height"),bn(e,"width"),bn(e,"height")},Nr=function(e,t){var n=function(e){return Lt(e.element(),t)},r=vr(e),i=Sr.generate(r),o=Tr(i,n),a="th:not("+t+"),td:not("+t+")",s=dr(e,"th,td",(function(e){return Lt(e,a)}));return M(s,En),Or(r,i,o,n),Rr(e,o),e},Lr=" ";function Dr(e,t){var n=function(n){if(!e(n))throw new Error("Can only get "+t+" value of a "+t+" node");return r(n).getOr("")},r=function(t){return e(t)?g.from(t.dom().nodeValue):g.none()},i=function(n,r){if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom().nodeValue=r};return{get:n,getOption:r,set:i}}var Br=Dr(ve,"text"),Mr=function(e){return Br.get(e)},Pr=function(e){return Br.getOption(e)},Fr=function(e,t){return Br.set(e,t)},jr=function(e){return"img"===fe(e)?1:Pr(e).fold((function(){return Xt(e).length}),(function(e){return e.length}))},Hr=function(e){return Pr(e).filter((function(e){return 0!==e.trim().length||e.indexOf(Lr)>-1})).isSome()},zr=["img","br"],$r=function(e){var t=Hr(e);return t||N(zr,fe(e))},Vr=function(e){return Jn(e,$r)},Wr=function(e){return Kr(e,$r)},Kr=function(e,t){var n=function(e){for(var r=Xt(e),i=r.length-1;i>=0;i--){var o=r[i];if(t(o))return g.some(o);var a=n(o);if(a.isSome())return a}return g.none()};return n(e)},Gr=function(e,t){return ze.fromDom(e.dom().cloneNode(t))},Zr=function(e){return Gr(e,!1)},Ur=function(e){return Gr(e,!0)},qr=function(e,t){var n=ze.fromTag(t),r=_e(e);return xe(n,r),n},Xr=function(e,t){var n=qr(e,t),r=Xt(Ur(e));return _n(n,r),n},Yr=function(){var e=ze.fromTag("td");return In(e,ze.fromTag("br")),e},Jr=function(e,t,n){var r=Xr(e,t);return Q(n,(function(e,t){null===e?Se(r,t):we(r,t,e)})),r},Qr=function(e){return e},ei=function(e){return function(){return ze.fromTag("tr",e.dom())}},ti=function(e,t,n){var r=Vr(e);return r.map((function(r){var i=n.join(","),o=Kn(r,i,(function(t){return Pt(t,e)}));return j(o,(function(e,t){var n=Zr(t);return Se(n,"contenteditable"),In(e,n),n}),t)})).getOr(t)},ni=function(e,t,n){var r=function(t){var r=$t(t.element()),i=ze.fromTag(fe(t.element()),r.dom()),o=n.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),a=o.length>0?ti(t.element(),i,o):i;return In(a,ze.fromTag("br")),yn(t.element(),i),bn(i,"height"),1!==t.colspan()&&bn(t.element(),"width"),e(t.element(),i),i};return{row:ei(t),cell:r,replace:Jr,gap:Yr}},ri=function(e){return{row:ei(e),cell:Yr,replace:Qr,gap:Yr}},ii=function(t,n){var r=n||e.document,i=r.createElement("div");return i.innerHTML=t,Xt(ze.fromDom(i))},oi=function(e){return B(e,ze.fromDom)},ai=function(e,t){var n=t.column(),r=t.column()+t.colspan()-1,i=t.row(),o=t.row()+t.rowspan()-1;return n<=e.finishCol()&&r>=e.startCol()&&i<=e.finishRow()&&o>=e.startRow()},si=function(e,t){return t.column()>=e.startCol()&&t.column()+t.colspan()-1<=e.finishCol()&&t.row()>=e.startRow()&&t.row()+t.rowspan()-1<=e.finishRow()},li=function(e,t){for(var n=!0,r=s(si,t),i=t.startRow();i<=t.finishRow();i++)for(var o=t.startCol();o<=t.finishCol();o++)n=n&&Sr.getAt(e,i,o).exists(r);return n?g.some(t):g.none()},ci=function(e,t){return zn(Math.min(e.row(),t.row()),Math.min(e.column(),t.column()),Math.max(e.row()+e.rowspan()-1,t.row()+t.rowspan()-1),Math.max(e.column()+e.colspan()-1,t.column()+t.colspan()-1))},ui=function(e,t,n){var r=Sr.findItem(e,t,Pt),i=Sr.findItem(e,n,Pt);return r.bind((function(e){return i.map((function(t){return ci(e,t)}))}))},di=function(e,t,n){return ui(e,t,n).bind((function(t){return li(e,t)}))},fi=function(e,t,n,r){return Sr.findItem(e,t,Pt).bind((function(t){var i=n>0?t.row()+t.rowspan()-1:t.row(),o=r>0?t.column()+t.colspan()-1:t.column(),a=Sr.getAt(e,i+n,o+r);return a.map((function(e){return e.element()}))}))},hi=function(e,t,n){return ui(e,t,n).map((function(t){var n=Sr.filterItems(e,s(ai,t));return B(n,(function(e){return e.element()}))}))},pi=function(e,t){var n=function(e,t){return Ht(t,e)};return Sr.findItem(e,t,n).map((function(e){return e.element()}))},mi=function(e,t,n){return mr(e).bind((function(r){var i=yi(r);return fi(i,e,t,n)}))},gi=function(e,t,n){var r=yi(e);return hi(r,t,n)},vi=function(e,t,n,r,i){var o=yi(e),a=Pt(e,n)?g.some(t):pi(o,t),s=Pt(e,i)?g.some(r):pi(o,r);return a.bind((function(e){return s.bind((function(t){return hi(o,e,t)}))}))},bi=function(e,t,n){var r=yi(e);return di(r,t,n)},yi=Sr.fromTable,Ci=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];function wi(){var e=function(e){return ze.fromDom(e.dom().cloneNode(!1))},t=function(e){return e.dom().ownerDocument},n=function(e){return!!ge(e)&&("body"===fe(e)||N(Ci,fe(e)))},r=function(e){return!!ge(e)&&N(["br","img","hr","input"],fe(e))},i=function(e){return ge(e)&&"false"===Ie(e,"contenteditable")},a=function(e,t){return e.dom().compareDocumentPosition(t.dom())},s=function(e,t){var n=_e(e);xe(t,n)};return{up:o({selector:Qn,closest:nr,predicate:qn,all:Gt}),down:o({selector:Zn,predicate:Wn}),styles:o({get:mn,getRaw:vn,set:hn,remove:bn}),attrs:o({get:Ie,set:we,remove:Se,copyTo:s}),insert:o({before:Cn,after:wn,afterAll:Sn,append:In,appendAll:_n,prepend:xn,wrap:An}),remove:o({unwrap:On,remove:En}),create:o({nu:ze.fromTag,clone:e,text:ze.fromText}),query:o({comparePosition:a,prevSibling:Ut,nextSibling:qt}),property:o({children:Xt,name:fe,parent:Kt,document:t,isText:ve,isComment:me,isElement:ge,getText:Mr,setText:Fr,isBoundary:n,isEmptyTag:r,isNonEditable:i}),eq:Pt,is:zt}}var xi=function(e,t,n,r){var i=n[0],o=n.slice(1);return r(e,t,i,o)},Ii=function(e,t,n){return n.length>0?xi(e,t,n,Ai):g.none()},Ai=function(e,t,n,r){var i=t(e,n);return j(r,(function(n,r){var i=t(e,r);return ki(e,n,i)}),i)},ki=function(e,t,n){return t.bind((function(t){return n.filter(s(e.eq,t))}))},Si=function(e,t){return s(e.eq,t)},_i=function(e,t,n,r){void 0===r&&(r=u);var i=[t].concat(e.up().all(t)),a=[n].concat(e.up().all(n)),s=function(e){var t=V(e,r);return t.fold((function(){return e}),(function(t){return e.slice(0,t+1)}))},l=s(i),c=s(a),d=$(l,(function(t){return L(c,Si(e,t))}));return{firstpath:o(l),secondpath:o(c),shared:o(d)}},Ti=Ii,Ei=_i,Oi=wi(),Ri=function(e,t){return Ti(Oi,(function(t,n){return e(n)}),t)},Ni=function(e,t,n){return Ei(Oi,e,t,n)},Li=function(e){return Qn(e,"table")},Di=function(e,t,n){var r=function(e){return function(t){return void 0!==n&&n(t)||Pt(t,e)}};return Pt(e,t)?g.some({boxes:g.some([e]),start:e,finish:t}):Li(e).bind((function(i){return Li(t).bind((function(o){if(Pt(i,o))return g.some({boxes:gi(i,e,t),start:e,finish:t});if(Ht(i,o)){var a=Kn(t,"td,th",r(i)),s=a.length>0?a[a.length-1]:t;return g.some({boxes:vi(i,e,i,t,o),start:e,finish:s})}if(Ht(o,i)){a=Kn(e,"td,th",r(o));var l=a.length>0?a[a.length-1]:e;return g.some({boxes:vi(o,e,i,t,o),start:e,finish:l})}return Ni(e,t).shared().bind((function(a){return nr(a,"table",n).bind((function(n){var a=Kn(t,"td,th",r(n)),s=a.length>0?a[a.length-1]:t,l=Kn(e,"td,th",r(n)),c=l.length>0?l[l.length-1]:e;return g.some({boxes:vi(n,e,i,t,o),start:c,finish:s})}))}))}))}))},Bi=function(e,t){var n=Zn(e,t);return n.length>0?g.some(n):g.none()},Mi=function(e,t){return $(e,(function(e){return Lt(e,t)}))},Pi=function(e,t,n){return tr(e,t).bind((function(t){return tr(e,n).bind((function(e){return Ri(Li,[t,e]).map((function(n){return{first:o(t),last:o(e),table:o(n)}}))}))}))},Fi=function(e,t){return Qn(e,"table").bind((function(n){return tr(n,t).bind((function(t){return Di(t,e).bind((function(e){return e.boxes.map((function(t){return{boxes:t,start:e.start,finish:e.finish}}))}))}))}))},ji=function(e,t,n,r,i){return Mi(e,i).bind((function(e){return mi(e,t,n).bind((function(e){return Fi(e,r)}))}))},Hi=function(e,t){return Bi(e,t)},zi=function(e,t,n){return Pi(e,t,n).bind((function(t){var n=function(t){return Pt(e,t)},r=Qn(t.first(),"thead,tfoot,tbody,table",n),i=Qn(t.last(),"thead,tfoot,tbody,table",n);return r.bind((function(e){return i.bind((function(n){return Pt(e,n)?bi(t.table(),t.first(),t.last()):g.none()}))}))}))},$i="data-mce-selected",Vi="td["+$i+"],th["+$i+"]",Wi="["+$i+"]",Ki="data-mce-first-selected",Gi="td["+Ki+"],th["+Ki+"]",Zi="data-mce-last-selected",Ui="td["+Zi+"],th["+Zi+"]",qi=$i,Xi=Vi,Yi=Wi,Ji=Ki,Qi=Gi,eo=Zi,to=Ui,no=Object.freeze({__proto__:null,selected:qi,selectedSelector:Xi,attributeSelector:Yi,firstSelected:Ji,firstSelectedSelector:Qi,lastSelected:eo,lastSelectedSelector:to}),ro=function(t){if(!x(t))throw new Error("cases must be an array");if(0===t.length)throw new Error("there must be at least one case");var n=[],r={};return M(t,(function(i,o){var a=Y(i);if(1!==a.length)throw new Error("one and only one name per case");var s=a[0],l=i[s];if(void 0!==r[s])throw new Error("duplicate key detected:"+s);if("cata"===s)throw new Error("cannot have a case named cata (sorry)");if(!x(l))throw new Error("case arguments must be an array");n.push(s),r[s]=function(){var r=arguments.length;if(r!==l.length)throw new Error("Wrong number of arguments to case "+s+". Expected "+l.length+" ("+l+"), got "+r);for(var i=new Array(r),a=0;a<i.length;a++)i[a]=arguments[a];var c=function(e){var t=Y(e);if(n.length!==t.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+"\nActual: "+t.join(","));var r=G(n,(function(e){return N(t,e)}));if(!r)throw new Error("Not all branches were specified when using match. Specified: "+t.join(", ")+"\nRequired: "+n.join(", "));return e[s].apply(null,i)};return{fold:function(){if(arguments.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+arguments.length);var e=arguments[o];return e.apply(null,i)},match:c,log:function(t){e.console.log(t,{constructors:n,constructor:s,params:i})}}}})),r},io={generate:ro},oo=io.generate([{none:[]},{multiple:["elements"]},{single:["selection"]}]),ao=function(e,t,n,r){return e.fold(t,n,r)},so=oo.none,lo=oo.multiple,co=oo.single,uo=function(e,t){return ao(t.get(),o([]),a,o([e]))},fo=function(e,t){var n=function(e){return ke(e,"rowspan")&&parseInt(Ie(e,"rowspan"),10)>1||ke(e,"colspan")&&parseInt(Ie(e,"colspan"),10)>1},r=uo(e,t);return r.length>0&&G(r,n)?g.some(r):g.none()},ho=function(e,t){return ao(t.get(),g.none,(function(t,n){return 0===t.length?g.none():zi(e,Qi,to).bind((function(e){return t.length>1?g.some({bounds:o(e),cells:o(t)}):g.none()}))}),g.none)},po=function(e){return{element:o(e),mergable:g.none,unmergable:g.none,selection:o([e])}},mo=function(e,t,n){return{element:o(n),mergable:o(ho(t,e)),unmergable:o(fo(n,e)),selection:o(uo(n,e))}},go=function(e,t,n){return{element:o(e),clipboard:o(t),generators:o(n)}},vo=function(e,t,n,r){return{selection:o(uo(t,e)),clipboard:o(n),generators:o(r)}},bo=function(e){return mr(e[0]).map(Ur).map((function(e){return[Nr(e,Yi)]}))},yo=function(e,t){return B(t,(function(t){return e.selection.serializer.serialize(t.dom(),{})})).join("")},Co=function(e){return B(e,(function(e){return e.dom().innerText})).join("")},wo=function(e,t,r,i){e.on("BeforeGetContent",(function(r){var i=function(t){r.preventDefault(),bo(t).each((function(t){r.content="text"===r.format?Co(t):yo(e,t)}))};!0===r.selection&&ao(t.get(),n,i,n)})),e.on("BeforeSetContent",(function(t){if(!0===t.selection&&!0===t.paste){var n=g.from(e.dom.getParent(e.selection.getStart(),"th,td"));n.each((function(n){var o=ze.fromDom(n);mr(o).each((function(n){var a=F(ii(t.content),(function(e){return"meta"!==fe(e)})),s=function(e){return"table"===fe(e)};if(1===a.length&&s(a[0])){t.preventDefault();var l=ze.fromDom(e.getDoc()),c=ri(l),u=go(o,a[0],c);r.pasteCells(n,u).each((function(t){e.selection.setRng(t),e.focus(),i.clear(n)}))}}))}))}}))},xo=function(e,t){var n=function(n,r){return xo(e+n,t+r)};return{left:o(e),top:o(t),translate:n}},Io=xo,Ao=function(e){var t=e.getBoundingClientRect();return Io(t.left,t.top)},ko=function(e,t){return void 0!==e?e:void 0!==t?t:0},So=function(e){var t=e.dom().ownerDocument,n=t.body,r=t.defaultView,i=t.documentElement;if(n===e.dom())return Io(n.offsetLeft,n.offsetTop);var o=ko(r.pageYOffset,i.scrollTop),a=ko(r.pageXOffset,i.scrollLeft),s=ko(i.clientTop,n.clientTop),l=ko(i.clientLeft,n.clientLeft);return _o(e).translate(a-l,o-s)},_o=function(e){var t=e.dom(),n=t.ownerDocument,r=n.body;return r===t?Io(r.offsetLeft,r.offsetTop):ln(e)?Ao(t):Io(0,0)},To=function(e){var t=g.from(e.dom().documentElement).map(ze.fromDom).getOr(e);return{parent:o(t),view:o(e),origin:o(Io(0,0))}},Eo=function(e,t){var n=function(){return So(t)};return{parent:o(t),view:o(e),origin:n}},Oo=function(e,t){return{parent:o(t),view:o(e),origin:o(Io(0,0))}},Ro={only:To,detached:Eo,body:Oo};function No(e,t){var n=function(t,n){if(!_(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);var r=t.dom();Be(r)&&(r.style[e]=n+"px")},r=function(n){var r=t(n);if(r<=0||null===r){var i=mn(n,e);return parseFloat(i)||0}return r},i=r,o=function(e,t){return H(t,(function(t,n){var r=mn(e,n),i=void 0===r?0:parseInt(r,10);return isNaN(i)?t:t+i}),0)},a=function(e,t,n){var r=o(e,n),i=t>r?t-r:0;return i};return{set:n,get:r,getOuter:i,aggregate:o,max:a}}var Lo=No("height",(function(e){var t=e.dom();return ln(e)?t.getBoundingClientRect().height:t.offsetHeight})),Do=function(e){return Lo.get(e)},Bo=function(e){return Lo.getOuter(e)},Mo=No("width",(function(e){return e.dom().offsetWidth})),Po=function(e){return Mo.get(e)},Fo=function(e){return Mo.getOuter(e)},jo=function(e,t){return{row:e,y:t}},Ho=function(e,t){return{col:e,x:t}},zo=function(e){var t=So(e);return t.left()+Fo(e)},$o=function(e){return So(e).left()},Vo=function(e,t){return Ho(e,$o(t))},Wo=function(e,t){return Ho(e,zo(t))},Ko=function(e){return So(e).top()},Go=function(e,t){return jo(e,Ko(t))},Zo=function(e,t){return jo(e,Ko(t)+Bo(t))},Uo=function(e,t,n){if(0===n.length)return[];var r=B(n.slice(1),(function(t,n){return t.map((function(t){return e(n,t)}))})),i=n[n.length-1].map((function(e){return t(n.length-1,e)}));return r.concat([i])},qo=function(e){return-e},Xo={delta:a,positions:function(e){return Uo(Go,Zo,e)},edge:Ko},Yo={delta:a,edge:$o,positions:function(e){return Uo(Vo,Wo,e)}},Jo={delta:qo,edge:zo,positions:function(e){return Uo(Wo,Vo,e)}},Qo=function(e){var t=e.grid,n=D(t.columns(),a),r=D(t.rows(),a);return B(n,(function(t){var n=function(){return K(r,(function(n){return Sr.getAt(e,n,t).filter((function(e){return e.column()===t})).fold(o([]),(function(e){return[e]}))}))},i=function(e){return 1===e.colspan()},a=function(){return Sr.getAt(e,0,t)};return ea(n,i,a)}))},ea=function(e,t,n){var r=e(),i=$(r,t),o=i.orThunk((function(){return g.from(r[0]).orThunk(n)}));return o.map((function(e){return e.element()}))},ta=function(e){var t=e.grid,n=D(t.rows(),a),r=D(t.columns(),a);return B(n,(function(t){var n=function(){return K(r,(function(n){return Sr.getAt(e,t,n).filter((function(e){return e.row()===t})).fold(o([]),(function(e){return[e]}))}))},i=function(e){return 1===e.rowspan()},a=function(){return Sr.getAt(e,t,0)};return ea(n,i,a)}))},na=function(e,t){if(t<0||t>=e.length-1)return g.none();var n=e[t].fold((function(){var n=Z(e.slice(0,t));return X(n,(function(e,t){return e.map((function(e){return{value:e,delta:t+1}}))}))}),(function(e){return g.some({value:e,delta:0})})),r=e[t+1].fold((function(){var n=e.slice(t+1);return X(n,(function(e,t){return e.map((function(e){return{value:e,delta:t+1}}))}))}),(function(e){return g.some({value:e,delta:1})}));return n.bind((function(e){return r.map((function(t){var n=t.delta+e.delta;return Math.abs(t.value-e.value)/n}))}))},ra=function(){var e=Nt().browser;return e.isIE()||e.isEdge()},ia=function(e,t){var n=parseFloat(e);return isNaN(n)?t:n},oa=function(e,t,n){return ia(mn(e,t),n)},aa=function(e){var t=e.dom().getBoundingClientRect().height,n=mn(e,"box-sizing");if("border-box"===n)return t;var r=oa(e,"padding-top",0),i=oa(e,"padding-bottom",0),o=oa(e,"border-top-width",0),a=oa(e,"border-bottom-width",0),s=o+a;return t-r-i-s},sa=function(e){var t=e.dom().getBoundingClientRect().width,n=mn(e,"box-sizing");if("border-box"===n)return t;var r=oa(e,"padding-left",0),i=oa(e,"padding-right",0),o=oa(e,"border-left-width",0),a=oa(e,"border-right-width",0),s=o+a;return t-r-i-s},la=function(e){return ra()?aa(e):oa(e,"height",Do(e))},ca=function(e){return ra()?sa(e):oa(e,"width",Po(e))},ua=/(\d+(\.\d+)?)(\w|%)*/,da=/(\d+(\.\d+)?)%/,fa=/(\d+(\.\d+)?)px|em/,ha=function(e,t){var n=Zt(e).getOr(un($t(e)));return t(e)/t(n)*100},pa=function(e,t){hn(e,"width",t+"px")},ma=function(e,t){hn(e,"width",t+"%")},ga=function(e,t){hn(e,"height",t+"px")},va=function(e){return vn(e,"height").getOrThunk((function(){return la(e)+"px"}))},ba=function(e,t,n,r){var i=mr(e).map((function(e){var r=n(e);return Math.floor(t/100*r)})).getOr(t);return r(e,i),i},ya=function(e,t,n,r){var i=parseInt(e,10);return Re(e,"%")&&"table"!==fe(t)?ba(t,i,n,r):i},Ca=function(e){var t=va(e);return t?ya(t,e,Do,ga):Do(e)},wa=function(e,t,n){var r=n(e),i=ir(e,t);return r/i},xa=function(e){var t=vn(e,"width");return t.fold((function(){return g.from(Ie(e,"width"))}),(function(e){return g.some(e)}))},Ia=function(e,t){return e/t.pixelWidth()*100},Aa=function(e,t,n){var r=da.exec(t);if(null!==r)return parseFloat(r[1]);var i=ca(e);return Ia(i,n)},ka=function(e,t){var n=xa(e);return n.fold((function(){var n=Po(e);return Ia(n,t)}),(function(n){return Aa(e,n,t)}))},Sa=function(e,t){return e/100*t.pixelWidth()},_a=function(e,t,n){var r=fa.exec(t);if(null!==r)return parseInt(r[1],10);var i=da.exec(t);if(null!==i){var o=parseFloat(i[1]);return Sa(o,n)}return ca(e)},Ta=function(e,t){var n=xa(e);return n.fold((function(){return ca(e)}),(function(n){return _a(e,n,t)}))},Ea=function(e){return wa(e,"rowspan",Ca)},Oa=function(e){var t=xa(e);return t.bind((function(e){var t=ua.exec(e);return null!==t?g.some({width:o(parseFloat(t[1])),unit:o(t[3])}):g.none()}))},Ra=function(e,t,n){hn(e,"width",t+n)},Na=function(e){return Po(e)+"px"},La=function(e){return ha(e,Po)+"%"},Da=function(e){return xa(e).exists((function(e){return da.test(e)}))},Ba=function(e){return xa(e).exists((function(e){return fa.test(e)}))},Ma=function(e){return xa(e).isNone()},Pa=o(da),Fa=o(fa),ja=function(e,t,n){return vn(e,t).fold((function(){return n(e)+"px"}),(function(e){return e}))},Ha=function(e,t){return ja(e,"width",(function(e){return Ta(e,t)}))},za=function(e){return ja(e,"height",Ea)},$a=function(e,t,n,r,i){var o=Qo(e),a=B(o,(function(e){return e.map(t.edge)}));return B(o,(function(e,t){var o=e.filter(l(or));return o.fold((function(){var e=na(a,t);return r(e)}),(function(e){return n(e,i)}))}))},Va=function(e){return e.map((function(e){return e+"px"})).getOr("")},Wa=function(e,t,n){return $a(e,t,Ha,Va,n)},Ka=function(e,t,n){return $a(e,t,ka,(function(e){return e.fold((function(){return n.minCellWidth()}),(function(e){return e/n.pixelWidth()*100}))}),n)},Ga=function(e,t,n){return $a(e,t,Ta,(function(e){return e.getOrThunk(n.minCellWidth)}),n)},Za=function(e,t,n,r){var i=ta(e),o=B(i,(function(e){return e.map(t.edge)}));return B(i,(function(e,t){var i=e.filter(l(ar));return i.fold((function(){var e=na(o,t);return r(e)}),(function(e){return n(e)}))}))},Ua=function(e,t){return Za(e,t,Ea,(function(e){return e.getOrThunk(cr)}))},qa=function(e,t){return Za(e,t,za,Va)},Xa=io.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),Ya=function(e,t,n){var r=n.substring(0,n.length-e.length),i=parseFloat(r);return r===i.toString()?t(i):Xa.invalid(n)},Ja=function(e){return Re(e,"%")?Ya("%",Xa.percent,e):Re(e,"px")?Ya("px",Xa.pixels,e):Xa.invalid(e)},Qa=We(We({},Xa),{from:Ja}),es=function(e,t){return B(e,(function(e){var n=Qa.from(e);return n.fold((function(){return e}),(function(e){var n=e/t*100;return n+"%"}),(function(e){return e+"%"}))}))},ts=function(e,t,n){var r=n/t;return B(e,(function(e){var t=Qa.from(e);return t.fold((function(){return e}),(function(e){return e*r+"px"}),(function(e){return e/100*n+"px"}))}))},ns=function(e,t){var n=e.fold((function(){return o("")}),(function(e){var n=e/t;return o(n+"px")}),(function(e){var n=e/t;return o(n+"px")}));return D(t,n)},rs=function(e,t,n){return e.fold((function(){return t}),(function(e){return ts(t,n,e)}),(function(e){return es(t,n)}))},is=function(e,t,n){var r=Qa.from(n),i=G(e,(function(e){return"0px"===e}))?ns(r,e.length):rs(r,e,t);return ls(i)},os=function(e,t){return 0===e.length?t:j(e,(function(e,t){return Qa.from(t).fold(o(0),a,a)+e}),0)},as=function(e,t){var n=Math.floor(e);return{value:n+t,remainder:e-n}},ss=function(e,t){return Qa.from(e).fold(o(e),(function(e){return e+t+"px"}),(function(e){return e+t+"%"}))},ls=function(e){if(0===e.length)return e;var t=j(e,(function(e,t){var n=Qa.from(t).fold((function(){return{value:t,remainder:0}}),(function(e){return as(e,"px")}),(function(e){return{value:e+"%",remainder:0}}));return{output:[n.value].concat(e.output),remainder:e.remainder+n.remainder}}),{output:[],remainder:0}),n=t.output;return n.slice(0,n.length-1).concat([ss(n[n.length-1],Math.round(t.remainder))])},cs=Qa.from,us=function(e,t,n){M(t,(function(t){var r=e.slice(t.column(),t.colspan()+t.column()),i=os(r,lr());hn(t.element(),"width",i+n)}))},ds=function(e,t,n,r){M(n,(function(t){var n=e.slice(t.row(),t.rowspan()+t.row()),i=os(n,cr());hn(t.element(),"height",i+r)})),M(t,(function(t,n){hn(t.element(),"height",e[n])}))},fs=function(e){return cs(e).fold(o("px"),o("px"),o("%"))},hs=function(e,t,n,r,i){var o=Sr.fromTable(e),a=o.all,s=Sr.justCells(o);t.each((function(t){var n=fs(t),a=Po(e),l=Wa(o,r,i),c=is(l,a,t);us(c,s,n),hn(e,"width",t)})),n.each((function(t){var n=fs(t),r=Do(e),i=qa(o,Xo),l=is(i,r,t);ds(l,a,s,n),hn(e,"height",t)}))},ps=Da,ms=Ba,gs=Ma,vs=La,bs={ltr:Yo,rtl:Jo},ys=function(e){var t=function(t){return e(t).isRtl()?bs.rtl:bs.ltr},n=function(e,n){return t(n).delta(e,n)},r=function(e,n){return t(n).positions(e,n)},i=function(e){return t(e).edge(e)};return{delta:n,edge:i,positions:r}},Cs=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(e.length!==t.length)throw new Error('Wrong number of arguments to struct. Expected "['+e.length+']", got '+t.length+" arguments");var r={};return M(e,(function(e,n){r[e]=o(t[n])})),r}},ws=function(e){var t=Cs.apply(null,e),n=[],r=function(e){if(void 0===e)throw new Error("Event bind error: undefined handler");n.push(e)},i=function(e){n=F(n,(function(t){return t!==e}))},o=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i=t.apply(null,e);M(n,(function(e){e(i)}))};return{bind:r,unbind:i,trigger:o}},xs=function(e){var t=ee(e,(function(e){return{bind:e.bind,unbind:e.unbind}})),n=ee(e,(function(e){return e.trigger}));return{registry:t,trigger:n}},Is=io.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]),As=We({},Is),ks=function(e,t){return 0===e.length?As.none():1===e.length?As.only(0):0===t?As.left(0,1):t===e.length-1?As.right(t-1,t):t>0&&t<e.length-1?As.middle(t-1,t,t+1):As.none()},Ss=function(e,t,n,r){var i=e.slice(0),a=ks(e,t),s=function(e){return B(e,o(0))},l=o(s(i)),c=function(e){return r.singleColumnWidth(i[e],n)},u=function(e,t){if(n>=0){var o=Math.max(r.minCellWidth(),i[t]-n);return s(i.slice(0,e)).concat([n,o-i[t]]).concat(s(i.slice(t+1)))}var a=Math.max(r.minCellWidth(),i[e]+n),l=i[e]-a;return s(i.slice(0,e)).concat([a-i[e],l]).concat(s(i.slice(t+1)))},d=u,f=function(e,t,n){return u(t,n)},h=function(e,t){if(n>=0)return s(i.slice(0,t)).concat([n]);var o=Math.max(r.minCellWidth(),i[t]+n);return s(i.slice(0,t)).concat([o-i[t]])};return a.fold(l,c,d,f,h)},_s=function(e,t,n){for(var r=0,i=e;i<t;i++)r+=void 0!==n[i]?n[i]:0;return r},Ts=function(e,t){var n=Sr.justCells(e);return B(n,(function(e){var n=_s(e.column(),e.column()+e.colspan(),t);return{element:e.element(),width:n,colspan:e.colspan()}}))},Es=function(e,t){var n=Sr.justCells(e);return B(n,(function(e){var n=_s(e.row(),e.row()+e.rowspan(),t);return{element:e.element,height:o(n),rowspan:e.rowspan}}))},Os=function(e,t){return B(e.all,(function(e,n){return{element:e.element,height:o(t[n])}}))},Rs=function(e){return j(e,(function(e,t){return e+t}),0)},Ns=function(e,t,n,r,i){var o=i.getCellDelta(t),a=Sr.fromTable(e),s=i.getWidths(a,r,i),l=Ss(s,n,o,i),c=B(l,(function(e,t){return e+s[t]})),u=Ts(a,c);M(u,(function(e){i.setElementWidth(e.element,e.width)})),n===a.grid.columns()-1&&i.adjustTableWidth(o)},Ls=function(e,t,n,r){var i=Sr.fromTable(e),o=Ua(i,r),a=B(o,(function(e,r){return n===r?Math.max(t+e,cr()):e})),s=Es(i,a),l=Os(i,a);M(l,(function(e){ga(e.element(),e.height())})),M(s,(function(e){ga(e.element(),e.height())}));var c=Rs(a);ga(e,c)},Ds=function(e,t,n,r){var i=Sr.generate(t),o=r.getWidths(i,n,r),a=Ts(i,o);M(a,(function(e){r.setElementWidth(e.element,e.width)}))},Bs=function(e,t,n,r,i,a,s){return{target:o(e),x:o(t),y:o(n),stop:r,prevent:i,kill:a,raw:o(s)}},Ms=function(e){var t=ze.fromDom(an(e).getOr(e.target)),n=function(){return e.stopPropagation()},i=function(){return e.preventDefault()},o=r(i,n);return Bs(t,e.clientX,e.clientY,n,i,o,e)},Ps=function(e,t){return function(n){e(n)&&t(Ms(n))}},Fs=function(e,t,n,r,i){var o=Ps(n,r);return e.dom().addEventListener(t,o,i),{unbind:s(Hs,e,t,o,i)}},js=function(e,t,n,r){return Fs(e,t,n,r,!1)},Hs=function(e,t,n,r){e.dom().removeEventListener(t,n,r)},zs=o(!0),$s=function(e,t,n){return js(e,t,zs,n)},Vs=Ms,Ws=function(e,t){var n=Ie(e,t);return void 0===n||""===n?[]:n.split(" ")},Ks=function(e,t,n){var r=Ws(e,t),i=r.concat([n]);return we(e,t,i.join(" ")),!0},Gs=function(e,t,n){var r=F(Ws(e,t),(function(e){return e!==n}));return r.length>0?we(e,t,r.join(" ")):Se(e,t),!1},Zs=function(e){return void 0!==e.dom().classList},Us=function(e){return Ws(e,"class")},qs=function(e,t){return Ks(e,"class",t)},Xs=function(e,t){return Gs(e,"class",t)},Ys=function(e,t){Zs(e)?e.dom().classList.add(t):qs(e,t)},Js=function(e){var t=Zs(e)?e.dom().classList:Us(e);0===t.length&&Se(e,"class")},Qs=function(e,t){if(Zs(e)){var n=e.dom().classList;n.remove(t)}else Xs(e,t);Js(e)},el=function(e,t){return Zs(e)&&e.dom().classList.contains(t)},tl=function(e){var t=e.replace(/\./g,"-"),n=function(e){return t+"-"+e};return{resolve:n}},nl=tl("ephox-dragster"),rl=nl.resolve,il=function(e){var t=We({layerClass:rl("blocker")},e),n=ze.fromTag("div");we(n,"role","presentation"),pn(n,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Ys(n,rl("blocker")),Ys(n,t.layerClass);var r=function(){return n},i=function(){En(n)};return{element:r,destroy:i}},ol=function(e){return e.slice(0).sort()},al=function(e,t){throw new Error("All required keys ("+ol(e).join(", ")+") were not specified. Specified keys were: "+ol(t).join(", ")+".")},sl=function(e){throw new Error("Unsupported keys for object: "+ol(e).join(", "))},ll=function(e,t){if(!x(t))throw new Error("The "+e+" fields must be an array. Was: "+t+".");M(t,(function(t){if(!C(t))throw new Error("The value "+t+" in the "+e+" fields was not a string.")}))},cl=function(e,t){throw new Error("All values need to be of type: "+t+". Keys ("+ol(e).join(", ")+") were not.")},ul=function(e){var t=ol(e),n=$(t,(function(e,n){return n<t.length-1&&e===t[n+1]}));n.each((function(e){throw new Error("The field: "+e+" occurs more than once in the combined fields: ["+t.join(", ")+"].")}))},dl=function(e,t){return fl(e,t,{validate:S,label:"function"})},fl=function(e,t,n){if(0===t.length)throw new Error("You must specify at least one required field.");return ll("required",t),ul(t),function(r){var i=Y(r),o=G(t,(function(e){return N(i,e)}));o||al(t,i),e(t,i);var a=F(t,(function(e){return!n.validate(r[e],e)}));return a.length>0&&cl(a,n.label),r}},hl=function(e,t){var n=F(t,(function(t){return!N(e,t)}));n.length>0&&sl(n)},pl=function(e){return dl(hl,e)},ml=pl(["compare","extract","mutate","sink"]),gl=pl(["element","start","stop","destroy"]),vl=pl(["forceDrop","drop","move","delayDrop"]),bl=function(e,t){return Io(t.left()-e.left(),t.top()-e.top())},yl=function(e){return g.some(Io(e.x(),e.y()))},Cl=function(e,t){e.mutate(t.left(),t.top())},wl=function(e,t){var n=il(t),r=$s(n.element(),"mousedown",e.forceDrop),i=$s(n.element(),"mouseup",e.drop),o=$s(n.element(),"mousemove",e.move),a=$s(n.element(),"mouseout",e.delayDrop),s=function(){n.destroy(),i.unbind(),o.unbind(),a.unbind(),r.unbind()},l=function(e){In(e,n.element())},c=function(){En(n.element())};return gl({element:n.element,start:l,stop:c,destroy:s})},xl=ml({compare:bl,extract:yl,sink:wl,mutate:Cl}),Il=function(t,n){var r=null,i=function(){null!==r&&(e.clearTimeout(r),r=null)},o=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];null!==r&&e.clearTimeout(r),r=e.setTimeout((function(){t.apply(null,i),r=null}),n)};return{cancel:i,throttle:o}};function Al(){var e=g.none(),t=function(){e=g.none()},n=function(t,n){var r=e.map((function(e){return t.compare(e,n)}));return e=g.some(n),r},r=function(e,t){var r=t.extract(e);r.each((function(e){var r=n(t,e);r.each((function(e){i.trigger.move(e)}))}))},i=xs({move:ws(["info"])});return{onEvent:r,reset:t,events:i.registry}}function kl(){return{onEvent:n,reset:n}}function Sl(){var e=kl(),t=Al(),n=e,r=function(){n.reset(),n=t},i=function(){n.reset(),n=e},o=function(e,t){n.onEvent(e,t)},a=function(){return n===t};return{on:r,off:i,isOn:a,onEvent:o,events:t.events}}var _l=function(e,t,n){var r=!1,i=xs({start:ws([]),stop:ws([])}),o=Sl(),a=function(){h.stop(),o.isOn()&&(o.off(),i.trigger.stop())},s=Il(a,200),l=function(e){h.start(e),o.on(),i.trigger.start()},c=function(e){s.cancel(),o.onEvent(e,t)};o.events.move.bind((function(n){t.mutate(e,n.info())}));var u=function(){r=!0},d=function(){r=!1},f=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];r&&e.apply(null,t)}},h=t.sink(vl({forceDrop:a,drop:f(a),move:f(c),delayDrop:f(s.throttle)}),n),p=function(){h.destroy()};return{element:h.element,go:l,on:u,off:d,destroy:p,events:i.registry}},Tl=function(e,t){void 0===t&&(t={});var n=void 0!==t.mode?t.mode:xl;return _l(e,n,t)},El=function(e){return"true"===Ie(e,"contenteditable")},Ol=function(e,t){return nr(e,"[contenteditable]",t)},Rl=tl("ephox-snooker"),Nl=Rl.resolve,Ll=function(){var e=xs({drag:ws(["xDelta","yDelta"])}),t=function(t,n){e.trigger.drag(t,n)};return{mutate:t,events:e.registry}},Dl=function(){var e=xs({drag:ws(["xDelta","yDelta","target"])}),t=g.none(),n=Ll();n.events.drag.bind((function(n){t.each((function(t){e.trigger.drag(n.xDelta(),n.yDelta(),t)}))}));var r=function(e){t=g.some(e)},i=function(){return t};return{assign:r,get:i,mutate:n.mutate,events:e.registry}},Bl=function(e,t,n,r,i){var o=ze.fromTag("div");return pn(o,{position:"absolute",left:t-r/2+"px",top:n+"px",height:i+"px",width:r+"px"}),xe(o,{"data-column":e,role:"presentation"}),o},Ml=function(e,t,n,r,i){var o=ze.fromTag("div");return pn(o,{position:"absolute",left:t+"px",top:n-i/2+"px",height:i+"px",width:r+"px"}),xe(o,{"data-row":e,role:"presentation"}),o},Pl=Nl("resizer-bar"),Fl=Nl("resizer-rows"),jl=Nl("resizer-cols"),Hl=7,zl=function(e){var t=Zn(e.parent(),"."+Pl);M(t,En)},$l=function(e,t,n){var r=e.origin();M(t,(function(t){t.each((function(t){var i=n(r,t);Ys(i,Pl),In(e.parent(),i)}))}))},Vl=function(e,t,n,r){$l(e,t,(function(e,t){var i=Bl(t.col,t.x-e.left(),n.top()-e.top(),Hl,r);return Ys(i,jl),i}))},Wl=function(e,t,n,r){$l(e,t,(function(e,t){var i=Ml(t.row,n.left()-e.left(),t.y-e.top(),r,Hl);return Ys(i,Fl),i}))},Kl=function(e,t,n,r,i,o){var a=So(t),s=n.length>0?i.positions(n,t):[];Wl(e,s,a,Fo(t));var l=r.length>0?o.positions(r,t):[];Vl(e,l,a,Bo(t))},Gl=function(e,t,n,r){zl(e);var i=Sr.fromTable(t),o=ta(i),a=Qo(i);Kl(e,t,o,a,n,r)},Zl=function(e,t){var n=Zn(e.parent(),"."+Pl);M(n,t)},Ul=function(e){Zl(e,(function(e){hn(e,"display","none")}))},ql=function(e){Zl(e,(function(e){hn(e,"display","block")}))},Xl=function(e){return el(e,Fl)},Yl=function(e){return el(e,jl)},Jl=Nl("resizer-bar-dragging"),Ql=function(e,t,n){var r=Dl(),i=Tl(r,{}),o=g.none(),a=function(e,t){return g.from(Ie(e,t))};r.events.drag.bind((function(e){a(e.target(),"data-row").each((function(t){var n=sr(e.target(),"top");hn(e.target(),"top",n+e.yDelta()+"px")})),a(e.target(),"data-column").each((function(t){var n=sr(e.target(),"left");hn(e.target(),"left",n+e.xDelta()+"px")}))}));var l=function(e,t){var n=sr(e,t),r=rr(e,"data-initial-"+t,0);return n-r};i.events.stop.bind((function(){r.get().each((function(r){o.each((function(i){a(r,"data-row").each((function(e){var t=l(r,"top");Se(r,"data-initial-top"),v.trigger.adjustHeight(i,t,parseInt(e,10))})),a(r,"data-column").each((function(e){var t=l(r,"left");Se(r,"data-initial-left"),v.trigger.adjustWidth(i,t,parseInt(e,10))})),Gl(e,i,n,t)}))}))}));var c=function(t,n){v.trigger.startAdjust(),r.assign(t),we(t,"data-initial-"+n,sr(t,n)),Ys(t,Jl),hn(t,"opacity","0.2"),i.go(e.parent())},u=$s(e.parent(),"mousedown",(function(e){Xl(e.target())&&c(e.target(),"top"),Yl(e.target())&&c(e.target(),"left")})),d=function(t){return Pt(t,e.view())},f=function(e){return nr(e,"table",d).filter((function(e){return Ol(e,d).exists(El)}))},h=$s(e.view(),"mouseover",(function(r){f(r.target()).fold((function(){ln(r.target())&&zl(e)}),(function(r){o=g.some(r),Gl(e,r,n,t)}))})),p=function(){u.unbind(),h.unbind(),i.destroy(),zl(e)},m=function(r){Gl(e,r,n,t)},v=xs({adjustHeight:ws(["table","delta","row"]),adjustWidth:ws(["table","delta","column"]),startAdjust:ws([])});return{destroy:p,refresh:m,on:i.on,off:i.off,hideBars:s(Ul,e),showBars:s(ql,e),events:v.registry}},ec=function(e,t,n){var r=Xo,i=Ql(e,t,r),o=xs({beforeResize:ws(["table"]),afterResize:ws(["table"]),startDrag:ws([])});return i.events.adjustHeight.bind((function(e){var t=e.table();o.trigger.beforeResize(t);var n=r.delta(e.delta(),t);Ls(t,n,e.row(),r),o.trigger.afterResize(t)})),i.events.startAdjust.bind((function(e){o.trigger.startDrag()})),i.events.adjustWidth.bind((function(e){var r=e.table();o.trigger.beforeResize(r);var i=t.delta(e.delta(),r),a=n(r);Ns(r,i,e.column(),t,a),o.trigger.afterResize(r)})),{on:i.on,off:i.off,hideBars:i.hideBars,showBars:i.showBars,destroy:i.destroy,events:o.registry}},tc={create:ec},nc=function(e,t){return e.fire("newrow",{node:t})},rc=function(e,t){return e.fire("newcell",{node:t})},ic=function(e,t,n,r){e.fire("ObjectResizeStart",{target:t,width:n,height:r})},oc=function(e,t,n,r){e.fire("ObjectResized",{target:t,width:n,height:r})},ac=function(e,t,n,r,i){e.fire("TableSelectionChange",{cells:t,start:n,finish:r,otherCells:i})},sc=function(e){e.fire("TableSelectionClear")},lc="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",cc={"border-collapse":"collapse",width:"100%"},uc=function(e){if(Tc(e)){var t=e.getBody().offsetWidth;return We(We({},cc),{width:t+"px"})}return Ec(e)?ie(cc,(function(e,t){return"width"!==t})):cc},dc={border:"1"},fc=function(e){return e.getParam("table_sizing_mode","auto")},hc=function(e){return e.getParam("table_responsive_width")},pc=function(e){return e.getParam("table_default_attributes",dc,"object")},mc=function(e){return e.getParam("table_default_styles",uc(e),"object")},gc=function(e){return e.getParam("table_resize_bars",!0,"boolean")},vc=function(e){return e.getParam("table_tab_navigation",!0,"boolean")},bc=function(e){return e.getParam("table_cell_advtab",!0,"boolean")},yc=function(e){return e.getParam("table_row_advtab",!0,"boolean")},Cc=function(e){return e.getParam("table_advtab",!0,"boolean")},wc=function(e){return e.getParam("table_appearance_options",!0,"boolean")},xc=function(e){return e.getParam("table_grid",!0,"boolean")},Ic=function(e){return e.getParam("table_style_by_css",!1,"boolean")},Ac=function(e){return e.getParam("table_cell_class_list",[],"array")},kc=function(e){return e.getParam("table_row_class_list",[],"array")},Sc=function(e){return e.getParam("table_class_list",[],"array")},_c=function(e){return"relative"===fc(e)||!0===hc(e)},Tc=function(e){return"fixed"===fc(e)||!1===hc(e)},Ec=function(e){return"responsive"===fc(e)},Oc=function(e){return e.getParam("table_toolbar",lc)},Rc=function(e){var t="section",n=e.getParam("table_header_type",t,"string"),r=["section","cells","sectionCells","auto"];return N(r,n)?n:t},Nc=function(e){var t=e.getParam("table_clone_elements");return C(t)?g.some(t.split(/[ ,]/)):Array.isArray(t)?g.some(t):g.none()},Lc=function(e){var t=e.getParam("object_resizing",!0);return C(t)?"table"===t:t},Dc=function(e){return e.nodeName.toLowerCase()},Bc=function(e){return ze.fromDom(e.getBody())},Mc=function(e){return e.getBoundingClientRect().width},Pc=function(e){return e.getBoundingClientRect().height},Fc=function(e){return function(t){return Pt(t,Bc(e))}},jc=function(e){return e?e.replace(/px$/,""):""},Hc=function(e){return/^\d+(\.\d+)?$/.test(e)?e+"px":e},zc=function(e){Se(e,"data-mce-style"),M(pr(e),(function(e){return Se(e,"data-mce-style")}))},$c=function(e,t){var n=e.dom.getStyle(t,"width")||e.dom.getAttrib(t,"width");return g.from(n).filter(De)},Vc=function(e){return/^(\d+(\.\d+)?)%$/.test(e)},Wc=function(e){return"rtl"===mn(e,"direction")?"rtl":"ltr"},Kc={isRtl:o(!1)},Gc={isRtl:o(!0)},Zc=function(e){var t=Wc(e);return"rtl"===t?Gc:Kc},Uc=function(e){var t=e,n=function(){return t},r=function(e){t=e};return{get:n,set:r}},qc=function(e){var t=function(){return Po(e)},r=o(0);return{width:t,pixelWidth:t,getWidths:Ga,getCellDelta:r,singleColumnWidth:o([0]),minCellWidth:r,setElementWidth:n,adjustTableWidth:n,label:"none"}},Xc=function(e,t){var n=Uc(parseFloat(e)),r=Uc(Po(t)),i=function(e){return e/r.get()*100},o=function(e,t){return[100-e]},a=function(){return lr()/r.get()*100},s=function(e){var i=n.get(),o=e/100*i,a=i+o;ma(t,a),n.set(a),r.set(Po(t))};return{width:n.get,pixelWidth:r.get,getWidths:Ka,getCellDelta:i,singleColumnWidth:o,minCellWidth:a,setElementWidth:ma,adjustTableWidth:s,label:"percent"}},Yc=function(e,t){var n=Uc(e),r=n.get,i=a,o=function(e,t){var n=Math.max(lr(),e+t);return[n-e]},s=function(e){var i=r()+e;pa(t,i),n.set(i)};return{width:r,pixelWidth:r,getWidths:Ga,getCellDelta:i,singleColumnWidth:o,minCellWidth:lr,setElementWidth:pa,adjustTableWidth:s,label:"pixel"}},Jc=function(e,t){var n=Pa().exec(t);if(null!==n)return Xc(n[1],e);var r=Fa().exec(t);if(null!==r){var i=parseInt(r[1],10);return Yc(i,e)}var o=Po(e);return Yc(o,e)},Qc=function(e){var t=xa(e);return t.fold((function(){return qc(e)}),(function(t){return Jc(e,t)}))},eu={getTableSize:Qc,pixelSize:Yc,percentageSize:Xc,noneSize:qc},tu=function(e,t){if(_c(e)){var n=$c(e,t.dom()).filter(Vc).getOrThunk((function(){return vs(t)}));return eu.percentageSize(n,t)}return Tc(e)?eu.pixelSize(Po(t),t):eu.getTableSize(t)},nu=function(e){Se(e,"width")},ru=function(e,t,n){var r=La(e);hs(e,g.some(r),g.none(),t,n),nu(e)},iu=function(e,t,n){var r=Na(e);hs(e,g.some(r),g.none(),t,n),nu(e)},ou=function(e){bn(e,"width"),M(pr(e),(function(e){bn(e,"width"),nu(e)})),nu(e)},au=function(e,t){var n=ys(Zc),r=tu(e,t);ru(t,n,r)},su=function(e,t){var n=ys(Zc),r=tu(e,t);iu(t,n,r)},lu=ou,cu=function(e){M(pr(e),(function(e){var t=mn(e,"width");hn(e,"width",t),Se(e,"width")}))},uu=function(){var e=ze.fromTag("div");return pn(e,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),In(cn(),e),e},du=function(e,t){return e.inline?Ro.body(Bc(e),uu()):Ro.only(ze.fromDom(e.getDoc()))},fu=function(e,t){e.inline&&En(t.parent())},hu=function(e){var t,n,r=g.none(),i=g.none(),o=g.none(),a=function(e){return"TABLE"===e.nodeName},s=function(){return i},l=function(){return o.getOr(Ro.only(ze.fromDom(e.getBody())))},c=function(){i.each((function(e){e.destroy()})),o.each((function(t){fu(e,t)}))};return e.on("init",(function(){var t=ys(Zc),n=du(e);if(o=g.some(n),Lc(e)&&gc(e)){var a=function(t){return tu(e,t)},s=tc.create(n,t,a);s.on(),s.events.startDrag.bind((function(t){r=g.some(e.selection.getRng())})),s.events.beforeResize.bind((function(t){var n=t.table().dom();ic(e,n,Mc(n),Pc(n))})),s.events.afterResize.bind((function(t){var n=t.table(),i=n.dom();zc(n),r.each((function(t){e.selection.setRng(t),e.focus()})),oc(e,i,Mc(i),Pc(i)),e.undoManager.add()})),i=g.some(s)}})),e.on("ObjectResizeStart",(function(r){var i=r.target;if(a(i)){var o=ze.fromDom(i);!ms(o)&&Tc(e)?su(e,o):!ps(o)&&_c(e)&&au(e,o),t=r.width,n=$c(e,i).getOr("")}})),e.on("ObjectResized",(function(r){var i=r.target;if(a(i)){var o=ze.fromDom(i);if(""===n||!Vc(n)&&Ec(e))au(e,o);else if(Vc(n)){var s=parseFloat(n.replace("%","")),l=r.width*s/t;hn(o,"width",l+"%")}else cu(o);zc(o)}})),e.on("SwitchMode",(function(){s().each((function(t){e.mode.isReadOnly()?t.hideBars():t.showBars()}))})),{lazyResize:s,lazyWire:l,destroy:c}},pu=function(e,t){return{element:o(e),offset:o(t)}},mu=function(e,t,n){return e.property().isText(t)&&0===e.property().getText(t).trim().length||e.property().isComment(t)?n(t).bind((function(t){return mu(e,t,n).orThunk((function(){return g.some(t)}))})):g.none()},gu=function(e,t){if(e.property().isText(t))return e.property().getText(t).length;var n=e.property().children(t);return n.length},vu=function(e,t){var n=mu(e,t,e.query().prevSibling).getOr(t);if(e.property().isText(n))return pu(n,gu(e,n));var r=e.property().children(n);return r.length>0?vu(e,r[r.length-1]):pu(n,gu(e,n))},bu=vu,yu=wi(),Cu=function(e){return bu(yu,e)},wu=function(e,t){var n=Oa(e);n.each((function(n){var r=n.width()/2;Ra(e,r,n.unit()),Ra(t,r,n.unit())}))},xu=function(e){var t=Sr.fromTable(e);return t.grid},Iu=function(e){for(var t=[],n=function(e){t.push(e)},r=0;r<e.length;r++)e[r].each(n);return t},Au=function(e,t,n){return e.isSome()&&t.isSome()?g.some(n(e.getOrDie(),t.getOrDie())):g.none()},ku=function(e,t,n,r){n===r?Se(e,t):we(e,t,n)},Su=function(e,t){var n=[],r=[],i=q(Gn(e,"caption,colgroup")).fold((function(){return s(xn,e)}),(function(e){return s(wn,e)})),o=function(t,o){var a=er(e,o).getOrThunk((function(){var t=ze.fromTag(o,$t(e).dom());return"thead"===o?i(t):In(e,t),t}));Tn(a);var s=B(t,(function(e){e.isNew()&&n.push(e.element());var t=e.element();return Tn(t),M(e.cells(),(function(e){e.isNew()&&r.push(e.element()),ku(e.element(),"colspan",e.colspan(),1),ku(e.element(),"rowspan",e.rowspan(),1),In(t,e.element())})),t}));_n(a,s)},a=function(t){er(e,t).each(En)},l=function(e,t){e.length>0?o(e,t):a(t)},c=[],u=[],d=[];return M(t,(function(e){switch(e.section()){case"thead":c.push(e);break;case"tbody":u.push(e);break;case"tfoot":d.push(e);break}})),l(c,"thead"),l(u,"tbody"),l(d,"tfoot"),{newRows:n,newCells:r}},_u=function(e){return B(e,(function(e){var t=Zr(e.element());return M(e.cells(),(function(e){var n=Ur(e.element());ku(n,"colspan",e.colspan(),1),ku(n,"rowspan",e.rowspan(),1),In(t,n)})),t}))},Tu=function(e,t,n){var r=e.cells(),i=r.slice(0,t),o=r.slice(t),a=i.concat([n]).concat(o);return Ou(e,a)},Eu=function(e,t,n){var r=e.cells();r[t]=n},Ou=function(e,t){return jn(t,e.section())},Ru=function(e,t){var n=e.cells(),r=B(n,t);return jn(r,e.section())},Nu=function(e,t){return e.cells()[t]},Lu=function(e,t){return Nu(e,t).element()},Du=function(e){return e.cells().length},Bu=function(e,t){return B(e,(function(e){return Nu(e,t)}))},Mu=function(e,t){return e[t]},Pu=function(e,t){if(0===e.length)return 0;var n=e[0],r=V(e,(function(e){return!t(n.element(),e.element())}));return r.fold((function(){return e.length}),(function(e){return e}))},Fu=function(e,t,n,r){var i=Mu(e,t).cells().slice(n),o=Pu(i,r),a=Bu(e,n).slice(t),s=Pu(a,r);return{colspan:o,rowspan:s}},ju=function(e,t){var n=B(e,(function(e){return B(e.cells(),(function(){return!1}))})),r=function(e,t,r,i){for(var o=e;o<e+r;o++)for(var a=t;a<t+i;a++)n[o][a]=!0};return B(e,(function(i,o){var a=K(i.cells(),(function(i,a){if(!1===n[o][a]){var s=Fu(e,o,a,t);return r(o,a,s.rowspan,s.colspan),[Dn(i.element(),s.rowspan,s.colspan,i.isNew())]}return[]}));return Hn(a,i.section())}))},Hu=function(e,t,n){for(var r=[],i=0;i<e.grid.rows();i++){for(var o=[],a=0;a<e.grid.columns();a++){var s=Sr.getAt(e,i,a).map((function(e){return Pn(e.element(),n)})).getOrThunk((function(){return Pn(t.gap(),!0)}));o.push(s)}var l=jn(o,e.all[i].section());r.push(l)}return r},zu=function(e,t){return Hu(e,t,!1)},$u=function(e,t){var n=function(e){var n=X(e,(function(e){return Kt(e.element()).map((function(e){var t=Kt(e).isNone();return Pn(e,t)}))}));return n.getOrThunk((function(){return Pn(t.row(),!0)}))};return B(e,(function(e){var t=n(e.details());return Fn(t.element(),e.details(),e.section(),t.isNew())}))},Vu=function(e,t){var n=ju(e,Pt);return $u(n,t)},Wu=function(e,t){return X(e.all,(function(e){return $(e.cells(),(function(e){return Pt(t,e.element())}))}))},Ku=function(e,t,n,r,i){return function(a,s,l,c,u,d){var f=Sr.fromTable(s),h=t(f,l).map((function(t){var n=zu(f,c),r=e(n,t,Pt,i(c)),a=Vu(r.grid(),c);return{grid:o(a),cursor:r.cursor}}));return h.fold((function(){return g.none()}),(function(e){var t=Su(s,e.grid()),i=g.from(d).getOrThunk((function(){return eu.getTableSize(s)}));return n(s,e.grid(),u,i),r(s),Gl(a,s,Xo,u),g.some({cursor:e.cursor,newRows:o(t.newRows),newCells:o(t.newCells)})}))}},Gu=function(e,t){return hr(t.element()).bind((function(t){return Wu(e,t)}))},Zu=function(e,t){return hr(t.element()).bind((function(n){return Wu(e,n).map((function(e){var n=We(We({},e),{generators:t.generators,clipboard:t.clipboard});return n}))}))},Uu=function(e,t){var n=B(t.selection(),(function(t){return hr(t).bind((function(t){return Wu(e,t)}))})),r=Iu(n);return r.length>0?g.some({cells:r,generators:t.generators,clipboard:t.clipboard}):g.none()},qu=function(e,t){return t.mergable()},Xu=function(e,t){return t.unmergable()},Yu=function(e,t){var n=B(t.selection(),(function(t){return hr(t).bind((function(t){return Wu(e,t)}))})),r=Iu(n);return r.length>0?g.some(r):g.none()},Ju=function(e,t,n,r){if(0===e.length)return e;for(var i=t.startRow();i<=t.finishRow();i++)for(var o=t.startCol();o<=t.finishCol();o++)Eu(e[i],o,Pn(r(),!1));return e},Qu=function(e,t,n,r){for(var i=!0,o=0;o<e.length;o++)for(var a=0;a<Du(e[0]);a++){var s=Lu(e[o],a),l=n(s,t);!0===l&&!1===i?Eu(e[o],a,Pn(r(),!0)):!0===l&&(i=!1)}return e},ed=function(e,t){return H(e,(function(e,n){return L(e,(function(e){return t(e.element(),n.element())}))?e:e.concat([n])}),[])},td=function(e,t,n,r){return t>0&&t<e[0].cells().length&&M(e,(function(e){var i=e.cells()[t-1],o=e.cells()[t],a=n(o.element(),i.element());a&&Eu(e,t,Pn(r(),!0))})),e},nd=function(e,t,n,r){if(t>0&&t<e.length){var i=e[t-1].cells(),o=ed(i,n);M(o,(function(i){for(var o=g.none(),a=function(t){for(var a=function(a){var s=e[t].cells()[a],l=n(s.element(),i.element());l&&(o.isNone()&&(o=g.some(r())),o.each((function(n){Eu(e[t],a,Pn(n,!0))})))},s=0;s<Du(e[0]);s++)a(s)},s=t;s<e.length;s++)a(s)}))}return e},rd=function(e){var t=function(t){return e===t},n=function(t){return rd(e)},r=function(t){return rd(e)},i=function(t){return rd(t(e))},a=function(t){return rd(e)},s=function(t){t(e)},l=function(t){return t(e)},c=function(t,n){return n(e)},f=function(t){return t(e)},h=function(t){return t(e)},p=function(){return g.some(e)};return{is:t,isValue:d,isError:u,getOr:o(e),getOrThunk:o(e),getOrDie:o(e),or:n,orThunk:r,fold:c,map:i,mapError:a,each:s,bind:l,exists:f,forall:h,toOption:p}},id=function(e){var t=function(e){return e()},r=function(){return c(String(e))()},i=function(e){return e},o=function(e){return e()},s=function(t){return id(e)},l=function(t){return id(t(e))},f=function(t){return id(e)},h=function(t,n){return t(e)};return{is:u,isValue:u,isError:d,getOr:a,getOrThunk:t,getOrDie:r,or:i,orThunk:o,fold:h,map:s,mapError:l,each:n,bind:f,exists:u,forall:d,toOption:g.none}},od=function(e,t){return e.fold((function(){return id(t)}),rd)},ad={value:rd,error:id,fromOption:od},sd=function(e,t,n){if(e.row()>=t.length||e.column()>Du(t[0]))return ad.error("invalid start address out of table bounds, row: "+e.row()+", column: "+e.column());var r=t.slice(e.row()),i=r[0].cells().slice(e.column()),o=Du(n[0]),a=n.length;return ad.value({rowDelta:r.length-a,colDelta:i.length-o})},ld=function(e,t){var n=Du(e[0]),r=Du(t[0]);return{rowDelta:0,colDelta:n-r}},cd=function(e,t){var n=e.length,r=t.length;return{rowDelta:n-r,colDelta:0}},ud=function(e,t){return B(e,(function(){return Pn(t.cell(),!0)}))},dd=function(e,t,n){return e.concat(D(t,(function(){return Ou(e[e.length-1],ud(e[e.length-1].cells(),n))})))},fd=function(e,t,n){return B(e,(function(e){return Ou(e,e.cells().concat(ud(D(t,a),n)))}))},hd=function(e,t,n){var r=t.colDelta<0?fd:a,i=t.rowDelta<0?dd:a,o=r(e,Math.abs(t.colDelta),n);return i(o,Math.abs(t.rowDelta),n)},pd=function(e,t,n,r){var i=Nu(e[t],n),o=s(r,i.element()),a=e[t];return e.length>1&&Du(a)>1&&(n>0&&o(Lu(a,n-1))||n<a.cells().length-1&&o(Lu(a,n+1))||t>0&&o(Lu(e[t-1],n))||t<e.length-1&&o(Lu(e[t+1],n)))},md=function(e,t,n,r,i){for(var o=e.row(),a=e.column(),s=n.length,l=Du(n[0]),c=o+s,u=a+l,d=o;d<c;d++)for(var f=a;f<u;f++){pd(t,d,f,i)&&Qu(t,Lu(t[d],f),i,r.cell);var h=Lu(n[d-o],f-a),p=r.replace(h);Eu(t[d],f,Pn(p,!0))}return t},gd=function(e,t,n,r,i){var o=sd(e,t,n);return o.map((function(o){var a=hd(t,o,r);return md(e,a,n,r,i)}))},vd=function(e,t,n,r,i){td(t,e,i,r.cell);var o=cd(n,t),a=hd(n,o,r),s=cd(t,a),l=hd(t,s,r);return B(l,(function(t,n){var r=t.cells().slice(0,e).concat(a[n].cells()).concat(t.cells().slice(e,t.cells().length));return Ou(t,r)}))},bd=function(e,t,n,r,i){nd(t,e,i,r.cell);var o=ld(n,t),a=hd(n,o,r),s=ld(t,a),l=hd(t,s,r);return l.slice(0,e).concat(a).concat(l.slice(e,l.length))},yd=function(e,t,n,r,i){var o=e.slice(0,t),a=e.slice(t),s=Ru(e[n],(function(n,o){var a=t>0&&t<e.length&&r(Lu(e[t-1],o),Lu(e[t],o)),s=a?Nu(e[t],o):Pn(i(n.element(),r),!0);return s}));return o.concat([s]).concat(a)},Cd=function(e,t,n,r,i){return B(e,(function(e){var o=t>0&&t<Du(e)&&r(Lu(e,t-1),Lu(e,t)),a=o?Nu(e,t):Pn(i(Lu(e,n),r),!0);return Tu(e,t,a)}))},wd=function(e,t,n){var r=B(e,(function(e){var r=e.cells().slice(0,t).concat(e.cells().slice(n+1));return jn(r,e.section())}));return F(r,(function(e){return e.cells().length>0}))},xd=function(e,t,n){return e.slice(0,t).concat(e.slice(n+1))},Id=function(e,t,n,r){var i=function(e){return L(t,(function(t){return n(e.element(),t.element())}))};return B(e,(function(e){return Ru(e,(function(e){return i(e)?Pn(r(e.element(),n),!0):e}))}))},Ad=function(e,t,n,r){return void 0!==Lu(e[t],n)&&t>0&&r(Lu(e[t-1],n),Lu(e[t],n))},kd=function(e,t,n){return t>0&&n(Lu(e,t-1),Lu(e,t))},Sd=function(e,t,n,r){var i=K(e,(function(r,i){var o=Ad(e,i,t,n)||kd(r,t,n);return o?[]:[Nu(r,t)]}));return Id(e,i,n,r)},_d=function(e,t,n,r){var i=e[t],o=K(i.cells(),(function(r,o){var a=Ad(e,t,o,n)||kd(i,o,n);return a?[]:[r]}));return Id(e,o,n,r)},Td=pl(["cell","row","replace","gap"]),Ed=function(e){var t=rr(e,"colspan",1),n=rr(e,"rowspan",1);return{element:o(e),colspan:o(t),rowspan:o(n)}},Od=function(e,t){void 0===t&&(t=Ed),Td(e);var n=Uc(g.none()),r=function(t){return e.cell(t)},i=function(e){var n=t(e);return r(n)},o=function(e){var t=i(e);return n.get().isNone()&&n.set(g.some(t)),a=g.some({item:e,replacement:t}),t},a=g.none(),s=function(e,t){return a.fold((function(){return o(e)}),(function(n){return t(e,n.item)?n.replacement:o(e)}))};return{getOrInit:s,cursor:n.get}},Rd=function(e,t){return function(n){var r=Uc(g.none());Td(n);var i=[],o=function(e,t){return $(i,(function(n){return t(n.item,e)}))},a=function(o){var a={scope:e},s=n.replace(o,t,a);return i.push({item:o,sub:s}),r.get().isNone()&&r.set(g.some(s)),s},s=function(e,t){return o(e,t).fold((function(){return a(e)}),(function(n){return t(e,n.item)?n.sub:a(e)}))};return{replaceOrInit:s,cursor:r.get}}},Nd=function(e){Td(e);var t=Uc(g.none()),n=function(n){return t.get().isNone()&&t.set(g.some(n)),function(){var t=e.cell({element:o(n),colspan:o(1),rowspan:o(1)});return bn(t,"width"),bn(n,"width"),t}};return{combine:n,cursor:t.get}},Ld={modification:Od,transform:Rd,merging:Nd},Dd=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Bd=function(e,t){var n=e.property().name(t);return N(["ol","ul"],n)},Md=function(e,t){var n=e.property().name(t);return N(Dd,n)},Pd=function(e,t){return N(["br","img","hr","input"],e.property().name(t))},Fd=wi(),jd=function(e){return Md(Fd,e)},Hd=function(e){return Bd(Fd,e)},zd=function(e){return Pd(Fd,e)},$d=function(e){var t=function(e){return"br"===fe(e)},n=function(e){return G(e,(function(e){return t(e)||ve(e)&&0===Mr(e).trim().length}))},r=function(e){return"li"===fe(e)||qn(e,Hd).isSome()},i=function(e){return qt(e).map((function(e){return!!jd(e)||!!zd(e)&&"img"!==fe(e)})).getOr(!1)},o=function(e){return Wr(e).bind((function(n){var o=i(n);return Kt(n).map((function(i){return!0===o||r(i)||t(n)||jd(i)&&!Pt(e,i)?[]:[ze.fromTag("br")]}))})).getOr([])},a=function(){var t=K(e,(function(e){var t=Xt(e);return n(t)?[]:t.concat(o(e))}));return 0===t.length?[ze.fromTag("br")]:t},s=a();Tn(e[0]),_n(e[0],s)},Vd=function(e){var t=pr(e);0===t.length&&En(e)},Wd=function(e,t){return{grid:o(e),cursor:o(t)}},Kd=function(e,t,n){return Gd(e,t,n).orThunk((function(){return Gd(e,0,0)}))},Gd=function(e,t,n){return g.from(e[t]).bind((function(e){return g.from(e.cells()[n]).bind((function(e){return g.from(e.element())}))}))},Zd=function(e,t,n){return Wd(e,Gd(e,t,n))},Ud=function(e){return H(e,(function(e,t){return L(e,(function(e){return e.row()===t.row()}))?e:e.concat([t])}),[]).sort((function(e,t){return e.row()-t.row()}))},qd=function(e){return H(e,(function(e,t){return L(e,(function(e){return e.column()===t.column()}))?e:e.concat([t])}),[]).sort((function(e,t){return e.column()-t.column()}))},Xd=function(e,t,n,r){var i=t[0].row(),o=t[0].row(),a=Ud(t),s=H(a,(function(e,t){return yd(e,o,i,n,r.getOrInit)}),e);return Zd(s,o,t[0].column())},Yd=function(e,t,n,r){var i=Ud(t),o=i[i.length-1].row(),a=i[i.length-1].row()+i[i.length-1].rowspan(),s=H(i,(function(e,t){return yd(e,a,o,n,r.getOrInit)}),e);return Zd(s,a,t[0].column())},Jd=function(e,t,n,r){var i=qd(t),o=i[0].column(),a=i[0].column(),s=H(i,(function(e,t){return Cd(e,a,o,n,r.getOrInit)}),e);return Zd(s,t[0].row(),a)},Qd=function(e,t,n,r){var i=t[t.length-1].column(),o=t[t.length-1].column()+t[t.length-1].colspan(),a=qd(t),s=H(a,(function(e,t){return Cd(e,o,i,n,r.getOrInit)}),e);return Zd(s,t[0].row(),o)},ef=function(e,t,n,r){var i=_d(e,t.row(),n,r.replaceOrInit);return Zd(i,t.row(),t.column())},tf=function(e,t,n,r){var i=Sd(e,t.column(),n,r.replaceOrInit);return Zd(i,t.row(),t.column())},nf=function(e,t,n,r){var i=_d(e,t.row(),n,r.replaceOrInit);return Zd(i,t.row(),t.column())},rf=function(e,t,n,r){var i=Sd(e,t.column(),n,r.replaceOrInit);return Zd(i,t.row(),t.column())},of=function(e,t,n,r){var i=qd(t),o=wd(e,i[0].column(),i[i.length-1].column()),a=Kd(o,t[0].row(),t[0].column());return Wd(o,a)},af=function(e,t,n,r){var i=Ud(t),o=xd(e,i[0].row(),i[i.length-1].row()),a=Kd(o,t[0].row(),t[0].column());return Wd(o,a)},sf=function(e,t,n,r){var i=t.cells();$d(i);var a=Ju(e,t.bounds(),n,o(i[0]));return Wd(a,g.from(i[0]))},lf=function(e,t,n,r){var i=j(t,(function(e,t){return Qu(e,t,n,r.combine(t))}),e);return Wd(i,g.from(t[0]))},cf=function(e,t,n,r){var i=function(e,t){var n=Sr.fromTable(e);return Hu(n,t,!0)},o=i(t.clipboard(),t.generators()),a=Nn(t.row(),t.column()),s=gd(a,e,o,t.generators(),n);return s.fold((function(){return Wd(e,g.some(t.element()))}),(function(e){var n=Kd(e,t.row(),t.column());return Wd(e,n)}))},uf=function(e,t,n){var r=br(e,n),i=Sr.generate(r);return Hu(i,t,!0)},df=function(e,t,n,r){var i=e[t.cells[0].row()],o=t.cells[0].column(),a=uf(t.clipboard(),t.generators(),i),s=vd(o,e,a,t.generators(),n),l=Kd(s,t.cells[0].row(),t.cells[0].column());return Wd(s,l)},ff=function(e,t,n,r){var i=e[t.cells[0].row()],o=t.cells[t.cells.length-1].column()+t.cells[t.cells.length-1].colspan(),a=uf(t.clipboard(),t.generators(),i),s=vd(o,e,a,t.generators(),n),l=Kd(s,t.cells[0].row(),t.cells[0].column());return Wd(s,l)},hf=function(e,t,n,r){var i=e[t.cells[0].row()],o=t.cells[0].row(),a=uf(t.clipboard(),t.generators(),i),s=bd(o,e,a,t.generators(),n),l=Kd(s,t.cells[0].row(),t.cells[0].column());return Wd(s,l)},pf=function(e,t,n,r){var i=e[t.cells[0].row()],o=t.cells[t.cells.length-1].row()+t.cells[t.cells.length-1].rowspan(),a=uf(t.clipboard(),t.generators(),i),s=bd(o,e,a,t.generators(),n),l=Kd(s,t.cells[0].row(),t.cells[0].column());return Wd(s,l)},mf=function(e,t){var n=Sr.fromTable(e),r=Yu(n,t);return r.bind((function(e){var t=e[e.length-1],r=e[0].column(),i=t.column()+t.colspan(),o=W(B(n.all,(function(e){return F(e.cells(),(function(e){return e.column()>=r&&e.column()<i}))})));return gf(o,(function(e){return"th"===fe(e.element())}))})).getOr("")},gf=function(e,t){var n=F(e,t);return 0===n.length?g.some("td"):n.length===e.length?g.some("th"):g.none()},vf=Ds,bf=Ku(Xd,Yu,n,n,Ld.modification),yf=Ku(Yd,Yu,n,n,Ld.modification),Cf=Ku(Jd,Yu,vf,n,Ld.modification),wf=Ku(Qd,Yu,vf,n,Ld.modification),xf=Ku(of,Yu,vf,Vd,Ld.modification),If=Ku(af,Yu,n,Vd,Ld.modification),Af=Ku(tf,Gu,n,n,Ld.transform("row","th")),kf=Ku(rf,Gu,n,n,Ld.transform(null,"td")),Sf=(Ku(ef,Gu,n,n,Ld.transform("col","th")),Ku(nf,Gu,n,n,Ld.transform(null,"td")),Ku(sf,qu,n,n,Ld.merging)),_f=Ku(lf,Xu,vf,n,Ld.merging),Tf=Ku(cf,Zu,vf,n,Ld.modification),Ef=Ku(df,Uu,n,n,Ld.modification),Of=Ku(ff,Uu,n,n,Ld.modification),Rf=Ku(hf,Uu,n,n,Ld.modification),Nf=Ku(pf,Uu,n,n,Ld.modification),Lf=mf,Df=function(e){return Dc(e.parentNode)},Bf=function(e){return"thead"===e?"header":"tfoot"===e?"footer":"body"},Mf=function(e,t){var n="thead"===Df(t),r=!L(t.cells,(function(e){return"th"!==Dc(e)}));return n||r?g.some({thead:n,ths:r}):g.none()},Pf=function(e,t){return Bf(Mf(e,t).fold((function(){return Df(t)}),(function(e){return"thead"})))},Ff=function(e,t,n){var r=e.getParent(t,"table"),i=t.parentNode,o=Dc(i);if(n!==o){var a=e.select(n,r)[0];if(!a){a=e.create(n);var s=r.firstChild;"thead"===n?q(Gn(ze.fromDom(r),"caption,colgroup")).fold((function(){return r.insertBefore(a,s)}),(function(t){return e.insertAfter(a,t.dom())})):r.appendChild(a)}"tbody"===n&&"thead"===o&&a.firstChild?a.insertBefore(t,a.firstChild):a.appendChild(t),i.hasChildNodes()||e.remove(i)}},jf=function(e,t,n,r){return M(t,(function(t){var i=Dc(t)!==n?e.rename(t,n):t;e.setAttrib(i,"scope",r)}))},Hf=function(e,t,n){var r=function(){var n=mr(ze.fromDom(t.cells[0])).map((function(e){return gr(e)})).getOr([]);return X(n,(function(t){return Mf(e,t.dom())})).map((function(e){return e.thead&&e.ths?"sectionCells":e.thead?"section":"cells"})).getOr("section")},i=e.dom;if("header"===n){var o=Rc(e),a="auto"===o?r():o;jf(i,t.cells,"section"===a?"td":"th","col"),Ff(i,t,"cells"===a?"tbody":"thead")}else jf(i,t.cells,"td",null),Ff(i,t,"footer"===n?"tfoot":"tbody")},zf=function(e){var t=function(){var t=Bc(e);return Hi(t,Xi).fold((function(){return void 0===e.selection.getStart()?so():co(e.selection)}),(function(e){return lo(e)}))};return{get:t}},$f=function(e){return function(t){return g.from(t.dom.getParent(t.selection.getStart(),e)).map((function(e){return ze.fromDom(e)}))}},Vf=$f("th,td"),Wf=$f("th,td,caption"),Kf=function(e){return Vf(e).map((function(t){return uo(t,zf(e))})).map((function(e){return B(e,(function(e){return e.dom()}))})).getOr([])},Gf=function(e){var t=Vf(e),n=t.bind((function(e){return mr(e)})).map((function(e){return gr(e)})).map((function(e){return B(e,(function(e){return e.dom()}))}));return Au(t,n,(function(t,n){return F(n,(function(n){return L(n.cells,(function(n){return"1"===e.dom.getAttrib(n,qi)||n===t.dom()}))}))})).getOr([])},Zf=function(e,t){var r=function(e){return"table"===fe(Bc(e))},i=function(t){return!1===r(e)||xu(t).rows()>1},o=function(t){return!1===r(e)||xu(t).columns()>1},a=Nc(e),s=function(t,n,r,i){return function(o,s){zc(o);var l=i(),c=ze.fromDom(e.getDoc()),u=ys(Zc),d=ni(r,c,a),f=tu(e,o);return n(o)?t(l,o,s,d,u,f).bind((function(t){return M(t.newRows(),(function(t){nc(e,t.dom())})),M(t.newCells(),(function(t){rc(e,t.dom())})),t.cursor().map((function(t){var n=Cu(t),r=e.dom.createRng();return r.setStart(n.element().dom(),n.offset()),r.setEnd(n.element().dom(),n.offset()),r}))})):g.none()}},l=s(If,i,n,t),c=s(xf,o,n,t),u=s(bf,d,n,t),f=s(yf,d,n,t),h=s(Cf,d,wu,t),p=s(wf,d,wu,t),m=s(Sf,d,n,t),v=s(_f,d,n,t),b=s(Ef,d,n,t),y=s(Of,d,n,t),C=s(Rf,d,n,t),w=s(Nf,d,n,t),x=s(Tf,d,n,t),I=function(e,t){return oe(e,"type").filter((function(e){return N(t,e)}))},A=function(e,t){return I(t,["td","th"]).each((function(t){jf(e.dom,Kf(e),t,null)}))},k=function(e,t){return I(t,["header","body","footer"]).each((function(t){B(Gf(e),(function(n){return Hf(e,n,t)}))}))},S=s(Af,d,n,t),_=s(kf,d,n,t),T=function(e){var t=Gf(e);if(t.length>0){var n=B(t,(function(t){return Pf(e,t)})),r=N(n,"header"),i=N(n,"footer");if(r||i){var o=N(n,"body");return!r||o||i?r||o||!i?"":"footer":"header"}return"body"}},E=function(e){return gf(Kf(e),(function(e){return"th"===Dc(e)})).getOr("")},O=Lf;return{deleteRow:l,deleteColumn:c,insertRowsBefore:u,insertRowsAfter:f,insertColumnsBefore:h,insertColumnsAfter:p,mergeCells:m,unmergeCells:v,pasteColsBefore:b,pasteColsAfter:y,pasteRowsBefore:C,pasteRowsAfter:w,pasteCells:x,setTableCellType:A,setTableRowType:k,makeColumnHeader:S,unmakeColumnHeader:_,getTableRowType:T,getTableCellType:E,getTableColType:O}},Uf={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"}},qf=function(){return ze.fromTag("th")},Xf=function(){return ze.fromTag("td")},Yf=function(e,t,n,r){for(var i=ze.fromTag("tr"),o=0;o<e;o++){var a=r<t||o<n?qf():Xf();o<n&&we(a,"scope","row"),r<t&&we(a,"scope","col"),In(a,ze.fromTag("br")),In(i,a)}return i},Jf=function(e,t,n,r){return D(e,(function(e){return Yf(t,n,r,e)}))},Qf=function(e,t,n,r,i,o){void 0===o&&(o=Uf);var a=ze.fromTag("table"),s="cells"!==i;pn(a,o.styles),xe(a,o.attributes);var l=Math.min(e,n);if(s&&n>0){var c=ze.fromTag("thead");In(a,c);var u="sectionCells"===i?l:0,d=Jf(n,t,u,r);_n(c,d)}var f=ze.fromTag("tbody");In(a,f);var h=s?e-l:e,p=s?0:n,m=Jf(h,t,p,r);return _n(f,m),a},eh=function(e){return e.dom().innerHTML},th=function(e){var t=ze.fromTag("div"),n=ze.fromDom(e.dom().cloneNode(!0));return In(t,n),eh(t)},nh=function(e,t){e.selection.select(t.dom(),!0),e.selection.collapse(!0)},rh=function(e,t){tr(t,"td,th").each(s(nh,e))},ih=function(e,t){M(Zn(t,"tr"),(function(t){nc(e,t.dom()),M(Zn(t,"th,td"),(function(t){rc(e,t.dom())}))}))},oh=function(e){return C(e)&&-1!==e.indexOf("%")},ah=function(e,t,n,r,i){var o=mc(e),a={styles:o,attributes:pc(e)},s=Qf(n,t,i,r,Rc(e),a);we(s,"data-mce-id","__mce");var l=th(s);return e.insertContent(l),tr(Bc(e),'table[data-mce-id="__mce"]').map((function(t){return Tc(e)?su(e,t):Ec(e)?lu(t):(_c(e)||oh(o.width))&&au(e,t),zc(t),Se(t,"data-mce-id"),ih(e,t),rh(e,t),t.dom()})).getOr(null)},sh=function(e,t,n,r,i){void 0===r&&(r={});var o=function(e){return _(e)&&e>0};if(o(t)&&o(n)){var a=r.headerRows||0,s=r.headerColumns||0;return ah(e,n,t,s,a)}return null},lh=function(e){return function(){return e().fold((function(){return[]}),(function(e){return B(e,(function(e){return e.dom()}))}))}},ch=function(e){return function(t){var n=t.length>0?g.some(oi(t)):g.none();e(n)}},uh=function(e,t,n,r){return{insertTable:function(t,n,r){return void 0===r&&(r={}),sh(e,n,t,r,"Invalid values for insertTable - rows and columns values are required to insert a table.")},setClipboardRows:ch(t.setRows),getClipboardRows:lh(t.getRows),setClipboardCols:ch(t.setColumns),getClipboardCols:lh(t.getColumns),resizeHandler:n,selectionTargets:r}},dh=function(e,t,n){var r=ir(e,t);1===n||r<=1?Se(e,t):we(e,t,Math.min(n,r))},fh=function(e,t){var n=Sr.fromTable(e),r=Yu(n,t);return r.map((function(e){var t=e[e.length-1],r=e[0].column(),i=t.column()+t.colspan();return B(n.all,(function(e){var t=F(e.cells(),(function(e){return e.column()>=r&&e.column()<i})),n=B(t,(function(e){var t=Ur(e.element());return dh(t,"colspan",i-r),t})),o=ze.fromTag("tr");return _n(o,n),o}))}))},hh=function(e,t,n){var r=Sr.fromTable(e),i=Yu(r,t);return i.map((function(e){var t=Hu(r,n,!1),i=t.slice(e[0].row(),e[e.length-1].row()+e[e.length-1].rowspan()),o=Vu(i,n);return _u(o)}))},ph=tinymce.util.Tools.resolve("tinymce.util.Tools"),mh=function(e,t,n){var r,i=e.select("td,th",t),o=function(t,r){for(var i=0;i<r.length;i++){var o=e.getStyle(r[i],n);if("undefined"===typeof t&&(t=o),t!==o)return""}return t};return o(r,i)},gh=function(e,t,n){n&&e.formatter.apply("align"+n,{},t)},vh=function(e,t,n){n&&e.formatter.apply("valign"+n,{},t)},bh=function(e,t){ph.each("left center right".split(" "),(function(n){e.formatter.remove("align"+n,{},t)}))},yh=function(e,t){ph.each("top middle bottom".split(" "),(function(n){e.formatter.remove("valign"+n,{},t)}))},Ch=function(e,t){var n=function(e,t){return t.concat(B(e,(function(e){return{text:e.text||e.title,value:e.value}})))};return n(e,t||[])},wh=function(e){return function(t){return Oe(t,"rgb")?e.toHex(t):t}},xh=function(e,t){var n=ze.fromDom(t);return{borderwidth:vn(n,"border-width").getOr(""),borderstyle:vn(n,"border-style").getOr(""),bordercolor:vn(n,"border-color").map(wh(e)).getOr(""),backgroundcolor:vn(n,"background-color").map(wh(e)).getOr("")}},Ih=function(e){var t=e[0],n=e.slice(1);return M(n,(function(e){M(Y(t),(function(n){Q(e,(function(e,r){var i=t[n];""!==i&&n===r&&i!==e&&(t[n]="")}))}))})),t},Ah=function(e){var t=[{name:"borderstyle",type:"selectbox",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}],n={name:"borderwidth",type:"input",label:"Border width"},r="cell"===e?[n].concat(t):t;return{title:"Advanced",name:"advanced",items:r}},kh=function(e,t,n,r){return $(e,(function(e){return n.formatter.matchNode(r,t+e)})).getOr("")},Sh=s(kh,["left","center","right"],"align"),_h=s(kh,["top","middle","bottom"],"valign"),Th=function(e,t){var n=mc(e),r=pc(e),i=function(e){return{borderstyle:oe(n,"border-style").getOr(""),bordercolor:wh(e)(oe(n,"border-color").getOr("")),backgroundcolor:wh(e)(oe(n,"background-color").getOr(""))}},o={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},a=function(){var t=n["border-width"];return Ic(e)&&t?{border:t}:oe(r,"border").fold((function(){return{}}),(function(e){return{border:e}}))},s=t?i(e.dom):{},l=function(){var e=oe(n,"border-spacing").or(oe(r,"cellspacing")).fold((function(){return{}}),(function(e){return{cellspacing:e}})),t=oe(n,"border-padding").or(oe(r,"cellpadding")).fold((function(){return{}}),(function(e){return{cellpadding:e}}));return We(We({},e),t)},c=We(We(We(We(We(We({},o),n),r),s),a()),l());return c},Eh=function(e,t,n){var r=function(t,n){var r=vn(ze.fromDom(n),"border-width");return Ic(e)&&r.isSome()?r.getOr(""):t.getAttrib(n,"border")||mh(e.dom,n,"border-width")||mh(e.dom,n,"border")},i=e.dom;return We({width:i.getStyle(t,"width")||i.getAttrib(t,"width"),height:i.getStyle(t,"height")||i.getAttrib(t,"height"),cellspacing:i.getStyle(t,"border-spacing")||i.getAttrib(t,"cellspacing"),cellpadding:i.getAttrib(t,"cellpadding")||mh(e.dom,t,"padding"),border:r(i,t),caption:!!i.select("caption",t)[0],class:i.getAttrib(t,"class",""),align:Sh(e,t)},n?xh(i,t):{})},Oh=function(e,t,n){var r=e.dom;return We({height:r.getStyle(t,"height")||r.getAttrib(t,"height"),scope:r.getAttrib(t,"scope"),class:r.getAttrib(t,"class",""),type:Pf(e,t),align:Sh(e,t)},n?xh(r,t):{})},Rh=function(e,t,n){var r=e.dom;return We({width:r.getStyle(t,"width")||r.getAttrib(t,"width"),height:r.getStyle(t,"height")||r.getAttrib(t,"height"),scope:r.getAttrib(t,"scope"),celltype:Dc(t),class:r.getAttrib(t,"class",""),halign:Sh(e,t),valign:_h(e,t)},n?xh(r,t):{})},Nh=function(e){var t=Ch(Ac(e));return t.length>0?g.some({name:"class",type:"selectbox",label:"Class",items:t}):g.none()},Lh=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"selectbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"selectbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"selectbox",label:"H Align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"selectbox",label:"V Align",items:[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}]}],Dh=function(e){return Nh(e).fold((function(){return Lh}),(function(e){return Lh.concat(e)}))},Bh=function(e){return function(t,n){var r=t.dom,i=function(t,i){e&&!i||r.setAttrib(n,t,i)},o=function(t,i){e&&!i||r.setStyle(n,t,i)},a=function(r,i){e&&!i||(""===i?t.formatter.remove(r,{value:null},n,!0):t.formatter.apply(r,{value:i},n))};return{setAttrib:i,setStyle:o,setFormat:a}}},Mh={normal:Bh(!1),ifTruthy:Bh(!0)},Ph=function(e,t){e.setAttrib("scope",t.scope),e.setAttrib("class",t.class),e.setStyle("width",Hc(t.width)),e.setStyle("height",Hc(t.height))},Fh=function(e,t){e.setFormat("tablecellbackgroundcolor",t.backgroundcolor),e.setFormat("tablecellbordercolor",t.bordercolor),e.setFormat("tablecellborderstyle",t.borderstyle),e.setFormat("tablecellborderwidth",Hc(t.borderwidth))},jh=function(e,t,n){var r=e.dom,i=1===t.length;M(t,(function(t){var o=n.celltype&&Dc(t)!==n.celltype?r.rename(t,n.celltype):t,a=i?Mh.normal(e,o):Mh.ifTruthy(e,o);Ph(a,n),bc(e)&&Fh(a,n),i&&(bh(e,o),yh(e,o)),n.halign&&gh(e,o,n.halign),n.valign&&vh(e,o,n.valign)}))},Hh=function(e,t,n){var r=n.getData();n.close(),e.undoManager.transact((function(){jh(e,t,r),e.focus()}))},zh=function(e){var t=Kf(e);if(0!==t.length){var n=B(t,(function(t){return Rh(e,t,bc(e))})),r=Ih(n),i={type:"tabpanel",tabs:[{title:"General",name:"general",items:Dh(e)},Ah("cell")]},o={type:"panel",items:[{type:"grid",columns:2,items:Dh(e)}]};e.windowManager.open({title:"Cell Properties",size:"normal",body:bc(e)?i:o,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:r,onSubmit:s(Hh,e,t)})}},$h=function(e){var t=Ch(kc(e));return t.length>0?g.some({name:"class",type:"selectbox",label:"Class",items:t}):g.none()},Vh=[{type:"selectbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"selectbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],Wh=function(e){return $h(e).fold((function(){return Vh}),(function(e){return Vh.concat(e)}))},Kh=function(e,t){e.setAttrib("scope",t.scope),e.setAttrib("class",t.class),e.setStyle("height",Hc(t.height))},Gh=function(e,t){e.setStyle("background-color",t.backgroundcolor),e.setStyle("border-color",t.bordercolor),e.setStyle("border-style",t.borderstyle)},Zh=function(e,t,n,r){var i=1===t.length;M(t,(function(t){r.type!==Dc(t.parentNode)&&Hf(e,t,r.type);var o=i?Mh.normal(e,t):Mh.ifTruthy(e,t);Kh(o,r),yc(e)&&Gh(o,r),r.align!==n.align&&(bh(e,t),gh(e,t,r.align))}))},Uh=function(e,t,n,r){var i=r.getData();r.close(),e.undoManager.transact((function(){Zh(e,t,n,i),e.focus()}))},qh=function(e){var t=Gf(e);if(0!==t.length){var n=B(t,(function(t){return Oh(e,t,yc(e))})),r=Ih(n),i={type:"tabpanel",tabs:[{title:"General",name:"general",items:Wh(e)},Ah("row")]},o={type:"panel",items:[{type:"grid",columns:2,items:Wh(e)}]};e.windowManager.open({title:"Row Properties",size:"normal",body:yc(e)?i:o,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:r,onSubmit:s(Uh,e,t,r)})}},Xh=tinymce.util.Tools.resolve("tinymce.Env"),Yh=function(e,t,n){var r=n?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],i=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],o=wc(e)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],a=[{type:"selectbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],s=t.length>0?[{type:"selectbox",name:"class",label:"Class",items:t}]:[];return r.concat(i).concat(o).concat(a).concat(s)},Jh=function(e,t,n,r){if("TD"===t.tagName||"TH"===t.tagName)C(n)?e.setStyle(t,n,r):e.setStyle(t,n);else if(t.children)for(var i=0;i<t.children.length;i++)Jh(e,t.children[i],n,r)},Qh=function(e,t,n){var r=e.dom,i={},o={};if(i.class=n.class,o.height=Hc(n.height),r.getAttrib(t,"width")&&!Ic(e)?i.width=jc(n.width):o.width=Hc(n.width),Ic(e)?(o["border-width"]=Hc(n.border),o["border-spacing"]=Hc(n.cellspacing)):(i.border=n.border,i.cellpadding=n.cellpadding,i.cellspacing=n.cellspacing),Ic(e)&&t.children)for(var a=0;a<t.children.length;a++)Jh(r,t.children[a],{"border-width":Hc(n.border),padding:Hc(n.cellpadding)}),Cc(e)&&Jh(r,t.children[a],{"border-color":n.bordercolor});Cc(e)&&(o["background-color"]=n.backgroundcolor,o["border-color"]=n.bordercolor,o["border-style"]=n.borderstyle),i.style=r.serializeStyle(We(We({},mc(e)),o)),r.setAttribs(t,We(We({},pc(e)),i))},ep=function(e,t,n){var r,i=e.dom,o=n.getData();n.close(),""===o.class&&delete o.class,e.undoManager.transact((function(){if(!t){var n=parseInt(o.cols,10)||1,a=parseInt(o.rows,10)||1;t=ah(e,n,a,0,0)}Qh(e,t,o),r=i.select("caption",t)[0],r&&!o.caption&&i.remove(r),!r&&o.caption&&(r=i.create("caption"),r.innerHTML=Xh.ie?Lr:'<br data-mce-bogus="1"/>',t.insertBefore(r,t.firstChild)),""===o.align?bh(e,t):gh(e,t,o.align),e.focus(),e.addVisual()}))},tp=function(e,t){var n,r=e.dom,i=Th(e,Cc(e));!1===t?(n=r.getParent(e.selection.getStart(),"table"),n?i=Eh(e,n,Cc(e)):Cc(e)&&(i.borderstyle="",i.bordercolor="",i.backgroundcolor="")):(i.cols="1",i.rows="1",Cc(e)&&(i.borderstyle="",i.bordercolor="",i.backgroundcolor=""));var o=Ch(Sc(e));o.length>0&&i.class&&(i.class=i.class.replace(/\s*mce\-item\-table\s*/g,""));var a={type:"grid",columns:2,items:Yh(e,o,t)},l=function(){return{type:"panel",items:[a]}},c=function(){return{type:"tabpanel",tabs:[{title:"General",name:"general",items:[a]},Ah("table")]}},u=Cc(e)?c():l();e.windowManager.open({title:"Table Properties",size:"normal",body:u,onSubmit:s(ep,e,n),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:i})},np=function(e,t,r,i,o){var a=Fc(e),c=function(){return Wf(e).each((function(t){mr(t,a).filter(l(a)).each((function(t){var n=ze.fromText("");if(wn(t,n),En(t),e.dom.isEmpty(e.getBody()))e.setContent(""),e.selection.setCursorLocation();else{var r=e.dom.createRng();r.setStart(n.dom(),0),r.setEnd(n.dom(),0),e.selection.setRng(r),e.nodeChanged()}}))}))},u=function(t){return Wf(e).each((function(n){var r=Ec(e)||Tc(e)||_c(e);r||mr(n,a).each((function(n){"relative"!==t||ps(n)?"fixed"!==t||ms(n)?"responsive"!==t||gs(n)||lu(n):su(e,n):au(e,n),zc(n)}))}))},d=function(e){return mr(e,a)},f=function(t){return Vf(e).each((function(n){d(n).each((function(o){var a=mo(i,o,n);t(o,a).each((function(t){e.selection.setRng(t),e.focus(),r.clear(o),zc(o)}))}))}))},h=function(){return Vf(e).map((function(t){return d(t).bind((function(r){var o=mo(i,r,t),a=ni(n,ze.fromDom(e.getDoc()),g.none());return hh(r,o,a)}))}))},p=function(){return Vf(e).map((function(e){return d(e).bind((function(t){var n=mo(i,t,e);return fh(t,n)}))}))},m=function(t,n){return n().each((function(n){var o=B(n,(function(e){return Ur(e)}));Vf(e).each((function(n){return d(n).each((function(a){var s=ri(ze.fromDom(e.getDoc())),l=vo(i,n,o,s);t(a,l).each((function(t){e.selection.setRng(t),e.focus(),r.clear(a)}))}))}))}))};Q({mceTableSplitCells:function(){return f(t.unmergeCells)},mceTableMergeCells:function(){return f(t.mergeCells)},mceTableInsertRowBefore:function(){return f(t.insertRowsBefore)},mceTableInsertRowAfter:function(){return f(t.insertRowsAfter)},mceTableInsertColBefore:function(){return f(t.insertColumnsBefore)},mceTableInsertColAfter:function(){return f(t.insertColumnsAfter)},mceTableDeleteCol:function(){return f(t.deleteColumn)},mceTableDeleteRow:function(){return f(t.deleteRow)},mceTableCutCol:function(e){return p().each((function(e){o.setColumns(e),f(t.deleteColumn)}))},mceTableCutRow:function(e){return h().each((function(e){o.setRows(e),f(t.deleteRow)}))},mceTableCopyCol:function(e){return p().each((function(e){return o.setColumns(e)}))},mceTableCopyRow:function(e){return h().each((function(e){return o.setRows(e)}))},mceTablePasteColBefore:function(e){return m(t.pasteColsBefore,o.getColumns)},mceTablePasteColAfter:function(e){return m(t.pasteColsAfter,o.getColumns)},mceTablePasteRowBefore:function(e){return m(t.pasteRowsBefore,o.getRows)},mceTablePasteRowAfter:function(e){return m(t.pasteRowsAfter,o.getRows)},mceTableDelete:c,mceTableSizingMode:function(e,t){return u(t)}},(function(t,n){return e.addCommand(n,t)})),Q({mceTableCellType:function(n,r){return t.setTableCellType(e,r)},mceTableRowType:function(n,r){return t.setTableRowType(e,r)}},(function(t,n){return e.addCommand(n,t)})),e.addCommand("mceTableColType",(function(e,n){return oe(n,"type").each((function(e){return f("th"===e?t.makeColumnHeader:t.unmakeColumnHeader)}))})),Q({mceTableProps:s(tp,e,!1),mceTableRowProps:s(qh,e),mceTableCellProps:s(zh,e)},(function(t,n){return e.addCommand(n,(function(){return t()}))})),e.addCommand("mceInsertTable",(function(t,n){w(n)&&Y(n).length>0?sh(e,n.rows,n.columns,n.options,"Invalid values for mceInsertTable - rows and columns values are required to insert a table."):tp(e,!0)})),e.addCommand("mceTableApplyCellStyle",(function(t,n){if(w(n)){var r=Kf(e);0!==r.length&&Q(n,(function(t,n){var i="tablecell"+n.toLowerCase().replace("-","");e.formatter.has(i)&&C(t)&&M(r,(function(n){Mh.normal(e,n).setFormat(i,t)}))}))}}))},rp=function(e,t,n){var r=Fc(e),i=function(e){return mr(e,r)};Q({mceTableRowType:function(){return t.getTableRowType(e)},mceTableCellType:function(){return t.getTableCellType(e)},mceTableColType:function(){return Vf(e).bind((function(e){return i(e).map((function(r){var i=mo(n,r,e);return t.getTableColType(r,i)}))})).getOr("")}},(function(t,n){return e.addQueryValueHandler(n,t)}))},ip=function(){var e=Uc(g.none()),t=Uc(g.none()),n=function(e){e.set(g.none())};return{getRows:e.get,setRows:function(r){e.set(r),n(t)},clearRows:function(){return n(e)},getColumns:t.get,setColumns:function(r){t.set(r),n(e)},clearColumns:function(){return n(t)}}},op=io.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),ap=function(e){return void 0===e&&(e=void 0),op.none(e)},sp=We(We({},op),{none:ap}),lp=function(e,t){return mr(e,t).bind((function(t){var n=pr(t),r=V(n,(function(t){return Pt(e,t)}));return r.map((function(e){return{index:e,all:n}}))}))},cp=function(e,t){var n=lp(e,t);return n.fold((function(){return sp.none(e)}),(function(t){return t.index+1<t.all.length?sp.middle(e,t.all[t.index+1]):sp.last(e)}))},up=function(e,t){var n=lp(e,t);return n.fold((function(){return sp.none()}),(function(t){return t.index-1>=0?sp.middle(e,t.all[t.index-1]):sp.first(e)}))},dp=function(e,t,n,r){return{start:o(e),soffset:o(t),finish:o(n),foffset:o(r)}},fp={create:dp},hp=io.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),pp=function(e,t,n,r){return e.fold(t,n,r)},mp=function(e){return e.fold(a,a,a)},gp=hp.before,vp=hp.on,bp=hp.after,yp={before:gp,on:vp,after:bp,cata:pp,getStart:mp},Cp=io.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),wp=function(e){return Cp.exact(e.start(),e.soffset(),e.finish(),e.foffset())},xp=function(e){return e.match({domRange:function(e){return ze.fromDom(e.startContainer)},relative:function(e,t){return yp.getStart(e)},exact:function(e,t,n,r){return e}})},Ip=Cp.domRange,Ap=Cp.relative,kp=Cp.exact,Sp=function(e){var t=xp(e);return Wt(t)},_p=fp.create,Tp={domRange:Ip,relative:Ap,exact:kp,exactFromRange:wp,getWin:Sp,range:_p},Ep=function(e,t){var n=e.document.createRange();return Op(n,t),n},Op=function(e,t){return e.selectNodeContents(t.dom())},Rp=function(e,t){t.fold((function(t){e.setStartBefore(t.dom())}),(function(t,n){e.setStart(t.dom(),n)}),(function(t){e.setStartAfter(t.dom())}))},Np=function(e,t){t.fold((function(t){e.setEndBefore(t.dom())}),(function(t,n){e.setEnd(t.dom(),n)}),(function(t){e.setEndAfter(t.dom())}))},Lp=function(e,t,n){var r=e.document.createRange();return Rp(r,t),Np(r,n),r},Dp=function(e,t,n,r,i){var o=e.document.createRange();return o.setStart(t.dom(),n),o.setEnd(r.dom(),i),o},Bp=function(e){return{left:o(e.left),top:o(e.top),right:o(e.right),bottom:o(e.bottom),width:o(e.width),height:o(e.height)}},Mp=function(e){var t=e.getClientRects(),n=t.length>0?t[0]:e.getBoundingClientRect();return n.width>0||n.height>0?g.some(n).map(Bp):g.none()},Pp=io.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Fp=function(e,t,n){return t(ze.fromDom(n.startContainer),n.startOffset,ze.fromDom(n.endContainer),n.endOffset)},jp=function(e,t){return t.match({domRange:function(e){return{ltr:o(e),rtl:g.none}},relative:function(t,n){return{ltr:Ke((function(){return Lp(e,t,n)})),rtl:Ke((function(){return g.some(Lp(e,n,t))}))}},exact:function(t,n,r,i){return{ltr:Ke((function(){return Dp(e,t,n,r,i)})),rtl:Ke((function(){return g.some(Dp(e,r,i,t,n))}))}}})},Hp=function(e,t){var n=t.ltr();if(n.collapsed){var r=t.rtl().filter((function(e){return!1===e.collapsed}));return r.map((function(e){return Pp.rtl(ze.fromDom(e.endContainer),e.endOffset,ze.fromDom(e.startContainer),e.startOffset)})).getOrThunk((function(){return Fp(e,Pp.ltr,n)}))}return Fp(e,Pp.ltr,n)},zp=function(e,t){var n=jp(e,t);return Hp(e,n)},$p=function(e,t){var n=zp(e,t);return n.match({ltr:function(t,n,r,i){var o=e.document.createRange();return o.setStart(t.dom(),n),o.setEnd(r.dom(),i),o},rtl:function(t,n,r,i){var o=e.document.createRange();return o.setStart(r.dom(),i),o.setEnd(t.dom(),n),o}})},Vp=(Pp.ltr,Pp.rtl,function(e,t,n,r,i){if(0===i)return 0;if(t===r)return i-1;for(var o=r,a=1;a<i;a++){var s=e(a),l=Math.abs(t-s.left);if(n<=s.bottom){if(n<s.top||l>o)return a-1;o=l}}return 0}),Wp=function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom},Kp=function(e,t,n,r,i){var o=function(n){var r=e.dom().createRange();return r.setStart(t.dom(),n),r.collapse(!0),r},a=function(e){var t=o(e);return t.getBoundingClientRect()},s=Mr(t).length,l=Vp(a,n,r,i.right,s);return o(l)},Gp=function(e,t,n,r){var i=e.dom().createRange();i.selectNode(t.dom());var o=i.getClientRects(),a=X(o,(function(e){return Wp(e,n,r)?g.some(e):g.none()}));return a.map((function(i){return Kp(e,t,n,r,i)}))},Zp=function(e,t,n,r){var i=e.dom().createRange(),o=Xt(t);return X(o,(function(t){return i.selectNode(t.dom()),Wp(i.getBoundingClientRect(),n,r)?Up(e,t,n,r):g.none()}))},Up=function(e,t,n,r){return ve(t)?Gp(e,t,n,r):Zp(e,t,n,r)},qp=function(e,t,n,r){var i=e.dom().createRange();i.selectNode(t.dom());var o=i.getBoundingClientRect(),a=Math.max(o.left,Math.min(o.right,n)),s=Math.max(o.top,Math.min(o.bottom,r));return Up(e,t,a,s)},Xp=!0,Yp=!1,Jp=function(e,t){return t-e.left<e.right-t?Xp:Yp},Qp=function(e,t,n){var r=e.dom().createRange();return r.selectNode(t.dom()),r.collapse(n),r},em=function(e,t,n){var r=e.dom().createRange();r.selectNode(t.dom());var i=r.getBoundingClientRect(),o=Jp(i,n),a=o===Xp?Vr:Wr;return a(t).map((function(t){return Qp(e,t,o)}))},tm=function(e,t,n){var r=t.dom().getBoundingClientRect(),i=Jp(r,n);return g.some(Qp(e,t,i))},nm=function(e,t,n){var r=0===Xt(t).length?tm:em;return r(e,t,n)},rm=function(e,t,n){return g.from(e.dom().caretPositionFromPoint(t,n)).bind((function(t){if(null===t.offsetNode)return g.none();var n=e.dom().createRange();return n.setStart(t.offsetNode,t.offset),n.collapse(),g.some(n)}))},im=function(e,t,n){return g.from(e.dom().caretRangeFromPoint(t,n))},om=function(e,t,n,r){var i=e.dom().createRange();i.selectNode(t.dom());var o=i.getBoundingClientRect(),a=Math.max(o.left,Math.min(o.right,n)),s=Math.max(o.top,Math.min(o.bottom,r));return qp(e,t,a,s)},am=function(e,t,n){return ze.fromPoint(e,t,n).bind((function(r){var i=function(){return nm(e,r,t)};return 0===Xt(r).length?i():om(e,r,t,n).orThunk(i)}))},sm=document.caretPositionFromPoint?rm:document.caretRangeFromPoint?im:am,lm=function(e,t,n){var r=ze.fromDom(e.document);return sm(r,t,n).map((function(e){return fp.create(ze.fromDom(e.startContainer),e.startOffset,ze.fromDom(e.endContainer),e.endOffset)}))},cm=function(e,t){var n=fe(e);return"input"===n?yp.after(e):N(["br","img"],n)?0===t?yp.before(e):yp.after(e):yp.on(e,t)},um=function(e,t){var n=e.fold(yp.before,cm,yp.after),r=t.fold(yp.before,cm,yp.after);return Tp.relative(n,r)},dm=function(e,t,n,r){var i=cm(e,t),o=cm(n,r);return Tp.relative(i,o)},fm=function(e){return e.match({domRange:function(e){var t=ze.fromDom(e.startContainer),n=ze.fromDom(e.endContainer);return dm(t,e.startOffset,n,e.endOffset)},relative:um,exact:dm})},hm=function(e,t,n,r){var i=$t(e),o=i.dom().createRange();return o.setStart(e.dom(),t),o.setEnd(n.dom(),r),o},pm=function(e,t,n,r){var i=hm(e,t,n,r),o=Pt(e,n)&&t===r;return i.collapsed&&!o},mm=function(e,t){g.from(e.getSelection()).each((function(e){e.removeAllRanges(),e.addRange(t)}))},gm=function(e,t,n,r,i){var o=Dp(e,t,n,r,i);mm(e,o)},vm=function(e,t,n,r,i,o){t.collapse(n.dom(),r),t.extend(i.dom(),o)},bm=function(e,t){return zp(e,t).match({ltr:function(t,n,r,i){gm(e,t,n,r,i)},rtl:function(t,n,r,i){var o=e.getSelection();if(o.setBaseAndExtent)o.setBaseAndExtent(t.dom(),n,r.dom(),i);else if(o.extend)try{vm(e,o,t,n,r,i)}catch(a){gm(e,r,i,t,n)}else gm(e,r,i,t,n)}})},ym=function(e,t,n,r,i){var o=dm(t,n,r,i);bm(e,o)},Cm=function(e,t,n){var r=um(t,n);bm(e,r)},wm=function(e){var t=Tp.getWin(e).dom(),n=function(e,n,r,i){return Dp(t,e,n,r,i)},r=fm(e);return zp(t,r).match({ltr:n,rtl:n})},xm=function(e){if(e.rangeCount>0){var t=e.getRangeAt(0),n=e.getRangeAt(e.rangeCount-1);return g.some(fp.create(ze.fromDom(t.startContainer),t.startOffset,ze.fromDom(n.endContainer),n.endOffset))}return g.none()},Im=function(e){var t=ze.fromDom(e.anchorNode),n=ze.fromDom(e.focusNode);return pm(t,e.anchorOffset,n,e.focusOffset)?g.some(fp.create(t,e.anchorOffset,n,e.focusOffset)):xm(e)},Am=function(e,t){var n=Ep(e,t);mm(e,n)},km=function(e){return g.from(e.getSelection()).filter((function(e){return e.rangeCount>0})).bind(Im)},Sm=function(e){return km(e).map((function(e){return Tp.exact(e.start(),e.soffset(),e.finish(),e.foffset())}))},_m=function(e,t){var n=$p(e,t);return Mp(n)},Tm=function(e,t,n){return lm(e,t,n)},Em=function(e){var t=e.getSelection();t.removeAllRanges()},Om=tinymce.util.Tools.resolve("tinymce.util.VK"),Rm=function(e,t,n,r){return Bm(e,t,cp(n),r)},Nm=function(e,t,n,r){return Bm(e,t,up(n),r)},Lm=function(e,t){var n=Tp.exact(t,0,t,0);return wm(n)},Dm=function(e,t){var n=Zn(t,"tr");return q(n).bind((function(t){return tr(t,"td,th").map((function(t){return Lm(e,t)}))}))},Bm=function(e,t,n,r,i){return n.fold(g.none,g.none,(function(t,n){return Vr(n).map((function(t){return Lm(e,t)}))}),(function(n){return mr(n,t).bind((function(t){var i=po(n);return e.undoManager.transact((function(){r.insertRowsAfter(t,i)})),Dm(e,t)}))}))},Mm=["table","li","dl"],Pm=function(e,t,n,r){if(e.keyCode===Om.TAB){var i=Bc(t),o=function(e){var t=fe(e);return Pt(e,i)||N(Mm,t)},a=t.selection.getRng();if(a.collapsed){var s=ze.fromDom(a.startContainer);hr(s,o).each((function(i){e.preventDefault();var a=e.shiftKey?Nm:Rm,s=a(t,o,i,n,r);s.each((function(e){t.selection.setRng(e)}))}))}}},Fm=function(e,t){return{selection:o(e),kill:o(t)}},jm={create:Fm},Hm=function(e,t,n,r){return{start:o(yp.on(e,t)),finish:o(yp.on(n,r))}},zm={create:Hm},$m=function(e,t){var n=$p(e,t);return fp.create(ze.fromDom(n.startContainer),n.startOffset,ze.fromDom(n.endContainer),n.endOffset)},Vm=zm.create,Wm=function(e,t,n,r,i,o,a){return Pt(n,i)&&r===o?g.none():nr(n,"td,th",t).bind((function(n){return nr(i,"td,th",t).bind((function(r){return Km(e,t,n,r,a)}))}))},Km=function(e,t,n,r,i){return Pt(n,r)?g.none():Di(n,r,t).bind((function(t){var r=t.boxes.getOr([]);return r.length>0?(i(e,r,t.start,t.finish),g.some(jm.create(g.some(Vm(n,0,n,jr(n))),!0))):g.none()}))},Gm=function(e,t,n,r,i){var o=function(e){return i.clearBeforeUpdate(n),i.selectRange(n,e.boxes,e.start,e.finish),e.boxes};return ji(r,e,t,i.firstSelectedSelector,i.lastSelectedSelector).map(o)},Zm=function(e,t){return{item:o(e),mode:o(t)}},Um=function(e,t,n,r){return void 0===r&&(r=qm),e.property().parent(t).map((function(e){return Zm(e,r)}))},qm=function(e,t,n,r){return void 0===r&&(r=Xm),n.sibling(e,t).map((function(e){return Zm(e,r)}))},Xm=function(e,t,n,r){void 0===r&&(r=Xm);var i=e.property().children(t),o=n.first(i);return o.map((function(e){return Zm(e,r)}))},Ym=[{current:Um,next:qm,fallback:g.none()},{current:qm,next:Xm,fallback:g.some(Um)},{current:Xm,next:Xm,fallback:g.some(qm)}],Jm=function(e,t,n,r,i){void 0===i&&(i=Ym);var o=$(i,(function(e){return e.current===n}));return o.bind((function(n){return n.current(e,t,r,n.next).orThunk((function(){return n.fallback.bind((function(n){return Jm(e,t,n,r)}))}))}))},Qm=function(){var e=function(e,t){return e.query().prevSibling(t)},t=function(e){return e.length>0?g.some(e[e.length-1]):g.none()};return{sibling:e,first:t}},eg=function(){var e=function(e,t){return e.query().nextSibling(t)},t=function(e){return e.length>0?g.some(e[0]):g.none()};return{sibling:e,first:t}},tg={left:Qm,right:eg},ng=function(e,t,n,r,i,o){var a=Jm(e,t,r,i);return a.bind((function(t){return o(t.item())?g.none():n(t.item())?g.some(t.item()):ng(e,t.item(),n,t.mode(),i,o)}))},rg=function(e,t,n,r){return ng(e,t,n,qm,tg.left(),r)},ig=function(e,t,n,r){return ng(e,t,n,qm,tg.right(),r)},og=function(e){return function(t){return 0===e.property().children(t).length}},ag=function(e,t,n){return lg(e,t,og(e),n)},sg=function(e,t,n){return cg(e,t,og(e),n)},lg=rg,cg=ig,ug=wi(),dg=function(e,t){return ag(ug,e,t)},fg=function(e,t){return sg(ug,e,t)},hg=function(e,t,n){return lg(ug,e,t,n)},pg=function(e,t,n){return cg(ug,e,t,n)},mg=function(e,t,n){return qn(e,t,n).isSome()},gg=io.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),vg=function(e,t,n){var r=e.getRect(t),i=e.getRect(n);return i.right>r.left&&i.left<r.right},bg=function(e){return nr(e,"tr")},yg=function(e,t,n,r,i,o,a){return nr(r,"td,th",a).bind((function(n){return nr(t,"td,th",a).map((function(t){return Pt(n,t)?Pt(r,n)&&jr(n)===i?o(t):gg.none("in same cell"):Ri(bg,[n,t]).fold((function(){return vg(e,t,n)?gg.success():o(t)}),(function(e){return o(t)}))}))})).getOr(gg.none("default"))},Cg=function(e,t,n,r,i){return e.fold(t,n,r,i)},wg=We(We({},gg),{verify:yg,cata:Cg}),xg=function(e,t,n,r){return{parent:o(e),children:o(t),element:o(n),index:o(r)}},Ig=function(e){return Kt(e).bind((function(t){var n=Xt(t);return Ag(n,e).map((function(r){return xg(t,n,e,r)}))}))},Ag=function(e,t){return V(e,s(Pt,t))},kg=function(e){return"br"===fe(e)},Sg=function(e,t,n){return t(e,n).bind((function(e){return ve(e)&&0===Mr(e).trim().length?Sg(e,t,n):g.some(e)}))},_g=function(e,t,n){return n.traverse(t).orThunk((function(){return Sg(t,n.gather,e)})).map(n.relative)},Tg=function(e,t){return Yt(e,t).filter(kg).orThunk((function(){return Yt(e,t-1).filter(kg)}))},Eg=function(e,t,n,r){return Tg(t,n).bind((function(t){return r.traverse(t).fold((function(){return Sg(t,r.gather,e).map(r.relative)}),(function(e){return Ig(e).map((function(e){return yp.on(e.parent(),e.index())}))}))}))},Og=function(e,t,n,r){var i=kg(t)?_g(e,t,r):Eg(e,t,n,r);return i.map((function(e){return{start:o(e),finish:o(e)}}))},Rg=function(e){return wg.cata(e,(function(e){return g.none()}),(function(){return g.none()}),(function(e){return g.some(pu(e,0))}),(function(e){return g.some(pu(e,jr(e)))}))},Ng=function(e,t){return{left:e.left,top:e.top+t,right:e.right,bottom:e.bottom+t}},Lg=function(e,t){return{left:e.left,top:e.top-t,right:e.right,bottom:e.bottom-t}},Dg=function(e,t,n){return{left:e.left+t,top:e.top+n,right:e.right+t,bottom:e.bottom+n}},Bg=function(e){return e.top},Mg=function(e){return e.bottom},Pg=function(e,t,n){return n>=0&&n<jr(t)?e.getRangedRect(t,n,t,n+1):n>0?e.getRangedRect(t,n-1,t,n):g.none()},Fg=function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}},jg=function(e,t){return g.some(e.getRect(t))},Hg=function(e,t,n){return ge(t)?jg(e,t).map(Fg):ve(t)?Pg(e,t,n).map(Fg):g.none()},zg=function(e,t){return ge(t)?jg(e,t).map(Fg):ve(t)?e.getRangedRect(t,0,t,jr(t)).map(Fg):g.none()},$g=5,Vg=100,Wg=io.generate([{none:[]},{retry:["caret"]}]),Kg=function(e,t){return e.left<t.left||Math.abs(t.right-e.left)<1||e.left>t.right},Gg=function(e,t,n){return Xn(t,jd).fold(o(!1),(function(t){return zg(e,t).exists((function(e){return Kg(n,e)}))}))},Zg=function(e,t,n,r,i){var o=Ng(i,$g);return Math.abs(n.bottom-r.bottom)<1||n.top>i.bottom?Wg.retry(o):n.top===i.bottom?Wg.retry(Ng(i,1)):Gg(e,t,i)?Wg.retry(Dg(o,$g,0)):Wg.none()},Ug=function(e,t,n,r,i){var o=Lg(i,$g);return Math.abs(n.top-r.top)<1||n.bottom<i.top?Wg.retry(o):n.bottom===i.top?Wg.retry(Lg(i,1)):Gg(e,t,i)?Wg.retry(Dg(o,$g,0)):Wg.none()},qg={point:Bg,adjuster:Ug,move:Lg,gather:dg},Xg={point:Mg,adjuster:Zg,move:Ng,gather:fg},Yg=function(e,t,n){return e.elementFromPoint(t,n).filter((function(e){return"table"===fe(e)})).isSome()},Jg=function(e,t,n,r,i){return Qg(e,t,n,t.move(r,$g),i)},Qg=function(e,t,n,r,i){return 0===i?g.some(r):Yg(e,r.left,t.point(r))?Jg(e,t,n,r,i-1):e.situsFromPoint(r.left,t.point(r)).bind((function(o){return o.start().fold(g.none,(function(o){return zg(e,o).bind((function(a){return t.adjuster(e,o,a,n,r).fold(g.none,(function(r){return Qg(e,t,n,r,i-1)}))})).orThunk((function(){return g.some(r)}))}),g.none)}))},ev=function(e,t){return e.situsFromPoint(t.left,t.bottom+$g)},tv=function(e,t){return e.situsFromPoint(t.left,t.top-$g)},nv=function(e,t,n){return e.point(t)>n.getInnerHeight()?g.some(e.point(t)-n.getInnerHeight()):e.point(t)<0?g.some(-e.point(t)):g.none()},rv=function(e,t,n){var r=e.move(n,$g),i=Qg(t,e,n,r,Vg).getOr(r);return nv(e,i,t).fold((function(){return t.situsFromPoint(i.left,e.point(i))}),(function(n){return t.scrollBy(0,n),t.situsFromPoint(i.left,e.point(i)-n)}))},iv={tryUp:s(rv,qg),tryDown:s(rv,Xg),ieTryUp:tv,ieTryDown:ev,getJumpSize:o($g)},ov=20,av=function(e,t,n){return e.getSelection().bind((function(r){return Og(t,r.finish(),r.foffset(),n).fold((function(){return g.some(pu(r.finish(),r.foffset()))}),(function(i){var o=e.fromSitus(i),a=wg.verify(e,r.finish(),r.foffset(),o.finish(),o.foffset(),n.failure,t);return Rg(a)}))}))},sv=function(e,t,n,r,i,o){return 0===o?g.none():uv(e,t,n,r,i).bind((function(a){var s=e.fromSitus(a),l=wg.verify(e,n,r,s.finish(),s.foffset(),i.failure,t);return wg.cata(l,(function(){return g.none()}),(function(){return g.some(a)}),(function(a){return Pt(n,a)&&0===r?lv(e,n,r,Lg,i):sv(e,t,a,0,i,o-1)}),(function(a){return Pt(n,a)&&r===jr(a)?lv(e,n,r,Ng,i):sv(e,t,a,jr(a),i,o-1)}))}))},lv=function(e,t,n,r,i){return Hg(e,t,n).bind((function(t){return cv(e,i,r(t,iv.getJumpSize()))}))},cv=function(e,t,n){var r=Nt().browser;return r.isChrome()||r.isSafari()||r.isFirefox()||r.isEdge()?t.otherRetry(e,n):r.isIE()?t.ieRetry(e,n):g.none()},uv=function(e,t,n,r,i){return Hg(e,n,r).bind((function(t){return cv(e,i,t)}))},dv=function(e,t,n){return av(e,t,n).bind((function(r){return sv(e,t,r.element(),r.offset(),n,ov).map(e.fromSitus)}))},fv=function(e,t){return mg(e,(function(e){return Kt(e).exists((function(e){return Pt(e,t)}))}))},hv=function(e,t,n,r,i){return nr(r,"td,th",t).bind((function(r){return nr(r,"table",t).bind((function(a){return fv(i,a)?dv(e,t,n).bind((function(e){return nr(e.finish(),"td,th",t).map((function(t){return{start:o(r),finish:o(t),range:o(e)}}))})):g.none()}))}))},pv=function(e,t,n,r,i,o){return Nt().browser.isIE()?g.none():o(r,t).orThunk((function(){return hv(e,t,n,r,i).map((function(e){var t=e.range();return jm.create(g.some(Vm(t.start(),t.soffset(),t.finish(),t.foffset())),!0)}))}))},mv=function(e,t){return nr(e,"tr",t).bind((function(e){return nr(e,"table",t).bind((function(n){var r=Zn(n,"tr");return Pt(e,r[0])?hg(n,(function(e){return Wr(e).isSome()}),t).map((function(e){var t=jr(e);return jm.create(g.some(Vm(e,t,e,t)),!0)})):g.none()}))}))},gv=function(e,t){return nr(e,"tr",t).bind((function(e){return nr(e,"table",t).bind((function(n){var r=Zn(n,"tr");return Pt(e,r[r.length-1])?pg(n,(function(e){return Vr(e).isSome()}),t).map((function(e){return jm.create(g.some(Vm(e,0,e,0)),!0)})):g.none()}))}))},vv=function(e,t,n,r,i,o,a){return hv(e,n,r,i,o).bind((function(e){return Km(t,n,e.start(),e.finish(),a)}))},bv=function(e,t){return nr(e,"td,th",t)};function yv(e,t,n,r){var i=g.none(),o=function(){i=g.none()},a=function(e){r.clear(t),i=bv(e.target(),n)},s=function(o){i.each((function(i){r.clearBeforeUpdate(t),bv(o.target(),n).each((function(o){Di(i,o,n).each((function(n){var a=n.boxes.getOr([]);(a.length>1||1===a.length&&!Pt(i,o))&&(r.selectRange(t,a,n.start,n.finish),e.selectContents(o))}))}))}))},l=function(e){i.each(o)};return{mousedown:a,mouseover:s,mouseup:l}}var Cv={traverse:qt,gather:fg,relative:yp.before,otherRetry:iv.tryDown,ieRetry:iv.ieTryDown,failure:wg.failedDown},wv={traverse:Ut,gather:dg,relative:yp.before,otherRetry:iv.tryUp,ieRetry:iv.ieTryUp,failure:wg.failedUp},xv=function(e){return function(t){return t===e}},Iv=xv(38),Av=xv(40),kv=function(e){return e>=37&&e<=40},Sv={isBackward:xv(37),isForward:xv(39)},_v={isBackward:xv(39),isForward:xv(37)},Tv=function(e){return{left:e.left(),top:e.top(),right:e.right(),bottom:e.bottom(),width:e.width(),height:e.height()}},Ev={toRaw:Tv},Ov=function(t){var n=void 0!==t?t.dom():e.document,r=n.body.scrollLeft||n.documentElement.scrollLeft,i=n.body.scrollTop||n.documentElement.scrollTop;return Io(r,i)},Rv=function(t,n,r){var i=void 0!==r?r.dom():e.document,o=i.defaultView;o.scrollBy(t,n)},Nv=function(e){var t=function(t,n){return ze.fromPoint(ze.fromDom(e.document),t,n)},n=function(e){return e.dom().getBoundingClientRect()},r=function(t,n,r,i){var o=Tp.exact(t,n,r,i);return _m(e,o).map(Ev.toRaw)},i=function(){return Sm(e).map((function(t){return $m(e,t)}))},o=function(t){var n=Tp.relative(t.start(),t.finish());return $m(e,n)},a=function(t,n){return Tm(e,t,n).map((function(e){return zm.create(e.start(),e.soffset(),e.finish(),e.foffset())}))},s=function(){Em(e)},l=function(t){void 0===t&&(t=!1),Sm(e).each((function(n){return n.fold((function(e){return e.collapse(t)}),(function(n,r){var i=t?n:r;Cm(e,i,i)}),(function(n,r,i,o){var a=t?n:i,s=t?r:o;ym(e,a,s,a,s)}))}))},c=function(t){Am(e,t)},u=function(t){ym(e,t.start(),t.soffset(),t.finish(),t.foffset())},d=function(t,n){Cm(e,t,n)},f=function(){return e.innerHeight},h=function(){var t=Ov(ze.fromDom(e.document));return t.top()},p=function(t,n){Rv(t,n,ze.fromDom(e.document))};return{elementFromPoint:t,getRect:n,getRangedRect:r,getSelection:i,fromSitus:o,situsFromPoint:a,clearSelection:s,collapseSelection:l,setSelection:u,setRelativeSelection:d,selectContents:c,getInnerHeight:f,getScrollY:h,scrollBy:p}},Lv=function(e,t){return{rows:e,cols:t}},Dv=function(e,t,n,r){var i=Nv(e),o=yv(i,t,n,r);return{mousedown:o.mousedown,mouseover:o.mouseover,mouseup:o.mouseup}},Bv=function(e,t,n,r){var i=Nv(e),o=function(){return r.clear(t),g.none()},a=function(e,a,l,c,u,d){var f=e.raw(),h=f.which,p=!0===f.shiftKey,m=Bi(t,r.selectedSelector).fold((function(){return Av(h)&&p?s(vv,i,t,n,Cv,c,a,r.selectRange):Iv(h)&&p?s(vv,i,t,n,wv,c,a,r.selectRange):Av(h)?s(pv,i,n,Cv,c,a,gv):Iv(h)?s(pv,i,n,wv,c,a,mv):g.none}),(function(e){var n=function(n){return function(){var o=X(n,(function(n){return Gm(n.rows,n.cols,t,e,r)}));return o.fold((function(){return Pi(t,r.firstSelectedSelector,r.lastSelectedSelector).map((function(e){var n=Av(h)||d.isForward(h)?yp.after:yp.before;return i.setRelativeSelection(yp.on(e.first(),0),n(e.table())),r.clear(t),jm.create(g.none(),!0)}))}),(function(e){return g.some(jm.create(g.none(),!0))}))}};return Av(h)&&p?n([Lv(1,0)]):Iv(h)&&p?n([Lv(-1,0)]):d.isBackward(h)&&p?n([Lv(0,-1),Lv(-1,0)]):d.isForward(h)&&p?n([Lv(0,1),Lv(1,0)]):kv(h)&&!1===p?o:g.none}));return m()},l=function(e,i,o,a,s){return Bi(t,r.selectedSelector).fold((function(){var l=e.raw(),c=l.which,u=!0===l.shiftKey;return!1===u?g.none():kv(c)?Wm(t,n,i,o,a,s,r.selectRange):g.none()}),g.none)};return{keydown:a,keyup:l}},Mv=function(e,t,n,r){var i=Nv(e);return function(e,o){r.clearBeforeUpdate(t),Di(e,o,n).each((function(e){var n=e.boxes.getOr([]);r.selectRange(t,n,e.start,e.finish),i.selectContents(o),i.collapseSelection()}))}},Pv=function(e,t){M(t,(function(t){Qs(e,t)}))},Fv=function(e){return function(t){Ys(t,e)}},jv=function(e){return function(t){Pv(t,e)}},Hv=function(e){var t=Fv(e.selected),n=jv([e.selected,e.lastSelected,e.firstSelected]),r=function(t){var r=Zn(t,e.selectedSelector);M(r,n)},i=function(n,i,o,a){r(n),M(i,t),Ys(o,e.firstSelected),Ys(a,e.lastSelected)};return{clearBeforeUpdate:r,clear:r,selectRange:i,selectedSelector:e.selectedSelector,firstSelectedSelector:e.firstSelectedSelector,lastSelectedSelector:e.lastSelectedSelector}},zv=function(e,t,n){var r=function(t){Se(t,e.selected),Se(t,e.firstSelected),Se(t,e.lastSelected)},i=function(t){we(t,e.selected,"1")},o=function(e){a(e),n()},a=function(t){var n=Zn(t,e.selectedSelector);M(n,r)},s=function(n,r,a,s){o(n),M(r,i),we(a,e.firstSelected,"1"),we(s,e.lastSelected,"1"),t(r,a,s)};return{clearBeforeUpdate:a,clear:o,selectRange:s,selectedSelector:e.selectedSelector,firstSelectedSelector:e.firstSelectedSelector,lastSelectedSelector:e.lastSelectedSelector}},$v={byClass:Hv,byAttr:zv},Vv=function(e,t,n){var r=e.slice(0,t[t.length-1].row()+1),i=Vu(r,n);return K(i,(function(e){var n=e.cells().slice(0,t[t.length-1].column()+1);return B(n,(function(e){return e.element()}))}))},Wv=function(e,t,n){var r=e.slice(t[0].row()+t[0].rowspan()-1,e.length),i=Vu(r,n);return K(i,(function(e){var n=e.cells().slice(t[0].column()+t[0].colspan()-1,+e.cells().length);return B(n,(function(e){return e.element()}))}))},Kv=function(e,t,n){var r=Sr.fromTable(e),i=Yu(r,t);return i.map((function(e){var t=Hu(r,n,!1),i=Vv(t,e,n),o=Wv(t,e,n);return{upOrLeftCells:i,downOrRightCells:o}}))},Gv=function(e){return!1===el(ze.fromDom(e.target),"ephox-snooker-resizer-bar")};function Zv(e,t,r){var i=function(t,i,o){r.targets().each((function(r){var a=mr(i);a.each((function(a){var s=Nc(e),l=ni(n,ze.fromDom(e.getDoc()),s),c=Kv(a,r,l);ac(e,t,i,o,c)}))}))},o=function(){return sc(e)},a=$v.byAttr(no,i,o);return e.on("init",(function(r){var i=e.getWin(),o=Bc(e),s=Fc(e),l=function(){var t=e.selection,r=ze.fromDom(t.getStart()),i=ze.fromDom(t.getEnd()),s=Ri(mr,[r,i]);s.fold((function(){return a.clear(o)}),n)},c=Dv(i,o,s,a),u=Bv(i,o,s,a),d=Mv(i,o,s,a),f=function(e){return!0===e.raw().shiftKey};e.on("TableSelectorChange",(function(e){return d(e.start,e.finish)}));var h=function(t,n){f(t)&&(n.kill()&&t.kill(),n.selection().each((function(t){var n=Tp.relative(t.start(),t.finish()),r=$p(i,n);e.selection.setRng(r)})))},p=function(t){var n=Vs(t);if(n.raw().shiftKey&&kv(n.raw().which)){var r=e.selection.getRng(),i=ze.fromDom(r.startContainer),o=ze.fromDom(r.endContainer);u.keyup(n,i,r.startOffset,o,r.endOffset).each((function(e){h(n,e)}))}},m=function(n){var r=Vs(n);t().each((function(e){return e.hideBars()}));var i=e.selection.getRng(),o=ze.fromDom(e.selection.getStart()),a=ze.fromDom(i.startContainer),s=ze.fromDom(i.endContainer),l=Zc(o).isRtl()?_v:Sv;u.keydown(r,a,i.startOffset,s,i.endOffset,l).each((function(e){h(r,e)})),t().each((function(e){return e.showBars()}))},g=function(e){return 0===e.button},v=function(e){return void 0===e.buttons||(!(!Xh.browser.isEdge()||0!==e.buttons)||0!==(1&e.buttons))},b=function(e){g(e)&&Gv(e)&&c.mousedown(Vs(e))},y=function(e){v(e)&&Gv(e)&&c.mouseover(Vs(e))},C=function(e){g(e)&&Gv(e)&&c.mouseup(Vs(e))},w=function(){var e=Uc(ze.fromDom(o)),t=Uc(0),n=function(n){var r=ze.fromDom(n.target);if("td"===fe(r)||"th"===fe(r)){var i=e.get(),o=t.get();Pt(i,r)&&n.timeStamp-o<300&&(n.preventDefault(),d(r,r))}e.set(r),t.set(n.timeStamp)};return{touchEnd:n}},x=w();e.on("mousedown",b),e.on("mouseover",y),e.on("mouseup",C),e.on("touchend",x.touchEnd),e.on("keyup",p),e.on("keydown",m),e.on("NodeChange",l)})),{clear:a.clear}}var Uv=function(e,t){var n=Uc(g.none()),r=Uc([]),i=function(){return Wf(e).bind((function(e){var n=mr(e),r=function(e){return"caption"===fe(e)};return n.map((function(n){return r(e)?po(e):mo(t,n,e)}))}))},o=function(){n.set(Ke(i)()),M(r.get(),(function(e){return e()}))},a=function(e,t){var i=function(){return n.get().fold((function(){e.setDisabled(!0)}),(function(n){e.setDisabled(t(n))}))};return i(),r.set(r.get().concat([i])),function(){r.set(F(r.get(),(function(e){return e!==i})))}},s=function(e){return a(e,(function(e){return!1}))},l=function(e){return a(e,(function(e){return"caption"===fe(e.element())}))},c=function(e){return function(t){return a(t,(function(t){return"caption"===fe(t.element())||e().isNone()}))}},u=function(e){return a(e,(function(e){return e.mergable().isNone()}))},d=function(e){return a(e,(function(e){return e.unmergable().isNone()}))};return e.on("NodeChange ExecCommand TableSelectorChange",o),{onSetupTable:s,onSetupCellOrRow:l,onSetupPasteable:c,onSetupMergeable:u,onSetupUnmergeable:d,resetTargets:o,targets:function(){return n.get()}}},qv=function(e,t,n){e.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",fetch:function(e){return e("inserttable | cell row column | advtablesort | tableprops deletetable")}});var r=function(t){return function(){return e.execCommand(t)}};e.ui.registry.addButton("tableprops",{tooltip:"Table properties",onAction:r("mceTableProps"),icon:"table",onSetup:t.onSetupTable}),e.ui.registry.addButton("tabledelete",{tooltip:"Delete table",onAction:r("mceTableDelete"),icon:"table-delete-table",onSetup:t.onSetupTable}),e.ui.registry.addButton("tablecellprops",{tooltip:"Cell properties",onAction:r("mceTableCellProps"),icon:"table-cell-properties",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tablemergecells",{tooltip:"Merge cells",onAction:r("mceTableMergeCells"),icon:"table-merge-cells",onSetup:t.onSetupMergeable}),e.ui.registry.addButton("tablesplitcells",{tooltip:"Split cell",onAction:r("mceTableSplitCells"),icon:"table-split-cells",onSetup:t.onSetupUnmergeable}),e.ui.registry.addButton("tableinsertrowbefore",{tooltip:"Insert row before",onAction:r("mceTableInsertRowBefore"),icon:"table-insert-row-above",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tableinsertrowafter",{tooltip:"Insert row after",onAction:r("mceTableInsertRowAfter"),icon:"table-insert-row-after",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tabledeleterow",{tooltip:"Delete row",onAction:r("mceTableDeleteRow"),icon:"table-delete-row",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tablerowprops",{tooltip:"Row properties",onAction:r("mceTableRowProps"),icon:"table-row-properties",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tableinsertcolbefore",{tooltip:"Insert column before",onAction:r("mceTableInsertColBefore"),icon:"table-insert-column-before",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tableinsertcolafter",{tooltip:"Insert column after",onAction:r("mceTableInsertColAfter"),icon:"table-insert-column-after",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tabledeletecol",{tooltip:"Delete column",onAction:r("mceTableDeleteCol"),icon:"table-delete-column",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tablecutrow",{tooltip:"Cut row",icon:"cut-row",onAction:r("mceTableCutRow"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tablecopyrow",{tooltip:"Copy row",icon:"duplicate-row",onAction:r("mceTableCopyRow"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tablepasterowbefore",{tooltip:"Paste row before",icon:"paste-row-before",onAction:r("mceTablePasteRowBefore"),onSetup:t.onSetupPasteable(n.getRows)}),e.ui.registry.addButton("tablepasterowafter",{tooltip:"Paste row after",icon:"paste-row-after",onAction:r("mceTablePasteRowAfter"),onSetup:t.onSetupPasteable(n.getRows)}),e.ui.registry.addButton("tablecutcol",{tooltip:"Cut column",icon:"cut-column",onAction:r("mceTableCutCol"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tablecopycol",{tooltip:"Copy column",icon:"duplicate-column",onAction:r("mceTableCopyCol"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tablepastecolbefore",{tooltip:"Paste column before",icon:"paste-column-before",onAction:r("mceTablePasteColBefore"),onSetup:t.onSetupPasteable(n.getColumns)}),e.ui.registry.addButton("tablepastecolafter",{tooltip:"Paste column after",icon:"paste-column-after",onAction:r("mceTablePasteColAfter"),onSetup:t.onSetupPasteable(n.getColumns)}),e.ui.registry.addButton("tableinsertdialog",{tooltip:"Insert table",onAction:r("mceInsertTable"),icon:"table"})},Xv=function(e){var t=function(t){return e.dom.is(t,"table")&&e.getBody().contains(t)},n=Oc(e);n.length>0&&e.ui.registry.addContextToolbar("table",{predicate:t,items:n,scope:"node",position:"node"})},Yv=function(e,t,n){var r=function(t){return function(){return e.execCommand(t)}},i=function(t){var n=t.numRows,r=t.numColumns;e.undoManager.transact((function(){ah(e,r,n,0,0)})),e.addVisual()},o={text:"Table properties",onSetup:t.onSetupTable,onAction:r("mceTableProps")},a={text:"Delete table",icon:"table-delete-table",onSetup:t.onSetupTable,onAction:r("mceTableDelete")};e.ui.registry.addMenuItem("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",onAction:r("mceTableInsertRowBefore"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuItem("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",onAction:r("mceTableInsertRowAfter"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuItem("tabledeleterow",{text:"Delete row",icon:"table-delete-row",onAction:r("mceTableDeleteRow"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuItem("tablerowprops",{text:"Row properties",icon:"table-row-properties",onAction:r("mceTableRowProps"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuItem("tablecutrow",{text:"Cut row",icon:"cut-row",onAction:r("mceTableCutRow"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuItem("tablecopyrow",{text:"Copy row",icon:"duplicate-row",onAction:r("mceTableCopyRow"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuItem("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",onAction:r("mceTablePasteRowBefore"),onSetup:t.onSetupPasteable(n.getRows)}),e.ui.registry.addMenuItem("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",onAction:r("mceTablePasteRowAfter"),onSetup:t.onSetupPasteable(n.getRows)});var s={type:"nestedmenuitem",text:"Row",getSubmenuItems:function(){return"tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter"}};e.ui.registry.addMenuItem("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",onAction:r("mceTableInsertColBefore"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuItem("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",onAction:r("mceTableInsertColAfter"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuItem("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",onAction:r("mceTableDeleteCol"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuItem("tablecutcolumn",{text:"Cut column",icon:"cut-column",onAction:r("mceTableCutCol"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuItem("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",onAction:r("mceTableCopyCol"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuItem("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",onAction:r("mceTablePasteColBefore"),onSetup:t.onSetupPasteable(n.getColumns)}),e.ui.registry.addMenuItem("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",onAction:r("mceTablePasteColAfter"),onSetup:t.onSetupPasteable(n.getColumns)});var l={type:"nestedmenuitem",text:"Column",getSubmenuItems:function(){return"tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn"}};e.ui.registry.addMenuItem("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",onAction:r("mceTableCellProps"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuItem("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",onAction:r("mceTableMergeCells"),onSetup:t.onSetupMergeable}),e.ui.registry.addMenuItem("tablesplitcells",{text:"Split cell",icon:"table-split-cells",onAction:r("mceTableSplitCells"),onSetup:t.onSetupUnmergeable});var c={type:"nestedmenuitem",text:"Cell",getSubmenuItems:function(){return"tablecellprops tablemergecells tablesplitcells"}};!1===xc(e)?e.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:r("mceInsertTable")}):e.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"inserttable",onAction:i}]}}),e.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:r("mceInsertTable")}),e.ui.registry.addMenuItem("tableprops",o),e.ui.registry.addMenuItem("deletetable",a),e.ui.registry.addNestedMenuItem("row",s),e.ui.registry.addNestedMenuItem("column",l),e.ui.registry.addNestedMenuItem("cell",c),e.ui.registry.addContextMenu("table",{update:function(){return t.resetTargets(),t.targets().fold((function(){return""}),(function(e){return"caption"===fe(e.element())?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"}))}})},Jv={tablecellbackgroundcolor:{selector:"td,th",styles:{backgroundColor:"%value"},remove_similar:!0},tablecellbordercolor:{selector:"td,th",styles:{borderColor:"%value"},remove_similar:!0},tablecellborderstyle:{selector:"td,th",styles:{borderStyle:"%value"},remove_similar:!0},tablecellborderwidth:{selector:"td,th",styles:{borderWidth:"%value"},remove_similar:!0}},Qv=function(e){e.formatter.register(Jv)};function eb(e){var t=zf(e),n=Uv(e,t),r=hu(e),i=Zv(e,r.lazyResize,n),o=Zf(e,r.lazyWire),a=ip();return np(e,o,i,t,a),rp(e,o,t),wo(e,t,o,i),Yv(e,n,a),qv(e,n,a),Xv(e),e.on("PreInit",(function(){e.serializer.addTempAttr(Ji),e.serializer.addTempAttr(eo),Qv(e)})),vc(e)&&e.on("keydown",(function(t){Pm(t,e,o,r.lazyWire)})),e.on("remove",(function(){r.destroy()})),uh(e,a,r,n)}function tb(){t.add("table",eb)}tb()})(window)},9533:function(e,t,n){"use strict";var r=n("e636"),i=n.n(r);i.a},"959b":function(e,t,n){(function(e){e(n("56b3"),n("d5e0"),n("f040"))})((function(e){"use strict";e.defineMode("markdown",(function(t,n){var r=e.getMode(t,"text/html"),i="null"==r.name;function o(n){if(e.findModeByName){var r=e.findModeByName(n);r&&(n=r.mime||r.mimes[0])}var i=e.getMode(t,n);return"null"==i.name?null:i}void 0===n.highlightFormatting&&(n.highlightFormatting=!1),void 0===n.maxBlockquoteDepth&&(n.maxBlockquoteDepth=0),void 0===n.taskLists&&(n.taskLists=!1),void 0===n.strikethrough&&(n.strikethrough=!1),void 0===n.emoji&&(n.emoji=!1),void 0===n.fencedCodeBlockHighlighting&&(n.fencedCodeBlockHighlighting=!0),void 0===n.fencedCodeBlockDefaultMode&&(n.fencedCodeBlockDefaultMode="text/plain"),void 0===n.xml&&(n.xml=!0),void 0===n.tokenTypeOverrides&&(n.tokenTypeOverrides={});var a={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var s in a)a.hasOwnProperty(s)&&n.tokenTypeOverrides[s]&&(a[s]=n.tokenTypeOverrides[s]);var l=/^([*\-_])(?:\s*\1){2,}\s*$/,c=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,u=/^\[(x| )\](?=\s)/i,d=n.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,f=/^ {0,3}(?:\={1,}|-{2,})\s*$/,h=/^[^#!\[\]*_\\<>` "'(~:]+/,p=/^(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/,m=/^\s*\[[^\]]+?\]:.*$/,g=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/,v="    ";function b(e,t,n){return t.f=t.inline=n,n(e,t)}function y(e,t,n){return t.f=t.block=n,n(e,t)}function C(e){return!e||!/\S/.test(e.string)}function w(t){if(t.linkTitle=!1,t.linkHref=!1,t.linkText=!1,t.em=!1,t.strong=!1,t.strikethrough=!1,t.quote=0,t.indentedCode=!1,t.f==I){var n=i;if(!n){var o=e.innerMode(r,t.htmlState);n="xml"==o.mode.name&&null===o.state.tagStart&&!o.state.context&&o.state.tokenize.isInText}n&&(t.f=_,t.block=x,t.htmlState=null)}return t.trailingSpace=0,t.trailingSpaceNewLine=!1,t.prevLine=t.thisLine,t.thisLine={stream:null},null}function x(t,r){var i=t.column()===r.indentation,s=C(r.prevLine.stream),h=r.indentedCode,g=r.prevLine.hr,v=!1!==r.list,y=(r.listStack[r.listStack.length-1]||0)+3;r.indentedCode=!1;var w=r.indentation;if(null===r.indentationDiff&&(r.indentationDiff=r.indentation,v)){r.list=null;while(w<r.listStack[r.listStack.length-1])r.listStack.pop(),r.listStack.length?r.indentation=r.listStack[r.listStack.length-1]:r.list=!1;!1!==r.list&&(r.indentationDiff=w-r.listStack[r.listStack.length-1])}var x=!s&&!g&&!r.prevLine.header&&(!v||!h)&&!r.prevLine.fencedCodeEnd,I=(!1===r.list||g||s)&&r.indentation<=y&&t.match(l),S=null;if(r.indentationDiff>=4&&(h||r.prevLine.fencedCodeEnd||r.prevLine.header||s))return t.skipToEnd(),r.indentedCode=!0,a.code;if(t.eatSpace())return null;if(i&&r.indentation<=y&&(S=t.match(d))&&S[1].length<=6)return r.quote=0,r.header=S[1].length,r.thisLine.header=!0,n.highlightFormatting&&(r.formatting="header"),r.f=r.inline,k(r);if(r.indentation<=y&&t.eat(">"))return r.quote=i?1:r.quote+1,n.highlightFormatting&&(r.formatting="quote"),t.eatSpace(),k(r);if(!I&&!r.setext&&i&&r.indentation<=y&&(S=t.match(c))){var _=S[1]?"ol":"ul";return r.indentation=w+t.current().length,r.list=!0,r.quote=0,r.listStack.push(r.indentation),r.em=!1,r.strong=!1,r.code=!1,r.strikethrough=!1,n.taskLists&&t.match(u,!1)&&(r.taskList=!0),r.f=r.inline,n.highlightFormatting&&(r.formatting=["list","list-"+_]),k(r)}return i&&r.indentation<=y&&(S=t.match(p,!0))?(r.quote=0,r.fencedEndRE=new RegExp(S[1]+"+ *$"),r.localMode=n.fencedCodeBlockHighlighting&&o(S[2]||n.fencedCodeBlockDefaultMode),r.localMode&&(r.localState=e.startState(r.localMode)),r.f=r.block=A,n.highlightFormatting&&(r.formatting="code-block"),r.code=-1,k(r)):r.setext||!(x&&v||r.quote||!1!==r.list||r.code||I||m.test(t.string))&&(S=t.lookAhead(1))&&(S=S.match(f))?(r.setext?(r.header=r.setext,r.setext=0,t.skipToEnd(),n.highlightFormatting&&(r.formatting="header")):(r.header="="==S[0].charAt(0)?1:2,r.setext=r.header),r.thisLine.header=!0,r.f=r.inline,k(r)):I?(t.skipToEnd(),r.hr=!0,r.thisLine.hr=!0,a.hr):"["===t.peek()?b(t,r,N):b(t,r,r.inline)}function I(t,n){var o=r.token(t,n.htmlState);if(!i){var a=e.innerMode(r,n.htmlState);("xml"==a.mode.name&&null===a.state.tagStart&&!a.state.context&&a.state.tokenize.isInText||n.md_inside&&t.current().indexOf(">")>-1)&&(n.f=_,n.block=x,n.htmlState=null)}return o}function A(e,t){var r,i=t.listStack[t.listStack.length-1]||0,o=t.indentation<i,s=i+3;return t.fencedEndRE&&t.indentation<=s&&(o||e.match(t.fencedEndRE))?(n.highlightFormatting&&(t.formatting="code-block"),o||(r=k(t)),t.localMode=t.localState=null,t.block=x,t.f=_,t.fencedEndRE=null,t.code=0,t.thisLine.fencedCodeEnd=!0,o?y(e,t,t.block):r):t.localMode?t.localMode.token(e,t.localState):(e.skipToEnd(),a.code)}function k(e){var t=[];if(e.formatting){t.push(a.formatting),"string"===typeof e.formatting&&(e.formatting=[e.formatting]);for(var r=0;r<e.formatting.length;r++)t.push(a.formatting+"-"+e.formatting[r]),"header"===e.formatting[r]&&t.push(a.formatting+"-"+e.formatting[r]+"-"+e.header),"quote"===e.formatting[r]&&(!n.maxBlockquoteDepth||n.maxBlockquoteDepth>=e.quote?t.push(a.formatting+"-"+e.formatting[r]+"-"+e.quote):t.push("error"))}if(e.taskOpen)return t.push("meta"),t.length?t.join(" "):null;if(e.taskClosed)return t.push("property"),t.length?t.join(" "):null;if(e.linkHref?t.push(a.linkHref,"url"):(e.strong&&t.push(a.strong),e.em&&t.push(a.em),e.strikethrough&&t.push(a.strikethrough),e.emoji&&t.push(a.emoji),e.linkText&&t.push(a.linkText),e.code&&t.push(a.code),e.image&&t.push(a.image),e.imageAltText&&t.push(a.imageAltText,"link"),e.imageMarker&&t.push(a.imageMarker)),e.header&&t.push(a.header,a.header+"-"+e.header),e.quote&&(t.push(a.quote),!n.maxBlockquoteDepth||n.maxBlockquoteDepth>=e.quote?t.push(a.quote+"-"+e.quote):t.push(a.quote+"-"+n.maxBlockquoteDepth)),!1!==e.list){var i=(e.listStack.length-1)%3;i?1===i?t.push(a.list2):t.push(a.list3):t.push(a.list1)}return e.trailingSpaceNewLine?t.push("trailing-space-new-line"):e.trailingSpace&&t.push("trailing-space-"+(e.trailingSpace%2?"a":"b")),t.length?t.join(" "):null}function S(e,t){if(e.match(h,!0))return k(t)}function _(t,i){var o=i.text(t,i);if("undefined"!==typeof o)return o;if(i.list)return i.list=null,k(i);if(i.taskList){var s=" "===t.match(u,!0)[1];return s?i.taskOpen=!0:i.taskClosed=!0,n.highlightFormatting&&(i.formatting="task"),i.taskList=!1,k(i)}if(i.taskOpen=!1,i.taskClosed=!1,i.header&&t.match(/^#+$/,!0))return n.highlightFormatting&&(i.formatting="header"),k(i);var l=t.next();if(i.linkTitle){i.linkTitle=!1;var c=l;"("===l&&(c=")"),c=(c+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1");var d="^\\s*(?:[^"+c+"\\\\]+|\\\\\\\\|\\\\.)"+c;if(t.match(new RegExp(d),!0))return a.linkHref}if("`"===l){var f=i.formatting;n.highlightFormatting&&(i.formatting="code"),t.eatWhile("`");var h=t.current().length;if(0!=i.code||i.quote&&1!=h){if(h==i.code){var p=k(i);return i.code=0,p}return i.formatting=f,k(i)}return i.code=h,k(i)}if(i.code)return k(i);if("\\"===l&&(t.next(),n.highlightFormatting)){var m=k(i),v=a.formatting+"-escape";return m?m+" "+v:v}if("!"===l&&t.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return i.imageMarker=!0,i.image=!0,n.highlightFormatting&&(i.formatting="image"),k(i);if("["===l&&i.imageMarker&&t.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return i.imageMarker=!1,i.imageAltText=!0,n.highlightFormatting&&(i.formatting="image"),k(i);if("]"===l&&i.imageAltText){n.highlightFormatting&&(i.formatting="image");m=k(i);return i.imageAltText=!1,i.image=!1,i.inline=i.f=E,m}if("["===l&&!i.image)return i.linkText&&t.match(/^.*?\]/)||(i.linkText=!0,n.highlightFormatting&&(i.formatting="link")),k(i);if("]"===l&&i.linkText){n.highlightFormatting&&(i.formatting="link");m=k(i);return i.linkText=!1,i.inline=i.f=t.match(/\(.*?\)| ?\[.*?\]/,!1)?E:_,m}if("<"===l&&t.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){i.f=i.inline=T,n.highlightFormatting&&(i.formatting="link");m=k(i);return m?m+=" ":m="",m+a.linkInline}if("<"===l&&t.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){i.f=i.inline=T,n.highlightFormatting&&(i.formatting="link");m=k(i);return m?m+=" ":m="",m+a.linkEmail}if(n.xml&&"<"===l&&t.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1)){var b=t.string.indexOf(">",t.pos);if(-1!=b){var C=t.string.substring(t.start,b);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(C)&&(i.md_inside=!0)}return t.backUp(1),i.htmlState=e.startState(r),y(t,i,I)}if(n.xml&&"<"===l&&t.match(/^\/\w*?>/))return i.md_inside=!1,"tag";if("*"===l||"_"===l){var w=1,x=1==t.pos?" ":t.string.charAt(t.pos-2);while(w<3&&t.eat(l))w++;var A=t.peek()||" ",S=!/\s/.test(A)&&(!g.test(A)||/\s/.test(x)||g.test(x)),O=!/\s/.test(x)&&(!g.test(x)||/\s/.test(A)||g.test(A)),R=null,N=null;if(w%2&&(i.em||!S||"*"!==l&&O&&!g.test(x)?i.em!=l||!O||"*"!==l&&S&&!g.test(A)||(R=!1):R=!0),w>1&&(i.strong||!S||"*"!==l&&O&&!g.test(x)?i.strong!=l||!O||"*"!==l&&S&&!g.test(A)||(N=!1):N=!0),null!=N||null!=R){n.highlightFormatting&&(i.formatting=null==R?"strong":null==N?"em":"strong em"),!0===R&&(i.em=l),!0===N&&(i.strong=l);p=k(i);return!1===R&&(i.em=!1),!1===N&&(i.strong=!1),p}}else if(" "===l&&(t.eat("*")||t.eat("_"))){if(" "===t.peek())return k(i);t.backUp(1)}if(n.strikethrough)if("~"===l&&t.eatWhile(l)){if(i.strikethrough){n.highlightFormatting&&(i.formatting="strikethrough");p=k(i);return i.strikethrough=!1,p}if(t.match(/^[^\s]/,!1))return i.strikethrough=!0,n.highlightFormatting&&(i.formatting="strikethrough"),k(i)}else if(" "===l&&t.match(/^~~/,!0)){if(" "===t.peek())return k(i);t.backUp(2)}if(n.emoji&&":"===l&&t.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)){i.emoji=!0,n.highlightFormatting&&(i.formatting="emoji");var L=k(i);return i.emoji=!1,L}return" "===l&&(t.match(/^ +$/,!1)?i.trailingSpace++:i.trailingSpace&&(i.trailingSpaceNewLine=!0)),k(i)}function T(e,t){var r=e.next();if(">"===r){t.f=t.inline=_,n.highlightFormatting&&(t.formatting="link");var i=k(t);return i?i+=" ":i="",i+a.linkInline}return e.match(/^[^>]+/,!0),a.linkInline}function E(e,t){if(e.eatSpace())return null;var r=e.next();return"("===r||"["===r?(t.f=t.inline=R("("===r?")":"]"),n.highlightFormatting&&(t.formatting="link-string"),t.linkHref=!0,k(t)):"error"}var O={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/};function R(e){return function(t,r){var i=t.next();if(i===e){r.f=r.inline=_,n.highlightFormatting&&(r.formatting="link-string");var o=k(r);return r.linkHref=!1,o}return t.match(O[e]),r.linkHref=!0,k(r)}}function N(e,t){return e.match(/^([^\]\\]|\\.)*\]:/,!1)?(t.f=L,e.next(),n.highlightFormatting&&(t.formatting="link"),t.linkText=!0,k(t)):b(e,t,_)}function L(e,t){if(e.match(/^\]:/,!0)){t.f=t.inline=D,n.highlightFormatting&&(t.formatting="link");var r=k(t);return t.linkText=!1,r}return e.match(/^([^\]\\]|\\.)+/,!0),a.linkText}function D(e,t){return e.eatSpace()?null:(e.match(/^[^\s]+/,!0),void 0===e.peek()?t.linkTitle=!0:e.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0),t.f=t.inline=_,a.linkHref+" url")}var B={startState:function(){return{f:x,prevLine:{stream:null},thisLine:{stream:null},block:x,htmlState:null,indentation:0,inline:_,text:S,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(t){return{f:t.f,prevLine:t.prevLine,thisLine:t.thisLine,block:t.block,htmlState:t.htmlState&&e.copyState(r,t.htmlState),indentation:t.indentation,localMode:t.localMode,localState:t.localMode?e.copyState(t.localMode,t.localState):null,inline:t.inline,text:t.text,formatting:!1,linkText:t.linkText,linkTitle:t.linkTitle,linkHref:t.linkHref,code:t.code,em:t.em,strong:t.strong,strikethrough:t.strikethrough,emoji:t.emoji,header:t.header,setext:t.setext,hr:t.hr,taskList:t.taskList,list:t.list,listStack:t.listStack.slice(0),quote:t.quote,indentedCode:t.indentedCode,trailingSpace:t.trailingSpace,trailingSpaceNewLine:t.trailingSpaceNewLine,md_inside:t.md_inside,fencedEndRE:t.fencedEndRE}},token:function(e,t){if(t.formatting=!1,e!=t.thisLine.stream){if(t.header=0,t.hr=!1,e.match(/^\s*$/,!0))return w(t),null;if(t.prevLine=t.thisLine,t.thisLine={stream:e},t.taskList=!1,t.trailingSpace=0,t.trailingSpaceNewLine=!1,!t.localState&&(t.f=t.block,t.f!=I)){var n=e.match(/^\s*/,!0)[0].replace(/\t/g,v).length;if(t.indentation=n,t.indentationDiff=null,n>0)return null}}return t.f(e,t)},innerMode:function(e){return e.block==I?{state:e.htmlState,mode:r}:e.localState?{state:e.localState,mode:e.localMode}:{state:e,mode:B}},indent:function(t,n,i){return t.block==I&&r.indent?r.indent(t.htmlState,n,i):t.localState&&t.localMode.indent?t.localMode.indent(t.localState,n,i):e.Pass},blankLine:w,getType:k,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return B}),"xml"),e.defineMIME("text/markdown","markdown"),e.defineMIME("text/x-markdown","markdown")}))},9606:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{staticStyle:{"min-width":"500px","overflow-x":"auto"}},[n("p",[e._v("我是右侧页面")]),n("img-turn-page")],1)},i=[],o=n("4874"),a={name:"SplitPanelAModal",components:{ImgTurnPage:o["default"]},data:function(){return{}},created:function(){},methods:{}},s=a,l=n("2877"),c=Object(l["a"])(s,r,i,!1,null,"713c2a54",null);t["default"]=c.exports},9655:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:e.title,width:1e3,visible:e.visible,confirmLoading:e.confirmLoading,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"规则名称"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["ruleName",e.validatorRules.ruleName],expression:"['ruleName', validatorRules.ruleName]"}],attrs:{placeholder:"请输入规则名称"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"规则Code"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["ruleCode",e.validatorRules.ruleCode],expression:"['ruleCode', validatorRules.ruleCode]"}],attrs:{placeholder:"请输入规则Code"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"规则描述"}},[n("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["ruleDescription",{}],expression:"['ruleDescription', {}]"}],attrs:{placeholder:"请输入规则描述"}})],1)],1),n("a-tabs",{model:{value:e.tabs.activeKey,callback:function(t){e.$set(e.tabs,"activeKey",t)},expression:"tabs.activeKey"}},[n("a-tab-pane",{key:e.tabs.design.key,attrs:{tab:"局部规则",forceRender:""}},[n("a-alert",{attrs:{type:"info",showIcon:"",message:"局部规则按照你输入的位数有序的校验。"}}),n("j-editable-table",{ref:"designTable",staticStyle:{"margin-top":"8px"},attrs:{dragSort:"",rowNumber:"",maxHeight:240,columns:e.tabs.design.columns,dataSource:e.tabs.design.dataSource},scopedSlots:e._u([{key:"action",fn:function(e){return[n("my-action-button",{attrs:{rowEvent:e}})]}}])})],1),n("a-tab-pane",{key:e.tabs.global.key,attrs:{tab:"全局规则",forceRender:""}},[n("j-editable-table",{ref:"globalTable",attrs:{dragSort:"",rowNumber:"",actionButton:"",maxHeight:240,columns:e.tabs.global.columns,dataSource:e.tabs.global.dataSource},scopedSlots:e._u([{key:"actionButtonAfter",fn:function(){return[n("a-alert",{staticStyle:{"margin-bottom":"8px"},attrs:{type:"info",showIcon:"",message:"全局规则可校验用户输入的所有字符；全局规则的优先级比局部规则的要高。"}})]},proxy:!0},{key:"action",fn:function(e){return[n("my-action-button",{attrs:{rowEvent:e,allowEmpty:""}})]}}])})],1)],1)],1)],1)},i=[],o=n("88bc"),a=n.n(o),s=n("0fea"),l=n("ca00"),c=n("e2e0"),u=n("7550");function d(e,t){return g(e)||m(e,t)||h(e,t)||f()}function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){if(e){if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0)if(n.push(a.value),t&&n.length===t)break}catch(l){i=!0,o=l}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw o}}return n}}function g(e){if(Array.isArray(e))return e}var v={name:"SysCheckRuleModal",components:{JEditableTable:u["default"],"my-action-button":{props:{rowEvent:Object,allowEmpty:Boolean},methods:{confirmIsShow:function(){var e=this.rowEvent,t=e.index,n=e.allValues.inputValues,r=n[t];return r.digits||r.pattern},handleLineAdd:function(){var e=this.rowEvent.target;e.add()},handleLineDelete:function(){var e=this.rowEvent,t=e.rowId,n=e.target;n.removeRows(t)},renderDeleteButton:function(){var e=this.$createElement;return this.allowEmpty||this.rowEvent.index>0?this.confirmIsShow()?e("a-popconfirm",{attrs:{title:"确定要删除吗？"},on:{confirm:this.handleLineDelete}},[e("a-button",{attrs:{icon:"minus"}})]):e("a-button",{attrs:{icon:"minus"},on:{click:this.handleLineDelete}}):""}},render:function(){var e=arguments[0];return e("div",[e("a-button",{on:{click:this.handleLineAdd},attrs:{icon:"plus"}})," ",this.renderDeleteButton()])}}},data:function(){var e=this;return{title:"操作",visible:!1,model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{ruleName:{rules:[{required:!0,message:"请输入规则名称!"}]},ruleCode:{rules:[{required:!0,message:"请输入规则Code!"},{validator:function(t,n,r){return Object(l["o"])("sys_check_rule","rule_code",n,e.model.id,r)}}]}},tabs:{activeKey:"design",global:{key:"global",columns:[{title:"优先级",key:"priority",width:"15%",type:c["a"].select,defaultValue:"1",options:[{title:"优先运行",value:"1"},{title:"最后运行",value:"0"}],validateRules:[]},{title:"规则（正则表达式）",key:"pattern",width:"50%",type:c["a"].input,validateRules:[{required:!0,message:"规则不能为空"},{handler:this.validatePatternHandler}]},{title:"提示文本",key:"message",width:"20%",type:c["a"].input,validateRules:[{required:!0,message:"${title}不能为空"}]},{title:"操作",key:"action",width:"15%",slotName:"action",type:c["a"].slot}],dataSource:[]},design:{key:"design",columns:[{title:"位数",key:"digits",width:"15%",type:c["a"].inputNumber,validateRules:[{required:!0,message:"${title}不能为空"},{pattern:/^[1-9]\d*$/,message:"请输入零以上的正整数"}]},{title:"规则（正则表达式）",key:"pattern",width:"50%",type:c["a"].input,validateRules:[{required:!0,message:"规则不能为空"},{handler:this.validatePatternHandler}]},{title:"提示文本",key:"message",width:"20%",type:c["a"].input,validateRules:[{required:!0,message:"${title}不能为空"}]},{title:"操作",key:"action",width:"15%",slotName:"action",type:c["a"].slot}],dataSource:[]}},url:{add:"/sys/checkRule/add",edit:"/sys/checkRule/edit"}}},created:function(){},methods:{validatePatternHandler:function(e,t,n,r,i,o){if("blur"===e||"getValues"===e)try{new RegExp(t),i(!0)}catch(a){i(!1,"请输入正确的正则表达式")}else i(!0)},add:function(){this.edit({})},edit:function(e){var t=this;this.form.resetFields(),this.tabs.activeKey=this.tabs.design.key,this.tabs.global.dataSource=[],this.tabs.design.dataSource=[{digits:"",pattern:"",message:""}],this.model=Object.assign({},e),this.visible=!0,this.$nextTick((function(){t.form.setFieldsValue(a()(t.model,"ruleName","ruleCode","ruleDescription"));var e=t.model.ruleJson;if(e){var n=JSON.parse(e),r=[],i=[],o="1";n.forEach((function(e){"*"===e.digits?r.push(Object.assign(e,{priority:o})):(o="0",i.push(e))})),t.tabs.global.dataSource=r,t.tabs.design.dataSource=i}}))},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this;Promise.all([Object(l["a"])(new Promise((function(t,n){e.form.validateFields((function(e,r){return e?n(e):t(r)}))}))),Object(l["a"])(this.$refs.designTable.getValuesPromise),Object(l["a"])(this.$refs.globalTable.getValuesPromise)]).then((function(t){var n=d(t,3),r=n[0],i=n[1],o=n[2];if(r.type===l["c"])return Promise.reject("主表校验未通过");if(i.type===l["c"])return e.tabs.activeKey=e.tabs.design.key,Promise.reject("局部规则子表校验未通过");if(o.type===l["c"])return e.tabs.activeKey=e.tabs.global.key,Promise.reject("全局规则子表校验未通过");var c=r.data,u=o.data,f=i.data,h=[],p=[];u.forEach((function(e){e.digits="*","1"===e.priority?h.push(e):p.push(e)}));var m=h.concat(f).concat(p),g=m.map((function(e){return a()(e,"digits","pattern","message")})),v=JSON.stringify(g),b=Object.assign(e.model,c,{ruleJson:v}),y="post",C=e.url.add;return e.model.id&&(y="put",C=e.url.edit),e.confirmLoading=!0,Object(s["h"])(C,b,y)})).then((function(t){t.success?(e.$message.success(t.message),e.$emit("ok"),e.close()):e.$message.warning(t.message)})).catch((function(e){})).finally((function(){e.confirmLoading=!1}))},handleCancel:function(){this.close()}}},b=v,y=n("2877"),C=Object(y["a"])(b,r,i,!1,null,"6ede9a3d",null);t["default"]=C.exports},"969f":function(e,t,n){"use strict";var r=n("2db0"),i=n.n(r);i.a},"972f":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{style:{padding:"0 0 32px 32px"}},[n("v-chart",{attrs:{forceFit:!0,height:300,data:e.chartData,scale:e.scale}},[n("v-coord",{attrs:{type:"polar",startAngle:-202.5,endAngle:22.5,radius:.75}}),n("v-axis",{attrs:{dataKey:"value",zIndex:2,line:null,label:e.axisLabel,subTickCount:4,subTickLine:e.axisSubTickLine,tickLine:e.axisTickLine,grid:null}}),n("v-axis",{attrs:{dataKey:"1",show:!1}}),n("v-series",{attrs:{gemo:"point",position:"value*1",shape:"pointer",color:"#1890FF",active:!1}}),n("v-guide",{attrs:{type:"arc",zIndex:0,top:!1,start:e.arcGuide1Start,end:e.arcGuide1End,vStyle:e.arcGuide1Style}}),n("v-guide",{attrs:{type:"arc",zIndex:1,start:e.arcGuide2Start,end:e.getArcGuide2End,vStyle:e.arcGuide2Style}}),n("v-guide",{attrs:{type:"html",position:e.htmlGuidePosition,html:e.getHtmlGuideHtml()}})],1)],1)},i=[],o=n("3654");Object(o["b"])("point","pointer",{draw:function(e,t){var n=e.points[0];n=this.parsePoint(n);var r=this.parsePoint({x:0,y:0});return t.addShape("line",{attrs:{x1:r.x,y1:r.y,x2:n.x,y2:n.y+15,stroke:e.color,lineWidth:5,lineCap:"round"}}),t.addShape("circle",{attrs:{x:r.x,y:r.y,r:9.75,stroke:e.color,lineWidth:4.5,fill:"#fff"}})}});var a=[{dataKey:"value",min:0,max:9,tickInterval:1,nice:!1}],s=[{value:7}],l={name:"DashChartDemo",props:{datasource:{type:Number,default:7},title:{type:String,default:""}},created:function(){this.datasource?this.chartData=[{value:this.datasource}]:this.chartData=s,this.getChartData()},watch:{datasource:function(e){this.chartData=[{value:e}],this.getChartData()}},methods:{getChartData:function(){this.chartData&&this.chartData.length>0?this.abcd=10*this.chartData[0].value:this.abcd=70},getHtmlGuideHtml:function(){return'<div style="width: 300px;text-align: center;">\n<p style="font-size: 14px;color: #545454;margin: 0;">'+this.title+'</p>\n<p style="font-size: 36px;color: #545454;margin: 0;">'+this.abcd+"%</p>\n</div>"},getArcGuide2End:function(){return[this.chartData[0].value,.945]}},data:function(){return{chartData:[],height:400,scale:a,abcd:70,axisLabel:{offset:-16,textStyle:{fontSize:18,textAlign:"center",textBaseline:"middle"}},axisSubTickLine:{length:-8,stroke:"#fff",strokeOpacity:1},axisTickLine:{length:-17,stroke:"#fff",strokeOpacity:1},arcGuide1Start:[0,.945],arcGuide1End:[9,.945],arcGuide1Style:{stroke:"#CBCBCB",lineWidth:18},arcGuide2Start:[0,.945],arcGuide2Style:{stroke:"#1890FF",lineWidth:18},htmlGuidePosition:["50%","100%"],htmlGuideHtml:'\n      <div style="width: 300px;text-align: center;">\n        <p style="font-size: 14px;color: #545454;margin: 0;">'.concat(this.title,'</p>\n        <p style="font-size: 36px;color: #545454;margin: 0;">').concat(this.abcd,"%</p>\n      </div>\n    ")}}},c=l,u=n("2877"),d=Object(u["a"])(c,r,i,!1,null,null,null);t["default"]=d.exports},9791:function(e,t,n){"use strict";var r=n("ac33"),i=n.n(r);i.a},"996b":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:[e.prefixCls,e.reverseColor&&"reverse-color"]},[n("span",[e._t("term"),n("span",{staticClass:"item-text"},[e._t("default")],2)],2),n("span",{class:[e.flag]},[n("a-icon",{attrs:{type:"caret-"+e.flag}})],1)])},i=[],o={name:"Trend",props:{prefixCls:{type:String,default:"ant-pro-trend"},flag:{type:String,required:!0},reverseColor:{type:Boolean,default:!1}}},a=o,s=(n("dba9"),n("2877")),l=Object(s["a"])(a,r,i,!1,null,"2df64b97",null);t["default"]=l.exports},"99ce":function(e,t,n){},"9a3d":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"result"},[n("div",[n("a-icon",{class:[e.isSuccess?"success":"error","icon"],attrs:{type:e.isSuccess?"check-circle":"close-circle"}})],1),e.title?n("div",{staticClass:"title"},[e._v(e._s(e.title))]):e._e(),e.description?n("div",{staticClass:"description"},[e._v(e._s(e.description))]):e._e(),e.content?n("div",{staticClass:"content"},[e._t("default")],2):e._e(),n("div",{staticClass:"action"},[e._t("action")],2)])},i=[],o={name:"Result",props:{isSuccess:{type:Boolean,default:!1},title:{type:String,default:""},description:{type:String,default:""},content:{type:Boolean,default:!0}}},a=o,s=(n("58e3"),n("2877")),l=Object(s["a"])(a,r,i,!1,null,"6732bfa0",null);t["default"]=l.exports},"9a69":function(e,t,n){"use strict";var r=n("6b55"),i=n.n(r);i.a},"9b15":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{md:6,sm:24}},[n("a-form-item",{attrs:{label:"订单号"}},[n("a-input",{attrs:{placeholder:"请输入订单号"},model:{value:e.queryParam.orderCode,callback:function(t){e.$set(e.queryParam,"orderCode",t)},expression:"queryParam.orderCode"}})],1)],1),n("a-col",{attrs:{md:6,sm:24}},[n("a-form-item",{attrs:{label:"订单类型"}},[n("a-select",{attrs:{placeholder:"请输入订单类型"},model:{value:e.queryParam.ctype,callback:function(t){e.$set(e.queryParam,"ctype",t)},expression:"queryParam.ctype"}},[n("a-select-option",{attrs:{value:"1"}},[e._v("国内订单")]),n("a-select-option",{attrs:{value:"2"}},[e._v("国际订单")])],1)],1)],1),n("a-col",{attrs:{md:6,sm:24}},[n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")])],1)])],1)],1)],1),n("div",{staticClass:"table-operator"},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("新增")]),n("a-button",{attrs:{type:"primary",icon:"download"},on:{click:function(t){return e.handleExportXls("一对多示例")}}},[e._v("导出")]),n("a-upload",{attrs:{name:"file",showUploadList:!1,multiple:!1,headers:e.tokenHeader,action:e.importExcelUrl},on:{change:e.handleImportExcel}},[n("a-button",{attrs:{type:"primary",icon:"import"}},[e._v("导入")])],1),e.selectedRowKeys.length>0?n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:e.batchDel}},[n("a-icon",{attrs:{type:"delete"}}),e._v("删除")],1)],1),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v(" 批量操作 "),n("a-icon",{attrs:{type:"down"}})],1)],1):e._e()],1),n("div",[n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),e._v(" 已选择 "),n("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRowKeys.length))]),e._v("项\n      "),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])]),n("a-table",{ref:"table",attrs:{size:"middle",bordered:"",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link"},[e._v("更多 "),n("a-icon",{attrs:{type:"down"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete(r.id)}}},[n("a",[e._v("删除")])])],1)],1)],1)],1)}}])})],1),n("jeecgOrderMain-modal",{ref:"modalForm",on:{ok:e.modalFormOk}})],1)},i=[],o=n("8a45"),a=n("b65a"),s={name:"JeecgOrderMainList",mixins:[a["a"]],components:{JeecgOrderMainModal:o["default"]},data:function(){return{description:"订单管理页面",importExcelUrl:"".concat(window._CONFIG["domianURL"],"/test/jeecgOrderMain/importExcel"),columns:[{title:"#",dataIndex:"",key:"rowIndex",width:60,align:"center",customRender:function(e,t,n){return parseInt(n)+1}},{title:"订单号",align:"center",dataIndex:"orderCode"},{title:"订单类型",align:"center",dataIndex:"ctype",customRender:function(e,t,n){var r="";return"1"===e?r="国内订单":"2"===e&&(r="国际订单"),r}},{title:"订单日期",align:"center",dataIndex:"orderDate"},{title:"订单金额",align:"center",dataIndex:"orderMoney"},{title:"订单备注",align:"center",dataIndex:"content"},{title:"操作",dataIndex:"action",align:"center",scopedSlots:{customRender:"action"}}],url:{list:"/test/jeecgOrderMain/list",delete:"/test/jeecgOrderMain/delete",deleteBatch:"/test/jeecgOrderMain/deleteBatch",exportXlsUrl:"/test/jeecgOrderMain/exportXls"}}},methods:{}},l=s,c=(n("15f0"),n("2877")),u=Object(c["a"])(l,r,i,!1,null,"7e1cf2f8",null);t["default"]=u.exports},"9b3e":function(e,t,n){"use strict";var r=n("2ad6"),i=n.n(r);i.a},"9ba5":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("j-editable-table",{attrs:{columns:e.columns,dataSource:e.dataSource,rowNumber:!0,rowSelection:!0,maxHeight:400,disabled:!0}})},i=[],o=n("e2e0"),a=n("7550"),s={name:"ReadOnlyTable",components:{JEditableTable:a["default"]},data:function(){return{columns:[{title:"输入框",key:"input",type:o["a"].input,placeholder:"清输入"},{title:"下拉框",key:"select",type:o["a"].select,options:[{title:"String",value:"string"},{title:"Integer",value:"int"},{title:"Double",value:"double"},{title:"Boolean",value:"boolean"}],placeholder:"请选择"},{title:"多选框",key:"checkbox",type:o["a"].checkbox,customValue:[!0,!1]},{title:"日期",key:"datetime",type:o["a"].datetime}],dataSource:[{input:"hello",select:"int",checkbox:!0,datetime:"2019-6-17 14:50:48"},{input:"world",select:"string",checkbox:!1,datetime:"2019-6-16 14:50:48"},{input:"one",select:"double",checkbox:!0,datetime:"2019-6-17 15:50:48"},{input:"two",select:"boolean",checkbox:!1,datetime:"2019-6-14 14:50:48"},{input:"three",select:"",checkbox:!1,datetime:"2019-6-13 14:50:48"}]}},mounted:function(){}},l=s,c=n("2877"),u=Object(c["a"])(l,r,i,!1,null,"e59617bc",null);t["default"]=u.exports},"9caf":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:"用户列表",width:1e3,visible:e.visible,confirmLoading:e.confirmLoading},on:{ok:e.handleSubmit,cancel:e.handleCancel}},[n("a-table",{ref:"table",attrs:{bordered:"",size:"middle",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}}})],1)},i=[],o=n("4ec3"),a=n("b65a"),s={name:"SelectUserListModal",mixins:[a["a"]],data:function(){return{title:"操作",visible:!1,model:{},confirmLoading:!1,url:{add:"/act/model/create",list:"/sys/user/list"},columns:[{title:"用户账号",align:"center",dataIndex:"username",fixed:"left",width:200},{title:"用户姓名",align:"center",dataIndex:"realname"},{title:"性别",align:"center",dataIndex:"sex_dictText"},{title:"手机号码",align:"center",dataIndex:"phone"},{title:"邮箱",align:"center",dataIndex:"email"},{title:"状态",align:"center",dataIndex:"status_dictText"}]}},created:function(){var e=this;Object(o["A"])().then((function(t){t.success&&(e.dataSource=t.result.records,e.ipagination.total=t.result.total)}))},methods:{open:function(){this.visible=!0,this.selectedRowKeys=[],this.selectedRows=[]},close:function(){this.$emit("close"),this.visible=!1},handleChange:function(e){var t=e.file;t.response.success?(this.$message.success(t.response.message),this.$emit("ok"),this.close()):(this.$message.warn(t.response.message),this.close())},handleCancel:function(){this.close()},handleSubmit:function(){this.$emit("ok",this.selectionRows),this.close()}}},l=s,c=n("2877"),u=Object(c["a"])(l,r,i,!1,null,null,null);t["default"]=u.exports},"9cbf":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"search-content"},[n("router-view")],1)},i=[],o={name:"SearchLayout",data:function(){var e=this;return{tabs:{items:[{key:"1",title:"文章"},{key:"2",title:"项目"},{key:"3",title:"应用"}],active:function(){switch(e.$route.path){case"/list/search/article":return"1";case"/list/search/project":return"2";case"/list/search/application":return"3";default:return"1"}},callback:function(t){switch(t){case"1":e.$router.push("/list/search/article");break;case"2":e.$router.push("/list/search/project");break;case"3":e.$router.push("/list/search/application");break;default:e.$router.push("/workplace")}}},search:!0}},computed:{},methods:{}},a=o,s=(n("c19a"),n("2877")),l=Object(s["a"])(a,r,i,!1,null,"0a583b94",null);t["default"]=l.exports},"9d32":function(e,t,n){},"9e8f":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"j-area-linkage"},[e.reloading?n("div",[n("span",[e._v(" Reloading... ")])]):e._type===e.enums.type[0]?n("area-cascader",e._g(e._b({style:{width:e.width},attrs:{value:e.innerValue,data:e.pcaa,level:1},on:{change:e.handleChange}},"area-cascader",e.$attrs,!1),e._listeners)):e._type===e.enums.type[1]?n("area-select",e._g(e._b({attrs:{value:e.innerValue,data:e.pcaa,level:2},on:{change:e.handleChange}},"area-select",e.$attrs,!1),e._listeners)):n("div",[n("span",{staticStyle:{color:"red"}},[e._v(" Bad type value: "+e._s(e._type))])])],1)},i=[],o=n("92e9");function a(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}function s(e,t){if(e){if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}var f=function(){function e(){c(this,e);var t=[],n=o["pcaa"]["86"];Object.keys(n).map((function(e){t.push({id:e,text:n[e],pid:"86"});var r=o["pcaa"][e];Object.keys(r).map((function(n){t.push({id:n,text:r[n],pid:e});var i=o["pcaa"][n];Object.keys(i).map((function(e){t.push({id:e,text:i[e],pid:n})}))}))})),this.all=t}return d(e,[{key:"getCode",value:function(e){if(!e||0==e.length)return"";var t,n=a(this.all);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.text===e)return r.id}}catch(i){n.e(i)}finally{n.f()}}},{key:"getText",value:function(e){if(!e||0==e.length)return"";var t=[];return this.getAreaBycode(e,t),t.join("/")}},{key:"getRealCode",value:function(e){var t=[];return this.getPcode(e,t),t}},{key:"getPcode",value:function(e,t){var n,r=a(this.all);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.id===e&&(t.unshift(e),"86"!=i.pid&&this.getPcode(i.pid,t))}}catch(o){r.e(o)}finally{r.f()}}},{key:"getAreaBycode",value:function(e,t){var n,r=a(this.all);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.id===e&&(t.unshift(i.text),this.getAreaBycode(i.pid,t))}}catch(o){r.e(o)}finally{r.f()}}},{key:"pca",get:function(){return this.all}}]),e}();function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g={name:"JAreaLinkage",props:{value:{type:String,required:!1},type:{type:String,default:"cascader"},width:{type:String,default:"100%"}},data:function(){return{pcaa:o["pcaa"],innerValue:[],usedListeners:["change"],enums:{type:["cascader","select"]},reloading:!1,areaData:""}},computed:{_listeners:function(){var e=p({},this.$listeners);return this.usedListeners.forEach((function(t){delete e[t]})),e},_type:function(){return this.enums.type.includes(this.type)?this.type:this.enums.type[0]}},watch:{value:{immediate:!0,handler:function(){this.loadDataByValue(this.value)}}},created:function(){this.initAreaData()},methods:{reload:function(){var e=this;this.reloading=!0,this.$nextTick((function(){return e.reloading=!1}))},loadDataByValue:function(e){if(e&&0!==e.length){this.initAreaData();var t=this.areaData.getRealCode(e);this.innerValue=t}else this.innerValue=[];this.reload()},loadDataByCode:function(e){var t=[],n=o["pcaa"][e];if(n){for(var r in n)n.hasOwnProperty(r)&&t.push({value:r,label:n[r]});return t}return[]},hasChildren:function(e){var t=this;e.forEach((function(e){var n=t.loadDataByCode(e.value);e.isLeaf=0===n.length}))},handleChange:function(e){var t=e[e.length-1];this.$emit("change",t)},initAreaData:function(){this.areaData||(this.areaData=new f)}},model:{prop:"value",event:"change"}},v=g,b=(n("1e39"),n("2877")),y=Object(b["a"])(v,r,i,!1,null,"2162cbc8",null);t["default"]=y.exports},"9eb9":function(e,t,n){(function(e){e(n("56b3"))})((function(e){"use strict";e.overlayMode=function(t,n,r){return{startState:function(){return{base:e.startState(t),overlay:e.startState(n),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(r){return{base:e.copyState(t,r.base),overlay:e.copyState(n,r.overlay),basePos:r.basePos,baseCur:null,overlayPos:r.overlayPos,overlayCur:null}},token:function(e,i){return(e!=i.streamSeen||Math.min(i.basePos,i.overlayPos)<e.start)&&(i.streamSeen=e,i.basePos=i.overlayPos=e.start),e.start==i.basePos&&(i.baseCur=t.token(e,i.base),i.basePos=e.pos),e.start==i.overlayPos&&(e.pos=e.start,i.overlayCur=n.token(e,i.overlay),i.overlayPos=e.pos),e.pos=Math.min(i.basePos,i.overlayPos),null==i.overlayCur?i.baseCur:null!=i.baseCur&&i.overlay.combineTokens||r&&null==i.overlay.combineTokens?i.baseCur+" "+i.overlayCur:i.overlayCur},indent:t.indent&&function(e,n,r){return t.indent(e.base,n,r)},electricChars:t.electricChars,innerMode:function(e){return{state:e.base,mode:t}},blankLine:function(e){var i,o;return t.blankLine&&(i=t.blankLine(e.base)),n.blankLine&&(o=n.blankLine(e.overlay)),null==o?i:r&&null!=i?i+" "+o:o}}}}))},"9ee5":function(e,t,n){"use strict";var r=n("3c53"),i=n.n(r);i.a},"9eee":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchQuery(t)}}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"文件名称"}},[n("a-input",{attrs:{placeholder:"请输入文件名称"},model:{value:e.queryParam.fileName,callback:function(t){e.$set(e.queryParam,"fileName",t)},expression:"queryParam.fileName"}})],1)],1),n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"文件地址"}},[n("a-input",{attrs:{placeholder:"请输入文件地址"},model:{value:e.queryParam.url,callback:function(t){e.$set(e.queryParam,"url",t)},expression:"queryParam.url"}})],1)],1),n("a-col",{attrs:{md:6,sm:8}},[n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")])],1)])],1)],1)],1),n("div",{staticClass:"table-operator"},[n("a-upload",{attrs:{name:"file",multiple:!1,action:e.uploadAction,headers:e.tokenHeader,showUploadList:!1,beforeUpload:e.beforeUpload},on:{change:e.handleChange}},[n("a-button",[n("a-icon",{attrs:{type:"upload"}}),e._v("\n        OSS文件上传\n      ")],1)],1),n("a-upload",{attrs:{name:"file",multiple:!1,action:e.minioUploadAction,headers:e.tokenHeader,showUploadList:!1,beforeUpload:e.beforeUpload},on:{change:e.handleChange}},[n("a-button",[n("a-icon",{attrs:{type:"upload"}}),e._v("\n        MINIO文件上传\n      ")],1)],1)],1),n("div",[n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),e._v(" 已选择 "),n("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRowKeys.length))]),e._v("项\n      "),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])]),n("a-table",{ref:"table",attrs:{size:"middle",bordered:"",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handlePreview(r)}}},[e._v("预览")]),n("a-divider",{attrs:{type:"vertical"}}),n("a",{on:{click:function(t){return e.ossDelete(r.id)}}},[e._v("删除")])],1)}}])})],1)])},i=[],o=n("b65a"),a={name:"OSSFileList",mixins:[o["a"]],data:function(){return{description:"文件列表",columns:[{title:"#",dataIndex:"",key:"rowIndex",width:60,align:"center",customRender:function(e,t,n){return parseInt(n)+1}},{title:"文件名称",align:"center",dataIndex:"fileName"},{title:"文件地址",align:"center",dataIndex:"url"},{title:"操作",dataIndex:"action",align:"center",scopedSlots:{customRender:"action"}}],url:{upload:"/oss/file/upload",list:"/oss/file/list",delete:"/oss/file/delete",minioUpload:"/sys/upload/uploadMinio"}}},computed:{uploadAction:function(){return window._CONFIG["domianURL"]+this.url.upload},minioUploadAction:function(){return window._CONFIG["domianURL"]+this.url.minioUpload}},methods:{beforeUpload:function(e){var t=e.type;if("image"===t){if(t.indexOf("image")<0)return this.$message.warning("请上传图片"),!1}else if("file"===t&&t.indexOf("image")>=0)return this.$message.warning("请上传文件"),!1;return!0},handleChange:function(e){"done"===e.file.status?e.file.response.success?(this.loadData(),this.$message.success("".concat(e.file.name," 上传成功!"))):this.$message.error("".concat(e.file.response.message)):"error"===e.file.status&&this.$message.error("".concat(e.file.response.message))},ossDelete:function(e){var t=this;t.$confirm({title:"确认删除",content:"是否删除选中文件?",onOk:function(){t.handleDelete(e)}})},handlePreview:function(e){if(e&&e.url){var t=window._CONFIG["onlinePreviewDomainURL"]+"?url="+encodeURIComponent(e.url);window.open(t,"_blank")}}}},s=a,l=(n("4a4e"),n("2877")),c=Object(l["a"])(s,r,i,!1,null,"f83b1754",null);t["default"]=c.exports},a061:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tinymce-editor"},[e.reloading?e._e():n("editor",{attrs:{init:e.init,disabled:e.disabled},on:{onClick:e.onClick},model:{value:e.myValue,callback:function(t){e.myValue=t},expression:"myValue"}})],1)},i=[],o=n("e562"),a=n.n(o),s=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],l=function(e){return-1!==s.indexOf(e)},c=function(e,t,n){Object.keys(t).filter(l).forEach((function(r){var i=t[r];"function"===typeof i&&("onInit"===r?i(e,n):n.on(r.substring(2),(function(e){return i(e,n)})))}))},u=function(e,t){var n,r=e.$props.modelEvents?e.$props.modelEvents:null,i=Array.isArray(r)?r.join(" "):r;e.$watch("value",(function(e,r){t&&"string"===typeof e&&e!==n&&e!==r&&(t.setContent(e),n=e)})),t.on(i||"change keyup undo redo",(function(){n=t.getContent(),e.$emit("input",n)}))},d=function(e,t,n){var r=t.$props.value?t.$props.value:"",i=t.$props.initialValue?t.$props.initialValue:"";n.setContent(r||i),t.$listeners.input&&u(t,n),c(e,t.$listeners,n)},f=0,h=function(e){var t=Date.now(),n=Math.floor(1e9*Math.random());return f++,e+"_"+n+f+String(t)},p=function(e){return null!==e&&"textarea"===e.tagName.toLowerCase()},m=function(e){return"undefined"===typeof e||""===e?[]:Array.isArray(e)?e:e.split(" ")},g=function(e,t){return m(e).concat(m(t))},v=function(e,t,n,r){var i=t.createElement("script");i.type="application/javascript",i.id=e,i.addEventListener("load",r),i.src=n,t.head&&t.head.appendChild(i)},b=function(){return{listeners:[],scriptId:h("tiny-script"),scriptLoaded:!1}},y=function(e,t,n,r){e.scriptLoaded?r():(e.listeners.push(r),t.getElementById(e.scriptId)||v(e.scriptId,t,n,(function(){e.listeners.forEach((function(e){return e()})),e.scriptLoaded=!0})))},C=n("1f38"),w={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],value:String,disabled:Boolean},x=function(){return x=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},x.apply(this,arguments)},I=b(),A=function(e,t,n){return e(n||"div",{attrs:{id:t}})},k=function(e,t){return e("textarea",{attrs:{id:t},style:{visibility:"hidden"}})},S=function(e){return function(){var t=x({},e.$props.init,{readonly:e.$props.disabled,selector:"#"+e.elementId,plugins:g(e.$props.init&&e.$props.init.plugins,e.$props.plugins),toolbar:e.$props.toolbar||e.$props.init&&e.$props.init.toolbar,inline:e.inlineEditor,setup:function(t){e.editor=t,t.on("init",(function(n){return d(n,e,t)})),e.$props.init&&"function"===typeof e.$props.init.setup&&e.$props.init.setup(t)}});p(e.element)&&(e.element.style.visibility=""),Object(C["a"])().init(t)}},_={props:w,created:function(){this.elementId=this.$props.id||h("tiny-vue"),this.inlineEditor=this.$props.init&&this.$props.init.inline||this.$props.inline},watch:{disabled:function(){this.editor.setMode(this.disabled?"readonly":"design")}},mounted:function(){if(this.element=this.$el,null!==Object(C["a"])())S(this)();else if(this.element&&this.element.ownerDocument){var e=this.element.ownerDocument,t=this.$props.cloudChannel?this.$props.cloudChannel:"5",n=this.$props.apiKey?this.$props.apiKey:"no-api-key";y(I,e,"https://cdn.tiny.cloud/1/"+n+"/tinymce/"+t+"/tinymce.min.js",S(this))}},beforeDestroy:function(){null!==Object(C["a"])()&&Object(C["a"])().remove(this.editor)},render:function(e){return this.inlineEditor?A(e,this.elementId,this.$props.tagName):k(e,this.elementId)}},T=_,E=(n("030f"),n("4ea8"),n("4237"),n("3aea"),n("07d1"),n("84ec"),n("f557"),n("9434"),n("2d33"),n("34de"),n("3154"),n("ec27"),n("0fea")),O=n("ca00"),R={components:{Editor:T},props:{value:{type:String,required:!1},triggerChange:{type:Boolean,default:!1,required:!1},disabled:{type:Boolean,default:!1},plugins:{type:[String,Array],default:"lists image link media table textcolor wordcount contextmenu fullscreen"},toolbar:{type:[String,Array],default:"undo redo |  formatselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | lists link unlink image media table | removeformat | fullscreen",branding:!1}},data:function(){return{init:{language_url:"/tinymce/langs/zh_CN.js",language:"zh_CN",skin_url:"/tinymce/skins/lightgray",height:300,plugins:this.plugins,toolbar:this.toolbar,branding:!1,menubar:!1,toolbar_drawer:!1,images_upload_handler:function(e,t){var n=new FormData;n.append("file",e.blob(),e.filename()),n.append("biz","jeditor"),n.append("jeditor","1"),Object(E["k"])(window._CONFIG["domianURL"]+"/sys/common/upload",n).then((function(n){if(n.success)if("local"==n.message){var r="data:image/jpeg;base64,"+e.base64();t(r)}else{var i=Object(E["d"])(n.message);t(i)}}))}},myValue:this.value,reloading:!1}},mounted:function(){this.initATabsChangeAutoReload()},methods:{reload:function(){var e=this;this.reloading=!0,this.$nextTick((function(){return e.reloading=!1}))},onClick:function(e){this.$emit("onClick",e,a.a)},clear:function(){this.myValue=""},initATabsChangeAutoReload:function(){var e=this,t=Object(O["g"])(this,"ATabs"),n=Object(O["g"])(this,"ATabPane");if(t&&n){var r=n.$vnode.key;t.$on("change",(function(t){r===t&&e.reload()}))}}},watch:{value:function(e){this.myValue=null==e?"":e},myValue:function(e){this.triggerChange?this.$emit("change",e):this.$emit("input",e)}}},N=R,L=n("2877"),D=Object(L["a"])(N,r,i,!1,null,"02627f50",null);t["default"]=D.exports},a0ae:function(e,t,n){
/*!
 * @toast-ui/editor
 * @version 2.2.0 | Tue Jun 16 2020
 * @author NHN FE Development Lab <dl_javascript@nhn.com>
 * @license MIT
 */
(function(t,r){e.exports=r(n("56b3"))})(window,(function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=65)}([function(e,t,n){"use strict";var r=n(2),i=n.n(r),o=n(8),a=n.n(o),s=n(9),l=n.n(s),c=n(3),u=n.n(c),d=n(5),f=n.n(d),h=n(6),p=n.n(h),m=n(16),g=n.n(m),v=n(13),b=n.n(v),y=/\u200B/g,C=window,w=C.getComputedStyle,x=function(e){return e&&e.nodeType===Node.TEXT_NODE},I=function(e){return e&&e.nodeType===Node.ELEMENT_NODE},A=function(e){return/^(ADDRESS|ARTICLE|ASIDE|BLOCKQUOTE|DETAILS|DIALOG|DD|DIV|DL|DT|FIELDSET|FIGCAPTION|FIGURE|FOOTER|FORM|H[\d]|HEADER|HGROUP|HR|LI|MAIN|NAV|OL|P|PRE|SECTION|UL)$/gi.test(this.getNodeName(e))},k=function(e){return I(e)?e.tagName:"TEXT"},S=function(e){var t;return I(e)?t=e.textContent.replace(y,"").length:x(e)&&(t=e.nodeValue.replace(y,"").length),t},_=function(e){var t;return I(e)?t=e.childNodes.length:x(e)&&(t=e.nodeValue.replace(y,"").length),t},T=function(e){var t,n,r,i=e.parentNode.childNodes;for(t=0,n=i.length;t<n;t+=1)if(i[t]===e){r=t;break}return r},E=function(e,t){var n;return x(e)?n=e:e.childNodes.length&&t>=0&&(n=e.childNodes[t]),n},O=function(e,t,n){var r,i,o=e+"Sibling";while(t&&!t[o]){if(r=k(t.parentNode),r===n||"BODY"===r)break;t=t.parentNode}return t[o]&&(i=t[o]),i},R=function(e,t,n){var r;return r=t>0?E(e,t-1):O("previous",e,n),r},N=function(e,t,n){var r;while(e.parentNode&&!t(e.parentNode))if(e=e.parentNode,n&&n(e.parentNode))break;return t(e.parentNode)&&(r=e),r},L=function(e,t){var n;return n=l()(t)?N(e,(function(e){return t===k(e)})):N(e,(function(e){return t===e})),n},D=function(e,t,n){var r,i=e+"Sibling";return t=L(t,n),t&&t[i]&&(r=t[i]),r},B=function(e,t){return D("previous",e,t)},M=function(e,t){return D("next",e,t)},P=function(e){return L(e,"BODY")},F=function(e){e=e.previousSibling||e.parentNode;while(!x(e)&&"BODY"!==k(e))if(e.previousSibling){e=e.previousSibling;while(e.lastChild)e=e.lastChild}else e=e.parentNode;return"BODY"===k(e)&&(e=null),e},j=function(e,t){var n=document.createTreeWalker(e,4,null,!1),r=e===t;while(!r&&n.nextNode())r=n.currentNode===t;return r},H=function(e,t,n){var r,i=[],o="",s=0;if(!t.length)return i;var l=t.shift(),c=document.createTreeWalker(e,4,null,!1);while(c.nextNode()){o=c.currentNode.nodeValue||"",n&&(o=n(o)),r=s+o.length;while(r>=l){if(i.push({container:c.currentNode,offsetInContainer:l-s,offset:l}),!t.length)return i;l=t.shift()}s=r}do{i.push({container:c.currentNode,offsetInContainer:o.length,offset:l}),l=t.shift()}while(!a()(l));return i},z=function(e){var t={};t.tagName=e.nodeName,e.id&&(t.id=e.id);var n=e.className.trim();return n&&(t.className=n),t},$=function(e,t){var n=[];while(e&&e!==t)I(e)&&n.unshift(z(e)),e=e.parentNode;return n},V=function(e,t){var n=null;return a()(t)||"next"!==t&&"previous"!==t||(n="next"===t?e.nextElementSibling:e.previousElementSibling),n},W=function(e,t,n){var r,i,o,s,l,c=null;return a()(t)||"next"!==t&&"previous"!==t||e&&("next"===t?(i=e.parentNode&&e.parentNode.nextSibling,o=ge(e,"thead"),s=o[0]&&o[0].nextSibling,l=s&&"TBODY"===k(s),r=0):(i=e.parentNode&&e.parentNode.previousSibling,o=ge(e,"tbody"),s=o[0]&&o[0].previousSibling,l=s&&"THEAD"===k(s),r=e.parentNode.childNodes.length-1),!a()(n)&&n||(r=T(e)),i?c=be(i,"td,th")[r]:o[0]&&l&&(c=fe(s,"td,th")[r])),c},K=function(e){return/^(A|B|BR|CODE|DEL|EM|I|IMG|S|SPAN|STRONG)$/gi.test(e.nodeName)},G=function(e){return/^(A|ABBR|ACRONYM|B|BDI|BDO|BIG|CITE|CODE|DEL|DFN|EM|I|INS|KBD|MARK|Q|S|SAMP|SMALL|SPAN|STRONG|SUB|SUP|U|VAR)$/gi.test(e.nodeName)},Z=function(e,t,n){var r=t;if(r&&e===r.parentNode)while(r!==n){var i=r.nextSibling;e.removeChild(r),r=i}},U=function(e,t,n){var r=t;while(r!==e){var i=r.parentNode,o=r,a=o.nextSibling,s=o.previousSibling;!n&&a?Z(i,a,null):n&&s&&Z(i,i.childNodes[0],r),r=i}},q=function(e){var t=e;while(t.childNodes&&t.childNodes.length){var n=t,r=n.firstChild;t=x(r)&&!S(r)&&r.nextSibling||r}return t},X=function(e,t,n){var r={left:parseInt(e.left,10),top:parseInt(e.top,10),width:parseInt(e.width,10),height:parseInt(e.height,10)};return t>=r.left&&t<=r.left+r.width&&n>=r.top&&n<=r.top+r.height},Y=function(e){return!!e&&("UL"===e.nodeName||"OL"===e.nodeName)},J=function(e){var t=e.nodeName,n=e.parentNode;return"LI"===t&&e===n.firstChild},Q=function(e){var t=e.nodeName,n=e.parentNode,r=n.parentNode;return"LI"===t&&!Y(r)},ee=function(e,t){e.hasChildNodes()&&(i()(e.childNodes).forEach((function(){t.appendChild(e.firstChild)})),t.normalize()),e.parentNode&&e.parentNode.removeChild(e)},te=function(){var e=document.createElement("div"),t=document.createElement("hr");return e.setAttribute("contenteditable",!1),t.setAttribute("contenteditable",!1),e.appendChild(t),e},ne=function(){var e=document.createElement("div");return e.appendChild(document.createElement("br")),e},re=function(e,t){if("SPAN"!==e.nodeName){var n=e.parentNode,r=e;while(r.childNodes&&1===r.childNodes.length&&!x(r.firstChild)){if(r=r.firstChild,"SPAN"===r.nodeName)break;if(r.nodeName===t){var i=document.createElement(t);return ee(r,r.parentNode),n.replaceChild(i,e),i.appendChild(e),i}}}return e},ie=function(e,t,n){var r=re(e,n);if(r.nodeName===n){var i=re(t,n),o=r,a=r.nextSibling;while(a){var s=a.nextSibling;if(a=re(a,n),a.nodeName===n?o?ee(a,o):o=a:o=null,a===i)break;a=s}}},oe=function(e,t){var n=e.collapsed,r=e.commonAncestorContainer,i=e.startContainer,o=e.endContainer;if(!n){var a=null;if(i!==o){var s=L(i,r),l=L(o,r);s&&l&&ie(s,l,t),a=r}else x(i)&&(a=i.parentNode);if(a&&a.nodeName===t){var c,u=a,d=u.previousSibling;d&&(c=re(d),c.nodeName===t&&ee(a,c));var f=a,h=f.nextSibling;h&&(c=re(h),c.nodeName===t&&ee(c,a))}}},ae=function(e){var t=document.createTreeWalker(e,4,null,!1),n=[];while(t.nextNode()){var r=t.currentNode;x(r)&&n.push(r)}return n},se=function(e){return!!e&&("TD"===e.nodeName||"TH"===e.nodeName)},le=function(e,t){var n=e&&e.lastChild;while(n&&t(n))n=n.lastChild;return n},ce=function(e,t){while(e&&t(e.parentNode,e))e=e.parentNode;return e},ue=function(e,t,n){var r=t+"Sibling";while(e&&n(e[r],e))e=e[r];return e};function de(e,t){var n=document.createElement("div");l()(e)?n.innerHTML=e:n.appendChild(e);var r=n.firstChild;return t&&t.appendChild(r),r}function fe(e,t){var n=i()(e.querySelectorAll(t));return n.length?n:[]}function he(e,t){return e!==t&&e.contains(t)}function pe(e,t){var n;n=l()(t)?function(e){return b()(e,t)}:function(e){return e===t};while(e&&e!==document){if(I(e)&&n(e))return e;e=e.parentNode}return null}function me(e,t){var n=e.parentNode;return t?n&&b()(n,t)?n:null:n}function ge(e,t){var n=[];while(e&&e!==document)e=pe(e.parentNode,t),e&&n.push(e);return n}function ve(e,t){var n=[];while(e.parentNode&&!b()(e.parentNode,t))e=e.parentNode,e&&n.push(e);return n}function be(e,t){var n;return n=e.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.childNodes:e.children,i()(n).filter((function(e){return b()(e,t)}))}function ye(e,t){if(l()(t))e.insertAdjacentHTML("beforeEnd",t);else{t=t.length?i()(t):[t];for(var n=0,r=t.length;n<r;n+=1)e.appendChild(t[n])}}function Ce(e,t){if(l()(t))e.insertAdjacentHTML("afterBegin",t);else{t=t.length?i()(t):[t];for(var n=t.length-1,r=0;n>=r;n-=1)e.insertBefore(t[n],e.firstChild)}}function we(e,t){var n=t.parentNode;n&&n.insertBefore(e,t)}function xe(e,t){var n=t.parentNode;n&&n.insertBefore(e,t.nextSibling)}function Ie(e,t){e=e.length?i()(e):[e],e.forEach((function(e){e.insertAdjacentHTML("afterEnd",t),e.parentNode.removeChild(e)}))}function Ae(e,t){e=e.length?i()(e):[e],e.forEach((function(e){var n=document.createElement(t);e.parentNode.insertBefore(n,e),n.appendChild(e)}))}function ke(e,t){e=e.length?i()(e):[e],e.forEach((function(e){var n=document.createElement(t);e.appendChild(n);while(e.firstChild!==n)n.appendChild(e.firstChild)}))}function Se(e){var t=[];while(e.firstChild)t.push(e.firstChild),e.parentNode.insertBefore(e.firstChild,e);return _e(e),t}function _e(e){e.parentNode&&e.parentNode.removeChild(e)}function Te(e){while(e.firstChild)e.removeChild(e.firstChild)}function Ee(e,t){var n=e.parentNode.getBoundingClientRect(),r=n.top,i=n.left;u()(e,{top:t.top-r-document.body.scrollTop+"px"}),u()(e,{left:t.left-i-document.body.scrollLeft+"px"})}function Oe(e,t){void 0===t&&(t="document");var n=0,r=0;do{n+=e.offsetTop||0,r+=e.offsetLeft||0,e=e.offsetParent}while(e&&!b()(e,t));return{top:n,left:r}}function Re(e,t){var n=e.offsetWidth;if(t){var r=w(e),i=r.marginLeft,o=r.marginRight;n+=parseInt(i,10)+parseInt(o,10)}return n}function Ne(e,t){var n=e.offsetHeight;if(t){var r=w(e),i=r.marginTop,o=r.marginBottom;n+=parseInt(i,10)+parseInt(o,10)}return n}var Le=function(e,t,n){a()(n)&&(n=!g()(e,t));var r=n?f.a:p.a;r(e,t)};function De(e,t){var n;if(t)n=e.innerHTML;else{for(var r=document.createDocumentFragment(),o=i()(e.childNodes),a=o.length,s=0;s<a;s+=1)r.appendChild(o[s]);n=r}return n}t["a"]={getNodeName:k,isTextNode:x,isElemNode:I,isBlockNode:A,getTextLength:S,getOffsetLength:_,getPrevOffsetNodeUntil:R,getNodeOffsetOfParent:T,getChildNodeByOffset:E,getNodeWithDirectionUntil:O,containsNode:j,getTopPrevNodeUnder:B,getTopNextNodeUnder:M,getParentUntilBy:N,getParentUntil:L,getTopBlockNode:P,getPrevTextNode:F,findOffsetNode:H,getPath:$,getNodeInfo:z,getTableCellByDirection:V,getSiblingRowCellByDirection:W,isMDSupportInlineNode:K,isStyledNode:G,removeChildFromStartToEndNode:Z,removeNodesByDirection:U,getLeafNode:q,isInsideTaskBox:X,isListNode:Y,isFirstListItem:J,isFirstLevelListItem:Q,mergeNode:ee,createHorizontalRule:te,createEmptyLine:ne,changeTagOrder:re,mergeSameNodes:ie,optimizeRange:oe,getAllTextNode:ae,isCellNode:se,getLastNodeBy:le,getParentNodeBy:ce,getSiblingNodeBy:ue,createElementWith:de,findAll:fe,isContain:he,closest:pe,parent:me,parents:ge,parentsUntil:ve,children:be,append:ye,prepend:Ce,insertBefore:we,insertAfter:xe,replaceWith:Ie,wrap:Ae,wrapInner:ke,unwrap:Se,remove:_e,empty:Te,setOffset:Ee,getOffset:Oe,getOuterWidth:Re,getOuterHeight:Ne,toggleClass:Le,finalizeHtml:De}},function(e,t,n){"use strict";var r=n(7),i=n.n(r),o=function(){function e(e,t,n){this.name=e,this.type=t,n&&this.setKeyMap(n)}var t=e.prototype;return t.getName=function(){return this.name},t.getType=function(){return this.type},t.isMDType=function(){return this.type===e.TYPE.MD},t.isWWType=function(){return this.type===e.TYPE.WW},t.isGlobalType=function(){return this.type===e.TYPE.GB},t.setKeyMap=function(e,t){this.keyMap=[e,t]},e}();o.factory=function(e,t){var n;"markdown"===e?n=o.TYPE.MD:"wysiwyg"===e?n=o.TYPE.WW:"global"===e&&(n=o.TYPE.GB);var r=new o(t.name,n);return i()(r,t),r},o.TYPE={MD:0,WW:1,GB:2};var a=o,s=n(12),l=n(23),c=s["b"]?1:0,u=function(){function e(e,t){void 0===t&&(t={}),this._command=new l["a"],this._mdCommand=new l["a"],this._wwCommand=new l["a"],this._options=i()({useCommandShortcut:!0},t),this.base=e,this.keyMapCommand={},this._initEvent()}var t=e.prototype;return t._addCommandBefore=function(e){var t={command:e};return this.base.eventManager.emit("addCommandBefore",t),t.command||e},t.addCommand=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];r.length&&(t=e.command.apply(e,[t].concat(r))),t=this._addCommandBefore(t);var o,a=t.getName();return t.isMDType()?o=this._mdCommand:t.isWWType()?o=this._wwCommand:t.isGlobalType()&&(o=this._command),o.set(a,t),t.keyMap&&(this.keyMapCommand[t.keyMap[c]]=a),t},t._initEvent=function(){var e=this;this.base.eventManager.listen("command",(function(){e.exec.apply(e,arguments)})),this.base.eventManager.listen("keyMap",(function(t){if(e._options.useCommandShortcut){var n=e.keyMapCommand[t.keyMap];n&&(t.data.preventDefault(),e.exec(n))}}))},t.exec=function(e){var t,n,r=this.base;if(t=this._command.get(e),t||(this.base.isMarkdownMode()?(t=this._mdCommand.get(e),r=this.base.mdEditor):(t=this._wwCommand.get(e),r=this.base.wwEditor)),t){for(var i,o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];a.unshift(r),n=(i=t).exec.apply(i,a)}return n},e}();u.command=function(e,t){var n=a.factory(e,t.name,t.keyMap);return i()(n,t),n};t["a"]=u},function(e,t,n){"use strict";var r=n(21);function i(e){var t;try{t=Array.prototype.slice.call(e)}catch(n){t=[],r(e,(function(e){t.push(e)}))}return t}e.exports=i},function(e,t,n){"use strict";var r=n(9),i=n(26);function o(e,t,n){var o=e.style;r(t)?o[t]=n:i(t,(function(e,t){o[t]=e}))}e.exports=o},function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"j",(function(){return s})),n.d(t,"g",(function(){return l})),n.d(t,"k",(function(){return c})),n.d(t,"i",(function(){return u})),n.d(t,"h",(function(){return d})),n.d(t,"b",(function(){return f})),n.d(t,"m",(function(){return h})),n.d(t,"a",(function(){return p})),n.d(t,"l",(function(){return m}));n(12);function r(e){return e.sourcepos[0][0]}function i(e){return e.sourcepos[1][0]}function o(e){return e.sourcepos[0][1]}function a(e){return e.sourcepos[1][1]}function s(e){var t=e.type;return"codeBlock"===t||"paragraph"===t}function l(e){var t=e.type;return"htmlBlock"===t||"htmlInline"===t}function c(e){var t=e.type;return"strike"===t||"strong"===t||"emph"===t}function u(e){return"item"===e.type}function d(e){switch(e.type){case"code":case"text":case"emph":case"strong":case"strike":case"link":case"image":case"htmlInline":case"linebreak":case"softbreak":return!0;default:return!1}}function f(e,t,n){void 0===n&&(n=!0),e=n?e:e.parent;while(e&&"document"!==e.type){if(t(e))return e;e=e.parent}return null}function h(e,t,n){void 0===n&&(n=!0),e=n?e:e.parent;while(e&&"document"!==e.type)t(e),e=e.parent}function p(e,t){return{line:e.line,ch:e.ch+t}}function m(e,t){return{line:e.line,ch:t}}},function(e,t,n){"use strict";var r=n(26),i=n(14),o=n(33),a=n(39);function s(e){var t,n=Array.prototype.slice.call(arguments,1),s=e.classList,l=[];s?r(n,(function(t){e.classList.add(t)})):(t=o(e),t&&(n=[].concat(t.split(/\s+/),n)),r(n,(function(e){i(e,l)<0&&l.push(e)})),a(e,l))}e.exports=s},function(e,t,n){"use strict";var r=n(21),i=n(14),o=n(33),a=n(39);function s(e){var t,n,s=Array.prototype.slice.call(arguments,1),l=e.classList;l?r(s,(function(e){l.remove(e)})):(t=o(e).split(/\s+/),n=[],r(t,(function(e){i(e,s)<0&&n.push(e)})),a(e,n))}e.exports=s},function(e,t,n){"use strict";function r(e,t){var n,r,i,o,a=Object.prototype.hasOwnProperty;for(i=1,o=arguments.length;i<o;i+=1)for(r in n=arguments[i],n)a.call(n,r)&&(e[r]=n[r]);return e}e.exports=r},function(e,t,n){"use strict";function r(e){return void 0===e}e.exports=r},function(e,t,n){"use strict";function r(e){return"string"===typeof e||e instanceof String}e.exports=r},function(e,t,n){"use strict";function r(e,t,n){var r;for(r in n=n||null,e)if(e.hasOwnProperty(r)&&!1===t.call(n,e[r],r,e))break}e.exports=r},function(e,t,n){"use strict";var r={chrome:!1,firefox:!1,safari:!1,msie:!1,edge:!1,others:!1,version:0};function i(){var e,t,n=window.navigator,i=n.appName.replace(/\s/g,"_"),o=n.userAgent,a=/MSIE\s([0-9]+[.0-9]*)/,s=/Trident.*rv:11\./,l=/Edge\/(\d+)\./,c={firefox:/Firefox\/(\d+)\./,chrome:/Chrome\/(\d+)\./,safari:/Version\/([\d.]+).*Safari\/(\d+)/},u={Microsoft_Internet_Explorer:function(){var e=o.match(a);e?(r.msie=!0,r.version=parseFloat(e[1])):r.others=!0},Netscape:function(){var n=!1;if(s.exec(o))r.msie=!0,r.version=11,n=!0;else if(l.exec(o))r.edge=!0,r.version=o.match(l)[1],n=!0;else for(e in c)if(c.hasOwnProperty(e)&&(t=o.match(c[e]),t&&t.length>1)){r[e]=n=!0,r.version=parseFloat(t[1]||0);break}n||(r.others=!0)}},d=u[i];d&&u[i]()}"undefined"!==typeof window&&window.navigator&&i(),e.exports=r},function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return d}));var r=n(8),i=n.n(r),o=n(43),a=n.n(o),s=/Mac/.test(navigator.platform);function l(){a()("editor","UA-129966929-1")}function c(e,t){return-1!==e.indexOf(t)}var u=["rel","target","contenteditable","hreflang","type"];function d(e){if(!e)return null;var t={};return u.forEach((function(n){i()(e[n])||(t[n]=e[n])})),t}},function(e,t,n){"use strict";var r=n(14),i=n(2),o=Element.prototype,a=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.msMatchesSelector||function(e){var t=this.document||this.ownerDocument;return r(this,i(t.querySelectorAll(e)))>-1};function s(e,t){return a.call(e,t)}e.exports=s},function(e,t,n){"use strict";var r=n(17);function i(e,t,n){var i,o;if(n=n||0,!r(t))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e,n);for(o=t.length,i=n;n>=0&&i<o;i+=1)if(t[i]===e)return i;return-1}e.exports=i},function(t,n){t.exports=e},function(e,t,n){"use strict";var r=n(14),i=n(33);function o(e,t){var n;return e.classList?e.classList.contains(t):(n=i(e).split(/\s+/),r(t,n)>-1)}e.exports=o},function(e,t,n){"use strict";function r(e){return e instanceof Array}e.exports=r},function(e,t,n){"use strict";n.d(t,"h",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"f",(function(){return u})),n.d(t,"c",(function(){return h})),n.d(t,"e",(function(){return p})),n.d(t,"g",(function(){return m})),n.d(t,"a",(function(){return g})),n.d(t,"d",(function(){return b}));var r=n(12),i=n(4),o=["list","blockQuote"],a=["UL","OL","BLOCKQUOTE"],s=["TR","TH","TBODY","TD"];function l(e){return!Object(r["a"])(o,e.type)}function c(e,t,n,r){var i=(e-t)/n;return i<1?i*r:r}function u(e){var t=document.querySelector('[data-nodeid="'+e.id+'"]');while(!t||Object(r["a"])(s,e.type)||Object(i["k"])(e))e=e.parent,t=document.querySelector('[data-nodeid="'+e.id+'"]');return f(d(e))}function d(e){var t=e;while(e&&"document"!==e){if("item"===e.type){t=e;break}e=e.parent}return{mdNode:t,node:document.querySelector('[data-nodeid="'+t.id+'"]')}}function f(e){var t=e.mdNode,n=e.node;while(Object(r["a"])(o,t.type)&&t.firstChild)t=t.firstChild,n=n.firstElementChild;return{mdNode:t,node:n}}function h(e,t){var n=Object(i["f"])(e),r=Object(i["d"])(e),o=t.lineInfo(n-1).handle.height,a=t.heightAtLine(r,"local")-t.heightAtLine(n-1,"local");return a<=0?o:a+p(t,Object(i["d"])(e))}function p(e,t,n){void 0===n&&(n=Number.MAX_VALUE);var r=e.lineInfo(t);if(!r)return 0;var i=r.handle,o=0;while(t<=n&&!i.text.trim())o+=i.height,t+=1,i=e.lineInfo(t).handle;return o}function m(e,t){var n=0;while(e&&e!==t){if(Object(r["a"])(a,e.tagName)||(n+=e.offsetTop),e.offsetParent===t.offsetParent)break;e=e.parentElement}return n}function g(e,t){var n=t,r=null;while(n){var i=n,o=i.firstElementChild;if(!o)break;var a=v(o,e,m(n,t));r=n,n=a}var s=n||r;return s===t?null:s}function v(e,t,n){return e&&t>n+e.offsetTop?v(e.nextElementSibling,t,n)||e:null}function b(e){var t=e.latestScrollTop,n=e.scrollTop,r=e.targetScrollTop,i=e.sourceScrollTop;return null===t?r:t<n?Math.max(r,i):Math.min(r,i)}},function(e,t,n){"use strict";var r=n(9),i=n(26),o=n(40);function a(e,t,n,o){r(t)?i(t.split(/\s+/g),(function(t){s(e,t,n,o)})):i(t,(function(t,r){s(e,r,t,n)}))}function s(e,t,n,r){function i(t){n.call(r||e,t||window.event)}"addEventListener"in e?e.addEventListener(t,i):"attachEvent"in e&&e.attachEvent("on"+t,i),l(e,t,n,i)}function l(e,t,n,r){var a=o(e,t),s=!1;i(a,(function(e){return e.handler!==n||(s=!0,!1)})),s||a.push({handler:n,wrappedHandler:r})}e.exports=a},function(e,t,n){"use strict";var r=n(9),i=n(26),o=n(40);function a(e,t,n){r(t)?i(t.split(/\s+/g),(function(t){s(e,t,n)})):i(t,(function(t,n){s(e,n,t)}))}function s(e,t,n){var r,a=o(e,t);n?(i(a,(function(i,o){return n!==i.handler||(l(e,t,i.wrappedHandler),r=o,!1)})),a.splice(r,1)):(i(a,(function(n){l(e,t,n.wrappedHandler)})),a.splice(0,a.length))}function l(e,t,n){"removeEventListener"in e?e.removeEventListener(t,n):"detachEvent"in e&&e.detachEvent("on"+t,n)}e.exports=a},function(e,t,n){"use strict";function r(e,t,n){var r=0,i=e.length;for(n=n||null;r<i;r+=1)if(!1===t.call(n,e[r],r,e))break}e.exports=r},function(e,t){!function(e,t){for(var n in t)e[n]=t[n]}(t,function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist",n(n.s=10)}([function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return i})),n.d(t,"__assign",(function(){return o})),n.d(t,"__rest",(function(){return a})),n.d(t,"__decorate",(function(){return s})),n.d(t,"__param",(function(){return l})),n.d(t,"__metadata",(function(){return c})),n.d(t,"__awaiter",(function(){return u})),n.d(t,"__generator",(function(){return d})),n.d(t,"__exportStar",(function(){return f})),n.d(t,"__values",(function(){return h})),n.d(t,"__read",(function(){return p})),n.d(t,"__spread",(function(){return m})),n.d(t,"__spreadArrays",(function(){return g})),n.d(t,"__await",(function(){return v})),n.d(t,"__asyncGenerator",(function(){return b})),n.d(t,"__asyncDelegator",(function(){return y})),n.d(t,"__asyncValues",(function(){return C})),n.d(t,"__makeTemplateObject",(function(){return w})),n.d(t,"__importStar",(function(){return x})),n.d(t,"__importDefault",(function(){return I}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function l(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function p(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(p(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function v(e){return this instanceof v?(this.v=e,this):new v(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof v?Promise.resolve(n.value.v).then(l,c):u(o[0][2],n)}catch(e){u(o[0][3],e)}var n}function l(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function y(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:v(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function C(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function w(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function I(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=r.__importDefault(n(17));function o(e){switch(e.type){case"document":case"blockQuote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"strike":case"link":case"image":case"table":case"tableHead":case"tableBody":case"tableRow":case"tableCell":case"tableDelimRow":return!0;default:return!1}}t.isContainer=o;var a=1,s={};t.getNodeById=function(e){return s[e]},t.removeNodeById=function(e){delete s[e]},t.removeAllNode=function(){s={}};var l=function(){function e(e,t){this.parent=null,this.prev=null,this.next=null,this.firstChild=null,this.lastChild=null,this.literal=null,this.id="document"===e?-1:a++,this.type=e,this.sourcepos=t,s[this.id]=this}return e.prototype.isContainer=function(){return o(this)},e.prototype.unlink=function(){this.prev?this.prev.next=this.next:this.parent&&(this.parent.firstChild=this.next),this.next?this.next.prev=this.prev:this.parent&&(this.parent.lastChild=this.prev),this.parent=null,this.next=null,this.prev=null},e.prototype.replaceWith=function(e){this.insertBefore(e),this.unlink()},e.prototype.insertAfter=function(e){e.unlink(),e.next=this.next,e.next&&(e.next.prev=e),e.prev=this,this.next=e,this.parent&&(e.parent=this.parent,e.next||(e.parent.lastChild=e))},e.prototype.insertBefore=function(e){e.unlink(),e.prev=this.prev,e.prev&&(e.prev.next=e),e.next=this,this.prev=e,e.parent=this.parent,e.prev||(e.parent.firstChild=e)},e.prototype.appendChild=function(e){e.unlink(),e.parent=this,this.lastChild?(this.lastChild.next=e,e.prev=this.lastChild,this.lastChild=e):(this.firstChild=e,this.lastChild=e)},e.prototype.prependChild=function(e){e.unlink(),e.parent=this,this.firstChild?(this.firstChild.prev=e,e.next=this.firstChild,this.firstChild=e):(this.firstChild=e,this.lastChild=e)},e.prototype.walker=function(){return new i.default(this)},e}();t.Node=l;var c=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.open=!0,r.lineOffsets=null,r.stringContent=null,r.lastLineBlank=!1,r.lastLineChecked=!1,r.type=t,r}return r.__extends(t,e),t}(l);t.BlockNode=c;var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.listData=null,t}return r.__extends(t,e),t}(c);t.ListNode=u;var d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.level=0,t.headingType="atx",t}return r.__extends(t,e),t}(c);t.HeadingNode=d;var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.destination=null,t.title=null,t.extendedAutolink=!1,t}return r.__extends(t,e),t}(l);t.LinkNode=f;var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isFenced=!1,t.fenceChar=null,t.fenceLength=0,t.fenceOffset=-1,t.info=null,t.infoPadding=0,t}return r.__extends(t,e),t}(c);t.CodeBlockNode=h;var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.htmlBlockType=-1,t}return r.__extends(t,e),t}(c);t.HtmlBlockNode=p;var m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tickCount=0,t}return r.__extends(t,e),t}(l);t.CodeNode=m;var g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.columns=[],t}return r.__extends(t,e),t}(c);t.TableNode=g;var v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.startIdx=0,t.endIdx=0,t.paddingLeft=0,t.paddingRight=0,t.ignored=!1,t}return r.__extends(t,e),t}(c);t.TableCellNode=v;var b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.title="",t.dest="",t.label="",t}return r.__extends(t,e),t}(c);function y(e,t){switch(e){case"heading":return new d(e,t);case"list":case"item":return new u(e,t);case"link":case"image":return new f(e,t);case"codeBlock":return new h(e,t);case"htmlBlock":return new p(e,t);case"table":return new g(e,t);case"tableCell":return new v(e,t);case"document":case"paragraph":case"blockQuote":case"thematicBreak":case"tableRow":case"tableBody":case"tableHead":return new c(e,t);case"code":return new m(e,t);case"refDef":return new b(e,t);default:return new l(e,t)}}t.RefDefNode=b,t.createNode=y,t.isCodeBlock=function(e){return"codeBlock"===e.type},t.isHtmlBlock=function(e){return"htmlBlock"===e.type},t.isHeading=function(e){return"heading"===e.type},t.isList=function(e){return"list"===e.type},t.isTable=function(e){return"table"===e.type},t.isRefDef=function(e){return"refDef"===e.type},t.text=function(e,t){var n=y("text",t);return n.literal=e,n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0).__importDefault(n(11)),i=n(7);t.ENTITY="&(?:#x[a-f0-9]{1,6}|#[0-9]{1,7}|[a-z][a-z0-9]{1,31});";var o=/[\\&]/;t.ESCAPABLE="[!\"#$%&'()*+,./:;<=>?@[\\\\\\]^_`{|}~-]";var a=new RegExp("\\\\"+t.ESCAPABLE+"|"+t.ENTITY,"gi"),s=new RegExp('[&<>"]',"g"),l=function(e){return 92===e.charCodeAt(0)?e.charAt(1):i.decodeHTML(e)};function c(e){switch(e){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return e}}t.unescapeString=function(e){return o.test(e)?e.replace(a,l):e},t.normalizeURI=function(e){try{return r.default(e)}catch(t){return e}},t.escapeXml=function(e){return s.test(e)?e.replace(s,c):e},t.repeat=function(e,t){for(var n=[],r=0;r<t;r++)n.push(e);return n.join("")},t.last=function(e){return e.length?e[e.length-1]:null},t.isEmpty=function(e){return!e||!/[^ \t]+/.test(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.last=function(e){return e[e.length-1]},t.normalizeReference=function(e){return e.slice(1,e.length-1).trim().replace(/[ \t\r\n]+/," ").toLowerCase().toUpperCase()},t.iterateObject=function(e,t){Object.keys(e).forEach((function(n){t(n,e[n])}))},t.omit=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=r.__assign({},e);return t.forEach((function(e){delete i[e]})),i},t.isEmptyObj=function(e){return!Object.keys(e).length},t.clearObj=function(e){Object.keys(e).forEach((function(t){delete e[t]}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CODE_INDENT=4,t.C_TAB=9,t.C_NEWLINE=10,t.C_GREATERTHAN=62,t.C_LESSTHAN=60,t.C_SPACE=32,t.C_OPEN_BRACKET=91,t.reNonSpace=/[^ \t\f\v\r\n]/,t.reClosingCodeFence=/^(?:`{3,}|~{3,})(?= *$)/,t.endsWithBlankLine=function(e){for(var t=e;t;){if(t.lastLineBlank)return!0;var n=t.type;if(t.lastLineChecked||"list"!==n&&"item"!==n){t.lastLineChecked=!0;break}t.lastLineChecked=!0,t=t.lastChild}return!1},t.peek=function(e,t){return t<e.length?e.charCodeAt(t):-1},t.isBlank=function(e){return!t.reNonSpace.test(e)},t.isSpaceOrTab=function(e){return e===t.C_SPACE||e===t.C_TAB}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(6),o=n(1),a=n(25),s=n(9),l=n(3),c=n(4),u=/\r\n|\n|\r/;function d(e){return{id:e.id,title:e.title,sourcepos:e.sourcepos,unlinked:!1,destination:e.dest}}t.createRefDefState=d;var f=function(){function e(e,t){var n;this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.referenceDefinition=!!(null===(n=t)||void 0===n?void 0:n.referenceDefinition),this.parser=new i.Parser(t),this.parser.setRefMaps(this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap),this.eventHandlerMap={change:[]},e=e||"",this.lineTexts=e.split(u),this.root=this.parser.parse(e)}return e.prototype.updateLineTexts=function(e,t,n){var i,o=e[0],a=e[1],s=t[0],l=t[1],c=n.split(u),d=c.length,f=this.lineTexts[o-1],h=this.lineTexts[s-1];c[0]=f.slice(0,a-1)+c[0],c[d-1]=c[d-1]+h.slice(l-1);var p=s-o+1;return(i=this.lineTexts).splice.apply(i,r.__spreadArrays([o-1,p],c)),d-p},e.prototype.updateRootNodeState=function(){if(1===this.lineTexts.length&&""===this.lineTexts[0])return this.root.lastLineBlank=!0,void(this.root.sourcepos=[[1,1],[1,0]]);this.root.lastChild&&(this.root.lastLineBlank=this.root.lastChild.lastLineBlank);for(var e=this.lineTexts,t=e.length-1;""===e[t];)t-=1;e.length-2>t&&(t+=1),this.root.sourcepos[1]=[t+1,e[t].length]},e.prototype.replaceRangeNodes=function(e,t,n){e?(a.insertNodesBefore(e,n),a.removeNextUntil(e,t),[e.id,t.id].forEach((function(e){return o.removeNodeById(e)})),e.unlink()):t?(a.insertNodesBefore(t,n),o.removeNodeById(t.id),t.unlink()):a.prependChildNodes(this.root,n)},e.prototype.getNodeRange=function(e,t){var n=a.findChildNodeAtLine(this.root,e[0]),r=a.findChildNodeAtLine(this.root,t[0]);return r&&r.next&&t[0]+1===r.next.sourcepos[0][0]&&(r=r.next),[n,r]},e.prototype.trigger=function(e,t){this.eventHandlerMap[e].forEach((function(e){e(t)}))},e.prototype.extendEndLine=function(e){for(;""===this.lineTexts[e];)e+=1;return e},e.prototype.parseRange=function(e,t,n,r){var i;e&&e.prev&&(o.isList(e.prev)&&function(e){var t=e.match(/^[ \t]+/);if(t&&(t[0].length>=2||/\t/.test(t[0])))return!0;var n=t?e.slice(t.length):e;return s.reBulletListMarker.test(n)||s.reOrderedListMarker.test(n)}(this.lineTexts[n-1])||o.isTable(e.prev)&&(i=this.lineTexts[n-1],!c.isBlank(i)&&-1!==i.indexOf("|")))&&(n=(e=e.prev).sourcepos[0][0]);for(var l=this.lineTexts.slice(n-1,r),u=this.parser.partialParseStart(n,l),d=t?t.next:this.root.firstChild;u.lastChild&&o.isList(u.lastChild)&&d&&("list"===d.type||d.sourcepos[0][1]>=2);){var f=this.extendEndLine(d.sourcepos[1][0]);this.parser.partialParseExtends(this.lineTexts.slice(r,f)),e||(e=t),t=d,r=f,d=d.next}return this.parser.partialParseFinish(),{newNodes:a.getChildNodes(u),extStartNode:e,extEndNode:t}},e.prototype.getRemovedNodeRange=function(e,t){return!e||e&&o.isRefDef(e)||t&&o.isRefDef(t)?null:{id:[e.id,t.id],line:[e.sourcepos[0][0]-1,t.sourcepos[1][0]-1]}},e.prototype.markDeletedRefMap=function(e,t){var n=this;if(!l.isEmptyObj(this.refMap)){var r=function(e){if(o.isRefDef(e)){var t=n.refMap[e.label];t&&e.id===t.id&&(t.unlinked=!0)}};e&&a.invokeNextUntil(r,e.parent,t),t&&a.invokeNextUntil(r,t)}},e.prototype.replaceWithNewRefDefState=function(e){var t=this;if(!l.isEmptyObj(this.refMap)){var n=function(e){if(o.isRefDef(e)){var n=e.label,r=t.refMap[n];r&&!r.unlinked||(t.refMap[n]=d(e))}};e.forEach((function(e){a.invokeNextUntil(n,e)}))}},e.prototype.replaceWithRefDefCandidate=function(){var e=this;l.isEmptyObj(this.refDefCandidateMap)||l.iterateObject(this.refDefCandidateMap,(function(t,n){var r=n.label,i=n.sourcepos,o=e.refMap[r];(!o||o.unlinked||o.sourcepos[0][0]>i[0][0])&&(e.refMap[r]=d(n))}))},e.prototype.getRangeWithRefDef=function(e,t,n,r,i){if(this.referenceDefinition&&!l.isEmptyObj(this.refMap)){var s=a.findChildNodeAtLine(this.root,e-1),c=a.findChildNodeAtLine(this.root,t+1);s&&o.isRefDef(s)&&s!==n&&s!==r&&(e=(n=s).sourcepos[0][0]),c&&o.isRefDef(c)&&c!==n&&c!==r&&(r=c,t=this.extendEndLine(r.sourcepos[1][0]+i))}return[n,r,e,t]},e.prototype.parse=function(e,t,n){void 0===n&&(n=0);var r=this.getNodeRange(e,t),i=r[0],o=r[1],a=i?Math.min(i.sourcepos[0][0],e[0]):e[0],s=this.extendEndLine((o?Math.max(o.sourcepos[1][0],t[0]):t[0])+n),l=this.parseRange.apply(this,this.getRangeWithRefDef(a,s,i,o,n)),c=l.newNodes,u=l.extStartNode,d=l.extEndNode,f=this.getRemovedNodeRange(u,d),h=d?d.next:this.root.firstChild;return this.referenceDefinition?(this.markDeletedRefMap(u,d),this.replaceRangeNodes(u,d,c),this.replaceWithNewRefDefState(c)):this.replaceRangeNodes(u,d,c),{nodes:c,removedNodeRange:f,nextNode:h}},e.prototype.parseRefLink=function(){var e=this,t=[];return l.isEmptyObj(this.refMap)||l.iterateObject(this.refMap,(function(n,r){r.unlinked&&delete e.refMap[n],l.iterateObject(e.refLinkCandidateMap,(function(r,i){var o=i.node;i.refLabel===n&&t.push(e.parse(o.sourcepos[0],o.sourcepos[1]))}))})),t},e.prototype.removeUnlinkedCandidate=function(){l.isEmptyObj(this.refDefCandidateMap)||[this.refLinkCandidateMap,this.refDefCandidateMap].forEach((function(e){l.iterateObject(e,(function(t){a.isUnlinked(t)&&delete e[t]}))}))},e.prototype.editMarkdown=function(e,t,n){var r=this.updateLineTexts(e,t,n),i=this.parse(e,t,r),o=l.omit(i,"nextNode");a.updateNextLineNumbers(i.nextNode,r),this.updateRootNodeState();var s=[o];return this.referenceDefinition&&(this.removeUnlinkedCandidate(),this.replaceWithRefDefCandidate(),s=s.concat(this.parseRefLink())),this.trigger("change",s),s},e.prototype.getLineTexts=function(){return this.lineTexts},e.prototype.getRootNode=function(){return this.root},e.prototype.findNodeAtPosition=function(e){var t=a.findNodeAtPosition(this.root,e);return t&&t!==this.root?t:null},e.prototype.findFirstNodeAtLine=function(e){return a.findFirstNodeAtLine(this.root,e)},e.prototype.on=function(e,t){this.eventHandlerMap[e].push(t)},e.prototype.off=function(e,t){var n=this.eventHandlerMap[e],r=n.indexOf(t);n.splice(r,1)},e.prototype.findNodeById=function(e){return a.findNodeById(e)},e.prototype.removeAllNode=function(){o.removeAllNode()},e}();t.ToastMark=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(2),o=n(1),a=n(18),s=n(21),l=n(4),c=n(9),u=n(3),d=[/./,/<\/(?:script|pre|style)>/i,/-->/,/\?>/,/>/,/\]\]>/],f=/^[#`~*+_=<>0-9-]/,h=/\r\n|\n|\r/;function p(){return o.createNode("document",[[1,1],[0,0]])}var m={smart:!1,tagFilter:!1,extendedAutolinks:!1,disallowedHtmlBlockTags:[],referenceDefinition:!1,disallowDeepHeading:!1,customParser:null},g=function(){function e(e){this.options=r.__assign(r.__assign({},m),e),this.doc=p(),this.tip=this.doc,this.oldtip=this.doc,this.lineNumber=0,this.offset=0,this.column=0,this.nextNonspace=0,this.nextNonspaceColumn=0,this.indent=0,this.currentLine="",this.indented=!1,this.blank=!1,this.partiallyConsumedTab=!1,this.allClosed=!0,this.lastMatchedContainer=this.doc,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.lastLineLength=0,this.inlineParser=new a.InlineParser(this.options)}return e.prototype.advanceOffset=function(e,t){void 0===t&&(t=!1);for(var n,r,i,o=this.currentLine;e>0&&(i=o[this.offset]);)"\t"===i?(n=4-this.column%4,t?(this.partiallyConsumedTab=n>e,r=n>e?e:n,this.column+=r,this.offset+=this.partiallyConsumedTab?0:1,e-=r):(this.partiallyConsumedTab=!1,this.column+=n,this.offset+=1,e-=1)):(this.partiallyConsumedTab=!1,this.offset+=1,this.column+=1,e-=1)},e.prototype.advanceNextNonspace=function(){this.offset=this.nextNonspace,this.column=this.nextNonspaceColumn,this.partiallyConsumedTab=!1},e.prototype.findNextNonspace=function(){for(var e,t=this.currentLine,n=this.offset,r=this.column;""!==(e=t.charAt(n));)if(" "===e)n++,r++;else{if("\t"!==e)break;n++,r+=4-r%4}this.blank="\n"===e||"\r"===e||""===e,this.nextNonspace=n,this.nextNonspaceColumn=r,this.indent=this.nextNonspaceColumn-this.column,this.indented=this.indent>=l.CODE_INDENT},e.prototype.addLine=function(){if(this.partiallyConsumedTab){this.offset+=1;var e=4-this.column%4;this.tip.stringContent+=i.repeat(" ",e)}this.tip.lineOffsets?this.tip.lineOffsets.push(this.offset):this.tip.lineOffsets=[this.offset],this.tip.stringContent+=this.currentLine.slice(this.offset)+"\n"},e.prototype.addChild=function(e,t){for(;!s.blockHandlers[this.tip.type].canContain(e);)this.finalize(this.tip,this.lineNumber-1);var n=t+1,r=o.createNode(e,[[this.lineNumber,n],[0,0]]);return r.stringContent="",this.tip.appendChild(r),this.tip=r,r},e.prototype.closeUnmatchedBlocks=function(){if(!this.allClosed){for(;this.oldtip!==this.lastMatchedContainer;){var e=this.oldtip.parent;this.finalize(this.oldtip,this.lineNumber-1),this.oldtip=e}this.allClosed=!0}},e.prototype.finalize=function(e,t){var n=e.parent;e.open=!1,e.sourcepos[1]=[t,this.lastLineLength],s.blockHandlers[e.type].finalize(this,e),this.tip=n},e.prototype.processInlines=function(e){var t,n=this.options.customParser,r=e.walker();for(this.inlineParser.refMap=this.refMap,this.inlineParser.refLinkCandidateMap=this.refLinkCandidateMap,this.inlineParser.refDefCandidateMap=this.refDefCandidateMap,this.inlineParser.options=this.options;t=r.next();){var i=t.node,o=t.entering,a=i.type;n&&n[a]&&n[a](i,{entering:o}),o||"paragraph"!==a&&"heading"!==a&&("tableCell"!==a||i.ignored)||this.inlineParser.parse(i)}},e.prototype.incorporateLine=function(e){var t=this.doc;this.oldtip=this.tip,this.offset=0,this.column=0,this.blank=!1,this.partiallyConsumedTab=!1,this.lineNumber+=1,-1!==e.indexOf("\0")&&(e=e.replace(/\0/g,"�")),this.currentLine=e;for(var n,r=!0;(n=t.lastChild)&&n.open;){switch(t=n,this.findNextNonspace(),s.blockHandlers[t.type].continue(this,t)){case 0:break;case 1:r=!1;break;case 2:return void(this.lastLineLength=e.length);default:throw new Error("continue returned illegal value, must be 0, 1, or 2")}if(!r){t=t.parent;break}}this.allClosed=t===this.oldtip,this.lastMatchedContainer=t;for(var i="paragraph"!==t.type&&s.blockHandlers[t.type].acceptsLines,a=c.blockStarts.length;!i;){if(this.findNextNonspace(),"table"!==t.type&&"tableBody"!==t.type&&"paragraph"!==t.type&&!this.indented&&!f.test(e.slice(this.nextNonspace))){this.advanceNextNonspace();break}for(var l=0;l<a;){var u=c.blockStarts[l](this,t);if(1===u){t=this.tip;break}if(2===u){t=this.tip,i=!0;break}l++}if(l===a){this.advanceNextNonspace();break}}if(this.allClosed||this.blank||"paragraph"!==this.tip.type){this.closeUnmatchedBlocks(),this.blank&&t.lastChild&&(t.lastChild.lastLineBlank=!0);for(var h=t.type,p=this.blank&&!("blockQuote"===h||o.isCodeBlock(t)&&t.isFenced||"item"===h&&!t.firstChild&&t.sourcepos[0][0]===this.lineNumber),m=t;m;)m.lastLineBlank=p,m=m.parent;s.blockHandlers[h].acceptsLines?(this.addLine(),o.isHtmlBlock(t)&&t.htmlBlockType>=1&&t.htmlBlockType<=5&&d[t.htmlBlockType].test(this.currentLine.slice(this.offset))&&(this.lastLineLength=e.length,this.finalize(t,this.lineNumber))):this.offset<e.length&&!this.blank&&(t=this.addChild("paragraph",this.offset),this.advanceNextNonspace(),this.addLine())}else this.addLine();this.lastLineLength=e.length},e.prototype.parse=function(e){this.doc=p(),this.tip=this.doc,this.lineNumber=0,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";var t=e.split(h),n=t.length;this.options.referenceDefinition&&this.clearRefMaps(),e.charCodeAt(e.length-1)===a.C_NEWLINE&&(n-=1);for(var r=0;r<n;r++)this.incorporateLine(t[r]);for(;this.tip;)this.finalize(this.tip,n);return this.processInlines(this.doc),this.doc},e.prototype.partialParseStart=function(e,t){this.doc=p(),this.tip=this.doc,this.lineNumber=e-1,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";for(var n=t.length,r=0;r<n;r++)this.incorporateLine(t[r]);return this.doc},e.prototype.partialParseExtends=function(e){for(var t=0;t<e.length;t++)this.incorporateLine(e[t])},e.prototype.partialParseFinish=function(){for(;this.tip;)this.finalize(this.tip,this.lineNumber);this.processInlines(this.doc)},e.prototype.setRefMaps=function(e,t,n){this.refMap=e,this.refLinkCandidateMap=t,this.refDefCandidateMap=n},e.prototype.clearRefMaps=function(){[this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap].forEach((function(e){u.clearObj(e)}))},e}();t.Parser=g},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(12)),o=r(n(13)),a=r(n(14)),s=r(n(15));function l(e){var t=Object.keys(e).join("|"),n=u(e),r=new RegExp("&(?:"+(t+="|#[xX][\\da-fA-F]+|#\\d+")+");","g");return function(e){return String(e).replace(r,n)}}t.decodeXML=l(a.default),t.decodeHTMLStrict=l(i.default);var c=function(e,t){return e<t?1:-1};function u(e){return function(t){return"#"===t.charAt(1)?"X"===t.charAt(2)||"x"===t.charAt(2)?s.default(parseInt(t.substr(3),16)):s.default(parseInt(t.substr(2),10)):e[t.slice(1,-1)]}}t.decodeHTML=function(){for(var e=Object.keys(o.default).sort(c),t=Object.keys(i.default).sort(c),n=0,r=0;n<t.length;n++)e[r]===t[n]?(t[n]+=";?",r++):t[n]+=";";var a=new RegExp("&(?:"+t.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),s=u(i.default);function l(e){return";"!==e.substr(-1)&&(e+=";"),s(e)}return function(e){return String(e).replace(a,l)}}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OPENTAG="<[A-Za-z][A-Za-z0-9-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*/?>",t.CLOSETAG="</[A-Za-z][A-Za-z0-9-]*\\s*[>]";var r="(?:"+t.OPENTAG+"|"+t.CLOSETAG+"|\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e|[<][?].*?[?][>]|<![A-Z]+\\s+[^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)";t.reHtmlTag=new RegExp("^"+r,"i")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(8),o=n(4),a=n(24),s=/^`{3,}(?!.*`)|^~{3,}/,l=[/./,/^<(?:script|pre|style)(?:\s|>|$)/i,/^<!--/,/^<[?]/,/^<![A-Z]/,/^<!\[CDATA\[/,/^<[/]?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[123456]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|[/]?[>]|$)/i,new RegExp("^(?:"+i.OPENTAG+"|"+i.CLOSETAG+")\\s*$","i")],c=/^(?:=+|-+)[ \t]*$/,u=/^#{1,6}(?:[ \t]+|$)/,d=/^(?:(?:\*[ \t]*){3,}|(?:_[ \t]*){3,}|(?:-[ \t]*){3,})[ \t]*$/;function f(e,t){return e.options.disallowDeepHeading&&("blockQuote"===t.type||"item"===t.type)}t.reBulletListMarker=/^[*+-]/,t.reOrderedListMarker=/^(\d{1,9})([.)])/,t.blockStarts=[function(e){return e.indented||o.peek(e.currentLine,e.nextNonspace)!==o.C_GREATERTHAN?0:(e.advanceNextNonspace(),e.advanceOffset(1,!1),o.isSpaceOrTab(o.peek(e.currentLine,e.offset))&&e.advanceOffset(1,!0),e.closeUnmatchedBlocks(),e.addChild("blockQuote",e.nextNonspace),1)},function(e,t){var n;if(!e.indented&&!f(e,t)&&(n=e.currentLine.slice(e.nextNonspace).match(u))){e.advanceNextNonspace(),e.advanceOffset(n[0].length,!1),e.closeUnmatchedBlocks();var r=e.addChild("heading",e.nextNonspace);return r.level=n[0].trim().length,r.headingType="atx",r.stringContent=e.currentLine.slice(e.offset).replace(/^[ \t]*#+[ \t]*$/,"").replace(/[ \t]+#+[ \t]*$/,""),e.advanceOffset(e.currentLine.length-e.offset),2}return 0},function(e){var t;if(!e.indented&&(t=e.currentLine.slice(e.nextNonspace).match(s))){var n=t[0].length;e.closeUnmatchedBlocks();var r=e.addChild("codeBlock",e.nextNonspace);return r.isFenced=!0,r.fenceLength=n,r.fenceChar=t[0][0],r.fenceOffset=e.indent,e.advanceNextNonspace(),e.advanceOffset(n,!1),2}return 0},function(e,t){if(!e.indented&&o.peek(e.currentLine,e.nextNonspace)===o.C_LESSTHAN){var n=e.currentLine.slice(e.nextNonspace),r=e.options.disallowedHtmlBlockTags,i=void 0;for(i=1;i<=7;i++){var a=n.match(l[i]);if(a){if(7===i){if("paragraph"===t.type)return 0;if(r.length>0&&new RegExp("</?(?:"+r.join("|")+")","i").test(a[0]))return 0}return e.closeUnmatchedBlocks(),e.addChild("htmlBlock",e.offset).htmlBlockType=i,2}}}return 0},function(e,t){var n;if(null!==t.stringContent&&!e.indented&&"paragraph"===t.type&&!f(e,t.parent)&&(n=e.currentLine.slice(e.nextNonspace).match(c))){e.closeUnmatchedBlocks();for(var i=void 0;o.peek(t.stringContent,0)===o.C_OPEN_BRACKET&&(i=e.inlineParser.parseReference(t,e.refMap));)t.stringContent=t.stringContent.slice(i);if(t.stringContent.length>0){var a=r.createNode("heading",t.sourcepos);return a.level="="===n[0][0]?1:2,a.headingType="setext",a.stringContent=t.stringContent,t.insertAfter(a),t.unlink(),e.tip=a,e.advanceOffset(e.currentLine.length-e.offset,!1),2}return 0}return 0},function(e){return!e.indented&&d.test(e.currentLine.slice(e.nextNonspace))?(e.closeUnmatchedBlocks(),e.addChild("thematicBreak",e.nextNonspace),e.advanceOffset(e.currentLine.length-e.offset,!1),2):0},function(e,n){var r,i,a,s=n;return e.indented&&"list"!==n.type||!(r=function(e,n){var r,i,a=e.currentLine.slice(e.nextNonspace),s={type:"bullet",tight:!0,bulletChar:"",start:0,delimiter:"",padding:0,markerOffset:e.indent,task:!1,checked:!1};if(e.indent>=4)return null;if(r=a.match(t.reBulletListMarker))s.type="bullet",s.bulletChar=r[0][0];else{if(!(r=a.match(t.reOrderedListMarker))||"paragraph"===n.type&&"1"!==r[1])return null;s.type="ordered",s.start=parseInt(r[1],10),s.delimiter=r[2]}if(-1!==(i=o.peek(e.currentLine,e.nextNonspace+r[0].length))&&i!==o.C_TAB&&i!==o.C_SPACE)return null;if("paragraph"===n.type&&!e.currentLine.slice(e.nextNonspace+r[0].length).match(o.reNonSpace))return null;e.advanceNextNonspace(),e.advanceOffset(r[0].length,!0);var l=e.column,c=e.offset;do{e.advanceOffset(1,!0),i=o.peek(e.currentLine,e.offset)}while(e.column-l<5&&o.isSpaceOrTab(i));var u=-1===o.peek(e.currentLine,e.offset),d=e.column-l;return d>=5||d<1||u?(s.padding=r[0].length+1,e.column=l,e.offset=c,o.isSpaceOrTab(o.peek(e.currentLine,e.offset))&&e.advanceOffset(1,!0)):s.padding=r[0].length+d,s}(e,s))?0:(e.closeUnmatchedBlocks(),"list"===e.tip.type&&(i=s.listData,a=r,i.type===a.type&&i.delimiter===a.delimiter&&i.bulletChar===a.bulletChar)||((s=e.addChild("list",e.nextNonspace)).listData=r),(s=e.addChild("item",e.nextNonspace)).listData=r,1)},function(e){return e.indented&&"paragraph"!==e.tip.type&&!e.blank?(e.advanceOffset(o.CODE_INDENT,!0),e.closeUnmatchedBlocks(),e.addChild("codeBlock",e.offset),2):0},a.tableHead,a.tableBody]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5);t.ToastMark=r.ToastMark;var i=n(26);t.createRenderHTML=i.createRenderHTML;var o=n(6);t.Parser=o.Parser},function(e,t,n){"use strict";var r={};function i(e,t,n){var o,a,s,l,c,u="";for("string"!=typeof t&&(n=t,t=i.defaultChars),void 0===n&&(n=!0),c=function(e){var t,n,i=r[e];if(i)return i;for(i=r[e]=[],t=0;t<128;t++)n=String.fromCharCode(t),/^[0-9a-z]$/i.test(n)?i.push(n):i.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2));for(t=0;t<e.length;t++)i[e.charCodeAt(t)]=e[t];return i}(t),o=0,a=e.length;o<a;o++)if(s=e.charCodeAt(o),n&&37===s&&o+2<a&&/^[0-9a-f]{2}$/i.test(e.slice(o+1,o+3)))u+=e.slice(o,o+3),o+=2;else if(s<128)u+=c[s];else if(s>=55296&&s<=57343){if(s>=55296&&s<=56319&&o+1<a&&(l=e.charCodeAt(o+1))>=56320&&l<=57343){u+=encodeURIComponent(e[o]+e[o+1]),o++;continue}u+="%EF%BF%BD"}else u+=encodeURIComponent(e[o]);return u}i.defaultChars=";/?:@&=+$,-_.!~*'()#",i.componentChars="-_.!~*'()",e.exports=i},function(e){e.exports=JSON.parse('{"Aacute":"Á","aacute":"á","Abreve":"Ă","abreve":"ă","ac":"∾","acd":"∿","acE":"∾̳","Acirc":"Â","acirc":"â","acute":"´","Acy":"А","acy":"а","AElig":"Æ","aelig":"æ","af":"⁡","Afr":"𝔄","afr":"𝔞","Agrave":"À","agrave":"à","alefsym":"ℵ","aleph":"ℵ","Alpha":"Α","alpha":"α","Amacr":"Ā","amacr":"ā","amalg":"⨿","amp":"&","AMP":"&","andand":"⩕","And":"⩓","and":"∧","andd":"⩜","andslope":"⩘","andv":"⩚","ang":"∠","ange":"⦤","angle":"∠","angmsdaa":"⦨","angmsdab":"⦩","angmsdac":"⦪","angmsdad":"⦫","angmsdae":"⦬","angmsdaf":"⦭","angmsdag":"⦮","angmsdah":"⦯","angmsd":"∡","angrt":"∟","angrtvb":"⊾","angrtvbd":"⦝","angsph":"∢","angst":"Å","angzarr":"⍼","Aogon":"Ą","aogon":"ą","Aopf":"𝔸","aopf":"𝕒","apacir":"⩯","ap":"≈","apE":"⩰","ape":"≊","apid":"≋","apos":"\'","ApplyFunction":"⁡","approx":"≈","approxeq":"≊","Aring":"Å","aring":"å","Ascr":"𝒜","ascr":"𝒶","Assign":"≔","ast":"*","asymp":"≈","asympeq":"≍","Atilde":"Ã","atilde":"ã","Auml":"Ä","auml":"ä","awconint":"∳","awint":"⨑","backcong":"≌","backepsilon":"϶","backprime":"‵","backsim":"∽","backsimeq":"⋍","Backslash":"∖","Barv":"⫧","barvee":"⊽","barwed":"⌅","Barwed":"⌆","barwedge":"⌅","bbrk":"⎵","bbrktbrk":"⎶","bcong":"≌","Bcy":"Б","bcy":"б","bdquo":"„","becaus":"∵","because":"∵","Because":"∵","bemptyv":"⦰","bepsi":"϶","bernou":"ℬ","Bernoullis":"ℬ","Beta":"Β","beta":"β","beth":"ℶ","between":"≬","Bfr":"𝔅","bfr":"𝔟","bigcap":"⋂","bigcirc":"◯","bigcup":"⋃","bigodot":"⨀","bigoplus":"⨁","bigotimes":"⨂","bigsqcup":"⨆","bigstar":"★","bigtriangledown":"▽","bigtriangleup":"△","biguplus":"⨄","bigvee":"⋁","bigwedge":"⋀","bkarow":"⤍","blacklozenge":"⧫","blacksquare":"▪","blacktriangle":"▴","blacktriangledown":"▾","blacktriangleleft":"◂","blacktriangleright":"▸","blank":"␣","blk12":"▒","blk14":"░","blk34":"▓","block":"█","bne":"=⃥","bnequiv":"≡⃥","bNot":"⫭","bnot":"⌐","Bopf":"𝔹","bopf":"𝕓","bot":"⊥","bottom":"⊥","bowtie":"⋈","boxbox":"⧉","boxdl":"┐","boxdL":"╕","boxDl":"╖","boxDL":"╗","boxdr":"┌","boxdR":"╒","boxDr":"╓","boxDR":"╔","boxh":"─","boxH":"═","boxhd":"┬","boxHd":"╤","boxhD":"╥","boxHD":"╦","boxhu":"┴","boxHu":"╧","boxhU":"╨","boxHU":"╩","boxminus":"⊟","boxplus":"⊞","boxtimes":"⊠","boxul":"┘","boxuL":"╛","boxUl":"╜","boxUL":"╝","boxur":"└","boxuR":"╘","boxUr":"╙","boxUR":"╚","boxv":"│","boxV":"║","boxvh":"┼","boxvH":"╪","boxVh":"╫","boxVH":"╬","boxvl":"┤","boxvL":"╡","boxVl":"╢","boxVL":"╣","boxvr":"├","boxvR":"╞","boxVr":"╟","boxVR":"╠","bprime":"‵","breve":"˘","Breve":"˘","brvbar":"¦","bscr":"𝒷","Bscr":"ℬ","bsemi":"⁏","bsim":"∽","bsime":"⋍","bsolb":"⧅","bsol":"\\\\","bsolhsub":"⟈","bull":"•","bullet":"•","bump":"≎","bumpE":"⪮","bumpe":"≏","Bumpeq":"≎","bumpeq":"≏","Cacute":"Ć","cacute":"ć","capand":"⩄","capbrcup":"⩉","capcap":"⩋","cap":"∩","Cap":"⋒","capcup":"⩇","capdot":"⩀","CapitalDifferentialD":"ⅅ","caps":"∩︀","caret":"⁁","caron":"ˇ","Cayleys":"ℭ","ccaps":"⩍","Ccaron":"Č","ccaron":"č","Ccedil":"Ç","ccedil":"ç","Ccirc":"Ĉ","ccirc":"ĉ","Cconint":"∰","ccups":"⩌","ccupssm":"⩐","Cdot":"Ċ","cdot":"ċ","cedil":"¸","Cedilla":"¸","cemptyv":"⦲","cent":"¢","centerdot":"·","CenterDot":"·","cfr":"𝔠","Cfr":"ℭ","CHcy":"Ч","chcy":"ч","check":"✓","checkmark":"✓","Chi":"Χ","chi":"χ","circ":"ˆ","circeq":"≗","circlearrowleft":"↺","circlearrowright":"↻","circledast":"⊛","circledcirc":"⊚","circleddash":"⊝","CircleDot":"⊙","circledR":"®","circledS":"Ⓢ","CircleMinus":"⊖","CirclePlus":"⊕","CircleTimes":"⊗","cir":"○","cirE":"⧃","cire":"≗","cirfnint":"⨐","cirmid":"⫯","cirscir":"⧂","ClockwiseContourIntegral":"∲","CloseCurlyDoubleQuote":"”","CloseCurlyQuote":"’","clubs":"♣","clubsuit":"♣","colon":":","Colon":"∷","Colone":"⩴","colone":"≔","coloneq":"≔","comma":",","commat":"@","comp":"∁","compfn":"∘","complement":"∁","complexes":"ℂ","cong":"≅","congdot":"⩭","Congruent":"≡","conint":"∮","Conint":"∯","ContourIntegral":"∮","copf":"𝕔","Copf":"ℂ","coprod":"∐","Coproduct":"∐","copy":"©","COPY":"©","copysr":"℗","CounterClockwiseContourIntegral":"∳","crarr":"↵","cross":"✗","Cross":"⨯","Cscr":"𝒞","cscr":"𝒸","csub":"⫏","csube":"⫑","csup":"⫐","csupe":"⫒","ctdot":"⋯","cudarrl":"⤸","cudarrr":"⤵","cuepr":"⋞","cuesc":"⋟","cularr":"↶","cularrp":"⤽","cupbrcap":"⩈","cupcap":"⩆","CupCap":"≍","cup":"∪","Cup":"⋓","cupcup":"⩊","cupdot":"⊍","cupor":"⩅","cups":"∪︀","curarr":"↷","curarrm":"⤼","curlyeqprec":"⋞","curlyeqsucc":"⋟","curlyvee":"⋎","curlywedge":"⋏","curren":"¤","curvearrowleft":"↶","curvearrowright":"↷","cuvee":"⋎","cuwed":"⋏","cwconint":"∲","cwint":"∱","cylcty":"⌭","dagger":"†","Dagger":"‡","daleth":"ℸ","darr":"↓","Darr":"↡","dArr":"⇓","dash":"‐","Dashv":"⫤","dashv":"⊣","dbkarow":"⤏","dblac":"˝","Dcaron":"Ď","dcaron":"ď","Dcy":"Д","dcy":"д","ddagger":"‡","ddarr":"⇊","DD":"ⅅ","dd":"ⅆ","DDotrahd":"⤑","ddotseq":"⩷","deg":"°","Del":"∇","Delta":"Δ","delta":"δ","demptyv":"⦱","dfisht":"⥿","Dfr":"𝔇","dfr":"𝔡","dHar":"⥥","dharl":"⇃","dharr":"⇂","DiacriticalAcute":"´","DiacriticalDot":"˙","DiacriticalDoubleAcute":"˝","DiacriticalGrave":"`","DiacriticalTilde":"˜","diam":"⋄","diamond":"⋄","Diamond":"⋄","diamondsuit":"♦","diams":"♦","die":"¨","DifferentialD":"ⅆ","digamma":"ϝ","disin":"⋲","div":"÷","divide":"÷","divideontimes":"⋇","divonx":"⋇","DJcy":"Ђ","djcy":"ђ","dlcorn":"⌞","dlcrop":"⌍","dollar":"$","Dopf":"𝔻","dopf":"𝕕","Dot":"¨","dot":"˙","DotDot":"⃜","doteq":"≐","doteqdot":"≑","DotEqual":"≐","dotminus":"∸","dotplus":"∔","dotsquare":"⊡","doublebarwedge":"⌆","DoubleContourIntegral":"∯","DoubleDot":"¨","DoubleDownArrow":"⇓","DoubleLeftArrow":"⇐","DoubleLeftRightArrow":"⇔","DoubleLeftTee":"⫤","DoubleLongLeftArrow":"⟸","DoubleLongLeftRightArrow":"⟺","DoubleLongRightArrow":"⟹","DoubleRightArrow":"⇒","DoubleRightTee":"⊨","DoubleUpArrow":"⇑","DoubleUpDownArrow":"⇕","DoubleVerticalBar":"∥","DownArrowBar":"⤓","downarrow":"↓","DownArrow":"↓","Downarrow":"⇓","DownArrowUpArrow":"⇵","DownBreve":"̑","downdownarrows":"⇊","downharpoonleft":"⇃","downharpoonright":"⇂","DownLeftRightVector":"⥐","DownLeftTeeVector":"⥞","DownLeftVectorBar":"⥖","DownLeftVector":"↽","DownRightTeeVector":"⥟","DownRightVectorBar":"⥗","DownRightVector":"⇁","DownTeeArrow":"↧","DownTee":"⊤","drbkarow":"⤐","drcorn":"⌟","drcrop":"⌌","Dscr":"𝒟","dscr":"𝒹","DScy":"Ѕ","dscy":"ѕ","dsol":"⧶","Dstrok":"Đ","dstrok":"đ","dtdot":"⋱","dtri":"▿","dtrif":"▾","duarr":"⇵","duhar":"⥯","dwangle":"⦦","DZcy":"Џ","dzcy":"џ","dzigrarr":"⟿","Eacute":"É","eacute":"é","easter":"⩮","Ecaron":"Ě","ecaron":"ě","Ecirc":"Ê","ecirc":"ê","ecir":"≖","ecolon":"≕","Ecy":"Э","ecy":"э","eDDot":"⩷","Edot":"Ė","edot":"ė","eDot":"≑","ee":"ⅇ","efDot":"≒","Efr":"𝔈","efr":"𝔢","eg":"⪚","Egrave":"È","egrave":"è","egs":"⪖","egsdot":"⪘","el":"⪙","Element":"∈","elinters":"⏧","ell":"ℓ","els":"⪕","elsdot":"⪗","Emacr":"Ē","emacr":"ē","empty":"∅","emptyset":"∅","EmptySmallSquare":"◻","emptyv":"∅","EmptyVerySmallSquare":"▫","emsp13":" ","emsp14":" ","emsp":" ","ENG":"Ŋ","eng":"ŋ","ensp":" ","Eogon":"Ę","eogon":"ę","Eopf":"𝔼","eopf":"𝕖","epar":"⋕","eparsl":"⧣","eplus":"⩱","epsi":"ε","Epsilon":"Ε","epsilon":"ε","epsiv":"ϵ","eqcirc":"≖","eqcolon":"≕","eqsim":"≂","eqslantgtr":"⪖","eqslantless":"⪕","Equal":"⩵","equals":"=","EqualTilde":"≂","equest":"≟","Equilibrium":"⇌","equiv":"≡","equivDD":"⩸","eqvparsl":"⧥","erarr":"⥱","erDot":"≓","escr":"ℯ","Escr":"ℰ","esdot":"≐","Esim":"⩳","esim":"≂","Eta":"Η","eta":"η","ETH":"Ð","eth":"ð","Euml":"Ë","euml":"ë","euro":"€","excl":"!","exist":"∃","Exists":"∃","expectation":"ℰ","exponentiale":"ⅇ","ExponentialE":"ⅇ","fallingdotseq":"≒","Fcy":"Ф","fcy":"ф","female":"♀","ffilig":"ﬃ","fflig":"ﬀ","ffllig":"ﬄ","Ffr":"𝔉","ffr":"𝔣","filig":"ﬁ","FilledSmallSquare":"◼","FilledVerySmallSquare":"▪","fjlig":"fj","flat":"♭","fllig":"ﬂ","fltns":"▱","fnof":"ƒ","Fopf":"𝔽","fopf":"𝕗","forall":"∀","ForAll":"∀","fork":"⋔","forkv":"⫙","Fouriertrf":"ℱ","fpartint":"⨍","frac12":"½","frac13":"⅓","frac14":"¼","frac15":"⅕","frac16":"⅙","frac18":"⅛","frac23":"⅔","frac25":"⅖","frac34":"¾","frac35":"⅗","frac38":"⅜","frac45":"⅘","frac56":"⅚","frac58":"⅝","frac78":"⅞","frasl":"⁄","frown":"⌢","fscr":"𝒻","Fscr":"ℱ","gacute":"ǵ","Gamma":"Γ","gamma":"γ","Gammad":"Ϝ","gammad":"ϝ","gap":"⪆","Gbreve":"Ğ","gbreve":"ğ","Gcedil":"Ģ","Gcirc":"Ĝ","gcirc":"ĝ","Gcy":"Г","gcy":"г","Gdot":"Ġ","gdot":"ġ","ge":"≥","gE":"≧","gEl":"⪌","gel":"⋛","geq":"≥","geqq":"≧","geqslant":"⩾","gescc":"⪩","ges":"⩾","gesdot":"⪀","gesdoto":"⪂","gesdotol":"⪄","gesl":"⋛︀","gesles":"⪔","Gfr":"𝔊","gfr":"𝔤","gg":"≫","Gg":"⋙","ggg":"⋙","gimel":"ℷ","GJcy":"Ѓ","gjcy":"ѓ","gla":"⪥","gl":"≷","glE":"⪒","glj":"⪤","gnap":"⪊","gnapprox":"⪊","gne":"⪈","gnE":"≩","gneq":"⪈","gneqq":"≩","gnsim":"⋧","Gopf":"𝔾","gopf":"𝕘","grave":"`","GreaterEqual":"≥","GreaterEqualLess":"⋛","GreaterFullEqual":"≧","GreaterGreater":"⪢","GreaterLess":"≷","GreaterSlantEqual":"⩾","GreaterTilde":"≳","Gscr":"𝒢","gscr":"ℊ","gsim":"≳","gsime":"⪎","gsiml":"⪐","gtcc":"⪧","gtcir":"⩺","gt":">","GT":">","Gt":"≫","gtdot":"⋗","gtlPar":"⦕","gtquest":"⩼","gtrapprox":"⪆","gtrarr":"⥸","gtrdot":"⋗","gtreqless":"⋛","gtreqqless":"⪌","gtrless":"≷","gtrsim":"≳","gvertneqq":"≩︀","gvnE":"≩︀","Hacek":"ˇ","hairsp":" ","half":"½","hamilt":"ℋ","HARDcy":"Ъ","hardcy":"ъ","harrcir":"⥈","harr":"↔","hArr":"⇔","harrw":"↭","Hat":"^","hbar":"ℏ","Hcirc":"Ĥ","hcirc":"ĥ","hearts":"♥","heartsuit":"♥","hellip":"…","hercon":"⊹","hfr":"𝔥","Hfr":"ℌ","HilbertSpace":"ℋ","hksearow":"⤥","hkswarow":"⤦","hoarr":"⇿","homtht":"∻","hookleftarrow":"↩","hookrightarrow":"↪","hopf":"𝕙","Hopf":"ℍ","horbar":"―","HorizontalLine":"─","hscr":"𝒽","Hscr":"ℋ","hslash":"ℏ","Hstrok":"Ħ","hstrok":"ħ","HumpDownHump":"≎","HumpEqual":"≏","hybull":"⁃","hyphen":"‐","Iacute":"Í","iacute":"í","ic":"⁣","Icirc":"Î","icirc":"î","Icy":"И","icy":"и","Idot":"İ","IEcy":"Е","iecy":"е","iexcl":"¡","iff":"⇔","ifr":"𝔦","Ifr":"ℑ","Igrave":"Ì","igrave":"ì","ii":"ⅈ","iiiint":"⨌","iiint":"∭","iinfin":"⧜","iiota":"℩","IJlig":"Ĳ","ijlig":"ĳ","Imacr":"Ī","imacr":"ī","image":"ℑ","ImaginaryI":"ⅈ","imagline":"ℐ","imagpart":"ℑ","imath":"ı","Im":"ℑ","imof":"⊷","imped":"Ƶ","Implies":"⇒","incare":"℅","in":"∈","infin":"∞","infintie":"⧝","inodot":"ı","intcal":"⊺","int":"∫","Int":"∬","integers":"ℤ","Integral":"∫","intercal":"⊺","Intersection":"⋂","intlarhk":"⨗","intprod":"⨼","InvisibleComma":"⁣","InvisibleTimes":"⁢","IOcy":"Ё","iocy":"ё","Iogon":"Į","iogon":"į","Iopf":"𝕀","iopf":"𝕚","Iota":"Ι","iota":"ι","iprod":"⨼","iquest":"¿","iscr":"𝒾","Iscr":"ℐ","isin":"∈","isindot":"⋵","isinE":"⋹","isins":"⋴","isinsv":"⋳","isinv":"∈","it":"⁢","Itilde":"Ĩ","itilde":"ĩ","Iukcy":"І","iukcy":"і","Iuml":"Ï","iuml":"ï","Jcirc":"Ĵ","jcirc":"ĵ","Jcy":"Й","jcy":"й","Jfr":"𝔍","jfr":"𝔧","jmath":"ȷ","Jopf":"𝕁","jopf":"𝕛","Jscr":"𝒥","jscr":"𝒿","Jsercy":"Ј","jsercy":"ј","Jukcy":"Є","jukcy":"є","Kappa":"Κ","kappa":"κ","kappav":"ϰ","Kcedil":"Ķ","kcedil":"ķ","Kcy":"К","kcy":"к","Kfr":"𝔎","kfr":"𝔨","kgreen":"ĸ","KHcy":"Х","khcy":"х","KJcy":"Ќ","kjcy":"ќ","Kopf":"𝕂","kopf":"𝕜","Kscr":"𝒦","kscr":"𝓀","lAarr":"⇚","Lacute":"Ĺ","lacute":"ĺ","laemptyv":"⦴","lagran":"ℒ","Lambda":"Λ","lambda":"λ","lang":"⟨","Lang":"⟪","langd":"⦑","langle":"⟨","lap":"⪅","Laplacetrf":"ℒ","laquo":"«","larrb":"⇤","larrbfs":"⤟","larr":"←","Larr":"↞","lArr":"⇐","larrfs":"⤝","larrhk":"↩","larrlp":"↫","larrpl":"⤹","larrsim":"⥳","larrtl":"↢","latail":"⤙","lAtail":"⤛","lat":"⪫","late":"⪭","lates":"⪭︀","lbarr":"⤌","lBarr":"⤎","lbbrk":"❲","lbrace":"{","lbrack":"[","lbrke":"⦋","lbrksld":"⦏","lbrkslu":"⦍","Lcaron":"Ľ","lcaron":"ľ","Lcedil":"Ļ","lcedil":"ļ","lceil":"⌈","lcub":"{","Lcy":"Л","lcy":"л","ldca":"⤶","ldquo":"“","ldquor":"„","ldrdhar":"⥧","ldrushar":"⥋","ldsh":"↲","le":"≤","lE":"≦","LeftAngleBracket":"⟨","LeftArrowBar":"⇤","leftarrow":"←","LeftArrow":"←","Leftarrow":"⇐","LeftArrowRightArrow":"⇆","leftarrowtail":"↢","LeftCeiling":"⌈","LeftDoubleBracket":"⟦","LeftDownTeeVector":"⥡","LeftDownVectorBar":"⥙","LeftDownVector":"⇃","LeftFloor":"⌊","leftharpoondown":"↽","leftharpoonup":"↼","leftleftarrows":"⇇","leftrightarrow":"↔","LeftRightArrow":"↔","Leftrightarrow":"⇔","leftrightarrows":"⇆","leftrightharpoons":"⇋","leftrightsquigarrow":"↭","LeftRightVector":"⥎","LeftTeeArrow":"↤","LeftTee":"⊣","LeftTeeVector":"⥚","leftthreetimes":"⋋","LeftTriangleBar":"⧏","LeftTriangle":"⊲","LeftTriangleEqual":"⊴","LeftUpDownVector":"⥑","LeftUpTeeVector":"⥠","LeftUpVectorBar":"⥘","LeftUpVector":"↿","LeftVectorBar":"⥒","LeftVector":"↼","lEg":"⪋","leg":"⋚","leq":"≤","leqq":"≦","leqslant":"⩽","lescc":"⪨","les":"⩽","lesdot":"⩿","lesdoto":"⪁","lesdotor":"⪃","lesg":"⋚︀","lesges":"⪓","lessapprox":"⪅","lessdot":"⋖","lesseqgtr":"⋚","lesseqqgtr":"⪋","LessEqualGreater":"⋚","LessFullEqual":"≦","LessGreater":"≶","lessgtr":"≶","LessLess":"⪡","lesssim":"≲","LessSlantEqual":"⩽","LessTilde":"≲","lfisht":"⥼","lfloor":"⌊","Lfr":"𝔏","lfr":"𝔩","lg":"≶","lgE":"⪑","lHar":"⥢","lhard":"↽","lharu":"↼","lharul":"⥪","lhblk":"▄","LJcy":"Љ","ljcy":"љ","llarr":"⇇","ll":"≪","Ll":"⋘","llcorner":"⌞","Lleftarrow":"⇚","llhard":"⥫","lltri":"◺","Lmidot":"Ŀ","lmidot":"ŀ","lmoustache":"⎰","lmoust":"⎰","lnap":"⪉","lnapprox":"⪉","lne":"⪇","lnE":"≨","lneq":"⪇","lneqq":"≨","lnsim":"⋦","loang":"⟬","loarr":"⇽","lobrk":"⟦","longleftarrow":"⟵","LongLeftArrow":"⟵","Longleftarrow":"⟸","longleftrightarrow":"⟷","LongLeftRightArrow":"⟷","Longleftrightarrow":"⟺","longmapsto":"⟼","longrightarrow":"⟶","LongRightArrow":"⟶","Longrightarrow":"⟹","looparrowleft":"↫","looparrowright":"↬","lopar":"⦅","Lopf":"𝕃","lopf":"𝕝","loplus":"⨭","lotimes":"⨴","lowast":"∗","lowbar":"_","LowerLeftArrow":"↙","LowerRightArrow":"↘","loz":"◊","lozenge":"◊","lozf":"⧫","lpar":"(","lparlt":"⦓","lrarr":"⇆","lrcorner":"⌟","lrhar":"⇋","lrhard":"⥭","lrm":"‎","lrtri":"⊿","lsaquo":"‹","lscr":"𝓁","Lscr":"ℒ","lsh":"↰","Lsh":"↰","lsim":"≲","lsime":"⪍","lsimg":"⪏","lsqb":"[","lsquo":"‘","lsquor":"‚","Lstrok":"Ł","lstrok":"ł","ltcc":"⪦","ltcir":"⩹","lt":"<","LT":"<","Lt":"≪","ltdot":"⋖","lthree":"⋋","ltimes":"⋉","ltlarr":"⥶","ltquest":"⩻","ltri":"◃","ltrie":"⊴","ltrif":"◂","ltrPar":"⦖","lurdshar":"⥊","luruhar":"⥦","lvertneqq":"≨︀","lvnE":"≨︀","macr":"¯","male":"♂","malt":"✠","maltese":"✠","Map":"⤅","map":"↦","mapsto":"↦","mapstodown":"↧","mapstoleft":"↤","mapstoup":"↥","marker":"▮","mcomma":"⨩","Mcy":"М","mcy":"м","mdash":"—","mDDot":"∺","measuredangle":"∡","MediumSpace":" ","Mellintrf":"ℳ","Mfr":"𝔐","mfr":"𝔪","mho":"℧","micro":"µ","midast":"*","midcir":"⫰","mid":"∣","middot":"·","minusb":"⊟","minus":"−","minusd":"∸","minusdu":"⨪","MinusPlus":"∓","mlcp":"⫛","mldr":"…","mnplus":"∓","models":"⊧","Mopf":"𝕄","mopf":"𝕞","mp":"∓","mscr":"𝓂","Mscr":"ℳ","mstpos":"∾","Mu":"Μ","mu":"μ","multimap":"⊸","mumap":"⊸","nabla":"∇","Nacute":"Ń","nacute":"ń","nang":"∠⃒","nap":"≉","napE":"⩰̸","napid":"≋̸","napos":"ŉ","napprox":"≉","natural":"♮","naturals":"ℕ","natur":"♮","nbsp":" ","nbump":"≎̸","nbumpe":"≏̸","ncap":"⩃","Ncaron":"Ň","ncaron":"ň","Ncedil":"Ņ","ncedil":"ņ","ncong":"≇","ncongdot":"⩭̸","ncup":"⩂","Ncy":"Н","ncy":"н","ndash":"–","nearhk":"⤤","nearr":"↗","neArr":"⇗","nearrow":"↗","ne":"≠","nedot":"≐̸","NegativeMediumSpace":"​","NegativeThickSpace":"​","NegativeThinSpace":"​","NegativeVeryThinSpace":"​","nequiv":"≢","nesear":"⤨","nesim":"≂̸","NestedGreaterGreater":"≫","NestedLessLess":"≪","NewLine":"\\n","nexist":"∄","nexists":"∄","Nfr":"𝔑","nfr":"𝔫","ngE":"≧̸","nge":"≱","ngeq":"≱","ngeqq":"≧̸","ngeqslant":"⩾̸","nges":"⩾̸","nGg":"⋙̸","ngsim":"≵","nGt":"≫⃒","ngt":"≯","ngtr":"≯","nGtv":"≫̸","nharr":"↮","nhArr":"⇎","nhpar":"⫲","ni":"∋","nis":"⋼","nisd":"⋺","niv":"∋","NJcy":"Њ","njcy":"њ","nlarr":"↚","nlArr":"⇍","nldr":"‥","nlE":"≦̸","nle":"≰","nleftarrow":"↚","nLeftarrow":"⇍","nleftrightarrow":"↮","nLeftrightarrow":"⇎","nleq":"≰","nleqq":"≦̸","nleqslant":"⩽̸","nles":"⩽̸","nless":"≮","nLl":"⋘̸","nlsim":"≴","nLt":"≪⃒","nlt":"≮","nltri":"⋪","nltrie":"⋬","nLtv":"≪̸","nmid":"∤","NoBreak":"⁠","NonBreakingSpace":" ","nopf":"𝕟","Nopf":"ℕ","Not":"⫬","not":"¬","NotCongruent":"≢","NotCupCap":"≭","NotDoubleVerticalBar":"∦","NotElement":"∉","NotEqual":"≠","NotEqualTilde":"≂̸","NotExists":"∄","NotGreater":"≯","NotGreaterEqual":"≱","NotGreaterFullEqual":"≧̸","NotGreaterGreater":"≫̸","NotGreaterLess":"≹","NotGreaterSlantEqual":"⩾̸","NotGreaterTilde":"≵","NotHumpDownHump":"≎̸","NotHumpEqual":"≏̸","notin":"∉","notindot":"⋵̸","notinE":"⋹̸","notinva":"∉","notinvb":"⋷","notinvc":"⋶","NotLeftTriangleBar":"⧏̸","NotLeftTriangle":"⋪","NotLeftTriangleEqual":"⋬","NotLess":"≮","NotLessEqual":"≰","NotLessGreater":"≸","NotLessLess":"≪̸","NotLessSlantEqual":"⩽̸","NotLessTilde":"≴","NotNestedGreaterGreater":"⪢̸","NotNestedLessLess":"⪡̸","notni":"∌","notniva":"∌","notnivb":"⋾","notnivc":"⋽","NotPrecedes":"⊀","NotPrecedesEqual":"⪯̸","NotPrecedesSlantEqual":"⋠","NotReverseElement":"∌","NotRightTriangleBar":"⧐̸","NotRightTriangle":"⋫","NotRightTriangleEqual":"⋭","NotSquareSubset":"⊏̸","NotSquareSubsetEqual":"⋢","NotSquareSuperset":"⊐̸","NotSquareSupersetEqual":"⋣","NotSubset":"⊂⃒","NotSubsetEqual":"⊈","NotSucceeds":"⊁","NotSucceedsEqual":"⪰̸","NotSucceedsSlantEqual":"⋡","NotSucceedsTilde":"≿̸","NotSuperset":"⊃⃒","NotSupersetEqual":"⊉","NotTilde":"≁","NotTildeEqual":"≄","NotTildeFullEqual":"≇","NotTildeTilde":"≉","NotVerticalBar":"∤","nparallel":"∦","npar":"∦","nparsl":"⫽⃥","npart":"∂̸","npolint":"⨔","npr":"⊀","nprcue":"⋠","nprec":"⊀","npreceq":"⪯̸","npre":"⪯̸","nrarrc":"⤳̸","nrarr":"↛","nrArr":"⇏","nrarrw":"↝̸","nrightarrow":"↛","nRightarrow":"⇏","nrtri":"⋫","nrtrie":"⋭","nsc":"⊁","nsccue":"⋡","nsce":"⪰̸","Nscr":"𝒩","nscr":"𝓃","nshortmid":"∤","nshortparallel":"∦","nsim":"≁","nsime":"≄","nsimeq":"≄","nsmid":"∤","nspar":"∦","nsqsube":"⋢","nsqsupe":"⋣","nsub":"⊄","nsubE":"⫅̸","nsube":"⊈","nsubset":"⊂⃒","nsubseteq":"⊈","nsubseteqq":"⫅̸","nsucc":"⊁","nsucceq":"⪰̸","nsup":"⊅","nsupE":"⫆̸","nsupe":"⊉","nsupset":"⊃⃒","nsupseteq":"⊉","nsupseteqq":"⫆̸","ntgl":"≹","Ntilde":"Ñ","ntilde":"ñ","ntlg":"≸","ntriangleleft":"⋪","ntrianglelefteq":"⋬","ntriangleright":"⋫","ntrianglerighteq":"⋭","Nu":"Ν","nu":"ν","num":"#","numero":"№","numsp":" ","nvap":"≍⃒","nvdash":"⊬","nvDash":"⊭","nVdash":"⊮","nVDash":"⊯","nvge":"≥⃒","nvgt":">⃒","nvHarr":"⤄","nvinfin":"⧞","nvlArr":"⤂","nvle":"≤⃒","nvlt":"<⃒","nvltrie":"⊴⃒","nvrArr":"⤃","nvrtrie":"⊵⃒","nvsim":"∼⃒","nwarhk":"⤣","nwarr":"↖","nwArr":"⇖","nwarrow":"↖","nwnear":"⤧","Oacute":"Ó","oacute":"ó","oast":"⊛","Ocirc":"Ô","ocirc":"ô","ocir":"⊚","Ocy":"О","ocy":"о","odash":"⊝","Odblac":"Ő","odblac":"ő","odiv":"⨸","odot":"⊙","odsold":"⦼","OElig":"Œ","oelig":"œ","ofcir":"⦿","Ofr":"𝔒","ofr":"𝔬","ogon":"˛","Ograve":"Ò","ograve":"ò","ogt":"⧁","ohbar":"⦵","ohm":"Ω","oint":"∮","olarr":"↺","olcir":"⦾","olcross":"⦻","oline":"‾","olt":"⧀","Omacr":"Ō","omacr":"ō","Omega":"Ω","omega":"ω","Omicron":"Ο","omicron":"ο","omid":"⦶","ominus":"⊖","Oopf":"𝕆","oopf":"𝕠","opar":"⦷","OpenCurlyDoubleQuote":"“","OpenCurlyQuote":"‘","operp":"⦹","oplus":"⊕","orarr":"↻","Or":"⩔","or":"∨","ord":"⩝","order":"ℴ","orderof":"ℴ","ordf":"ª","ordm":"º","origof":"⊶","oror":"⩖","orslope":"⩗","orv":"⩛","oS":"Ⓢ","Oscr":"𝒪","oscr":"ℴ","Oslash":"Ø","oslash":"ø","osol":"⊘","Otilde":"Õ","otilde":"õ","otimesas":"⨶","Otimes":"⨷","otimes":"⊗","Ouml":"Ö","ouml":"ö","ovbar":"⌽","OverBar":"‾","OverBrace":"⏞","OverBracket":"⎴","OverParenthesis":"⏜","para":"¶","parallel":"∥","par":"∥","parsim":"⫳","parsl":"⫽","part":"∂","PartialD":"∂","Pcy":"П","pcy":"п","percnt":"%","period":".","permil":"‰","perp":"⊥","pertenk":"‱","Pfr":"𝔓","pfr":"𝔭","Phi":"Φ","phi":"φ","phiv":"ϕ","phmmat":"ℳ","phone":"☎","Pi":"Π","pi":"π","pitchfork":"⋔","piv":"ϖ","planck":"ℏ","planckh":"ℎ","plankv":"ℏ","plusacir":"⨣","plusb":"⊞","pluscir":"⨢","plus":"+","plusdo":"∔","plusdu":"⨥","pluse":"⩲","PlusMinus":"±","plusmn":"±","plussim":"⨦","plustwo":"⨧","pm":"±","Poincareplane":"ℌ","pointint":"⨕","popf":"𝕡","Popf":"ℙ","pound":"£","prap":"⪷","Pr":"⪻","pr":"≺","prcue":"≼","precapprox":"⪷","prec":"≺","preccurlyeq":"≼","Precedes":"≺","PrecedesEqual":"⪯","PrecedesSlantEqual":"≼","PrecedesTilde":"≾","preceq":"⪯","precnapprox":"⪹","precneqq":"⪵","precnsim":"⋨","pre":"⪯","prE":"⪳","precsim":"≾","prime":"′","Prime":"″","primes":"ℙ","prnap":"⪹","prnE":"⪵","prnsim":"⋨","prod":"∏","Product":"∏","profalar":"⌮","profline":"⌒","profsurf":"⌓","prop":"∝","Proportional":"∝","Proportion":"∷","propto":"∝","prsim":"≾","prurel":"⊰","Pscr":"𝒫","pscr":"𝓅","Psi":"Ψ","psi":"ψ","puncsp":" ","Qfr":"𝔔","qfr":"𝔮","qint":"⨌","qopf":"𝕢","Qopf":"ℚ","qprime":"⁗","Qscr":"𝒬","qscr":"𝓆","quaternions":"ℍ","quatint":"⨖","quest":"?","questeq":"≟","quot":"\\"","QUOT":"\\"","rAarr":"⇛","race":"∽̱","Racute":"Ŕ","racute":"ŕ","radic":"√","raemptyv":"⦳","rang":"⟩","Rang":"⟫","rangd":"⦒","range":"⦥","rangle":"⟩","raquo":"»","rarrap":"⥵","rarrb":"⇥","rarrbfs":"⤠","rarrc":"⤳","rarr":"→","Rarr":"↠","rArr":"⇒","rarrfs":"⤞","rarrhk":"↪","rarrlp":"↬","rarrpl":"⥅","rarrsim":"⥴","Rarrtl":"⤖","rarrtl":"↣","rarrw":"↝","ratail":"⤚","rAtail":"⤜","ratio":"∶","rationals":"ℚ","rbarr":"⤍","rBarr":"⤏","RBarr":"⤐","rbbrk":"❳","rbrace":"}","rbrack":"]","rbrke":"⦌","rbrksld":"⦎","rbrkslu":"⦐","Rcaron":"Ř","rcaron":"ř","Rcedil":"Ŗ","rcedil":"ŗ","rceil":"⌉","rcub":"}","Rcy":"Р","rcy":"р","rdca":"⤷","rdldhar":"⥩","rdquo":"”","rdquor":"”","rdsh":"↳","real":"ℜ","realine":"ℛ","realpart":"ℜ","reals":"ℝ","Re":"ℜ","rect":"▭","reg":"®","REG":"®","ReverseElement":"∋","ReverseEquilibrium":"⇋","ReverseUpEquilibrium":"⥯","rfisht":"⥽","rfloor":"⌋","rfr":"𝔯","Rfr":"ℜ","rHar":"⥤","rhard":"⇁","rharu":"⇀","rharul":"⥬","Rho":"Ρ","rho":"ρ","rhov":"ϱ","RightAngleBracket":"⟩","RightArrowBar":"⇥","rightarrow":"→","RightArrow":"→","Rightarrow":"⇒","RightArrowLeftArrow":"⇄","rightarrowtail":"↣","RightCeiling":"⌉","RightDoubleBracket":"⟧","RightDownTeeVector":"⥝","RightDownVectorBar":"⥕","RightDownVector":"⇂","RightFloor":"⌋","rightharpoondown":"⇁","rightharpoonup":"⇀","rightleftarrows":"⇄","rightleftharpoons":"⇌","rightrightarrows":"⇉","rightsquigarrow":"↝","RightTeeArrow":"↦","RightTee":"⊢","RightTeeVector":"⥛","rightthreetimes":"⋌","RightTriangleBar":"⧐","RightTriangle":"⊳","RightTriangleEqual":"⊵","RightUpDownVector":"⥏","RightUpTeeVector":"⥜","RightUpVectorBar":"⥔","RightUpVector":"↾","RightVectorBar":"⥓","RightVector":"⇀","ring":"˚","risingdotseq":"≓","rlarr":"⇄","rlhar":"⇌","rlm":"‏","rmoustache":"⎱","rmoust":"⎱","rnmid":"⫮","roang":"⟭","roarr":"⇾","robrk":"⟧","ropar":"⦆","ropf":"𝕣","Ropf":"ℝ","roplus":"⨮","rotimes":"⨵","RoundImplies":"⥰","rpar":")","rpargt":"⦔","rppolint":"⨒","rrarr":"⇉","Rrightarrow":"⇛","rsaquo":"›","rscr":"𝓇","Rscr":"ℛ","rsh":"↱","Rsh":"↱","rsqb":"]","rsquo":"’","rsquor":"’","rthree":"⋌","rtimes":"⋊","rtri":"▹","rtrie":"⊵","rtrif":"▸","rtriltri":"⧎","RuleDelayed":"⧴","ruluhar":"⥨","rx":"℞","Sacute":"Ś","sacute":"ś","sbquo":"‚","scap":"⪸","Scaron":"Š","scaron":"š","Sc":"⪼","sc":"≻","sccue":"≽","sce":"⪰","scE":"⪴","Scedil":"Ş","scedil":"ş","Scirc":"Ŝ","scirc":"ŝ","scnap":"⪺","scnE":"⪶","scnsim":"⋩","scpolint":"⨓","scsim":"≿","Scy":"С","scy":"с","sdotb":"⊡","sdot":"⋅","sdote":"⩦","searhk":"⤥","searr":"↘","seArr":"⇘","searrow":"↘","sect":"§","semi":";","seswar":"⤩","setminus":"∖","setmn":"∖","sext":"✶","Sfr":"𝔖","sfr":"𝔰","sfrown":"⌢","sharp":"♯","SHCHcy":"Щ","shchcy":"щ","SHcy":"Ш","shcy":"ш","ShortDownArrow":"↓","ShortLeftArrow":"←","shortmid":"∣","shortparallel":"∥","ShortRightArrow":"→","ShortUpArrow":"↑","shy":"­","Sigma":"Σ","sigma":"σ","sigmaf":"ς","sigmav":"ς","sim":"∼","simdot":"⩪","sime":"≃","simeq":"≃","simg":"⪞","simgE":"⪠","siml":"⪝","simlE":"⪟","simne":"≆","simplus":"⨤","simrarr":"⥲","slarr":"←","SmallCircle":"∘","smallsetminus":"∖","smashp":"⨳","smeparsl":"⧤","smid":"∣","smile":"⌣","smt":"⪪","smte":"⪬","smtes":"⪬︀","SOFTcy":"Ь","softcy":"ь","solbar":"⌿","solb":"⧄","sol":"/","Sopf":"𝕊","sopf":"𝕤","spades":"♠","spadesuit":"♠","spar":"∥","sqcap":"⊓","sqcaps":"⊓︀","sqcup":"⊔","sqcups":"⊔︀","Sqrt":"√","sqsub":"⊏","sqsube":"⊑","sqsubset":"⊏","sqsubseteq":"⊑","sqsup":"⊐","sqsupe":"⊒","sqsupset":"⊐","sqsupseteq":"⊒","square":"□","Square":"□","SquareIntersection":"⊓","SquareSubset":"⊏","SquareSubsetEqual":"⊑","SquareSuperset":"⊐","SquareSupersetEqual":"⊒","SquareUnion":"⊔","squarf":"▪","squ":"□","squf":"▪","srarr":"→","Sscr":"𝒮","sscr":"𝓈","ssetmn":"∖","ssmile":"⌣","sstarf":"⋆","Star":"⋆","star":"☆","starf":"★","straightepsilon":"ϵ","straightphi":"ϕ","strns":"¯","sub":"⊂","Sub":"⋐","subdot":"⪽","subE":"⫅","sube":"⊆","subedot":"⫃","submult":"⫁","subnE":"⫋","subne":"⊊","subplus":"⪿","subrarr":"⥹","subset":"⊂","Subset":"⋐","subseteq":"⊆","subseteqq":"⫅","SubsetEqual":"⊆","subsetneq":"⊊","subsetneqq":"⫋","subsim":"⫇","subsub":"⫕","subsup":"⫓","succapprox":"⪸","succ":"≻","succcurlyeq":"≽","Succeeds":"≻","SucceedsEqual":"⪰","SucceedsSlantEqual":"≽","SucceedsTilde":"≿","succeq":"⪰","succnapprox":"⪺","succneqq":"⪶","succnsim":"⋩","succsim":"≿","SuchThat":"∋","sum":"∑","Sum":"∑","sung":"♪","sup1":"¹","sup2":"²","sup3":"³","sup":"⊃","Sup":"⋑","supdot":"⪾","supdsub":"⫘","supE":"⫆","supe":"⊇","supedot":"⫄","Superset":"⊃","SupersetEqual":"⊇","suphsol":"⟉","suphsub":"⫗","suplarr":"⥻","supmult":"⫂","supnE":"⫌","supne":"⊋","supplus":"⫀","supset":"⊃","Supset":"⋑","supseteq":"⊇","supseteqq":"⫆","supsetneq":"⊋","supsetneqq":"⫌","supsim":"⫈","supsub":"⫔","supsup":"⫖","swarhk":"⤦","swarr":"↙","swArr":"⇙","swarrow":"↙","swnwar":"⤪","szlig":"ß","Tab":"\\t","target":"⌖","Tau":"Τ","tau":"τ","tbrk":"⎴","Tcaron":"Ť","tcaron":"ť","Tcedil":"Ţ","tcedil":"ţ","Tcy":"Т","tcy":"т","tdot":"⃛","telrec":"⌕","Tfr":"𝔗","tfr":"𝔱","there4":"∴","therefore":"∴","Therefore":"∴","Theta":"Θ","theta":"θ","thetasym":"ϑ","thetav":"ϑ","thickapprox":"≈","thicksim":"∼","ThickSpace":"  ","ThinSpace":" ","thinsp":" ","thkap":"≈","thksim":"∼","THORN":"Þ","thorn":"þ","tilde":"˜","Tilde":"∼","TildeEqual":"≃","TildeFullEqual":"≅","TildeTilde":"≈","timesbar":"⨱","timesb":"⊠","times":"×","timesd":"⨰","tint":"∭","toea":"⤨","topbot":"⌶","topcir":"⫱","top":"⊤","Topf":"𝕋","topf":"𝕥","topfork":"⫚","tosa":"⤩","tprime":"‴","trade":"™","TRADE":"™","triangle":"▵","triangledown":"▿","triangleleft":"◃","trianglelefteq":"⊴","triangleq":"≜","triangleright":"▹","trianglerighteq":"⊵","tridot":"◬","trie":"≜","triminus":"⨺","TripleDot":"⃛","triplus":"⨹","trisb":"⧍","tritime":"⨻","trpezium":"⏢","Tscr":"𝒯","tscr":"𝓉","TScy":"Ц","tscy":"ц","TSHcy":"Ћ","tshcy":"ћ","Tstrok":"Ŧ","tstrok":"ŧ","twixt":"≬","twoheadleftarrow":"↞","twoheadrightarrow":"↠","Uacute":"Ú","uacute":"ú","uarr":"↑","Uarr":"↟","uArr":"⇑","Uarrocir":"⥉","Ubrcy":"Ў","ubrcy":"ў","Ubreve":"Ŭ","ubreve":"ŭ","Ucirc":"Û","ucirc":"û","Ucy":"У","ucy":"у","udarr":"⇅","Udblac":"Ű","udblac":"ű","udhar":"⥮","ufisht":"⥾","Ufr":"𝔘","ufr":"𝔲","Ugrave":"Ù","ugrave":"ù","uHar":"⥣","uharl":"↿","uharr":"↾","uhblk":"▀","ulcorn":"⌜","ulcorner":"⌜","ulcrop":"⌏","ultri":"◸","Umacr":"Ū","umacr":"ū","uml":"¨","UnderBar":"_","UnderBrace":"⏟","UnderBracket":"⎵","UnderParenthesis":"⏝","Union":"⋃","UnionPlus":"⊎","Uogon":"Ų","uogon":"ų","Uopf":"𝕌","uopf":"𝕦","UpArrowBar":"⤒","uparrow":"↑","UpArrow":"↑","Uparrow":"⇑","UpArrowDownArrow":"⇅","updownarrow":"↕","UpDownArrow":"↕","Updownarrow":"⇕","UpEquilibrium":"⥮","upharpoonleft":"↿","upharpoonright":"↾","uplus":"⊎","UpperLeftArrow":"↖","UpperRightArrow":"↗","upsi":"υ","Upsi":"ϒ","upsih":"ϒ","Upsilon":"Υ","upsilon":"υ","UpTeeArrow":"↥","UpTee":"⊥","upuparrows":"⇈","urcorn":"⌝","urcorner":"⌝","urcrop":"⌎","Uring":"Ů","uring":"ů","urtri":"◹","Uscr":"𝒰","uscr":"𝓊","utdot":"⋰","Utilde":"Ũ","utilde":"ũ","utri":"▵","utrif":"▴","uuarr":"⇈","Uuml":"Ü","uuml":"ü","uwangle":"⦧","vangrt":"⦜","varepsilon":"ϵ","varkappa":"ϰ","varnothing":"∅","varphi":"ϕ","varpi":"ϖ","varpropto":"∝","varr":"↕","vArr":"⇕","varrho":"ϱ","varsigma":"ς","varsubsetneq":"⊊︀","varsubsetneqq":"⫋︀","varsupsetneq":"⊋︀","varsupsetneqq":"⫌︀","vartheta":"ϑ","vartriangleleft":"⊲","vartriangleright":"⊳","vBar":"⫨","Vbar":"⫫","vBarv":"⫩","Vcy":"В","vcy":"в","vdash":"⊢","vDash":"⊨","Vdash":"⊩","VDash":"⊫","Vdashl":"⫦","veebar":"⊻","vee":"∨","Vee":"⋁","veeeq":"≚","vellip":"⋮","verbar":"|","Verbar":"‖","vert":"|","Vert":"‖","VerticalBar":"∣","VerticalLine":"|","VerticalSeparator":"❘","VerticalTilde":"≀","VeryThinSpace":" ","Vfr":"𝔙","vfr":"𝔳","vltri":"⊲","vnsub":"⊂⃒","vnsup":"⊃⃒","Vopf":"𝕍","vopf":"𝕧","vprop":"∝","vrtri":"⊳","Vscr":"𝒱","vscr":"𝓋","vsubnE":"⫋︀","vsubne":"⊊︀","vsupnE":"⫌︀","vsupne":"⊋︀","Vvdash":"⊪","vzigzag":"⦚","Wcirc":"Ŵ","wcirc":"ŵ","wedbar":"⩟","wedge":"∧","Wedge":"⋀","wedgeq":"≙","weierp":"℘","Wfr":"𝔚","wfr":"𝔴","Wopf":"𝕎","wopf":"𝕨","wp":"℘","wr":"≀","wreath":"≀","Wscr":"𝒲","wscr":"𝓌","xcap":"⋂","xcirc":"◯","xcup":"⋃","xdtri":"▽","Xfr":"𝔛","xfr":"𝔵","xharr":"⟷","xhArr":"⟺","Xi":"Ξ","xi":"ξ","xlarr":"⟵","xlArr":"⟸","xmap":"⟼","xnis":"⋻","xodot":"⨀","Xopf":"𝕏","xopf":"𝕩","xoplus":"⨁","xotime":"⨂","xrarr":"⟶","xrArr":"⟹","Xscr":"𝒳","xscr":"𝓍","xsqcup":"⨆","xuplus":"⨄","xutri":"△","xvee":"⋁","xwedge":"⋀","Yacute":"Ý","yacute":"ý","YAcy":"Я","yacy":"я","Ycirc":"Ŷ","ycirc":"ŷ","Ycy":"Ы","ycy":"ы","yen":"¥","Yfr":"𝔜","yfr":"𝔶","YIcy":"Ї","yicy":"ї","Yopf":"𝕐","yopf":"𝕪","Yscr":"𝒴","yscr":"𝓎","YUcy":"Ю","yucy":"ю","yuml":"ÿ","Yuml":"Ÿ","Zacute":"Ź","zacute":"ź","Zcaron":"Ž","zcaron":"ž","Zcy":"З","zcy":"з","Zdot":"Ż","zdot":"ż","zeetrf":"ℨ","ZeroWidthSpace":"​","Zeta":"Ζ","zeta":"ζ","zfr":"𝔷","Zfr":"ℨ","ZHcy":"Ж","zhcy":"ж","zigrarr":"⇝","zopf":"𝕫","Zopf":"ℤ","Zscr":"𝒵","zscr":"𝓏","zwj":"‍","zwnj":"‌"}')},function(e){e.exports=JSON.parse('{"Aacute":"Á","aacute":"á","Acirc":"Â","acirc":"â","acute":"´","AElig":"Æ","aelig":"æ","Agrave":"À","agrave":"à","amp":"&","AMP":"&","Aring":"Å","aring":"å","Atilde":"Ã","atilde":"ã","Auml":"Ä","auml":"ä","brvbar":"¦","Ccedil":"Ç","ccedil":"ç","cedil":"¸","cent":"¢","copy":"©","COPY":"©","curren":"¤","deg":"°","divide":"÷","Eacute":"É","eacute":"é","Ecirc":"Ê","ecirc":"ê","Egrave":"È","egrave":"è","ETH":"Ð","eth":"ð","Euml":"Ë","euml":"ë","frac12":"½","frac14":"¼","frac34":"¾","gt":">","GT":">","Iacute":"Í","iacute":"í","Icirc":"Î","icirc":"î","iexcl":"¡","Igrave":"Ì","igrave":"ì","iquest":"¿","Iuml":"Ï","iuml":"ï","laquo":"«","lt":"<","LT":"<","macr":"¯","micro":"µ","middot":"·","nbsp":" ","not":"¬","Ntilde":"Ñ","ntilde":"ñ","Oacute":"Ó","oacute":"ó","Ocirc":"Ô","ocirc":"ô","Ograve":"Ò","ograve":"ò","ordf":"ª","ordm":"º","Oslash":"Ø","oslash":"ø","Otilde":"Õ","otilde":"õ","Ouml":"Ö","ouml":"ö","para":"¶","plusmn":"±","pound":"£","quot":"\\"","QUOT":"\\"","raquo":"»","reg":"®","REG":"®","sect":"§","shy":"­","sup1":"¹","sup2":"²","sup3":"³","szlig":"ß","THORN":"Þ","thorn":"þ","times":"×","Uacute":"Ú","uacute":"ú","Ucirc":"Û","ucirc":"û","Ugrave":"Ù","ugrave":"ù","uml":"¨","Uuml":"Ü","uuml":"ü","Yacute":"Ý","yacute":"ý","yen":"¥","yuml":"ÿ"}')},function(e){e.exports=JSON.parse('{"amp":"&","apos":"\'","gt":">","lt":"<","quot":"\\""}')},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(16));t.default=function(e){if(e>=55296&&e<=57343||e>1114111)return"�";e in i.default&&(e=i.default[e]);var t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+String.fromCharCode(e)}},function(e){e.exports=JSON.parse('{"0":65533,"128":8364,"130":8218,"131":402,"132":8222,"133":8230,"134":8224,"135":8225,"136":710,"137":8240,"138":352,"139":8249,"140":338,"142":381,"145":8216,"146":8217,"147":8220,"148":8221,"149":8226,"150":8211,"151":8212,"152":732,"153":8482,"154":353,"155":8250,"156":339,"158":382,"159":376}')},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(){function e(e){this.current=e,this.root=e,this.entering=!0}return e.prototype.next=function(){var e=this.current,t=this.entering;if(null===e)return null;var n=r.isContainer(e);return t&&n?e.firstChild?(this.current=e.firstChild,this.entering=!0):this.entering=!1:e===this.root?this.current=null:null===e.next?(this.current=e.parent,this.entering=!1):(this.current=e.next,this.entering=!0),{entering:t,node:e}},e.prototype.resumeAt=function(e,t){this.current=e,this.entering=!0===t},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),o=n(2),a=n(8),s=r.__importDefault(n(19)),l=n(7),c=n(20),u=n(3),d=n(5);t.C_NEWLINE=10;var f="\\\\"+o.ESCAPABLE,h=new RegExp(/[!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/),p=new RegExp('^(?:"('+f+'|[^"\\x00])*"|\'('+f+"|[^'\\x00])*'|\\(("+f+"|[^()\\x00])*\\))"),m=/^(?:<(?:[^<>\n\\\x00]|\\.)*>)/,g=new RegExp("^"+o.ESCAPABLE),v=new RegExp("^"+o.ENTITY,"i"),b=/`+/,y=/^`+/,C=/\.\.\./g,w=/--+/g,x=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,I=/^<[A-Za-z][A-Za-z0-9.+-]{1,31}:[^<>\x00-\x20]*>/i,A=/^ *(?:\n *)?/,k=/^[ \t\n\x0b\x0c\x0d]/,S=/^\s/,_=/ *$/,T=/^ */,E=/^ *(?:\n|$)/,O=/^\[(?:[^\\\[\]]|\\.){0,1000}\]/,R=/^[^\n`\[\]\\!<&*_'"~]+/m,N=function(){function e(e){this.subject="",this.delimiters=null,this.brackets=null,this.pos=0,this.lineStartNum=0,this.lineIdx=0,this.lineOffsets=[0],this.linePosOffset=0,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.options=e}return e.prototype.sourcepos=function(e,t){var n=this.linePosOffset+this.lineOffsets[this.lineIdx],r=this.lineStartNum+this.lineIdx,i=[r,e+n];return"number"==typeof t?[i,[r,t+n]]:i},e.prototype.nextLine=function(){this.lineIdx+=1,this.linePosOffset=-this.pos},e.prototype.match=function(e){var t=e.exec(this.subject.slice(this.pos));return null===t?null:(this.pos+=t.index+t[0].length,t[0])},e.prototype.peek=function(){return this.pos<this.subject.length?this.subject.charCodeAt(this.pos):-1},e.prototype.spnl=function(){return this.match(A),!0},e.prototype.parseBackticks=function(e){var t=this.pos+1,n=this.match(y);if(null===n)return!1;for(var r,o=this.pos;null!==(r=this.match(b));)if(r===n){var a=this.subject.slice(o,this.pos-n.length),s=this.sourcepos(t,this.pos),l=a.split("\n");if(l.length>1){var c=u.last(l);this.lineIdx+=l.length-1,this.linePosOffset=-(this.pos-c.length-n.length),s[1]=this.sourcepos(this.pos),a=l.join(" ")}var d=i.createNode("code",s);return a.length>0&&null!==a.match(/[^ ]/)&&" "==a[0]&&" "==a[a.length-1]?d.literal=a.slice(1,a.length-1):d.literal=a,d.tickCount=n.length,e.appendChild(d),!0}return this.pos=o,e.appendChild(i.text(n,this.sourcepos(t,this.pos-1))),!0},e.prototype.parseBackslash=function(e){var n,r=this.subject;this.pos+=1;var o=this.pos;return this.peek()===t.C_NEWLINE?(this.pos+=1,n=i.createNode("linebreak",this.sourcepos(this.pos-1,this.pos)),e.appendChild(n),this.nextLine()):g.test(r.charAt(this.pos))?(e.appendChild(i.text(r.charAt(this.pos),this.sourcepos(o,this.pos))),this.pos+=1):e.appendChild(i.text("\\",this.sourcepos(o,o))),!0},e.prototype.parseAutolink=function(e){var t,n,r,a=this.pos+1;return(t=this.match(x))?(n=t.slice(1,t.length-1),(r=i.createNode("link",this.sourcepos(a,this.pos))).destination=o.normalizeURI("mailto:"+n),r.title="",r.appendChild(i.text(n,this.sourcepos(a+1,this.pos-1))),e.appendChild(r),!0):!!(t=this.match(I))&&(n=t.slice(1,t.length-1),(r=i.createNode("link",this.sourcepos(a,this.pos))).destination=o.normalizeURI(n),r.title="",r.appendChild(i.text(n,this.sourcepos(a+1,this.pos-1))),e.appendChild(r),!0)},e.prototype.parseHtmlTag=function(e){var t=this.pos+1,n=this.match(a.reHtmlTag);if(null===n)return!1;var r=i.createNode("htmlInline",this.sourcepos(t,this.pos));return r.literal=n,e.appendChild(r),!0},e.prototype.scanDelims=function(e){var t=0,n=this.pos;if(39===e||34===e)t++,this.pos++;else for(;this.peek()===e;)t++,this.pos++;if(0===t||t<2&&126===e)return this.pos=n,null;var r,i=0===n?"\n":this.subject.charAt(n-1),o=this.peek();r=-1===o?"\n":s.default(o);var a,l,c=S.test(r),u=h.test(r),d=S.test(i),f=h.test(i),p=!c&&(!u||d||f),m=!d&&(!f||c||u);return 95===e?(a=p&&(!m||f),l=m&&(!p||u)):39===e||34===e?(a=p&&!m,l=m):(a=p,l=m),this.pos=n,{numdelims:t,canOpen:a,canClose:l}},e.prototype.handleDelim=function(e,t){var n=this.scanDelims(e);if(!n)return!1;var r,o=n.numdelims,a=this.pos+1;this.pos+=o,r=39===e?"’":34===e?"“":this.subject.slice(a-1,this.pos);var s=i.text(r,this.sourcepos(a,this.pos));return t.appendChild(s),(n.canOpen||n.canClose)&&(this.options.smart||39!==e&&34!==e)&&(this.delimiters={cc:e,numdelims:o,origdelims:o,node:s,previous:this.delimiters,next:null,canOpen:n.canOpen,canClose:n.canClose},this.delimiters.previous&&(this.delimiters.previous.next=this.delimiters)),!0},e.prototype.removeDelimiter=function(e){null!==e.previous&&(e.previous.next=e.next),null===e.next?this.delimiters=e.previous:e.next.previous=e.previous},e.prototype.removeDelimitersBetween=function(e,t){e.next!==t&&(e.next=t,t.previous=e)},e.prototype.processEmphasis=function(e){var t,n,r,o,a,s,l,c=!1,u=((t={})[95]=[e,e,e],t[42]=[e,e,e],t[39]=[e],t[34]=[e],t[126]=[e],t);for(r=this.delimiters;null!==r&&r.previous!==e;)r=r.previous;for(;null!==r;){var d=r.cc,f=95===d||42===d;if(r.canClose){for(n=r.previous,l=!1;null!==n&&n!==e&&n!==u[d][f?r.origdelims%3:0];){if(c=f&&(r.canOpen||n.canClose)&&r.origdelims%3!=0&&(n.origdelims+r.origdelims)%3==0,n.cc===r.cc&&n.canOpen&&!c){l=!0;break}n=n.previous}if(o=r,f||126===d)if(l){if(n){var h=r.numdelims>=2&&n.numdelims>=2?2:1,p=f?0:1;a=n.node,s=r.node;var m=i.createNode(f?1===h?"emph":"strong":"strike"),g=a.sourcepos[1],v=s.sourcepos[0];m.sourcepos=[[g[0],g[1]-h+1],[v[0],v[1]+h-1]],a.sourcepos[1][1]-=h,s.sourcepos[0][1]+=h,a.literal=a.literal.slice(h),s.literal=s.literal.slice(h),n.numdelims-=h,r.numdelims-=h;for(var b=a.next,y=void 0;b&&b!==s;)y=b.next,b.unlink(),m.appendChild(b),b=y;if(a.insertAfter(m),this.removeDelimitersBetween(n,r),n.numdelims<=p&&(0===n.numdelims&&a.unlink(),this.removeDelimiter(n)),r.numdelims<=p){0===r.numdelims&&s.unlink();var C=r.next;this.removeDelimiter(r),r=C}}}else r=r.next;else 39===d?(r.node.literal="’",l&&(n.node.literal="‘"),r=r.next):34===d&&(r.node.literal="”",l&&(n.node.literal="“"),r=r.next);l||(u[d][f?o.origdelims%3:0]=o.previous,o.canOpen||this.removeDelimiter(o))}else r=r.next}for(;null!==this.delimiters&&this.delimiters!==e;)this.removeDelimiter(this.delimiters)},e.prototype.parseLinkTitle=function(){var e=this.match(p);return null===e?null:o.unescapeString(e.substr(1,e.length-2))},e.prototype.parseLinkDestination=function(){var e=this.match(m);if(null===e){if(60===this.peek())return null;for(var t=this.pos,n=0,r=void 0;-1!==(r=this.peek());)if(92===r&&g.test(this.subject.charAt(this.pos+1)))this.pos+=1,-1!==this.peek()&&(this.pos+=1);else if(40===r)this.pos+=1,n+=1;else if(41===r){if(n<1)break;this.pos+=1,n-=1}else{if(null!==k.exec(s.default(r)))break;this.pos+=1}return this.pos===t&&41!==r||0!==n?null:(e=this.subject.substr(t,this.pos-t),o.normalizeURI(o.unescapeString(e)))}return o.normalizeURI(o.unescapeString(e.substr(1,e.length-2)))},e.prototype.parseLinkLabel=function(){var e=this.match(O);return null===e||e.length>1001?0:e.length},e.prototype.parseOpenBracket=function(e){var t=this.pos;this.pos+=1;var n=i.text("[",this.sourcepos(this.pos,this.pos));return e.appendChild(n),this.addBracket(n,t,!1),!0},e.prototype.parseBang=function(e){var t=this.pos;if(this.pos+=1,91===this.peek()){this.pos+=1;var n=i.text("![",this.sourcepos(this.pos-1,this.pos));e.appendChild(n),this.addBracket(n,t+1,!0)}else n=i.text("!",this.sourcepos(this.pos,this.pos)),e.appendChild(n);return!0},e.prototype.parseCloseBracket=function(e){var t=null,n=null,r=!1;this.pos+=1;var o=this.pos,a=this.brackets;if(null===a)return e.appendChild(i.text("]",this.sourcepos(o,o))),!0;if(!a.active)return e.appendChild(i.text("]",this.sourcepos(o,o))),this.removeBracket(),!0;var s=a.image,l=this.pos;40===this.peek()&&(this.pos++,this.spnl()&&null!==(t=this.parseLinkDestination())&&this.spnl()&&(k.test(this.subject.charAt(this.pos-1))&&(n=this.parseLinkTitle()),1)&&this.spnl()&&41===this.peek()?(this.pos+=1,r=!0):this.pos=l);var c="";if(!r){var d=this.pos,f=this.parseLinkLabel();if(f>2?c=this.subject.slice(d,d+f):a.bracketAfter||(c=this.subject.slice(a.index,o)),0===f&&(this.pos=l),c){c=u.normalizeReference(c);var h=this.refMap[c];h&&(t=h.destination,n=h.title,r=!0)}}if(r){var p=i.createNode(s?"image":"link");p.destination=t,p.title=n||"",p.sourcepos=[a.startpos,this.sourcepos(this.pos)];for(var m=a.node.next,g=void 0;m;)g=m.next,m.unlink(),p.appendChild(m),m=g;if(e.appendChild(p),this.processEmphasis(a.previousDelimiter),this.removeBracket(),a.node.unlink(),!s)for(a=this.brackets;null!==a;)a.image||(a.active=!1),a=a.previous;return this.options.referenceDefinition&&(this.refLinkCandidateMap[e.id]={node:e,refLabel:c}),!0}return this.removeBracket(),this.pos=o,e.appendChild(i.text("]",this.sourcepos(o,o))),this.options.referenceDefinition&&(this.refLinkCandidateMap[e.id]={node:e,refLabel:c}),!0},e.prototype.addBracket=function(e,t,n){null!==this.brackets&&(this.brackets.bracketAfter=!0),this.brackets={node:e,startpos:this.sourcepos(t+(n?0:1)),previous:this.brackets,previousDelimiter:this.delimiters,index:t,image:n,active:!0}},e.prototype.removeBracket=function(){this.brackets&&(this.brackets=this.brackets.previous)},e.prototype.parseEntity=function(e){var t,n=this.pos+1;return!!(t=this.match(v))&&(e.appendChild(i.text(l.decodeHTML(t),this.sourcepos(n,this.pos))),!0)},e.prototype.parseString=function(e){var t,n=this.pos+1;if(t=this.match(R)){if(this.options.smart){var r=t.replace(C,"…").replace(w,(function(e){var t=0,n=0;return e.length%3==0?n=e.length/3:e.length%2==0?t=e.length/2:e.length%3==2?(t=1,n=(e.length-2)/3):(t=2,n=(e.length-4)/3),o.repeat("—",n)+o.repeat("–",t)}));e.appendChild(i.text(r,this.sourcepos(n,this.pos)))}else{var a=i.text(t,this.sourcepos(n,this.pos));e.appendChild(a)}return!0}return!1},e.prototype.parseNewline=function(e){this.pos+=1;var t=e.lastChild;if(t&&"text"===t.type&&" "===t.literal[t.literal.length-1]){var n=" "===t.literal[t.literal.length-2],r=t.literal.length;t.literal=t.literal.replace(_,"");var o=r-t.literal.length;t.sourcepos[1][1]-=o,e.appendChild(i.createNode(n?"linebreak":"softbreak",this.sourcepos(this.pos-o,this.pos)))}else e.appendChild(i.createNode("softbreak",this.sourcepos(this.pos,this.pos)));return this.nextLine(),this.match(T),!0},e.prototype.parseReference=function(e,t){if(!this.options.referenceDefinition)return 0;this.subject=e.stringContent,this.pos=0;var n=null,r=this.pos,o=this.parseLinkLabel();if(0===o)return 0;var a=this.subject.substr(0,o);if(58!==this.peek())return this.pos=r,0;this.pos++,this.spnl();var s=this.parseLinkDestination();if(null===s)return this.pos=r,0;var l=this.pos;this.spnl(),this.pos!==l&&(n=this.parseLinkTitle()),null===n&&(n="",this.pos=l);var c=!0;if(null===this.match(E)&&(""===n?c=!1:(n="",this.pos=l,c=null!==this.match(E))),!c)return this.pos=r,0;var f=u.normalizeReference(a);if(""===f)return this.pos=r,0;var h=this.getReferenceDefSourcepos(e);e.sourcepos[0][0]=h[1][0]+1;var p=i.createNode("refDef",h);return p.title=n,p.dest=s,p.label=f,e.insertBefore(p),t[f]?this.refDefCandidateMap[p.id]=p:t[f]=d.createRefDefState(p),this.pos-r},e.prototype.mergeTextNodes=function(e){for(var t,n=[];t=e.next();){var r=t.entering,i=t.node;if(r&&"text"===i.type)n.push(i);else if(1===n.length)n=[];else if(n.length>1){var o=n[0],a=n[n.length-1];o.sourcepos&&a.sourcepos&&(o.sourcepos[1]=a.sourcepos[1]),o.next=a.next,o.next&&(o.next.prev=o);for(var s=1;s<n.length;s+=1)o.literal+=n[s].literal,n[s].unlink();n=[]}}},e.prototype.getReferenceDefSourcepos=function(e){for(var t=e.stringContent.split(/\n|\r\n/),n=!1,r=0,i={line:0,ch:0},o=0;o<t.length;o+=1){var a=t[o];if(k.test(a))break;if(/\:/.test(a)&&0===r){if(n)break;var s=a.indexOf(":")===a.length-1?o+1:o;i={line:s,ch:t[s].length},n=!0}var l=a.match(/'|"/g);if(l&&(r+=l.length),2===r){i={line:o,ch:a.length};break}}return[[e.sourcepos[0][0],e.sourcepos[0][1]],[e.sourcepos[0][0]+i.line,i.ch]]},e.prototype.parseInline=function(e){var n,r=!1,o=this.peek();if(-1===o)return!1;switch(o){case t.C_NEWLINE:r=this.parseNewline(e);break;case 92:r=this.parseBackslash(e);break;case 96:r=this.parseBackticks(e);break;case 42:case 95:case 126:r=this.handleDelim(o,e);break;case 39:case 34:r=!!(null===(n=this.options)||void 0===n?void 0:n.smart)&&this.handleDelim(o,e);break;case 91:r=this.parseOpenBracket(e);break;case 33:r=this.parseBang(e);break;case 93:r=this.parseCloseBracket(e);break;case 60:r=this.parseAutolink(e)||this.parseHtmlTag(e);break;case 38:r=this.parseEntity(e);break;default:r=this.parseString(e)}return r||(this.pos+=1,e.appendChild(i.text(s.default(o),this.sourcepos(this.pos,this.pos+1)))),!0},e.prototype.parse=function(e){for(this.subject=e.stringContent.trim(),this.pos=0,this.delimiters=null,this.brackets=null,this.lineOffsets=e.lineOffsets||[0],this.lineIdx=0,this.linePosOffset=0,this.lineStartNum=e.sourcepos[0][0],i.isHeading(e)&&(this.lineOffsets[0]+=e.level+1);this.parseInline(e););e.stringContent=null,this.processEmphasis(null),this.mergeTextNodes(e.walker());var t=this.options,n=t.extendedAutolinks,r=t.customParser;if(n&&c.convertExtAutoLinks(e.walker(),n),r&&e.firstChild)for(var o,a=e.firstChild.walker();o=a.next();){var s=o.node,l=o.entering;r[s.type]&&r[s.type](s,{entering:l})}},e}();t.InlineParser=N},function(e,t,n){"use strict";
/*! http://mths.be/fromcodepoint v0.2.1 by @mathias */var r;if(Object.defineProperty(t,"__esModule",{value:!0}),String.fromCodePoint)r=function(e){try{return String.fromCodePoint(e)}catch(e){if(e instanceof RangeError)return String.fromCharCode(65533);throw e}};else{var i=String.fromCharCode,o=Math.floor;r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n,r,a=16384,s=[],l=-1,c=e.length;if(!c)return"";for(var u="";++l<c;){var d=Number(e[l]);if(!isFinite(d)||d<0||d>1114111||o(d)!==d)return String.fromCharCode(65533);d<=65535?s.push(d):(n=55296+((d-=65536)>>10),r=d%1024+56320,s.push(n,r)),(l+1===c||s.length>a)&&(u+=i.apply(void 0,s),s.length=0)}return u}}t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1);function o(e){var t=/\)+$/.exec(e);if(t){for(var n=0,r=0,i=e;r<i.length;r++){var o=i[r];"("===o?n<0?n=1:n+=1:")"===o&&(n-=1)}if(n<0){var a=Math.min(-n,t[0].length);return e.substring(0,e.length-a)}}return e}function a(e){return e.replace(/&[A-Za-z0-9]+;$/,"")}function s(e){for(var t,n=new RegExp("[\\w.+-]+@(?:[\\w-]+\\.)+[\\w-]+","g"),r=[];t=n.exec(e);){var i=t[0];/[_-]+$/.test(i)||r.push({text:i,range:[t.index,t.index+i.length-1],url:"mailto:"+i})}return r}function l(e){for(var t,n=new RegExp("(www|https?://).(?:[w-]+.)*[A-Za-z0-9-]+.[A-Za-z0-9-]+[^<\\s]*[^<?!.,:*_?~\\s]","g"),r=[];t=n.exec(e);){var i=a(o(t[0])),s="www"===t[1]?"http://":"";r.push({text:i,range:[t.index,t.index+i.length-1],url:""+s+i})}return r}function c(e){return r.__spreadArrays(l(e),s(e)).sort((function(e,t){return e.range[0]-t.range[0]}))}t.parseEmailLink=s,t.parseUrlLink=l,t.convertExtAutoLinks=function(e,t){var n;"boolean"==typeof t&&(t=c);for(var r=function(){var e=n.entering,r=n.node;if(e&&"text"===r.type&&"link"!==r.parent.type){var o=r.literal,a=t(o);if(!a||!a.length)return"continue";for(var s=0,l=r.sourcepos[0],c=l[0],u=l[1],d=function(e,t){return[[c,u+e],[c,u+t]]},f=[],h=0,p=a;h<p.length;h++){var m=p[h],g=m.range,v=m.url,b=m.text;g[0]>s&&f.push(i.text(o.substring(s,g[0]),d(s,g[0]-1)));var y=i.createNode("link",d.apply(void 0,g));y.appendChild(i.text(b,d.apply(void 0,g))),y.destination=v,y.extendedAutolink=!0,f.push(y),s=g[1]+1}s<o.length&&f.push(i.text(o.substring(s),d(s,o.length-1)));for(var C=0,w=f;C<w.length;C++){var x=w[C];r.insertBefore(x)}r.unlink()}};n=e.next();)r()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(22),i=n(23),o=n(4),a=n(2),s={continue:function(){return 0},finalize:function(e,t){for(var n=t.firstChild;n;){if(o.endsWithBlankLine(n)&&n.next){t.listData.tight=!1;break}for(var r=n.firstChild;r;){if(o.endsWithBlankLine(r)&&(n.next||r.next)){t.listData.tight=!1;break}r=r.next}n=n.next}},canContain:function(e){return"item"===e},acceptsLines:!1},l={continue:function(e){var t=e.currentLine;return e.indented||o.peek(t,e.nextNonspace)!==o.C_GREATERTHAN?1:(e.advanceNextNonspace(),e.advanceOffset(1,!1),o.isSpaceOrTab(o.peek(t,e.offset))&&e.advanceOffset(1,!0),0)},finalize:function(){},canContain:function(e){return"item"!==e},acceptsLines:!1},c={continue:function(e,t){if(e.blank){if(null===t.firstChild)return 1;e.advanceNextNonspace()}else{if(!(e.indent>=t.listData.markerOffset+t.listData.padding))return 1;e.advanceOffset(t.listData.markerOffset+t.listData.padding,!0)}return 0},finalize:r.taskListItemFinalize,canContain:function(e){return"item"!==e},acceptsLines:!1},u={continue:function(e,t){var n=e.currentLine,r=e.indent;if(t.isFenced){var i=r<=3&&n.charAt(e.nextNonspace)===t.fenceChar&&n.slice(e.nextNonspace).match(o.reClosingCodeFence);if(i&&i[0].length>=t.fenceLength)return e.lastLineLength=e.offset+r+i[0].length,e.finalize(t,e.lineNumber),2;for(var a=t.fenceOffset;a>0&&o.isSpaceOrTab(o.peek(n,e.offset));)e.advanceOffset(1,!0),a--}else if(r>=o.CODE_INDENT)e.advanceOffset(o.CODE_INDENT,!0);else{if(!e.blank)return 1;e.advanceNextNonspace()}return 0},finalize:function(e,t){var n;if(null!==t.stringContent){if(t.isFenced){var r=t.stringContent,i=r.indexOf("\n"),o=r.slice(0,i),s=r.slice(i+1),l=o.match(/^(\s*)(.*)/);t.infoPadding=l[1].length,t.info=a.unescapeString(l[2].trim()),t.literal=s}else t.literal=null===(n=t.stringContent)||void 0===n?void 0:n.replace(/(\n *)+$/,"\n");t.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},d={continue:function(e){return e.blank?1:0},finalize:function(e,t){if(null!==t.stringContent){for(var n,r=!1;o.peek(t.stringContent,0)===o.C_OPEN_BRACKET&&(n=e.inlineParser.parseReference(t,e.refMap));)t.stringContent=t.stringContent.slice(n),r=!0;r&&o.isBlank(t.stringContent)&&t.unlink()}},canContain:function(){return!1},acceptsLines:!0};t.blockHandlers={document:{continue:function(){return 0},finalize:function(){},canContain:function(e){return"item"!==e},acceptsLines:!1},list:s,blockQuote:l,item:c,heading:{continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},thematicBreak:{continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},codeBlock:u,htmlBlock:{continue:function(e,t){return!e.blank||6!==t.htmlBlockType&&7!==t.htmlBlockType?0:1},finalize:function(e,t){var n;t.literal=(null===(n=t.stringContent)||void 0===n?void 0:n.replace(/(\n *)+$/,""))||null,t.stringContent=null},canContain:function(){return!1},acceptsLines:!0},paragraph:d,table:i.table,tableBody:i.tableBody,tableHead:i.tableHead,tableRow:i.tableRow,tableCell:i.tableCell,tableDelimRow:i.tableDelimRow,tableDelimCell:i.tableDelimCell,refDef:{continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=/^\[([ \txX])\][ \t]+/;t.taskListItemFinalize=function(e,t){if(t.firstChild&&"paragraph"===t.firstChild.type){var n=t.firstChild,i=n.stringContent.match(r);if(i){var o=i[0].length;n.stringContent=n.stringContent.substring(o-1),n.sourcepos[0][1]+=o,n.lineOffsets[0]+=o,t.listData.task=!0,t.listData.checked=/[xX]/.test(i[1])}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.table={continue:function(){return 0},finalize:function(){},canContain:function(e){return"tableHead"===e||"tableBody"===e},acceptsLines:!1},t.tableBody={continue:function(){return 0},finalize:function(){},canContain:function(e){return"tableRow"===e},acceptsLines:!1},t.tableHead={continue:function(){return 1},finalize:function(){},canContain:function(e){return"tableRow"===e||"tableDelimRow"===e},acceptsLines:!1},t.tableDelimRow={continue:function(){return 1},finalize:function(){},canContain:function(e){return"tableDelimCell"===e},acceptsLines:!1},t.tableDelimCell={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},t.tableRow={continue:function(){return 1},finalize:function(){},canContain:function(e){return"tableCell"===e},acceptsLines:!1},t.tableCell={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(1),o=n(3);function a(e){for(var t=0,n=0,i=[],o=0;o<e.length;o+=1)if("|"===e[o]&&"\\"!==e[o-1]){var a=e.substring(t,o);0===t&&r.isEmpty(a)?n=o+1:i.push(a),t=o+1}return t<e.length&&(a=e.substring(t,e.length),r.isEmpty(a)||i.push(a)),[n,i]}function s(e,t,n,r){for(var o=[],a=0,s=t;a<s.length;a++){var l=s[a],c=l.match(/^[ \t]+/),u=c?c[0].length:0,d=void 0,f=void 0;if(u===l.length)u=0,d=0,f="";else{var h=l.match(/[ \t]+$/);d=h?h[0].length:0,f=l.slice(u,l.length-d)}var p=r+u,m=i.createNode(e,[[n,r],[n,r+l.length-1]]);m.stringContent=f.replace(/\\\|/g,"|"),m.startIdx=o.length,m.endIdx=o.length,m.lineOffsets=[p-1],m.paddingLeft=u,m.paddingRight=d,o.push(m),r+=l.length+1}return o}function l(e){var t="left",n=e.stringContent,r=n[0];return":"===n[n.length-1]&&(t=":"===r?"center":"right"),{align:t}}t.tableHead=function(e,t){var n=t.stringContent;if("paragraph"===t.type&&!e.indented&&!e.blank){var r=n.length-1,c=n.lastIndexOf("\n",r-1)+1,u=n.slice(c,r),d=e.currentLine.slice(e.nextNonspace),f=a(u),h=f[0],p=f[1],m=a(d),g=m[0],v=m[1],b=/^[ \t]*:?-+:?[ \t]*$/;if(!p.length||!v.length||v.some((function(e){return!b.test(e)}))||1===v.length&&0!==d.indexOf("|"))return 0;var y=t.lineOffsets,C=e.lineNumber-1,w=o.last(y)+1,x=i.createNode("table",[[C,w],[e.lineNumber,e.offset]]);if(x.columns=v.map((function(){return{align:"left"}})),t.insertAfter(x),1===y.length)t.unlink();else{t.stringContent=n.slice(0,c);var I=c-(n.lastIndexOf("\n",c-2)+1)-1;e.lastLineLength=y[y.length-2]+I,e.finalize(t,C-1)}e.advanceOffset(e.currentLine.length-e.offset,!1);var A=i.createNode("tableHead",[[C,w],[e.lineNumber,e.offset]]);x.appendChild(A);var k=i.createNode("tableRow",[[C,w],[C,w+u.length-1]]),S=i.createNode("tableDelimRow",[[e.lineNumber,e.nextNonspace+1],[e.lineNumber,e.offset]]);A.appendChild(k),A.appendChild(S),s("tableCell",p,C,w+h).forEach((function(e){k.appendChild(e)}));var _=s("tableDelimCell",v,e.lineNumber,e.nextNonspace+1+g);return _.forEach((function(e){S.appendChild(e)})),x.columns=_.map(l),e.tip=x,2}return 0},t.tableBody=function(e,t){if("table"!==t.type&&"tableBody"!==t.type||!e.blank&&-1===e.currentLine.indexOf("|"))return 0;if(e.advanceOffset(e.currentLine.length-e.offset,!1),e.blank){var n=t;return"tableBody"===t.type&&(n=t.parent,e.finalize(t,e.lineNumber)),e.finalize(n,e.lineNumber),0}var r=t;"table"===t.type&&((r=e.addChild("tableBody",e.nextNonspace)).stringContent=null);var o=i.createNode("tableRow",[[e.lineNumber,e.nextNonspace+1],[e.lineNumber,e.currentLine.length]]);r.appendChild(o);var l=r.parent,c=a(e.currentLine.slice(e.nextNonspace)),u=c[0];return s("tableCell",c[1],e.lineNumber,e.nextNonspace+1+u).forEach((function(e,t){t>=l.columns.length&&(e.ignored=!0),o.appendChild(e)})),2}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);function i(e,t){return e[0]<t[0]?1:e[0]>t[0]?-1:e[1]<t[1]?1:e[1]>t[1]?-1:0}function o(e,t){var n=e[0];return 1===i(e[1],t)?1:-1===i(n,t)?-1:0}function a(e,t){var n=e[0];return e[1][0]<t?1:n[0]>t?-1:0}function s(e){return r.getNodeById(e)||null}t.getAllParents=function(e){for(var t=[];e.parent;)t.push(e.parent),e=e.parent;return t.reverse()},t.removeNextUntil=function(e,t){if(e.parent===t.parent&&e!==t){for(var n=e.next;n&&n!==t;){for(var i=n.next,o=0,a=["parent","prev","next"];o<a.length;o++){var s=a[o];n[s]&&(r.removeNodeById(n[s].id),n[s]=null)}n=i}e.next=t.next,t.next?t.next.prev=e:e.parent.lastChild=e}},t.getChildNodes=function(e){for(var t=[],n=e.firstChild;n;)t.push(n),n=n.next;return t},t.insertNodesBefore=function(e,t){for(var n=0,r=t;n<r.length;n++){var i=r[n];e.insertBefore(i)}},t.prependChildNodes=function(e,t){for(var n=t.length-1;n>=0;n-=1)e.prependChild(t[n])},t.updateNextLineNumbers=function(e,t){if(e&&e.parent&&0!==t){var n,r=e.parent.walker();for(r.resumeAt(e,!0);n=r.next();){var i=n.node;n.entering&&(i.sourcepos[0][0]+=t,i.sourcepos[1][0]+=t)}}},t.findChildNodeAtLine=function(e,t){for(var n=e.firstChild;n;){var r=a(n.sourcepos,t);if(0===r)return n;if(-1===r)return n.prev||n;n=n.next}return e.lastChild},t.findFirstNodeAtLine=function(e,t){for(var n=e.firstChild,r=null;n;){var i=a(n.sourcepos,t);if(0===i){if(n.sourcepos[0][0]===t||!n.firstChild)return n;r=n,n=n.firstChild}else{if(-1===i)break;r=n,n=n.next}}return r?function(e){for(;e.parent&&"document"!==e.parent.type&&e.parent.sourcepos[0][0]===e.sourcepos[0][0];)e=e.parent;return e}(function(e){for(;e.lastChild;)e=e.lastChild;return e}(r)):null},t.findNodeAtPosition=function(e,t){for(var n=e,r=null;n;){var i=o(n.sourcepos,t);if(0===i){if(!n.firstChild)return n;r=n,n=n.firstChild}else{if(-1===i)return r;if(!n.next)return r;n=n.next}}return n},t.toString=function(e){return e?"type: "+e.type+", sourcepos: "+e.sourcepos+", firstChild: "+(e.firstChild&&e.firstChild.type)+", lastChild: "+(e.lastChild&&e.lastChild.type)+", prev: "+(e.prev&&e.prev.type)+", next: "+(e.next&&e.next.type):"null"},t.findNodeById=s,t.invokeNextUntil=function(e,t,n){if(void 0===n&&(n=null),t)for(var r=t.walker();t&&t!==n;){e(t);var i=r.next();if(!i)break;t=i.node}},t.isUnlinked=function(e){var t=s(e);if(!t)return!0;for(;t&&"document"!==t.type;){if(!t.parent&&!t.prev&&!t.next)return!0;t=t.parent}return!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),o=n(2),a=n(3),s=n(27),l=n(29),c={softbreak:"\n",gfm:!1,tagFilter:!1,nodeId:!1};function u(e){e.length&&"\n"!==a.last(a.last(e))&&e.push("\n")}function d(e,t){e.outerNewLine&&u(t)}function f(e,t){e.innerNewLine&&u(t)}function h(e){for(var t=[],n=e.walker(),r=null;r=n.next();){var i=r.node;"text"===i.type&&t.push(i.literal)}return t.join("")}t.createRenderHTML=function(e){var t=r.__assign(r.__assign({},c),e),n=r.__assign({},s.baseConvertors);if(t.gfm&&(n=r.__assign(r.__assign({},n),l.gfmConvertors)),t.convertors){var a=t.convertors;Object.keys(a).forEach((function(e){var t=n[e],r=a[e];n[e]=t?function(e,n){return n.origin=function(){return t(e,n)},r(e,n)}:r})),delete t.convertors}return function(e){return function(e,t,n){for(var r=[],a=e.walker(),s=null,l=function(){var e=s.node,l=s.entering,c=t[e.type];if(!c)return"continue";var u=!1,p={entering:l,leaf:!i.isContainer(e),options:n,getChildrenText:h,skipChildren:function(){u=!0}},m=c(e,p);m&&((Array.isArray(m)?m:[m]).forEach((function(t,i){"openTag"===t.type&&n.nodeId&&0===i&&(t.attributes||(t.attributes={}),t.attributes["data-nodeid"]=String(e.id)),function(e,t){switch(e.type){case"openTag":case"closeTag":!function(e,t){"openTag"===e.type?(d(e,t),t.push(function(e){var t=[],n=e.tagName,r=e.classNames,i=e.attributes;return t.push("<"+n),r&&r.length>0&&t.push(' class="'+r.join(" ")+'"'),i&&Object.keys(i).forEach((function(e){var n=i[e];t.push(" "+e+'="'+n+'"')})),e.selfClose&&t.push(" /"),t.push(">"),t.join("")}(e)),e.selfClose?d(e,t):f(e,t)):(f(e,t),t.push("</"+e.tagName+">"),d(e,t))}(e,t);break;case"text":!function(e,t){t.push(o.escapeXml(e.content))}(e,t);break;case"html":!function(e,t){d(e,t),t.push(e.content),d(e,t)}(e,t)}}(t,r)})),u&&(a.resumeAt(e,!1),a.next()))};s=a.next();)l();return u(r),r.join("")}(e,n,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(2),o=n(28);t.baseConvertors={heading:function(e,t){return{type:t.entering?"openTag":"closeTag",tagName:"h"+e.level,outerNewLine:!0}},text:function(e){return{type:"text",content:e.literal}},softbreak:function(e,t){return{type:"html",content:t.options.softbreak}},linebreak:function(){return{type:"html",content:"<br />\n"}},emph:function(e,t){return{type:t.entering?"openTag":"closeTag",tagName:"em"}},strong:function(e,t){return{type:t.entering?"openTag":"closeTag",tagName:"strong"}},paragraph:function(e,t){var n,r=t.entering,i=null===(n=e.parent)||void 0===n?void 0:n.parent;return i&&"list"===i.type&&i.listData.tight?null:{type:r?"openTag":"closeTag",tagName:"p",outerNewLine:!0}},thematicBreak:function(){return{type:"openTag",tagName:"hr",outerNewLine:!0,selfClose:!0}},blockQuote:function(e,t){return{type:t.entering?"openTag":"closeTag",tagName:"blockquote",outerNewLine:!0,innerNewLine:!0}},list:function(e,t){var n=t.entering,r=e.listData,i=r.type,o=r.start,a="bullet"===i?"ul":"ol",s={};return"ol"===a&&null!==o&&1!==o&&(s.start=o.toString()),{type:n?"openTag":"closeTag",tagName:a,attributes:s,outerNewLine:!0}},item:function(e,t){return{type:t.entering?"openTag":"closeTag",tagName:"li",outerNewLine:!0}},htmlInline:function(e,t){return{type:"html",content:t.options.tagFilter?o.filterDisallowedTags(e.literal):e.literal}},htmlBlock:function(e,t){var n=t.options,r=n.tagFilter?o.filterDisallowedTags(e.literal):e.literal;return n.nodeId?[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"html",content:r},{type:"closeTag",tagName:"div",outerNewLine:!0}]:{type:"html",content:r,outerNewLine:!0}},code:function(e){return[{type:"openTag",tagName:"code"},{type:"text",content:e.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(e){var t=e.info,n=t?t.split(/\s+/):[],r=[];return n.length>0&&n[0].length>0&&r.push("language-"+i.escapeXml(n[0])),[{type:"openTag",tagName:"pre",outerNewLine:!0},{type:"openTag",tagName:"code",classNames:r},{type:"text",content:e.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre",outerNewLine:!0}]},link:function(e,t){if(t.entering){var n=e,o=n.title,a=n.destination;return{type:"openTag",tagName:"a",attributes:r.__assign({href:i.escapeXml(a)},o&&{title:i.escapeXml(o)})}}return{type:"closeTag",tagName:"a"}},image:function(e,t){var n=t.getChildrenText,o=t.skipChildren,a=e,s=a.title,l=a.destination;return o(),{type:"openTag",tagName:"img",selfClose:!0,attributes:r.__assign({src:i.escapeXml(l),alt:n(e)},s&&{title:i.escapeXml(s)})}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=new RegExp("<(/?(?:"+["title","textarea","style","xmp","iframe","noembed","noframes","script","plaintext"].join("|")+")[^>]*>)","ig");t.filterDisallowedTags=function(e){return r.test(e)?e.replace(r,(function(e,t){return"&lt;"+t})):e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.gfmConvertors={strike:function(e,t){return{type:t.entering?"openTag":"closeTag",tagName:"del"}},item:function(e,t){var n=t.entering,i=e.listData,o=i.checked,a=i.task;if(n){var s={type:"openTag",tagName:"li",outerNewLine:!0};return a?[s,{type:"openTag",tagName:"input",selfClose:!0,attributes:r.__assign(r.__assign({},o&&{checked:""}),{disabled:"",type:"checkbox"})},{type:"text",content:" "}]:s}return{type:"closeTag",tagName:"li",outerNewLine:!0}},table:function(e,t){return{type:t.entering?"openTag":"closeTag",tagName:"table",outerNewLine:!0}},tableHead:function(e,t){return{type:t.entering?"openTag":"closeTag",tagName:"thead",outerNewLine:!0}},tableBody:function(e,t){return{type:t.entering?"openTag":"closeTag",tagName:"tbody",outerNewLine:!0}},tableRow:function(e,t){if(t.entering)return{type:"openTag",tagName:"tr",outerNewLine:!0};var n=[];if(e.lastChild)for(var r=e.parent.parent.columns.length,i=e.lastChild.endIdx+1;i<r;i+=1)n.push({type:"openTag",tagName:"td",outerNewLine:!0},{type:"closeTag",tagName:"td",outerNewLine:!0});return n.push({type:"closeTag",tagName:"tr",outerNewLine:!0}),n},tableCell:function(e,t){var n=t.entering;if(e.ignored)return{type:"text",content:""};var i=e.parent.parent,o="tableHead"===i.type?"th":"td",a=i.parent.columns[e.startIdx],s=a&&"left"!==a.align?a.align:null,l=s?{align:s}:null;return n?r.__assign({type:"openTag",tagName:o,outerNewLine:!0},l&&{attributes:l}):{type:"closeTag",tagName:o,outerNewLine:!0}}}}]))},function(e,t,n){"use strict";var r=n(14),i=n.n(r),o=n(21),a=n.n(o),s=function(){function e(){this._keys=[],this._values=[]}var t=e.prototype;return t._getKeyIndex=function(e){return i()(e,this._keys)},t.get=function(e){return this._values[this._getKeyIndex(e)]},t.set=function(e,t){var n=this._getKeyIndex(e);n>-1?this._values[n]=t:(this._keys.push(e),this._values.push(t))},t.has=function(e){return this._getKeyIndex(e)>-1},t.delete=function(e){var t=this._getKeyIndex(e);t>-1&&(this._keys.splice(t,1),this._values.splice(t,1))},t.forEach=function(e,t){var n=this;void 0===t&&(t=this),a()(this._values,(function(r,i){r&&n._keys[i]&&e.call(t,r,n._keys[i],n)}))},e}();t["a"]=s},function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u}));var r=n(2),i=n.n(r),o={};function a(e,t){o[e]=o[e]||{},o[e].height=t}function s(e,t){o[e]=o[e]||{},o[e].offsetTop=t}function l(e){return o[e]&&o[e].height}function c(e){return o[e]&&o[e].offsetTop}function u(e){e&&(delete o[e.getAttribute("data-nodeid")],i()(e.children).forEach((function(e){u(e)})))}},function(e,t,n){"use strict";var r=n(2),i=n.n(r),o=n(9),a=n.n(o),s=n(0),l=new RegExp("^(abbr|align|alt|axis|bgcolor|border|cellpadding|cellspacing|class|clear|color|cols|compact|coords|dir|face|headers|height|hreflang|hspace|ismap|lang|language|nohref|nowrap|rel|rev|rows|rules|scope|scrolling|shape|size|span|start|summary|tabindex|target|title|type|valign|value|vspace|width|checked|mathvariant|encoding|id|name|background|cite|href|longdesc|src|usemap|xlink:href|data-+|checked|style)","g"),c=new RegExp("^(accent-height|accumulate|additive|alphabetic|arabic-form|ascent|baseProfile|bbox|begin|by|calcMode|cap-height|class|color|color-rendering|content|cx|cy|d|dx|dy|descent|display|dur|end|fill|fill-rule|font-family|font-size|font-stretch|font-style|font-variant|font-weight|from|fx|fy|g1|g2|glyph-name|gradientUnits|hanging|height|horiz-adv-x|horiz-origin-x|ideographic|k|keyPoints|keySplines|keyTimes|lang|marker-end|marker-mid|marker-start|markerHeight|markerUnits|markerWidth|mathematical|max|min|offset|opacity|orient|origin|overline-position|overline-thickness|panose-1|path|pathLength|points|preserveAspectRatio|r|refX|refY|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|rotate|rx|ry|slope|stemh|stemv|stop-color|stop-opacity|strikethrough-position|strikethrough-thickness|stroke|stroke-dasharray|stroke-dashoffset|stroke-linecap|stroke-linejoin|stroke-miterlimit|stroke-opacity|stroke-width|systemLanguage|target|text-anchor|to|transform|type|u1|u2|underline-position|underline-thickness|unicode|unicode-range|units-per-em|values|version|viewBox|visibility|width|widths|x|x-height|x1|x2|xlink:actuate|xlink:arcrole|xlink:role|xlink:show|xlink:title|xlink:type|xml:base|xml:lang|xml:space|xmlns|xmlns:xlink|y|y1|y2|zoomAndPan)","g"),u=/href|src|background/gi,d=/((java|vb|live)script|x):/gi,f=/^on\S+/;function h(e,t){var n=document.createElement("div");return a()(e)?(e=e.replace(/<!--[\s\S]*?-->/g,""),n.innerHTML=e):n.appendChild(e),p(n),v(n),s["a"].finalizeHtml(n,t)}function p(e){var t=s["a"].findAll(e,"script, iframe, textarea, form, button, select, input, meta, style, link, title, embed, object, details, summary");t.forEach((function(e){s["a"].remove(e)}))}function m(e,t){return e.match(u)&&t.match(d)}function g(e,t){i()(t).forEach((function(t){var n=t.name;f.test(n)&&(e[n]=null),e.getAttribute(n)&&e.removeAttribute(n)}))}function v(e){s["a"].findAll(e,"*").forEach((function(e){var t=e.attributes,n=i()(t).filter((function(e){var t=e.name,n=e.value,r=t.match(l),i=t.match(c),o=r&&m(t,n);return!r&&!i||o}));g(e,n)}))}t["a"]=h},function(e,t,n){"use strict";var r=n(17),i=n(21),o=n(10);function a(e,t,n){r(e)?i(e,t,n):o(e,t,n)}e.exports=a},function(e,t,n){"use strict";function r(e){return e instanceof Function}e.exports=r},function(e,t,n){"use strict";var r=n(8),i=n(48);function o(e){return!r(e)&&!i(e)}e.exports=o},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,"a",(function(){return o}));var i={paragraph:function(e,t){var n=t.entering,r=t.origin,i=t.options;return i.nodeId?{type:n?"openTag":"closeTag",outerNewLine:!0,tagName:"p"}:r()},softbreak:function(e){var t=e.prev&&"htmlInline"===e.prev.type,n=t&&/<br ?\/?>/.test(e.prev.literal),r=n?"\n":"<br>\n";return{type:"html",content:r}},item:function(e,t){var n=t.entering;if(n){var r={},i=[];return e.listData.task&&(r["data-te-task"]="",i.push("task-list-item"),e.listData.checked&&i.push("checked")),{type:"openTag",tagName:"li",classNames:i,attributes:r,outerNewLine:!0}}return{type:"closeTag",tagName:"li",outerNewLine:!0}},code:function(e){var t={"data-backticks":e.tickCount};return[{type:"openTag",tagName:"code",attributes:t},{type:"text",content:e.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(e){var t=e.info?e.info.split(/\s+/):[],n=[],r={};if(e.fenceLength>3&&(r["data-backticks"]=e.fenceLength),t.length>0&&t[0].length>0){var i=t[0];n.push("lang-"+i),r["data-language"]=i}return[{type:"openTag",tagName:"pre",classNames:n},{type:"openTag",tagName:"code",attributes:r},{type:"text",content:e.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre"}]}};function o(e,t){var n=r({},i);return e&&(n.link=function(t,n){var i=n.entering,o=n.origin,a=o();return i&&(a.attributes=r({},a.attributes,{},e)),a}),t&&Object.keys(t).forEach((function(e){var i=n[e],o=t[e];n[e]=i?function(e,t){var n=r({},t);return n.origin=function(){return i(e,t)},o(e,n)}:o})),n}},function(e,t,n){"use strict";var r=function(){function e(){this._replacers={}}var t=e.prototype;return t.setReplacer=function(e,t){e=e.toLowerCase(),this._replacers[e]=t},t.getReplacer=function(e){return this._replacers[e]},t.createCodeBlockHtml=function(e,t){e=e.toLowerCase();var n=this.getReplacer(e);return n?n(t,e):i(t,!1)},e}();function i(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}t["a"]=new r},function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return c}));var r=n(17),i=n.n(r),o=n(27),a=n.n(o);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function l(e,t){e.forEach((function(e){if(a()(e))e(t);else if(i()(e)){var n=e[0],r=e[1],o=void 0===r?{}:r;n(t,o)}}))}function c(e){return e?e.reduce((function(e,t){var n=i()(t)?t[0]:t;if(!a()(n)){var r=n.renderer,o=n.parser,l=n.pluginFn;t=i()(t)?[l,t[1]]:l,r&&(e.renderer=s({},e.renderer,{},r)),o&&(e.parser=s({},e.parser,{},o))}return e.plugins.push(t),e}),{plugins:[],renderer:{},parser:{}}):{}}},function(e,t,n){(function(t,n){e.exports=n()})("undefined"!==typeof self&&self,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){"use strict";var r=n(1),i=/\n$/g,o=/[ \xA0]+\n\n/g,a=/([ \xA0]+\n){2,}/g,s=/href\=\"(.*?)\"/,l=/^/gm,c=r.factory({TEXT_NODE:function(e){var t=this.trim(this.getSpaceCollapsedText(e.nodeValue));return this._isNeedEscapeBackSlash(t)&&(t=this.escapeTextBackSlash(t)),t=this.escapePairedCharacters(t),this._isNeedEscapeHtml(t)&&(t=this.escapeTextHtml(t)),this._isNeedEscape(t)&&(t=this.escapeText(t)),this.getSpaceControlled(t,e)},"CODE TEXT_NODE":function(e){return e.nodeValue},"EM, I":function(e,t){var n="";return this.isEmptyText(t)||(n="*"+t+"*"),n},"STRONG, B":function(e,t){var n="";return this.isEmptyText(t)||(n="**"+t+"**"),n},A:function(e,t){var n,r,i=t,o="";return n=s.exec(e.outerHTML),n&&(r=n[1].replace(/&amp;/g,"&")),e.title&&(o=' "'+e.title+'"'),!this.isEmptyText(t)&&r&&(i="["+this.escapeTextForLink(t)+"]("+r+o+")"),i},IMG:function(e){var t="",n=e.getAttribute("src"),r=e.alt;return n&&(t="!["+this.escapeTextForLink(r)+"]("+n+")"),t},BR:function(){return"  \n"},CODE:function(e,t){var n,r,i="";return this.isEmptyText(t)||(r=parseInt(e.getAttribute("data-backticks"),10),n=isNaN(r)?"`":Array(r+1).join("`"),i=n+t+n),i},P:function(e,t){var n="";return t=t.replace(a,"  \n"),this.isEmptyText(t)||(n="\n\n"+t+"\n\n"),n},"BLOCKQUOTE P":function(e,t){return t},"LI P":function(e,t){var n="";return this.isEmptyText(t)||(n=t),n},"H1, H2, H3, H4, H5, H6":function(e,t){var n="",r=parseInt(e.tagName.charAt(1),10);while(r)n+="#",r-=1;return n+=" ",n+=t,"\n\n"+n+"\n\n"},"LI H1, LI H2, LI H3, LI H4, LI H5, LI H6":function(e,t){var n=parseInt(e.tagName.charAt(1),10);return Array(n+1).join("#")+" "+t},"UL, OL":function(e,t){return"\n\n"+t+"\n\n"},"LI OL, LI UL":function(e,t){var n,r;return r=t.replace(o,"\n"),r=r.replace(i,""),n=r.replace(l,"    "),"\n"+n},"UL LI":function(e,t){var n="";return t=t.replace(a,"  \n"),e.firstChild&&"P"===e.firstChild.tagName&&(n+="\n"),n+="* "+t+"\n",n},"OL LI":function(e,t){var n="",r=parseInt(e.parentNode.getAttribute("start")||1,10);while(e.previousSibling)e=e.previousSibling,1===e.nodeType&&"LI"===e.tagName&&(r+=1);return t=t.replace(a,"  \n"),e.firstChild&&"P"===e.firstChild.tagName&&(n+="\n"),n+=r+". "+t+"\n",n},HR:function(){return"\n\n- - -\n\n"},BLOCKQUOTE:function(e,t){var n,r;return t=t.replace(a,"\n\n"),r=this.trim(t),n=r.replace(l,"> "),"\n\n"+n+"\n\n"},"PRE CODE":function(e,t){var n,r;return r=t.replace(i,""),n=r.replace(l,"    "),"\n\n"+n+"\n\n"}});e.exports=c},function(e,t,n){"use strict";var r=/^\u0020/,i=/.+\u0020$/,o=/[\n\s\t]+/g,a=/^[\u0020\r\n\t]+|[\u0020\r\n\t]+$/g,s=/[\u0020]+/g,l=/[>(){}\[\]+-.!#|]/g,c=/[\[\]]/g,u=/!\[.*\]\(.*\)/g,d=3;function f(e,t,n){var r;for(r in n=n||null,e)if(e.hasOwnProperty(r)&&!1===t.call(n,e[r],r,e))break}function h(e){this.rules={},e&&this.addRules(e)}function p(e){var t=e.tagName;return"S"===t||"B"===t||"I"===t||"EM"===t||"STRONG"===t||"A"===t||"IMG"===t||"CODE"===t}function m(e,t){var n=e.cloneNode(!1);return n.innerHTML=t,n.outerHTML}function g(e,t){f(t,(function(t,n){"converter"!==n?(e[n]||(e[n]={}),g(e[n],t)):e[n]=t}))}h.prototype.lineFeedReplacement="​​",h.prototype.addRule=function(e,t){var n=e.split(", "),r=n.pop();t.fname=e;while(r)this._setConverterWithSelector(r,t),r=n.pop()},h.prototype.addRules=function(e){f(e,(function(e,t){this.addRule(t,e)}),this)},h.prototype.getSpaceControlled=function(e,t){var n,o="",a="";return t.previousSibling&&(t.previousSibling.nodeType===d||p(t.previousSibling))&&(n=t.previousSibling.innerHTML||t.previousSibling.nodeValue,(i.test(n)||r.test(t.innerHTML||t.nodeValue))&&(o=" ")),t.nextSibling&&(t.nextSibling.nodeType===d||p(t.nextSibling))&&(n=t.nextSibling.innerHTML||t.nextSibling.nodeValue,(r.test(n)||i.test(t.innerHTML||t.nodeValue))&&(a=" ")),o+e+a},h.prototype.convert=function(e,t){var n,r=this._getConverter(e);return e&&e.nodeType===Node.ELEMENT_NODE&&e.hasAttribute("data-tomark-pass")?(e.removeAttribute("data-tomark-pass"),n=m(e,t)):r?n=r.call(this,e,t):e&&(n=this.getSpaceControlled(this._getInlineHtml(e,t),e)),n||""},h.prototype._getInlineHtml=function(e,t){var n=e.outerHTML,r=e.tagName,i=t.replace(/\$/g,"$$$$");return n.replace(new RegExp("(<"+r+" ?.*?>).*(</"+r+">)","i"),"$1"+i+"$2")},h.prototype._getConverter=function(e){var t,n=this.rules;while(e&&n)n=this._getNextRule(n,this._getRuleNameFromNode(e)),e=this._getPrevNode(e),n&&n.converter&&(t=n.converter);return t},h.prototype._getNextRule=function(e,t){return e[t]},h.prototype._getRuleNameFromNode=function(e){return e.tagName||"TEXT_NODE"},h.prototype._getPrevNode=function(e){var t,n=e.parentNode;return n&&!n.__htmlRootByToMark&&(t=n),t},h.prototype._setConverterWithSelector=function(e,t){var n=this.rules;this._eachSelector(e,(function(e){n[e]||(n[e]={}),n=n[e]})),n.converter=t},h.prototype._eachSelector=function(e,t){var n,r;n=e.split(" "),r=n.length-1;while(r>=0)t(n[r]),r-=1},h.prototype.trim=function(e){return e.replace(a,"")},h.prototype.isEmptyText=function(e){return""===e.replace(o,"")},h.prototype.getSpaceCollapsedText=function(e){return e.replace(s," ")},h.prototype.escapeText=function(e){return e.replace(l,(function(e){return"\\"+e}))},h.prototype.escapeTextForLink=function(e){var t=[],n=u.exec(e);while(n)t.push([n.index,n.index+n[0].length]),n=u.exec(e);return e.replace(c,(function(e,n){var r=t.some((function(e){return n>e[0]&&n<e[1]}));return r?e:"\\"+e}))},h.prototype.escapeTextHtml=function(e){return e.replace(new RegExp(h.markdownTextToEscapeHtmlRx.source,"g"),(function(e){return"\\"+e}))},h.prototype.escapeTextBackSlash=function(e){return e.replace(new RegExp(h.markdownTextToEscapeBackSlashRx.source,"g"),(function(e){return"\\"+e}))},h.prototype.escapePairedCharacters=function(e){return e.replace(new RegExp(h.markdownTextToEscapePairedCharsRx.source,"g"),(function(e){return"\\"+e}))},h.markdownTextToEscapeRx={codeblock:/(^ {4}[^\n]+\n*)+/,hr:/^ *((\* *){3,}|(- *){3,} *|(_ *){3,}) */,heading:/^(#{1,6}) +[\s\S]+/,lheading:/^([^\n]+)\n *(=|-){2,} */,blockquote:/^( *>[^\n]+.*)+/,list:/^ *(\*+|-+|\d+\.) [\s\S]+/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? */,link:/!?\[.*\]\(.*\)/,reflink:/!?\[.*\]\s*\[([^\]]*)\]/,verticalBar:/\u007C/,codeblockGfm:/^(`{3,})/,codeblockTildes:/^(~{3,})/},h.markdownTextToEscapeHtmlRx=/<([a-zA-Z_][a-zA-Z0-9\-\._]*)(\s|[^\\/>])*\/?>|<(\/)([a-zA-Z_][a-zA-Z0-9\-\._]*)\s*\/?>|<!--[^-]+-->|<([a-zA-Z_][a-zA-Z0-9\-\.:/]*)>/,h.markdownTextToEscapeBackSlashRx=/\\[!"#$%&'()*+,-./:;<=>?@[\]^_`{|}~\\]/,h.markdownTextToEscapePairedCharsRx=/[*_~`]/,h.prototype._isNeedEscape=function(e){var t,n=!1,r=h.markdownTextToEscapeRx;for(t in r)if(r.hasOwnProperty(t)&&r[t].test(e)){n=!0;break}return n},h.prototype._isNeedEscapeHtml=function(e){return h.markdownTextToEscapeHtmlRx.test(e)},h.prototype._isNeedEscapeBackSlash=function(e){return h.markdownTextToEscapeBackSlashRx.test(e)},h.prototype.mix=function(e){g(this.rules,e.rules)},h.factory=function(e,t){var n=new h;return t?n.mix(e):t=e,n.addRules(t),n},e.exports=h},function(e,t,n){"use strict";var r=n(1),i=n(0),o=r.factory(i,{"DEL, S":function(e,t){return"~~"+t+"~~"},"PRE CODE":function(e,t){var n,r="",i=e.getAttribute("data-backticks");return e.getAttribute("data-language")&&(r=" "+e.getAttribute("data-language")),i=parseInt(i,10),n=isNaN(i)?"```":Array(i+1).join("`"),t=t.replace(/(\r\n)|(\r)|(\n)/g,this.lineFeedReplacement),"\n\n"+n+r+"\n"+t+"\n"+n+"\n\n"},PRE:function(e,t){return t},"UL LI":function(e,t){return i.convert(e,a(e,t))},"OL LI":function(e,t){return i.convert(e,a(e,t))},TABLE:function(e,t){return"\n\n"+t+"\n\n"},"TBODY, TFOOT":function(e,t){return t},"TR TD, TR TH":function(e,t){return t=t.replace(/(\r\n)|(\r)|(\n)/g,"")," "+t+" |"},"TD BR, TH BR":function(){return"<br>"},TR:function(e,t){return"|"+t+"\n"},THEAD:function(e,t){var n,r,i,o="";for(r=l(l(e,"TR")[0],"TH"),i=r.length,n=0;n<i;n+=1)o+=" "+s(r[n])+" |";return t?t+"|"+o+"\n":""}});function a(e,t){var n;return-1!==e.className.indexOf("task-list-item")&&(n=-1!==e.className.indexOf("checked")?"x":" ",t="["+n+"] "+t),t}function s(e){var t,n,r,i;return t=e.align,i=e.textContent?e.textContent.length:e.innerText.length,n="",r="",t&&("left"===t?(n=":",i-=1):"right"===t?(r=":",i-=1):"center"===t&&(r=":",n=":",i-=2)),n+c("-",i)+r}function l(e,t){var n,r=e.childNodes,i=r.length,o=[];for(n=0;n<i;n+=1)r[n].tagName&&r[n].tagName===t&&o.push(r[n]);return o}function c(e,t){var n=e;t=Math.max(t,3);while(t>1)n+=e,t-=1;return n}e.exports=o},function(e,t,n){"use strict";var r=n(4),i=n(1),o=n(0),a=n(2);r.Renderer=i,r.basicRenderer=o,r.gfmRenderer=a,e.exports=r},function(e,t,n){"use strict";var r=n(5),i=n(6),o=n(0),a=n(2),s=/[ \xA0]+(\n\n)/g,l=/^[\n]+|[\s\n]+$/g,c=/([ \xA0]+\n){2,}/g,u=/([ \xA0]){2,}\n/g,d=/[ \xA0\n]+/g;function f(e,t){var n,s,l=!0;return e?(s=a,t&&(l=t.gfm,!1===l&&(s=o),s=t.renderer||s),n=new r(i(e)),p(h(n,s),l,s.lineFeedReplacement)):""}function h(e,t){var n="";while(e.next())n+=m(e,t);return n}function p(e,t,n){return e=e.replace(s,"\n"),e=e.replace(c,"\n\n"),e=e.replace(d,(function(e){var t=(e.match(/\n/g)||[]).length;return t>=3?"\n\n":e>=1?"\n":e})),e=e.replace(l,""),e=e.replace(new RegExp(n,"g"),"\n"),t&&(e=e.replace(u,"\n")),e}function m(e,t){var n,r,i,o="",a=e.getNode();for(n=0,r=a.childNodes.length;n<r;n+=1)e.next(),o+=m(e,t);return i=t.convert(a,o),i}e.exports=f},function(e,t,n){"use strict";var r={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3};function i(e){this._normalizeTextChildren(e),this._root=e,this._current=e}i.prototype.next=function(){var e,t=this._current;if(this._current){e=this._getNextNode(t);while(this._isNeedNextSearch(e,t))t=t.parentNode,e=t.nextSibling;this._current=e}return this._current},i.prototype.getNode=function(){return this._normalizeTextChildren(this._current),this._current},i.prototype._normalizeTextChildren=function(e){var t,n;if(e&&!(e.childNodes.length<2)){t=e.firstChild;while(t.nextSibling)n=t.nextSibling,t.nodeType===r.TEXT_NODE&&n.nodeType===r.TEXT_NODE?(t.nodeValue+=n.nodeValue,e.removeChild(n)):t=n}},i.prototype.getNodeText=function(){var e,t=this.getNode();return e=t.nodeType===r.TEXT_NODE?t.nodeValue:t.textContent||t.innerText,e},i.prototype._isNeedNextSearch=function(e,t){return!e&&t!==this._root&&t.parentNode!==this._root},i.prototype._getNextNode=function(e){return e.firstChild||e.nextSibling},i.NODE_TYPE=r,e.exports=i},function(e,t,n){"use strict";var r=/^[\s\r\n\t]+|[\s\r\n\t]+$/g,i=/>[\r\n\t]+</g,o=/>[ ]+</g;function a(e){var t;return"[object String]"===Object.prototype.toString.call(e)?(t=document.createElement("div"),t.innerHTML=s(e)):t=e,t.__htmlRootByToMark=!0,t}function s(e){return e=e.replace(r,""),e=e.replace(i,"><"),e=e.replace(o,"> <"),e}a.preProcess=s,e.exports=a}])}))},function(e,t,n){"use strict";var r=n(8);function i(e){return e&&e.className?r(e.className.baseVal)?e.className:e.className.baseVal:""}e.exports=i},function(e,t,n){"use strict";function r(e){return"number"===typeof e||e instanceof Number}e.exports=r},function(e,t,n){"use strict";var r=n(19),i=n.n(r),o=n(20),a=n.n(o),s=n(5),l=n.n(s),c=n(6),u=n.n(c),d=n(22),f=n(38),h=n(0),p=n(29),m=n(18),g=n(24),v=n(4);function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var C="te-preview-highlight";function w(e,t){var n=t.ch,r=e.firstChild;while(r&&r.next){if(Object(v["e"])(r.next)>n+1)break;r=r.next}return r}var x=function(e){function t(t,n,r,i){var o;o=e.call(this,t,n,r,i.isViewer)||this,o.lazyRunner.registerLazyRunFunction("invokeCodeBlock",o.invokeCodeBlockPlugins,o.delayCodeBlockTime,b(o));var a=i.linkAttribute,s=i.customHTMLRenderer,l=i.highlight,c=void 0!==l&&l;return o.renderHTML=Object(d["createRenderHTML"])({gfm:!0,nodeId:!0,convertors:Object(p["a"])(a,s)}),o.cursorNodeId=null,o._initEvent(c),o}y(t,e);var n=t.prototype;return n._initEvent=function(e){var t=this;this.eventManager.listen("contentChangedFromMarkdown",this.update.bind(this)),e&&this.eventManager.listen("cursorActivity",(function(e){var n=e.markdownNode,r=e.cursor;t._updateCursorNode(n,r)})),i()(this.el,"scroll",(function(e){t.eventManager.emit("scroll",{source:"preview",data:Object(m["a"])(e.target.scrollTop,t._previewContent)})}))},n._updateCursorNode=function(e,t){e&&(e=Object(v["b"])(e,(function(e){return!Object(v["h"])(e)})),"tableRow"===e.type?e=w(e,t):"tableBody"===e.type&&(e=null));var n=e?e.id:null;if(this.cursorNodeId!==n){var r=this._getElementByNodeId(this.cursorNodeId),i=this._getElementByNodeId(n);r&&u()(r,C),i&&l()(i,C),this.cursorNodeId=n}},n._getElementByNodeId=function(e){return e?this._previewContent.querySelector('[data-nodeid="'+e+'"]'):null},n.update=function(e){var t=this;e.forEach((function(e){return t.replaceRangeNodes(e)})),this.eventManager.emit("previewRenderAfter",this)},n.replaceRangeNodes=function(e){var t=this,n=e.nodes,r=e.removedNodeRange,i=this._previewContent,o=this.eventManager.emitReduce("convertorAfterMarkdownToHtmlConverted",n.map((function(e){return t.renderHTML(e)})).join(""));if(r){var a=r.id,s=a[0],l=a[1],c=this._getElementByNodeId(s),u=this._getElementByNodeId(l);if(c){c.insertAdjacentHTML("beforebegin",o);var d=c;while(d!==u){var f=d.nextElementSibling;d.parentNode.removeChild(d),Object(g["c"])(d),d=f}d.parentNode&&(h["a"].remove(d),Object(g["c"])(d))}}else i.insertAdjacentHTML("afterbegin",o);var p=this.getCodeBlockElements(n.map((function(e){return e.id})));p.length&&this.lazyRunner.run("invokeCodeBlock",p)},n.render=function(t){e.prototype.render.call(this,t),this.eventManager.emit("previewRenderAfter",this)},n.remove=function(){a()(this.el,"scroll"),this.el=null},t}(f["a"]);t["a"]=x},function(e,t,n){"use strict";var r=n(10),i=n.n(r),o=n(8),a=n.n(o),s=n(44),l=n.n(s),c=n(45),u=n.n(c),d=n(23),f=["previewBeforeHook","previewRenderAfter","previewNeedsRefresh","addImageBlobHook","setMarkdownAfter","contentChangedFromWysiwyg","changeFromWysiwyg","contentChangedFromMarkdown","changeFromMarkdown","change","changeModeToWysiwyg","changeModeToMarkdown","changeModeBefore","changeMode","changePreviewStyle","changePreviewTabPreview","changePreviewTabWrite","openPopupAddLink","openPopupAddImage","openPopupAddTable","openPopupTableUtils","openHeadingSelect","openPopupCodeBlockLanguages","openPopupCodeBlockEditor","openDropdownToolbar","closePopupCodeBlockLanguages","closePopupCodeBlockEditor","closeAllPopup","command","addCommandBefore","htmlUpdate","markdownUpdate","renderedHtmlUpdated","removeEditor","convertorAfterMarkdownToHtmlConverted","convertorBeforeHtmlToMarkdownConverted","convertorAfterHtmlToMarkdownConverted","stateChange","wysiwygSetValueAfter","wysiwygSetValueBefore","wysiwygGetValueBefore","wysiwygProcessHTMLText","wysiwygRangeChangeAfter","wysiwygKeyEvent","scroll","click","mousedown","mouseover","mouseout","mouseup","contextmenu","keydown","keyup","keyMap","load","focus","blur","paste","pasteBefore","willPaste","copy","copyBefore","copyAfter","cut","cutAfter","drop","show","hide","changeLanguage","cursorActivity","requireScrollSync","requireScrollIntoView","setCodeBlockLanguages"],h=function(){function e(){this.events=new d["a"],this.TYPE=new u.a(f)}var t=e.prototype;return t.listen=function(e,t){var n=this._getTypeInfo(e),r=this.events.get(n.type)||[];if(!this._hasEventType(n.type))throw new Error("There is no event type "+n.type);n.namespace&&(t.namespace=n.namespace),r.push(t),this.events.set(n.type,r)},t.emit=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,o=t.shift(),s=this._getTypeInfo(o),l=this.events.get(s.type);return l&&i()(l,(function(e){var n=e.apply(void 0,t);a()(n)||(r=r||[],r.push(n))})),r},t.emitReduce=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.shift(),o=this.events.get(r);return o&&i()(o,(function(e){var n=e.apply(void 0,t);l()(n)||(t[0]=n)})),t[0]},t._getTypeInfo=function(e){var t=e.split(".");return{type:t[0],namespace:t[1]}},t._hasEventType=function(e){return!a()(this.TYPE[this._getTypeInfo(e).type])},t.addEventType=function(e){if(this._hasEventType(e))throw new Error("There is already have event type "+e);this.TYPE.set(e)},t.removeEventHandler=function(e,t){var n=this,r=this._getTypeInfo(e),i=r.type,o=r.namespace;i&&t?this._removeEventHandlerWithHandler(i,t):i&&!o?this.events.delete(i):!i&&o?this.events.forEach((function(e,t){n._removeEventHandlerWithTypeInfo(t,o)})):i&&o&&this._removeEventHandlerWithTypeInfo(i,o)},t._removeEventHandlerWithHandler=function(e,t){var n=this.events.get(e)||[],r=n.indexOf(t);r>=0&&n.splice(r,1)},t._removeEventHandlerWithTypeInfo=function(e,t){var n=[],r=this.events.get(e);r&&(r.map((function(e){return e.namespace!==t&&n.push(e),null})),this.events.set(e,n))},e}();t["a"]=h},function(e,t,n){"use strict";var r=n(32),i=n.n(r),o=n(22),a=n(29),s=n(0),l="[a-zA-Z_:][a-zA-Z0-9:._-]*",c="[^\"'=<>`\\x00-\\x20]+",u="'[^']*'",d='"[^"]*"',f="(?:"+c+"|"+u+"|"+d+")",h="(?:\\s+"+l+"(?:\\s*=\\s*"+f+")?)*\\s*",p="(\\\\<|<)([A-Za-z][A-Za-z0-9\\-]*"+h+")(\\/?>)",m=new RegExp(p,"g"),g=function(){function e(e,t){void 0===t&&(t={});var n=t,r=n.linkAttribute,i=n.customHTMLRenderer,s=n.extendedAutolinks,l=n.referenceDefinition,c=n.customParser;this.mdReader=new o["Parser"]({extendedAutolinks:s,disallowedHtmlBlockTags:["br"],referenceDefinition:l,disallowDeepHeading:!0,customParser:c}),this.renderHTML=Object(o["createRenderHTML"])({gfm:!0,convertors:Object(a["a"])(r,i)}),this.eventManager=e}var t=e.prototype;return t._markdownToHtmlWithCodeHighlight=function(e){return this.renderHTML(this.mdReader.parse(e))},t._markdownToHtml=function(e){return e=e.replace(m,(function(e,t,n,r){return"\\"!==e[0]?""+t+n+" data-tomark-pass "+r:e})),this.renderHTML(this.mdReader.parse(e))},t._removeBrToMarkPassAttributeInCode=function(e){var t=s["a"].createElementWith("<div>"+e+"</div>");return s["a"].findAll(t,"code, pre").forEach((function(e){var t=e;t.innerHTML=t.innerHTML.replace(/\sdata-tomark-pass\s(\/?)&gt;/g,"$1&gt;")})),e=t.innerHTML,e},t.toHTMLWithCodeHighlight=function(e){var t=this._markdownToHtmlWithCodeHighlight(e);return t=this.eventManager.emitReduce("convertorAfterMarkdownToHtmlConverted",t),t},t.toHTML=function(e){var t=this._markdownToHtml(e);return t=this.eventManager.emitReduce("convertorAfterMarkdownToHtmlConverted",t),t=this._removeBrToMarkPassAttributeInCode(t),t},t.initHtmlSanitizer=function(e){this.eventManager.listen("convertorAfterMarkdownToHtmlConverted",(function(t){return e(t,!0)}))},t.toMarkdown=function(e,t){var n=[];e=this.eventManager.emitReduce("convertorBeforeHtmlToMarkdownConverted",e),e=this._appendAttributeForLinkIfNeed(e),e=this._appendAttributeForBrIfNeed(e);var r=i()(e,t);return r=this.eventManager.emitReduce("convertorAfterHtmlToMarkdownConverted",r),r=this._removeNewlinesBeforeAfterAndBlockElement(r),r.split("\n").forEach((function(e,t){var r=/^(<br>)+\||\|[^|]*\|/gi,i=/`[^`]*<br>[^`]*`/gi,o=/^(<br>)+\|/gi;r.test(e)?e=e.replace(o,(function(e){return e.replace(/<br>/gi,"<br>\n")})):i.test(e)||(e=e.replace(/<br>/gi,"<br>\n")),n[t]=e})),n.join("\n")},t._removeNewlinesBeforeAfterAndBlockElement=function(e){var t=/<br>\n\n(#{1,6} .*|```|\||(\*+|-+|\d+\.) .*| *>[^\n]+.*)/g,n=/(#{1,6} .*|```|\|)\n\n<br>/g;return e=e.replace(t,"<br>$1"),e=e.replace(n,"$1\n<br>"),e},t._appendAttributeForLinkIfNeed=function(e){var t=/!?\[.*\]\(<\s*a[^>]*>(.*?)<\s*\/\s*a>\)/gi;return e.replace(t,(function(e){return e.replace(/<a /gi,'<a data-tomark-pass="" ')}))},t._appendAttributeForBrIfNeed=function(e){var t=/<br>/gi,n=/<br \/><br \/>/gi,r=/<br data-tomark-pass \/><br \/>(.)/gi,i=/([^>]|<\/a>|<\/code>|<\/span>|<\/b>|<\/i>|<\/s>|<img [^>]*>)/,o=/<br data-tomark-pass \/><br data-tomark-pass \/>/,a=new RegExp(i.source+o.source,"g"),s=/<br data-tomark-pass="">/gi;return e=e.replace(t,"<br />"),e=e.replace(n,"<br data-tomark-pass /><br data-tomark-pass />"),e=e.replace(s,"<br data-tomark-pass />"),e=e.replace(r,"<br data-tomark-pass /><br data-tomark-pass />$1"),e=e.replace(a,"$1<br /><br />"),e=e.replace(/(.)<br \/><br \/>(<h[1-6]>|<pre>|<table>|<ul>|<ol>|<blockquote>)/g,"$1<br /><br data-tomark-pass />$2"),e=e.replace(/(<\/h[1-6]>|<\/pre>|<\/table>|<\/ul>|<\/ol>|<\/blockquote>)<br \/>(.)/g,"$1<br data-tomark-pass />$2"),e},e}();t["a"]=g},function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(9),a=n.n(o),s=function(){function e(){this.globalTOID=null,this.lazyRunFunctions={}}var t=e.prototype;return t.run=function(e,t,n,r){var i;return a()(e)?i=this._runRegisteredRun(e,t,n,r):(i=this._runSingleRun(e,t,n,r,this.globalTOID),this.globalTOID=i),i},t.registerLazyRunFunction=function(e,t,n,r){r=r||this,this.lazyRunFunctions[e]={fn:t,delay:n,context:r,TOID:null}},t._runSingleRun=function(e,t,n,r,i){return this._clearTOIDIfNeed(i),i=setTimeout((function(){e.call(n,t)}),r),i},t._runRegisteredRun=function(e,t,n,r){var i=this.lazyRunFunctions[e],o=i.fn,a=i.TOID;return r=r||i.delay,n=n||i.context,a=this._runSingleRun(o,t,n,r,a),i.TOID=a,a},t._clearTOIDIfNeed=function(e){e&&clearTimeout(e)},e}(),l=s,c=n(0),u=n(30),d=function(){function e(e,t,n,r){this.eventManager=t,this.convertor=n,this.el=e,this.isViewer=!!r,this.delayCodeBlockTime=500,this._initContentSection(),this.lazyRunner=new l}var t=e.prototype;return t._initContentSection=function(){this._previewContent=c["a"].createElementWith('<div class="tui-editor-contents"></div>'),this.el.appendChild(this._previewContent)},t.getCodeBlockElements=function(e){var t,n=this._previewContent,r=[];return t=e?e.map((function(e){return n.querySelector('[data-nodeid="'+e+'"]')})).filter(Boolean):[n],t.forEach((function(e){r.push.apply(r,c["a"].findAll(e,"code[data-language]"))})),r},t.invokeCodeBlockPlugins=function(e){e.forEach((function(e){var t=e.getAttribute("data-language"),n=u["a"].createCodeBlockHtml(t,e.textContent);e.innerHTML=n}))},t.refresh=function(e){void 0===e&&(e=""),this.render(this.convertor.toHTMLWithCodeHighlight(e)),this.invokeCodeBlockPlugins(this.getCodeBlockElements())},t.getHTML=function(){return this._previewContent.innerHTML},t.setHTML=function(e){this._previewContent.innerHTML=e},t.render=function(e){var t=this._previewContent;e=this.eventManager.emit("previewBeforeHook",e)||e,c["a"].empty(t),t.innerHTML=e},t.setHeight=function(e){i()(this.el,{height:e+"px"})},t.setMinHeight=function(e){i()(this.el,{minHeight:e+"px"})},t.isVisible=function(){return"none"!==this.el.style.display},e}();t["a"]=d},function(e,t,n){"use strict";var r=n(17),i=n(8);function o(e,t){t=r(t)?t.join(" "):t,t=t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),i(e.className.baseVal)?e.className=t:e.className.baseVal=t}e.exports=o},function(e,t,n){"use strict";var r="_feEventKey";function i(e,t){var n,i=e[r];return i||(i=e[r]={}),n=i[t],n||(n=i[t]=[]),n}e.exports=i},function(e,t,n){},function(e,t,n){"use strict";var r=n(28);function i(e){return r(e)&&!1!==e}e.exports=i},function(e,t,n){"use strict";var r=n(8),i=n(49),o=6048e5;function a(e){var t=(new Date).getTime();return t-e>o}function s(e,t){var n="https://www.google-analytics.com/collect",o=location.hostname,s="event",l="use",c="TOAST UI "+e+" for "+o+": Statistics",u=window.localStorage.getItem(c);(r(window.tui)||!1!==window.tui.usageStatistics)&&(u&&!a(u)||(window.localStorage.setItem(c,(new Date).getTime()),setTimeout((function(){"interactive"!==document.readyState&&"complete"!==document.readyState||i(n,{v:1,t:s,tid:t,cid:o,dp:o,dh:e,el:e,ec:l})}),1e3)))}e.exports=s},function(e,t,n){"use strict";var r=n(42);function i(e){return!r(e)}e.exports=i},function(e,t,n){"use strict";var r=n(34),i=n(17),o=n(2),a=n(26),s=function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}(),l=0;function c(e){e&&this.set.apply(this,arguments)}c.prototype.set=function(e){var t=this;i(e)||(e=o(arguments)),a(e,(function(e){t._addItem(e)}))},c.prototype.getName=function(e){var t,n=this;return a(this,(function(r,i){if(n._isEnumItem(i)&&e===r)return t=i,!1})),t},c.prototype._addItem=function(e){var t;this.hasOwnProperty(e)||(t=this._makeEnumValue(),s?Object.defineProperty(this,e,{enumerable:!0,configurable:!1,writable:!1,value:t}):this[e]=t)},c.prototype._makeEnumValue=function(){var e;return e=l,l+=1,e},c.prototype._isEnumItem=function(e){return r(this[e])},e.exports=c},function(e,t,n){"use strict";var r=n(10),i=n.n(r),o=n(7),a=n.n(o),s=n(19),l=n.n(s),c=n(20),u=n.n(c),d=n(35),f=n(36),h=n(1),p=n(37),m=n(0),g=n(30),v=n(31),b=n(12),y=n(25);function C(){return C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C.apply(this,arguments)}var w="data-te-task",x="checked",I=function(){function e(e){var t=this;this.options=a()({useDefaultHTMLSanitizer:!0,linkAttribute:null,extendedAutolinks:!1,customConvertor:null,customHTMLRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null},e),this.codeBlockLanguages=[],this.eventManager=new f["a"],this.commandManager=new h["a"](this);var n=Object(b["c"])(this.options.linkAttribute),r=Object(v["a"])(this.options.plugins),o=r.renderer,s=r.parser,c=r.plugins,u=this.options,m=u.customHTMLRenderer,g=u.customHTMLSanitizer,w=u.extendedAutolinks,x=u.referenceDefinition,I={linkAttribute:n,customHTMLRenderer:C({},o,{},m),extendedAutolinks:w,referenceDefinition:x,customParser:s};this.options.customConvertor?this.convertor=new this.options.customConvertor(this.eventManager,I):this.convertor=new p["a"](this.eventManager,I);var A=g||(this.options.useDefaultHTMLSanitizer?y["a"]:null);A&&this.convertor.initHtmlSanitizer(A),this.options.hooks&&i()(this.options.hooks,(function(e,n){t.addHook(n,e)})),this.options.events&&i()(this.options.events,(function(e,n){t.on(n,e)}));var k=this.options,S=k.el,_=k.initialValue,T=S.innerHTML;S.innerHTML="",this.preview=new d["a"](S,this.eventManager,this.convertor,C({},I,{isViewer:!0})),l()(this.preview.el,"mousedown",this._toggleTask.bind(this)),c&&Object(v["b"])(c,this),_?this.setMarkdown(_):T&&this.preview.setHTML(T),this.eventManager.emit("load",this)}var t=e.prototype;return t._toggleTask=function(e){var t=getComputedStyle(e.target,":before");e.target.hasAttribute(w)&&m["a"].isInsideTaskBox(t,e.offsetX,e.offsetY)&&(m["a"].toggleClass(e.target,x),this.eventManager.emit("change",{source:"viewer",data:e}))},t.setMarkdown=function(e){this.markdownValue=e=e||"",this.preview.refresh(this.markdownValue),this.eventManager.emit("setMarkdownAfter",this.markdownValue)},t.on=function(e,t){this.eventManager.listen(e,t)},t.off=function(e){this.eventManager.removeEventHandler(e)},t.remove=function(){this.eventManager.emit("removeEditor"),u()(this.preview.el,"mousedown",this._toggleTask.bind(this)),this.preview.remove(),this.options=null,this.eventManager=null,this.commandManager=null,this.convertor=null,this.preview=null},t.addHook=function(e,t){this.eventManager.removeEventHandler(e),this.eventManager.listen(e,t)},t.isViewer=function(){return!0},t.isMarkdownMode=function(){return!1},t.isWysiwygMode=function(){return!1},t.setCodeBlockLanguages=function(e){var t=this;void 0===e&&(e=[]),e.forEach((function(e){t.codeBlockLanguages.indexOf(e)<0&&t.codeBlockLanguages.push(e)}))},e}();I.isViewer=!0,I.domUtils=m["a"],I.codeBlockManager=g["a"],I.WwCodeBlockManager=null,I.WwTableManager=null,I.WwTableSelectionManager=null,t["a"]=I},function(e,t,n){"use strict";function r(e,t){var n,r;function i(){r=Array.prototype.slice.call(arguments),window.clearTimeout(n),n=window.setTimeout((function(){e.apply(null,r)}),t)}return t=t||0,i}e.exports=r},function(e,t,n){"use strict";function r(e){return null===e}e.exports=r},function(e,t,n){"use strict";var r=n(10);function i(e,t){var n=document.createElement("img"),i="";return r(t,(function(e,t){i+="&"+t+"="+e})),i=i.substring(1),n.src=e+"?"+i,n.style.display="none",document.body.appendChild(n),document.body.removeChild(n),n}e.exports=i},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){"use strict";function r(e){return e===Object(e)}e.exports=r},function(e,t,n){!function(t,n){"use strict";function r(e,t,n){this.root=this.currentNode=e,this.nodeType=t,this.filter=n||he}function i(e,t){for(var n=e.length;n--;)if(!t(e[n]))return!1;return!0}function o(e){return e.nodeType===H&&!!me[e.nodeName]}function a(e){switch(e.nodeType){case z:return ve;case H:case V:if(ce&&Ce.has(e))return Ce.get(e);break;default:return ge}var t;return t=i(e.childNodes,s)?pe.test(e.nodeName)?ve:be:ye,ce&&Ce.set(e,t),t}function s(e){return a(e)===ve}function l(e){return a(e)===be}function c(e){return a(e)===ye}function u(e,t){var n=new r(t,W,l);return n.currentNode=e,n}function d(e,t){return e=u(e,t).previousNode(),e!==t?e:null}function f(e,t){return e=u(e,t).nextNode(),e!==t?e:null}function h(e){return!e.textContent&&!e.querySelector("IMG")}function p(e,t){return!o(e)&&e.nodeType===t.nodeType&&e.nodeName===t.nodeName&&"A"!==e.nodeName&&e.className===t.className&&(!e.style&&!t.style||e.style.cssText===t.style.cssText)}function m(e,t,n){if(e.nodeName!==t)return!1;for(var r in n)if(e.getAttribute(r)!==n[r])return!1;return!0}function g(e,t,n,r){for(;e&&e!==t;){if(m(e,n,r))return e;e=e.parentNode}return null}function v(e,t,n){for(;e&&e!==t;){if(n.test(e.nodeName))return e;e=e.parentNode}return null}function b(e,t){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function y(e,t,n){var r,i,o,a,s,l="";return e&&e!==t&&(l=y(e.parentNode,t,n),e.nodeType===H&&(l+=(l?">":"")+e.nodeName,(r=e.id)&&(l+="#"+r),(i=e.className.trim())&&(o=i.split(/\s\s*/),o.sort(),l+=".",l+=o.join(".")),(a=e.dir)&&(l+="[dir="+a+"]"),o&&(s=n.classNames,de.call(o,s.highlight)>-1&&(l+="[backgroundColor="+e.style.backgroundColor.replace(/ /g,"")+"]"),de.call(o,s.colour)>-1&&(l+="[color="+e.style.color.replace(/ /g,"")+"]"),de.call(o,s.fontFamily)>-1&&(l+="[fontFamily="+e.style.fontFamily.replace(/ /g,"")+"]"),de.call(o,s.fontSize)>-1&&(l+="[fontSize="+e.style.fontSize+"]")))),l}function C(e){var t=e.nodeType;return t===H||t===V?e.childNodes.length:e.length||0}function w(e){var t=e.parentNode;return t&&t.removeChild(e),e}function x(e,t){var n=e.parentNode;n&&n.replaceChild(t,e)}function I(e){for(var t=e.ownerDocument.createDocumentFragment(),n=e.childNodes,r=n?n.length:0;r--;)t.appendChild(e.firstChild);return t}function A(e,t,r,i){var o,a,s,l=e.createElement(t);if(r instanceof Array&&(i=r,r=null),r)for(o in r)r[o]!==n&&l.setAttribute(o,r[o]);if(i)for(a=0,s=i.length;a<s;a+=1)l.appendChild(i[a]);return l}function k(e,t){var n,r,i=t.__squire__,a=e.ownerDocument,l=e;if(e===t&&((r=e.firstChild)&&"BR"!==r.nodeName||(n=i.createDefaultBlock(),r?e.replaceChild(n,r):e.appendChild(n),e=n,n=null)),e.nodeType===z)return l;if(s(e)){for(r=e.firstChild;ae&&r&&r.nodeType===z&&!r.data;)e.removeChild(r),r=e.firstChild;r||(ae?(n=a.createTextNode(K),i._didAddZWS()):n=a.createTextNode(""))}else if(oe){for(;e.nodeType!==z&&!o(e);){if(!(r=e.firstChild)){n=a.createTextNode("");break}e=r}e.nodeType===z?/^ +$/.test(e.data)&&(e.data=""):o(e)&&e.parentNode.insertBefore(a.createTextNode(""),e)}else if("HR"!==e.nodeName&&!e.querySelector("BR"))for(n=A(a,"BR");(r=e.lastElementChild)&&!s(r);)e=r;if(n)try{e.appendChild(n)}catch(t){i.didError({name:"Squire: fixCursor – "+t,message:"Parent: "+e.nodeName+"/"+e.innerHTML+" appendChild: "+n.nodeName})}return l}function S(e,t){var n,r,i,o,a=e.childNodes,l=e.ownerDocument,u=null,d=t.__squire__._config;for(n=0,r=a.length;n<r;n+=1)i=a[n],o="BR"===i.nodeName,!o&&s(i)?(u||(u=A(l,d.blockTag,d.blockAttributes)),u.appendChild(i),n-=1,r-=1):(o||u)&&(u||(u=A(l,d.blockTag,d.blockAttributes)),k(u,t),o?e.replaceChild(u,i):(e.insertBefore(u,i),n+=1,r+=1),u=null),c(i)&&S(i,t);return u&&e.appendChild(k(u,t)),e}function _(e,t,n,r){var i,o,a,s=e.nodeType;if(s===z&&e!==n)return _(e.parentNode,e.splitText(t),n,r);if(s===H){if("number"==typeof t&&(t=t<e.childNodes.length?e.childNodes[t]:null),e===n)return t;for(i=e.parentNode,o=e.cloneNode(!1);t;)a=t.nextSibling,o.appendChild(t),t=a;return"OL"===e.nodeName&&g(e,r,"BLOCKQUOTE")&&(o.start=(+e.start||1)+e.childNodes.length-1),k(e,r),k(o,r),(a=e.nextSibling)?i.insertBefore(o,a):i.appendChild(o),_(i,o,n,r)}return t}function T(e,t){for(var n,r,i,o=e.childNodes,a=o.length,l=[];a--;)if(n=o[a],r=a&&o[a-1],a&&s(n)&&p(n,r)&&!me[n.nodeName])t.startContainer===n&&(t.startContainer=r,t.startOffset+=C(r)),t.endContainer===n&&(t.endContainer=r,t.endOffset+=C(r)),t.startContainer===e&&(t.startOffset>a?t.startOffset-=1:t.startOffset===a&&(t.startContainer=r,t.startOffset=C(r))),t.endContainer===e&&(t.endOffset>a?t.endOffset-=1:t.endOffset===a&&(t.endContainer=r,t.endOffset=C(r))),w(n),n.nodeType===z?r.appendData(n.data):l.push(I(n));else if(n.nodeType===H){for(i=l.length;i--;)n.appendChild(l.pop());T(n,t)}}function E(e,t){if(e.nodeType===z&&(e=e.parentNode),e.nodeType===H){var n={startContainer:t.startContainer,startOffset:t.startOffset,endContainer:t.endContainer,endOffset:t.endOffset};T(e,n),t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset)}}function O(e){var t=e.nodeName;return"TD"===t||"TH"===t||"TR"===t||"TBODY"===t||"THEAD"===t}function R(e,t,n,r){var i,o,a,s=t;if(!O(e)||!O(t)){for(;(i=s.parentNode)&&i!==r&&i.nodeType===H&&1===i.childNodes.length;)s=i;w(s),a=e.childNodes.length,o=e.lastChild,o&&"BR"===o.nodeName&&(e.removeChild(o),a-=1),e.appendChild(I(t)),n.setStart(e,a),n.collapse(!0),E(e,n),ee&&(o=e.lastChild)&&"BR"===o.nodeName&&e.removeChild(o)}}function N(e,t){var n,r,i=e.previousSibling,o=e.firstChild,a=e.ownerDocument,s="LI"===e.nodeName;if((!s||o&&/^[OU]L$/.test(o.nodeName))&&!O(e))if(i&&p(i,e)&&i.isContentEditable&&e.isContentEditable){if(!c(i)){if(!s)return;r=A(a,"DIV"),r.appendChild(I(i)),i.appendChild(r)}w(e),n=!c(e),i.appendChild(I(e)),n&&S(i,t),o&&N(o,t)}else s&&(i=A(a,"DIV"),e.insertBefore(i,o),k(i,t))}function L(e){this.isShiftDown=e.shiftKey}function D(e,t,n){var r,i;if(e||(e={}),t)for(r in t)!n&&r in e||(i=t[r],e[r]=i&&i.constructor===Object?D(e[r],i,n):i);return e}function B(e,t){e.nodeType===$&&(e=e.body);var n,r=e.ownerDocument,i=r.defaultView;this._win=i,this._doc=r,this._root=e,this._events={},this._isFocused=!1,this._lastSelection=null,se&&this.addEventListener("beforedeactivate",this.getSelection),this._hasZWS=!1,this._lastAnchorNode=null,this._lastFocusNode=null,this._path="",this._willUpdatePath=!1,"onselectionchange"in r?this.addEventListener("selectionchange",this._updatePathOnEvent):(this.addEventListener("keyup",this._updatePathOnEvent),this.addEventListener("mouseup",this._updatePathOnEvent)),this._undoIndex=-1,this._undoStack=[],this._undoStackLength=0,this._isInUndoState=!1,this._ignoreChange=!1,this._ignoreAllChanges=!1,le?(n=new MutationObserver(this._docWasChanged.bind(this)),n.observe(e,{childList:!0,attributes:!0,characterData:!0,subtree:!0}),this._mutation=n):this.addEventListener("keyup",this._keyUpDetectChange),this._restoreSelection=!1,this.addEventListener("blur",M),this.addEventListener("mousedown",P),this.addEventListener("touchstart",P),this.addEventListener("focus",F),this._awaitingPaste=!1,this.addEventListener(Q?"beforecut":"cut",rt),this.addEventListener("copy",it),this.addEventListener("keydown",L),this.addEventListener("keyup",L),this.addEventListener(Q?"beforepaste":"paste",ot),this.addEventListener("drop",at),this.addEventListener(ee?"keypress":"keydown",Pe),this._keyHandlers=Object.create(ze),this.setConfig(t),Q&&(i.Text.prototype.splitText=function(e){var t=this.ownerDocument.createTextNode(this.data.slice(e)),n=this.nextSibling,r=this.parentNode,i=this.length-e;return n?r.insertBefore(t,n):r.appendChild(t),i&&this.deleteData(e,i),t}),e.setAttribute("contenteditable","true");try{r.execCommand("enableObjectResizing",!1,"false"),r.execCommand("enableInlineTableEditing",!1,"false")}catch(e){}e.__squire__=this,this.setHTML("")}function M(){this._restoreSelection=!0}function P(){this._restoreSelection=!1}function F(){this._restoreSelection&&this.setSelection(this._lastSelection)}function j(e,t,n){var r,i;for(r=t.firstChild;r;r=i){if(i=r.nextSibling,s(r)){if(r.nodeType===z||"BR"===r.nodeName||"IMG"===r.nodeName){n.appendChild(r);continue}}else if(l(r)){n.appendChild(e.createDefaultBlock([j(e,r,e._doc.createDocumentFragment())]));continue}j(e,r,n)}return n}var H=1,z=3,$=9,V=11,W=1,K="​",G=t.defaultView,Z=navigator.userAgent,U=/Android/.test(Z),q=/iP(?:ad|hone|od)/.test(Z),X=/Mac OS X/.test(Z),Y=/Windows NT/.test(Z),J=/Gecko\//.test(Z),Q=/Trident\/[456]\./.test(Z),ee=!!G.opera,te=/Edge\//.test(Z),ne=!te&&/WebKit\//.test(Z),re=/Trident\/[4567]\./.test(Z),ie=X?"meta-":"ctrl-",oe=Q||ee,ae=Q||ne,se=Q,le="undefined"!=typeof MutationObserver,ce="undefined"!=typeof WeakMap,ue=/[^ \t\r\n]/,de=Array.prototype.indexOf;Object.create||(Object.create=function(e){var t=function(){};return t.prototype=e,new t});var fe={1:1,2:2,3:4,8:128,9:256,11:1024},he=function(){return!0};r.prototype.nextNode=function(){for(var e,t=this.currentNode,n=this.root,r=this.nodeType,i=this.filter;;){for(e=t.firstChild;!e&&t&&t!==n;)(e=t.nextSibling)||(t=t.parentNode);if(!e)return null;if(fe[e.nodeType]&r&&i(e))return this.currentNode=e,e;t=e}},r.prototype.previousNode=function(){for(var e,t=this.currentNode,n=this.root,r=this.nodeType,i=this.filter;;){if(t===n)return null;if(e=t.previousSibling)for(;t=e.lastChild;)e=t;else e=t.parentNode;if(!e)return null;if(fe[e.nodeType]&r&&i(e))return this.currentNode=e,e;t=e}},r.prototype.previousPONode=function(){for(var e,t=this.currentNode,n=this.root,r=this.nodeType,i=this.filter;;){for(e=t.lastChild;!e&&t&&t!==n;)(e=t.previousSibling)||(t=t.parentNode);if(!e)return null;if(fe[e.nodeType]&r&&i(e))return this.currentNode=e,e;t=e}};var pe=/^(?:#text|A(?:BBR|CRONYM)?|B(?:R|D[IO])?|C(?:ITE|ODE)|D(?:ATA|EL|FN)|EM|FONT|I(?:FRAME|MG|NPUT|NS)?|KBD|Q|R(?:P|T|UBY)|S(?:AMP|MALL|PAN|TR(?:IKE|ONG)|U[BP])?|TIME|U|VAR|WBR)$/,me={BR:1,HR:1,IFRAME:1,IMG:1,INPUT:1},ge=0,ve=1,be=2,ye=3,Ce=ce?new WeakMap:null,we=function(e,t){for(var n=e.childNodes;t&&e.nodeType===H;)e=n[t-1],n=e.childNodes,t=n.length;return e},xe=function(e,t){if(e.nodeType===H){var n=e.childNodes;if(t<n.length)e=n[t];else{for(;e&&!e.nextSibling;)e=e.parentNode;e&&(e=e.nextSibling)}}return e},Ie=function(e,t){var n,r,i,o,a=e.startContainer,s=e.startOffset,l=e.endContainer,c=e.endOffset;a.nodeType===z?(n=a.parentNode,r=n.childNodes,s===a.length?(s=de.call(r,a)+1,e.collapsed&&(l=n,c=s)):(s&&(o=a.splitText(s),l===a?(c-=s,l=o):l===n&&(c+=1),a=o),s=de.call(r,a)),a=n):r=a.childNodes,i=r.length,s===i?a.appendChild(t):a.insertBefore(t,r[s]),a===l&&(c+=r.length-i),e.setStart(a,s),e.setEnd(l,c)},Ae=function(e,t,n){var r=e.startContainer,i=e.startOffset,o=e.endContainer,a=e.endOffset;t||(t=e.commonAncestorContainer),t.nodeType===z&&(t=t.parentNode);for(var s,l,c,u,d,f=_(o,a,t,n),h=_(r,i,t,n),p=t.ownerDocument.createDocumentFragment();h!==f;)s=h.nextSibling,p.appendChild(h),h=s;return r=t,i=f?de.call(t.childNodes,f):t.childNodes.length,c=t.childNodes[i],l=c&&c.previousSibling,l&&l.nodeType===z&&c.nodeType===z&&(r=l,i=l.length,u=l.data,d=c.data," "===u.charAt(u.length-1)&&" "===d.charAt(0)&&(d=" "+d.slice(1)),l.appendData(d),w(c)),e.setStart(r,i),e.collapse(!0),k(t,n),p},ke=function(e,t){var n,r,i=Oe(e,t),o=Re(e,t),a=i!==o;return Te(e),Ee(e,i,o,t),n=Ae(e,null,t),Te(e),a&&(o=Re(e,t),i&&o&&i!==o&&R(i,o,e,t)),i&&k(i,t),r=t.firstChild,r&&"BR"!==r.nodeName?e.collapse(!0):(k(t,t),e.selectNodeContents(t.firstChild)),n},Se=function(e,t,n){var r,i,o,a,l,u,h,p,m,b;for(S(t,n),r=t;r=f(r,n);)k(r,n);if(e.collapsed||ke(e,n),Te(e),e.collapse(!1),a=g(e.endContainer,n,"BLOCKQUOTE")||n,i=Oe(e,n),h=f(t,t),i&&h&&!v(h,t,/PRE|TABLE|H[1-6]|OL|UL|BLOCKQUOTE/)){if(Ee(e,i,i,n),e.collapse(!0),l=e.endContainer,u=e.endOffset,tt(i,n,!1),s(l)&&(p=_(l,u,d(l,n),n),l=p.parentNode,u=de.call(l.childNodes,p)),u!==C(l))for(o=n.ownerDocument.createDocumentFragment();r=l.childNodes[u];)o.appendChild(r);R(l,h,e,n),u=de.call(l.parentNode.childNodes,l)+1,l=l.parentNode,e.setEnd(l,u)}C(t)&&(Ee(e,a,a,n),p=_(e.endContainer,e.endOffset,a,n),m=p?p.previousSibling:a.lastChild,a.insertBefore(t,p),p?e.setEndBefore(p):e.setEnd(a,C(a)),i=Re(e,n),Te(e),l=e.endContainer,u=e.endOffset,p&&c(p)&&N(p,n),p=m&&m.nextSibling,p&&c(p)&&N(p,n),e.setEnd(l,u)),o&&(b=e.cloneRange(),R(i,o,b,n),e.setEnd(b.endContainer,b.endOffset)),Te(e)},_e=function(e,t,n){var r=t.ownerDocument.createRange();if(r.selectNode(t),n){var i=e.compareBoundaryPoints(3,r)>-1,o=e.compareBoundaryPoints(1,r)<1;return!i&&!o}var a=e.compareBoundaryPoints(0,r)<1,s=e.compareBoundaryPoints(2,r)>-1;return a&&s},Te=function(e){for(var t,n=e.startContainer,r=e.startOffset,i=e.endContainer,a=e.endOffset,s=!0;n.nodeType!==z&&(t=n.childNodes[r])&&!o(t);)n=t,r=0;if(a)for(;i.nodeType!==z;){if(!(t=i.childNodes[a-1])||o(t)){if(s&&t&&"BR"===t.nodeName){a-=1,s=!1;continue}break}i=t,a=C(i)}else for(;i.nodeType!==z&&(t=i.firstChild)&&!o(t);)i=t;e.collapsed?(e.setStart(i,a),e.setEnd(n,r)):(e.setStart(n,r),e.setEnd(i,a))},Ee=function(e,t,n,r){var i,o=e.startContainer,a=e.startOffset,s=e.endContainer,l=e.endOffset,c=!0;for(t||(t=e.commonAncestorContainer),n||(n=t);!a&&o!==t&&o!==r;)i=o.parentNode,a=de.call(i.childNodes,o),o=i;for(;;){if(c&&s.nodeType!==z&&s.childNodes[l]&&"BR"===s.childNodes[l].nodeName&&(l+=1,c=!1),s===n||s===r||l!==C(s))break;i=s.parentNode,l=de.call(i.childNodes,s)+1,s=i}e.setStart(o,a),e.setEnd(s,l)},Oe=function(e,t){var n,r=e.startContainer;return s(r)?n=d(r,t):r!==t&&l(r)?n=r:(n=we(r,e.startOffset),n=f(n,t)),n&&_e(e,n,!0)?n:null},Re=function(e,t){var n,r,i=e.endContainer;if(s(i))n=d(i,t);else if(i!==t&&l(i))n=i;else{if(!(n=xe(i,e.endOffset))||!b(t,n))for(n=t;r=n.lastChild;)n=r;n=d(n,t)}return n&&_e(e,n,!0)?n:null},Ne=new r(null,4|W,(function(e){return e.nodeType===z?ue.test(e.data):"IMG"===e.nodeName})),Le=function(e,t){var n,r=e.startContainer,i=e.startOffset;if(Ne.root=null,r.nodeType===z){if(i)return!1;n=r}else if(n=xe(r,i),n&&!b(t,n)&&(n=null),!n&&(n=we(r,i),n.nodeType===z&&n.length))return!1;return Ne.currentNode=n,Ne.root=Oe(e,t),!Ne.previousNode()},De=function(e,t){var n,r=e.endContainer,i=e.endOffset;if(Ne.root=null,r.nodeType===z){if((n=r.data.length)&&i<n)return!1;Ne.currentNode=r}else Ne.currentNode=we(r,i);return Ne.root=Re(e,t),!Ne.nextNode()},Be=function(e,t){var n,r=Oe(e,t),i=Re(e,t);r&&i&&(n=r.parentNode,e.setStart(n,de.call(n.childNodes,r)),n=i.parentNode,e.setEnd(n,de.call(n.childNodes,i)+1))},Me={8:"backspace",9:"tab",13:"enter",32:"space",33:"pageup",34:"pagedown",37:"left",39:"right",46:"delete",219:"[",221:"]"},Pe=function(e){var t=e.keyCode,n=Me[t],r="",i=this.getSelection();e.defaultPrevented||(n||(n=String.fromCharCode(t).toLowerCase(),/^[A-Za-z0-9]$/.test(n)||(n="")),ee&&46===e.which&&(n="."),111<t&&t<124&&(n="f"+(t-111)),"backspace"!==n&&"delete"!==n&&(e.altKey&&(r+="alt-"),e.ctrlKey&&(r+="ctrl-"),e.metaKey&&(r+="meta-")),e.shiftKey&&(r+="shift-"),n=r+n,this._keyHandlers[n]?this._keyHandlers[n](this,e,i):i.collapsed||e.isComposing||e.ctrlKey||e.metaKey||1!==(re?n:e.key||n).length||(this.saveUndoState(i),ke(i,this._root),this._ensureBottomLine(),this.setSelection(i),this._updatePath(i,!0)))},Fe=function(e){return function(t,n){n.preventDefault(),t[e]()}},je=function(e,t){return t=t||null,function(n,r){r.preventDefault();var i=n.getSelection();n.hasFormat(e,null,i)?n.changeFormat(null,{tag:e},i):n.changeFormat({tag:e},t,i)}},He=function(e,t){try{t||(t=e.getSelection());var n,r=t.startContainer;for(r.nodeType===z&&(r=r.parentNode),n=r;s(n)&&(!n.textContent||n.textContent===K);)r=n,n=r.parentNode;r!==n&&(t.setStart(n,de.call(n.childNodes,r)),t.collapse(!0),n.removeChild(r),l(n)||(n=d(n,e._root)),k(n,e._root),Te(t)),r===e._root&&(r=r.firstChild)&&"BR"===r.nodeName&&w(r),e._ensureBottomLine(),e.setSelection(t),e._updatePath(t,!0)}catch(t){e.didError(t)}},ze={enter:function(e,t,n){var r,i,o,a,s,l=e._root;if(t.preventDefault(),e._recordUndoState(n),g(n.startContainer,l,"PRE",{"data-te-codeblock":""})||It(n.startContainer,l,e),e._removeZWS(),e._getRangeAndRemoveBookmark(n),n.collapsed||ke(n,l),(r=Oe(n,l))&&(i=g(r,l,"PRE")))return Te(n),o=n.startContainer,a=n.startOffset,o.nodeType!==z&&(o=e._doc.createTextNode(""),i.insertBefore(o,i.firstChild)),t.shiftKey||"\n"!==o.data.charAt(a-1)&&!Le(n,l)||"\n"!==o.data.charAt(a)&&!De(n,l)?(o.insertData(a,"\n"),k(i,l),o.length===a+1?n.setStartAfter(o):n.setStart(o,a+1)):(o.deleteData(a&&a-1,a?2:1),s=_(o,a&&a-1,l,l),o=s.previousSibling,o.textContent||w(o),o=e.createDefaultBlock(),s.parentNode.insertBefore(o,s),s.textContent||w(s),n.setStart(o,0)),n.collapse(!0),e.setSelection(n),e._updatePath(n,!0),void e._docWasChanged();if(!r||t.shiftKey||/^T[HD]$/.test(r.nodeName))return i=g(n.endContainer,l,"A"),i&&(i=i.parentNode,Ee(n,i,i,l),n.collapse(!1)),Ie(n,e.createElement("BR")),n.collapse(!1),e.setSelection(n),void e._updatePath(n,!0);if((i=g(r,l,"LI"))&&(r=i),h(r)){if(g(r,l,"UL")||g(r,l,"OL"))return e.decreaseListLevel(n);if(g(r,l,"BLOCKQUOTE"))return e.modifyBlocks(vt,n)}for(s=pt(e,r,n.startContainer,n.startOffset),dt(r),Je(r),k(r,l);s.nodeType===H;){var c,u=s.firstChild;if("A"===s.nodeName&&(!s.textContent||s.textContent===K)){u=e._doc.createTextNode(""),x(s,u),s=u;break}for(;u&&u.nodeType===z&&!u.data&&(c=u.nextSibling)&&"BR"!==c.nodeName;)w(u),u=c;if(!u||"BR"===u.nodeName||u.nodeType===z&&!ee)break;s=u}n=e.createRange(s,0),e.setSelection(n),e._updatePath(n,!0)},"shift-enter":function(e,t,n){return e._keyHandlers.enter(e,t,n)},backspace:function(e,t,n){var r=e._root;if(e._removeZWS(),e.saveUndoState(n),n.collapsed)if(Le(n,r)){t.preventDefault();var i,o=Oe(n,r);if(!o)return;if(S(o.parentNode,r),i=d(o,r)){if(!i.isContentEditable){for(;!i.parentNode.isContentEditable;)i=i.parentNode;return void w(i)}for(R(i,o,n,r),o=i.parentNode;o!==r&&!o.nextSibling;)o=o.parentNode;o!==r&&(o=o.nextSibling)&&N(o,r),e.setSelection(n)}else if(o){if(g(o,r,"UL")||g(o,r,"OL"))return e.decreaseListLevel(n);if(g(o,r,"BLOCKQUOTE"))return e.modifyBlocks(gt,n);e.setSelection(n),e._updatePath(n,!0)}}else e.setSelection(n),setTimeout((function(){He(e)}),0);else t.preventDefault(),ke(n,r),He(e,n)},delete:function(e,t,n){var r,i,o,a,s,l,c=e._root;if(e._removeZWS(),e.saveUndoState(n),n.collapsed)if(De(n,c)){if(t.preventDefault(),!(r=Oe(n,c)))return;if(S(r.parentNode,c),i=f(r,c)){if(!i.isContentEditable){for(;!i.parentNode.isContentEditable;)i=i.parentNode;return void w(i)}for(R(r,i,n,c),i=r.parentNode;i!==c&&!i.nextSibling;)i=i.parentNode;i!==c&&(i=i.nextSibling)&&N(i,c),e.setSelection(n),e._updatePath(n,!0)}}else{if(o=n.cloneRange(),Ee(n,c,c,c),a=n.endContainer,s=n.endOffset,a.nodeType===H&&(l=a.childNodes[s])&&"IMG"===l.nodeName)return t.preventDefault(),w(l),Te(n),void He(e,n);e.setSelection(o),setTimeout((function(){He(e)}),0)}else t.preventDefault(),ke(n,c),He(e,n)},tab:function(e,t,n){var r,i,o=e._root;if(e._removeZWS(),n.collapsed&&Le(n,o))for(r=Oe(n,o);i=r.parentNode;){if("UL"===i.nodeName||"OL"===i.nodeName){t.preventDefault(),e.increaseListLevel(n);break}r=i}},"shift-tab":function(e,t,n){var r,i=e._root;e._removeZWS(),n.collapsed&&Le(n,i)&&(r=n.startContainer,(g(r,i,"UL")||g(r,i,"OL"))&&(t.preventDefault(),e.decreaseListLevel(n)))},space:function(e,t,n){var r,i=e._root;if(e._recordUndoState(n),It(n.startContainer,i,e),e._getRangeAndRemoveBookmark(n),r=n.endContainer,n.collapsed&&n.endOffset===C(r))do{if("A"===r.nodeName){n.setStartAfter(r);break}}while(!r.nextSibling&&(r=r.parentNode)&&r!==i);n.collapsed||(ke(n,i),e._ensureBottomLine(),e.setSelection(n),e._updatePath(n,!0)),e.setSelection(n)},left:function(e){e._removeZWS()},right:function(e){e._removeZWS()}};X&&J&&(ze["meta-left"]=function(e,t){t.preventDefault();var n=ut(e);n&&n.modify&&n.modify("move","backward","lineboundary")},ze["meta-right"]=function(e,t){t.preventDefault();var n=ut(e);n&&n.modify&&n.modify("move","forward","lineboundary")}),X||(ze.pageup=function(e){e.moveCursorToStart()},ze.pagedown=function(e){e.moveCursorToEnd()}),ze[ie+"b"]=je("B"),ze[ie+"i"]=je("I"),ze[ie+"u"]=je("U"),ze[ie+"shift-7"]=je("S"),ze[ie+"shift-5"]=je("SUB",{tag:"SUP"}),ze[ie+"shift-6"]=je("SUP",{tag:"SUB"}),ze[ie+"shift-8"]=Fe("makeUnorderedList"),ze[ie+"shift-9"]=Fe("makeOrderedList"),ze[ie+"["]=Fe("decreaseQuoteLevel"),ze[ie+"]"]=Fe("increaseQuoteLevel"),ze[ie+"d"]=Fe("toggleCode"),ze[ie+"y"]=Fe("redo"),ze[ie+"z"]=Fe("undo"),ze[ie+"shift-z"]=Fe("redo");var $e={1:10,2:13,3:16,4:18,5:24,6:32,7:48},Ve={backgroundColor:{regexp:ue,replace:function(e,t,n){return A(e,"SPAN",{class:t.highlight,style:"background-color:"+n})}},color:{regexp:ue,replace:function(e,t,n){return A(e,"SPAN",{class:t.colour,style:"color:"+n})}},fontWeight:{regexp:/^bold|^700/i,replace:function(e){return A(e,"B")}},fontStyle:{regexp:/^italic/i,replace:function(e){return A(e,"I")}},fontFamily:{regexp:ue,replace:function(e,t,n){return A(e,"SPAN",{class:t.fontFamily,style:"font-family:"+n})}},fontSize:{regexp:ue,replace:function(e,t,n){return A(e,"SPAN",{class:t.fontSize,style:"font-size:"+n})}},textDecoration:{regexp:/^underline/i,replace:function(e){return A(e,"U")}}},We=function(e){return function(t,n){var r=A(t.ownerDocument,e);return n.replaceChild(r,t),r.appendChild(I(t)),r}},Ke=function(e,t,n){var r,i,o,a,s,l,c=e.style,u=e.ownerDocument;for(r in Ve)i=Ve[r],(o=c[r])&&i.regexp.test(o)&&(l=i.replace(u,n.classNames,o),s||(s=l),a&&a.appendChild(l),a=l,e.style[r]="");return s&&(a.appendChild(I(e)),"SPAN"===e.nodeName?t.replaceChild(s,e):e.appendChild(s)),a||e},Ge={P:Ke,SPAN:Ke,STRONG:We("B"),EM:We("I"),INS:We("U"),STRIKE:We("S"),FONT:function(e,t,n){var r,i,o,a,s,l=e.face,c=e.size,u=e.color,d=e.ownerDocument,f=n.classNames;return l&&(r=A(d,"SPAN",{class:f.fontFamily,style:"font-family:"+l}),s=r,a=r),c&&(i=A(d,"SPAN",{class:f.fontSize,style:"font-size:"+$e[c]+"px"}),s||(s=i),a&&a.appendChild(i),a=i),u&&/^#?([\dA-F]{3}){1,2}$/i.test(u)&&("#"!==u.charAt(0)&&(u="#"+u),o=A(d,"SPAN",{class:f.colour,style:"color:"+u}),s||(s=o),a&&a.appendChild(o),a=o),s||(s=a=A(d,"SPAN")),t.replaceChild(s,e),a.appendChild(I(e)),a},TT:function(e,t,n){var r=A(e.ownerDocument,"SPAN",{class:n.classNames.fontFamily,style:'font-family:menlo,consolas,"courier new",monospace'});return t.replaceChild(r,e),r.appendChild(I(e)),r}},Ze=/^(?:A(?:DDRESS|RTICLE|SIDE|UDIO)|BLOCKQUOTE|CAPTION|D(?:[DLT]|IV)|F(?:IGURE|IGCAPTION|OOTER)|H[1-6]|HEADER|HR|L(?:ABEL|EGEND|I)|O(?:L|UTPUT)|P(?:RE)?|SECTION|T(?:ABLE|BODY|D|FOOT|H|HEAD|R)|COL(?:GROUP)?|UL)$/,Ue=/^(?:HEAD|META|STYLE)/,qe=new r(null,4|W),Xe=function(e,t){var n,r=t.allowedBlocks,i=!1,o=r.length;if(o){for(n=0;n<o;n+=1)r[n]=r[n].toUpperCase();i=new RegExp(r.join("|")).test(e)}return Ze.test(e)||i},Ye=function e(t,n,r){var i,o,a,l,c,u,d,f,h,p,m,g,v=t.childNodes;for(i=t;s(i);)i=i.parentNode;for(qe.root=i,o=0,a=v.length;o<a;o+=1)if(l=v[o],c=l.nodeName,u=l.nodeType,d=Ge[c],u===H){if(f=l.childNodes.length,d)l=d(l,t,n);else{if(Ue.test(c)){t.removeChild(l),o-=1,a-=1;continue}if(!Xe(c,n)&&!s(l)){o-=1,a+=f-1,t.replaceChild(I(l),l);continue}}f&&e(l,n,r||"PRE"===c)}else{if(u===z){if(m=l.data,h=!ue.test(m.charAt(0)),p=!ue.test(m.charAt(m.length-1)),r||!h&&!p)continue;if(h){for(qe.currentNode=l;(g=qe.previousPONode())&&!("IMG"===(c=g.nodeName)||"#text"===c&&ue.test(g.data));)if(!s(g)){g=null;break}m=m.replace(/^[ \t\r\n]+/g,g?" ":"")}if(p){for(qe.currentNode=l;(g=qe.nextNode())&&!("IMG"===c||"#text"===c&&ue.test(g.data));)if(!s(g)){g=null;break}m=m.replace(/[ \t\r\n]+$/g,g?" ":"")}if(m){l.data=m;continue}}t.removeChild(l),o-=1,a-=1}return t},Je=function e(t){for(var n,r=t.childNodes,i=r.length;i--;)if(n=r[i],n.nodeType!==H||o(n))n.nodeType!==z||n.data||t.removeChild(n);else{e(n);var a="FIGURE"===n.tagName;!s(n)&&!a||n.firstChild||t.removeChild(n)}},Qe=function(e){return e.nodeType===H?"BR"===e.nodeName||"IMG"===e.nodeName:ue.test(e.data)},et=function(e,t){for(var n,i=e.parentNode;s(i);)i=i.parentNode;return n=new r(i,4|W,Qe),n.currentNode=e,!!n.nextNode()||t&&!n.previousNode()},tt=function(e,t,n){var r,i,o,a=e.querySelectorAll("BR"),l=[],c=a.length;for(r=0;r<c;r+=1)l[r]=et(a[r],n);for(;c--;)i=a[c],(o=i.parentNode)&&(l[c]?s(o)||S(o,t):w(i))},nt=function(e,t,n,r){var i,o,a=t.ownerDocument.body,s=r.willCutCopy;tt(t,n,!0),t.setAttribute("style","position:fixed;overflow:hidden;bottom:100%;right:100%;"),a.appendChild(t),i=t.innerHTML,o=t.innerText||t.textContent,s&&(i=s(i)),Y&&(o=o.replace(/\r?\n/g,"\r\n")),e.setData("text/html",i),e.setData("text/plain",o),a.removeChild(t)},rt=function(e){var t,n,r,i,o,a,s,l=e.clipboardData,c=this.getSelection(),u=this._root,d=this;if(c.collapsed)e.preventDefault();else{if(this.saveUndoState(c),te||q||!l)setTimeout((function(){try{d._ensureBottomLine()}catch(e){d.didError(e)}}),0);else{for(t=Oe(c,u),n=Re(c,u),r=t===n&&t||u,i=ke(c,u),o=c.commonAncestorContainer,o.nodeType===z&&(o=o.parentNode);o&&o!==r;)a=o.cloneNode(!1),a.appendChild(i),i=a,o=o.parentNode;s=this.createElement("div"),s.appendChild(i),nt(l,s,u,this._config),e.preventDefault()}this.setSelection(c)}},it=function(e){var t,n,r,i,o,a,s,l=e.clipboardData,c=this.getSelection(),u=this._root;if(!te&&!q&&l){for(t=Oe(c,u),n=Re(c,u),r=t===n&&t||u,c=c.cloneRange(),Te(c),Ee(c,r,r,u),i=c.cloneContents(),o=c.commonAncestorContainer,o.nodeType===z&&(o=o.parentNode);o&&o!==r;)a=o.cloneNode(!1),a.appendChild(i),i=a,o=o.parentNode;s=this.createElement("div"),s.appendChild(i),nt(l,s,u,this._config),e.preventDefault()}},ot=function(e){var t,n,r,i,o,a=e.clipboardData,s=a&&a.items,l=this.isShiftDown,c=!1,u=!1,d=null,f=this;if(te&&s){for(t=s.length;t--;)!l&&/^image\/.*/.test(s[t].type)&&(u=!0);u||(s=null)}if(s){for(e.preventDefault(),t=s.length;t--;){if(n=s[t],r=n.type,!l&&"text/html"===r)return void n.getAsString((function(e){f.insertHTML(e,!0)}));"text/plain"===r&&(d=n),!l&&/^image\/.*/.test(r)&&(u=!0)}u?(this.fireEvent("dragover",{dataTransfer:a,preventDefault:function(){c=!0}}),c&&this.fireEvent("drop",{dataTransfer:a})):d&&d.getAsString((function(e){f.insertPlainText(e,!0)}))}else{if(i=a&&a.types,!te&&i&&(de.call(i,"text/html")>-1||!J&&de.call(i,"text/plain")>-1&&de.call(i,"text/rtf")<0))return e.preventDefault(),void(!l&&(o=a.getData("text/html"))?this.insertHTML(o,!0):((o=a.getData("text/plain"))||(o=a.getData("text/uri-list")))&&this.insertPlainText(o,!0));this._awaitingPaste=!0;var h=this._doc.body,p=this.getSelection(),m=p.startContainer,g=p.startOffset,v=p.endContainer,b=p.endOffset,y=this.createElement("DIV",{contenteditable:"true",style:"position:fixed; overflow:hidden; top:0; right:100%; width:1px; height:1px;"});h.appendChild(y),p.selectNodeContents(y),this.setSelection(p),setTimeout((function(){try{f._awaitingPaste=!1;for(var e,t,n="",r=y;y=r;)r=y.nextSibling,w(y),e=y.firstChild,e&&e===y.lastChild&&"DIV"===e.nodeName&&(y=e),n+=y.innerHTML;t=f.createRange(m,g,v,b),f.setSelection(t),n&&f.insertHTML(n,!0)}catch(e){f.didError(e)}}),0)}},at=function(e){for(var t=e.dataTransfer.types,n=t.length,r=!1,i=!1;n--;)switch(t[n]){case"text/plain":r=!0;break;case"text/html":i=!0;break;default:return}(i||r)&&this.saveUndoState()},st=B.prototype,lt=function(e,t,n){var r=n._doc,i=e?DOMPurify.sanitize(e,{ALLOW_UNKNOWN_PROTOCOLS:!0,WHOLE_DOCUMENT:!1,RETURN_DOM:!0,RETURN_DOM_FRAGMENT:!0}):null;return i?r.importNode(i,!0):r.createDocumentFragment()};st.setConfig=function(e){return e=D({blockTag:"DIV",blockAttributes:null,tagAttributes:{blockquote:null,ul:null,ol:null,li:null,a:null},classNames:{colour:"colour",fontFamily:"font",fontSize:"size",highlight:"highlight"},leafNodeNames:me,undo:{documentSizeThreshold:-1,undoLimit:-1},isInsertedHTMLSanitized:!0,isSetHTMLSanitized:!0,sanitizeToDOMFragment:"undefined"!=typeof DOMPurify&&DOMPurify.isSupported?lt:null,willCutCopy:null,allowedBlocks:[]},e,!0),e.blockTag=e.blockTag.toUpperCase(),this._config=e,this},st.createElement=function(e,t,n){return A(this._doc,e,t,n)},st.createDefaultBlock=function(e){var t=this._config;return k(this.createElement(t.blockTag,t.blockAttributes,e),this._root)},st.didError=function(e){},st.getDocument=function(){return this._doc},st.getRoot=function(){return this._root},st.modifyDocument=function(e){var t=this._mutation;t&&(t.takeRecords().length&&this._docWasChanged(),t.disconnect()),this._ignoreAllChanges=!0,e(),this._ignoreAllChanges=!1,t&&(t.observe(this._root,{childList:!0,attributes:!0,characterData:!0,subtree:!0}),this._ignoreChange=!1)};var ct={pathChange:1,select:1,input:1,undoStateChange:1};st.fireEvent=function(e,t){var n,r,i,o=this._events[e];if(/^(?:focus|blur)/.test(e))if(n=this._root===this._doc.activeElement,"focus"===e){if(!n||this._isFocused)return this;this._isFocused=!0}else{if(n||!this._isFocused)return this;this._isFocused=!1}if(o)for(t||(t={}),t.type!==e&&(t.type=e),o=o.slice(),r=o.length;r--;){i=o[r];try{i.handleEvent?i.handleEvent(t):i.call(this,t)}catch(t){t.details="Squire: fireEvent error. Event type: "+e,this.didError(t)}}return this},st.destroy=function(){var e,t=this._events;for(e in t)this.removeEventListener(e);this._mutation&&this._mutation.disconnect(),delete this._root.__squire__,this._undoIndex=-1,this._undoStack=[],this._undoStackLength=0},st.handleEvent=function(e){this.fireEvent(e.type,e)},st.addEventListener=function(e,t){var n=this._events[e],r=this._root;return t?(n||(n=this._events[e]=[],ct[e]||("selectionchange"===e&&(r=this._doc),r.addEventListener(e,this,!0))),n.push(t),this):(this.didError({name:"Squire: addEventListener with null or undefined fn",message:"Event type: "+e}),this)},st.removeEventListener=function(e,t){var n,r=this._events[e],i=this._root;if(r){if(t)for(n=r.length;n--;)r[n]===t&&r.splice(n,1);else r.length=0;r.length||(delete this._events[e],ct[e]||("selectionchange"===e&&(i=this._doc),i.removeEventListener(e,this,!0)))}return this},st.createRange=function(e,t,n,r){if(e instanceof this._win.Range)return e.cloneRange();var i=this._doc.createRange();return i.setStart(e,t),n?i.setEnd(n,r):i.setEnd(e,t),i},st.getCursorPosition=function(e){if(!e&&!(e=this.getSelection())||!e.getBoundingClientRect)return null;var t,n,r=e.getBoundingClientRect();return r&&!r.top&&(this._ignoreChange=!0,t=this._doc.createElement("SPAN"),t.textContent=K,Ie(e,t),r=t.getBoundingClientRect(),n=t.parentNode,n.removeChild(t),E(n,e),this._ignoreChange=!1),r},st._moveCursorTo=function(e){var t=this._root,n=this.createRange(t,e?0:t.childNodes.length);return Te(n),this.setSelection(n),this},st.moveCursorToStart=function(){return this._moveCursorTo(!0)},st.moveCursorToEnd=function(){return this._moveCursorTo(!1)};var ut=function(e){return e._win.getSelection()||null};st.setSelection=function(e){if(e)if(this._lastSelection=e,this._isFocused)if(U&&!this._restoreSelection)M.call(this),this.blur(),this.focus();else{q&&this._win.focus();var t=ut(this);t&&(t.removeAllRanges(),t.addRange(e))}else M.call(this);return this},st.getSelection=function(){var e,t,n,r,i=ut(this),a=this._root;return this._isFocused&&i&&i.rangeCount&&(e=i.getRangeAt(0).cloneRange(),t=e.startContainer,n=e.endContainer,t&&o(t)&&e.setStartBefore(t),n&&o(n)&&e.setEndBefore(n)),e&&b(a,e.commonAncestorContainer)?this._lastSelection=e:(e=this._lastSelection,r=e.commonAncestorContainer,b(r.ownerDocument,r)||(e=null)),e||(e=this.createRange(a.firstChild,0)),e},st.getSelectedText=function(){var e=this.getSelection();if(!e||e.collapsed)return"";var t,n=new r(e.commonAncestorContainer,4|W,(function(t){return _e(e,t,!0)})),i=e.startContainer,o=e.endContainer,a=n.currentNode=i,l="",c=!1;for(n.filter(a)||(a=n.nextNode());a;)a.nodeType===z?(t=a.data)&&/\S/.test(t)&&(a===o&&(t=t.slice(0,e.endOffset)),a===i&&(t=t.slice(e.startOffset)),l+=t,c=!0):("BR"===a.nodeName||c&&!s(a))&&(l+="\n",c=!1),a=n.nextNode();return l},st.getPath=function(){return this._path};var dt=function(e,t){for(var n,i,o,a=new r(e,4);i=a.nextNode();)for(;(o=i.data.indexOf(K))>-1&&(!t||i.parentNode!==t);){if(1===i.length){do{n=i.parentNode,n.removeChild(i),i=n,a.currentNode=n}while(s(i)&&!C(i));break}i.deleteData(o,1)}};st._didAddZWS=function(){this._hasZWS=!0},st._removeZWS=function(){this._hasZWS&&(dt(this._root),this._hasZWS=!1)},st._updatePath=function(e,t){if(e){var n,r=e.startContainer,i=e.endContainer;(t||r!==this._lastAnchorNode||i!==this._lastFocusNode)&&(this._lastAnchorNode=r,this._lastFocusNode=i,n=r&&i?r===i?y(i,this._root,this._config):"(selection)":"",this._path!==n&&(this._path=n,this.fireEvent("pathChange",{path:n}))),this.fireEvent(e.collapsed?"cursor":"select",{range:e})}},st._updatePathOnEvent=function(e){var t=this;t._isFocused&&!t._willUpdatePath&&(t._willUpdatePath=!0,setTimeout((function(){t._willUpdatePath=!1,t._updatePath(t.getSelection())}),0))},st.focus=function(){if(re){try{this._root.setActive()}catch(t){}this.fireEvent("focus")}else this._root.focus();return this},st.blur=function(){return this._root.blur(),re&&this.fireEvent("blur"),this};var ft="squire-selection-end";st._saveRangeToBookmark=function(e){var t,n=this.createElement("INPUT",{id:"squire-selection-start",type:"hidden"}),r=this.createElement("INPUT",{id:ft,type:"hidden"});Ie(e,n),e.collapse(!1),Ie(e,r),2&n.compareDocumentPosition(r)&&(n.id=ft,r.id="squire-selection-start",t=n,n=r,r=t),e.setStartAfter(n),e.setEndBefore(r)},st._getRangeAndRemoveBookmark=function(e){var t=this._root,n=t.querySelector("#squire-selection-start"),r=t.querySelector("#"+ft);if(n&&r){var i=n.parentNode,o=r.parentNode,a=de.call(i.childNodes,n),s=de.call(o.childNodes,r);i===o&&(s-=1),w(n),w(r),e||(e=this._doc.createRange()),e.setStart(i,a),e.setEnd(o,s),E(i,e),i!==o&&E(o,e),e.collapsed&&(i=e.startContainer,i.nodeType===z&&(o=i.childNodes[e.startOffset],o&&o.nodeType===z||(o=i.childNodes[e.startOffset-1]),o&&o.nodeType===z&&(e.setStart(o,0),e.collapse(!0))))}return e||null},st._keyUpDetectChange=function(e){var t=e.keyCode;e.ctrlKey||e.metaKey||e.altKey||!(t<16||t>20)||!(t<33||t>45)||this._docWasChanged()},st._docWasChanged=function(){if(ce&&(Ce=new WeakMap),!this._ignoreAllChanges){if(le&&this._ignoreChange)return void(this._ignoreChange=!1);this._isInUndoState&&(this._isInUndoState=!1,this.fireEvent("undoStateChange",{canUndo:!0,canRedo:!1})),this.fireEvent("input")}},st._recordUndoState=function(e,t){if(!this._isInUndoState||t){var n,r=this._undoIndex,i=this._undoStack,o=this._config.undo,a=o.documentSizeThreshold,s=o.undoLimit;t||(r+=1),r<this._undoStackLength&&(i.length=this._undoStackLength=r),e&&this._saveRangeToBookmark(e),n=this._getHTML(),a>-1&&2*n.length>a&&s>-1&&r>s&&(i.splice(0,r-s),r=s,this._undoStackLength=s),i[r]=n,this._undoIndex=r,this._undoStackLength+=1,this._isInUndoState=!0}},st.saveUndoState=function(e){return e===n&&(e=this.getSelection()),this._recordUndoState(e,this._isInUndoState),this._getRangeAndRemoveBookmark(e),this},st.undo=function(){if(0!==this._undoIndex||!this._isInUndoState){this._recordUndoState(this.getSelection(),!1),this._undoIndex-=1,this._setHTML(this._undoStack[this._undoIndex]);var e=this._getRangeAndRemoveBookmark();e&&this.setSelection(e),this._isInUndoState=!0,this.fireEvent("undoStateChange",{canUndo:0!==this._undoIndex,canRedo:!0}),this.fireEvent("input")}return this},st.redo=function(){var e=this._undoIndex,t=this._undoStackLength;if(e+1<t&&this._isInUndoState){this._undoIndex+=1,this._setHTML(this._undoStack[this._undoIndex]);var n=this._getRangeAndRemoveBookmark();n&&this.setSelection(n),this.fireEvent("undoStateChange",{canUndo:!0,canRedo:e+2<t}),this.fireEvent("input")}return this},st.hasFormat=function(e,t,n){if(e=e.toUpperCase(),t||(t={}),!n&&!(n=this.getSelection()))return!1;!n.collapsed&&n.startContainer.nodeType===z&&n.startOffset===n.startContainer.length&&n.startContainer.nextSibling&&n.setStartBefore(n.startContainer.nextSibling),!n.collapsed&&n.endContainer.nodeType===z&&0===n.endOffset&&n.endContainer.previousSibling&&n.setEndAfter(n.endContainer.previousSibling);var i,o,a=this._root,s=n.commonAncestorContainer;if(g(s,a,e,t))return!0;if(s.nodeType===z)return!1;i=new r(s,4,(function(e){return _e(n,e,!0)}));for(var l=!1;o=i.nextNode();){if(!g(o,a,e,t))return!1;l=!0}return l},st.getFontInfo=function(e){var t,r,i,o={color:n,backgroundColor:n,family:n,size:n},a=0;if(!e&&!(e=this.getSelection()))return o;if(t=e.commonAncestorContainer,e.collapsed||t.nodeType===z)for(t.nodeType===z&&(t=t.parentNode);a<4&&t;)(r=t.style)&&(!o.color&&(i=r.color)&&(o.color=i,a+=1),!o.backgroundColor&&(i=r.backgroundColor)&&(o.backgroundColor=i,a+=1),!o.family&&(i=r.fontFamily)&&(o.family=i,a+=1),!o.size&&(i=r.fontSize)&&(o.size=i,a+=1)),t=t.parentNode;return o},st._addFormat=function(e,t,n){var i,o,a,l,c,u,d,f,h=this._root;if(n.collapsed){for(i=k(this.createElement(e,t),h),Ie(n,i),n.setStart(i.firstChild,i.firstChild.length),n.collapse(!0),f=i;s(f);)f=f.parentNode;dt(f,i)}else{if(o=new r(n.commonAncestorContainer,4|W,(function(e){return(e.nodeType===z||"BR"===e.nodeName||"IMG"===e.nodeName)&&_e(n,e,!0)})),a=n.startContainer,c=n.startOffset,l=n.endContainer,u=n.endOffset,o.currentNode=a,o.filter(a)||(a=o.nextNode(),c=0),!a)return n;do{d=o.currentNode,!g(d,h,e,t)&&(d===l&&d.length>u&&d.splitText(u),d===a&&c&&(d=d.splitText(c),l===a&&(l=d,u-=c),a=d,c=0),i=this.createElement(e,t),x(d,i),i.appendChild(d))}while(o.nextNode());l.nodeType!==z&&(d.nodeType===z?(l=d,u=d.length):(l=d.parentNode,u=1)),n=this.createRange(a,c,l,u)}return n},st._removeFormat=function(e,t,n,r){this._saveRangeToBookmark(n);var i,o=this._doc;n.collapsed&&(ae?(i=o.createTextNode(K),this._didAddZWS()):i=o.createTextNode(""),Ie(n,i));for(var a=n.commonAncestorContainer;s(a);)a=a.parentNode;var l=n.startContainer,c=n.startOffset,u=n.endContainer,d=n.endOffset,f=[],h=function(e,t){if(!_e(n,e,!1)){var r,i,o=e.nodeType===z;if(!_e(n,e,!0))return void("INPUT"===e.nodeName||o&&!e.data||f.push([t,e]));if(o)e===u&&d!==e.length&&f.push([t,e.splitText(d)]),e===l&&c&&(e.splitText(c),f.push([t,e]));else for(r=e.firstChild;r;r=i)i=r.nextSibling,h(r,t)}},p=Array.prototype.filter.call(a.getElementsByTagName(e),(function(r){return _e(n,r,!0)&&m(r,e,t)}));return r||p.forEach((function(e){h(e,e)})),f.forEach((function(e){var t=e[0].cloneNode(!1),n=e[1];x(n,t),t.appendChild(n)})),p.forEach((function(e){x(e,I(e))})),this._getRangeAndRemoveBookmark(n),i&&n.collapse(!1),E(a,n),n},st.changeFormat=function(e,t,n,r){return n||(n=this.getSelection())?(this.saveUndoState(n),t&&(n=this._removeFormat(t.tag.toUpperCase(),t.attributes||{},n,r)),e&&(n=this._addFormat(e.tag.toUpperCase(),e.attributes||{},n)),this.setSelection(n),this._updatePath(n,!0),le||this._docWasChanged(),this):this};var ht={DT:"DD",DD:"DT",LI:"LI",PRE:"PRE"},pt=function(e,t,n,r){var i=ht[t.nodeName],o=null,a=_(n,r,t.parentNode,e._root),s=e._config;return i||(i=s.blockTag,o=s.blockAttributes),m(a,i,o)||(t=A(a.ownerDocument,i,o),a.dir&&(t.dir=a.dir),x(a,t),t.appendChild(I(a)),a=t),a};st.forEachBlock=function(e,t,n){if(!n&&!(n=this.getSelection()))return this;t&&this.saveUndoState(n);var r=this._root,i=Oe(n,r),o=Re(n,r);if(i&&o)do{if(e(i)||i===o)break}while(i=f(i,r));return t&&(this.setSelection(n),this._updatePath(n,!0),le||this._docWasChanged()),this},st.modifyBlocks=function(e,t){if(!t&&!(t=this.getSelection()))return this;this._recordUndoState(t,this._isInUndoState);var n,r=this._root;return Be(t,r),Ee(t,r,r,r),n=Ae(t,r,r),Ie(t,e.call(this,n)),t.endOffset<t.endContainer.childNodes.length&&N(t.endContainer.childNodes[t.endOffset],r),N(t.startContainer.childNodes[t.startOffset],r),this._getRangeAndRemoveBookmark(t),this.setSelection(t),this._updatePath(t,!0),le||this._docWasChanged(),this};var mt=function(e){return this.createElement("BLOCKQUOTE",this._config.tagAttributes.blockquote,[e])},gt=function(e){var t=this._root,n=e.querySelectorAll("blockquote");return Array.prototype.filter.call(n,(function(e){return!g(e.parentNode,t,"BLOCKQUOTE")})).forEach((function(e){x(e,I(e))})),e},vt=function(){return this.createDefaultBlock([this.createElement("INPUT",{id:"squire-selection-start",type:"hidden"}),this.createElement("INPUT",{id:ft,type:"hidden"})])},bt=function(e,t,n){for(var r,i,o,a,s=u(t,e._root),l=e._config.tagAttributes,c=l[n.toLowerCase()],d=l.li;r=s.nextNode();)"LI"===r.parentNode.nodeName&&(r=r.parentNode,s.currentNode=r.lastChild),"LI"!==r.nodeName?(a=e.createElement("LI",d),r.dir&&(a.dir=r.dir),(o=r.previousSibling)&&o.nodeName===n?(o.appendChild(a),w(r)):x(r,e.createElement(n,c,[a])),a.appendChild(I(r)),s.currentNode=a):(r=r.parentNode,(i=r.nodeName)!==n&&/^[OU]L$/.test(i)&&x(r,e.createElement(n,c,[I(r)])))},yt=function(e){return bt(this,e,"UL"),e},Ct=function(e){return bt(this,e,"OL"),e},wt=function(e){var t,n,r,i,o,a=e.querySelectorAll("UL, OL"),s=e.querySelectorAll("LI"),c=this._root;for(t=0,n=a.length;t<n;t+=1)r=a[t],i=I(r),S(i,c),x(r,i);for(t=0,n=s.length;t<n;t+=1)o=s[t],l(o)?x(o,this.createDefaultBlock([I(o)])):(S(o,c),x(o,I(o)));return e},xt=function(e,t){for(var n=e.commonAncestorContainer,r=e.startContainer,i=e.endContainer;n&&n!==t&&!/^[OU]L$/.test(n.nodeName);)n=n.parentNode;if(!n||n===t)return null;for(r===n&&(r=r.childNodes[e.startOffset]),i===n&&(i=i.childNodes[e.endOffset]);r&&r.parentNode!==n;)r=r.parentNode;for(;i&&i.parentNode!==n;)i=i.parentNode;return[n,r,i]};st.increaseListLevel=function(e){if(!e&&!(e=this.getSelection()))return this.focus();var t=this._root,n=xt(e,t);if(!n)return this.focus();var r=n[0],i=n[1],o=n[2];if(!i||i===r.firstChild)return this.focus();this._recordUndoState(e,this._isInUndoState);var a,s,l=r.nodeName,c=i.previousSibling;c.nodeName!==l&&(a=this._config.tagAttributes[l.toLowerCase()],c=this.createElement(l,a),r.insertBefore(c,i));do{s=i===o?null:i.nextSibling,c.appendChild(i)}while(i=s);return s=c.nextSibling,s&&N(s,t),this._getRangeAndRemoveBookmark(e),this.setSelection(e),this._updatePath(e,!0),le||this._docWasChanged(),this.focus()},st.decreaseListLevel=function(e){if(!e&&!(e=this.getSelection()))return this.focus();var t=this._root,n=xt(e,t);if(!n)return this.focus();var r=n[0],i=n[1],o=n[2];i||(i=r.firstChild),o||(o=r.lastChild),this._recordUndoState(e,this._isInUndoState);var a,s=r.parentNode,l=o.nextSibling?_(r,o.nextSibling,s,t):r.nextSibling;if(s!==t&&"LI"===s.nodeName){for(s=s.parentNode;l;)a=l.nextSibling,o.appendChild(l),l=a;l=r.parentNode.nextSibling}var c=!/^[OU]L$/.test(s.nodeName);do{a=i===o?null:i.nextSibling,r.removeChild(i),c&&"LI"===i.nodeName&&(i=this.createDefaultBlock([I(i)])),s.insertBefore(i,l)}while(i=a);return r.firstChild||w(r),l&&N(l,t),this._getRangeAndRemoveBookmark(e),this.setSelection(e),this._updatePath(e,!0),le||this._docWasChanged(),this.focus()},st._ensureBottomLine=function(){var e=this._root,t=e.lastElementChild;t&&t.nodeName===this._config.blockTag&&l(t)||e.appendChild(this.createDefaultBlock())},st.setKeyHandler=function(e,t){return this._keyHandlers[e]=t,this},st._getHTML=function(){return this._root.innerHTML},st._setHTML=function(e){var t=this._root,n=t;n.innerHTML=e;do{k(n,t)}while(n=f(n,t));this._ignoreChange=!0},st.getHTML=function(e){var t,n,r,i,o,a,s=[];if(e&&(a=this.getSelection())&&this._saveRangeToBookmark(a),oe)for(t=this._root,n=t;n=f(n,t);)n.textContent||n.querySelector("BR")||(r=this.createElement("BR"),n.appendChild(r),s.push(r));if(i=this._getHTML().replace(/\u200B/g,""),oe)for(o=s.length;o--;)w(s[o]);return a&&this._getRangeAndRemoveBookmark(a),i},st.setHTML=function(e){var t,n,r,i=this._config,o=i.isSetHTMLSanitized?i.sanitizeToDOMFragment:null,a=this._root;"function"==typeof o?n=o(e,!1,this):(t=this.createElement("DIV"),t.innerHTML=e,n=this._doc.createDocumentFragment(),n.appendChild(I(t))),Ye(n,i),tt(n,a,!1),S(n,a);for(var s=n;s=f(s,a);)k(s,a);for(this._ignoreChange=!0;r=a.lastChild;)a.removeChild(r);a.appendChild(n),k(a,a),this._undoIndex=-1,this._undoStack.length=0,this._undoStackLength=0,this._isInUndoState=!1;var l=this._getRangeAndRemoveBookmark()||this.createRange(a.firstChild,0);return this.saveUndoState(l),this._lastSelection=l,M.call(this),this._updatePath(l,!0),this},st.insertElement=function(e,t){if(t||(t=this.getSelection()),t.collapse(!0),s(e))Ie(t,e),t.setStartAfter(e);else{for(var n,r,i=this._root,o=Oe(t,i)||i;o!==i&&!o.nextSibling;)o=o.parentNode;o!==i&&(n=o.parentNode,r=_(n,o.nextSibling,i,i)),r?i.insertBefore(e,r):(i.appendChild(e),r=this.createDefaultBlock(),i.appendChild(r)),t.setStart(r,0),t.setEnd(r,0),Te(t)}return this.focus(),this.setSelection(t),this._updatePath(t),le||this._docWasChanged(),this},st.insertImage=function(e,t){var n=this.createElement("IMG",D({src:e},t,!0));return this.insertElement(n),n},st.linkRegExp=/\b((?:(?:ht|f)tps?:\/\/|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,}\/)(?:[^\s()<>]+|\([^\s()<>]+\))+(?:\((?:[^\s()<>]+|(?:\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))|([\w\-.%+]+@(?:[\w\-]+\.)+[A-Z]{2,}\b)(?:\?[^&?\s]+=[^&?\s]+(?:&[^&?\s]+=[^&?\s]+)*)?/i;var It=function(e,t,n){var i,o,a,s,l,c,u,d=e.ownerDocument,f=new r(e,4,(function(e){return!g(e,t,"A")})),h=n.linkRegExp,p=n._config.tagAttributes.a;if(h)for(;i=f.nextNode();)for(o=i.data,a=i.parentNode;s=h.exec(o);)l=s.index,c=l+s[0].length,l&&(u=d.createTextNode(o.slice(0,l)),a.insertBefore(u,i)),u=n.createElement("A",D({href:s[1]?/^(?:ht|f)tps?:/i.test(s[1])?s[1]:"http://"+s[1]:"mailto:"+s[0]},p,!1)),u.textContent=o.slice(l,c),a.insertBefore(u,i),i.data=o=o.slice(c)};st.insertHTML=function(e,t){var n,r,i,o,a,s,l,c=this._config,u=c.isInsertedHTMLSanitized?c.sanitizeToDOMFragment:null,d=this.getSelection(),h=this._doc;"function"==typeof u?o=u(e,t,this):(t&&(n=e.indexOf("\x3c!--StartFragment--\x3e"),r=e.lastIndexOf("\x3c!--EndFragment--\x3e"),n>-1&&r>-1&&(e=e.slice(n+20,r))),/<\/td>((?!<\/tr>)[\s\S])*$/i.test(e)&&(e="<TR>"+e+"</TR>"),/<\/tr>((?!<\/table>)[\s\S])*$/i.test(e)&&(e="<TABLE>"+e+"</TABLE>"),i=this.createElement("DIV"),i.innerHTML=e,o=h.createDocumentFragment(),o.appendChild(I(i))),this.saveUndoState(d);try{for(a=this._root,s=o,l={fragment:o,preventDefault:function(){this.defaultPrevented=!0},defaultPrevented:!1},It(o,o,this),Ye(o,c),tt(o,a,!1),Je(o),o.normalize();s=f(s,o);)k(s,a);t&&this.fireEvent("willPaste",l),l.defaultPrevented||(Se(d,l.fragment,a),le||this._docWasChanged(),d.collapse(!1),this._ensureBottomLine()),this.setSelection(d),this._updatePath(d,!0),t&&this.focus()}catch(e){this.didError(e)}return this};var At=function(e){return e.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;").split('"').join("&quot;")};st.insertPlainText=function(e,t){var n=this.getSelection();if(n.collapsed&&g(n.startContainer,this._root,"PRE")){var r,i,o=n.startContainer,a=n.startOffset;return o&&o.nodeType===z||(r=this._doc.createTextNode(""),o.insertBefore(r,o.childNodes[a]),o=r,a=0),i={text:e,preventDefault:function(){this.defaultPrevented=!0},defaultPrevented:!1},t&&this.fireEvent("willPaste",i),i.defaultPrevented||(e=i.text,o.insertData(a,e),n.setStart(o,a+e.length),n.collapse(!0)),this.setSelection(n),this}var s,l,c,u,d=e.split("\n"),f=this._config,h=f.blockTag,p=f.blockAttributes,m="</"+h+">",v="<"+h;for(s in p)v+=" "+s+'="'+At(p[s])+'"';for(v+=">",l=0,c=d.length;l<c;l+=1)u=d[l],u=At(u).replace(/ (?= )/g,"&nbsp;"),d[l]=v+(u||"<BR>")+m;return this.insertHTML(d.join(""),t)};var kt=function(e,t,n){return function(){return this[e](t,n),this.focus()}};st.addStyles=function(e){if(e){var t=this._doc.documentElement.firstChild,n=this.createElement("STYLE",{type:"text/css"});n.appendChild(this._doc.createTextNode(e)),t.appendChild(n)}return this},st.bold=kt("changeFormat",{tag:"B"}),st.italic=kt("changeFormat",{tag:"I"}),st.underline=kt("changeFormat",{tag:"U"}),st.strikethrough=kt("changeFormat",{tag:"S"}),st.subscript=kt("changeFormat",{tag:"SUB"},{tag:"SUP"}),st.superscript=kt("changeFormat",{tag:"SUP"},{tag:"SUB"}),st.removeBold=kt("changeFormat",null,{tag:"B"}),st.removeItalic=kt("changeFormat",null,{tag:"I"}),st.removeUnderline=kt("changeFormat",null,{tag:"U"}),st.removeStrikethrough=kt("changeFormat",null,{tag:"S"}),st.removeSubscript=kt("changeFormat",null,{tag:"SUB"}),st.removeSuperscript=kt("changeFormat",null,{tag:"SUP"}),st.makeLink=function(e,t){var n=this.getSelection();if(n.collapsed){var r=e.indexOf(":")+1;if(r)for(;"/"===e[r];)r+=1;Ie(n,this._doc.createTextNode(e.slice(r)))}return t=D(D({href:e},t,!0),this._config.tagAttributes.a,!1),this.changeFormat({tag:"A",attributes:t},{tag:"A"},n),this.focus()},st.removeLink=function(){return this.changeFormat(null,{tag:"A"},this.getSelection(),!0),this.focus()},st.setFontFace=function(e){var t=this._config.classNames.fontFamily;return this.changeFormat(e?{tag:"SPAN",attributes:{class:t,style:"font-family: "+e+", sans-serif;"}}:null,{tag:"SPAN",attributes:{class:t}}),this.focus()},st.setFontSize=function(e){var t=this._config.classNames.fontSize;return this.changeFormat(e?{tag:"SPAN",attributes:{class:t,style:"font-size: "+("number"==typeof e?e+"px":e)}}:null,{tag:"SPAN",attributes:{class:t}}),this.focus()},st.setTextColour=function(e){var t=this._config.classNames.colour;return this.changeFormat(e?{tag:"SPAN",attributes:{class:t,style:"color:"+e}}:null,{tag:"SPAN",attributes:{class:t}}),this.focus()},st.setHighlightColour=function(e){var t=this._config.classNames.highlight;return this.changeFormat(e?{tag:"SPAN",attributes:{class:t,style:"background-color:"+e}}:e,{tag:"SPAN",attributes:{class:t}}),this.focus()},st.setTextAlignment=function(e){return this.forEachBlock((function(t){var n=t.className.split(/\s+/).filter((function(e){return!!e&&!/^align/.test(e)})).join(" ");e?(t.className=n+" align-"+e,t.style.textAlign=e):(t.className=n,t.style.textAlign="")}),!0),this.focus()},st.setTextDirection=function(e){return this.forEachBlock((function(t){e?t.dir=e:t.removeAttribute("dir")}),!0),this.focus()};var St=function(e){for(var t,n=this._root,i=this._doc,o=i.createDocumentFragment(),a=u(e,n);t=a.nextNode();){var s,l,c=t.querySelectorAll("BR"),d=[],f=c.length;for(s=0;s<f;s+=1)d[s]=et(c[s],!1);for(;f--;)l=c[f],d[f]?x(l,i.createTextNode("\n")):w(l);for(c=t.querySelectorAll("CODE"),f=c.length;f--;)w(c[f]);o.childNodes.length&&o.appendChild(i.createTextNode("\n")),o.appendChild(I(t))}for(a=new r(o,4);t=a.nextNode();)t.data=t.data.replace(/ /g," ");return o.normalize(),k(this.createElement("PRE",this._config.tagAttributes.pre,[o]),n)},_t=function(e){for(var t,n,i,o,a,s,l=this._doc,c=this._root,u=e.querySelectorAll("PRE"),d=u.length;d--;){for(t=u[d],n=new r(t,4);i=n.nextNode();){for(o=i.data,o=o.replace(/ (?= )/g," "),a=l.createDocumentFragment();(s=o.indexOf("\n"))>-1;)a.appendChild(l.createTextNode(o.slice(0,s))),a.appendChild(l.createElement("BR")),o=o.slice(s+1);i.parentNode.insertBefore(a,i),i.data=o}S(t,c),x(t,I(t))}return e};st.code=function(){var e=this.getSelection();return e.collapsed||c(e.commonAncestorContainer)?this.modifyBlocks(St,e):this.changeFormat({tag:"CODE",attributes:this._config.tagAttributes.code},null,e),this.focus()},st.removeCode=function(){var e=this.getSelection();return g(e.commonAncestorContainer,this._root,"PRE")?this.modifyBlocks(_t,e):this.changeFormat(null,{tag:"CODE"},e),this.focus()},st.toggleCode=function(){return this.hasFormat("PRE")||this.hasFormat("CODE")?this.removeCode():this.code(),this},st.removeAllFormatting=function(e){if(!e&&!(e=this.getSelection())||e.collapsed)return this;for(var t=this._root,n=e.commonAncestorContainer;n&&!l(n);)n=n.parentNode;if(n||(Be(e,t),n=t),n.nodeType===z)return this;this.saveUndoState(e),Ee(e,n,n,t);for(var r,i,o=n.ownerDocument,a=e.startContainer,s=e.startOffset,c=e.endContainer,u=e.endOffset,d=o.createDocumentFragment(),f=o.createDocumentFragment(),h=_(c,u,n,t),p=_(a,s,n,t);p!==h;)r=p.nextSibling,d.appendChild(p),p=r;return j(this,d,f),f.normalize(),p=f.firstChild,r=f.lastChild,i=n.childNodes,p?(n.insertBefore(f,h),s=de.call(i,p),u=de.call(i,r)+1):(s=de.call(i,h),u=s),e.setStart(n,s),e.setEnd(n,u),E(n,e),Te(e),this.setSelection(e),this._updatePath(e,!0),this.focus()},st.increaseQuoteLevel=kt("modifyBlocks",mt),st.decreaseQuoteLevel=kt("modifyBlocks",gt),st.makeUnorderedList=kt("modifyBlocks",yt),st.makeOrderedList=kt("modifyBlocks",Ct),st.removeList=kt("modifyBlocks",wt),B.isInline=s,B.isBlock=l,B.isContainer=c,B.getBlockWalker=u,B.getPreviousBlock=d,B.getNextBlock=f,B.areAlike=p,B.hasTagAttributes=m,B.getNearest=g,B.isOrContains=b,B.detach=w,B.replaceWith=x,B.empty=I,B.getNodeBefore=we,B.getNodeAfter=xe,B.insertNodeInRange=Ie,B.extractContentsOfRange=Ae,B.deleteContentsOfRange=ke,B.insertTreeFragmentIntoRange=Se,B.isNodeContainedInRange=_e,B.moveRangeBoundariesDownTree=Te,B.moveRangeBoundariesUpTree=Ee,B.getStartBlockOfRange=Oe,B.getEndBlockOfRange=Re,B.contentWalker=Ne,B.rangeDoesStartAtBlockBoundary=Le,B.rangeDoesEndAtBlockBoundary=De,B.expandRangeToBlockBoundaries=Be,B.onPaste=ot,B.addLinks=It,B.splitBlock=pt,B.startSelectionId="squire-selection-start",B.endSelectionId=ft,e.exports=B}(document)},function(e,t,n){"use strict";function r(e){return"boolean"===typeof e||e instanceof Boolean}e.exports=r},function(e,t,n){"use strict";(function(e){var n=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),r="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,i=function(){return"undefined"!==typeof e&&e.Math===Math?e:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")()}(),o=function(){return"function"===typeof requestAnimationFrame?requestAnimationFrame.bind(i):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)}}(),a=2;function s(e,t){var n=!1,r=!1,i=0;function s(){n&&(n=!1,e()),r&&c()}function l(){o(s)}function c(){var e=Date.now();if(n){if(e-i<a)return;r=!0}else n=!0,r=!1,setTimeout(l,t);i=e}return c}var l=20,c=["top","right","bottom","left","width","height","size","weight"],u="undefined"!==typeof MutationObserver,d=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=s(this.refresh.bind(this),l)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){r&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),u?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){r&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t,r=c.some((function(e){return!!~n.indexOf(e)}));r&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),f=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},h=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||i},p=A(0,0,0,0);function m(e){return parseFloat(e)||0}function g(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){var r=e["border-"+n+"-width"];return t+m(r)}),0)}function v(e){for(var t=["top","right","bottom","left"],n={},r=0,i=t;r<i.length;r++){var o=i[r],a=e["padding-"+o];n[o]=m(a)}return n}function b(e){var t=e.getBBox();return A(0,0,t.width,t.height)}function y(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return p;var r=h(e).getComputedStyle(e),i=v(r),o=i.left+i.right,a=i.top+i.bottom,s=m(r.width),l=m(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==t&&(s-=g(r,"left","right")+o),Math.round(l+a)!==n&&(l-=g(r,"top","bottom")+a)),!w(e)){var c=Math.round(s+o)-t,u=Math.round(l+a)-n;1!==Math.abs(c)&&(s-=c),1!==Math.abs(u)&&(l-=u)}return A(i.left,i.top,s,l)}var C=function(){return"undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof h(e).SVGGraphicsElement}:function(e){return e instanceof h(e).SVGElement&&"function"===typeof e.getBBox}}();function w(e){return e===h(e).document.documentElement}function x(e){return r?C(e)?b(e):y(e):p}function I(e){var t=e.x,n=e.y,r=e.width,i=e.height,o="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return f(a,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),a}function A(e,t,n,r){return{x:e,y:t,width:n,height:r}}var k=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=A(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=x(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),S=function(){function e(e,t){var n=I(t);f(this,{target:e,contentRect:n})}return e}(),_=function(){function e(e,t,r){if(this.activeObservations_=[],this.observations_=new n,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof h(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new k(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof h(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new S(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),T="undefined"!==typeof WeakMap?new WeakMap:new n,E=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=d.getInstance(),r=new _(t,n,this);T.set(this,r)}return e}();["observe","unobserve","disconnect"].forEach((function(e){E.prototype[e]=function(){var t;return(t=T.get(this))[e].apply(t,arguments)}}));var O=function(){return"undefined"!==typeof i.ResizeObserver?i.ResizeObserver:E}();t["a"]=O}).call(this,n(59))},function(e,t,n){"use strict";var r=n(7),i=n(28),o=n(9),a=n(54),s=n(17),l=n(27),c=n(26),u=/\s+/g;function d(){this.events=null,this.contexts=null}d.mixin=function(e){r(e.prototype,d.prototype)},d.prototype._getHandlerItem=function(e,t){var n={handler:e};return t&&(n.context=t),n},d.prototype._safeEvent=function(e){var t,n=this.events;return n||(n=this.events={}),e&&(t=n[e],t||(t=[],n[e]=t),n=t),n},d.prototype._safeContext=function(){var e=this.contexts;return e||(e=this.contexts=[]),e},d.prototype._indexOfContext=function(e){var t=this._safeContext(),n=0;while(t[n]){if(e===t[n][0])return n;n+=1}return-1},d.prototype._memorizeContext=function(e){var t,n;i(e)&&(t=this._safeContext(),n=this._indexOfContext(e),n>-1?t[n][1]+=1:t.push([e,1]))},d.prototype._forgetContext=function(e){var t,n;i(e)&&(t=this._safeContext(),n=this._indexOfContext(e),n>-1&&(t[n][1]-=1,t[n][1]<=0&&t.splice(n,1)))},d.prototype._bindEvent=function(e,t,n){var r=this._safeEvent(e);this._memorizeContext(n),r.push(this._getHandlerItem(t,n))},d.prototype.on=function(e,t,n){var r=this;o(e)?(e=e.split(u),c(e,(function(e){r._bindEvent(e,t,n)}))):a(e)&&(n=t,c(e,(function(e,t){r.on(t,e,n)})))},d.prototype.once=function(e,t,n){var r=this;if(a(e))return n=t,void c(e,(function(e,t){r.once(t,e,n)}));function i(){t.apply(n,arguments),r.off(e,i,n)}this.on(e,i,n)},d.prototype._spliceMatches=function(e,t){var n,r=0;if(s(e))for(n=e.length;r<n;r+=1)!0===t(e[r])&&(e.splice(r,1),n-=1,r-=1)},d.prototype._matchHandler=function(e){var t=this;return function(n){var r=e===n.handler;return r&&t._forgetContext(n.context),r}},d.prototype._matchContext=function(e){var t=this;return function(n){var r=e===n.context;return r&&t._forgetContext(n.context),r}},d.prototype._matchHandlerAndContext=function(e,t){var n=this;return function(r){var i=e===r.handler,o=t===r.context,a=i&&o;return a&&n._forgetContext(r.context),a}},d.prototype._offByEventName=function(e,t){var n=this,r=l(t),i=n._matchHandler(t);e=e.split(u),c(e,(function(e){var t=n._safeEvent(e);r?n._spliceMatches(t,i):(c(t,(function(e){n._forgetContext(e.context)})),n.events[e]=[])}))},d.prototype._offByHandler=function(e){var t=this,n=this._matchHandler(e);c(this._safeEvent(),(function(e){t._spliceMatches(e,n)}))},d.prototype._offByObject=function(e,t){var n,r=this;this._indexOfContext(e)<0?c(e,(function(e,t){r.off(t,e)})):o(t)?(n=this._matchContext(e),r._spliceMatches(this._safeEvent(t),n)):l(t)?(n=this._matchHandlerAndContext(t,e),c(this._safeEvent(),(function(e){r._spliceMatches(e,n)}))):(n=this._matchContext(e),c(this._safeEvent(),(function(e){r._spliceMatches(e,n)})))},d.prototype.off=function(e,t){o(e)?this._offByEventName(e,t):arguments.length?l(e)?this._offByHandler(e):a(e)&&this._offByObject(e,t):(this.events={},this.contexts=[])},d.prototype.fire=function(e){this.invoke.apply(this,arguments)},d.prototype.invoke=function(e){var t,n,r,i;if(!this.hasListener(e))return!0;t=this._safeEvent(e),n=Array.prototype.slice.call(arguments,1),r=0;while(t[r]){if(i=t[r],!1===i.handler.apply(i.context,n))return!1;r+=1}return!0},d.prototype.hasListener=function(e){return this.getListenerLength(e)>0},d.prototype.getListenerLength=function(e){var t=this._safeEvent(e);return t.length},e.exports=d},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},,,,,,function(e,t,n){"use strict";n.r(t);var r=n(10),i=n.n(r),o=n(28),a=n.n(o),s=n(34),l=n.n(s),c=n(7),u=n.n(c),d=n(3),f=n.n(d),h=n(5),p=n.n(h),m=n(6),g=n.n(m),v=n(22),b=n(29);function y(e){var t=e.extendedAutolinks,n=e.customHTMLRenderer,r=e.referenceDefinition,i=e.customParser,o=new v["Parser"]({disallowedHtmlBlockTags:["br"],extendedAutolinks:t,referenceDefinition:r,disallowDeepHeading:!0,customParser:i}),a=Object(v["createRenderHTML"])({gfm:!0,convertors:Object(b["a"])(null,n)});return function(e){return a(o.parse(e))}}var C=n(12),w=n(56),x=n.n(w),I=n(15),A=n.n(I),k=/^(\s*)((\d+)([.)]\s(?:\[(?:x|\s)\]\s)?))(.*)/;function S(e,t,n,r){var i,o,a,s,l=n,c=r.getLine(e);do{var u=k.exec(c);if(i=u[1],o=u[4],a=u[5],s=i.length,s===t)r.replaceRange(""+i+l+o+a,{line:e,ch:0},{line:e,ch:c.length}),l+=1,e+=1;else{if(!(s>t))return e;e=S(e,s,1,r)}c=r.getLine(e)}while(k.test(c));return e}function _(e,t){var n=e,r=t.getLine(e);while(k.test(r))n-=1,r=t.getLine(n);return e===n?n=-1:n+=1,n}A.a.commands.indentLessOrderedList=function(e){return e.getOption("disableInput")?A.a.Pass:(e.execCommand("indentLess"),e.execCommand("fixOrderedListNumber"),null)},A.a.commands.fixOrderedListNumber=function(e){if(e.getOption("disableInput")||e.state.isCursorInCodeBlock)return A.a.Pass;for(var t=e.listSelections(),n=0;n<t.length;n+=1){var r=t[n].head,i=_(r.line,e);if(i>=0){var o=e.getLine(i),a=k.exec(o),s=a[1],l=a[3];S(i,s.length,parseInt(l,10),e)}}return null},A.a.overlayMode=function(e,t,n){return{startState:function(){return{base:A.a.startState(e),overlay:A.a.startState(t),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(n){return{base:A.a.copyState(e,n.base),overlay:A.a.copyState(t,n.overlay),basePos:n.basePos,baseCur:null,overlayPos:n.overlayPos,overlayCur:null}},token:function(r,i){return(r!=i.streamSeen||Math.min(i.basePos,i.overlayPos)<r.start)&&(i.streamSeen=r,i.basePos=i.overlayPos=r.start),r.start==i.basePos&&(i.baseCur=e.token(r,i.base),i.basePos=r.pos),r.start==i.overlayPos&&(r.pos=r.start,i.overlayCur=t.token(r,i.overlay),i.overlayPos=r.pos),r.pos=Math.min(i.basePos,i.overlayPos),null==i.overlayCur?i.baseCur:null!=i.baseCur&&i.overlay.combineTokens||n&&null==i.overlay.combineTokens?i.baseCur+" "+i.overlayCur:i.overlayCur},indent:e.indent&&function(t,n){return e.indent(t.base,n)},electricChars:e.electricChars,innerMode:function(t){return{state:t.base,mode:e}},blankLine:function(n){e.blankLine&&e.blankLine(n.base),t.blankLine&&t.blankLine(n.overlay)}}};var T=/^(\s*)(>[> ]*|[*+-] \[[x ]\]\s|[*+-]\s|(\d+)([.)]\s))(\s*)/,E=/^(\s*)(>[> ]*|[*+-] \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/,O=/[*+-]\s/;function R(e,t){var n=t.line,r=0,i=0,o=T.exec(e.getLine(n)),a=o[1];do{r+=1;var s=n+r,l=e.getLine(s),c=T.exec(l);if(c){var u=c[1],d=parseInt(o[3],10)+r-i,f=parseInt(c[3],10),h=f;if(a!==u||isNaN(f)){if(a.length>u.length)return;if(a.length<u.length&&1===r)return;i+=1}else d===f&&(h=f+1),d>f&&(h=d+1),e.replaceRange(l.replace(T,u+h+c[4]+c[5]),{line:s,ch:0},{line:s,ch:l.length})}}while(c)}function N(e){return L(e)&&e.anchor.ch===e.head.ch}function L(e){return e.anchor.line===e.head.line}function D(e,t,n,r){var i=e.getLine(n.line),o=e.getLine(n.line+r),a={anchor:t,head:n};e.replaceRange(o,{line:n.line,ch:0},{line:n.line,ch:i.length},"+input"),e.replaceRange(i,{line:n.line+r,ch:0},{line:n.line+r,ch:o.length},"+input"),N(a)?e.setCursor({line:n.line+r,ch:n.ch}):e.setSelection({line:t.line+r,ch:t.ch},{line:n.line+r,ch:n.ch})}function B(e,t,n,r){var i,o=e.getRange({line:t.line,ch:0},{line:n.line,ch:e.getLine(n.line).length}),a=r>0?n:t,s=e.getLine(a.line+r);i=r>0?t:n,e.replaceRange(s,{line:i.line,ch:0},{line:i.line,ch:e.getLine(i.line).length},"+input"),e.replaceRange(o,{line:t.line+r,ch:0},{line:n.line+r,ch:e.getLine(n.line+r).length},"+input"),e.setSelection({line:t.line+r,ch:t.ch},{line:n.line+r,ch:n.ch})}function M(e){e.state.placeholder&&(e.state.placeholder.parentNode.removeChild(e.state.placeholder),e.state.placeholder=null)}function P(e){M(e);var t=e.state.placeholder=document.createElement("pre");t.style.cssText="height: 0; overflow: visible",t.className="CodeMirror-placeholder";var n=e.getOption("placeholder");"string"==typeof n&&(n=document.createTextNode(n)),t.appendChild(n),e.display.lineSpace.insertBefore(t,e.display.lineSpace.firstChild)}function F(e){H(e)&&P(e)}function j(e){var t=e.getWrapperElement(),n=H(e);t.className=t.className.replace(" CodeMirror-empty","")+(n?" CodeMirror-empty":""),n?P(e):M(e)}function H(e){return 1===e.lineCount()&&""===e.getLine(0)}function z(){return z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z.apply(this,arguments)}A.a.commands.indentOrderedList=function(e){if(e.getOption("disableInput"))return A.a.Pass;for(var t=e.listSelections(),n=0;n<t.length;n++){var r=t[n].head,i=e.getLine(r.line),o=i.substr(0,r.ch);T.test(o)||e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertSoftTab")}e.execCommand("fixOrderedListNumber")},A.a.commands.newlineAndIndentContinueMarkdownList=function(e){if(e.getOption("disableInput")||e.state.isCursorInCodeBlock)return A.a.Pass;for(var t=e.listSelections(),n=[],r=0;r<t.length;r++){var i=t[r].head,o=e.getLine(i.line),a=T.exec(o),s=/^\s*$/.test(o.slice(0,i.ch));if(!t[r].empty()||!a||s)return void e.execCommand("newlineAndIndent");if(E.test(o))/>\s*$/.test(o)||e.replaceRange("",{line:i.line,ch:0},{line:i.line,ch:i.ch+1}),n[r]="\n";else{var l=a[1],c=a[5],u=!(O.test(a[2])||a[2].indexOf(">")>=0),d=u?parseInt(a[3],10)+1+a[4]:a[2].replace("x"," ");n[r]="\n"+l+d+c,u&&R(e,i)}}e.replaceSelections(n)},A.a.commands.replaceLineTextToUpper=function(e){if(e.getOption("disableInput"))return A.a.Pass;for(var t=e.listSelections(),n=-1,r=0;r<t.length;r++){var i=t[r],o=i.anchor,a=i.head;if(L(i)&&a.line>0)D(e,o,a,n);else if(!N(i)){var s=o.line<a.line?o.line:a.line;if(s>0){var l=o.line===s?o:a,c=o.line===s?a:o;B(e,l,c,n)}}}},A.a.commands.replaceLineTextToLower=function(e){if(e.getOption("disableInput"))return A.a.Pass;for(var t=e.listSelections(),n=1,r=0;r<t.length;r++){var i=t[r],o=i.anchor,a=i.head,s=a.line===e.lastLine();if(L(i)&&!s)D(e,o,a,n);else if(!N(i)){var l=o.line<a.line?o.line:a.line,c=o.line===l?o:a,u=o.line===l?a:o;u.line<e.lastLine()&&B(e,c,u,n)}}},A.a.defineOption("placeholder","",(function(e,t,n){var r=n&&n!=A.a.Init;if(t&&!r)e.on("blur",F),e.on("change",j),e.on("swapDoc",j),j(e);else if(!t&&r){e.off("blur",F),e.off("change",j),e.off("swapDoc",j),M(e);var i=e.getWrapperElement();i.className=i.className.replace(" CodeMirror-empty","")}t&&!e.hasFocus()&&F(e)}));var $,V=function(){function e(e,t){void 0===t&&(t={}),this.editorContainerEl=e,this.cm=null,this._init(t)}var t=e.prototype;return t._init=function(e){var t=document.createElement("textarea");this.editorContainerEl.appendChild(t),e=z({},e,{lineWrapping:!0,theme:"default",extraKeys:z({"Shift-Tab":"indentLess","Alt-Up":"replaceLineTextToUpper","Alt-Down":"replaceLineTextToLower"},e.extraKeys),indentUnit:4,cursorScrollMargin:12,specialCharPlaceholder:function(){return document.createElement("span")}}),this.cm=A.a.fromTextArea(t,e)},t.getCurrentRange=function(){var e=this.cm.getCursor("from"),t=this.cm.getCursor("to");return{from:e,to:t,collapsed:e.line===t.line&&e.ch===t.ch}},t.focus=function(){this.cm.focus()},t.blur=function(){this.cm.getInputField().blur()},t.remove=function(){this.cm.toTextArea()},t.setValue=function(e,t){void 0===t&&(t=!0),this.cm.setValue(e),t&&this.moveCursorToEnd(),this.cm.doc.clearHistory(),this.cm.refresh()},t.getValue=function(){return this.cm.getValue("\n")},t.getEditor=function(){return this.cm},t.reset=function(){this.setValue("")},t.getCaretPosition=function(){return this.cm.cursorCoords()},t.addWidget=function(e,t,n,r){r&&(e.ch+=r),this.cm.addWidget(e.end,t,!0,n)},t.replaceSelection=function(e,t){t&&this.cm.setSelection(t.from,t.to),this.cm.replaceSelection(e),this.focus()},t.replaceRelativeOffset=function(e,t,n){var r=this.cm.getCursor(),i={from:{line:r.line,ch:r.ch+t},to:{line:r.line,ch:r.ch+t+n}};this.replaceSelection(e,i)},t.setHeight=function(e){var t=this.getWrapperElement();f()(t,{height:e+"px"})},t.setMinHeight=function(e){var t=this.getWrapperElement();f()(t,{minHeight:e+"px"})},t.setPlaceholder=function(e){e&&this.cm.setOption("placeholder",e)},t.getWrapperElement=function(){return this.cm.getWrapperElement()},t.getCursor=function(e){return this.cm.getCursor(e)},t.moveCursorToEnd=function(){var e=this.getEditor().getDoc(),t=e.lastLine();e.setCursor(t,e.getLine(t).length)},t.moveCursorToStart=function(){var e=this.getEditor().getDoc(),t=e.firstLine();e.setCursor(t,0)},t.scrollTop=function(e){return e&&this.cm.scrollTo(0,e),this.cm.getScrollInfo().top},t.getRange=function(){var e=this.cm.getCursor("from"),t=this.cm.getCursor("to");return{start:{line:e.line,ch:e.ch},end:{line:t.line,ch:t.ch}}},t.on=function(e,t){this.cm.on(e,t)},t.off=function(e,t){this.cm.off(e,t)},e}(),W=V,K=["","","","CANCEL","","","HELP","","BACK_SPACE","TAB","","","CLEAR","ENTER","ENTER_SPECIAL","","","","","PAUSE","CAPS_LOCK","KANA","EISU","JUNJA","FINAL","HANJA","","ESCAPE","CONVERT","NONCONVERT","ACCEPT","MODECHANGE","SPACE","PAGE_UP","PAGE_DOWN","END","HOME","LEFT","UP","RIGHT","DOWN","SELECT","PRINT","EXECUTE","PRINTSCREEN","INSERT","DELETE","","0","1","2","3","4","5","6","7","8","9",":",";","<","=",">","?","AT","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","","","CONTEXT_MENU","","SLEEP","NUMPAD0","NUMPAD1","NUMPAD2","NUMPAD3","NUMPAD4","NUMPAD5","NUMPAD6","NUMPAD7","NUMPAD8","NUMPAD9","MULTIPLY","ADD","SEPARATOR","SUBTRACT","DECIMAL","DIVIDE","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","F13","F14","F15","F16","F17","F18","F19","F20","F21","F22","F23","F24","","","","","","","","","NUM_LOCK","SCROLL_LOCK","WIN_OEM_FJ_JISHO","WIN_OEM_FJ_MASSHOU","WIN_OEM_FJ_TOUROKU","WIN_OEM_FJ_LOYA","WIN_OEM_FJ_ROYA","","","","","","","","","","@","!",'"',"#","$","%","&","_","(",")","*","+","|","-","{","}","~","","","","","VOLUME_MUTE","VOLUME_DOWN","VOLUME_UP","","",";","=",",","-",".","/","`","","","","","","","","","","","","","","","","","","","","","","","","","","","[","\\","]","'","","META","ALTGR","","WIN_ICO_HELP","WIN_ICO_00","","WIN_ICO_CLEAR","","","WIN_OEM_RESET","WIN_OEM_JUMP","WIN_OEM_PA1","WIN_OEM_PA2","WIN_OEM_PA3","WIN_OEM_WSCTRL","WIN_OEM_CUSEL","WIN_OEM_ATTN","WIN_OEM_FINISH","WIN_OEM_COPY","WIN_OEM_AUTO","WIN_OEM_ENLW","WIN_OEM_BACKTAB","ATTN","CRSEL","EXSEL","EREOF","PLAY","ZOOM","","PA1","WIN_OEM_CLEAR",""],G=function(){function e(e){this._setSplitter(e)}var t=e.prototype;return t._setSplitter=function(e){var t=e?e.splitter:"+";this._splitter=t},t.convert=function(e){var t=[];e.shiftKey&&t.push("SHIFT"),e.ctrlKey&&t.push("CTRL"),e.metaKey&&t.push("META"),e.altKey&&t.push("ALT");var n=this._getKeyCodeChar(e.keyCode);return n&&t.push(n),t.join(this._splitter)},t._getKeyCodeChar=function(e){var t=K[e];return t},e.getSharedInstance=function(){return $||($=new e),$},e.keyCode=function(e){return K.indexOf(e)},e}(),Z=G,U=/^[ \t]*([-*]|[\d]+\.)( \[[ xX]])? /,q=/^[ \t]*([*-] |[\d]+\. )(\[[ xX]] )/,X=/^[ \t]*[-*] .*/,Y=/^[ \t]*[\d]+\. \[[ xX]] .*/,J=/([*-] |[\d]+\. )/,Q=/([-*] |[\d]+\. )(\[[ xX]] )/,ee=/([-*]|[\d]+\.)( \[[ xX]])? /,te=/([-*])( \[[ xX]]) /,ne=/([\d])+\.( \[[ xX]])? /,re=/^\|([-\s\w\d\t<>?!@#$%^&*()_=+\\/'";: \r[\]]*\|+)+/i,ie=/^#+\s/,oe=/^ {0,3}(```|\||>)/,ae=function(){function e(e){this.cm=e.getEditor(),this.doc=this.cm.getDoc(),this.toastMark=e.getToastMark(),this.name="list"}var t=e.prototype;return t._createSortedLineRange=function(e){var t=e.from.line>e.to.line,n={line:t?e.to.line:e.from.line,ch:0},r={line:t?e.from.line:e.to.line,ch:0};return{start:n.line,end:r.line}},t._calculateOrdinalNumber=function(e){for(var t=1,n=e-1;n>=0;n-=1){var r=this._getListDepth(n);if(1===r&&ne.exec(this.doc.getLine(n))){t=parseInt(RegExp.$1,10)+1;break}if(0===r)break}return t},t._isListLine=function(e){return!!U.exec(this.doc.getLine(e))},t._isCanBeList=function(e){var t=this.doc.getLine(e);return!oe.test(t)&&!re.test(t)&&!ie.test(t)},t._getChangeFn=function(e){var t,n=this;switch(e){case"ol":case"ul":t=function(t){return n._changeToList(t,e)};break;case"task":t=function(e){return n._changeToTask(e)};break;default:break}return t},t.changeSyntax=function(e,t){for(var n=[],r=this._createSortedLineRange(e),i=r.start,o=r.end,a=this._getChangeFn(t),s=i;s<=o;s+=1){if(!this._isCanBeList(s))break;this._isListLine(s)||n.push(s),a(s)}this._insertBlankLineForNewList(n),this.cm.focus()},t._replaceLineText=function(e,t){this.doc.replaceRange(e,{line:t,ch:0})},t._changeToList=function(e,t){var n=this;this._isListLine(e)?this._changeSameDepthList(e,"ol"===t?function(e,t){n._replaceListTypeToOL(e,t)}:function(e){n._replaceListTypeToUL(e)}):this._replaceLineText("ol"===t?this._calculateOrdinalNumber(e)+". ":"* ",e)},t._changeToTask=function(e){q.exec(this.doc.getLine(e))?this._replaceLineTextByRegexp(e,Q,"$1"):this._isListLine(e)?this._replaceLineTextByRegexp(e,J,"$1[ ] "):this._replaceLineText("* [ ] ",e)},t._getListDepth=function(e){var t=0,n=this.doc.getLine(e);if(n){var r=this.toastMark.findFirstNodeAtLine(e+1);while(r&&"document"!==r.type)"list"===r.type&&(t+=1),r=r.parent}return t},t._findSameDepthList=function(e,t,n){var r,i=this.doc.lineCount(),o=[],a=e;while(n?a<i-1:a>0)if(a=n?a+1:a-1,r=this._getListDepth(a),r===t)o.push(a);else if(r<t)break;return o},t._changeSameDepthList=function(e,t){var n=this._getListDepth(e),r=this._findSameDepthList(e,n,!1).reverse(),i=this._findSameDepthList(e,n,!0),o=r.concat([e]).concat(i);o.forEach((function(e,n){t(e,n+1)}))},t._replaceLineTextByRegexp=function(e,t,n){var r=this.doc.getLine(e),i={line:e,ch:0},o={line:e,ch:r.length};r=r.replace(t,n),this.doc.replaceRange(r,i,o)},t._replaceListTypeToUL=function(e){var t=this.doc.getLine(e);te.exec(t)?this._replaceLineTextByRegexp(e,te,"$1 "):ne.exec(t)&&this._replaceLineTextByRegexp(e,ne,"* ")},t._replaceListTypeToOL=function(e,t){var n=this.doc.getLine(e);X.exec(n)||Y.exec(n)?this._replaceLineTextByRegexp(e,ee,t+". "):ne.exec(n)&&parseInt(RegExp.$1,10)!==t&&this._replaceLineTextByRegexp(e,ne,t+". ")},t._insertBlankLineForNewList=function(e){var t=e.length;if(t){var n=e[0],r=e[t-1];this._isNotBlankNotListLine(r+1)&&this.doc.replaceRange("\n",{line:r,ch:this.doc.getLine(r).length}),n>0&&this._isNotBlankNotListLine(n-1)&&this.doc.replaceRange("\n",{line:n,ch:0})}},t._isNotBlankNotListLine=function(e){return!!this.doc.getLine(e)&&!this._isListLine(e)},e}(),se=ae,le=function(){function e(e){this._managers={},this._editor=e}var t=e.prototype;return t.addManager=function(e,t){t||(t=e,e=null);var n=new t(this._editor);this._managers[e||n.name]=n},t.getManager=function(e){return this._managers[e]},t.removeManager=function(e){var t=this.getManager(e);t&&(t.destroy&&t.destroy(),delete this._managers[e])},e}(),ce=le,ue=function(){function e(e,t){this._mde=e,this.setRange(t||e.getRange())}var t=e.prototype;return t._setStart=function(e){this._start=e},t._setEnd=function(e){this._end=e},t.setRange=function(e){this._setStart(e.start),this._setEnd(e.end)},t.setEndBeforeRange=function(e){this._setEnd(e.start)},t.expandStartOffset=function(){var e=this._start;0!==e.ch&&(e.ch-=1)},t.expandEndOffset=function(){var e=this._end;e.ch<this._mde.getEditor().getDoc().getLine(e.line).length&&(e.ch+=1)},t.getTextContent=function(){return this._mde.getEditor().getRange(this._start,this._end)},t.replaceContent=function(e){this._mde.getEditor().replaceRange(e,this._start,this._end,"+input")},t.deleteContent=function(){this._mde.getEditor().replaceRange("",this._start,this._end,"+delete")},t.peekStartBeforeOffset=function(e){var t={line:this._start.line,ch:Math.max(this._start.ch-e,0)};return this._mde.getEditor().getRange(t,this._start)},e}(),de=ue,fe=n(4),he=n(27),pe=n.n(he);function me(){return me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},me.apply(this,arguments)}var ge="tui-md-",ve=Ce({DELIM:"delimiter",META:"meta",TEXT:"marked-text",THEMATIC_BREAK:"thematic-break",CODE_BLOCK:"code-block",TABLE:"table",HTML:"html"}),be={strong:2,emph:1,strike:2};function ye(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map((function(e){return""+ge+e})).join(" ")}function Ce(e){return i()(e,(function(t,n){e[n]=ye(t)})),e}function we(e,t,n){return{start:e,end:t,className:n}}function xe(e,t,n){var r=e.level,i=e.headingType,o=[we(t,n,ye("heading","heading"+r))];return"atx"===i?o.push(we(t,Object(fe["a"])(t,r),ve.DELIM)):o.push(we(Object(fe["l"])(n,0),n,ve.DELIM+" setext")),{marks:o}}function Ie(e,t,n){var r=e.type;return{marks:[we(t,n,ye(""+r)),we(t,Object(fe["a"])(t,be[r]),ve.DELIM),we(Object(fe["a"])(n,-be[r]),n,ve.DELIM)]}}function Ae(e,t,n,r){return[we(e,t,ye("link")),we(n,Object(fe["l"])(t,r),ye("link-desc")),we(Object(fe["l"])(e,n.ch+1),Object(fe["l"])(t,r-1),ve.TEXT),we(Object(fe["l"])(t,r),t,ye("link-url")),we(Object(fe["l"])(t,r+1),Object(fe["a"])(t,-1),ve.TEXT)]}function ke(e,t,n){var r=e.lastChild,i=r?Object(fe["c"])(r)+1:3,o=Object(fe["a"])(t,1);return{marks:[we(t,o,ve.META)].concat(Ae(t,n,o,i))}}function Se(e,t,n){var r=e.lastChild,i=e.extendedAutolink,o=r?Object(fe["c"])(r)+1:2,a=i?[we(t,n,ye("link","link-desc")+" "+ve.TEXT)]:Ae(t,n,t,o);return{marks:a}}function _e(e,t,n){var r=e.tickCount,i=Object(fe["a"])(t,r),o=Object(fe["a"])(n,-r);return{marks:[we(t,n,ye("code")),we(t,i,ve.DELIM+" start"),we(i,o,ve.TEXT),we(o,n,ve.DELIM+" end")]}}function Te(e,t,n,r){var i=e.fenceOffset,o=e.fenceLength,a=e.fenceChar,s=e.info,l=e.infoPadding,c=e.parent,u=i+o,d=[we(Object(fe["l"])(t,0),n,ve.CODE_BLOCK)];a&&d.push(we(t,Object(fe["a"])(t,u),ve.DELIM)),s&&d.push(we(Object(fe["l"])(t,u),Object(fe["l"])(t,u+l+s.length),ve.META));var f="^(\\s{0,3})("+a+"{"+o+",})",h=new RegExp(f);h.test(r)&&d.push(we(Object(fe["l"])(n,0),n,ve.DELIM));var p="item"!==c.type&&"blockQuote"!==c.type?{start:t.line,end:n.line,className:ve.CODE_BLOCK}:null;return{marks:d,lineBackground:me({},p)}}function Ee(e,t){var n=[];while(e){var r=e,i=r.type;"paragraph"!==i&&"codeBlock"!==i||n.push(we({line:Object(fe["f"])(e)-1,ch:Object(fe["e"])(e)-1},{line:Object(fe["d"])(e)-1,ch:Object(fe["c"])(e)},t)),e=e.next}return n}function Oe(e){var t=[];while(e)t.push(we({line:Object(fe["f"])(e)-1,ch:Object(fe["e"])(e)-1},{line:Object(fe["d"])(e)-1,ch:Object(fe["c"])(e)},ve.TEXT)),e=e.next;return t}function Re(e,t,n){var r=e.parent&&"blockQuote"!==e.parent.type?[we(t,n,ye("block-quote"))]:[];if(e.firstChild){var i=[];"paragraph"===e.firstChild.type?i=Oe(e.firstChild.firstChild,ve.TEXT):"list"===e.firstChild.type&&(i=Ee(e.firstChild,ve.TEXT)),r=[].concat(r,i)}return{marks:r}}function Ne(e){var t=0;while(e.parent.parent&&"item"===e.parent.parent.type)e=e.parent.parent,t+=1;var n=["list-item-odd","list-item-even"][t%2],r=["fisrt","second","third"][t%3];return ye("list-item",""+n)+" "+r}function Le(e,t){var n=Ne(e),r=e.listData,i=r.padding,o=r.task;return{marks:[we(t,Object(fe["a"])(t,i),n+" "+ye("list-item-bullet"))].concat(o?[we(Object(fe["a"])(t,i),Object(fe["a"])(t,i+3),n+" "+ve.DELIM),we(Object(fe["a"])(t,i+1),Object(fe["a"])(t,i+2),ve.META)]:[],Ee(e.firstChild,n+" "+ve.TEXT))}}var De={heading:xe,strong:Ie,emph:Ie,strike:Ie,link:Se,image:ke,code:_e,codeBlock:Te,blockQuote:Re,item:Le},Be={thematicBreak:ve.THEMATIC_BREAK,table:ve.TABLE,tableCell:ve.TEXT,htmlInline:ve.HTML};function Me(e,t,n,r){var i=e.type;return pe()(De[i])?De[i](e,t,n,r):Be[i]?{marks:[we(t,n,Be[i])]}:null}function Pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function je(){return je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},je.apply(this,arguments)}var He=Z.getSharedInstance(),ze={strong:!1,emph:!1,strike:!1,thematicBreak:!1,blockQuote:!1,code:!1,codeBlock:!1,list:!1,taskList:!1,orderedList:!1,heading:!1,table:!1};function $e(e){var t=e.type,n=e.listData;return"list"===t||"item"===t?n.task?"taskList":"ordered"===n.type?"orderedList":"list":-1!==t.indexOf("table")?"table":t}function Ve(e,t,n,r){var i=je({},ze),o=!1;return Object(fe["m"])(e,(function(e){var t=$e(e);x()(i[t])&&("list"===t||"orderedList"===t?o||(i[t]=!0,o=!0):i[t]=!0)})),Object(fe["k"])(e)&&(r===t&&Object(fe["d"])(e)===n||r===Object(fe["c"])(e)+1&&n===Object(fe["d"])(e)||r===Object(fe["e"])(e)&&n===Object(fe["f"])(e))&&(i[e.type]=!1),i}function We(e,t){return!(!e&&!t)&&(!!(!e&&t||e&&!t)||Object.keys(t).some((function(n){return e[n]!==t[n]})))}var Ke="data-tui-mark",Ge=function(e){function t(t,n,r,i){var o;return o=e.call(this,t,{dragDrop:!0,allowDropFileTypes:["image"],extraKeys:{Enter:"newlineAndIndentContinueMarkdownList",Tab:"indentOrderedList","Shift-Tab":"indentLessOrderedList"},viewportMargin:i&&"auto"===i.height?1/0:10})||this,o.eventManager=n,o.componentManager=new ce(Pe(o)),o.toastMark=r,o.componentManager.addManager(se),o._latestState=null,o._markedLines={},o._initEvent(),o}Fe(t,e);var n=t.prototype;return n._initEvent=function(){var e=this;this.cm.getWrapperElement().addEventListener("click",(function(){e.eventManager.emit("click",{source:"markdown"})})),this.cm.on("beforeChange",(function(t,n){"paste"===n.origin&&e.eventManager.emit("pasteBefore",{source:"markdown",data:n})})),this.cm.on("change",(function(t,n){e._refreshCodeMirrorMarks(n),e._emitMarkdownEditorChangeEvent(n)})),this.cm.on("focus",(function(){e.eventManager.emit("focus",{source:"markdown"})})),this.cm.on("blur",(function(){e.eventManager.emit("blur",{source:"markdown"})})),this.cm.on("scroll",(function(t,n){e.eventManager.emit("scroll",{source:"markdown",data:n})})),this.cm.on("keydown",(function(t,n){e.eventManager.emit("keydown",{source:"markdown",data:n}),e.eventManager.emit("keyMap",{source:"markdown",keyMap:He.convert(n),data:n})})),this.cm.on("keyup",(function(t,n){e.eventManager.emit("keyup",{source:"markdown",data:n})})),this.cm.on("copy",(function(t,n){e.eventManager.emit("copy",{source:"markdown",data:n})})),this.cm.on("cut",(function(t,n){e.eventManager.emit("cut",{source:"markdown",data:n})})),this.cm.on("paste",(function(t,n){e.eventManager.emit("paste",{source:"markdown",data:n})})),this.cm.on("drop",(function(t,n){n.preventDefault(),e.eventManager.emit("drop",{source:"markdown",data:n})})),this.cm.on("cursorActivity",(function(){return e._onChangeCursorActivity()}))},n.setValue=function(t,n){e.prototype.setValue.call(this,t,n)},n.getTextObject=function(e){return new de(this,e)},n._emitMarkdownEditorContentChangedEvent=function(e){this.eventManager.emit("contentChangedFromMarkdown",e)},n._emitMarkdownEditorChangeEvent=function(e){if("setValue"!==e.origin){var t={source:"markdown"};this.eventManager.emit("changeFromMarkdown",t),this.eventManager.emit("change",t)}},n._refreshCodeMirrorMarks=function(e){var t=this,n=e.from,r=e.to,i=e.text,o=this.toastMark.editMarkdown([n.line+1,n.ch+1],[r.line+1,r.ch+1],i.join("\n"));this._emitMarkdownEditorContentChangedEvent(o),o.length&&o.forEach((function(e){return t._markNodes(e)}))},n._markNodes=function(e){var t=e.nodes,n=e.removedNodeRange;if(n&&this._removeBackgroundOfLines(n),t.length){var r=t[0].sourcepos,i=r[0],o=t[t.length-1].sourcepos,a=o[1],s={line:i[0]-1,ch:i[1]-1},l={line:a[0]-1,ch:a[1]},c=this.cm.findMarks(s,l),u=c,d=Array.isArray(u),f=0;for(u=d?u:u[Symbol.iterator]();;){var h;if(d){if(f>=u.length)break;h=u[f++]}else{if(f=u.next(),f.done)break;h=f.value}var p=h;p.attributes&&Ke in p.attributes&&p.clear()}var m=t,g=Array.isArray(m),v=0;for(m=g?m:m[Symbol.iterator]();;){var b;if(g){if(v>=m.length)break;b=m[v++]}else{if(v=m.next(),v.done)break;b=v.value}var y=b,C=y.walker(),w=C.next();while(w){var x=w,I=x.node,A=x.entering;A&&this._markNode(I),w=C.next()}}}},n._removeBackgroundOfLines=function(e){for(var t=e.line,n=t[0],r=t[1],i=n;i<=r;i+=1)this._markedLines[i]&&(this.cm.removeLineClass(i,"background"),this._markedLines[i]=!1)},n._markCodeBlockBackground=function(e){for(var t=e.start,n=e.end,r=e.className,i=t;i<=n;i+=1){var o=r;i===t?o+=" start":i===n&&(o+=" end"),this.cm.addLineClass(i,"background",o),this._markedLines[i]=!0}},n._markNode=function(e){var t=this,n={line:Object(fe["f"])(e)-1,ch:Object(fe["e"])(e)-1},r={line:Object(fe["d"])(e)-1,ch:Object(fe["c"])(e)},i=Me(e,n,r,this.cm.getLine(r.line));if(i){var o=i.marks,a=void 0===o?[]:o,s=i.lineBackground,l=void 0===s?{}:s;a.forEach((function(e){var n,r=e.start,i=e.end,o=e.className,a=(n={},n[Ke]="",n);t.cm.markText(r,i,{className:o,attributes:a})})),this._markCodeBlockBackground(l)}},n._setToolbarState=function(e){if(We(this._latestState,e)){var t=je({source:"markdown"},e||ze);this.eventManager.emit("stateChange",t)}this._latestState=e},n._onChangeCursorActivity=function(){var e=this.cm.getCursor(),t=e.line,n=e.ch,r=t+1,i=this.cm.getLine(t).length===n?n:n+1,o=this.toastMark.findNodeAtPosition([r,i]),a=null;this.cm.state.isCursorInCodeBlock=o&&"codeBlock"===o.type,this.eventManager.emit("cursorActivity",{source:"markdown",cursor:{line:t,ch:n},markdownNode:o}),o&&(o="text"===o.type?o.parent:o,a=Ve(o,n,r,i)),this._setToolbarState(a)},n.resetState=function(){this._latestState=null},n.getToastMark=function(){return this.toastMark},t.factory=function(e,n,r,i){return new t(e,n,r,i)},t}(W),Ze=Ge,Ue=n(35),qe=n(2),Xe=n.n(qe),Ye=n(21),Je=n.n(Ye),Qe=n(8),et=n.n(Qe),tt=n(17),nt=n.n(tt),rt=n(11),it=n.n(rt),ot=n(47),at=n.n(ot),st=n(19),lt=n.n(st),ct=n(20),ut=n.n(ct),dt=n(0),ft=n(13),ht=n.n(ft),pt=n(25),mt="rgb(34, 34, 34)",gt=function(){function e(e){this.wwe=e}var t=e.prototype;return t.preparePaste=function(e){var t,n,r,i=this.wwe.getEditor().getSelection().cloneRange(),o=this.wwe.componentManager.getManager("codeblock"),a=!1,s=document.createElement("div");this._pasteFirstAid(e);var l=Xe()(e.childNodes);while(l.length)n=l[0],t=dt["a"].getNodeName(n),r="LI"===t||"UL"===t||"OL"===t,o.isInCodeBlock(i)?dt["a"].append(s,o.prepareToPasteOnCodeblock(l)):r?(dt["a"].append(s,this._prepareToPasteList(l,i,a)),a=!0):dt["a"].append(s,l.shift());e.innerHTML=s.innerHTML},t._wrapOrphanNodeWithDiv=function(e){var t,n=document.createElement("div");return Xe()(e.childNodes).forEach((function(e){var r=3===e.nodeType,i=/^(SPAN|A|CODE|EM|I|STRONG|B|S|U|ABBR|ACRONYM|CITE|DFN|KBD|SAMP|VAR|BDO|Q|SUB|SUP)$/gi.test(e.tagName),o="BR"===e.nodeName;r||i||o?(t||(t=document.createElement("div"),n.appendChild(t)),t.appendChild(e),o&&(t=null)):(t&&"BR"!==t.lastChild.tagName&&t.appendChild(document.createElement("br")),t=null,n.appendChild(e))})),n.innerHTML},t._sanitizeHtml=function(e){var t=this.wwe.getSanitizer(),n=Object(pt["a"])(e.innerHTML,!0);t&&t!==pt["a"]&&(n=t(n)),e.innerHTML=n},t._pasteFirstAid=function(e){var t=this;this._sanitizeHtml(e),dt["a"].findAll(e,"*").forEach((function(e){t._removeStyles(e)}));var n="div, section, article, aside, nav, menus, p";this._unwrapIfNonBlockElementHasBr(e),this._unwrapNestedBlocks(e,n),this._removeUnnecessaryBlocks(e,n),e.innerHTML=this._wrapOrphanNodeWithDiv(e),this._preElementAid(e),this._tableElementAid(e),Xe()(e.children).forEach((function(e){"BR"===dt["a"].getNodeName(e)&&dt["a"].remove(e)}))},t._preElementAid=function(e){var t=this.wwe.componentManager.getManager("codeblock");t.modifyCodeBlockForWysiwyg(e)},t._unwrapIfNonBlockElementHasBr=function(e){var t=dt["a"].findAll(e,"span, a, b, em, i, s");t.forEach((function(e){var t=dt["a"].children(e,"br");t.length&&"LI"!==e.nodeName&&"UL"!==e.nodeName&&dt["a"].unwrap(e)}))},t._unwrapNestedBlocks=function(e,t){var n=dt["a"].findAll(e,"*").filter((function(e){return!ht()(e,"b,s,i,em,code,span,hr")&&!e.firstChild}));n.forEach((function(n){var r="BR"===n.nodeName?n.parentNode:n;while(dt["a"].parents(r,t).length){var i=dt["a"].parent(r,t);i&&i!==e?dt["a"].unwrap(i):r=r.parentElement}}))},t._removeUnnecessaryBlocks=function(e,t){dt["a"].findAll(e,t).forEach((function(e){var n=e.tagName,r="DIV"===n,i=!!dt["a"].parent(e,"li"),o=!!dt["a"].parent(e,"blockquote"),a=!!dt["a"].children(e,t).length;r&&(i||o||!a)||(e.lastChild&&"BR"!==e.lastChild.nodeName&&e.appendChild(document.createElement("br")),dt["a"].replaceWith(e,e.innerHTML))}))},t._removeStyles=function(e){var t;"SPAN"!==dt["a"].getNodeName(e)?e.removeAttribute("style"):(e.getAttribute("style")&&(t=e.style.color),e.removeAttribute("style"),t&&t!==mt?f()(e,{color:t}):dt["a"].unwrap(e))},t._prepareToPasteList=function(e,t,n){var r=dt["a"].getNodeName(e[0]),i=e.shift(),o=this.wwe.getEditor().getDocument().createDocumentFragment();if("LI"!==r&&e.length&&"LI"===e[0].tagName&&(r="LI",i=this._makeNodeAndAppend({tagName:r},i)),"OL"===r||"UL"===r)!n&&this.wwe.getEditor().hasFormat("LI")?dt["a"].append(o,this._wrapCurrentFormat(i)):o.appendChild(i);else if("LI"===r){var a=this.wwe.getEditor().getDocument().createDocumentFragment();a.appendChild(i);while(e.length&&"LI"===e[0].tagName)a.appendChild(e.shift());!n&&this.wwe.getEditor().hasFormat("LI")?dt["a"].append(o,this._wrapCurrentFormat(a)):!t||"UL"!==t.commonAncestorName&&"OL"!==t.commonAncestorName?dt["a"].append(o,this._makeNodeAndAppend({tagName:"UL"},a)):dt["a"].append(o,this._makeNodeAndAppend({tagName:t.commonAncestorName},a))}return o},t._unwrapFragmentFirstChildForPasteAsInline=function(e){return dt["a"].findAll(e,"br").forEach((function(e){return dt["a"].remove(e)})),e.childNodes},t._wrapCurrentFormat=function(e){var t,n=this;return this._eachCurrentPath((function(r){"DIV"!==r.tagName&&(t=dt["a"].isElemNode(e)?e.tagName:e.firstChild.tagName,r.tagName!==t&&(e=n._makeNodeAndAppend(r,e)))})),e},t._eachCurrentPath=function(e){for(var t=dt["a"].getPath(this.wwe.getEditor().getSelection().startContainer,this.wwe.getBody()),n=t.length-1;n>-1;n-=1)e(t[n])},t._makeNodeAndAppend=function(e,t){var n=document.createElement(""+e.tagName);return n.appendChild(t),e.id&&n.setAttribute("id",e.id),e.className&&p()(n,e.className),n},t._tableElementAid=function(e){this._removeColgroup(e),this._completeTableIfNeed(e),this._updateTableIDClassName(e)},t._removeColgroup=function(e){var t=e.querySelector("colgroup");t&&dt["a"].remove(t)},t._completeTableIfNeed=function(e){var t=this.wwe.componentManager.getManager("table"),n=t.wrapDanglingTableCellsIntoTrIfNeed(e);n&&dt["a"].append(e,n);var r=t.wrapTrsIntoTbodyIfNeed(e);r&&dt["a"].append(e,r);var i=t.wrapTheadAndTbodyIntoTableIfNeed(e);i&&dt["a"].append(e,i)},t._updateTableIDClassName=function(e){var t=this.wwe.componentManager.getManager("table"),n=dt["a"].findAll(e,"table");n.forEach((function(e){var t=e.className.match(/.*\s*(te-content-table-\d+)\s*.*/);t&&g()(e,t[0])})),n.forEach((function(e){p()(e,t.getTableIDClassName())}))},e}(),vt=gt,bt=function(){function e(e){this.wwe=e}var t=e.prototype;return t.pasteClipboard=function(e){var t=e.clipboardData||window.clipboardData,n=t&&t.items;n?(this._pasteClipboardItem(n),e.preventDefault()):(this._pasteClipboardUsingPasteArea(),e.squirePrevented=!0)},t._pasteClipboardUsingPasteArea=function(){var e=this,t=this.wwe.getEditor(),n=t.getSelection(),r=n.startContainer,i=n.startOffset,o=n.endContainer,a=n.endOffset,s=document.createElement("div"),l=document,c=l.body;s.setAttribute("contenteditable",!0),s.setAttribute("style","position:fixed; overflow:hidden; top:0; right:100%; width:1px; height:1px;"),c.appendChild(s),n.selectNodeContents(s),t.setSelection(n),setTimeout((function(){var l=c.removeChild(s);n.setStart(r,i),n.setEnd(o,a),t.focus(),t.setSelection(n),e._pasteClipboardHtml(l.innerHTML)}))},t._pasteClipboardItem=function(e){var t=this,n=null,r=null;Xe()(e).forEach((function(e){"text/html"===e.type?r=e:"text/plain"===e.type&&(n=e)})),r?r.getAsString((function(e){t._pasteClipboardHtml(e)})):n&&n.getAsString((function(e){t._pasteClipboardContainer(document.createTextNode(e))}))},t._getSanitizedHtml=function(e){var t=this.wwe.getSanitizer();e=Object(pt["a"])(e,!0),t&&t!==pt["a"]&&(e=t(e));var n=document.createElement("div");return n.innerHTML=e,dt["a"].finalizeHtml(n)},t._pasteClipboardHtml=function(e){var t=document.createDocumentFragment(),n="\x3c!--StartFragment--\x3e",r="\x3c!--EndFragment--\x3e",i=e.indexOf(n),o=e.lastIndexOf(r);i>-1&&o>-1&&(e=e.slice(i+n.length,o)),/<\/td>((?!<\/tr>)[\s\S])*$/i.test(e)&&(e="<TR>"+e+"</TR>"),/<\/tr>((?!<\/table>)[\s\S])*$/i.test(e)&&(e="<TABLE>"+e+"</TABLE>"),t.appendChild(this._getSanitizedHtml(e)),this._pasteClipboardContainer(t)},t._pasteClipboardContainer=function(e){var t=this.wwe.getEditor(),n=e.childNodes,r=1===n.length&&"TABLE"===n[0].nodeName;if(r){var i=this.wwe.componentManager.getManager("table");i.pasteTableData(e)}else{var o=t.getSelection().cloneRange(),a=this._preparePasteDocumentFragment(e);t.saveUndoState(o),o.collapsed||this._deleteContentsRange(o),dt["a"].isTextNode(o.startContainer)?this._pasteIntoTextNode(o,a):this._pasteIntoElements(o,a),t.setSelection(o)}},t._preparePasteDocumentFragment=function(e){var t=e.childNodes,n=document.createDocumentFragment();return t.length?n.appendChild(this._unwrapBlock(e)):this._isPossibleInsertToTable(e)&&n.appendChild(e),n},t._unwrapBlock=function(e){var t=document.createDocumentFragment(),n=Xe()(e.childNodes);while(n.length){var r=n.shift();if(this._isPossibleInsertToTable(r))t.appendChild(r);else{t.appendChild(this._unwrapBlock(r));var i=t.lastChild;n.length&&i&&"BR"!==i.nodeName&&t.appendChild(document.createElement("br"))}}return t},t._isPossibleInsertToTable=function(e){var t=e.nodeName,n="CODE"===t&&e.childNodes.length>1,r="UL"===t||"OL"===t;return!n&&(r||dt["a"].isMDSupportInlineNode(e)||dt["a"].isTextNode(e))},t._pasteIntoElements=function(e,t){var n=e.startContainer,r=e.startOffset,i=dt["a"].getChildNodeByOffset(n,r);if(i)n.insertBefore(t,i),e.setStart(i,0);else if("TD"===n.nodeName)n.appendChild(t),e.setStart(n,n.childNodes.length);else{var o=n.parentNode,a=n.nextSibling;o.insertBefore(t,a),a?e.setStart(a,0):e.setStartAfter(o.lastChild)}e.collapse(!0)},t._pasteIntoTextNode=function(e,t){var n=e.startContainer,r=e.startOffset,i=n.parentNode,o=n.textContent,a=o.slice(0,r),s=o.slice(r,o.length),l=t.childNodes,c=l[0],u=1===l.length&&dt["a"].isTextNode(c);if(a)if(s)if(u){var d=c.textContent;n.textContent=""+a+d+s,e.setStart(n,a.length+d.length)}else{var f=document.createDocumentFragment();f.appendChild(document.createTextNode(a)),f.appendChild(t),f.appendChild(document.createTextNode(s)),i.replaceChild(f,n);var h=Xe()(i.childNodes),p=0;h.forEach((function(e,t){e.textContent===s&&(p=t)})),e.setStart(i.childNodes[p],0)}else{var m=n.nextSibling;i.insertBefore(t,m),e.setStartAfter(m)}else i.insertBefore(t,n),e.setStart(n,0);e.collapse(!0)},t._deleteContentsRange=function(e){var t=e.startContainer,n=e.startOffset,r=e.endContainer,i=e.endOffset;t===r?(this._deleteContentsByOffset(t,n,i),e.setStart(t,n),e.collapse(!0)):this._deleteNotCollapsedRangeContents(e)},t._deleteNotCollapsedRangeContents=function(e){var t=e.startContainer,n=e.startOffset,r=e.endContainer,i=e.endOffset,o=e.commonAncestorContainer,a=this._getBlock(t,o,n),s=this._getBlock(r,o,i-1);if(a===s)this._removeInSameBlock(a,t,r,n,i),s=r!==s?null:s;else{var l=a.nextSibling;"TD"===t.nodeName?l=this._removeOneLine(a):(this._deleteContentsByOffset(t,n,dt["a"].getOffsetLength(t)),dt["a"].removeNodesByDirection(a,t,!1)),"TD"===r.nodeName?s=this._removeOneLine(s):(this._deleteContentsByOffset(r,0,i),dt["a"].removeNodesByDirection(s,r,!0)),dt["a"].removeChildFromStartToEndNode(o,l,s)}s?e.setStart(s,0):e.setStartAfter(a),e.collapse(!0)},t._removeInSameBlock=function(e,t,n,r,i){var o=t===e?r:0,a=n===e?i:dt["a"].getOffsetLength(e);this._deleteContentsByOffset(e,o,a)},t._removeOneLine=function(e){var t=e.nextSibling,n=e.parentNode,r=t;return n.removeChild(e),t&&"BR"===t.nodeName&&(r=t.nextSibling,n.removeChild(t)),r},t._getBlock=function(e,t,n){return dt["a"].getParentUntil(e,t)||dt["a"].getChildNodeByOffset(e,n)},t._deleteContentsByOffset=function(e,t,n){if(dt["a"].isTextNode(e)){var r=e.textContent,i=r.slice(0,t),o=r.slice(n,r.length);e.textContent=""+i+o}else{var a=dt["a"].getChildNodeByOffset(e,t),s=dt["a"].getChildNodeByOffset(e,n);a&&dt["a"].removeChildFromStartToEndNode(e,a,s||null)}},e}(),yt=bt,Ct="tui-paste-table-bookmark",wt="tui-paste-table-cell-bookmark",xt=function(){function e(e){this.wwe=e,this._pch=new vt(this.wwe),this._tablePasteHelper=new yt(this.wwe),this._selectedSellCount=0,this._clipboardArea=null}var t=e.prototype;return t.init=function(){var e=this;this.wwe.eventManager.listen("willPaste",(function(t){return e._executeHandler(e._onWillPaste.bind(e),t)})),this.wwe.eventManager.listen("copy",(function(t){return e._executeHandler(e._onCopyCut.bind(e),t)})),this.wwe.eventManager.listen("copyAfter",(function(t){return e._executeHandler(e._onCopyAfter.bind(e),t)})),this.wwe.eventManager.listen("cut",(function(t){return e._executeHandler(e._onCopyCut.bind(e),t)})),this.wwe.eventManager.listen("cutAfter",(function(t){return e._executeHandler(e._onCutAfter.bind(e),t)})),this.wwe.eventManager.listen("paste",(function(t){return e._executeHandler(e._onPasteIntoTable.bind(e),t)}))},t._executeHandler=function(e,t){"wysiwyg"===t.source&&e(t)},t._onCopyCut=function(e){var t=this.wwe.componentManager.getManager("tableSelection"),n=t.getSelectedCells().length;if(n)if(t.mergedTableSelectionManager){var r=this.wwe.getEditor(),i=e.data,o=r.getSelection().cloneRange(),a=document.createElement("div");this._extendRange(o),a.innerHTML=o.cloneContents(),this._updateCopyDataForListTypeIfNeed(o,a),this.wwe.eventManager.emit("copyBefore",{source:"wysiwyg",clipboardContainer:a}),this._setClipboardData(i,a.innerHTML,a.textContent)}else t.createRangeBySelectedCells()},t._clearClipboardArea=function(){this._clipboardArea&&(dt["a"].remove(this._clipboardArea),this._clipboardArea=null)},t._onCopyAfter=function(){this.wwe.getEditor().getBody().focus(),this._clearClipboardArea()},t._onCutAfter=function(){var e=this.wwe.getEditor().getSelection();e.deleteContents(),this.wwe.getEditor().focus(),this._clearClipboardArea()},t._onPasteIntoTable=function(e){var t=e.data,n=this.wwe.getEditor().getSelection();this.wwe.isInTable(n)&&this._isSingleCellSelected(n)&&this._tablePasteHelper.pasteClipboard(t)},t._isSingleCellSelected=function(e){var t=e.startContainer,n=e.endContainer;return this._getCell(t)===this._getCell(n)},t._getCell=function(e){return"TD"===e.nodeName?e:dt["a"].getParentUntil(e,"TR")},t._replaceNewLineToBr=function(e){var t=dt["a"].getAllTextNode(e);t.forEach((function(e){/\n/.test(e.nodeValue)&&(e.parentNode.innerHTML=e.nodeValue.replace(/\n/g,"<br>"))}))},t._onWillPaste=function(e){var t=this,n=e.data,r=document.createElement("div");r.appendChild(n.fragment.cloneNode(!0)),this._preparePaste(r),this._setTableBookmark(r),n.fragment=document.createDocumentFragment(),Xe()(r.childNodes).forEach((function(e){"DIV"===dt["a"].getNodeName(e)&&t._replaceNewLineToBr(e),n.fragment.appendChild(e)}));var i=function e(){t.wwe.getEditor().removeEventListener("input",e),t.wwe.eventManager.emit("wysiwygRangeChangeAfter",t),t._focusTableBookmark()};this.wwe.getEditor().addEventListener("input",i)},t._setClipboardData=function(e,t,n){it.a.msie?(e.squirePrevented=!0,this._clipboardArea=this._createClipboardArea(),this._clipboardArea.innerHTML=t,this._clipboardArea.focus(),window.getSelection().selectAllChildren(this._clipboardArea)):(e.preventDefault(),e.stopPropagation(),e.clipboardData.setData("text/html",t),e.clipboardData.setData("text/plain",n))},t._createClipboardArea=function(){var e=document.createElement("div");return e.setAttribute("contenteditable",!0),f()(e,{position:"fixed",overflow:"hidden",top:0,right:"100%",width:"1px",height:"1px"}),document.body.appendChild(e),e},t._updateCopyDataForListTypeIfNeed=function(e,t){var n=e.commonAncestorContainer.nodeName;if("UL"===n||"OL"===n){var r=document.createElement(n);r.appendChild(t),t.innerHTML="",t.appendChild(r)}},t._removeEmptyFontElement=function(e){var t=dt["a"].children(e,"font");t.forEach((function(e){e.textContent.trim()||dt["a"].remove(e)}))},t._isFromMs=function(e){return/<p style="[^>]*mso-/.test(e)},t._preProcessPtag=function(e){dt["a"].findAll(e,"p").forEach((function(e){e.lastChild&&"BR"!==e.lastChild.nodeName&&e.appendChild(document.createElement("br")),e.appendChild(document.createElement("br"))}))},t._preparePaste=function(e){this._isFromMs(e.innerText)||this._preProcessPtag(e),this._removeEmptyFontElement(e),this._pch.preparePaste(e),this.wwe.eventManager.emit("pasteBefore",{source:"wysiwyg",clipboardContainer:e})},t._setTableBookmark=function(e){var t=e.lastChild,n=t&&"TABLE"===t.nodeName;n&&p()(t,Ct)},t._focusTableBookmark=function(){var e=this.wwe.getEditor(),t=e.getSelection().cloneRange(),n=e.getBody().querySelector("."+Ct),r=e.getBody().querySelector("."+wt);n&&(g()(n,Ct),t.setEndAfter(n),t.collapse(!1),e.setSelection(t)),r&&(g()(r,wt),t.selectNodeContents(r),t.collapse(!1),e.setSelection(t))},t._extendRange=function(e){(!dt["a"].isTextNode(e.commonAncestorContainer)||0===e.startOffset&&e.commonAncestorContainer.textContent.length===e.endOffset||"TD"===e.commonAncestorContainer.nodeName)&&(0===e.startOffset&&(e=this._extendStartRange(e)),e.endOffset===dt["a"].getOffsetLength(e.endContainer)&&(e=this._extendEndRange(e)),this._isWholeCommonAncestorContainerSelected(e)&&e.selectNode(e.commonAncestorContainer),this.wwe.getEditor().setSelection(e))},t._extendStartRange=function(e){var t=e.startContainer;while(t.parentNode!==e.commonAncestorContainer&&t.parentNode!==this.wwe.getBody()&&!t.previousSibling)t=t.parentNode;return e.setStart(t.parentNode,dt["a"].getNodeOffsetOfParent(t)),e},t._extendEndRange=function(e){var t=e.endContainer,n=t.nextSibling;while(t.parentNode!==e.commonAncestorContainer&&t.parentNode!==this.wwe.getBody()&&(!n||"BR"===dt["a"].getNodeName(n)&&t.parentNode.lastChild===n))t=t.parentNode,n=t.nextSibling;return e.setEnd(t.parentNode,dt["a"].getNodeOffsetOfParent(t)+1),e},t._isWholeCommonAncestorContainerSelected=function(e){return e.commonAncestorContainer.nodeType===Node.ELEMENT_NODE&&e.commonAncestorContainer!==this.wwe.getBody()&&0===e.startOffset&&e.endOffset===e.commonAncestorContainer.childNodes.length&&e.commonAncestorContainer===e.startContainer&&e.commonAncestorContainer===e.endContainer},e}(),It=xt,At=/<li/i,kt="DIV,LI",St="OL,UL",_t=/(<(?:th|td)[^>]*>)(.*?)(<\/(?:th|td)>)/g,Tt=/<(ul|ol|li)([^>]*)>/g,Et=function(){function e(e){this.wwe=e,this.eventManager=e.eventManager,this.name="list",this._init()}var t=e.prototype;return t._init=function(){this._initEvent(),this._initKeyHandler()},t._initEvent=function(){var e=this;this.eventManager.listen("wysiwygSetValueBefore",(function(t){return e._convertToArbitraryNestingList(t)})),this.eventManager.listen("wysiwygRangeChangeAfter",(function(){e._findAndRemoveEmptyList(),e._removeBranchListAll()})),this.eventManager.listen("wysiwygSetValueAfter",(function(){e._removeBranchListAll()})),this.eventManager.listen("wysiwygProcessHTMLText",(function(t){return t=e._convertFromArbitraryNestingList(t),t})),this.eventManager.listen("convertorBeforeHtmlToMarkdownConverted",(function(t){return e._insertDataToMarkPassForListInTable(t)}))},t._initKeyHandler=function(){var e=this;this.wwe.addKeyEventHandler(["TAB","CTRL+]","META+]"],(function(t){var n;return e.wwe.getEditor().hasFormat("LI")&&(t.preventDefault(),e.eventManager.emit("command","Indent"),n=!1),n})),this.wwe.addKeyEventHandler(["SHIFT+TAB","CTRL+[","META+["],(function(t,n){var r;if(e.wwe.getEditor().hasFormat("LI")){t.preventDefault();var i=dt["a"].children(dt["a"].closest(n.startContainer,"li"),St);e.eventManager.emit("command","Outdent"),i.length&&!i.previousSibling&&e._removeBranchList(i),r=!1}return r})),this.wwe.addKeyEventHandler("ENTER",(function(t,n){n.collapsed&&e.wwe.getEditor().hasFormat("LI")&&e.wwe.defer((function(){var t=e.wwe.getRange(),n=dt["a"].parents(t.startContainer,"li"),r=n[0];e._removeBranchListAll(r)}))})),this.wwe.addKeyEventHandler("BACK_SPACE",(function(t,n){n.collapsed&&e.wwe.getEditor().hasFormat("LI")&&e.wwe.defer((function(){e._removeBranchListAll()}))}))},t._findAndRemoveEmptyList=function(){dt["a"].findAll(this.wwe.getBody(),St).forEach((function(e){At.test(e.innerHTML)||dt["a"].remove(e)}))},t._removeBranchListAll=function(e){var t=this;e=e||this.wwe.getBody(),dt["a"].findAll(e,"li > ul, li > ol").forEach((function(e){e&&!e.previousSibling&&t._removeBranchList(e)}))},t._removeBranchList=function(e){var t=e;while(!t.previousSibling&&t.parentElement.tagName.match(/UL|OL|LI/g))t=t.parentElement;var n=dt["a"].children(t,"li"),r=n[0],i=dt["a"].unwrap(e);dt["a"].prepend(t,i),dt["a"].remove(r)},t._convertToArbitraryNestingList=function(e){var t="li > ul, li > ol",n=dt["a"].createElementWith("<div>"+e+"</div>"),r=n.querySelector(t);while(null!==r){var i=r.parentNode,o=i.parentNode;o.insertBefore(r,i.nextElementSibling),r=n.querySelector(t)}return n.innerHTML},t._convertFromArbitraryNestingList=function(e){var t="ol > ol, ol > ul, ul > ol, ul > ul",n=dt["a"].createElementWith("<div>"+e+"</div>"),r=n.querySelector(t);while(null!==r){var i=r.previousElementSibling;while(i&&"LI"!==i.tagName)i=i.previousElementSibling;i?i.appendChild(r):this._unwrap(r),r=n.querySelector(t)}return n.innerHTML},t._unwrap=function(e){var t=document.createDocumentFragment();while(e.firstChild)t.appendChild(e.firstChild);e.parentNode.replaceChild(t,e)},t._insertDataToMarkPassForListInTable=function(e){var t=e.replace(_t,(function(e,t,n,r){var i=n.replace(Tt,'<$1 data-tomark-pass="" $2>');return""+t+i+r}));return t},t.getLinesOfSelection=function(e,t){var n,r=[],i=!1,o=!0;if(dt["a"].isTextNode(e)){var a=dt["a"].parents(e,kt);e=a[0]}if(dt["a"].isTextNode(t)){var s=dt["a"].parents(t,kt);t=s[0]}for(var l=e;o;l=n){if(!ht()(l,kt))break;r.push(l),l===t?i=!0:n=this._getNextLine(l,t),o=n&&!i}return r},t._getNextLine=function(e,t){var n=e.nextElementSibling;return n?ht()(n,St)&&(n=n.querySelector("li")):n=e.parentNode.nextElementSibling,ht()(n,kt)||n===t?n:this._getNextLine(n)},t.mergeList=function(e){var t=e.parentNode,n=t.previousElementSibling,r=t.nextElementSibling;t.firstElementChild===e&&n&&ht()(n,St)&&(this._mergeList(t,n),t=n),t.lastElementChild===e&&r&&ht()(r,St)&&this._mergeList(r,t)},t._mergeList=function(e,t){var n=e.firstElementChild;if(t&&ht()(t,St)){while(n){var r=n.nextElementSibling;t.appendChild(n),n=r}e.parentNode.removeChild(e)}},t.isAvailableMakeListInTable=function(){var e=this.wwe.componentManager.getManager("tableSelection"),t=e.getSelectedCells(),n=this.wwe.getEditor();return t&&n.hasFormat("table")&&!n.hasFormat("OL")&&!n.hasFormat("UL")},t._getParentNodeBeforeTD=function(e,t){var n=dt["a"].getParentUntil(e,"TD");if(!n){var r=e.childNodes,i=r?r.length:0,o=t>0&&t===i?t-1:t;n=dt["a"].getChildNodeByOffset(e,o)}return n},t._findLINodeInsideTD=function(e,t){var n=null,r=dt["a"].getParentUntilBy(e,(function(e){return e&&dt["a"].isListNode(e)}),(function(e){return e&&"TD"===e.nodeName}));if(r)n=r;else if("LI"===e.nodeName)n=e;else if(dt["a"].isListNode(e)){var i=e.childNodes.length;n=e.childNodes[t>=i?i-1:t]}return n},t._getFirstNodeInLineOfTable=function(e,t){var n=this._findLINodeInsideTD(e,t);if(!n){n=this._getParentNodeBeforeTD(e,t);var r=n,i=r.previousSibling;while(i&&"BR"!==i.nodeName&&!dt["a"].isListNode(i))n=i,i=n.previousSibling}return n},t._getLastNodeInLineOfTable=function(e,t){var n=this._findLINodeInsideTD(e,t);if(!n){n=this._getParentNodeBeforeTD(e,t);while(n.nextSibling){if("BR"===n.nodeName||dt["a"].isListNode(n))break;n=n.nextSibling}}return n},t._isLastNodeInLineOfTable=function(e){var t=e.nodeName;return"LI"===t||"BR"===t},t._getNextNodeInLineOfTable=function(e){var t=e.nextSibling;if("LI"!==e.nodeName||t)dt["a"].isListNode(t)&&(t=t.firstChild);else{var n=e.parentNode;while("TD"!==n.nodeName){if(n.nextSibling){t=n.nextSibling;break}n=n.parentNode}}return t},t._getLinesOfSelectionInTable=function(e){var t=e.startContainer,n=e.endContainer,r=e.startOffset,i=e.endOffset,o=this._getFirstNodeInLineOfTable(t,r),a=this._getLastNodeInLineOfTable(n,i),s=[],l=[];while(o){if(l.push(o),this._isLastNodeInLineOfTable(o)&&(s.push(l),l=[]),o===a){l.length&&s.push(l);break}o=this._getNextNodeInLineOfTable(o)}return s},t._createListElement=function(e){return document.createElement("TASK"===e?"UL":e)},t._createListItemElement=function(e,t){var n=document.createElement("li");if(e.forEach((function(e){n.appendChild(e)})),"TASK"===t){var r=this.wwe.componentManager.getManager("task");r.formatTask(n)}return n},t._mergeListWithPreviousSibiling=function(e){var t=e.previousSibling,n=e;return t&&e.nodeName===t.nodeName&&(this._mergeList(e,t),n=t),n},t._mergeListWithNextSibiling=function(e){var t=e.nextSibling;return t&&e.nodeName===t.nodeName&&this._mergeList(t,e),e},t.createListInTable=function(e,t){var n=this,r=this._getLinesOfSelectionInTable(e),i=r[r.length-1],o=i[i.length-1],a=o.nextSibling,s=o.parentNode,l=this._createListElement(t),c=l,u=c.nodeName,d=[];return r.forEach((function(e){var r,i=e[0];if("LI"===i.nodeName){var o=i.parentNode;if(r=i,o.nodeName!==u){var a=o.childNodes;Xe()(a).forEach((function(){l.appendChild(o.firstChild)})),o.parentNode.replaceChild(l,o)}l=r.parentNode}else r=n._createListItemElement(e,t),l.appendChild(r);d.push(r)})),l.parentNode||s.insertBefore(l,a),l=this._mergeListWithPreviousSibiling(l),this._mergeListWithNextSibiling(l),d},t.adjustRange=function(e,t,n,r,i){var o=dt["a"].containsNode(i[0],e)?e:i[0],a=dt["a"].containsNode(i[i.length-1],t)?t:i[i.length-1],s="TD"===e.nodeName?0:n,l="TD"===t.nodeName?0:r;this.wwe.setSelectionByContainerAndOffset(o,s,a,l)},e}(),Ot=Et,Rt=n(16),Nt=n.n(Rt),Lt="task-list-item",Dt="data-te-task",Bt="checked",Mt=function(){function e(e){this.wwe=e,this.eventManager=e.eventManager,this.name="task",this._init()}var t=e.prototype;return t._init=function(){this._initKeyHandler(),this._initEvent(),this.wwe.getEditor().addEventListener("mousedown",(function(e){var t=getComputedStyle(e.target,":before");e.target.hasAttribute(Dt)&&dt["a"].isInsideTaskBox(t,e.offsetX,e.offsetY)&&(e.preventDefault(),dt["a"].toggleClass(e.target,Bt))}))},t._initEvent=function(){var e=this;this.eventManager.listen("wysiwygSetValueAfter",(function(){e._removeTaskListClass()}))},t._initKeyHandler=function(){var e=this;this.wwe.addKeyEventHandler("ENTER",(function(t,n){e.isInTaskList(n)&&e.wwe.defer((function(){var t=e.wwe.getRange(),n=dt["a"].closest(t.startContainer,"li");n&&g()(n,Bt)}))}))},t.isInTaskList=function(e){var t;if(e||(e=this.wwe.getEditor().getSelection().cloneRange()),e.startContainer.nodeType===Node.ELEMENT_NODE&&"LI"===e.startContainer.tagName)t=e.startContainer;else{var n=dt["a"].parents(e.startContainer,"li");t=n[0]}return!!t&&Nt()(t,Lt)},t.unformatTask=function(e){var t=dt["a"].closest(e,"li");g()(t,Lt),g()(t,Bt),t.removeAttribute(Dt),t.getAttribute("class")||t.removeAttribute("class")},t.formatTask=function(e){var t=dt["a"].closest(e,"li");p()(t,Lt),t.setAttribute(Dt,"")},t._formatTaskIfNeed=function(){var e=this.wwe.getEditor().getSelection().cloneRange();this.isInTaskList(e)&&this.formatTask(e.startContainer)},t._removeTaskListClass=function(){dt["a"].findAll(this.wwe.getBody(),".task-list").forEach((function(e){g()(e,"task-list")}))},e}(),Pt=Mt,Ft=it.a.msie&&10===it.a.version,jt="te-content-table-",Ht=it.a.msie&&(10===it.a.version||11===it.a.version),zt=it.a.msie?"":"<br>",$t="te-cell-selected",Vt=function(){function e(e){this.wwe=e,this.eventManager=e.eventManager,this.name="table",this._lastCellNode=null,this._init()}var t=e.prototype;return t._init=function(){this._initKeyHandler(),this._initEvent(),this.tableID=0},t._initEvent=function(){var e=this;this.eventManager.listen("wysiwygRangeChangeAfter.table",(function(){var t=e.wwe.getEditor().getSelection(),n=e.wwe.isInTable(t);if(e._unwrapBlockInTable(),e._completeTableIfNeed(),!n){var r=e.wwe.componentManager.getManager("tableSelection");r.removeClassAttrbuteFromAllCellsIfNeed()}e._insertDefaultBlockBetweenTable()})),this.eventManager.listen("wysiwygSetValueAfter.table",(function(){e._unwrapBlockInTable(),e._insertDefaultBlockBetweenTable()})),this.eventManager.listen("wysiwygProcessHTMLText.table",(function(e){return e.replace(/<br \/>(<\/td>|<\/th>)/g,"$1")})),this.eventManager.listen("cut.table",(function(){var t=e.wwe.componentManager.getManager("tableSelection"),n=t.getSelectedCells();n.length&&n.forEach((function(e){e.innerHTML=zt})),t.removeClassAttrbuteFromAllCellsIfNeed()})),this.eventManager.listen("copyBefore.table",(function(t){var n=t.clipboardContainer;return e.updateTableHtmlOfClipboardIfNeed(n)}))},t.updateTableHtmlOfClipboardIfNeed=function(e){var t=this,n=this.wwe.componentManager.getManager("tableSelection"),r=n.getSelectedCells();if(r.length){n.createRangeBySelectedCells();var i=this.wwe.getEditor().getSelection().cloneContents();Xe()(i.children).forEach((function(e){if(t.isTableOrSubTableElement(e.nodeName))if("TABLE"===e.nodeName&&e.querySelector("thead")&&e.querySelector("tbody"))dt["a"].remove(e);else if(e.previousSibling&&"TABLE"===e.previousSibling.nodeName)e.previousSibling.appendChild(e);else if(t._completeIncompleteTable(e),"TABLE"!==e.nodeName&&"THEAD"!==e.nodeName){var n=dt["a"].closest(e,"table").querySelector("thead");dt["a"].remove(n)}})),e.appendChild(i),dt["a"].findAll(e,"."+$t).forEach((function(e){g()(e,$t)}))}},t.pasteTableData=function(e){this._expandTableIfNeed(e),this._pasteDataIntoTable(e)},t._initKeyHandler=function(){var e=this;this.keyEventHandlers={DEFAULT:function(t,n,r){var i=e.wwe.isInTable(n);i&&!e._isModifierKey(r)?(e._recordUndoStateIfNeed(n),e._removeContentsAndChangeSelectionIfNeed(n,r,t)):!i&&e._lastCellNode&&e._recordUndoStateAndResetCellNode(n),i&&!e._isModifierKeyPushed(t)&&e.wwe.getEditor().modifyDocument((function(){var t=e.wwe.componentManager.getManager("tableSelection");t.removeClassAttrbuteFromAllCellsIfNeed()}))},ENTER:function(t,n){var r;return e._isAfterTable(n)?(t.preventDefault(),n.setStart(n.startContainer,n.startOffset-1),e.wwe.breakToNewDefaultBlock(n),r=!1):e._isBeforeTable(n)?(t.preventDefault(),e.wwe.breakToNewDefaultBlock(n,"before"),r=!1):e.wwe.isInTable(n)&&(!e._isInList(n.startContainer)&&e._isInStyledText(n)?e.wwe.defer((function(){e._removeBRinStyleText()})):e._isEmptyFirstLevelLI(n)&&e.wwe.defer((function(){var t=e.wwe.getRange().cloneRange(),n=t.startContainer,r=document.createElement("br");n.parentNode.replaceChild(r,n),t.setStartBefore(r),t.collapse(!0),e.wwe.getEditor().setSelection(t)})),e._appendBrIfTdOrThNotHaveAsLastChild(n),r=!1),r},BACK_SPACE:function(t,n,r){return e._handleBackspaceAndDeleteKeyEvent(t,n,r)},DELETE:function(t,n,r){return e._handleBackspaceAndDeleteKeyEvent(t,n,r)},TAB:function(){return e._moveCursorTo("next","cell")},"SHIFT+TAB":function(t){return e._moveCursorTo("previous","cell",t)},UP:function(t){return e._moveCursorTo("previous","row",t)},DOWN:function(t){return e._moveCursorTo("next","row",t)}},i()(this.keyEventHandlers,(function(t,n){return e.wwe.addKeyEventHandler(n,t)}))},t._isEmptyListItem=function(e){var t=e.childNodes,n=e.nodeName;return"LI"===n&&1===t.length&&"BR"===t[0].nodeName},t._isEmptyFirstLevelLI=function(e){var t=e.collapsed,n=e.startContainer,r=e.startOffset;return t&&0===r&&this._isEmptyListItem(n)&&dt["a"].isFirstLevelListItem(n)},t._isInStyledText=function(e){var t,n=e.startContainer;return t=dt["a"].isTextNode(n)?n.parentNode:n,e.collapsed&&dt["a"].isStyledNode(t)},t._removeBRinStyleText=function(){var e,t=this.wwe.getRange(),n=t.startContainer,r=t.startOffset;e="TD"===n.nodeName?dt["a"].getChildNodeByOffset(n,r-1):dt["a"].getParentUntil(n,"TD");var i=e.querySelector("br");if(i){var o=e,a=o.parentNode,s=o.nodeName;if("CODE"!==s||i.previousSibling)if("CODE"!==s||i.nextSibling){var l=this._splitByBR(e,i);t.setStart(l,0)}else a.insertBefore(i,e.nextSibling),t.setStart(a,dt["a"].getNodeOffsetOfParent(i)+1);else a.insertBefore(i,e),t.setStart(e,0);t.collapse(!0),this.wwe.getEditor().setSelection(t)}},t._splitByBR=function(e,t){var n=e.cloneNode(!0),r=document.createElement("br"),i=e.parentNode;dt["a"].removeNodesByDirection(e,t,!1),t.parentNode.removeChild(t);var o=n.querySelector("br");dt["a"].removeNodesByDirection(n,o,!0),o.parentNode.removeChild(o),i.insertBefore(n,e.nextSibling),i.insertBefore(r,n);var a=dt["a"].getLeafNode(n);return dt["a"].getTextLength(a)||(a.textContent="​"),a},t._isBeforeTable=function(e){return"TABLE"===dt["a"].getNodeName(dt["a"].getChildNodeByOffset(e.startContainer,e.startOffset))},t._isAfterTable=function(e){var t=dt["a"].getPrevOffsetNodeUntil(e.startContainer,e.startOffset);return"TABLE"===dt["a"].getNodeName(t)&&e.commonAncestorContainer===this.wwe.getBody()},t._handleBackspaceAndDeleteKeyEvent=function(e,t,n){var r="BACK_SPACE"===n,i=this.wwe.componentManager.getManager("tableSelection"),o=i.getSelectedCells(),a=!0;if(t.collapsed){if(this.wwe.isInTable(t))r?this._tableHandlerOnBackspace(t,e):this._tableHandlerOnDelete(t,e),this._removeContentsAndChangeSelectionIfNeed(t,n,e),a=!1;else if(!r&&this._isBeforeTable(t)||r&&this._isAfterTable(t)){e.preventDefault();var s=r?t.startOffset-1:t.startOffset;this._removeTable(t,dt["a"].getChildNodeByOffset(t.startContainer,s)),a=!1}}else if(this.wwe.isInTable(t)&&o.length>0){var l=this._removeContentsAndChangeSelectionIfNeed(t,n,e);l&&(e.preventDefault(),a=!1)}return a},t._moveListItemToPreviousOfList=function(e,t){var n=e.parentNode,r=e.firstChild,i=document.createDocumentFragment();dt["a"].mergeNode(e,i),n.parentNode.insertBefore(i,n),t.setStart(r,0),t.collapse(!0),this.wwe.getEditor().setSelection(t),n.hasChildNodes()||n.parentNode.removeChild(n)},t._isInList=function(e){return dt["a"].getParentUntilBy(e,(function(e){return e&&(dt["a"].isListNode(e)||"LI"===e.nodeName)}),(function(e){return e&&("TD"===e.nodeName||"TH"===e.nodeName)}))},t._findListItem=function(e){return dt["a"].getParentUntilBy(e,(function(e){return e&&dt["a"].isListNode(e)}),(function(e){return e&&("TD"===e.nodeName||"TH"===e.nodeName)}))},t._tableHandlerOnBackspace=function(e,t){var n=e.startContainer,r=e.startOffset,i=this._findListItem(n);if(i&&0===r&&dt["a"].isFirstListItem(i)&&dt["a"].isFirstLevelListItem(i))this.wwe.getEditor().saveUndoState(e),this._moveListItemToPreviousOfList(i,e),t.preventDefault();else{var o=dt["a"].getPrevOffsetNodeUntil(n,r,"TR"),a=dt["a"].getNodeName(o);"BR"===a&&1!==o.parentNode.childNodes.length&&(t.preventDefault(),dt["a"].remove(o))}},t._isDeletingBR=function(e){var t=this._getCurrentNodeInCell(e),n=t&&t.nextSibling;return"BR"===dt["a"].getNodeName(t)&&!!n&&"BR"===dt["a"].getNodeName(n)},t._getCurrentNodeInCell=function(e){var t,n=e.startContainer,r=e.startOffset;return"TD"===dt["a"].getNodeName(n)?t=dt["a"].getChildNodeByOffset(n,r):dt["a"].getParentUntil(n,"TD")&&(t=n),t},t._isEndOfList=function(e,t){var n=t.startContainer,r=t.startOffset,i=!1;if(!e.nextSibling)if(e===n){var o=dt["a"].getOffsetLength(e);"BR"===e.lastChild.nodeName&&(o-=1),i=o===r}else{var a=dt["a"].getParentUntil(n,"li")||n,s=dt["a"].getOffsetLength(n),l=e.lastChild;"BR"===l.nodeName&&(l=l.previousSibling),i=l===a&&s===r}return i},t._getNextLineNode=function(e){var t=document.createDocumentFragment(),n=dt["a"].getParentUntil(e,"TD"),r=n.nextSibling;while(r){var i=r,o=i.nextSibling;if(t.appendChild(r),"BR"===r.nodeName)break;r=o}return t},t._tableHandlerOnDelete=function(e,t){var n=this._findListItem(e.startContainer);if(n&&this._isEndOfList(n,e))this.wwe.getEditor().saveUndoState(e),"BR"===n.lastChild.nodeName&&n.removeChild(n.lastChild),dt["a"].mergeNode(this._getNextLineNode(n),n),t.preventDefault();else if(this._isDeletingBR(e)){var r=this._getCurrentNodeInCell(e);r.parentNode.removeChild(r.nextSibling),t.preventDefault()}},t._appendBrIfTdOrThNotHaveAsLastChild=function(e){var t,n=dt["a"].getNodeName(e.startContainer);if("TD"===n||"TH"===n)t=e.startContainer;else{var r=dt["a"].parentsUntil(e.startContainer,"tr");t=r[r.length-1]}var i=dt["a"].getNodeName(t.lastChild);"BR"===i||"DIV"===i||"UL"===i||"OL"===i||Ht||dt["a"].append(t,"<br />")},t._unwrapBlockInTable=function(){var e=dt["a"].findAll(this.wwe.getBody(),"td div,th div,tr>br,td>br,th>br");e.forEach((function(e){if("BR"===dt["a"].getNodeName(e)){var t=dt["a"].getNodeName(e.parentNode),n=/TD|TH/.test(t),r=0===e.parentNode.textContent.length,i=e.parentNode.lastChild===e;("TR"===t||n&&!r&&i)&&dt["a"].remove(e)}else dt["a"].unwrap(e)}))},t._insertDefaultBlockBetweenTable=function(){var e=dt["a"].findAll(this.wwe.getBody(),"table");e.forEach((function(e){if(e.nextElementSibling&&"TABLE"===e.nextElementSibling.nodeName){var t=document.createElement("div");t.appendChild(document.createElement("br")),dt["a"].insertAfter(t,e)}}))},t._removeTable=function(e,t){"TABLE"===t.tagName&&(this.wwe.getEditor().saveUndoState(e),this.wwe.saveSelection(e),dt["a"].remove(t),this.wwe.restoreSavedSelection())},t._recordUndoStateIfNeed=function(e){var t=dt["a"].getParentUntil(e.startContainer,"TR");e.collapsed&&t&&this._lastCellNode!==t&&(this.wwe.getEditor().saveUndoState(e),this._lastCellNode=t)},t._recordUndoStateAndResetCellNode=function(e){this.wwe.getEditor().saveUndoState(e),this.resetLastCellNode()},t._pasteDataIntoTable=function(e){var t,n,r,i,o=this.wwe.getEditor().getSelection(),a=o.startContainer,s=this._getTableDataFromTable(e),l="TD"===a.nodeName||"TH"===a.nodeName,c=Ft?"":"<br />";l?t=a:(t=dt["a"].getParentUntilBy(a,(function(e){return e&&("TD"===e.nodeName||"TH"===e.nodeName)}),(function(e){return!!dt["a"].closest(e,"table")})),t=t?t.parentNode:null),t=t||a.querySelector("th,td"),n=t;while(s.length){r=s.shift();while(n&&r.length)i=r.shift(),i.length?n.textContent=i:n.innerHTML=c,n=dt["a"].getTableCellByDirection(n,"next");n=dt["a"].getSiblingRowCellByDirection(t,"next",!1),t=n}},t._getTableDataFromTable=function(e){var t=[];return dt["a"].findAll(e,"tr").forEach((function(e){var n=[];Xe()(e.children).forEach((function(e){n.push(e.textContent)})),n.length&&t.push(n)})),t},t._removeTableContents=function(e){this.wwe.getEditor().saveUndoState(),Xe()(e).forEach((function(e){var t=Ft?"":"<br />";e.innerHTML=t}))},t.wrapDanglingTableCellsIntoTrIfNeed=function(e){var t,n=dt["a"].children(e,"td,th");if(n.length){var r=document.createElement("tr");Xe()(n).forEach((function(e){dt["a"].append(r,e)})),t=r}return t},t.wrapTrsIntoTbodyIfNeed=function(e){var t,n=dt["a"].children(e,"tr"),r=[];if(Xe()(n).forEach((function(e){r=r.concat(e.querySelectorAll("th"))})),r.length&&Xe()(r).forEach((function(e){var t=document.createElement("td");t.innerHTML=e.innerHTML,dt["a"].insertBefore(e,t),dt["a"].remove(e)})),n.length){var i=document.createElement("tbody");Xe()(n).forEach((function(e){dt["a"].append(i,e)})),t=i}return t},t.wrapTheadAndTbodyIntoTableIfNeed=function(e){var t,n=dt["a"].children(e,"thead"),r=dt["a"].children(e,"tbody"),i=document.createElement("table");return!r.length&&n.length?(dt["a"].append(i,n[0]),dt["a"].append(i,this._createTheadOrTboday("tbody")),t=i):r.length&&!n.length?(dt["a"].append(i,this._createTheadOrTboday("thead")),dt["a"].append(i,r[0]),t=i):r.length&&n.length&&(dt["a"].append(i,n[0]),dt["a"].append(i,r[0]),t=i),t},t.isTableOrSubTableElement=function(e){return"TABLE"===e||"TBODY"===e||"THEAD"===e||"TR"===e||"TD"===e},t._createTheadOrTboday=function(e){var t=document.createElement(e),n=document.createElement("tr");return t.appendChild(n),t},t._stuffTableCellsIntoIncompleteRow=function(e,t){Xe()(e).forEach((function(e){for(var n=e.querySelectorAll("th,td"),r=dt["a"].getNodeName(e.parentNode),i="THEAD"===r?"th":"td",o=n.length;o<t;o+=1)dt["a"].append(e,Wt(1,i))}))},t.prepareToTableCellStuffing=function(e){var t=e[0].querySelectorAll("th,td").length,n=!1;return Xe()(e).forEach((function(e){var r=e.querySelectorAll("th,td").length;t!==r&&(n=!0,t<r&&(t=r))})),{maximumCellLength:t,needTableCellStuffingAid:n}},t._addTbodyOrTheadIfNeed=function(e){var t=!e.querySelector("thead"),n=!e.querySelector("tbody");t?dt["a"].prepend(e,"<thead><tr></tr></thead>"):n&&dt["a"].append(e,"<tbody><tr></tr></tbody>")},t.tableCellAppendAidForTableElement=function(e){this._addTbodyOrTheadIfNeed(e),this._addTrIntoContainerIfNeed(e);var t=e.querySelectorAll("tr"),n=this.prepareToTableCellStuffing(t),r=n.maximumCellLength,i=n.needTableCellStuffingAid;i&&this._stuffTableCellsIntoIncompleteRow(t,r)},t._generateTheadAndTbodyFromTbody=function(e){var t=document.createElement("tr"),n=document.createElement("thead");return dt["a"].append(t,Wt(e.querySelector("tr > td").length,"th")),dt["a"].append(n,t),{thead:n,tbody:e}},t._generateTheadAndTbodyFromThead=function(e){var t=document.createElement("tr"),n=document.createElement("tbody");return dt["a"].append(t,Wt(e.querySelectorAll("th").length,"td")),dt["a"].append(n,t),{thead:e,tbody:n}},t._generateTheadAndTbodyFromTr=function(e){var t,n,r=document.createElement("thead"),i=document.createElement("tbody");return"TH"===e.children[0].tagName?(t=e,n=dt["a"].createElementWith("<tr>"+Wt(e.querySelectorAll("th").length,"td")+"</tr>")):(t=dt["a"].createElementWith("<tr>"+Wt(e.querySelectorAll("td").length,"th")+"</tr>"),n=e),dt["a"].append(r,t),dt["a"].append(i,n),{thead:r,tbody:i}},t._completeIncompleteTable=function(e){var t,n,r=e.tagName;"TABLE"===r?t=e:(t=document.createElement("table"),e.parentNode.insertBefore(t,e.nextSibling),"TBODY"===r?n=this._generateTheadAndTbodyFromTbody(e):"THEAD"===r?n=this._generateTheadAndTbodyFromThead(e):"TR"===r&&(n=this._generateTheadAndTbodyFromTr(e)),t.appendChild(n.thead),t.appendChild(n.tbody)),this._removeEmptyRows(t),this.tableCellAppendAidForTableElement(t)},t._removeEmptyRows=function(e){dt["a"].findAll(e,"tr").forEach((function(e){e.cells.length||e.parentNode.removeChild(e)}))},t._completeTableIfNeed=function(){var e=this,t=this.wwe.getEditor().getBody();Xe()(t.children).forEach((function(t){e.isTableOrSubTableElement(t.nodeName)&&("TABLE"!==t.nodeName||t.querySelector("tbody")?e._completeIncompleteTable(t):dt["a"].remove(t))}))},t.resetLastCellNode=function(){this._lastCellNode=null},t.setLastCellNode=function(e){this._lastCellNode=e},t._isModifierKey=function(e){return/((META|SHIFT|ALT|CONTROL)\+?)/g.test(e)},t._isModifierKeyPushed=function(e){return e.metaKey||e.ctrlKey||e.altKey||e.shiftKey},t._addTrIntoContainerIfNeed=function(e){Xe()(e.children).forEach((function(e){var t=0===e.querySelectorAll("tr").length;t&&dt["a"].append(e,"<tr></tr>")}))},t._expandTableIfNeed=function(e){var t=this.wwe.getEditor().getSelection().cloneRange(),n=dt["a"].parents(t.startContainer,"table"),r=n[0],i=this._getColumnAndRowDifference(e,t);i.column<0&&this._appendCellForAllRow(r,i.column),i.row<0&&this._appendRow(r,i.row)},t._getColumnAndRowDifference=function(e,t){var n=this._getTableDataFromTable(e),r=n.length,i=n[0].length,o=dt["a"].closest(t.startContainer,"th,td"),a=o.parentNode,s=dt["a"].getNodeOffsetOfParent(o),l=dt["a"].getNodeOffsetOfParent(o.parentNode),c=dt["a"].parents(a,"table"),u=c[0],d=u.querySelector("tr").children.length,f=u.querySelectorAll("tr").length,h=!!dt["a"].parents(a,"tbody").length;return h&&(l+=1),{row:f-(l+r),column:d-(s+i)}},t._appendCellForAllRow=function(e,t){var n=Ft?"":"<br />";dt["a"].findAll(e,"tr").forEach((function(e,r){for(var i,o=t;o<0;o+=1)i=0===r?"th":"td",dt["a"].append(e,"<"+i+">"+n+"</"+i+">")}))},t._appendRow=function(e,t){var n=e.querySelectorAll("tr"),r=n[n.length-1].cloneNode(!0),i=Ft?"":"<br />";for(dt["a"].findAll(r,"td").forEach((function(e){e.innerHTML=i}));t<0;t+=1)dt["a"].append(e.querySelector("tbody"),r.cloneNode(!0))},t._changeSelectionToTargetCell=function(e,t,n,r){var i,o="next"===n,a="row"===r;if(a?i=dt["a"].getSiblingRowCellByDirection(e,n,!1):(i=dt["a"].getTableCellByDirection(e,n),i||(i=dt["a"].getSiblingRowCellByDirection(e,n,!0))),i)a&&!o?this._moveToCursorEndOfCell(i,t):t.setStart(i,0),t.collapse(!0);else{var s=dt["a"].parents(e,"table");i=s[0],o?t.setStart(i.nextElementSibling,0):i.previousElementSibling&&"TABLE"!==i.previousElementSibling.nodeName?t.setStart(i.previousElementSibling,1):t.setStartBefore(i),t.collapse(!0)}},t._moveToCursorEndOfCell=function(e,t){var n;dt["a"].isListNode(e.lastChild)&&(n=dt["a"].getLastNodeBy(e.lastChild,(function(e){return"LI"!==e.nodeName||null!==e.nextSibling})));var r=dt["a"].getLastNodeBy(n||e,(function(e){return!dt["a"].isTextNode(e)})),i=r||n||e,o=r?r.length:i.childNodes.length-1;t.setStart(i,o)},t._moveCursorTo=function(e,t,n){var r,i=this.wwe.getEditor(),o=i.getSelection().cloneRange(),a=dt["a"].closest(o.startContainer,"td,th");if(o.collapsed&&this.wwe.isInTable(o)&&a){if("row"===t&&!this._isMovedCursorToRow(o,e))return r;"previous"!==e&&"row"!==t||et()(n)||n.preventDefault(),this._changeSelectionToTargetCell(a,o,e,t),i.setSelection(o),r=!1}return r},t._isMovedCursorToRow=function(e,t){var n=e.startContainer;return this._isInList(n)?this._isMovedCursorFromListToRow(n,t):this._isMovedCursorFromTextToRow(e,t)},t._isMovedCursorFromListToRow=function(e,t){var n=t+"Sibling",r=this._findListItem(e),i=dt["a"].getParentNodeBy(r,(function(e,t){var r=null===t[n]&&null===e[n];return!dt["a"].isCellNode(e)&&r})),o=dt["a"].isListNode(i)&&null===i[n];return dt["a"].isCellNode(i.parentNode)&&o},t._isMovedCursorFromTextToRow=function(e,t){var n=e.startContainer,r=e.startOffset,i=dt["a"].isCellNode(n)?n.childNodes[r]:n,o=dt["a"].getParentNodeBy(i,(function(e){return!dt["a"].isCellNode(e)&&!dt["a"].isTextNode(e)})),a=dt["a"].getSiblingNodeBy(o,t,(function(e){return null!==e&&"BR"!==e.nodeName}));return a&&null===a[t+"Sibling"]},t._removeContentsAndChangeSelectionIfNeed=function(e,t,n){var r=t.length<=1,i="BACK_SPACE"===t||"DELETE"===t,o=this.wwe.componentManager.getManager("tableSelection").getSelectedCells(),a=o[0],s=!1;return(r||i)&&!this._isModifierKeyPushed(n)&&o.length&&(i&&this._recordUndoStateIfNeed(e),this._removeTableContents(o),this._lastCellNode=a,e.setStart(a,0),e.collapse(!0),this.wwe.getEditor().setSelection(e),s=!0),s},t.getTableIDClassName=function(){var e=jt+this.tableID;return this.tableID+=1,e},t.destroy=function(){var e=this;this.eventManager.removeEventHandler("wysiwygRangeChangeAfter.table"),this.eventManager.removeEventHandler("wysiwygSetValueAfter.table"),this.eventManager.removeEventHandler("wysiwygProcessHTMLText.table"),this.eventManager.removeEventHandler("cut.table"),this.eventManager.removeEventHandler("copyBefore.table"),i()(this.keyEventHandlers,(function(t,n){return e.wwe.removeKeyEventHandler(n,t)}))},e}();function Wt(e,t){for(var n="<br />",r="<"+t+">"+n+"</"+t+">",i="",o=0;o<e;o+=1)i+=r;return i}var Kt=Vt,Gt="te-cell-selected",Zt=function(){function e(e){this.wwe=e,this.eventManager=e.eventManager,this.name="tableSelection",this._init()}var t=e.prototype;return t._init=function(){this._initEvent(),it.a.firefox&&(document.execCommand("enableObjectResizing",!1,"false"),document.execCommand("enableInlineTableEditing",!1,"false"))},t._initEvent=function(){var e,t,n,r=this;this._tableSelectionTimer=null,this._removeSelectionTimer=null,this._isSelectionStarted=!1;var i=function(i){t=dt["a"].closest(i.data.target,"[contenteditable=true] td,th");var o=r.wwe.getEditor().getSelection(),a=dt["a"].parents(t,"[contenteditable=true] table"),s=e===t,l=r._isTextSelect(o,s)&&!Nt()(e,Gt);r._isSelectionStarted&&a&&!l&&(window.getSelection().removeAllRanges(),it.a.firefox&&!r._removeSelectionTimer&&(r._removeSelectionTimer=setInterval((function(){window.getSelection().removeAllRanges()}),10)),r.highlightTableCellsBy(e,t),n=t)},o=function(){r._isSelectionStarted&&(r._isSelectionStarted=!1,r.eventManager.removeEventHandler("mouseover.tableSelection"),r.eventManager.removeEventHandler("mouseup.tableSelection"))},a=function(i){t=dt["a"].closest(i.data.target,"[contenteditable=true] td,th");var a=r.wwe.getEditor().getSelection(),s=e===t,l=r._isTextSelect(a,s)&&!Nt()(e,Gt);r._clearTableSelectionTimerIfNeed(),r._isSelectionStarted&&(l||r._isListSelect(a)?r.removeClassAttrbuteFromAllCellsIfNeed():(r.wwe.componentManager.getManager("table").resetLastCellNode(),t=t||n,a=r.wwe.getEditor().getSelection(),a.setStart(t,0),it.a.msie?a.setEnd(t,1):(a.setEnd(t,0),a.collapse(!1)),r.wwe.getEditor().setSelection(a)),r.onDragEnd&&r.onDragEnd()),o()},s=function(n){var s=2;e=dt["a"].closest(n.data.target,"[contenteditable=true] td,th");var l=!!e&&Nt()(e,Gt);t=null,!l||l&&n.data.button!==s?(r.removeClassAttrbuteFromAllCellsIfNeed(),e&&(r.setTableSelectionTimerIfNeed(e),r.eventManager.listen("mouseover.tableSelection",i),r.eventManager.listen("mouseup.tableSelection",a),r.onDragStart&&r.onDragStart(e))):n.data.button===s&&o()};this.eventManager.listen("mousedown.tableSelection",s),this.eventManager.listen("copyBefore.tableSelection",o),this.eventManager.listen("pasteBefore.tableSelection",o)},t._isTextSelect=function(e,t){return/TD|TH|TEXT/i.test(e.commonAncestorContainer.nodeName)&&t},t._isListSelect=function(e){return/UL|OL|LI/i.test(e.commonAncestorContainer.nodeName)},t.setTableSelectionTimerIfNeed=function(e){var t=dt["a"].parents(e,"[contenteditable=true] table").length;t&&(this._isSelectionStarted=!0)},t._clearTableSelectionTimerIfNeed=function(){clearTimeout(this._tableSelectionTimer),it.a.firefox&&this._removeSelectionTimer&&(clearTimeout(this._removeSelectionTimer),this._removeSelectionTimer=null)},t._reArrangeSelectionIfneed=function(e,t){var n,r=dt["a"].parents(e,"[contenteditable=true] table").length,i=dt["a"].parents(t,"[contenteditable=true] table").length,o=i&&!r,a=!i&&r;if(o){var s=dt["a"].parents(t,"[contenteditable=true] table");n=s[0];var l=n.querySelectorAll("th");e=l[0]}else if(a){var c=dt["a"].parents(e,"[contenteditable=true] table");n=c[0];var u=n.querySelectorAll("td");t=u[u.length-1]}return{startContainer:e,endContainer:t}},t._applySelectionDirection=function(e,t){var n=dt["a"].getNodeOffsetOfParent,r=e.startContainer,i=e.endContainer,o=n(dt["a"].closest(r,"[contenteditable=true] tr"))-n(dt["a"].closest(i,"[contenteditable=true] tr")),a=n(r)-n(i),s=0===o,l=o<0,c=a>0;return s?c?(t.setStart(i,0),t.setEnd(r,1)):(t.setStart(r,0),t.setEnd(i,1)):l?(t.setStart(r,0),t.setEnd(i,1)):(t.setStart(i,0),t.setEnd(r,1)),t},t.getSelectionRangeFromTable=function(e,t){var n,r,i=dt["a"].getNodeOffsetOfParent,o=i(e.parentNode),a=i(t.parentNode),s=i(e),l=i(t),c=dt["a"].getParentUntil(e,"TABLE"),u=dt["a"].getParentUntil(t,"TABLE"),d="TBODY"===dt["a"].getNodeName(c)&&"THEAD"===dt["a"].getNodeName(u),f=c!==u,h=!!dt["a"].parents(e,"tbody").length&&!!dt["a"].parents(t,"tbody").length,p={row:o,cell:s},m={row:a,cell:l};return d?p.row+=1:f?m.row+=1:h&&(p.row+=1,m.row+=1),o>a||o===a&&s>l?(n=m,r=p):(n=p,r=m),{from:n,to:r}},t.highlightTableCellsBy=function(e,t){var n=dt["a"].findAll(dt["a"].parents(e,"[contenteditable=true] table")[0],"tr"),r=this.getSelectionRangeFromTable(e,t),i=r.from.row,o=r.from.cell,a=r.to.row,s=r.to.cell;n.forEach((function(e,t){dt["a"].findAll(e,"td,th").forEach((function(e,n){var r=t===i,l=t===a;r&&n<o||l&&n>s||t<i||t>a?g()(e,Gt):p()(e,Gt)}))}))},t.removeClassAttrbuteFromAllCellsIfNeed=function(){var e=dt["a"].findAll(this.wwe.getBody(),"td."+Gt+",th."+Gt);e.forEach((function(e){g()(e,Gt),e.getAttribute("class")||e.removeAttribute("class")}))},t.getSelectedCells=function(){return this.wwe.getBody().querySelectorAll("."+Gt)},t.createRangeBySelectedCells=function(){var e=this.wwe.getEditor(),t=e.getSelection().cloneRange(),n=this.getSelectedCells(),r=n[0],i=n[n.length-1];n.length&&this.wwe.isInTable(t)&&(t.setStart(r,0),t.setEnd(i,i.childNodes.length),e.setSelection(t))},t.styleToSelectedCells=function(e,t){this.createRangeBySelectedCells(),e(this.wwe.getEditor(),t)},t.destroy=function(){this.eventManager.removeEventHandler("mousedown.tableSelection"),this.eventManager.removeEventHandler("mouseover.tableSelection"),this.eventManager.removeEventHandler("mouseup.tableSelection"),this.eventManager.removeEventHandler("copyBefore.tableSelection"),this.eventManager.removeEventHandler("pasteBefore.tableSelection")},e}(),Ut=Zt,qt=function(){function e(e){this.wwe=e,this.eventManager=e.eventManager,this.name="hr",this._init()}var t=e.prototype;return t._init=function(){this._initEvent()},t._initEvent=function(){var e=this;this.eventManager.listen("wysiwygSetValueAfter",(function(){e._insertEmptyLineIfNeed(),e._changeHRForWysiwyg()}))},t._insertEmptyLineIfNeed=function(){var e=this.wwe.getBody(),t=e.firstChild,n=e.lastChild;t&&"HR"===t.nodeName?e.insertBefore(dt["a"].createEmptyLine(),t):n&&"HR"===n.nodeName&&e.appendChild(dt["a"].createEmptyLine())},t._changeHRForWysiwyg=function(){var e=this.wwe.getBody();dt["a"].findAll(e,"hr").forEach((function(e){var t=e.parentNode;t.replaceChild(dt["a"].createHorizontalRule(),e)}))},e}(),Xt=qt,Yt=function(){function e(e){this.wwe=e,this.eventManager=e.eventManager,this.name="p",this._initEvent()}var t=e.prototype;return t._initEvent=function(){var e=this;this.eventManager.listen("wysiwygSetValueBefore",(function(t){return e._splitPtagContentLines(t)})),this.eventManager.listen("wysiwygSetValueAfter",(function(){e._ensurePtagContentWrappedWithDiv(),e._unwrapPtags()}))},t._splitPtagContentLines=function(e){if(e){var t=dt["a"].createElementWith("<div>"+e+"</div>");dt["a"].findAll(t,"p").forEach((function(e){var t=e.attributes,n=e.nextElementSibling,r=e.innerHTML,i=r.split(/<br>/gi),o=i.length-1,a="";a=i.map((function(e,n){if(n>0&&n<o&&(e=e||"<br>"),e){var r=document.createElement("div");return Object.keys(t).forEach((function(e){var n=t[e],i=n.name,o=n.value;r.setAttribute(i,o)})),r.innerHTML=e,r.outerHTML}return""})),(n&&"P"===n.nodeName||"false"===e.getAttribute("contenteditable"))&&a.push("<div><br></div>"),dt["a"].replaceWith(e,a.join(""))})),e=t.innerHTML}return e},t._ensurePtagContentWrappedWithDiv=function(){var e=this;dt["a"].findAll(this.wwe.getBody(),"p").forEach((function(t){t.querySelectorAll("div").length||dt["a"].wrapInner(t,"div"),e._findNextParagraph(t,"p")&&dt["a"].append(t,"<div><br></div>")}))},t._unwrapPtags=function(){dt["a"].findAll(this.wwe.getBody(),"div").forEach((function(e){var t=e.parentNode;"P"===t.tagName&&dt["a"].unwrap(t)}))},t._findNextParagraph=function(e,t){var n=e.nextElementSibling;return t?n&&ht()(n,t)?n:null:n},e}(),Jt=Yt,Qt=/h[\d]/i,en=it.a.msie&&10===it.a.version,tn=function(){function e(e){this.wwe=e,this.eventManager=e.eventManager,this.name="heading",this._init()}var t=e.prototype;return t._init=function(){this._initEvent(),this._initKeyHandler()},t._initEvent=function(){var e=this;this.eventManager.listen("wysiwygSetValueAfter",(function(){e._wrapDefaultBlockToHeadingInner()}))},t._initKeyHandler=function(){var e=this;this.wwe.addKeyEventHandler("ENTER",(function(t,n){return!e.wwe.hasFormatWithRx(Qt)||(e._onEnter(t,n),!1)})),this.wwe.addKeyEventHandler("BACK_SPACE",(function(t,n){return!e.wwe.hasFormatWithRx(Qt)||(e._addBrToEmptyBlock(n),e._removePrevTopNodeIfNeed(t,n),!1)}))},t._wrapDefaultBlockToHeadingInner=function(){var e=dt["a"].findAll(this.wwe.getBody(),"h1, h2, h3, h4, h5, h6");e.forEach((function(e){var t=!dt["a"].children(e,"div, p").length;t&&dt["a"].wrapInner(e,"div")}))},t._unwrapHeading=function(){this.wwe.unwrapBlockTag((function(e){return Qt.test(e)}))},t._onEnter=function(e,t){var n=this;t.startOffset>0?this.wwe.defer((function(e){n._unwrapHeading(),e.getEditor().removeLastUndoStack()})):(e.preventDefault(),this._insertEmptyBlockToPrevious(t))},t._insertEmptyBlockToPrevious=function(e){this.wwe.getEditor().saveUndoState(e);var t=dt["a"].createElementWith("<div><br></div>");dt["a"].insertBefore(t,dt["a"].getParentUntil(e.startContainer,this.wwe.getBody()))},t._removePrevTopNodeIfNeed=function(e,t){var n=!1;if(t.collapsed&&0===t.startOffset){var r=t.startContainer,i=dt["a"].getTopPrevNodeUnder(r,this.wwe.getBody()),o=i&&0===i.textContent.length,a=this.wwe.getEditor();0===r.textContent.length?n=this._removeHedingAndChangeSelection(e,t,i):o&&(e.preventDefault(),a.saveUndoState(t),dt["a"].remove(i),n=!0)}return n},t._getHeadingElement=function(e){var t=Qt.test(dt["a"].getNodeName(e));return t?e:dt["a"].parents(e,"h1,h2,h3,h4,h5,h6")[0]},t._addBrToEmptyBlock=function(e){var t=e.collapsed,n=e.startOffset,r=e.startContainer;if(t&&1===n){var i=this._getHeadingElement(r),o=dt["a"].children(i.firstChild,"br");if(!en&&!o.length){var a=document.createElement("br");r.parentNode.appendChild(a)}}},t._removeHedingAndChangeSelection=function(e,t,n){var r=t.startContainer,i=this.wwe.getEditor(),o=this.wwe.getBody(),a=this._getHeadingElement(r),s=n,l=1;if(e.defaultPrevented||(e.preventDefault(),i.saveUndoState(t)),dt["a"].remove(a),!n){var c=dt["a"].children(o,"div");s=c[0],l=0}return t.setStart(s,l),t.collapse(!0),i.setSelection(t),!0},e}(),nn=tn,rn=n(42),on=n.n(rn),an=it.a.msie&&10===it.a.version,sn=an?"":"<br>",ln={"&":"&amp;","<":"&lt;",">":"&gt;"},cn=/\u200B/g,un="data-te-codeblock",dn=function(){function e(e){this.wwe=e,this.eventManager=e.eventManager,this.name="codeblock",this._init()}var t=e.prototype;return t._init=function(){this._initKeyHandler(),this._initEvent()},t._initKeyHandler=function(){var e=this;this._keyEventHandlers={BACK_SPACE:this._onBackspaceKeyEventHandler.bind(this),ENTER:function(t,n){!e.wwe.isInTable(n)&&e.wwe.getEditor().hasFormat("CODE")&&e.wwe.defer((function(){var t=e.wwe.getRange(),n=t.startContainer,r=e._getCodeNode(n);r&&!dt["a"].getTextLength(r)&&r.parentNode.removeChild(r)}))}},i()(this._keyEventHandlers,(function(t,n){return e.wwe.addKeyEventHandler(n,t)}))},t._getCodeNode=function(e){var t;return"CODE"===e.nodeName?t=e:"CODE"===e.parentNode.nodeName&&(t=e.parentNode),t},t._initEvent=function(){var e=this;this.eventManager.listen("wysiwygSetValueAfter.codeblock",(function(){e.modifyCodeBlockForWysiwyg()})),this.eventManager.listen("wysiwygProcessHTMLText.codeblock",(function(t){return e._changePreToPreCode(t)}))},t.prepareToPasteOnCodeblock=function(e){var t=this.wwe.getEditor().getDocument().createDocumentFragment(),n=this.convertNodesToText(e);return n=n.replace(/\n$/,""),t.appendChild(document.createTextNode(n)),t},t.convertNodesToText=function(e){var t="",n=e.shift();while(on()(n)){var r=n,i=r.childNodes;i&&dt["a"].isBlockNode(n)?t+=this.convertNodesToText(Xe()(n.childNodes)):"BR"===n.nodeName?t+="\n":t+=n.textContent,n=e.shift()}return t},t._copyCodeblockTypeFromRangeCodeblock=function(e,t){var n=dt["a"].getParentUntil(t.commonAncestorContainer,this.wwe.getBody());if("PRE"===dt["a"].getNodeName(n)){var r=n.attributes;i()(r,(function(t){e.setAttribute(t.name,t.value)}))}return e},t._changePreToPreCode=function(e){return e.replace(/<pre( .*?)?>((.|\n)*?)<\/pre>/g,(function(e,t,n){return"<pre><code"+(t||"")+">"+n+"</code></pre>"}))},t.modifyCodeBlockForWysiwyg=function(e){e||(e=this.wwe.getBody()),dt["a"].findAll(e,"pre").forEach((function(e){var t,n,r=e.querySelector("code");r&&(t=r.getAttribute("data-language"),n=r.getAttribute("data-backticks")),e.children.length>1&&Xe()(e.children).forEach((function(e){"DIV"!==e.nodeName&&"P"!==e.nodeName||e.querySelectorAll("br").length||(e.innerHTML+=e.innerHTML+"\n")}));var i=e.querySelectorAll("br");i.length&&dt["a"].replaceWith(i,"\n");var o=e.textContent.replace(/\s+$/,"");dt["a"].empty(e),e.innerHTML=o?fn(o):sn,t&&(e.setAttribute("data-language",t),p()(e,"lang-"+t)),n&&e.setAttribute("data-backticks",n),e.setAttribute(un,"")}))},t._onBackspaceKeyEventHandler=function(e,t){var n=!0,r=this.wwe.getEditor(),i=t.commonAncestorContainer;if(this._isCodeBlockFirstLine(t)&&!this._isFrontCodeblock(t))this._removeCodeblockFirstLine(i),t.collapse(!0),n=!1;else if(t.collapsed&&this._isEmptyLine(i)&&this._isBetweenSameCodeblocks(i)){var o=i.previousSibling,a=i.nextSibling,s=o.textContent.length;r.saveUndoState(t),i.parentNode.removeChild(i),this._mergeCodeblocks(o,a),t.setStart(o.childNodes[0],s),t.collapse(!0),n=!1}return n||(r.setSelection(t),e.preventDefault()),n},t._isEmptyLine=function(e){var t=e.nodeName,n=e.childNodes,r=an?""===e.textContent:1===n.length&&"BR"===n[0].nodeName;return"DIV"===t&&r},t._isBetweenSameCodeblocks=function(e){var t=e.previousSibling,n=e.nextSibling;return"PRE"===dt["a"].getNodeName(t)&&"PRE"===dt["a"].getNodeName(n)&&t.getAttribute("data-language")===n.getAttribute("data-language")},t._mergeCodeblocks=function(e,t){var n=t.textContent;e.childNodes[0].textContent+="\n"+n,t.parentNode.removeChild(t)},t._isCodeBlockFirstLine=function(e){return this.isInCodeBlock(e)&&e.collapsed&&0===e.startOffset},t._isFrontCodeblock=function(e){var t=dt["a"].getParentUntil(e.startContainer,this.wwe.getEditor().getRoot()),n=t.previousSibling;return n&&"PRE"===n.nodeName},t._removeCodeblockFirstLine=function(e){var t=this.wwe.getEditor(),n="PRE"===e.nodeName?e:e.parentNode,r=n.textContent.replace(cn,"");t.modifyBlocks((function(){var e=t.getDocument().createDocumentFragment(),i=r.split("\n"),o=document.createElement("div"),a=i.shift();if(o.innerHTML=""+fn(a)+sn,e.appendChild(o),i.length){var s=n.cloneNode();s.textContent=i.join("\n"),e.appendChild(s)}return e}))},t.isInCodeBlock=function(e){var t;return t=e.collapsed?e.startContainer:e.commonAncestorContainer,!!dt["a"].closest(t,"pre")},t.destroy=function(){var e=this;this.eventManager.removeEventHandler("wysiwygSetValueAfter.codeblock"),this.eventManager.removeEventHandler("wysiwygProcessHTMLText.codeblock"),i()(this._keyEventHandlers,(function(t,n){return e.wwe.removeKeyEventHandler(n,t)}))},e}();function fn(e){return e?e.replace(/[<>&]/g,(function(e){return ln[e]||e})):""}var hn=dn,pn=n(55),mn=n.n(pn);function gn(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var vn=/\b(H[\d]|LI|P|BLOCKQUOTE|TD)\b/,bn=/Trident\/[456]\./.test(navigator.userAgent),yn=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r))||this,t._decorateHandlerToCancelable("copy"),t._decorateHandlerToCancelable(bn?"beforecut":"cut"),t._decorateHandlerToCancelable(bn?"beforepaste":"paste"),t.getBody=function(){return t.body=t.body||t.getRoot(),t.body},t}gn(t,e);var n=t.prototype;return n._decorateHandlerToCancelable=function(e){var t=this._events[e];if(t.length>1)throw new Error("too many"+e+"handlers in squire");var n=t[0].bind(this);t[0]=function(e){e.defaultPrevented||e.squirePrevented||n(e)}},n.changeBlockFormat=function(e,t){var n=this;this.modifyBlocks((function(r){var i,o,a,s,l,c,u;if(r.childNodes.length?i=r.childNodes.item(0):(i=n.createDefaultBlock(),r.appendChild(i)),e){while(i.firstChild)i=i.firstChild;u=function(e){s.appendChild(e)};while(i!==r){var d=i;if(l=d.tagName,pe()(e)?e(l):l===e){s=i.childNodes.item(0),(!dt["a"].isElemNode(s)||i.childNodes.length>1)&&(s=n.createDefaultBlock(),Xe()(i.childNodes).forEach(u),c=s.lastChild,c&&"BR"===dt["a"].getNodeName(c)&&s.removeChild(c)),a=t?n.createElement(t,[s]):s,o=n.getDocument().createDocumentFragment(),o.appendChild(a),r=o;break}i=i.parentNode}}return o&&e||!t||"DIV"!==dt["a"].getNodeName(r.childNodes[0])||(r=n.createElement(t,[r.childNodes[0]])),r}))},n.changeBlockFormatTo=function(e){this.changeBlockFormat((function(e){return vn.test(e)}),e)},n.getCaretPosition=function(){return this.getCursorPosition()},n.replaceSelection=function(e,t){t&&this.setSelection(t),this._ignoreChange=!0,this.insertHTML(e)},n.replaceRelativeOffset=function(e,t,n){var r=this.getSelection().cloneRange();this._replaceRelativeOffsetOfSelection(e,t,n,r)},n._replaceRelativeOffsetOfSelection=function(e,t,n,r){var i,o,a,s=r.endContainer,l=r.endOffset;"TEXT"!==dt["a"].getNodeName(s)&&(s=this._getClosestTextNode(s,l),s&&(l=dt["a"].isTextNode(s)?s.nodeValue.length:s.textContent.length)),s?(i=this.getSelectionInfoByOffset(s,l+t),r.setStart(i.element,i.offset),a=l+(t+n),o=this.getSelectionInfoByOffset(s,a),r.setEnd(o.element,o.offset),this.replaceSelection(e,r)):this.replaceSelection(e)},n._getClosestTextNode=function(e,t){var n=dt["a"].getChildNodeByOffset(e,t-1);return"TEXT"!==dt["a"].getNodeName(n)&&(n=n.previousSibling),n},n.getSelectionInfoByOffset=function(e,t){var n,r,i,o,a=t>=0?"next":"previous",s=Math.abs(t),l=n;n="next"===a?e:e.previousSibling,i=s,o=0;while(n){if(r=dt["a"].isTextNode(n)?n.nodeValue.length:n.textContent.length,o+=r,s<=o)break;i-=r,dt["a"].getTextLength(n)>0&&(l=n),n=n[a+"Sibling"]}return n||(n=l,i=dt["a"].getTextLength(n)),"previous"===a&&(i=dt["a"].getTextLength(n)-i),{element:n,offset:i}},n.getSelectionPosition=function(e,t,n){var r=this.createElement("INPUT"),i=e.cloneRange(),o=this.getSelectionInfoByOffset(e.endContainer,e.endOffset+(n||0));i.setStart(i.startContainer,i.startOffset),i.setEnd(o.element,o.offset),this._ignoreChange=!0,this.insertElement(r,i);var a=dt["a"].getOffset(r);return"over"!==t&&(a.top+=r.offsetHeight),r.parentNode.removeChild(r),e.setStart(e.endContainer,e.endOffset),e.collapse(!0),this.setSelection(e),a},n.removeLastUndoStack=function(){this._undoStack.length&&(this._undoStackLength-=1,this._undoIndex-=1,this._undoStack.pop(),this._isInUndoState=!1)},n.replaceParent=function(e,t,n){var r=dt["a"].closest(e,t);r&&(dt["a"].wrapInner(r,n),dt["a"].unwrap(r))},n.preserveLastLine=function(){var e=this.getBody().children,t=e[e.length-1];t&&"DIV"!==dt["a"].getNodeName(t)&&(this._ignoreChange=!0,dt["a"].insertAfter(this.createDefaultBlock(),t))},n.scrollTop=function(e){return et()(e)||(this.getBody().scrollTop=e),this.getBody().scrollTop},n.isIgnoreChange=function(){return this._ignoreChange},n.focus=function(){mn.a.prototype.focus.call(this)},n.blockCommandShortcuts=function(){var e=this,t=C["b"]?"meta":"ctrl",n=["b","i","u","shift-7","shift-5","shift-6","shift-8","shift-9","[","]","d"];n.forEach((function(n){e.setKeyHandler(t+"-"+n,(function(e,t){t.preventDefault()}))}))},t}(mn.a),Cn=yn,wn=it.a.msie&&11===it.a.version,xn=-1!==navigator.appVersion.indexOf("Win")&&it.a.chrome,In=/Windows (NT )?10/g.test(navigator.appVersion),An=wn||xn&&!In,kn=function(){function e(e,t){this._wwe=e,An&&(this.isComposition=!1,this._initCompositionEvent()),this.setRange(t||this._wwe.getRange())}var t=e.prototype;return t._initCompositionEvent=function(){var e=this;this._wwe.getEditor().addEventListener("compositionstart",(function(){e.isComposition=!0})),this._wwe.getEditor().addEventListener("compositionend",(function(){e.isComposition=!1}))},t.setRange=function(e){this._range&&this._range.detach(),this._range=e},t.expandStartOffset=function(){var e=this._range;dt["a"].isTextNode(e.startContainer)&&e.startOffset>0&&e.setStart(e.startContainer,e.startOffset-1)},t.expandEndOffset=function(){var e=this._range;dt["a"].isTextNode(e.endContainer)&&e.endOffset<e.endContainer.nodeValue.length&&e.setEnd(e.endContainer,e.endOffset+1)},t.setEndBeforeRange=function(e){var t=e.startOffset;this.isComposition&&(t+=1),this._range.setEnd(e.startContainer,t)},t.getTextContent=function(){return this._range.cloneContents().textContent},t.replaceContent=function(e){this._wwe.getEditor().setSelection(this._range),this._wwe.getEditor().insertHTML(e),this._wwe.isInTable(this._range)&&this._wwe.eventManager.emit("wysiwygRangeChangeAfter",this._wwe),this._range=this._wwe.getRange()},t.deleteContent=function(){this._wwe.getEditor().setSelection(this._range),this._wwe.getEditor().insertHTML(""),this._range=this._wwe.getRange()},t.peekStartBeforeOffset=function(e){var t=this._range.cloneRange();return t.setStart(t.startContainer,Math.max(t.startOffset-e,0)),t.setEnd(this._range.startContainer,this._range.startOffset),t.cloneContents().textContent},e}(),Sn=kn,_n=function(){function e(e){var t=e.eventManager,n=e.container,r=e.attachedSelector;this._eventManager=t,this._attachedSelector="[contenteditable=true] "+r,this._container=n,this._attachedElement=null,this.active=!1,this._createElement(),this._initEvent()}var t=e.prototype;return t._createElement=function(){this.el=dt["a"].createElementWith('<div class="te-ww-block-overlay"></div>'),f()(this.el,{position:"absolute",display:"none",zIndex:1}),dt["a"].append(this._container,this.el)},t._initEvent=function(){var e=this;this._eventManager.listen("change",this._onChange.bind(this)),this._eventManager.listen("mouseover",this._onMouseOver.bind(this)),this._eventManager.listen("focus",(function(){e.setVisibility(!1)})),this._eventManager.listen("mousedown",(function(){e.setVisibility(!1)}))},t._onChange=function(){this._attachedElement&&dt["a"].isContain(document.body,this._attachedElement)?this.syncLayout():this.setVisibility(!1)},t._onMouseOver=function(e){var t=e.data,n=t.target,r=dt["a"].closest(n,this._attachedSelector);r?(this._attachedElement=r,this.setVisibility(!0)):dt["a"].closest(n,this.el)?this.setVisibility(!0):this.active||this.setVisibility(!1)},t.syncLayout=function(){var e=dt["a"].getOffset(this._attachedElement),t=dt["a"].getOuterWidth(this._attachedElement),n=dt["a"].getOuterHeight(this._attachedElement);dt["a"].setOffset(this.el,e),f()(this.el,{width:t+"px"}),f()(this.el,{height:n+"px"})},t.getAttachedElement=function(){return this._attachedElement||null},t.getVisibility=function(){return"block"===this.el.style.display},t.setVisibility=function(e){e&&this._attachedElement?this.getVisibility()||(f()(this.el,{display:"block"}),this.syncLayout(),this.onShow()):e||this.getVisibility()&&(f()(this.el,{display:"none"}),this.onHide())},t.onShow=function(){},t.onHide=function(){this.active=!1,this._attachedElement=null},e}(),Tn=_n;function En(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var On=26,Rn=250,Nn=30,Ln=function(e){function t(t){var n,r=t.eventManager,i=t.container,o=t.wysiwygEditor;return n=e.call(this,{eventManager:r,container:i,attachedSelector:"pre"})||this,n._wysiwygEditor=o,n._popupCodeBlockLanguages=null,n._initDOM(),n._initDOMEvent(),n}En(t,e);var n=t.prototype;return n._initDOM=function(){var e=this;p()(this.el,"code-block-header"),this._languageLabel=dt["a"].createElementWith("<span>text</span>"),dt["a"].append(this.el,this._languageLabel),this._buttonOpenModalEditor=dt["a"].createElementWith('<button type="button">Editor</button>'),dt["a"].append(this.el,this._buttonOpenModalEditor),this._eventManager.emit("removeEditor",(function(){ut()(e._buttonOpenModalEditor,"click"),e._buttonOpenModalEditor=null}))},n._initDOMEvent=function(){var e=this;lt()(this._buttonOpenModalEditor,"click",(function(){return e._openPopupCodeBlockEditor()}))},n._openPopupCodeBlockEditor=function(){this._eventManager.emit("openPopupCodeBlockEditor",this.getAttachedElement())},n._updateLanguage=function(){var e=this.getAttachedElement(),t=e?e.getAttribute("data-language"):null;this._languageLabel.textContent=t||"text"},n.syncLayout=function(){var e=this.getAttachedElement(),t=dt["a"].getOffset(e,".te-editor"),n=t.top;f()(this.el,{top:n+"px",right:On+"px",width:Rn+"px",height:Nn+"px"})},n.onShow=function(){var t=this;e.prototype.onShow.call(this),this._onAttachedElementChange=function(){return t._updateLanguage()},this._eventManager.listen("changeLanguage",this._onAttachedElementChange),this._updateLanguage()},n.onHide=function(){this._eventManager.removeEventHandler("changeLanguage",this._onAttachedElementChange),e.prototype.onHide.call(this)},t}(Tn),Dn=Ln,Bn=Z.getSharedInstance(),Mn=/<([a-z]+|h\d)>(<br>|<br \/>)<\/\1>/gi,Pn=/(?:<br>|<br \/>)<\/(.+?)>/gi,Fn=/\b(H[\d]|LI|P|BLOCKQUOTE|TD|PRE)\b/,jn=/<span([^>]*)>[\u0020]/g,Hn=/[\u0020]<\/span>/g,zn=/^(TABLE|H[1-6])$/,$n="tui-editor-contents",Vn="tui-editor-contents-placeholder",Wn="undefined"!==typeof MutationObserver,Kn=function(){function e(e,t,n){var r=this;void 0===n&&(n={}),this.componentManager=new ce(this),this.eventManager=t,this.editorContainerEl=e,this._height=0,this._silentChange=!1,this._keyEventHandlers={},this._managers={},this._linkAttribute=n.linkAttribute||{},this._sanitizer=n.sanitizer,this._initEvent(),this._initDefaultKeyEventHandler(),this.debouncedPostProcessForChange=at()((function(){return r.postProcessForChange()}),0)}var t=e.prototype;return t.init=function(){var e=document.createElement("div");this.editorContainerEl.appendChild(e),this.editor=new Cn(e,{blockTag:"DIV",leafNodeNames:{HR:!1},allowedBlocks:this._sanitizer?[]:["details","summary"]}),this.editor.blockCommandShortcuts(),this._clipboardManager=new It(this),this._initSquireEvent(),this._clipboardManager.init(),p()(this.getBody(),$n),f()(this.editorContainerEl,"position","relative"),this._togglePlaceholder(),this.codeBlockGadget=new Dn({eventManager:this.eventManager,container:this.editorContainerEl,wysiwygEditor:this})},t._initEvent=function(){var e=this;this.eventManager.listen("wysiwygKeyEvent",(function(t){return e._runKeyEventHandlers(t.data,t.keyMap)})),this.eventManager.listen("wysiwygRangeChangeAfter",(function(){return e.scrollIntoCursor()})),this.eventManager.listen("contentChangedFromWysiwyg",(function(){e._togglePlaceholder()}))},t.addKeyEventHandler=function(e,t){var n=this;t||(t=e,e="DEFAULT"),nt()(e)||(e=[e]),e.forEach((function(e){n._keyEventHandlers[e]||(n._keyEventHandlers[e]=[]),n._keyEventHandlers[e].push(t)}))},t.removeKeyEventHandler=function(e,t){t||(t=e,e="DEFAULT");var n=this._keyEventHandlers[e];n&&(this._keyEventHandlers[e]=n.filter((function(e){return e!==t})))},t._runKeyEventHandlers=function(e,t){var n,r,i=this.getRange();n=this._keyEventHandlers.DEFAULT,n&&Je()(n,(function(n){return r=n(e,i,t),r})),n=this._keyEventHandlers[t],n&&!1!==r&&Je()(n,(function(n){return n(e,i,t)}))},t._initSquireEvent=function(){var e=this,t=this.getEditor(),n=!1;t.addEventListener("copy",(function(t){e.eventManager.emit("copy",{source:"wysiwyg",data:t}),at()((function(){e.isEditorValid()&&e.eventManager.emit("copyAfter",{source:"wysiwyg",data:t})}))()})),t.addEventListener(it.a.msie?"beforecut":"cut",(function(t){e.eventManager.emit("cut",{source:"wysiwyg",data:t}),at()((function(){e.isEditorValid()&&e.eventManager.emit("cutAfter",{source:"wysiwyg",data:t})}))()})),t.addEventListener(it.a.msie?"beforepaste":"paste",(function(t){e.eventManager.emit("paste",{source:"wysiwyg",data:t})})),t.addEventListener("dragover",(function(e){return e.preventDefault(),!1})),t.addEventListener("drop",(function(t){return t.preventDefault(),e.eventManager.emit("drop",{source:"wysiwyg",data:t}),!1})),t.addEventListener("input",at()((function(){if(e.isEditorValid()){if(e._silentChange)e._silentChange=!1;else{var t={source:"wysiwyg"};e.eventManager.emit("changeFromWysiwyg",t),e.eventManager.emit("change",t),e.eventManager.emit("contentChangedFromWysiwyg",e)}e.getEditor().preserveLastLine()}}),0)),t.addEventListener("keydown",(function(t){var r=e.getEditor().getSelection();r.collapsed||(n=!0),e.eventManager.emit("keydown",{source:"wysiwyg",data:t}),e._onKeyDown(t)})),it.a.firefox&&(t.addEventListener("keypress",(function(t){var r=t.keyCode;if(13===r||9===r){var i=e.getEditor().getSelection();i.collapsed||(n=!0),e.eventManager.emit("keydown",{source:"wysiwyg",data:t}),e._onKeyDown(t)}})),t.addEventListener("keyup",(function(){var t=e.getRange();if(dt["a"].isTextNode(t.commonAncestorContainer)&&dt["a"].isTextNode(t.commonAncestorContainer.previousSibling)){var n=t.commonAncestorContainer.previousSibling.length,r=t.commonAncestorContainer;t.commonAncestorContainer.previousSibling.appendData(t.commonAncestorContainer.data),t.setStart(t.commonAncestorContainer.previousSibling,n+t.startOffset),t.collapse(!0),dt["a"].remove(r),e.setRange(t),t.detach()}}))),t.addEventListener("keyup",(function(t){n&&(e.debouncedPostProcessForChange(),n=!1),e.eventManager.emit("keyup",{source:"wysiwyg",data:t})})),lt()(this.editorContainerEl,"scroll",(function(t){e.eventManager.emit("scroll",{source:"wysiwyg",data:t})})),t.addEventListener("click",(function(t){e.eventManager.emit("click",{source:"wysiwyg",data:t})})),t.addEventListener("mousedown",(function(t){e.eventManager.emit("mousedown",{source:"wysiwyg",data:t})})),t.addEventListener("mouseover",(function(t){e.eventManager.emit("mouseover",{source:"wysiwyg",data:t})})),t.addEventListener("mouseout",(function(t){e.eventManager.emit("mouseout",{source:"wysiwyg",data:t})})),t.addEventListener("mouseup",(function(t){e.eventManager.emit("mouseup",{source:"wysiwyg",data:t})})),t.addEventListener("contextmenu",(function(t){e.eventManager.emit("contextmenu",{source:"wysiwyg",data:t})})),t.addEventListener("focus",(function(){e.eventManager.emit("focus",{source:"wysiwyg"})})),t.addEventListener("blur",(function(){e.fixIMERange(),e.eventManager.emit("blur",{source:"wysiwyg"})})),t.addEventListener("pathChange",(function(t){var n={strong:/(^B>|>B$|>B>|^B$|STRONG)/.test(t.path),emph:/(>I|>EM|^I$|^EM$)/.test(t.path),strike:/(^S>|>S$|>S>|^S$|DEL)/.test(t.path),code:/CODE/.test(t.path),codeBlock:/PRE/.test(t.path),blockQuote:/BLOCKQUOTE/.test(t.path),table:/TABLE/.test(t.path),heading:/H[1-6]/.test(t.path),list:/UL>LI(?!.task-list-item)/.test(t.path),orderedList:/OL>LI(?!.task-list-item)/.test(t.path),taskList:/[UL|OL]>LI.task-list-item/.test(t.path),source:"wysiwyg"};e.eventManager.emit("stateChange",n)})),t.addEventListener("willPaste",(function(t){t.fragment&&e.eventManager.emit("willPaste",{source:"wysiwyg",data:t})}))},t._togglePlaceholder=function(){var e=this.getEditor();e.modifyDocument((function(){var t=e.getRoot();t.textContent||t.childNodes.length>1?t.classList.remove(Vn):t.classList.add(Vn)}))},t._onKeyDown=function(e){var t=Bn.convert(e);e.keyCode&&(this.eventManager.emit("keyMap",{source:"wysiwyg",keyMap:t,data:e}),e.defaultPrevented||this.eventManager.emit("wysiwygKeyEvent",{keyMap:t,data:e}))},t._initDefaultKeyEventHandler=function(){var e=this;this.addKeyEventHandler("ENTER",(function(t,n){e._isInOrphanText(n)&&e.defer((function(){e._wrapDefaultBlockToOrphanTexts(),e.breakToNewDefaultBlock(n,"before")})),e.defer((function(){return e.scrollIntoCursor()}))})),this.addKeyEventHandler("TAB",(function(t){var n=e.getEditor(),r=n.getSelection(),i=r.collapsed&&e._isCursorNotInRestrictedAreaOfTabAction(n),o=!r.collapsed&&dt["a"].isTextNode(r.commonAncestorContainer);return t.preventDefault(),!i&&!o||(n.insertPlainText("    "),!1)})),this.addKeyEventHandler("BACK_SPACE",(function(t,n,r){return e._handleRemoveKeyEvent(t,n,r)})),this.addKeyEventHandler("DELETE",(function(t,n,r){return e._handleRemoveKeyEvent(t,n,r)}))},t._handleRemoveKeyEvent=function(e,t,n){var r=this.getEditor();if(this._isStartHeadingOrTableAndContainsThem(t)){var i="BACK_SPACE"===n?"backspace":"delete";return r.removeAllFormatting(),r._keyHandlers[i](r,e,r.getSelection()),r.removeLastUndoStack(),!1}return!0},t._isStartHeadingOrTableAndContainsThem=function(e){var t=e.startContainer,n=e.startOffset,r=e.commonAncestorContainer,i=e.collapsed,o=this.getEditor().getRoot(),a=!1;return i||r!==o||(t===o?a=zn.test(dt["a"].getChildNodeByOffset(t,n).nodeName):0===n&&(a=zn.test(dt["a"].getParentUntil(t,o).nodeName))),a},t._wrapDefaultBlockToOrphanTexts=function(){var e=Xe()(this.getBody().childNodes).filter((function(e){return dt["a"].isTextNode(e)}));dt["a"].getAllTextNode(this.getBody()),e.forEach((function(e){e.nextSibling&&"BR"===e.nextSibling.tagName&&dt["a"].remove(e.nextSibling),dt["a"].wrap(e,document.createElement("div"))}))},t._isInOrphanText=function(e){return e.startContainer.nodeType===Node.TEXT_NODE&&e.startContainer.parentNode===this.getBody()},t._wrapDefaultBlockTo=function(e){this.saveSelection(e),this._joinSplitedTextNodes(),this.restoreSavedSelection(),e=this.getRange();var t=e.startContainer,n=e.startOffset,r=this.getEditor().createDefaultBlock([e.startContainer]),i=dt["a"].getChildNodeByOffset(e.startContainer,e.startOffset);i?e.setStartBefore(i):e.selectNodeContents(e.startContainer),e.collapse(!0),e.insertNode(r),e.setStart(t,n),e.collapse(!0),this.setRange(e)},t._joinSplitedTextNodes=function(){var e,t,n=[],r=Xe()(this.getBody().childNodes).filter((function(e){return dt["a"].isTextNode(e)}));r.forEach((function(r){e===r.previousSibling?(t.nodeValue+=r.nodeValue,n.push(r)):t=r,e=r})),dt["a"].remove(n)},t.saveSelection=function(e){e||(e=this.getRange()),this.getEditor()._saveRangeToBookmark(e)},t.setSelectionByContainerAndOffset=function(e,t,n,r){var i=this.getEditor(),o=i.getSelection();return o.setStart(e,t),o.setEnd(n,r),i.setSelection(o),o},t.restoreSavedSelection=function(){this.setRange(this.getEditor()._getRangeAndRemoveBookmark())},t.reset=function(){this.setValue("")},t.changeBlockFormatTo=function(e){this.getEditor().changeBlockFormatTo(e),this.eventManager.emit("wysiwygRangeChangeAfter",this)},t.makeEmptyBlockCurrentSelection=function(){var e=this;this.getEditor().modifyBlocks((function(t){return t.textContent||(t=e.getEditor().createDefaultBlock()),t}))},t.focus=function(){var e=this.scrollTop();this.editor.focus(),e!==this.scrollTop()&&this.scrollTop(e)},t.blur=function(){this.editor.blur()},t.remove=function(){ut()(this.editorContainerEl,"scroll"),this.getEditor().destroy(),this.editor=null,this.body=null,this.eventManager=null},t.setHeight=function(e){this._height=e,f()(this.editorContainerEl,{overflow:"auto",height:"100%"}),f()(this.editorContainerEl.parentNode,{height:l()(e)?e+"px":e});var t=this.editorContainerEl.style,n=this.getBody().style,r=parseInt(t.paddingTop,10)-parseInt(t.paddingBottom,10),i=parseInt(n.marginTop,10)-parseInt(n.marginBottom,10);f()(this.getBody(),{minHeight:e-i-r+"px"})},t.setMinHeight=function(e){var t=this.getBody();f()(t,"minHeight",e+"px")},t.setPlaceholder=function(e){e&&this.getEditor().getRoot().setAttribute("data-placeholder",e)},t.getLinkAttribute=function(){return this._linkAttribute},t.setValue=function(e,t){void 0===t&&(t=!0),e=this.eventManager.emitReduce("wysiwygSetValueBefore",e),this.editor.setHTML(e),this.eventManager.emit("wysiwygSetValueAfter",this),this.eventManager.emit("contentChangedFromWysiwyg",this),t&&this.moveCursorToEnd(),this.getEditor().preserveLastLine(),this.getEditor().removeLastUndoStack(),this.getEditor().saveUndoState()},t.insertText=function(e){this.editor.insertPlainText(e)},t.getValue=function(){this._prepareGetHTML();var e=this.editor.getHTML();return e=e.replace(Mn,(function(e,t){var n;return n="li"===t?e:"td"===t||"th"===t?"<"+t+"></"+t+">":"<br />",n})),e=e.replace(jn,"<span$1>&nbsp;"),e=e.replace(Hn,"&nbsp;</span>"),e=e.replace(Pn,"</$1>"),e=e.replace(/<div[^>]*>/g,""),e=e.replace(/<\/div>/g,"<br />"),e=this.eventManager.emitReduce("wysiwygProcessHTMLText",e),e},t._prepareGetHTML=function(){var e=this;this.getEditor().modifyDocument((function(){e._joinSplitedTextNodes(),e.eventManager.emit("wysiwygGetValueBefore",e)}))},t.postProcessForChange=function(){var e=this;this.isEditorValid()&&this.getEditor().modifyDocument((function(){e.eventManager.emit("wysiwygRangeChangeAfter",e)}))},t.readySilentChange=function(){Wn&&!this.getEditor().isIgnoreChange()&&(this._silentChange=!0)},t.getEditor=function(){return this.editor},t.replaceSelection=function(e,t){this.getEditor().replaceSelection(e,t)},t.replaceRelativeOffset=function(e,t,n){this.getEditor().replaceRelativeOffset(e,t,n)},t.addWidget=function(e,t,n,r){var i=this.getEditor().getSelectionPosition(e,n,r),o=dt["a"].getOffset(this.editorContainerEl);this.editorContainerEl.appendChild(t),f()(t,{position:"absolute",top:i.top-o.top+this.scrollTop()+"px",left:i.left-o.left+"px"})},t.getBody=function(){return this.getEditor().getBody()},t.hasFormatWithRx=function(e){return this.getEditor().getPath().match(e)},t.breakToNewDefaultBlock=function(e,t){var n=this.editor.createDefaultBlock(),r=dt["a"].getChildNodeByOffset(e.startContainer,e.startOffset)||dt["a"].getChildNodeByOffset(e.startContainer,e.startOffset-1),i=dt["a"].getParentUntil(r,this.getBody());"before"===t?dt["a"].insertBefore(n,i):dt["a"].insertAfter(n,i),e.setStart(n,0),e.collapse(!0),this.setRange(e)},t.replaceContentText=function(e,t,n){var r=e.innerHTML;e.innerHTML=r.replace(t,n)},t.unwrapBlockTag=function(e){e||(e=function(e){return Fn.test(e)}),this.getEditor().changeBlockFormat(e),this.eventManager.emit("wysiwygRangeChangeAfter",this)},t.scrollIntoCursor=function(){var e=this.scrollTop(),t=this.getEditor().getCursorPosition(),n=t.top,r=t.height,i=this.editorContainerEl.getBoundingClientRect(),o=i.top,a=i.height,s=n-o,l=n+r-(o+a);s<0?this.scrollTop(e+s):l>0&&this.scrollTop(Math.ceil(e+l))},t.moveCursorToEnd=function(){this.getEditor().moveCursorToEnd(),this.scrollIntoCursor(),this._correctRangeAfterMoveCursor("end")},t.moveCursorToStart=function(){this.getEditor().moveCursorToStart(),this.scrollTop(0)},t.scrollTop=function(e){return et()(e)||(this.editorContainerEl.scrollTop=e),this.editorContainerEl.scrollTop},t._correctRangeAfterMoveCursor=function(e){var t=this.getRange(),n=this.getBody();if("start"===e)while(n.firstChild)n=n.firstChild;else while(n.lastChild)n=n.lastChild;"BR"===n.tagName?t.setStartBefore(n):t.setStartAfter(n),t.collapse(!0),this.setRange(t)},t.getRange=function(){return this.getEditor().getSelection().cloneRange()},t.getIMERange=function(){var e,t=getSelection();return t&&t.rangeCount&&(e=t.getRangeAt(0).cloneRange()),e},t.fixIMERange=function(){var e=this.getIMERange();if(e){var t=dt["a"].getParentUntil(e.commonAncestorContainer,this.editorContainerEl),n=!(!t||!t.parentNode);n&&this.setRange(e)}},t.setRange=function(e){this.getEditor().setSelection(e)},t.isInTable=function(e){var t=e.collapsed?e.startContainer:e.commonAncestorContainer;return!!dt["a"].closest(t,"[contenteditable=true] table")},t.getTextObject=function(e){return new Sn(this,e)},t.defer=function(e,t){var n=this,r=t||0;setTimeout((function(){n.isEditorValid()&&e(n)}),r)},t.isEditorValid=function(){return this.getEditor()&&dt["a"].isContain(document.body,this.editorContainerEl)},t._isCursorNotInRestrictedAreaOfTabAction=function(e){return!e.hasFormat("li")&&!e.hasFormat("blockquote")&&!e.hasFormat("table")},t.getSanitizer=function(){return this._sanitizer},e.factory=function(t,n,r){var i=new e(t,n,r);return i.init(),i.componentManager.addManager(Ot),i.componentManager.addManager(Pt),i.componentManager.addManager(Ut),i.componentManager.addManager(Kt),i.componentManager.addManager(Xt),i.componentManager.addManager(Jt),i.componentManager.addManager(nn),i.componentManager.addManager(hn),i},e}(),Gn=Kn,Zn=['<div class="tui-editor">','<div class="te-md-container">','<div class="te-editor"></div>','<div class="te-md-splitter"></div>','<div class="te-preview"></div>',"</div>",'<div class="te-ww-container">','<div class="te-editor"></div>',"</div>","</div>"].join(""),Un=function(){function e(e,t){this.el=e.el,this.height=e.height,this.type=e.initialEditType,this.eventManager=t,this.init(),this._initEvent()}var t=e.prototype;return t.init=function(){this._renderLayout(),this._initMarkdownAndPreviewSection(),this._initWysiwygSection()},t._initEvent=function(){this.eventManager.listen("hide",this.hide.bind(this)),this.eventManager.listen("show",this.show.bind(this))},t._renderLayout=function(){f()(this.el,{boxSizing:"border-box"}),this.containerEl=dt["a"].createElementWith(Zn,this.el)},t.switchToWYSIWYG=function(){g()(this.containerEl,"te-md-mode"),p()(this.containerEl,"te-ww-mode")},t.switchToMarkdown=function(){g()(this.containerEl,"te-ww-mode"),p()(this.containerEl,"te-md-mode")},t._initMarkdownAndPreviewSection=function(){this.mdEditorContainerEl=this.containerEl.querySelector(".te-md-container .te-editor"),this.previewEl=this.containerEl.querySelector(".te-md-container .te-preview")},t._initWysiwygSection=function(){this.wwEditorContainerEl=this.containerEl.querySelector(".te-ww-container .te-editor")},t._verticalSplitStyle=function(){var e=this.containerEl.querySelector(".te-md-container");g()(e,"te-preview-style-tab"),p()(e,"te-preview-style-vertical")},t._tabStyle=function(){var e=this.containerEl.querySelector(".te-md-container");g()(e,"te-preview-style-vertical"),p()(e,"te-preview-style-tab")},t.changePreviewStyle=function(e){"tab"===e?this._tabStyle():"vertical"===e&&this._verticalSplitStyle()},t.hide=function(){p()(this.el.querySelector(".tui-editor"),"te-hide")},t.show=function(){g()(this.el.querySelector(".tui-editor"),"te-hide")},t.remove=function(){dt["a"].remove(this.el.querySelector(".tui-editor"))},t.getEditorEl=function(){return this.containerEl},t.getPreviewEl=function(){return this.previewEl},t.getMdEditorContainerEl=function(){return this.mdEditorContainerEl},t.getWwEditorContainerEl=function(){return this.wwEditorContainerEl},e}(),qn=Un,Xn=n(36),Yn=n(1),Jn=n(14),Qn=n.n(Jn),er=/^(https?:\/\/)?([\da-z.-]+)\.([a-z.]{2,6})(\/([^\s]*))?$/g,tr=function(){function e(e){this.eventManager=e,this._initEvent(),this._initDefaultImageImporter()}e.decodeURIGraceful=function(e){var t,n=e.split(" "),r=[];return Je()(n,(function(e){try{t=decodeURIComponent(e),t=t.replace(/ /g,"%20")}catch(n){t=e}return r.push(t)})),r.join(" ")},e.encodeMarkdownCharacters=function(e){return e.replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\[/g,"%5B").replace(/\]/g,"%5D").replace(/</g,"%3C").replace(/>/g,"%3E")},e.escapeMarkdownCharacters=function(e){return e.replace(/\(/g,"\\(").replace(/\)/g,"\\)").replace(/\[/g,"\\[").replace(/\]/g,"\\]").replace(/</g,"\\<").replace(/>/g,"\\>")};var t=e.prototype;return t._initEvent=function(){var e=this;this.eventManager.listen("drop",(function(t){var n=t.data.dataTransfer&&t.data.dataTransfer.files;e._processBlobItems(n,t.data)})),this.eventManager.listen("willPaste",(function(t){var n=t.data.fragment,r=n.querySelectorAll("*");if(1===r.length&&"IMG"===r[0].tagName&&/^data:image/.test(r[0].src)){t.data.preventDefault();var i=nr(r[0].src);e._emitAddImageBlobHook(i,"paste")}})),this.eventManager.listen("paste",(function(t){e._processClipboard(t.data)})),this.eventManager.listen("pasteBefore",(function(t){e._decodeURL(t)}))},t._initDefaultImageImporter=function(){this.eventManager.listen("addImageBlobHook",(function(e,t){var n=new FileReader;n.onload=function(e){t(e.target.result)},n.readAsDataURL(e)}))},t._emitAddImageBlobHook=function(e,t){var n=this;this.eventManager.emit("addImageBlobHook",e,(function(t,r){n.eventManager.emit("command","AddImage",{imageUrl:t,altText:r||e.name||"image"})}),t)},t._decodeURL=function(t){var n=e.decodeURIGraceful,r=e.encodeMarkdownCharacters;if("markdown"===t.source&&t.data.text){var i=t.data.text,o=i[0];1===i.length&&o.match(er)&&(o=n(o),o=r(o),t.data.update(null,null,[o]))}else if("wysiwyg"===t.source){var a=t.clipboardContainer,s=a.childNodes,l=s[0],c=l.innerText;1===a.childNodes.length&&"A"===l.tagName&&c.match(er)&&(l.innerText=n(c),l.href=r(l.href))}},t._processClipboard=function(e){var t=e.clipboardData||window.clipboardData,n=t&&t.items,r=t.types;n&&r&&1===r.length&&-1!==Qn()("Files",[].slice.call(r))&&this._processBlobItems(n,e)},t._processBlobItems=function(e,t){var n=this;e&&Je()(e,(function(e){if(-1!==e.type.indexOf("image")){t.preventDefault(),t.stopPropagation(),t.codemirrorIgnore=!0;var r=e.name?e:e.getAsFile();return n._emitAddImageBlobHook(r,t.type),!1}return!0}))},e}();function nr(e){for(var t=atob(e.split(",")[1]),n=new ArrayBuffer(t.length),r=new Uint8Array(n),i=0;i<t.length;i+=1)r[i]=t.charCodeAt(i);var o=e.split(","),a=o[0],s=new Blob([n],{type:a.split(":")[1].split(";")[0]});return s}var rr=tr,ir=n(37),or=n(46),ar=n(23),sr="en-US",lr=function(){function e(){this._code=sr,this._langs=new ar["a"]}var t=e.prototype;return t.setCode=function(e){this._code=e},t.setLanguage=function(e,t){var n=this;e=[].concat(e),e.forEach((function(e){if(n._langs.has(e)){var r=n._langs.get(e);n._langs.set(e,u()(r,t))}else n._langs.set(e,t)}))},t.get=function(e,t){t||(t=this._code);var n=this._langs.get(t);n||(n=this._langs.get(sr));var r=n[e];if(!r)throw new Error('There is no text key "'+e+'" in '+t);return r},e}(),cr=new lr,ur=n(57),dr=n(9),fr=n.n(dr),hr=n(54),pr=n.n(hr),mr=n(58),gr=n.n(mr);function vr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var br=["click","mousedown","mousemove","mouseup","mouseover","mouseout","scroll"],yr=-1;function Cr(){return yr+=1,yr}var wr=function(){function e(e){void 0===e&&(e={}),vr(this,"tagName",void 0),vr(this,"className",void 0),vr(this,"el",void 0),vr(this,"_id",void 0),e=u()({tagName:"div"},e),this.tagName=e.tagName,this.className=e.className,this._id=Cr(),this.customEventManager=new gr.a,this._setRootElement(e.rootElement)}var t=e.prototype;return t.on=function(e,t){var n=this;pr()(e)?i()(e,(function(e,t){n._addEvent(t,e)})):this._addEvent(e,t)},t._bindDomEvent=function(e,t,n){t?dt["a"].findAll(this.el,t).forEach((function(t){lt()(t,e,n)})):lt()(this.el,e,n)},t._addEvent=function(e,t){var n=this._parseEventType(e),r=n.event,i=n.selector;Qn()(r,br)>-1?this._bindDomEvent(r,i,t):this.customEventManager.on(r,t)},t._unbindDomEvent=function(e,t,n){t?dt["a"].findAll(this.el,t).forEach((function(t){ut()(t,e,n)})):ut()(this.el,e,n)},t.off=function(e,t){var n=this._parseEventType(e),r=n.event,i=n.selector;Qn()(r,br)>-1?this._unbindDomEvent(r,i,t):this.customEventManager.off(r,t)},t._parseEventType=function(e){var t=e.split(" "),n=t.shift(),r=t.join(" ");return{event:n,selector:r}},t._setRootElement=function(e){if(!e){var t=this.tagName;e=document.createElement(t),e.className=this.className||"uic"+this._id}this.el=e},t.trigger=function(e,t){this.customEventManager.fire(e,t)},t.remove=function(){this.el&&dt["a"].remove(this.el)},t.destroy=function(){var e=this;this.remove(),i()(this,(function(t,n){e[n]=null}))},e}(),xr=wr;function Ir(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function Ar(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kr=function(e){function t(n){var r;return void 0===n&&(n={name:t.name}),r=e.call(this,u()({className:t.className},n))||this,r._name=n.name,r}Ir(t,e);var n=t.prototype;return n.getName=function(){return this._name},t}(xr);Ar(kr,"name","item"),Ar(kr,"className","tui-toolbar-item");var Sr=kr,_r='<div class="arrow"></div><span class="text"></span></span>',Tr=7,Er=function(){function e(){this.el=dt["a"].createElementWith('<div class="tui-tooltip">'+_r+"</div>"),document.body.appendChild(this.el),this.hide()}var t=e.prototype;return t.show=function(e,t){var n=e.getBoundingClientRect(),r=n.left+window.pageXOffset,i=n.top+window.pageYOffset;f()(this.el,{top:i+e.clientHeight+Tr+"px",left:r+3+"px"}),this.el.querySelector(".text").innerHTML=t,f()(this.el,{display:"block"})},t.hide=function(){f()(this.el,{display:"none"})},t.remove=function(){dt["a"].remove(this.el)},e}(),Or=new Er;function Rr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nr(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function Lr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Dr=function(e){function t(n){var r;return void 0===n&&(n={tagName:"button",name:t.name}),r=e.call(this,{name:n.name,tagName:"button",className:n.className+" "+t.className,rootElement:n.el})||this,r._setOptions(n),r._render(),r.on("click",r._onClick.bind(Rr(r))),n.tooltip&&(r.on("mouseover",r._onOver.bind(Rr(r))),r.on("mouseout",r._onOut.bind(Rr(r)))),r}Nr(t,e);var n=t.prototype;return n.setTooltip=function(e){this._tooltip=e},n._setOptions=function(e){this._command=e.command,this._event=e.event,this._text=e.text,this._tooltip=e.tooltip,this._style=e.style,this._state=e.state},n._render=function(){var e=document.createTextNode(this._text||"");this.el.appendChild(e),this.el.setAttribute("type","button"),this._style&&this.el.setAttribute("style",this._style)},n._onClick=function(){this.isEnabled()&&(this._command?this.trigger("command",this._command):this._event&&this.trigger("event",this._event),this.trigger("clicked"))},n._onOver=function(){this.isEnabled()&&Or.show(this.el,this._tooltip)},n._onOut=function(){Or.hide()},n.enable=function(){this.el.disabled=!1},n.disable=function(){this.el.disabled=!0},n.isEnabled=function(){return!this.el.disabled},t}(Sr);Lr(Dr,"name","button"),Lr(Dr,"className","tui-toolbar-icons");var Br=Dr;function Mr(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function Pr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fr=function(e){function t(){return e.call(this,{name:t.name,tagName:"div",className:t.className})||this}return Mr(t,e),t}(Sr);Pr(Fr,"name","divider"),Pr(Fr,"className","tui-toolbar-divider");var jr=Fr,Hr=function(){function e(){}return e.create=function(e,t){var n;switch(e){case"heading":n=new Br({name:"heading",className:"tui-heading",event:"openHeadingSelect",tooltip:cr.get("Headings"),state:"heading"});break;case"bold":n=new Br({name:"bold",className:"tui-bold",command:"Bold",tooltip:cr.get("Bold"),state:"strong"});break;case"italic":n=new Br({name:"italic",className:"tui-italic",command:"Italic",tooltip:cr.get("Italic"),state:"emph"});break;case"strike":n=new Br({name:"strike",className:"tui-strike",command:"Strike",tooltip:cr.get("Strike"),state:"strike"});break;case"hr":n=new Br({name:"hr",className:"tui-hrline",command:"HR",tooltip:cr.get("Line"),state:"thematicBreak"});break;case"quote":n=new Br({name:"quote",className:"tui-quote",command:"Blockquote",tooltip:cr.get("Blockquote"),state:"blockQuote"});break;case"ul":n=new Br({name:"ul",className:"tui-ul",command:"UL",tooltip:cr.get("Unordered list"),state:"list"});break;case"ol":n=new Br({name:"ol",className:"tui-ol",command:"OL",tooltip:cr.get("Ordered list"),state:"orderedList"});break;case"task":n=new Br({name:"task",className:"tui-task",command:"Task",tooltip:cr.get("Task"),state:"taskList"});break;case"table":n=new Br({name:"table",className:"tui-table",event:"openPopupAddTable",tooltip:cr.get("Insert table"),state:"table"});break;case"image":n=new Br({name:"image",className:"tui-image",event:"openPopupAddImage",tooltip:cr.get("Insert image"),state:""});break;case"link":n=new Br({name:"link",className:"tui-link",event:"openPopupAddLink",tooltip:cr.get("Insert link")});break;case"code":n=new Br({name:"code",className:"tui-code",command:"Code",tooltip:cr.get("Code"),state:"code"});break;case"codeblock":n=new Br({name:"codeblock",className:"tui-codeblock",command:"CodeBlock",tooltip:cr.get("Insert CodeBlock"),state:"codeBlock"});break;case"indent":n=new Br({name:"indent",className:"tui-indent",command:"Indent",tooltip:cr.get("Indent")});break;case"outdent":n=new Br({name:"outdent",className:"tui-outdent",command:"Outdent",tooltip:cr.get("Outdent")});break;case"divider":n=new jr;break;case"button":n=new Br(t);break;case"item":default:n=new Sr(t)}return n},e}(),zr=Hr;function $r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vr(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function Wr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kr=function(e){function t(t,n){var r;return void 0===n&&(n=[]),r=e.call(this,{tagName:"div",className:"tui-editor-defaultUI-toolbar"})||this,Wr($r(r),"_items",[]),Wr($r(r),"_eventManager",void 0),r._eventManager=t,r.setItems(n),r._initEvent(t),r}Vr(t,e);var n=t.prototype;return n._initEvent=function(e){var t=this;e.listen("stateChange",(function(e){t._items.forEach((function(t){t._state&&dt["a"].toggleClass(t.el,"active",!!e[t._state])}))})),e.listen("changePreviewTabPreview",(function(){return t.disableAllButton()})),e.listen("changePreviewTabWrite",(function(){return t.enableAllButton()})),e.listen("changeMode",(function(){return t.enableAllButton()}))},n.disableAllButton=function(){this._items.forEach((function(e){e instanceof Br&&e.disable()}))},n.enableAllButton=function(){this._items.forEach((function(e){e instanceof Br&&e.enable()}))},n.getItems=function(){return this._items.slice(0)},n.getItem=function(e){return this._items[e]},n.setItems=function(e){this.removeAllItems(),e.forEach(this.addItem.bind(this))},n.addItem=function(e){this.insertItem(this._items.length,e)},n.insertItem=function(e,t){var n=this;fr()(t)?t=zr.create(t):fr()(t.type)&&(t=zr.create(t.type,t.options));var r=this.el.children;e>=0&&e<r.length?(dt["a"].insertBefore(t.el,r[e]),this._items.splice(e,0,t)):(this.el.appendChild(t.el),this._items.push(t)),t.onCommandHandler=function(e){return n._eventManager.emit("command",e)},t.onEventHandler=function(e){return n._eventManager.emit(e)},t.on("command",t.onCommandHandler),t.on("event",t.onEventHandler)},n.indexOfItem=function(e){var t;if(e instanceof Sr)t=this._items.indexOf(e);else if(fr()(e)){var n=e;t=this._items.map((function(e){return e.getName()})).indexOf(n)}return t},n.removeItem=function(e,t){var n,r;return void 0===t&&(t=!0),n=e instanceof Sr?this.indexOfItem(e):e,n>=0&&(r=this._items.splice(n,1)[0]),r&&(t?r.destroy():(r.off("command",r.onCommandHandler),r.off("event",r.onEventHandler),dt["a"].remove(r.el))),r},n.removeAllItems=function(){while(this._items&&this._items.length>0)this.removeItem(0)},n.destroy=function(){this.removeAllItems(),e.prototype.destroy.call(this)},t}(xr),Gr=Kr;function Zr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ur(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var qr="tui-popup-",Xr="fit-window",Yr='<div class="'+qr+'header">\n        <span class="'+qr+'title"></span>\n        <div class="'+qr+'header-buttons">\n            <button type="button" class="'+qr+'close-button"></button>\n        </div>\n    </div>\n    <div class="'+qr+'body"></div>',Jr='<div class="'+qr+'wrapper">\n        <div class="'+qr+'header">\n            <span class="'+qr+'title"></span>\n            <div class="'+qr+'header-buttons">\n                <button type="button" class="'+qr+'close-button"></button>\n            </div>\n        </div>\n        <div class="'+qr+'body"></div>\n    </div>',Qr=function(e){function t(t){var n;return t=u()({header:!0,target:document.body,textContent:""},t),n=e.call(this,{tagName:"div",className:t.modal?qr+"modal-background":qr+"wrapper",rootElement:t.el})||this,n._clickEventMap={},n._onClickCloseButton=n.hide.bind(Zr(n)),n._initInstance(t),n._initDOM(t),n._initDOMEvent(t),n._initEditorEvent(t),n}Ur(t,e);var n=t.prototype;return n._initInstance=function(e){this._target=e.target,e.el&&(this.el=e.el,this._isExternalHtmlUse=!0),e.content?this.content=e.content:this.content=e.textContent,this.options=e},n._initDOM=function(){this._initLayout(),this._isExternalHtmlUse||(a()(this.options.title)&&this.setTitle(this.options.title),this.setContent(this.content));var e=this.options.headerButtons;if(e){var t=dt["a"].findAll(this.el,"."+qr+"close-button");t.forEach((function(e){dt["a"].remove(e)}));var n=this.el.querySelector("."+qr+"header-buttons");dt["a"].empty(n),n.innerHTML=e}this.options.css&&f()(this.el,this.options.css)},n._initDOMEvent=function(){var e=this,t=this.options,n=t.openerCssQuery,r=t.closerCssQuery,i=document,o=i.body;n&&dt["a"].findAll(o,n).forEach((function(t){var n="click."+e._id;e._clickEventMap[n]=e.show.bind(e),lt()(t,"click",e._clickEventMap[n])})),r&&dt["a"].findAll(o,r).forEach((function(t){var n="click."+e._id;e._clickEventMap[n]=e.hide.bind(e),lt()(t,"click",e._clickEventMap[n])})),this.on("click ."+qr+"close-button",this._onClickCloseButton)},n._initEditorEvent=function(){},n._initLayout=function(){var e=this.options;if(this._isExternalHtmlUse)this.hide(),this._target.appendChild(this.el);else{var t=e.modal?Jr:Yr;this.el.innerHTML=t,e.className&&p.a.apply(void 0,[this.el].concat(e.className.split(/\s+/g))),this.hide(),this._target.appendChild(this.el),this.body=this.el.querySelector("."+qr+"body"),e.header||dt["a"].remove(this.el.querySelector("."+qr+"header"))}},n.setContent=function(e){dt["a"].empty(this.body),fr()(e)?this.body.innerHTML=e:this.body.appendChild(e)},n.setTitle=function(e){var t=this.el.querySelector("."+qr+"title");dt["a"].empty(t),t.innerHTML=e},n.getTitleElement=function(){return this.el.querySelector("."+qr+"title")},n.hide=function(){f()(this.el,{display:"none"}),this._isShow=!1,this.trigger("hidden",this)},n.show=function(){f()(this.el,{display:"block"}),this._isShow=!0,this.trigger("shown",this)},n.isShow=function(){return this._isShow},n.remove=function(){var e=this,t=this.options,n=t.openerCssQuery,r=t.closerCssQuery,i=document,o=i.body;this.trigger("remove",this),this.off("click ."+qr+"close-button",this._onClickCloseButton),n&&dt["a"].findAll(o,n).forEach((function(t){ut()(t,"click",e._clickEventMap["click."+e._id]),delete e._clickEventMap["click."+e._id]})),r&&dt["a"].findAll(o,r).forEach((function(t){ut()(t,"click",e._clickEventMap["click."+e._id]),delete e._clickEventMap["click."+e._id]})),dt["a"].remove(this.el),this.el=null},n.setFitToWindow=function(e){dt["a"].toggleClass(this.el,Xr,e)},n.isFitToWindow=function(){return Nt()(this.el,Xr)},n.toggleFitToWindow=function(){var e=!this.isFitToWindow();return this.setFitToWindow(e),e},t}(xr),ei=Qr;function ti(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function ni(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ri=function(e){function t(t){return t=u()({header:!1,className:"te-dropdown-toolbar"},t),e.call(this,t)||this}ti(t,e);var n=t.prototype;return n.getToolbar=function(){return this._toolbar},n.getItems=function(){return this.getToolbar().getItems()},n.getItem=function(e){return this.getToolbar().getItem(e)},n.setItems=function(e){this.getToolbar().setItems(e)},n.addItem=function(e){this.getToolbar().addItem(e)},n.insertItem=function(e,t){this.getToolbar().insertItem(e,t)},n.indexOfItem=function(e){return this.getToolbar().indexOfItem(e)},n.removeItem=function(e,t){return this.getToolbar().removeItem(e,t)},n.removeAllItems=function(){this.getToolbar().removeAllItems()},n._initInstance=function(t){e.prototype._initInstance.call(this,t);var n=t.button,r=t.eventManager;this._button=n,this._eventManager=r,this._toolbar=new Gr(r)},n._initDOM=function(){e.prototype._initDOM.call(this),this.setContent(this._toolbar.el)},n._initEditorEvent=function(){var n=this;e.prototype._initEditorEvent.call(this),this._eventManager.listen("focus",(function(){return n.hide()})),this._eventManager.listen("closeAllPopup",(function(){return n.hide()})),this._eventManager.listen(t.OPEN_EVENT,(function(){var e=n.isShow();n._eventManager.emit("closeAllPopup"),e||n.show(),f()(n.el,{left:"-1000px"});var t=n._button,r=dt["a"].getOuterHeight(t,!0),i=(r-dt["a"].getOuterHeight(t))/2,o=t.offsetTop+r-i,a=t.offsetLeft+dt["a"].getOuterWidth(t,!0)-dt["a"].getOuterWidth(n.el,!0);f()(n.el,{top:o+"px",left:a+"px"})}))},t}(ei);ni(ri,"OPEN_EVENT","openDropdownToolbar");var ii=ri;function oi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ai(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function si(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var li="more",ci=function(e){function t(t,n){var r;return r=e.call(this,t,n)||this,si(oi(r),"_moreButton",void 0),si(oi(r),"_popupDropdownToolbar",void 0),si(oi(r),"_observer",void 0),r._init(t),r._bindWidthChangedEvent(),r}ai(t,e);var n=t.prototype;return n.insertItem=function(t,n){e.prototype.insertItem.call(this,t,n),this._arrangeMoreButton()},n._init=function(e){var t=zr.create("button",{name:li,className:"tui-more",tooltip:cr.get("More"),event:ii.OPEN_EVENT});this._moreButton=t,this._popupDropdownToolbar=new ii({eventManager:e,target:this.el,button:t.el}),this.addItem(t)},n._bindWidthChangedEvent=function(){var e=this;this._observer=new ur["a"]((function(){e._popupDropdownToolbar.hide(),e._balanceButtons()})),this._observer.observe(this.el)},n._balanceButtons=function(){var t=this,n=this._popupDropdownToolbar.getItems();n.forEach((function(n){t._popupDropdownToolbar.removeItem(n,!1);var r=t.getItems().length;e.prototype.insertItem.call(t,r,n)})),this.removeItem(this._moreButton,!1),e.prototype.insertItem.call(this,0,this._moreButton);var r=this.getItems(),i=r.filter((function(e){return e.el.offsetTop>t.el.clientHeight}));i.forEach((function(e){t.removeItem(e,!1),t._popupDropdownToolbar.addItem(e)})),this._arrangeMoreButton()},n._arrangeMoreButton=function(){if(this._popupDropdownToolbar){this.removeItem(this._moreButton,!1);var t=this._popupDropdownToolbar.getItems().length>0,n=this.getItems().length;t&&e.prototype.insertItem.call(this,n,this._moreButton)}},n.destroy=function(){this._observer&&(this._observer.disconnect(),this._observer=null)},t}(Gr),ui=ci;function di(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var fi="te-tab-active",hi=function(e){function t(t){var n;return void 0===t&&(t={}),n=e.call(this,{tagName:"div",className:"te-tab"})||this,n.sections=t.sections,n._activeButton=null,n._render(t),n._initEvent(t),n}di(t,e);var n=t.prototype;return n._initEvent=function(e){var t=e.onItemClick;t&&this.on("itemClick",t),this.on("click button",this._onTabButton.bind(this))},n._render=function(e){for(var t=e.items,n=e.initName,r=[],i=0,o=t.length;i<o;i+=1)r.push('<button type="button" data-index="'+i+'">'+t[i]+"</button>");this.el.innerHTML=r.join(""),this.activate(n)},n._findButtonContained=function(e,t,n){return dt["a"].findAll(e,t).filter((function(e){return new RegExp(n).test(e.textContent)}))},n.activate=function(e){var t=this._findButtonContained(this.el,"button",e),n=t[0];this._activateTabByButton(n)},n._onTabButton=function(e){var t=e.target;this._activateTabByButton(t),this.trigger("itemClick",t.textContent)},n._activateTabByButton=function(e){this._isActivatedButton(e)||this._updateClassByButton(e)},n._updateClassByButton=function(e){if(this._activeButton){var t=this._activeButton.getAttribute("data-index");g()(this._activeButton,fi),this.sections&&g()(this.sections[t],fi)}p()(e,fi),this._activeButton=e;var n=e.getAttribute("data-index");this.sections&&p()(this.sections[n],fi)},n._isActivatedButton=function(e){return this._activeButton&&this._activeButton.textContent===e.textContent},t}(xr),pi=hi;function mi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gi(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function vi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bi="markdown",yi="wysiwyg",Ci=function(e){function t(t,n,r){var i;return i=e.call(this,{tagName:"div",className:"te-mode-switch"})||this,vi(mi(i),"_buttons",{}),vi(mi(i),"_type",void 0),vi(mi(i),"_rootElement",void 0),i._eventManager=r,i._render(t),i._switchType(a()(n)?n:bi),i._initEvent(),i}gi(t,e);var n=t.prototype;return n.isShown=function(){return"block"===this._rootElement.style.display},n.show=function(){f()(this._rootElement,{display:"block"})},n.hide=function(){f()(this._rootElement,{display:"none"})},n._render=function(e){this._buttons.markdown=dt["a"].createElementWith('<button class="te-switch-button markdown" type="button">'+cr.get("Markdown")+"</button>"),this._buttons.wysiwyg=dt["a"].createElementWith('<button class="te-switch-button wysiwyg" type="button">'+cr.get("WYSIWYG")+"</button>"),this.el.appendChild(this._buttons.markdown),this.el.appendChild(this._buttons.wysiwyg),e&&(e.appendChild(this.el),this._rootElement=e),this.on("click .markdown",this._changeMarkdown.bind(this)),this.on("click .wysiwyg",this._changeWysiwyg.bind(this)),this.show()},n._changeMarkdown=function(){this._switchType(bi)},n._changeWysiwyg=function(){this._switchType(yi)},n._setActiveButton=function(e){g()(this._buttons.markdown,"active"),g()(this._buttons.wysiwyg,"active"),p()(this._buttons[""+e],"active")},n._switchType=function(e){this._type!==e&&(this._type=e,this._setActiveButton(e),this.trigger("modeSwitched",this._type))},n._initEvent=function(){var e=this;this._eventManager.listen("changeMode",(function(t){e._type!==t&&(e._type=t,e._setActiveButton(t))}))},t}(xr);vi(Ci,"TYPE",{MARKDOWN:bi,WYSIWYG:yi});var wi=Ci;function xi(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Ii=/^(https?:\/\/)?([\da-z.-]+)\.([a-z.]{2,6})(\/([^\s]*))?$/,Ai=function(e){function t(t){var n='\n            <label for="url">'+cr.get("URL")+'</label>\n            <input type="text" class="te-url-input" />\n            <label for="linkText">'+cr.get("Link text")+'</label>\n            <input type="text" class="te-link-text-input" />\n            <div class="te-button-section">\n                <button type="button" class="te-ok-button">'+cr.get("OK")+'</button>\n                <button type="button" class="te-close-button">'+cr.get("Cancel")+"</button>\n            </div>\n        ";return t=u()({header:!0,title:cr.get("Insert link"),className:"te-popup-add-link tui-editor-popup",content:n},t),e.call(this,t)||this}xi(t,e);var n=t.prototype;return n._initInstance=function(t){e.prototype._initInstance.call(this,t),this._editor=t.editor,this._eventManager=t.editor.eventManager},n._initDOM=function(){e.prototype._initDOM.call(this);var t=this.el;this._inputText=t.querySelector(".te-link-text-input"),this._inputURL=t.querySelector(".te-url-input")},n._initDOMEvent=function(){var t=this;e.prototype._initDOMEvent.call(this),this.on("click .te-close-button",(function(){return t.hide()})),this.on("click .te-ok-button",(function(){return t._addLink()})),this.on("shown",(function(){var e=t._inputText,n=t._inputURL,r=t._editor.getSelectedText().trim();e.value=r,Ii.exec(r)&&(n.value=r),n.focus()})),this.on("hidden",(function(){t._resetInputs()}))},n._initEditorEvent=function(){var t=this;e.prototype._initEditorEvent.call(this);var n=this._eventManager;n.listen("focus",(function(){return t.hide()})),n.listen("closeAllPopup",(function(){return t.hide()})),n.listen("openPopupAddLink",(function(){n.emit("closeAllPopup"),t.show()}))},n._addLink=function(){var e=this._getValue(),t=e.url,n=e.linkText;this._clearValidationStyle(),n.length<1?p()(this._inputText,"wrong"):t.length<1?p()(this._inputURL,"wrong"):(this._eventManager.emit("command","AddLink",{linkText:n,url:t}),this.hide())},n._getValue=function(){var e=this._inputURL.value,t=this._inputText.value;return{url:e,linkText:t}},n._clearValidationStyle=function(){g()(this._inputURL,"wrong"),g()(this._inputText,"wrong")},n._resetInputs=function(){this._inputText.value="",this._inputURL.value="",this._clearValidationStyle()},t}(ei),ki=Ai;function Si(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var _i="te-image-url-input",Ti="te-image-file-input",Ei="te-alt-text-input",Oi="te-ok-button",Ri="te-close-button",Ni="te-file-type",Li="te-url-type",Di="te-tab-section",Bi="ui",Mi=function(e){function t(t){var n='\n            <div class="'+Di+'"></div>\n            <div class="'+Li+'">\n                <label for="">'+cr.get("Image URL")+'</label>\n                <input type="text" class="'+_i+'" />\n            </div>\n            <div class="'+Ni+'">\n                <label for="">'+cr.get("Select image file")+'</label>\n                <input type="file" class="'+Ti+'" accept="image/*" />\n            </div>\n            <label for="url">'+cr.get("Description")+'</label>\n            <input type="text" class="'+Ei+'" />\n            <div class="te-button-section">\n                <button type="button" class="'+Oi+'">'+cr.get("OK")+'</button>\n                <button type="button" class="'+Ri+'">'+cr.get("Cancel")+"</button>\n            </div>\n        ";return t=u()({header:!0,title:cr.get("Insert image"),className:"te-popup-add-image tui-editor-popup",content:n},t),e.call(this,t)||this}Si(t,e);var n=t.prototype;return n._initInstance=function(t){e.prototype._initInstance.call(this,t),this.eventManager=t.eventManager},n._initDOM=function(){e.prototype._initDOM.call(this);var t=this.el;this._imageUrlInput=t.querySelector("."+_i),this._imageFileInput=t.querySelector("."+Ti),this._altTextInput=t.querySelector("."+Ei);var n=t.querySelector("."+Ni),r=t.querySelector("."+Li),i=this.body.querySelector("."+Di);this.tab=new pi({initName:cr.get("File"),items:[cr.get("File"),cr.get("URL")],sections:[n,r]}),i.appendChild(this.tab.el)},n._initDOMEvent=function(){var t=this;e.prototype._initDOMEvent.call(this),this.on("shown",(function(){return t._imageUrlInput.focus()})),this.on("hidden",(function(){return t._resetInputs()})),this.on("change ."+Ti,(function(){var e=t._imageFileInput.value.split("\\").pop();t._altTextInput.value=e})),this.on("click ."+Ri,(function(){return t.hide()})),this.on("click ."+Oi,(function(){var e=t._imageUrlInput.value,n=t._altTextInput.value;if(e)t._applyImage(e,n);else{var r=t._imageFileInput.files;if(r.length){var i=r.item(0),o=function(e,r){return t._applyImage(e,r||n)};t.eventManager.emit("addImageBlobHook",i,o,Bi)}}t.hide()})),this.tab.on("itemClick",(function(){return t._resetInputs()}))},n._initEditorEvent=function(){var t=this;e.prototype._initEditorEvent.call(this),this.eventManager.listen("focus",(function(){return t.hide()})),this.eventManager.listen("closeAllPopup",(function(){return t.hide()})),this.eventManager.listen("openPopupAddImage",(function(){t.eventManager.emit("closeAllPopup"),t.show()}))},n._applyImage=function(e,t){this.eventManager.emit("command","AddImage",{imageUrl:e,altText:t||"image"}),this.hide()},n._resetInputs=function(){dt["a"].findAll(this.el,"input").forEach((function(e){e.value=""}))},n.remove=function(){this.tab.remove(),e.prototype.remove.call(this)},t}(ei),Pi=Mi;function Fi(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var ji="te-table-remove-row",Hi="te-context-menu-disabled",zi=function(e){function t(t){var n='\n      <button type="button" class="te-table-add-row">'+cr.get("Add row")+'</button>\n      <button type="button" class="te-table-add-col">'+cr.get("Add col")+'</button>\n      <button type="button" class="te-table-remove-row">'+cr.get("Remove row")+'</button>\n      <button type="button" class="te-table-remove-col">'+cr.get("Remove col")+'</button>\n      <hr/>\n      <button type="button" class="te-table-col-align-left">'+cr.get("Align left")+'</button>\n      <button type="button" class="te-table-col-align-center">'+cr.get("Align center")+'</button>\n      <button type="button" class="te-table-col-align-right">'+cr.get("Align right")+'</button>\n      <hr/>\n      <button type="button" class="te-table-remove">'+cr.get("Remove table")+"</button>\n    ";return t=u()({header:!1,className:"te-popup-table-utils",content:n},t),e.call(this,t)||this}Fi(t,e);var n=t.prototype;return n._initInstance=function(t){e.prototype._initInstance.call(this,t),this.eventManager=t.eventManager},n._initDOMEvent=function(){var t=this;e.prototype._initDOMEvent.call(this),this.on("click .te-table-add-row",(function(){return t.eventManager.emit("command","AddRow")})),this.on("click .te-table-add-col",(function(){return t.eventManager.emit("command","AddCol")})),this.on("click .te-table-col-align-left",(function(){return t.eventManager.emit("command","AlignCol","left")})),this.on("click .te-table-col-align-center",(function(){return t.eventManager.emit("command","AlignCol","center")})),this.on("click .te-table-col-align-right",(function(){return t.eventManager.emit("command","AlignCol","right")})),this.on("click .te-table-remove-col",(function(){return t.eventManager.emit("command","RemoveCol")})),this.on("click .te-table-remove",(function(){return t.eventManager.emit("command","RemoveTable")})),this._bindClickEventOnRemoveRowMenu()},n._initEditorEvent=function(){var t=this;e.prototype._initEditorEvent.call(this),this.eventManager.listen("focus",(function(){return t.hide()})),this.eventManager.listen("mousedown",(function(){return t.hide()})),this.eventManager.listen("closeAllPopup",(function(){return t.hide()})),this.eventManager.listen("openPopupTableUtils",(function(e){var n=t.el.parentNode.getBoundingClientRect(),r=n.left,i=n.top;t._disableRemoveRowMenu(e.target),f()(t.el,{position:"absolute",top:e.clientY-i+5+"px",left:e.clientX-r+10+"px"}),t.eventManager.emit("closeAllPopup"),t.show()}))},n._bindClickEventOnRemoveRowMenu=function(){var e=this;this.on("click ."+ji,(function(t){var n=t.target;Nt()(n,Hi)?t.preventDefault():e.eventManager.emit("command","RemoveRow")}))},n._disableRemoveRowMenu=function(e){var t=this.el.querySelector("."+ji);dt["a"].toggleClass(t,Hi,"TH"===e.nodeName)},t}(ei),$i=zi;function Vi(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Wi="te-table-selection",Ki="te-table-header",Gi="te-table-body",Zi="te-selection-area",Ui="te-description",qi='\n    <div class="'+Wi+'">\n        <div class="'+Ki+'"></div>\n        <div class="'+Gi+'"></div>\n        <div class="'+Zi+'"></div>\n    </div>\n    <p class="'+Ui+'"></p>\n',Xi=25,Yi=17,Ji=7,Qi=14,eo=5,to=9,no=1,ro=1,io=1,oo=1,ao=function(e){function t(t){return t=u()({header:!1,className:"te-popup-add-table",content:qi},t),e.call(this,t)||this}Vi(t,e);var n=t.prototype;return n._initInstance=function(t){e.prototype._initInstance.call(this,t),this._selectedBound={},this._tableBound={},this._eventManager=t.eventManager,this._button=t.button,this._eventHandlers={onMousedown:this._selectTableRange.bind(this),onClick:this._fireCommandEvent.bind(this)}},n._initDOM=function(){e.prototype._initDOM.call(this),this._cacheElements(),this._setTableSizeByBound(eo,Ji)},n._initDOMEvent=function(t){e.prototype._initDOMEvent.call(this,t),this.on("mousemove ."+Wi,this._eventHandlers.onMousedown),this.on("click ."+Wi,this._eventHandlers.onClick)},n._selectTableRange=function(e){var t=e.pageX-this._selectionOffset.left,n=e.pageY-this._selectionOffset.top,r=this._getSelectionBoundByOffset(t,n);this._resizeTableBySelectionIfNeed(r.col,r.row),this._setSelectionAreaByBound(r.col,r.row),this._setDisplayText(r.col,r.row),this._setSelectedBound(r.col,r.row)},n._fireCommandEvent=function(){var e=this._getSelectedTableSize();this._eventManager.emit("command","Table",e.col,e.row)},n._initEditorEvent=function(){var t=this;e.prototype._initEditorEvent.call(this),this._eventManager.listen("focus",(function(){return t.hide()})),this._eventManager.listen("closeAllPopup",(function(){return t.hide()})),this._eventManager.listen("openPopupAddTable",(function(){var e=t._button,n=e.offsetTop,r=e.offsetLeft;f()(t.el,{top:n+dt["a"].getOuterHeight(e)+"px",left:r+"px"}),t._eventManager.emit("closeAllPopup"),t.show();var i=t.el.querySelector("."+Wi).getBoundingClientRect(),o=i.left,a=i.top;t._selectionOffset={left:o+window.pageXOffset,top:a+window.pageYOffset}}))},n._cacheElements=function(){this.header=this.el.querySelector("."+Ki),this.body=this.el.querySelector("."+Gi),this.selection=this.el.querySelector("."+Zi),this.desc=this.el.querySelector("."+Ui)},n._resizeTableBySelectionIfNeed=function(e,t){var n=this._getResizedTableBound(e,t);n&&this._setTableSizeByBound(n.col,n.row)},n._getResizedTableBound=function(e,t){var n,r,i;return e>=eo&&e<to?n=e+1:e<eo&&(n=eo),t>=Ji&&t<Qi?r=t+1:t<Ji&&(r=Ji),this._isNeedResizeTable(n,r)&&(i={row:r||this._tableBound.row,col:n||this._tableBound.col}),i},n._isNeedResizeTable=function(e,t){return e&&e!==this._tableBound.col||t&&t!==this._tableBound.row},n._getBoundByOffset=function(e,t){var n=parseInt(t/Yi,10),r=parseInt(e/Xi,10);return{row:n,col:r}},n._getOffsetByBound=function(e,t){var n=e*Xi+Xi,r=t*Yi+Yi;return{x:n,y:r}},n._setTableSizeByBound=function(e,t){var n=this._getOffsetByBound(e,t-io);this._setTableSize(n.x,n.y),this._tableBound.row=t,this._tableBound.col=e},n._getSelectionBoundByOffset=function(e,t){var n=this._getBoundByOffset(e,t);return n.row<no?n.row=no:n.row>this._tableBound.row&&(n.row=this._tableBound.row),n.col<ro?n.col=ro:n.col>this._tableBound.col&&(n.col=this._tableBound.col),n},n._setSelectionAreaByBound=function(e,t){var n=this._getOffsetByBound(e,t);this._setSelectionArea(n.x,n.y)},n._setSelectedBound=function(e,t){this._selectedBound.col=e,this._selectedBound.row=t},n._getSelectedTableSize=function(){return{row:this._selectedBound.row+1,col:this._selectedBound.col+1}},n._setDisplayText=function(e,t){this.desc.innerHTML=e+1+" x "+(t+1)},n._setTableSize=function(e,t){e+=oo,t+=oo,f()(this.header,{height:Yi+"px",width:e+"px"}),f()(this.body,{height:t+"px",width:e+"px"}),f()(this.el,{width:e+30+"px"})},n._setSelectionArea=function(e,t){e+=oo,t+=oo,f()(this.selection,{height:t+"px",width:e+"px"})},n.remove=function(){this.off("mousemove ."+Wi,this._eventHandlers.onMousedown),this.off("click ."+Wi,this._eventHandlers.onClick),e.prototype.remove.call(this)},t}(ei);ao.CELL_WIDTH=Xi,ao.CELL_HEIGHT=Yi,ao.MIN_ROW_SELECTION_INDEX=no,ao.MIN_COL_SELECTION_INDEX=ro;var so=ao;function lo(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var co=function(e){function t(t){var n='\n      <ul>\n        <li data-value="1" data-type="Heading"><h1>'+cr.get("Heading")+' 1</h1></li>\n        <li data-value="2" data-type="Heading"><h2>'+cr.get("Heading")+' 2</h2></li>\n        <li data-value="3" data-type="Heading"><h3>'+cr.get("Heading")+' 3</h3></li>\n        <li data-value="4" data-type="Heading"><h4>'+cr.get("Heading")+' 4</h4></li>\n        <li data-value="5" data-type="Heading"><h5>'+cr.get("Heading")+' 5</h5></li>\n        <li data-value="6" data-type="Heading"><h6>'+cr.get("Heading")+' 6</h6></li>\n        <li data-type="Paragraph"><div>'+cr.get("Paragraph")+"</div></li>\n      </ul>\n    ";return t=u()({header:!1,className:"te-heading-add",content:n},t),e.call(this,t)||this}lo(t,e);var n=t.prototype;return n._initInstance=function(t){e.prototype._initInstance.call(this,t),this._eventManager=t.eventManager,this._button=t.button},n._initDOMEvent=function(){var t=this;e.prototype._initDOMEvent.call(this),this.on("click li",(function(e){var n=dt["a"].closest(e.target,"li");t._eventManager.emit("command",n.getAttribute("data-type"),n.getAttribute("data-value"))}))},n._initEditorEvent=function(){var t=this;e.prototype._initEditorEvent.call(this),this._eventManager.listen("focus",this.hide.bind(this)),this._eventManager.listen("closeAllPopup",this.hide.bind(this)),this._eventManager.listen("openHeadingSelect",(function(){var e=t._button,n=e.offsetTop,r=e.offsetLeft;f()(t.el,{top:n+dt["a"].getOuterHeight(e)+"px",left:r+"px"}),t._eventManager.emit("closeAllPopup"),t.show()}))},t}(ei),uo=co;function fo(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var ho="te-popup-code-block-lang-";function po(e){return e.map((function(e){return'<button type="button" class="'+ho+e+'" data-lang="'+e+'">'+e+"</button>"})).join("")}var mo=function(e){function t(t){var n=t,r=n.languages;return t=u()({header:!1,className:"te-popup-code-block-languages",content:po(r)},t),e.call(this,t)||this}fo(t,e);var n=t.prototype;return n._initInstance=function(t){var n=this;e.prototype._initInstance.call(this,t),this.eventManager=t.eventManager,this._onSelectedLanguage=null,this._onDismissed=null,this._currentButton=null,this._buttons=null,this._languages=t.languages,this._btnMousedownHandler=function(e){var t=e.target.getAttribute("data-lang");n._onSelectedLanguage&&n._onSelectedLanguage(t),n.hide()}},n._initDOM=function(t){e.prototype._initDOM.call(this,t),f()(this.el,"zIndex",1e4),this._buttons=dt["a"].findAll(this.el,"button"),this._activateButtonByIndex(0)},n._initDOMEvent=function(){e.prototype._initDOMEvent.call(this),this._addBtnMouseDownHandler()},n._initEditorEvent=function(){var t=this;e.prototype._initEditorEvent.call(this),this.eventManager.listen("openPopupCodeBlockLanguages",(function(e){return t.show(e.callback),f()(t.el,{top:e.offset.top+"px"}),f()(t.el,{left:e.offset.left+"px"}),t.setCurrentLanguage(e.language),t})),this.eventManager.listen("focus",(function(){return t.hide()})),this.eventManager.listen("mousedown",(function(){return t.hide()})),this.eventManager.listen("closeAllPopup",(function(){return t.hide()})),this.eventManager.listen("closePopupCodeBlockLanguages",(function(){return t.hide()})),this.eventManager.listen("scroll",(function(){return t.hide()})),this.eventManager.listen("setCodeBlockLanguages",(function(e){return t._changeLanguageButtons(e)}))},n._activateButtonByIndex=function(e){this._currentButton&&g()(this._currentButton,"active"),this._buttons.length&&(this._currentButton=this._buttons[e],p()(this._currentButton,"active"),this._currentButton.scrollIntoView())},n.prev=function(){var e=Qn()(this._currentButton,this._buttons)-1;e<0&&(e=this._buttons.length-1),this._activateButtonByIndex(e)},n.next=function(){var e=Qn()(this._currentButton,this._buttons)+1;e>=this._buttons.length&&(e=0),this._activateButtonByIndex(e)},n.getCurrentLanguage=function(){var e=this._currentButton.getAttribute("data-lang");return e},n.setCurrentLanguage=function(e){var t=this._buttons.filter((function(t){return ht()(t,"."+ho+e)}));if(t.length>0){var n=Qn()(t[0],this._buttons);this._activateButtonByIndex(n)}},n.show=function(t){this._onSelectedLanguage=t.selected,this._onDismissed=t.dismissed,e.prototype.show.call(this)},n.hide=function(){this._onDismissed&&this._onDismissed(),this._onSelectedLanguage=null,this._onDismissed=null,e.prototype.hide.call(this)},n._addBtnMouseDownHandler=function(){var e=this;this._languages.forEach((function(t){e.off("mousedown ."+ho+t,e._btnMousedownHandler),e.on("mousedown ."+ho+t,e._btnMousedownHandler)}))},n._changeLanguageButtons=function(e){this._languages=e,e&&e.length&&(this.content=po(e),this.setContent(this.content),this._addBtnMouseDownHandler(),this._buttons=dt["a"].findAll(this.el,"button"),this._activateButtonByIndex(0))},t}(ei),go=mo,vo="tui-split-scroll",bo="single-content",yo="scroll-sync",Co="tui-split-scroll-wrapper",wo="tui-split-scroll-content",xo="tui-splitter",Io="requireScrollIntoView",Ao="tui-split-content-left",ko="tui-split-content-right",So={left:Ao,right:ko},_o=function(){function e(e,t,n,r){void 0===r&&(r={}),r=u()({showScrollSyncButton:!1,scrollSync:!0,splitView:!0},r),this._baseElement=e,this._eventManager=r.eventManager,this._contentElements=[],this._initDom(t,n,r),this._initDomEvent()}var t=e.prototype;return t._initDom=function(e,t,n){var r=document.createElement("div");r.className=vo,this._el=r;var i=document.createElement("div");i.className=Co,this._scrollWrapper=i,this._setScrollSync(n.scrollSync),this.setSplitView(n.splitView);var o=document.createElement("div");o.className=wo,this._contentWrapper=o;var a=document.createElement("div");a.className=xo,this._baseElement.appendChild(r),r.appendChild(i),i.appendChild(o),i.appendChild(a),this._setLeft(e),this._setRight(t)},t._initDomEvent=function(){this._contentWrapper.addEventListener("scroll",this.sync.bind(this))},t._requireScrollIntoView=function(e){var t,n=e.getBoundingClientRect(),r=n.top,i=n.bottom;if(this.isScrollSynced())t=this._contentWrapper;else if(dt["a"].parents(e,this._contentElements.left).length)t=this._contentElements.left;else{if(!dt["a"].parents(e,this._contentElements.right).length)return;t=this._contentElements.right}var o=t.getBoundingClientRect(),a=o.top,s=o.bottom;r<a?t.scrollTop=t.scrollTop+r-a:i>s&&(t.scrollTop=t.scrollTop+i-s),this.sync()},t._setContentElement=function(e,t){var n=this,r=this._contentElements[t];r&&(this._eventManager.removeEventHandler(Io),this._contentWrapper.removeChild(r)),p()(e,So[t]),this._contentWrapper.appendChild(e),this._eventManager.listen(Io,(function(e){return n._requireScrollIntoView(e)})),this._eventManager.listen("requireScrollSync",(function(){return n.sync()})),this._contentElements[t]=e,this.sync()},t._setLeft=function(e){this._setContentElement(e,"left")},t._setRight=function(e){this._setContentElement(e,"right")},t._setScrollSync=function(e){dt["a"].toggleClass(this._el,yo,e)},t.toggleScrollSync=function(){dt["a"].toggleClass(this._el,yo)},t.setSplitView=function(e){e?g()(this._el,bo):p()(this._el,bo)},t.toggleSplitView=function(){dt["a"].toggleClass(this._el,bo)},t.isScrollSynced=function(){return Nt()(this._el,yo)},t.isSplitView=function(){return!Nt()(this._el,bo)},t.sync=function(){if(this._contentElements.left&&this._contentElements.right){var e=this._contentWrapper.clientHeight,t=this._contentWrapper.scrollTop,n=this._contentElements.left,r=this._contentElements.right,i=n.offsetHeight-e>0?n:r,o=i===n?r:n,a=i.offsetHeight,s=Math.max(a-e,0),l=Math.max(o.offsetHeight,e),c=a-l;f()(i,{top:0}),f()(o,{top:t/s*c+"px"})}},t.scrollTop=function(e){this._contentWrapper.scrollTop=e},e}(),To=_o;function Eo(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Oo=function(e){function t(t,n){var r;return r=e.call(this,t,{singleCursorHeightPerLine:!1,theme:"none"})||this,r._language="",r._eventManager=n,r._initEvent(),r}Eo(t,e);var n=t.prototype;return n._initEvent=function(){var e=this;this.on("cursorActivity",this._onRequireScrollIntoView.bind(this)),this.on("beforeChange",(function(t,n){"paste"===n.origin&&e._eventManager.emit("pasteBefore",{source:"codeblock",data:n})}))},n._onRequireScrollIntoView=function(){var e=this,t=this.getCursor(),n=this.getWrapperElement();setTimeout((function(){var r=n.querySelector("pre:nth-child("+(t.line+1)+")");r&&e._eventManager.emit("requireScrollIntoView",r)}),0)},n.load=function(e){var t=e.cloneNode(!0);this.setLanguage(t.getAttribute("data-language")||""),this.setEditorCodeText(t.textContent)},n.save=function(e){e.innerHTML="",e.textContent=this.getEditorCodeText(),e.setAttribute("data-language",this._language),this._eventManager.emit("changeLanguage")},n.clear=function(){this.setLanguage(""),this.setEditorCodeText("")},n.getLanguage=function(){return this._language},n.setLanguage=function(e){void 0===e&&(e=""),this._language=e},n.getEditorCodeText=function(){return this.getValue()},n.setEditorCodeText=function(e){void 0===e&&(e=""),this.setValue(e)},n.refresh=function(){this.cm.refresh()},t}(W),Ro=Oo,No=n(38);function Lo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Do(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Bo=function(e){function t(t,n,r,i){var o;return o=e.call(this,t,n,r,!0)||this,o._codeBlockEditor=i,o._initEvent(),o.lazyRunner.registerLazyRunFunction("refresh",o.refresh,o.delayCodeBlockTime,Lo(o)),o}Do(t,e);var n=t.prototype;return n._initEvent=function(){var e=this;this._codeBlockEditor.on("update",(function(){return e.lazyRunner.run("refresh")}))},n.refresh=function(){var t=this._codeBlockEditor.getLanguage(),n=this._codeBlockEditor.getEditorCodeText();e.prototype.refresh.call(this,"```"+t+"\n"+n+"\n```"),this.eventManager.emit("requireScrollSync")},n.clear=function(){e.prototype.render.call(this,"")},t}(No["a"]),Mo=Bo,Po=function(){function e(e,t){this._eventManager=e,this._languages=t,this._initDOM(),this._initDOMEvent(),this._initEvent()}var t=e.prototype;return t._initDOM=function(){this._inputLanguage=dt["a"].createElementWith('<input type="text" maxlength="20" placeholder="'+cr.get("Choose language")+'" />'),this._wrapper=dt["a"].createElementWith('<span class="te-input-language"></span>'),this._wrapper.appendChild(this._inputLanguage),this._hide()},t._initDOMEvent=function(){var e=this;this._inputLanguage.addEventListener("keydown",(function(t){return e._onKeyEvent(t)})),this._inputLanguage.addEventListener("focus",(function(){return e._showPopupCodeBlockLanguages()})),this._inputLanguage.addEventListener("focusout",(function(){return e._onFocusOut()})),this._wrapper.addEventListener("mousedown",(function(t){t.target===e._wrapper&&(t.preventDefault(),e._toggleFocus())}))},t._initEvent=function(){var e=this;this._eventManager.listen("setCodeBlockLanguages",(function(t){e._languages=t,t&&t.length?e._show():e._hide()}))},t._showPopupCodeBlockLanguages=function(){var e=this,t=this._inputLanguage.getBoundingClientRect();p()(this._wrapper,"active"),this.active=!0,this._popupCodeBlockLanguages=this._eventManager.emitReduce("openPopupCodeBlockLanguages",{language:this._prevStoredLanguage,offset:{left:t.left,top:t.bottom},callback:{selected:function(t){return e._onLanguageSelectedFromList(t)},dismissed:function(){e._popupCodeBlockLanguages=null}}})},t._toggleFocus=function(){var e=this._inputLanguage;Nt()(this._wrapper,"active")?e.blur():e.focus()},t._onFocusOut=function(){g()(this._wrapper,"active"),this._inputLanguage.value=this._prevStoredLanguage,this._hidePopupCodeBlockLanguages()},t._onKeyEvent=function(e){if(this._popupCodeBlockLanguages)switch(e.which){case Z.keyCode("UP"):this._popupCodeBlockLanguages.prev(),e.preventDefault();break;case Z.keyCode("DOWN"):this._popupCodeBlockLanguages.next(),e.preventDefault();break;case Z.keyCode("ENTER"):case Z.keyCode("TAB"):var t=this._popupCodeBlockLanguages.getCurrentLanguage();this._inputLanguage.value=t,this._storeInputLanguage(),e.preventDefault();break;default:this._popupCodeBlockLanguages.hide()}else e.which!==Z.keyCode("ENTER")&&e.which!==Z.keyCode("TAB")||(this._storeInputLanguage(),e.preventDefault())},t._onLanguageSelectedFromList=function(e){this._inputLanguage.value=e,this._storeInputLanguage()},t.setOnLanguageSelected=function(e){this._onLanguageSelected=e},t._hidePopupCodeBlockLanguages=function(){this._eventManager.emit("closePopupCodeBlockLanguages")},t.setLanguage=function(e){this._prevStoredLanguage=e,this._inputLanguage.value=e},t._storeInputLanguage=function(){var e=this._inputLanguage.value;this.setLanguage(e),this._onLanguageSelected&&this._onLanguageSelected(e),this._hidePopupCodeBlockLanguages()},t.getElement=function(){return this._wrapper},t._show=function(){f()(this._wrapper,{display:"inline-block"})},t._hide=function(){f()(this._wrapper,{display:"none"})},e}(),Fo=Po;function jo(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Ho="popup-editor-",zo="te-ok-button",$o="te-close-button",Vo="tui-popup-close-button",Wo='\n    <button type="button" class="'+Ho+'toggle-scroll"></button>\n    <button type="button" class="'+Ho+'toggle-preview"></button>\n    <button type="button" class="'+Ho+'toggle-fit"></button>\n    <button type="button" class="'+Vo+'"></button>\n',Ko=function(e){function t(t){var n='\n            <div class="'+Ho+'body"></div>\n            <div class="te-button-section">\n                <button type="button" class="'+zo+'">'+cr.get("OK")+'</button>\n                <button type="button" class="'+$o+'">'+cr.get("Cancel")+"</button>\n            </div>\n        ";return t=u()({header:!0,title:"CodeBlock Editor",content:n,className:"tui-popup-code-block-editor",headerButtons:Wo,modal:!0},t),e.call(this,t)||this}jo(t,e);var n=t.prototype;return n._initInstance=function(t){e.prototype._initInstance.call(this,t),this.eventManager=t.eventManager,this.convertor=t.convertor,this.languages=t.languages},n._initDOM=function(t){e.prototype._initDOM.call(this,t);var n=this.el,r=this.eventManager;this._body=n.querySelector("."+Ho+"body"),this._toggleFitButton=n.querySelector("."+Ho+"toggle-fit"),this._togglePreviewButton=n.querySelector("."+Ho+"toggle-preview"),this._toggleScrollButton=n.querySelector("."+Ho+"toggle-scroll"),this._okButton=n.querySelector("."+zo),this._closeButton=n.querySelector("."+$o),this._codeMirrorWrapper=this._createCodeBlockEditor(),this._previewWrapper=this._createPreview(),this._scrollSyncSplit=new To(this._body,this._codeMirrorWrapper,this._previewWrapper,{eventManager:r}),this._updateFitWindowButton(),this._updatePreviewButton(),this._updateScrollButton(),this._codeBlockLanguagesCombo=this._createCodeBlockLanguagesCombo()},n._initDOMEvent=function(){var t=this;e.prototype._initDOMEvent.call(this),this.on("scroll",(function(e){return e.preventDefault()})),this.on("click ."+Ho+"toggle-fit",(function(){return t._toggleFitToWindow()})),this.on("click ."+Ho+"toggle-preview",(function(){return t._togglePreview()})),this.on("click ."+Ho+"toggle-scroll",(function(){return t._toggleScroll()})),this.on("click ."+zo,(function(){return t._save()})),this.on("click ."+$o,(function(){return t.hide()})),this.on("click ."+Ho+"close",(function(){return t.hide()})),this.on("click ."+Ho+"editor-wrapper",(function(e){e.target===t._codeMirrorWrapper&&t._focusEditor(!0)}))},n._initEditorEvent=function(){var t=this;e.prototype._initEditorEvent.call(this),this.eventManager.listen("openPopupCodeBlockEditor",(function(e){return t.eventManager.emit("closeAllPopup"),t.show(e),t})),this.eventManager.listen("closeAllPopup",this.hide.bind(this)),this.eventManager.listen("closePopupCodeBlockEditor",this.hide.bind(this))},n._createCodeBlockEditor=function(){var e=document.createElement("div");return e.className=Ho+"editor-wrapper",this._codeBlockEditor=new Ro(e,this.eventManager),e},n._createPreview=function(){var e=document.createElement("div");return this._codeBlockPreview=new Mo(e,this.eventManager,this.convertor,this._codeBlockEditor),e},n._createCodeBlockLanguagesCombo=function(){var e=this,t=this.getTitleElement(),n=new Fo(this.eventManager,this.languages);return n.setOnLanguageSelected((function(t){e._codeBlockEditor.setLanguage(t),e._codeBlockEditor.refresh(),e._focusEditor()})),t.innerHTML="CodeBlock Editor",t.appendChild(n.getElement()),n},n._updateFitWindowButton=function(){dt["a"].toggleClass(this._toggleFitButton,"active",this.isFitToWindow())},n._updatePreviewButton=function(){dt["a"].toggleClass(this._togglePreviewButton,"active",this._scrollSyncSplit.isSplitView())},n._updateScrollButton=function(){this._scrollSyncSplit.isSplitView()?f()(this._toggleScrollButton,{display:"inline-block"}):f()(this._toggleScrollButton,{display:"none"}),dt["a"].toggleClass(this._toggleScrollButton,"active",this._scrollSyncSplit.isScrollSynced())},n._focusEditor=function(e){this._codeBlockEditor.focus(),e?this._codeBlockEditor.moveCursorToEnd():this._codeBlockEditor.moveCursorToStart()},n._togglePreview=function(){this._scrollSyncSplit.toggleSplitView(),this._updatePreviewButton(),this._updateScrollButton(),this._codeBlockEditor.refresh()},n._toggleFitToWindow=function(){this.toggleFitToWindow(),this._updateFitWindowButton(),this._codeBlockEditor.refresh()},n._toggleScroll=function(){this._scrollSyncSplit.toggleScrollSync(),this._updateScrollButton()},n._save=function(){this._codeBlockEditor.save(this._codeBlockElement),this.hide()},n._load=function(e){this._codeBlockElement=e,this._codeBlockEditor.load(e),this._codeBlockLanguagesCombo.setLanguage(this._codeBlockEditor.getLanguage()),this._focusEditor(),this._codeBlockPreview.refresh()},n.show=function(t){if(e.prototype.show.call(this),!t)throw new Error("should be called with codeBlockElement");this._load(t)},n.hide=function(){this.setFitToWindow(!1),this._codeBlockEditor&&this._codeBlockEditor.clear(),this._codeBlockPreview&&this._codeBlockPreview.clear(),this._codeBlockElement=null,e.prototype.hide.call(this)},t}(ei),Go=Ko;function Zo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Uo="te-toolbar-section",qo="te-markdown-tab-section",Xo="te-editor-section",Yo="te-mode-switch-section",Jo=['<div class="tui-editor-defaultUI">','<div class="'+Uo+'"><div class="'+qo+'"></div></div>','<div class="'+Xo+'"></div>','<div class="'+Yo+'"></div>',"</div>"].join(""),Qo=function(){function e(e){Zo(this,"name","default"),Zo(this,"el",void 0),Zo(this,"_toolbar",void 0),Zo(this,"_container",void 0),Zo(this,"_editorSection",void 0),Zo(this,"_initialEditType",void 0),Zo(this,"_editor",void 0),Zo(this,"_markdownTabSection",void 0),Zo(this,"_markdownTab",void 0),Zo(this,"_modeSwitch",void 0),Zo(this,"_popups",[]),this._editor=e,this._initialEditType=e.options.initialEditType,this._init(e.options),this._initEvent()}var t=e.prototype;return t._init=function(e){var t=e.el,n=e.toolbarItems,r=e.hideModeSwitch;this.el=dt["a"].createElementWith(Jo,t),this._container=t,this._editorSection=this.el.querySelector("."+Xo),this._editorSection.appendChild(this._editor.layout.getEditorEl()),this._initToolbar(this._editor.eventManager,n),this._initModeSwitch(this._editor.eventManager,r),this._initPopupAddLink(),this._initPopupAddImage(),this._initPopupAddTable(),this._initPopupAddHeading(),this._initPopupTableUtils(),this._initPopupCodeBlockLanguages(),this._initPopupCodeBlockEditor(),this._initMarkdownTab()},t._initEvent=function(){this._editor.eventManager.listen("hide",this.hide.bind(this)),this._editor.eventManager.listen("show",this.show.bind(this)),this._editor.eventManager.listen("changeMode",this._markdownTabControl.bind(this)),this._editor.eventManager.listen("changePreviewStyle",this._markdownTabControl.bind(this))},t._initToolbar=function(e,t){var n=new ui(e,t);this._toolbar=n,this.el.querySelector("."+Uo).appendChild(n.el)},t._initModeSwitch=function(e,t){var n=this,r=this.el.querySelector("."+Yo),i="markdown"===this._initialEditType?wi.TYPE.MARKDOWN:wi.TYPE.WYSIWYG,o=new wi(r,i,e);this._modeSwitch=o,t&&o.hide(),o.on("modeSwitched",(function(e){return n._editor.changeMode(e)}))},t._initMarkdownTab=function(){var e=this._editor;this._markdownTab=new pi({initName:cr.get("Write"),items:[cr.get("Write"),cr.get("Preview")],sections:[e.layout.getMdEditorContainerEl(),e.layout.getPreviewEl()]}),this._markdownTabSection=this.el.querySelector("."+qo),this._markdownTabSection.appendChild(this._markdownTab.el),this._markdownTab.on("itemClick",(function(t){t===cr.get("Preview")?(e.eventManager.emit("previewNeedsRefresh"),e.eventManager.emit("changePreviewTabPreview"),e.eventManager.emit("closeAllPopup")):(e.getCodeMirror().focus(),e.eventManager.emit("changePreviewTabWrite"))}))},t._markdownTabControl=function(){this._editor.isMarkdownMode()&&"tab"===this._editor.getCurrentPreviewStyle()?(f()(this._markdownTabSection,{display:"block"}),this._markdownTab.activate(cr.get("Write"))):f()(this._markdownTabSection,{display:"none"})},t._initPopupAddLink=function(){this._popups.push(new ki({target:this.el,editor:this._editor}))},t._initPopupAddImage=function(){this._popups.push(new Pi({target:this.el,eventManager:this._editor.eventManager}))},t._initPopupAddTable=function(){this._popups.push(new so({target:this._toolbar.el,eventManager:this._editor.eventManager,button:this.el.querySelector("button.tui-table"),css:{position:"absolute"}}))},t._initPopupAddHeading=function(){this._popups.push(new uo({target:this._toolbar.el,eventManager:this._editor.eventManager,button:this.el.querySelector("button.tui-heading"),css:{position:"absolute"}}))},t._initPopupTableUtils=function(){var e=this;this._editor.eventManager.listen("contextmenu",(function(t){dt["a"].parents(t.data.target,"[contenteditable=true] table").length>0&&(t.data.preventDefault(),e._editor.eventManager.emit("openPopupTableUtils",t.data))})),this._popups.push(new $i({target:this.el,eventManager:this._editor.eventManager}))},t._initPopupCodeBlockLanguages=function(){var e=this._editor;this._popups.push(new go({target:this.el,eventManager:e.eventManager,languages:e.codeBlockLanguages}))},t._initPopupCodeBlockEditor=function(){this._popups.push(new Go({target:this.el,eventManager:this._editor.eventManager,convertor:this._editor.convertor,languages:this._editor.codeBlockLanguages}))},t.getToolbar=function(){return this._toolbar},t.setToolbar=function(e){this._toolbar.destroy(),this._toolbar=e},t.getModeSwitch=function(){return this._modeSwitch},t.getEditorSectionHeight=function(){var e=this._editorSection.getBoundingClientRect();return e.bottom-e.top},t.getEditorHeight=function(){var e=this._container.getBoundingClientRect();return e.bottom-e.top},t.getPopupTableUtils=function(){var e;return this._popups.forEach((function(t){t instanceof $i&&(e=t)})),e},t.hide=function(){p()(this.el,"te-hide")},t.show=function(){g()(this.el,"te-hide")},t.remove=function(){dt["a"].remove(this.el),this._markdownTab.remove(),this._modeSwitch.remove(),this._toolbar.destroy(),this._popups.forEach((function(e){return e.remove()})),this._popups=[],Or.hide()},t.createPopup=function(e){return new ei(e)},e}(),ea=Qo,ta=n(30),na=n(32),ra=n.n(na);function ia(e){var t=dt["a"].isElemNode,n=dt["a"].isTextNode,r=n(e.previousSibling)&&t(e.firstChild),i=n(e.nextSibling)&&t(e.lastChild);return!r&&!i}function oa(e,t,n){var r,i=/^(\s*)((?:.|\n)*\S)(\s*)$/m,o=t.match(i),a=o[1],s=o[2],l=o[3];if(ia(e))r=""+n+s+n;else{var c=e.nodeName.toLowerCase();r="<"+c+">"+s+"</"+c+">"}return""+a+r+l}var aa=ra.a.Renderer.factory(ra.a.gfmRenderer,{"EM, I":function(e,t){return this.isEmptyText(t)?"":oa(e,t,"*")},"STRONG, B":function(e,t){return this.isEmptyText(t)?"":oa(e,t,"**")},"DEL, S":function(e,t){return this.isEmptyText(t)?"":oa(e,t,"~~")}}),sa=n(31),la=function(e,t){var n,r=e.start,i=e.end;if(r.ch>=t){var o={line:r.line,ch:r.ch-t},a={line:i.line,ch:i.ch+t};n={from:o,to:a}}return n},ca=function(e,t){var n=t.length;return e.substr(n,e.length-2*n)},ua=function(e,t){return""+t+e+t},da=function(e,t,n,r,i){var o=la(t,n),a=!1;if(o){var s=o.from,l=o.to,c=e.getRange(s,l);r(c)&&(e.setSelection(s,l),e.replaceSelection(i(c),"around"),a=!0)}return a},fa=function(e,t,n,r){var i=!1;return n(t)&&(e.replaceSelection(r(t),"around"),i=!0),i},ha=function(e,t,n,r,i){var o=e.getCursor(),a=o.line,s=o.ch,l=e.getSelection(),c=n.length,u=function(e){return r.test(e)};if(!da(e,t,c,u,(function(e){return ca(e,n)}))&&!fa(e,l,u,(function(e){return ca(e,n)}))){var d=l.replace(i,"$1");e.replaceSelection(ua(d,n),"around")}var f=e.getSelection(),h=s;l||(u(f)?h+=c:h-=c,e.setCursor(a,h))},pa=/^(\*{2}|_{2}).*\1$/,ma=/[*_]{2,}([^*_]*)[*_]{2,}/g,ga="**",va=Yn["a"].command("markdown",{name:"Bold",keyMap:["CTRL+B","META+B"],exec:function(e){var t=e.getEditor(),n=t.getDoc(),r=e.getRange();ha(n,r,ga,pa,ma),t.focus()}}),ba=va,ya=/^(\*{3}|_{3}).*\1$/,Ca=/^(\*{2}|_{2}).*\1$/,wa=/^(\*|_).*\1$/,xa=/([^*_])[*_]([^*_]+)[*_]([^*_])/g,Ia=function(e){return ya.test(e)},Aa=function(e){return Ca.test(e)},ka=function(e){return wa.test(e)},Sa="*",_a="**",Ta="***",Ea=Sa.length,Oa=_a.length,Ra=Ta.length,Na=function(e){return e?e.replace(xa,"$1$2$3"):""},La=function(e,t,n){var r=da.bind(this,e,n);return r(Ra,Ia,(function(e){return ca(e,Sa)}))||r(Oa,Aa,(function(e){return ua(Na(e),Sa)}))||r(Ea,ka,(function(e){return ca(e,Sa)}))||fa(e,t,Ia,(function(e){return ca(e,Sa)}))||fa(e,t,Aa,(function(e){return ua(Na(e),Sa)}))||fa(e,t,ka,(function(e){return ca(e,Sa)}))},Da=function(e,t){return da(e,t,Ra,Ia,(function(e){return ca(e,Sa)}))||da(e,t,Oa,Aa,(function(e){return ua(e,Sa)}))||da(e,t,Ea,ka,(function(){return""}))||e.replaceSelection(""+Sa+Sa,"around")},Ba=Yn["a"].command("markdown",{name:"Italic",keyMap:["CTRL+I","META+I"],exec:function(e){var t=e.getEditor(),n=t.getDoc(),r=n.getCursor(),i=r.line,o=r.ch,a=e.getRange(),s=n.getSelection();if(s)La(n,s,a)||n.replaceSelection(ua(Na(s),Sa),"around");else{Da(n,a);var l=n.getSelection(),c=o;Ia(l)||ka(l)&&!Aa(l)?c+=Ea:c-=Ea,n.setCursor(i,c)}t.focus()}}),Ma=Ba,Pa=/^~~.*~~$/,Fa=/~~([^~]*)~~/g,ja="~~",Ha=Yn["a"].command("markdown",{name:"Strike",keyMap:["CTRL+S","META+S"],exec:function(e){var t=e.getEditor(),n=t.getDoc(),r=e.getRange();ha(n,r,ja,Pa,Fa),t.focus()}}),za=Ha,$a=/^> ?/,Va=Yn["a"].command("markdown",{name:"Blockquote",keyMap:["ALT+Q","ALT+Q"],exec:function(e){var t,n=e.getEditor(),r=n.getDoc(),i=e.getCurrentRange(),o={line:i.from.line,ch:0},a={line:i.to.line,ch:r.getLineHandle(i.to.line).text.length},s=r.getRange(o,a),l=s.split("\n"),c=this._haveBlockquote(l);if(t=c?this._removeBlockquote(l):this._addBlockquote(l),r.replaceRange(t.join("\n"),o,a),c){var u=l.length;this._isBlockquoteWithSpace(l[u-1])?i.to.ch-=2:i.to.ch-=1}else i.to.ch+=2;r.setCursor(i.to),n.focus()},_haveBlockquote:function(e){for(var t=0;t<e.length;t+=1)if(!$a.test(e[t]))return!1;return!0},_addBlockquote:function(e){return e.map((function(e){return"> "+e}))},_removeBlockquote:function(e){return e.map((function(e){return e.replace($a,"")}))},_isBlockquoteWithSpace:function(e){return/^> /.test(e)}}),Wa=Va,Ka=/^#+\s/g,Ga=Yn["a"].command("markdown",{name:"Heading",exec:function(e,t){var n=e.getEditor(),r=n.getDoc(),i=e.getCurrentRange(),o={line:i.from.line,ch:0},a={line:i.to.line,ch:r.getLineHandle(i.to.line).text.length},s=r.getLine(a.line).length,l=r.getRange(o,a),c=l.split("\n");Xe()(c).forEach((function(e,n){c[n]=Za(e,t)})),r.replaceRange(c.join("\n"),o,a),i.to.ch+=r.getLine(a.line).length-s,r.setSelection(o,i.to),n.focus()}});function Za(e,t){var n=e.match(Ka),r="";do{r+="#",t-=1}while(t>0);if(n){var i=e.split(n[0]);e=i[1]}return r+" "+e}var Ua=Ga,qa=Yn["a"].command("markdown",{name:"Paragraph",exec:function(e){var t=e.getEditor(),n=t.getDoc(),r=e.getCurrentRange(),i={line:r.from.line,ch:0},o={line:r.to.line,ch:n.getLineHandle(r.to.line).text.length},a=n.getLine(o.line).length,s=n.getRange(i,o),l=s.split("\n");Xe()(l).forEach((function(e,t){l[t]=Xa(e)})),n.replaceRange(l.join("\n"),i,o),r.to.ch+=n.getLine(o.line).length-a,n.setSelection(i,o),t.focus()}});function Xa(e){var t=/^(#{1,6}| *((?:\*|-|\d\.)(?: \[[ xX]])?)) /;return e.replace(t,"")}var Ya=qa,Ja=Yn["a"].command("markdown",{name:"HR",keyMap:["CTRL+L","META+L"],exec:function(e){var t=e.getEditor(),n=t.getDoc(),r="",i=e.getCurrentRange(),o={line:i.from.line,ch:i.from.ch},a={line:i.to.line,ch:i.to.ch};i.collapsed&&(r=n.getLine(o.line),o.ch=0,a.ch=n.getLineHandle(i.to.line).text.length),n.getLine(o.line).length?r+="\n\n* * *\n\n":r+="\n* * *\n",n.replaceRange(r,o,a),t.focus()}}),Qa=Ja,es=rr.decodeURIGraceful,ts=rr.encodeMarkdownCharacters,ns=rr.escapeMarkdownCharacters,rs=Yn["a"].command("markdown",{name:"AddLink",exec:function(e,t){var n=e.getEditor(),r=n.getDoc(),i=e.getCurrentRange(),o={line:i.from.line,ch:i.from.ch},a={line:i.to.line,ch:i.to.ch},s=t.linkText,l=t.url;s=es(s),s=ns(s),l=ts(l);var c="["+s+"]("+l+")";r.replaceRange(c,o,a),n.focus()}}),is=rs,os=rr.decodeURIGraceful,as=rr.encodeMarkdownCharacters,ss=rr.escapeMarkdownCharacters,ls=Yn["a"].command("markdown",{name:"AddImage",exec:function(e,t){var n=e.getEditor(),r=n.getDoc(),i=e.getCurrentRange(),o={line:i.from.line,ch:i.from.ch},a={line:i.to.line,ch:i.to.ch},s=t.altText,l=t.imageUrl;s=os(s),s=ss(s),l=as(l);var c="!["+s+"]("+l+")";r.replaceRange(c,o,a,"+addImage"),n.focus()}}),cs=ls,us=Yn["a"].command("markdown",{name:"UL",keyMap:["CTRL+U","META+U"],exec:function(e){var t=e.getCurrentRange(),n=e.componentManager.getManager("list");n.changeSyntax(t,"ul")}}),ds=us,fs=Yn["a"].command("markdown",{name:"OL",keyMap:["CTRL+O","META+O"],exec:function(e){var t=e.getCurrentRange(),n=e.componentManager.getManager("list");n.changeSyntax(t,"ol")}}),hs=fs,ps=Yn["a"].command("markdown",{name:"Indent",exec:function(e){var t=e.getEditor();t.execCommand("indentOrderedList")}}),ms=ps,gs=Yn["a"].command("markdown",{name:"Outdent",exec:function(e){var t=e.getEditor();t.execCommand("indentLessOrderedList")}}),vs=gs,bs=Yn["a"].command("markdown",{name:"Table",exec:function(e,t,n,r){var i=e.getEditor(),o=i.getDoc(),a="\n";i.getCursor().ch>0&&(a+="\n"),a+=ys(t,r),a+=Cs(t,n-1,r),o.replaceSelection(a),r||i.setCursor(i.getCursor().line-n,2),e.focus()}});function ys(e,t){var n="|",r="|",i=0;while(e)t?(n+=" "+t[i]+" |",i+=1):n+="  |",r+=" --- |",e-=1;return n+"\n"+r+"\n"}function Cs(e,t,n){for(var r="",i=e,o=0;o<t;o+=1){r+="|";for(var a=0;a<e;a+=1)n?(r+=" "+n[i]+" |",i+=1):r+="  |";r+="\n"}return r=r.replace(/\n$/g,""),r}var ws=bs,xs=Yn["a"].command("markdown",{name:"Task",keyMap:["ALT+T","ALT+T"],exec:function(e){var t=e.getCurrentRange(),n=e.componentManager.getManager("list");n.changeSyntax(t,"task")}}),Is=xs,As=/^`([^`]+)`$/,ks=/`([^`]+)`/g,Ss=Yn["a"].command("markdown",{name:"Code",keyMap:["SHIFT+CTRL+C","SHIFT+META+C"],exec:function(e){var t,n=e.getEditor(),r=n.getDoc(),i=r.getSelection(),o=n.getCursor(),a=this.hasStrikeSyntax(i);a?(t=this.remove(i),t=this._removeCodeSyntax(t)):(t=this._removeCodeSyntax(i),t=this.append(t)),r.replaceSelection(t,"around"),i||a||this.setCursorToCenter(r,o,a),n.focus()},setCursorToCenter:function(e,t,n){var r=n?-1:1;e.setCursor(t.line,t.ch+r)},hasStrikeSyntax:function(e){return As.test(e)},append:function(e){return"`"+e+"`"},remove:function(e){return e.substr(1,e.length-2)},_removeCodeSyntax:function(e){return e?e.replace(ks,"$1"):""}}),_s=Ss,Ts=Yn["a"].command("markdown",{name:"CodeBlock",keyMap:["SHIFT+CTRL+P","SHIFT+META+P"],exec:function(e){var t=e.getEditor(),n=t.getDoc(),r=e.getCurrentRange(),i=["```",n.getSelection(),"```"],o=1;0!==r.from.ch&&(i.unshift(""),o+=1),r.to.ch!==n.getLine(r.to.line).length&&i.push(""),n.replaceSelection(i.join("\n")),t.setCursor(r.from.line+o,0),t.focus()}}),Es=Ts,Os=Yn["a"].command("wysiwyg",{name:"Bold",keyMap:["CTRL+B","META+B"],exec:function(e){var t=e.getEditor(),n=e.componentManager.getManager("tableSelection");if(e.focus(),t.hasFormat("table")&&n.getSelectedCells().length){n.styleToSelectedCells(Rs);var r=t.getSelection();r.collapse(!0),t.setSelection(r)}else Rs(t),dt["a"].optimizeRange(t.getSelection(),"B")}});function Rs(e){e.hasFormat("b")||e.hasFormat("strong")?e.changeFormat(null,{tag:"b"}):e.hasFormat("PRE")||(e.hasFormat("code")&&e.changeFormat(null,{tag:"code"}),e.bold())}var Ns=Os,Ls=Yn["a"].command("wysiwyg",{name:"Italic",keyMap:["CTRL+I","META+I"],exec:function(e){var t=e.getEditor(),n=e.componentManager.getManager("tableSelection");if(e.focus(),t.hasFormat("table")&&n.getSelectedCells().length){n.styleToSelectedCells(Ds);var r=t.getSelection();r.collapse(!0),t.setSelection(r)}else Ds(t),dt["a"].optimizeRange(t.getSelection(),"I")}});function Ds(e){e.hasFormat("i")||e.hasFormat("em")?e.changeFormat(null,{tag:"i"}):e.hasFormat("PRE")||(e.hasFormat("code")&&e.changeFormat(null,{tag:"code"}),e.italic())}var Bs=Ls,Ms=Yn["a"].command("wysiwyg",{name:"Strike",keyMap:["CTRL+S","META+S"],exec:function(e){var t=e.getEditor(),n=e.componentManager.getManager("tableSelection");if(e.focus(),t.hasFormat("table")&&n.getSelectedCells().length){n.styleToSelectedCells(Ps);var r=t.getSelection();r.collapse(!0),t.setSelection(r)}else Ps(t),dt["a"].optimizeRange(t.getSelection(),"S")}});function Ps(e){e.hasFormat("S")?e.changeFormat(null,{tag:"S"}):e.hasFormat("PRE")||(e.hasFormat("code")&&e.changeFormat(null,{tag:"code"}),e.strikethrough())}var Fs=Ms,js=Yn["a"].command("wysiwyg",{name:"Blockquote",keyMap:["ALT+Q","ALT+Q"],exec:function(e){var t=e.getEditor();e.focus(),t.hasFormat("TABLE")||t.hasFormat("PRE")||(t.hasFormat("BLOCKQUOTE")?t.decreaseQuoteLevel():t.increaseQuoteLevel())}}),Hs=js,zs=rr.decodeURIGraceful,$s=rr.encodeMarkdownCharacters,Vs=Yn["a"].command("wysiwyg",{name:"AddImage",exec:function(e,t){var n=e.getEditor(),r=t.altText,i=t.imageUrl;r=zs(r),i=$s(i),e.focus(),n.hasFormat("PRE")||n.insertImage(i,{alt:r})}}),Ws=Vs,Ks=rr.decodeURIGraceful,Gs=rr.encodeMarkdownCharacters,Zs=Yn["a"].command("wysiwyg",{name:"AddLink",exec:function(e,t){var n=e.getEditor(),r=e.getLinkAttribute(),i=t.url,o=t.linkText;if(o=Ks(o),i=Gs(i),e.focus(),!n.hasFormat("PRE"))if(n.removeAllFormatting(),n.getSelectedText())n.makeLink(i,r);else{var a=n.createElement("A",u()({href:i},r));a.textContent=o,n.insertElement(a)}}}),Us=Zs,qs=Yn["a"].command("wysiwyg",{name:"HR",keyMap:["CTRL+L","META+L"],exec:function(e){var t=e.getEditor(),n=t.getSelection();if(n.collapsed&&!t.hasFormat("TABLE")&&!t.hasFormat("PRE")){var r=document.createElement("hr"),i=dt["a"].getChildNodeByOffset(n.startContainer,n.startOffset),o=dt["a"].getTopNextNodeUnder(i,e.getBody());if(o&&!dt["a"].isTextNode(o))while(o&&"false"===o.getAttribute("contenteditable"))o=o.nextSibling;o||(o=dt["a"].createEmptyLine(),dt["a"].append(e.getBody(),o)),t.modifyBlocks((function(e){return e.appendChild(r),e}));var a=r.previousSibling;a&&dt["a"].isTextNode(a)&&0===dt["a"].getTextLength(a)&&r.parentNode.removeChild(a),r.parentNode.replaceChild(dt["a"].createHorizontalRule(),r),n.selectNodeContents(o),n.collapse(!0),t.setSelection(n),t.saveUndoState(n)}e.focus()}}),Xs=qs,Ys=Yn["a"].command("wysiwyg",{name:"Heading",exec:function(e,t){var n=e.getEditor(),r="h1, h2, h3, h4, h5, h6, div";e.focus(),n.hasFormat("TABLE")||n.hasFormat("PRE")||n.modifyBlocks((function(e){var n=dt["a"].children(e,r);return Xe()(n).forEach((function(e){var n="h"+t;if("DIV"===dt["a"].getNodeName(e))dt["a"].wrap(e,n);else{var r=document.createElement(n);dt["a"].insertBefore(r,e),r.innerHTML=e.innerHTML,dt["a"].remove(e)}})),e}))}}),Js=Ys,Qs=Yn["a"].command("wysiwyg",{name:"Paragraph",exec:function(e){var t=e.getEditor();e.focus(),t.hasFormat("TABLE")||t.hasFormat("PRE")||t.modifyBlocks((function(e){var t=document.createDocumentFragment();return Xe()(e.childNodes).forEach((function(e){e.nodeName.match(/h\d/i)?el(t,e.children):e.nodeName.match(/ul|ol/i)?dt["a"].findAll(e,"li").forEach((function(e){el(t,e.children)})):t.appendChild(e)})),t}))}});function el(e,t){Xe()(t).forEach((function(t){e.appendChild(t.cloneNode(!0))}))}var tl=Qs,nl=Yn["a"].command("wysiwyg",{name:"UL",keyMap:["CTRL+U","META+U"],exec:function(e){var t=e.getEditor(),n=t.getSelection(),r=e.componentManager.getManager("list"),i=n.startContainer,o=n.endContainer,a=n.startOffset,s=n.endOffset,l=[];if(e.focus(),t.saveUndoState(n),r.isAvailableMakeListInTable())l=r.createListInTable(n,"UL");else for(var c=r.getLinesOfSelection(i,o),u=0;u<c.length;u+=1){var d=this._changeFormatToUnorderedListIfNeed(e,c[u]);d&&l.push(d)}l.length&&r.adjustRange(i,o,a,s,l)},_changeFormatToUnorderedListIfNeed:function(e,t){var n,r=e.getEditor(),i=r.getSelection(),o=e.componentManager.getManager("task");return r.hasFormat("PRE")||(i.setStart(t,0),i.collapse(!0),r.setSelection(i),r.hasFormat("LI")?(e.saveSelection(i),o.unformatTask(i.startContainer),r.replaceParent(i.startContainer,"ol","ul"),e.restoreSavedSelection()):(e.unwrapBlockTag(),r.makeUnorderedList()),n=r.getSelection().startContainer),n}}),rl=nl,il=Yn["a"].command("wysiwyg",{name:"OL",keyMap:["CTRL+O","META+O"],exec:function(e){var t=e.getEditor(),n=t.getSelection(),r=e.componentManager.getManager("list"),i=n.startContainer,o=n.startOffset,a=n.endContainer,s=n.endOffset,l=[];if(e.focus(),t.saveUndoState(n),r.isAvailableMakeListInTable())l=r.createListInTable(n,"OL");else for(var c=r.getLinesOfSelection(i,a),u=0;u<c.length;u+=1){var d=this._changeFormatToOrderedListIfNeed(e,c[u]);d&&l.push(d)}l.length&&r.adjustRange(i,a,o,s,l)},_changeFormatToOrderedListIfNeed:function(e,t){var n,r=e.getEditor(),i=r.getSelection(),o=e.componentManager.getManager("task");return r.hasFormat("PRE")||(i.setStart(t,0),i.collapse(!0),r.setSelection(i),r.hasFormat("LI")?(e.saveSelection(i),o.unformatTask(i.startContainer),r.replaceParent(i.startContainer,"ul","ol"),e.restoreSavedSelection()):(e.unwrapBlockTag(),r.makeOrderedList()),n=r.getSelection().startContainer),n}}),ol=il,al=Yn["a"].command("wysiwyg",{name:"Table",exec:function(e,t,n,r){var i,o=e.getEditor(),a=e.componentManager.getManager("table").getTableIDClassName();!o.getSelection().collapsed||o.hasFormat("TABLE")||o.hasFormat("PRE")?e.focus():(i='<table class="'+a+'">',i+=ll(t,r),i+=cl(t,n-1,r),i+="</table>",o.insertHTML(i),e.focus(),r||sl(o,e.getBody().querySelector("."+a)))}});function sl(e,t){var n=e.getSelection();n.selectNodeContents(t.querySelector("th")),n.collapse(!0),e.setSelection(n)}function ll(e,t){var n="<thead><tr>",r=0;while(e)n+="<th>",t&&(n+=t[r],r+=1),n+="</th>",e-=1;return n+="</tr></thead>",n}function cl(e,t,n){for(var r="<tbody>",i=e,o=0;o<t;o+=1){r+="<tr>";for(var a=0;a<e;a+=1)r+="<td>",n&&(r+=n[i],i+=1),r+="</td>";r+="</tr>"}return r+="</tbody>",r}var ul=al,dl=Yn["a"].command("wysiwyg",{name:"AddRow",exec:function(e){var t,n,r=e.getEditor(),i=r.getSelection().cloneRange(),o=fl(e);if(e.focus(),r.hasFormat("TD")){r.saveUndoState(i),t=dt["a"].closest(i.startContainer,"tr");for(var a=0;a<o;a+=1)n=hl(t),dt["a"].insertAfter(n,t);pl(r,n)}else if(r.hasFormat("TH")){r.saveUndoState(i),t=dt["a"].closest(i.startContainer,"tr");var s=dt["a"].parents(t,"thead"),l=s[0],c=l.nextSibling;if(ht()(c,"tbody")){var u=dt["a"].children(c,"tr");t=u[0]}for(var d=0;d<o;d+=1)n=hl(t),dt["a"].insertBefore(n,t);pl(r,n)}}});function fl(e){var t=e.componentManager.getManager("tableSelection"),n=t.getSelectedCells(),r=1;if(n.length>1){var i=n[0],o=n[n.length-1],a=t.getSelectionRangeFromTable(i,o);r=a.to.row-a.from.row+1}return r}function hl(e){var t=e.cloneNode(!0),n=it.a.msie?"":"<br />";return dt["a"].findAll(t,"td").forEach((function(e){e.innerHTML=n})),t}function pl(e,t){var n=e.getSelection();n.selectNodeContents(t.querySelector("td")),n.collapse(!0),e.setSelection(n)}var ml=dl,gl=Yn["a"].command("wysiwyg",{name:"AddCol",exec:function(e){var t,n=e.getEditor(),r=n.getSelection().cloneRange(),i=vl(e);e.focus(),n.hasFormat("TR")&&(n.saveUndoState(r),t=bl(r),yl(t,i),Cl(n,t))}});function vl(e){var t=e.componentManager.getManager("tableSelection"),n=t.getSelectedCells(),r=1;if(n.length>0){var i=n[0].parentNode.querySelectorAll("td, th").length;r=Math.min(i,n.length)}return r}function bl(e){var t=e.startContainer;return"TD"!==dt["a"].getNodeName(t)&&"TH"!==dt["a"].getNodeName(t)&&(t=dt["a"].parentsUntil(t,"tr")),t}function yl(e,t){void 0===t&&(t=1);var n=dt["a"].parents(e,"table"),r=n[0];if(r){var i,o=Qn()(e,Xe()(e.parentNode.childNodes));dt["a"].findAll(r,"tr").forEach((function(e){for(var n="TBODY"===dt["a"].getNodeName(e.parentNode),r=it.a.msie,a=e.children[o],s=0;s<t;s+=1)i=n?document.createElement("td"):document.createElement("th"),r||i.appendChild(document.createElement("br")),dt["a"].insertAfter(i,a)}))}}function Cl(e,t){var n=e.getSelection();n.selectNodeContents(t.nextSibling),n.collapse(!0),e.setSelection(n)}var wl=gl,xl=Yn["a"].command("wysiwyg",{name:"RemoveRow",exec:function(e){var t=e.getEditor(),n=t.getSelection().cloneRange(),r=dt["a"].parents(n.startContainer,"table"),i=r[0],o=e.componentManager.getManager("tableSelection"),a=e.componentManager.getManager("table"),s=kl(n,o,i),l=i.querySelectorAll("tbody tr").length;if(e.focus(),(t.hasFormat("TD")||t.hasFormat("TABLE"))&&l>1){t.saveUndoState(n);var c=s[0],u=s[s.length-1],d=u&&u.nextSibling?u.nextSibling:c&&c.previousSibling;d&&Il(t,n,d,a),s.forEach((function(e){return dt["a"].remove(e)}))}o.removeClassAttrbuteFromAllCellsIfNeed()}});function Il(e,t,n,r){var i=n.querySelector("td");t.setStart(i,0),t.collapse(!0),r.setLastCellNode(i),e.setSelection(t)}function Al(e,t,n){var r=n.querySelectorAll("tbody tr").length,i=dt["a"].parents(e,"thead").length,o=t.from.row,a=t.to.row;i&&(o+=1);var s=(1===o||i)&&a===r;return s&&(a-=1),dt["a"].findAll(n,"tr").slice(o,a+1)}function kl(e,t,n){var r,i,o=t.getSelectedCells();if(o.length)r=t.getSelectionRangeFromTable(o[0],o[o.length-1]),i=Al(o[0],r,n);else{var a=dt["a"].closest(e.startContainer,"td,th");r=t.getSelectionRangeFromTable(a,a),i=Al(a,r,n)}return i}var Sl=xl,_l=Yn["a"].command("wysiwyg",{name:"RemoveCol",exec:function(e){var t=e.getEditor(),n=t.getSelection().cloneRange(),r=dt["a"].parents(n.startContainer,"table"),i=r[0],o=e.componentManager.getManager("table"),a=e.componentManager.getManager("tableSelection"),s=dt["a"].closest(n.startContainer,"table").querySelectorAll("thead tr th").length>1;if(e.focus(),n.collapse(!0),t.setSelection(n),t.hasFormat("TR",null,n)&&s){var l=i.querySelectorAll("tbody tr"),c=l.length?l[0].querySelectorAll("td").length:0,u=a.getSelectedCells();if(u.length<c){var d;if(t.saveUndoState(n),u.length>1){var f=u[u.length-1],h=u[0];d=f.nextSibling?f.nextSibling:h.previousSibling,El(u)}else{var p=Tl(n);d=p.nextSibling?p.nextSibling:p.previousSibling,Ol(p)}Rl(t,d,o)}}}});function Tl(e){var t=e.startContainer;return"TD"!==dt["a"].getNodeName(t)&&"TH"===!dt["a"].getNodeName(t)&&(t=dt["a"].parentsUntil(t,"tr")),t}function El(e){for(var t=e.length,n=0;n<t;n+=1){var r=e[n];r&&Ol(e[n])}}function Ol(e){var t=dt["a"].parents(e,"table"),n=t[0];if(n){var r=Qn()(e,Xe()(e.parentNode.childNodes));dt["a"].findAll(n,"tr").forEach((function(e){var t=e.children[r];dt["a"].remove(t)}))}}function Rl(e,t,n){var r=t;if(t&&dt["a"].isContain(document.body,t)){var i=e.getSelection();i.selectNodeContents(t),i.collapse(!0),e.setSelection(i),n.setLastCellNode(r)}}var Nl=_l,Ll=Yn["a"].command("wysiwyg",{name:"AlignCol",exec:function(e,t){var n=e.getEditor(),r=n.getSelection().cloneRange(),i=e.componentManager.getManager("tableSelection"),o=Ml(r,i);if(e.focus(),n.hasFormat("TR")){n.saveUndoState(r);var a=dt["a"].parents(r.startContainer,"table"),s=a[0],l=Bl(s,o);Dl(s,t,l)}i.removeClassAttrbuteFromAllCellsIfNeed()}});function Dl(e,t,n){var r=n.isDivided||!1,i=n.startColumnIndex,o=n.endColumnIndex,a=dt["a"].findAll(e,"tr"),s=a.length?a[0].querySelectorAll("td,th").length:0;a.forEach((function(e){var n=Xe()(dt["a"].children(e,"td,th"));n.forEach((function(e,n){(r&&(i<=n&&n<=s||n<=o)||i<=n&&n<=o)&&e.setAttribute("align",t)}))}))}function Bl(e,t){var n,r,i,o=e.querySelectorAll("tr"),a=o.length?o[0].querySelectorAll("td,th").length:0,s=t.from,l=t.to;return s.row===l.row?(n=s.cell,r=l.cell):s.row<l.row&&(s.cell<=l.cell?(n=0,r=a-1):(n=s.cell,r=l.cell,i=!0)),{startColumnIndex:n,endColumnIndex:r,isDivided:i}}function Ml(e,t){var n,r,i=t.getSelectedCells();if(i.length)n=t.getSelectionRangeFromTable(i[0],i[i.length-1]);else{var o=e.startContainer;r=dt["a"].isTextNode(o)?dt["a"].parent(o,"td,th"):o,n=t.getSelectionRangeFromTable(r,r)}return n}var Pl=Ll,Fl=Yn["a"].command("wysiwyg",{name:"RemoveTable",exec:function(e){var t=e.getEditor(),n=t.getSelection().cloneRange();t.hasFormat("TABLE")&&(t.saveUndoState(n),dt["a"].remove(dt["a"].closest(n.startContainer,"table"))),e.focus()}}),jl=Fl,Hl=Yn["a"].command("wysiwyg",{name:"Indent",exec:function(e){var t,n,r,i=e.componentManager.getManager("list"),o=e.getEditor().getSelection(),a=dt["a"].closest(o.startContainer,"li"),s=a&&a.previousSibling;if(s){var l=a.querySelector("li");if(e.getEditor().saveUndoState(),n=a.className,t=s.className,a.className="",s.className="",l){r=l.className;var c=Xe()(l.children).filter((function(e){return ht()(e,"div")}));c.length||(l.className="")}e.getEditor().increaseListLevel(),i.mergeList(a),a.className=n,s.className=t,l&&(l.className=r)}}}),zl=Hl,$l=Yn["a"].command("wysiwyg",{name:"Outdent",exec:function(e){var t=Wl(e);if(t&&Vl(t)){e.getEditor().saveUndoState();var n=t.className;e.getEditor().decreaseListLevel(),t=Wl(e),t&&n&&(t.className=n)}}});function Vl(e){var t=dt["a"].getNodeName(e.nextSibling);return"OL"!==t&&"UL"!==t}function Wl(e){var t=e.getEditor().getSelection();return dt["a"].closest(t.startContainer,"li")}var Kl=$l,Gl=Yn["a"].command("wysiwyg",{name:"Task",keyMap:["ALT+T","ALT+T"],exec:function(e){var t=e.getEditor(),n=t.getSelection(),r=e.componentManager.getManager("list"),i=n.startContainer,o=n.endContainer,a=n.startOffset,s=n.endOffset,l=[];if(e.focus(),t.saveUndoState(n),r.isAvailableMakeListInTable())l=r.createListInTable(n,"TASK");else for(var c=r.getLinesOfSelection(i,o),u=0;u<c.length;u+=1){var d=this._changeFormatToTaskIfNeed(e,c[u]);d&&l.push(d)}l.length&&r.adjustRange(i,o,a,s,l)},_changeFormatToTaskIfNeed:function(e,t){var n,r=e.getEditor(),i=r.getSelection(),o=e.componentManager.getManager("task");return r.hasFormat("PRE")||(i.setStart(t,0),i.collapse(!0),r.setSelection(i),r.hasFormat("li")||(r.makeUnorderedList(),t=r.getSelection().startContainer),Nt()(t,"task-list-item")?o.unformatTask(t):o.formatTask(t),n=r.getSelection().startContainer),n}}),Zl=Gl,Ul=Yn["a"].command("wysiwyg",{name:"Code",keyMap:["SHIFT+CTRL+C","SHIFT+META+C"],exec:function(e){var t=e.getEditor(),n=e.componentManager.getManager("tableSelection"),r=Xl.bind(null,e.getEditor());if(e.focus(),t.hasFormat("table")&&n.getSelectedCells().length){n.styleToSelectedCells(r);var i=t.getSelection();i.collapse(!0),t.setSelection(i)}else r(t)}});function ql(e){"CODE"===dt["a"].getNodeName(e.startContainer.nextSibling)&&0===dt["a"].getTextLength(e.startContainer.nextSibling)&&dt["a"].remove(e.startContainer.nextSibling)}function Xl(e,t){if(!t.hasFormat("PRE")&&t.hasFormat("code"))t.changeFormat(null,{tag:"code"}),ql(e.getSelection().cloneRange());else if(!t.hasFormat("a")&&!t.hasFormat("PRE")){t.hasFormat("b")?t.removeBold():t.hasFormat("i")&&t.removeItalic(),t.changeFormat({tag:"code"});var n=t.getSelection().cloneRange();n.setStart(n.endContainer,n.endOffset),n.collapse(!0),t.setSelection(n)}}var Yl=Ul,Jl="te-content-codeblock-temp",Ql="data-te-codeblock",ec=Yn["a"].command("wysiwyg",{name:"CodeBlock",keyMap:["SHIFT+CTRL+P","SHIFT+META+P"],exec:function(e,t){var n=e.getEditor(),r=n.getSelection().cloneRange();if(!n.hasFormat("PRE")&&!n.hasFormat("TABLE")){var i=Ql+' class = "'+Jl+'"';t&&(i+=' data-language="'+t+'"');var o=nc(r,e);n.insertHTML("<pre "+i+">"+o+"</pre>"),tc(e.getBody().querySelector("."+Jl),e)}e.focus()}});function tc(e,t){var n=t.getEditor().getSelection().cloneRange();g()(e,Jl),n.setStartBefore(e.firstChild),n.collapse(!0),t.getEditor().setSelection(n)}function nc(e,t){var n,r=t.componentManager.getManager("codeblock");if(e.collapsed)n="<br>";else{var i=e.extractContents(),o=Xe()(i.childNodes),a=document.createElement("div");a.appendChild(r.prepareToPasteOnCodeblock(o)),n=a.innerHTML}return n}var rc=ec,ic=200,oc=15,ac=null,sc=null;function lc(e,t){var n=t.syncScrollTop,r=t.releaseEventBlock;clearTimeout(sc),n(e),sc=setTimeout((function(){r()}),oc)}function cc(e,t,n){var r=t-e,i=Date.now(),o=function o(){var a,s=Date.now(),l=(s-i)/ic;ac&&clearTimeout(ac),l<1?(a=e+r*Math.cos((1-l)*Math.PI/2),lc(Math.ceil(a),n),ac=setTimeout(o,1)):(lc(t,n),ac=null)};o()}var uc=n(18),dc=n(24),fc=.5,hc=!1,pc=null;function mc(e,t){var n=Object(dc["a"])(t),r=n||e.offsetHeight;return n||Object(dc["d"])(t,r),r}function gc(e,t,n,r,i){var o=Object(fe["f"])(n),a=e.lineInfo(t).handle.height,s=mc(i,0),l=r.getBoundingClientRect().top-i.getBoundingClientRect().top,c=-s*fc;if(Object(fe["j"])(n)){var u=(t-o+1)*a;c=u,l+=u}return{top:l,additionalScrollTop:c}}function vc(e,t,n){var r=t._previewContent,i=t.el,o=e.cm,a=e.toastMark,s=o.getScrollInfo(),l=s.left,c=s.top,u=s.height,d=s.clientHeight,f=u-c<=d,h=i.scrollTop,p=f?i.scrollHeight:0;if(c&&!f){var m=n?o.coordsChar({left:l,top:c},"local"):o.getCursor("from"),g=m.line,v=a.findFirstNodeAtLine(g+1);if(!v||Object(fe["g"])(v))return;var b=Object(uc["f"])(v),y=b.node,C=b.mdNode,w=Object(fe["f"])(C),x=mc(i,0);if(p=Object(uc["g"])(y,r)||y.offsetTop,n){if(Object(uc["h"])(C)){var I=mc(y,C.id),A=o.heightAtLine(w-1,"local"),k=Object(uc["c"])(C,o);p+=Object(uc["b"])(c,A,k,I);var S={latestScrollTop:pc,scrollTop:c,targetScrollTop:p,sourceScrollTop:h};if(p=Object(uc["d"])(S),pc=c,p===h)return}}else{var _=gc(o,g,C,y,i),T=_.top,E=_.additionalScrollTop;if(T>0&&T<x)return;p+=E,pc=null}}hc=!0;var O={syncScrollTop:function(e){return i.scrollTop=e},releaseEventBlock:function(){return hc=!1}};cc(h,p,O)}function bc(){return hc}var yc=!1,Cc=null;function wc(e,t,n){var r=Object(dc["a"])(t),i=Object(dc["b"])(t),o=r||e.offsetHeight,a=i||Object(uc["g"])(e,n)||e.offsetTop;return r||Object(dc["d"])(t,o),i||Object(dc["e"])(t,a),{offsetHeight:o,offsetTop:a}}function xc(e,t){while(!e.getAttribute("data-nodeid")&&e.parentElement!==t)e=e.parentElement;return e}function Ic(e,t,n){var r=e.toastMark,i=e.cm,o=t.el,a=o.scrollTop,s=o.clientHeight,l=o.scrollHeight,c=t._previewContent,u=l-a<=s,d=i.getScrollInfo(),f=d.left,h=d.top,p=d.height,m=u?p:0;if(a&&n&&!u){if(n=xc(n,c),!n.getAttribute("data-nodeid"))return;var g=i.coordsChar({left:f,top:h},"local"),v=g.line,b=Number(n.getAttribute("data-nodeid")),y=Object(uc["f"])(r.findNodeById(b)),C=y.mdNode,w=y.node,x=Object(fe["f"])(C);if(m=i.heightAtLine(x-1,"local"),Object(fe["i"])(C)&&(m+=Object(uc["e"])(i,x,v)),Object(uc["h"])(C)){var I=Object(uc["c"])(C,i),A=wc(w,b,c),k=A.offsetHeight,S=A.offsetTop;m+=Object(uc["b"])(a,S,k,I);var _={latestScrollTop:Cc,scrollTop:a,targetScrollTop:m,sourceScrollTop:h};if(m=Object(uc["d"])(_),Cc=a,m===h)return}}yc=!0;var T={syncScrollTop:function(e){return i.scrollTo(0,e)},releaseEventBlock:function(){return yc=!1}};cc(h,m,T)}function Ac(){return yc}var kc="tui-scrollsync",Sc="tui-scrollsync active",_c=!0;function Tc(){return _c}function Ec(e){if(!e.isViewer()&&"default"===e.getUI().name){var t=e.i18n,n={ACTIVE:t.get("Auto scroll enabled"),INACTIVE:t.get("Auto scroll disabled")},r=e.getUI().getToolbar(),i=document.createElement("button");i.className=Sc,r.addItem("divider"),r.addItem({type:"button",options:{command:"scrollSyncToggle",tooltip:n.ACTIVE,el:i}});var o=r.getItems(),a=o[o.length-2].el,s=o[o.length-1];Nc(e,s,a),Oc(e,s,a),Rc(e,s,n)}}function Oc(e,t,n){e.on("changeMode",(function(){return Nc(e,t,n)})),e.on("changePreviewStyle",(function(){return Nc(e,t,n)}))}function Rc(e,t,n){e.addCommand("markdown",{name:"scrollSyncToggle",exec:function(){_c=!_c,t._onOut(),_c?(t.el.className=Sc,t.setTooltip(n.ACTIVE)):(t.el.className=kc,t.setTooltip(n.INACTIVE)),t._onOver()}})}function Nc(e,t,n){"vertical"===e.mdPreviewStyle&&"markdown"===e.currentMode?(f()(t.el,{display:"inline-block"}),f()(n,{display:"inline-block"})):(f()(t.el,{display:"none"}),f()(n,{display:"none"}))}var Lc=!0;function Dc(e){var t=e.mdEditor,n=e.preview;Ec(e),Mc(t,n),Bc(t,n),t.cm.on("change",(function(){return Lc=!1}))}function Bc(e,t){e.eventManager.listen("previewRenderAfter",(function(){setTimeout((function(){Tc()&&vc(e,t),Lc=!0}),200)}))}function Mc(e,t){var n=e.eventManager;n.listen("scroll",(function(n){var r=n.source,i=n.data;Tc()&&Lc&&t.isVisible()&&("markdown"!==r||Ac()?"preview"!==r||bc()||Ic(e,t,i):vc(e,t,!0))}))}function Pc(){return Pc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pc.apply(this,arguments)}var Fc=[],jc=function(){function e(e){var t=this;this.initialHtml=e.el.innerHTML,e.el.innerHTML="",this.options=u()({previewStyle:"tab",previewHighlight:!0,initialEditType:"markdown",height:"300px",minHeight:"200px",language:"en-US",useDefaultHTMLSanitizer:!0,useCommandShortcut:!0,usageStatistics:!0,toolbarItems:["heading","bold","italic","strike","divider","hr","quote","divider","ul","ol","task","indent","outdent","divider","table","image","link","divider","code","codeblock"],hideModeSwitch:!1,linkAttribute:null,extendedAutolinks:!1,customConvertor:null,customHTMLRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null},e),this.codeBlockLanguages=[],this.eventManager=new Xn["a"],this.importManager=new rr(this.eventManager),this.commandManager=new Yn["a"](this,{useCommandShortcut:this.options.useCommandShortcut});var n=Object(C["c"])(this.options.linkAttribute),r=Object(sa["a"])(this.options.plugins),o=r.renderer,a=r.parser,s=r.plugins,l=this.options,c=l.customHTMLRenderer,d=l.customHTMLSanitizer,f=l.extendedAutolinks,h=l.referenceDefinition,p=l.useDefaultHTMLSanitizer,m={linkAttribute:n,customHTMLRenderer:Pc({},o,{},c),extendedAutolinks:f,referenceDefinition:h,customParser:a};this.options.customConvertor?this.convertor=new this.options.customConvertor(this.eventManager,m):this.convertor=new ir["a"](this.eventManager,m);var g=d||(p?pt["a"]:null);g&&this.convertor.initHtmlSanitizer(g),this.options.hooks&&i()(this.options.hooks,(function(e,n){return t.addHook(n,e)})),this.options.events&&i()(this.options.events,(function(e,n){return t.on(n,e)})),this.layout=new qn(e,this.eventManager),this.i18n=cr,this.i18n.setCode(this.options.language),this.setUI(this.options.UI||new ea(this)),this.toastMark=new v["ToastMark"]("",{disallowedHtmlBlockTags:["br"],extendedAutolinks:f,referenceDefinition:h,disallowDeepHeading:!0,customParser:a}),this.mdEditor=Ze.factory(this.layout.getMdEditorContainerEl(),this.eventManager,this.toastMark,this.options),this.preview=new Ue["a"](this.layout.getPreviewEl(),this.eventManager,this.convertor,Pc({},m,{isViewer:!1,highlight:this.options.previewHighlight})),this.wwEditor=Gn.factory(this.layout.getWwEditorContainerEl(),this.eventManager,{sanitizer:g,linkAttribute:n}),this.toMarkOptions={gfm:!0,renderer:aa},s&&Object(sa["b"])(s,this),this.changePreviewStyle(this.options.previewStyle),this.changeMode(this.options.initialEditType,!0),this.minHeight(this.options.minHeight),this.height(this.options.height),this.setMarkdown(this.options.initialValue,!1),this.options.placeholder&&this.setPlaceholder(this.options.placeholder),this.options.initialValue||this.setHtml(this.initialHtml,!1),this.eventManager.emit("load",this),Fc.push(this),this._addDefaultCommands(),this.options.usageStatistics&&Object(C["d"])(),Dc(this)}var t=e.prototype;return t.changePreviewStyle=function(e){this.layout.changePreviewStyle(e),this.mdPreviewStyle=e,this.eventManager.emit("changePreviewStyle",e),this.eventManager.emit("previewNeedsRefresh",this.getMarkdown())},t.exec=function(){var e;(e=this.commandManager).exec.apply(e,arguments)},t._addDefaultCommands=function(){this.addCommand(ba),this.addCommand(Ma),this.addCommand(Wa),this.addCommand(Ua),this.addCommand(Ya),this.addCommand(Qa),this.addCommand(is),this.addCommand(cs),this.addCommand(ds),this.addCommand(hs),this.addCommand(ms),this.addCommand(vs),this.addCommand(ws),this.addCommand(Is),this.addCommand(_s),this.addCommand(Es),this.addCommand(za),this.addCommand(Ns),this.addCommand(Bs),this.addCommand(Hs),this.addCommand(rl),this.addCommand(ol),this.addCommand(Ws),this.addCommand(Us),this.addCommand(Xs),this.addCommand(Js),this.addCommand(tl),this.addCommand(zl),this.addCommand(Kl),this.addCommand(Zl),this.addCommand(ul),this.addCommand(ml),this.addCommand(wl),this.addCommand(Sl),this.addCommand(Nl),this.addCommand(Pl),this.addCommand(jl),this.addCommand(Yl),this.addCommand(rc),this.addCommand(Fs)},t.addCommand=function(e,t){t?this.commandManager.addCommand(Yn["a"].command(e,t)):this.commandManager.addCommand(e)},t.afterAddedCommand=function(){this.eventManager.emit("afterAddedCommand",this)},t.on=function(e,t){this.eventManager.listen(e,t)},t.off=function(e){this.eventManager.removeEventHandler(e)},t.addHook=function(e,t){this.eventManager.removeEventHandler(e),this.eventManager.listen(e,t)},t.removeHook=function(e){this.eventManager.removeEventHandler(e)},t.getCodeMirror=function(){return this.mdEditor.getEditor()},t.getSquire=function(){return this.wwEditor.getEditor()},t.focus=function(){this.getCurrentModeEditor().focus()},t.blur=function(){this.getCurrentModeEditor().blur()},t.moveCursorToEnd=function(){this.getCurrentModeEditor().moveCursorToEnd()},t.moveCursorToStart=function(){this.getCurrentModeEditor().moveCursorToStart()},t.setMarkdown=function(e,t){void 0===t&&(t=!0),e=e||"",this.isMarkdownMode()?this.mdEditor.setValue(e,t):this.wwEditor.setValue(this.convertor.toHTML(e),t),this.eventManager.emit("setMarkdownAfter",e)},t.setHtml=function(e,t){if(void 0===t&&(t=!0),e=e||"",this.wwEditor.setValue(e,t),this.isMarkdownMode()){var n=this.convertor.toMarkdown(this.wwEditor.getValue(),this.toMarkOptions);this.mdEditor.setValue(n,t),this.eventManager.emit("setMarkdownAfter",n)}},t.getMarkdown=function(){var e;return e=this.isMarkdownMode()?this.mdEditor.getValue():this.convertor.toMarkdown(this.wwEditor.getValue(),this.toMarkOptions),e},t.getHtml=function(){return this.isWysiwygMode()&&this.mdEditor.setValue(this.convertor.toMarkdown(this.wwEditor.getValue(),this.toMarkOptions)),this.convertor.toHTML(this.mdEditor.getValue())},t.insertText=function(e){this.isMarkdownMode()?this.mdEditor.replaceSelection(e):this.wwEditor.insertText(e)},t.addWidget=function(e,t,n,r){this.getCurrentModeEditor().addWidget(e,t,n,r)},t.height=function(e){if(a()(e)){var t=this.options.el;"auto"===e?(p()(t,"auto-height"),this.minHeight(this.minHeight())):(g()(t,"auto-height"),this.minHeight(e)),l()(e)&&(e+="px"),f()(this.options.el,{height:e}),this._height=e}return this._height},t.minHeight=function(e){if(a()(e)){var t=this._ui.getEditorHeight(),n=this._ui.getEditorSectionHeight(),r=t-n;this._minHeight=e,e=parseInt(e,10),e=Math.max(e-r,0),this.wwEditor.setMinHeight(e),this.mdEditor.setMinHeight(e),this.preview.setMinHeight(e)}return this._minHeight},t.getCurrentModeEditor=function(){var e;return e=this.isMarkdownMode()?this.mdEditor:this.wwEditor,e},t.isMarkdownMode=function(){return"markdown"===this.currentMode},t.isWysiwygMode=function(){return"wysiwyg"===this.currentMode},t.isViewer=function(){return!1},t.getCurrentPreviewStyle=function(){return this.mdPreviewStyle},t.changeMode=function(e,t){this.currentMode!==e&&(this.eventManager.emit("changeModeBefore",this.currentMode),this.currentMode=e,this.isWysiwygMode()?(this.layout.switchToWYSIWYG(),this.wwEditor.setValue(this.convertor.toHTML(this.mdEditor.getValue()),!t),this.eventManager.emit("changeModeToWysiwyg")):(this.layout.switchToMarkdown(),this.mdEditor.resetState(),this.mdEditor.setValue(this.convertor.toMarkdown(this.wwEditor.getValue(),this.toMarkOptions),!t),this.getCodeMirror().refresh(),this.eventManager.emit("changeModeToMarkdown")),this.eventManager.emit("changeMode",e),t||this.focus())},t.remove=function(){var e=this,t=Fc.length-1;for(this.wwEditor.remove(),this.mdEditor.remove(),this.layout.remove(),this.preview.remove(),this.getUI()&&this.getUI().remove(),this.eventManager.emit("removeEditor"),this.eventManager.events.forEach((function(t,n){e.off(n)})),this.eventManager=null;t>=0;t-=1)Fc[t]===this&&Fc.splice(t,1)},t.hide=function(){this.eventManager.emit("hide",this)},t.show=function(){this.eventManager.emit("show",this),this.getCodeMirror().refresh()},t.scrollTop=function(e){return this.getCurrentModeEditor().scrollTop(e)},t.setUI=function(e){this._ui=e},t.getUI=function(){return this._ui},t.reset=function(){this.wwEditor.reset(),this.mdEditor.reset()},t.getRange=function(){return this.getCurrentModeEditor().getRange()},t.getTextObject=function(e){return this.getCurrentModeEditor().getTextObject(e)},t.getSelectedText=function(){var e=this.getRange(),t=this.getTextObject(e);return t.getTextContent()||""},t.setPlaceholder=function(e){this.mdEditor.setPlaceholder(e),this.wwEditor.setPlaceholder(e)},t.setCodeBlockLanguages=function(e){var t=this;void 0===e&&(e=[]),e.forEach((function(e){t.codeBlockLanguages.indexOf(e)<0&&t.codeBlockLanguages.push(e)})),this.eventManager.emit("setCodeBlockLanguages",this.codeBlockLanguages)},e.getInstances=function(){return Fc},e.factory=function(t){var n;return n=t.viewer?new or["a"](t):new e(t),n},e.setLanguage=function(e,t){cr.setLanguage(e,t)},e}();jc._createMarkdownToHTML=y,jc.isViewer=!1,jc.codeBlockManager=ta["a"],jc.WwCodeBlockManager=hn,jc.WwTableManager=Kt,jc.WwTableSelectionManager=Ut,jc.CommandManager=Yn["a"];var Hc=jc;n(50),n(51),n(41),n(52);Hc.setLanguage(["en","en-US"],{Markdown:"Markdown",WYSIWYG:"WYSIWYG",Write:"Write",Preview:"Preview",Headings:"Headings",Paragraph:"Paragraph",Bold:"Bold",Italic:"Italic",Strike:"Strike",Code:"Inline code",Line:"Line",Blockquote:"Blockquote","Unordered list":"Unordered list","Ordered list":"Ordered list",Task:"Task",Indent:"Indent",Outdent:"Outdent","Insert link":"Insert link","Insert CodeBlock":"Insert codeBlock","Insert table":"Insert table","Insert image":"Insert image",Heading:"Heading","Image URL":"Image URL","Select image file":"Select image file",Description:"Description",OK:"OK",More:"More",Cancel:"Cancel",File:"File",URL:"URL","Link text":"Link text","Add row":"Add row","Add col":"Add col","Remove row":"Remove row","Remove col":"Remove col","Align left":"Align left","Align center":"Align center","Align right":"Align right","Remove table":"Remove table","Would you like to paste as table?":"Would you like to paste as table?","Text color":"Text color","Auto scroll enabled":"Auto scroll enabled","Auto scroll disabled":"Auto scroll disabled","Choose language":"Choose language"});t["default"]=Hc}])["default"]}))},a0bd:function(e,t,n){(function(e){e(n("56b3"))})((function(e){"use strict";e.defineMode("coffeescript",(function(e,t){var n="error";function r(e){return new RegExp("^(("+e.join(")|(")+"))\\b")}var i=/^(?:->|=>|\+[+=]?|-[\-=]?|\*[\*=]?|\/[\/=]?|[=!]=|<[><]?=?|>>?=?|%=?|&=?|\|=?|\^=?|\~|!|\?|(or|and|\|\||&&|\?)=)/,o=/^(?:[()\[\]{},:`=;]|\.\.?\.?)/,a=/^[_A-Za-z$][_A-Za-z$0-9]*/,s=/^@[_A-Za-z$][_A-Za-z$0-9]*/,l=r(["and","or","not","is","isnt","in","instanceof","typeof"]),c=["for","while","loop","if","unless","else","switch","try","catch","finally","class"],u=["break","by","continue","debugger","delete","do","in","of","new","return","then","this","@","throw","when","until","extends"],d=r(c.concat(u));c=r(c);var f=/^('{3}|\"{3}|['\"])/,h=/^(\/{3}|\/)/,p=["Infinity","NaN","undefined","null","true","false","on","off","yes","no"],m=r(p);function g(e,t){if(e.sol()){null===t.scope.align&&(t.scope.align=!1);var r=t.scope.offset;if(e.eatSpace()){var c=e.indentation();return c>r&&"coffee"==t.scope.type?"indent":c<r?"dedent":null}r>0&&C(e,t)}if(e.eatSpace())return null;var u=e.peek();if(e.match("####"))return e.skipToEnd(),"comment";if(e.match("###"))return t.tokenize=b,t.tokenize(e,t);if("#"===u)return e.skipToEnd(),"comment";if(e.match(/^-?[0-9\.]/,!1)){var p=!1;if(e.match(/^-?\d*\.\d+(e[\+\-]?\d+)?/i)&&(p=!0),e.match(/^-?\d+\.\d*/)&&(p=!0),e.match(/^-?\.\d+/)&&(p=!0),p)return"."==e.peek()&&e.backUp(1),"number";var g=!1;if(e.match(/^-?0x[0-9a-f]+/i)&&(g=!0),e.match(/^-?[1-9]\d*(e[\+\-]?\d+)?/)&&(g=!0),e.match(/^-?0(?![\dx])/i)&&(g=!0),g)return"number"}if(e.match(f))return t.tokenize=v(e.current(),!1,"string"),t.tokenize(e,t);if(e.match(h)){if("/"!=e.current()||e.match(/^.*\//,!1))return t.tokenize=v(e.current(),!0,"string-2"),t.tokenize(e,t);e.backUp(1)}return e.match(i)||e.match(l)?"operator":e.match(o)?"punctuation":e.match(m)?"atom":e.match(s)||t.prop&&e.match(a)?"property":e.match(d)?"keyword":e.match(a)?"variable":(e.next(),n)}function v(e,r,i){return function(o,a){while(!o.eol())if(o.eatWhile(/[^'"\/\\]/),o.eat("\\")){if(o.next(),r&&o.eol())return i}else{if(o.match(e))return a.tokenize=g,i;o.eat(/['"\/]/)}return r&&(t.singleLineStringErrors?i=n:a.tokenize=g),i}}function b(e,t){while(!e.eol()){if(e.eatWhile(/[^#]/),e.match("###")){t.tokenize=g;break}e.eatWhile("#")}return"comment"}function y(t,n,r){r=r||"coffee";for(var i=0,o=!1,a=null,s=n.scope;s;s=s.prev)if("coffee"===s.type||"}"==s.type){i=s.offset+e.indentUnit;break}"coffee"!==r?(o=null,a=t.column()+t.current().length):n.scope.align&&(n.scope.align=!1),n.scope={offset:i,type:r,prev:n.scope,align:o,alignOffset:a}}function C(e,t){if(t.scope.prev){if("coffee"===t.scope.type){for(var n=e.indentation(),r=!1,i=t.scope;i;i=i.prev)if(n===i.offset){r=!0;break}if(!r)return!0;while(t.scope.prev&&t.scope.offset!==n)t.scope=t.scope.prev;return!1}return t.scope=t.scope.prev,!1}}function w(e,t){var r=t.tokenize(e,t),i=e.current();"return"===i&&(t.dedent=!0),(("->"===i||"=>"===i)&&e.eol()||"indent"===r)&&y(e,t);var o="[({".indexOf(i);if(-1!==o&&y(e,t,"])}".slice(o,o+1)),c.exec(i)&&y(e,t),"then"==i&&C(e,t),"dedent"===r&&C(e,t))return n;if(o="])}".indexOf(i),-1!==o){while("coffee"==t.scope.type&&t.scope.prev)t.scope=t.scope.prev;t.scope.type==i&&(t.scope=t.scope.prev)}return t.dedent&&e.eol()&&("coffee"==t.scope.type&&t.scope.prev&&(t.scope=t.scope.prev),t.dedent=!1),r}var x={startState:function(e){return{tokenize:g,scope:{offset:e||0,type:"coffee",prev:null,align:!1},prop:!1,dedent:0}},token:function(e,t){var n=null===t.scope.align&&t.scope;n&&e.sol()&&(n.align=!1);var r=w(e,t);return r&&"comment"!=r&&(n&&(n.align=!0),t.prop="punctuation"==r&&"."==e.current()),r},indent:function(e,t){if(e.tokenize!=g)return 0;var n=e.scope,r=t&&"])}".indexOf(t.charAt(0))>-1;if(r)while("coffee"==n.type&&n.prev)n=n.prev;var i=r&&n.type===t.charAt(0);return n.align?n.alignOffset-(i?1:0):(i?n.prev:n).offset},lineComment:"#",fold:"indent"};return x})),e.defineMIME("application/vnd.coffeescript","coffeescript"),e.defineMIME("text/x-coffeescript","coffeescript"),e.defineMIME("text/coffeescript","coffeescript")}))},a10a:function(e,t,n){"use strict";var r=n("3498"),i=n.n(r);i.a},a10d:function(e,t,n){},a119:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:e.title,width:800,visible:e.visible,confirmLoading:e.confirmLoading,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"部门角色名称"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["roleName",e.validatorRules.roleName],expression:"['roleName', validatorRules.roleName]"}],attrs:{placeholder:"请输入部门角色名称"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"部门角色编码"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["roleCode",e.validatorRules.roleCode],expression:"['roleCode', validatorRules.roleCode]"}],attrs:{placeholder:"请输入部门角色编码"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"描述"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["description",e.validatorRules.description],expression:"['description', validatorRules.description]"}],attrs:{placeholder:"请输入描述"}})],1)],1)],1)],1)},i=[],o=n("0fea"),a=n("88bc"),s=n.n(a),l=n("4ec3"),c={name:"SysDepartRoleModal",data:function(){return{title:"操作",visible:!1,model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{roleName:{rules:[{required:!0,message:"请输入部门角色名称!"},{min:2,max:30,message:"长度在 2 到 30 个字符",trigger:"blur"}]},roleCode:{rules:[{required:!0,message:"请输入部门角色编码!"},{min:0,max:64,message:"长度不超过 64 个字符",trigger:"blur"},{validator:this.validateRoleCode}]},description:{rules:[{min:0,max:126,message:"长度不超过 126 个字符",trigger:"blur"}]}},url:{add:"/sys/sysDepartRole/add",edit:"/sys/sysDepartRole/edit"}}},created:function(){},methods:{add:function(e){this.edit({},e)},edit:function(e,t){var n=this;this.departId=t,this.form.resetFields(),this.model=Object.assign({},e),this.visible=!0,this.$nextTick((function(){n.form.setFieldsValue(s()(n.model,"roleName","roleCode","description"))}))},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields((function(n,r){if(!n){t.confirmLoading=!0;var i="",a="";e.model.id?(i+=e.url.edit,a="put"):(i+=e.url.add,a="post");var s=Object.assign(e.model,r);s.departId=e.departId,Object(o["h"])(i,s,a).then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}}))},handleCancel:function(){this.close()},validateRoleCode:function(e,t,n){if(/[\u4E00-\u9FA5]/g.test(t))n("部门角色编码不可输入汉字!");else{var r={tableName:"sys_depart_role",fieldName:"role_code",fieldVal:t,dataId:this.model.id};Object(l["m"])(r).then((function(e){e.success?n():n(e.message)}))}}}},u=c,d=n("2877"),f=Object(d["a"])(u,r,i,!1,null,"257b4fa5",null);t["default"]=f.exports},a174:function(e,t,n){},a26b:function(e,t,n){"use strict";var r=n("cb82"),i=n.n(r);i.a},a317:function(e,t,n){},a364:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchQuery(t)}}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"规则名称"}},[n("a-input",{attrs:{placeholder:"请输入规则名称"},model:{value:e.queryParam.ruleName,callback:function(t){e.$set(e.queryParam,"ruleName",t)},expression:"queryParam.ruleName"}})],1)],1),n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"规则Code"}},[n("a-input",{attrs:{placeholder:"请输入规则Code"},model:{value:e.queryParam.ruleCode,callback:function(t){e.$set(e.queryParam,"ruleCode",t)},expression:"queryParam.ruleCode"}})],1)],1),e.toggleSearchStatus?void 0:e._e(),n("a-col",{attrs:{md:6,sm:8}},[n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")]),n("a",{staticStyle:{"margin-left":"8px"},on:{click:e.handleToggleSearch}},[e._v("\n              "+e._s(e.toggleSearchStatus?"收起":"展开")+"\n              "),n("a-icon",{attrs:{type:e.toggleSearchStatus?"up":"down"}})],1)],1)])],2)],1)],1),n("div",{staticClass:"table-operator"},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("新增")]),n("a-button",{attrs:{type:"primary",icon:"download"},on:{click:function(t){return e.handleExportXls("编码校验规则")}}},[e._v("导出")]),n("a-upload",{attrs:{name:"file",showUploadList:!1,multiple:!1,headers:e.tokenHeader,action:e.importExcelUrl},on:{change:e.handleImportExcel}},[n("a-button",{attrs:{type:"primary",icon:"import"}},[e._v("导入")])],1),e.selectedRowKeys.length>0?n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:e.batchDel}},[n("a-icon",{attrs:{type:"delete"}}),e._v("\n          删除\n        ")],1)],1),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v(" 批量操作\n        "),n("a-icon",{attrs:{type:"down"}})],1)],1):e._e()],1),n("a-alert",{staticStyle:{"margin-bottom":"16px"},attrs:{type:"info",showIcon:""}},[n("template",{slot:"message"},[n("span",[e._v("已选择")]),n("a",{staticStyle:{"font-weight":"600",padding:"0 4px"}},[e._v(e._s(e.selectedRowKeys.length))]),n("span",[e._v("项")]),e.selectedRowKeys.length>0?[n("a-divider",{attrs:{type:"vertical"}}),n("a",{on:{click:e.onClearSelected}},[e._v("清空")])]:e._e()],2)],2),n("a-table",{ref:"table",attrs:{size:"middle",bordered:"",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"action",fn:function(t,r){return[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a",{on:{click:function(t){return e.handleTest(r)}}},[e._v("功能测试")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link"},[n("span",[e._v("更多")]),n("a-icon",{attrs:{type:"down"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定删除吗？"},on:{confirm:function(t){return e.handleDelete(r.id)}}},[e._v("删除")])],1)],1)],1)]}}])}),n("sys-check-rule-modal",{ref:"modalForm",on:{ok:e.modalFormOk}}),n("sys-check-rule-test-modal",{ref:"testModal"})],1)},i=[],o=n("d579"),a=n("b65a"),s=n("9655"),l=n("7d57"),c={name:"SysCheckRuleList",mixins:[a["a"]],components:{SysCheckRuleModal:s["default"],SysCheckRuleTestModal:l["default"],JEllipsis:o["default"]},data:function(){var e=this.$createElement;return{description:"编码校验规则管理页面",columns:[{title:"#",key:"rowIndex",width:60,align:"center",customRender:function(e,t,n){return n+1}},{title:"规则名称",align:"center",dataIndex:"ruleName"},{title:"规则Code",align:"center",dataIndex:"ruleCode"},{title:"规则描述",align:"center",dataIndex:"ruleDescription",customRender:function(t){return e("j-ellipsis",{attrs:{value:t,length:48}})}},{title:"操作",dataIndex:"action",align:"center",scopedSlots:{customRender:"action"}}],url:{list:"/sys/checkRule/list",delete:"/sys/checkRule/delete",deleteBatch:"/sys/checkRule/deleteBatch",exportXlsUrl:"sys/checkRule/exportXls",importExcelUrl:"sys/checkRule/importExcel"}}},computed:{importExcelUrl:function(){return"".concat(window._CONFIG["domianURL"],"/").concat(this.url.importExcelUrl)}},methods:{handleTest:function(e){this.$refs.testModal.open(e.ruleCode)}}},u=c,d=(n("969f"),n("2877")),f=Object(d["a"])(u,r,i,!1,null,"7ea65a8b",null);t["default"]=f.exports},a372:function(e,t,n){},a3fd:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{title:"磁盘监控"}},[n("a-row",[e.diskInfo&&e.diskInfo.length>0?e._l(e.diskInfo,(function(e,t){return n("a-col",{key:"diskInfo"+t,attrs:{span:8}},[n("dash-chart-demo",{attrs:{title:e.name,datasource:e.restPPT}})],1)})):e._e()],2)],1)},i=[],o=n("0fea"),a=n("972f"),s=n("290c"),l={name:"DiskMonitoring",components:{ARow:s["a"],DashChartDemo:a["default"]},data:function(){return{description:"磁盘监控",diskInfo:[],url:{queryDiskInfo:"actuator/redis/queryDiskInfo"}}},created:function(){var e=this;Object(o["c"])(this.url.queryDiskInfo).then((function(t){if(t.success){for(var n=0;n<t.result.length;n++)t.result[n].restPPT=t.result[n].restPPT/10;e.diskInfo=t.result}}))}},c=l,u=n("2877"),d=Object(u["a"])(c,r,i,!1,null,"1305213f",null);t["default"]=d.exports},a40c:function(e,t,n){"use strict";n.r(t);var r=n("27fd"),i=n("58f7");function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.filter((function(e){return e.tag||e.text&&""!==e.text.trim()}))}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s,l,c={AvatarItem:i["default"],name:"AvatarList",components:{Avatar:r["a"],AvatarItem:i["default"]},props:{prefixCls:{type:String,default:"ant-pro-avatar-list"},size:{type:[String,Number],default:"default"},maxLength:{type:Number,default:0},excessItemsStyle:{type:Object,default:function(){return{color:"#f56a00",backgroundColor:"#fde3cf"}}}},data:function(){return{}},methods:{getItems:function(e){var t,n=this.$createElement,i=(t={},a(t,"".concat(this.prefixCls,"-item"),!0),a(t,"".concat(this.size),!0),t);this.maxLength>0&&(e=e.slice(0,this.maxLength),e.push(n(r["a"],{attrs:{size:this.size},style:this.excessItemsStyle},["+".concat(this.maxLength)])));var o=e.map((function(e){return n("li",{class:i},[e])}));return o}},render:function(){var e,t=arguments[0],n=this.$props,r=n.prefixCls,i=n.size,s=(e={},a(e,"".concat(r),!0),a(e,"".concat(i),!0),e),l=o(this.$slots.default),c=l&&l.length?t("ul",{class:"".concat(r,"-items")},[this.getItems(l)]):null;return t("div",{class:s},[c])}},u=c,d=n("2877"),f=Object(d["a"])(u,s,l,!1,null,null,null);t["default"]=f.exports},a462:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-form",{staticStyle:{margin:"40px auto 0"}},[n("result",{attrs:{title:"操作成功","is-success":!0,description:"预计两小时内到账"}},[n("div",{staticClass:"information"},[n("a-row",[n("a-col",{attrs:{sm:8,xs:24}},[e._v("付款账户：")]),n("a-col",{attrs:{sm:16,xs:24}},[e._v("ant-design@alipay.com")])],1),n("a-row",[n("a-col",{attrs:{sm:8,xs:24}},[e._v("收款账户：")]),n("a-col",{attrs:{sm:16,xs:24}},[e._v("test@example.com")])],1),n("a-row",[n("a-col",{attrs:{sm:8,xs:24}},[e._v("收款人姓名：")]),n("a-col",{attrs:{sm:16,xs:24}},[e._v("辉夜")])],1),n("a-row",[n("a-col",{attrs:{sm:8,xs:24}},[e._v("转账金额：")]),n("a-col",{attrs:{sm:16,xs:24}},[n("span",{staticClass:"money"},[e._v("500")]),e._v(" 元")])],1)],1),n("div",{attrs:{slot:"action"},slot:"action"},[n("a-button",{attrs:{type:"primary"},on:{click:e.finish}},[e._v("再转一笔")]),n("a-button",{staticStyle:{"margin-left":"8px"},on:{click:e.toOrderList}},[e._v("查看账单")])],1)])],1)],1)},i=[],o=n("9a3d"),a={name:"Step3",components:{Result:o["default"]},data:function(){return{loading:!1}},methods:{finish:function(){this.$emit("finish")},toOrderList:function(){this.$router.push("/list/query-list")}}},s=a,l=(n("f81c"),n("2877")),c=Object(l["a"])(s,r,i,!1,null,"02a8c95b",null);t["default"]=c.exports},a505:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("j-modal",{staticStyle:{top:"50px"},attrs:{width:e.modalWidth,visible:e.visible,title:e.title,switchFullscreen:"",cancelText:"关闭"},on:{ok:e.handleSubmit,cancel:e.close}},[n("a-row",{staticStyle:{"background-color":"#ececec",padding:"10px",margin:"-10px"},attrs:{gutter:10}},[n("a-col",{attrs:{md:6,sm:24}},[n("a-card",{attrs:{bordered:!1}},[n("a-directory-tree",{attrs:{selectable:"",selectedKeys:e.selectedDepIds,checkStrictly:!0,dropdownStyle:{maxHeight:"200px",overflow:"auto"},treeData:e.departTree,expandAction:!1,expandedKeys:e.expandedKeys},on:{"update:expandedKeys":function(t){e.expandedKeys=t},"update:expanded-keys":function(t){e.expandedKeys=t},select:e.onDepSelect}})],1)],1),n("a-col",{attrs:{md:18,sm:24}},[n("a-card",{attrs:{bordered:!1}},[e._v("\n        用户账号:\n        "),n("a-input-search",{style:{width:"150px",marginBottom:"15px"},attrs:{placeholder:"请输入账号"},on:{search:e.onSearch},model:{value:e.queryParam.username,callback:function(t){e.$set(e.queryParam,"username",t)},expression:"queryParam.username"}}),n("a-button",{staticStyle:{"margin-left":"20px"},attrs:{icon:"redo"},on:{click:function(t){return e.searchReset(1)}}},[e._v("重置")]),n("a-table",{ref:"table",attrs:{scroll:e.scrollTrigger,size:"middle",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange,type:e.getType},loading:e.loading},on:{change:e.handleTableChange}})],1)],1)],1)],1)},i=[],o=n("a34a"),a=n.n(o),s=n("ca00"),l=n("4ec3");function c(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){c(o,r,i,a,s,"next",e)}function s(e){c(o,r,i,a,s,"throw",e)}a(void 0)}))}}var d={name:"JSelectUserByDepModal",components:{},props:["modalWidth","multi","userIds"],data:function(){return{queryParam:{username:""},columns:[{title:"用户账号",align:"center",dataIndex:"username"},{title:"用户姓名",align:"center",dataIndex:"realname"},{title:"性别",align:"center",dataIndex:"sex",customRender:function(e){return 1===e?"男":2===e?"女":e}},{title:"手机",align:"center",dataIndex:"phone"},{title:"部门",align:"center",dataIndex:"orgCode"}],scrollTrigger:{},dataSource:[],selectedRowKeys:[],selectUserRows:[],selectUserIds:[],title:"根据部门选择用户",ipagination:{current:1,pageSize:10,pageSizeOptions:["10","20","30"],showTotal:function(e,t){return t[0]+"-"+t[1]+" 共"+e+"条"},showQuickJumper:!0,showSizeChanger:!0,total:0},isorter:{column:"createTime",order:"desc"},selectedDepIds:[],departTree:[],visible:!1,form:this.$form.createForm(this),loading:!1,expandedKeys:[]}},computed:{getType:function(){return 1==this.multi?"checkbox":"radio"}},watch:{userIds:{immediate:!0,handler:function(){this.initUserNames()}}},created:function(){this.resetScreenSize(),this.loadData()},methods:{initUserNames:function(){var e=this;if(this.userIds){var t=this.userIds.split(",")+",";Object(l["A"])({username:t,pageNo:1,pageSize:t.length}).then((function(t){if(t.success){var n=[],r=[];t.result.records.forEach((function(e){r.push(e["realname"]),n.push(e["id"])})),e.selectedRowKeys=n,e.$emit("initComp",r.join(","))}}))}else this.$emit("initComp","")},loadData:function(){var e=u(a.a.mark((function e(t){var n,r=this;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(1===t&&(this.ipagination.current=1),!(this.selectedDepIds&&this.selectedDepIds.length>0)){e.next=6;break}return e.next=4,this.initQueryUserByDepId(this.selectedDepIds);case 4:e.next=10;break;case 6:return this.loading=!0,n=this.getQueryParams(),e.next=10,Object(l["A"])(n).then((function(e){e.success&&(r.dataSource=e.result.records,r.ipagination.total=e.result.total)})).finally((function(){r.loading=!1}));case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),resetScreenSize:function(){var e=document.body.clientWidth;this.scrollTrigger=e<500?{x:800}:{}},showModal:function(){this.visible=!0,this.queryDepartTree(),this.initUserNames(),this.loadData(),this.form.resetFields()},getQueryParams:function(){var e=Object.assign({},this.queryParam,this.isorter);return e.field=this.getQueryField(),e.pageNo=this.ipagination.current,e.pageSize=this.ipagination.pageSize,Object(s["d"])(e)},getQueryField:function(){for(var e="id,",t=0;t<this.columns.length;t++)e+=","+this.columns[t].dataIndex;return e},searchReset:function(e){var t=this;0!==e&&(t.queryParam={},t.loadData(1)),t.selectedRowKeys=[],t.selectUserIds=[],t.selectedDepIds=[]},close:function(){this.searchReset(0),this.visible=!1},handleTableChange:function(e,t,n){Object.keys(n).length>0&&(this.isorter.column=n.field,this.isorter.order="ascend"===n.order?"asc":"desc"),this.ipagination=e,this.loadData()},handleSubmit:function(){var e=this;this.getSelectUserRows(),e.$emit("ok",e.selectUserRows,e.selectUserIds),e.searchReset(0),e.close()},getSelectUserRows:function(e){var t=this.dataSource,n="";this.selectUserRows=[];for(var r=0,i=t.length;r<i;r++)this.selectedRowKeys.includes(t[r].id)&&(this.selectUserRows.push(t[r]),n=n+","+t[r].username);this.selectUserIds=n.substring(1)},onDepSelect:function(e){null!=e[0]&&(this.initQueryUserByDepId(e),this.selectedDepIds[0]!==e[0]&&(this.selectedDepIds=[e[0]]))},onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectionRows=t},onSearch:function(){this.loadData(1)},initQueryUserByDepId:function(e){var t=this;return this.loading=!0,Object(l["N"])({id:e.toString()}).then((function(e){e.success&&(t.dataSource=e.result,t.ipagination.total=e.result.length)})).finally((function(){t.loading=!1}))},queryDepartTree:function(){var e=this;Object(l["D"])().then((function(t){t.success&&(e.departTree=t.result,e.expandedKeys=e.departTree.map((function(e){return e.id})))}))},modalFormOk:function(){this.loadData()}}},f=d,h=(n("9ee5"),n("2877")),p=Object(h["a"])(f,r,i,!1,null,"6e33dfa5",null);t["default"]=p.exports},a5ae:function(e,t,n){},a5fb:function(e,t,n){"use strict";var r=n("6dd0"),i=n.n(r);i.a},a726:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-checkbox-group",e._b({attrs:{options:e.options,value:e.checkboxArray},on:{change:e.onChange}},"a-checkbox-group",e.$attrs,!1))},i=[],o={name:"JCheckbox",props:{value:{type:String,required:!1},options:{type:Array,required:!0}},data:function(){return{checkboxArray:this.value?this.value.split(","):[]}},watch:{value:function(e){this.checkboxArray=e?this.value.split(","):[]}},methods:{onChange:function(e){this.$emit("change",e.join(","))}},model:{prop:"value",event:"change"}},a=o,s=n("2877"),l=Object(s["a"])(a,r,i,!1,null,null,null);t["default"]=l.exports},a7be:function(e,t,n){},a876:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._b({},"div",e.fullScreenParentProps,!1),[e.fullScreen?n("a-icon",{staticClass:"full-screen-icon",attrs:{type:e.iconType},on:{click:function(){return e.fullCoder=!e.fullCoder}}}):e._e(),n("div",{staticClass:"code-editor-cust full-screen-child"},[n("textarea",{ref:"textarea"}),n("span",{staticClass:"null-tip",class:{"null-tip-hidden":e.hasCode},style:e.nullTipStyle,on:{click:e.nullTipClick}},[e._v(e._s(e.placeholderShow))]),e.languageChange?[n("a-select",{staticClass:"code-mode-select",attrs:{size:"small",placeholder:"请选择主题"},on:{change:e.changeMode},model:{value:e.mode,callback:function(t){e.mode=t},expression:"mode"}},e._l(e.modes,(function(t){return n("a-select-option",{key:t.value,attrs:{value:t.value}},[e._v("\n          "+e._s(t.label)+"\n        ")])})),1)]:e._e()],2)],1)},i=[],o=n("56b3"),a=n.n(o);n("a7be"),n("fade"),n("f6b6"),n("f9d4"),n("7b00"),n("d5e0"),n("4ba6"),n("959b"),n("db91"),n("903e"),n("02f0"),n("ffda"),n("c0e2"),n("693d");function s(){return navigator.userAgent.indexOf("compatible")>-1&&navigator.userAgent.indexOf("MSIE")>-1}function l(){return navigator.userAgent.indexOf("Trident")>-1&&navigator.userAgent.indexOf("rv:11.0")>-1}var c=window.CodeMirror||a.a,u={name:"JCodeEditor",props:{value:{type:String,default:""},language:{type:String,default:null},languageChange:{type:Boolean,default:!1,required:!1},placeholder:{type:String,default:null},lineNumbers:{type:Boolean,default:!0},fullScreen:{type:Boolean,default:!1},zIndex:{type:[Number,String],default:999},autoHeight:{type:[String,Boolean],default:!0},height:{type:[String,Number],default:"240px"}},data:function(){return{code:"",iconType:"fullscreen",hasCode:!1,mode:"javascript",coder:null,options:{tabSize:2,theme:"panda-syntax",line:!0,hintOptions:{tables:{users:["name","score","birthDate"],countries:["name","population","size"]}}},modes:[{value:"css",label:"CSS"},{value:"javascript",label:"Javascript"},{value:"html",label:"XML/HTML"},{value:"x-java",label:"Java"},{value:"x-objectivec",label:"Objective-C"},{value:"x-python",label:"Python"},{value:"x-rsrc",label:"R"},{value:"x-sh",label:"Shell"},{value:"x-sql",label:"SQL"},{value:"x-swift",label:"Swift"},{value:"x-vue",label:"Vue"},{value:"markdown",label:"Markdown"}],fullCoder:!1}},watch:{fullCoder:{handler:function(e){this.iconType=e?"fullscreen-exit":"fullscreen"}},language:{immediate:!0,handler:function(e){var t=this;this._getCoder().then((function(){if(e){var n=t._getLanguage(e);n&&(t.mode=n.label,t.coder.setOption("mode","text/".concat(n.value)))}}))}}},computed:{placeholderShow:function(){return null==this.placeholder?"请在此输入".concat(this.language,"代码"):this.placeholder},nullTipStyle:function(){return this.lineNumbers?{left:"36px"}:{left:"12px"}},coderOptions:function(){return{tabSize:this.options.tabSize,theme:this.options.theme,lineNumbers:this.lineNumbers,line:!0,hintOptions:this.options.hintOptions}},isAutoHeight:function(){var e=this.autoHeight;return e="string"!==typeof e||"!ie"!==e.toLowerCase().trim()||!(s()||l()),e},fullScreenParentProps:function(){var e={class:{"full-screen-parent":!0,"full-screen":this.fullCoder,"auto-height":this.isAutoHeight},style:{}};return this.fullCoder&&(e.style["z-index"]=this.zIndex),this.isAutoHeight||(e.style["height"]="number"===typeof this.height?this.height+"px":this.height),e}},mounted:function(){this._initialize()},methods:{_initialize:function(){var e=this;this.coder=c.fromTextArea(this.$refs.textarea,this.coderOptions),this.value||this.code?(this.hasCode=!0,this.setCodeContent(this.value||this.code)):(this.coder.setValue(""),this.hasCode=!1),this.coder.on("change",(function(t){e.code=t.getValue(),e.code?e.hasCode=!0:e.hasCode=!1,e.$emit&&e.$emit("input",e.code)})),this.coder.on("focus",(function(){e.hasCode=!0})),this.coder.on("blur",(function(){e.code?e.hasCode=!0:e.hasCode=!1}))},getCodeContent:function(){return this.code},setCodeContent:function(e){var t=this;setTimeout((function(){e?t.coder.setValue(e):t.coder.setValue("")}),300)},_getLanguage:function(e){return this.modes.find((function(t){var n=e.toLowerCase(),r=t.label.toLowerCase(),i=t.value.toLowerCase();return r===n||i===n}))},_getCoder:function(){var e=this;return new Promise((function(t){(function n(){e.coder?t(e.coder):setTimeout(n,10)})()}))},changeMode:function(e){this.coder.setOption("mode","text/".concat(e));var t=this._getLanguage(e).label.toLowerCase();this.$emit("language-change",t)},nullTipClick:function(){this.coder.focus()}}},d=u,f=(n("480d"),n("2877")),h=Object(f["a"])(d,r,i,!1,null,null,null);t["default"]=h.exports},a9a9:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-list",{attrs:{itemLayout:"horizontal",dataSource:e.data},scopedSlots:e._u([{key:"renderItem",fn:function(t,r){return n("a-list-item",{key:r},[n("a-list-item-meta",[n("a",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.title))]),n("span",{attrs:{slot:"description"},slot:"description"},[n("span",{staticClass:"security-list-description"},[e._v(e._s(t.description))]),t.value?n("span",[e._v(" : ")]):e._e(),n("span",{staticClass:"security-list-value"},[e._v(e._s(t.value))])])]),t.actions?[n("a",{attrs:{slot:"actions"},on:{click:t.actions.callback},slot:"actions"},[e._v(e._s(t.actions.title))])]:e._e()],2)}}])})},i=[],o={data:function(){var e=this;return{data:[{title:"账户密码",description:"当前密码强度",value:"强",actions:{title:"修改",callback:function(){e.$message.info("This is a normal message")}}},{title:"密保手机",description:"已绑定手机",value:"138****8293",actions:{title:"修改",callback:function(){e.$message.success("This is a message of success")}}},{title:"密保问题",description:"未设置密保问题，密保问题可有效保护账户安全",value:"",actions:{title:"设置",callback:function(){e.$message.error("This is a message of error")}}},{title:"备用邮箱",description:"已绑定邮箱",value:"ant***sign.com",actions:{title:"修改",callback:function(){e.$message.warning("This is message of warning")}}},{title:"MFA 设备",description:"未绑定 MFA 设备，绑定后，可以进行二次确认",value:"",actions:{title:"绑定",callback:function(){e.$message.info("This is a normal message")}}}]}}},a=o,s=n("2877"),l=Object(s["a"])(a,r,i,!1,null,"28b2c3cd",null);t["default"]=l.exports},aa8e:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:e.title,width:800,visible:e.visible,okButtonProps:{props:{disabled:e.disableSubmit}},confirmLoading:e.confirmLoading,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"航班号",hasFeedback:""}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["ticketCode",{rules:[{required:!0,message:"请输入航班号!"}]}],expression:"['ticketCode', {rules:[{ required: true,message: '请输入航班号!'}]}]"}],attrs:{placeholder:"请输入航班号",readOnly:e.disableSubmit}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"航班时间",hasFeedback:""}},[n("j-date",{directives:[{name:"decorator",rawName:"v-decorator",value:["tickectDate",{rules:[{required:!0,message:"请输入航班号!"}]}],expression:"['tickectDate',{rules:[{ required: true,message: '请输入航班号!'}]}]"}],attrs:{"trigger-change":!0}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"订单号码",hidden:e.hiding,hasFeedback:""},model:{value:this.orderId,callback:function(t){e.$set(this,"orderId",t)},expression:"this.orderId"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["orderId",{}],expression:"[ 'orderId', {}]"}],attrs:{disabled:"disabled"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"创建人",hidden:e.hiding,hasFeedback:""}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["createBy",{}],expression:"[ 'createBy', {}]"}],attrs:{readOnly:e.disableSubmit}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"创建时间",hidden:e.hiding,hasFeedback:""}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["createTime",{}],expression:"[ 'createTime', {}]"}],attrs:{readOnly:e.disableSubmit}})],1)],1)],1)],1)},i=[],o=n("0fea"),a=n("88bc"),s=n.n(a),l=n("c1df"),c=n.n(l),u=n("2dab"),d={components:{JDate:u["default"]},name:"JeecgOrderTicketModal",data:function(){return{title:"操作",visible:!1,model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},moment:c.a,format:"YYYY-MM-DD HH:mm:ss",disableSubmit:!1,orderId:"",hiding:!1,confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{},url:{add:"/test/order/addTicket",edit:"/test/order/editTicket"}}},created:function(){},methods:{add:function(e){e?this.edit({orderId:e},""):this.$message.warning("请选择一条航班数据")},detail:function(e){this.edit(e,"d")},edit:function(e,t){var n=this;"e"==t?(this.hiding=!1,this.disableSubmit=!1):"d"==t?(this.hiding=!1,this.disableSubmit=!0):(this.hiding=!0,this.disableSubmit=!1),this.form.resetFields(),this.orderId=e.orderId,this.model=Object.assign({},e),this.visible=!0,this.$nextTick((function(){n.form.setFieldsValue(s()(n.model,"ticketCode","tickectDate","orderId","createBy","createTime","updateBy","updateTime"))}))},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields((function(n,r){if(!n){t.confirmLoading=!0;var i="",a="";e.model.id?(i+=e.url.edit,a="put"):(i+=e.url.add,a="post");var s=Object.assign(e.model,r);s.mainId=e.orderId,Object(o["h"])(i,s,a).then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}}))},handleCancel:function(){this.close()}}},f=d,h=n("2877"),p=Object(h["a"])(f,r,i,!1,null,"15e28c2b",null);t["default"]=p.exports},aa95:function(e,t,n){"use strict";var r=n("a317"),i=n.n(r);i.a},aaac:function(e,t,n){},aaad:function(e,t,n){},abfd:function(e,t,n){},ac2a:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"main"},[r("a-form",{ref:"formLogin",staticClass:"user-layout-login",attrs:{form:e.form,id:"formLogin"}},[r("a-tabs",{attrs:{activeKey:e.customActiveKey,tabBarStyle:{textAlign:"center",borderBottom:"unset"}},on:{change:e.handleTabClick}},[r("a-tab-pane",{key:"tab1",attrs:{tab:"賬號密碼登陸"}},[r("a-form-item",[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["username",e.validatorRules.username,{validator:this.handleUsernameOrEmail}],expression:"['username',validatorRules.username,{ validator: this.handleUsernameOrEmail }]"}],attrs:{size:"large",type:"text",placeholder:"請輸入帳戶名 / jeecg"}},[r("a-icon",{style:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"user"},slot:"prefix"})],1)],1),r("a-form-item",[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",e.validatorRules.password],expression:"['password',validatorRules.password]"}],attrs:{size:"large",type:"password",autocomplete:"false",placeholder:"密碼 / 123456"}},[r("a-icon",{style:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"lock"},slot:"prefix"})],1)],1),r("a-row",{attrs:{gutter:0}},[r("a-col",{attrs:{span:16}},[r("a-form-item",[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["inputCode",e.validatorRules.inputCode],expression:"['inputCode',validatorRules.inputCode]"}],attrs:{size:"large",type:"text",placeholder:"請輸入驗證碼"},on:{change:e.inputCodeChange}},[r("a-icon",{style:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"smile"},slot:"prefix"})],1)],1)],1),r("a-col",{staticStyle:{"text-align":"right"},attrs:{span:8}},[e.requestCodeSuccess?r("img",{staticStyle:{"margin-top":"2px"},attrs:{src:e.randCodeImage},on:{click:e.handleChangeCheckCode}}):r("img",{staticStyle:{"margin-top":"2px"},attrs:{src:n("d5ac")},on:{click:e.handleChangeCheckCode}})])],1)],1)],1),r("a-form-item",[r("a-checkbox",{directives:[{name:"decorator",rawName:"v-decorator",value:["rememberMe",{initialValue:!0,valuePropName:"checked"}],expression:"['rememberMe', {initialValue: true, valuePropName: 'checked'}]"}]},[e._v("自動登陸")])],1),r("a-form-item",{staticStyle:{"margin-top":"24px"}},[r("a-button",{staticClass:"login-button",attrs:{size:"large",type:"primary",htmlType:"submit",loading:e.loginBtn,disabled:e.loginBtn},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.handleSubmit(t)}}},[e._v("確定\n      ")])],1)],1),e.requiredTwoStepCaptcha?r("two-step-captcha",{attrs:{visible:e.stepCaptchaVisible},on:{success:e.stepCaptchaSuccess,cancel:e.stepCaptchaCancel}}):e._e(),r("login-select-modal",{ref:"loginSelect",on:{success:e.loginSelectOk}})],1)},i=[],o=(n("365c"),n("2ca2")),a=n("2f62"),s=n("ca00"),l=n("2b0e"),c=n("9fb0"),u=n("0fea");function d(){return Object(u["c"])("/sys/getEncryptedString",{}).then((function(e){var t={};return t.key=e.result.key,t.iv=e.result.iv,l["default"].ls.set(c["k"],t,6048e5),t}))}var f=f||function(e,t){var n=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),r={},i=r.lib={},o=i.Base=function(){return{extend:function(e){var t=n(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),a=i.WordArray=o.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||l).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var a=n[o>>>2]>>>24-o%4*8&255;t[r+o>>>2]|=a<<24-(r+o)%4*8}else for(o=0;o<i;o+=4)t[r+o>>>2]=n[o>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n,r=[],i=function(t){t=t;var n=987654321,r=4294967295;return function(){n=36969*(65535&n)+(n>>16)&r,t=18e3*(65535&t)+(t>>16)&r;var i=(n<<16)+t&r;return i/=4294967296,i+=.5,i*(e.random()>.5?1:-1)}},o=0;o<t;o+=4){var s=i(4294967296*(n||e.random()));n=987654071*s(),r.push(4294967296*s()|0)}return new a.init(r,t)}}),s=r.enc={},l=s.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new a.init(n,t/2)}},c=s.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new a.init(n,t)}},u=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},d=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=u.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,r=n.words,i=n.sigBytes,o=this.blockSize,s=4*o,l=i/s;l=t?e.ceil(l):e.max((0|l)-this._minBufferSize,0);var c=l*o,u=e.min(4*c,i);if(c){for(var d=0;d<c;d+=o)this._doProcessBlock(r,d);var f=r.splice(0,c);n.sigBytes-=u}return new a.init(f,u)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),f=(i.Hasher=d.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){e&&this._append(e);var t=this._doFinalize();return t},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new f.HMAC.init(e,n).finalize(t)}}}),r.algo={});return r}(Math);(function(){var e=f,t=e.lib,n=t.WordArray,r=e.enc;r.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var i=[],o=0;o<n;o+=3)for(var a=t[o>>>2]>>>24-o%4*8&255,s=t[o+1>>>2]>>>24-(o+1)%4*8&255,l=t[o+2>>>2]>>>24-(o+2)%4*8&255,c=a<<16|s<<8|l,u=0;u<4&&o+.75*u<n;u++)i.push(r.charAt(c>>>6*(3-u)&63));var d=r.charAt(64);if(d)while(i.length%4)i.push(d);return i.join("")},parse:function(e){var t=e.length,n=this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var o=0;o<n.length;o++)r[n.charCodeAt(o)]=o}var a=n.charAt(64);if(a){var s=e.indexOf(a);-1!==s&&(t=s)}return i(e,t,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function i(e,t,r){for(var i=[],o=0,a=0;a<t;a++)if(a%4){var s=r[e.charCodeAt(a-1)]<<a%4*2,l=r[e.charCodeAt(a)]>>>6-a%4*2;i[o>>>2]|=(s|l)<<24-o%4*8,o++}return n.create(i,o)}})(),function(e){var t=f,n=t.lib,r=n.WordArray,i=n.Hasher,o=t.algo,a=[];(function(){for(var t=0;t<64;t++)a[t]=4294967296*e.abs(e.sin(t+1))|0})();var s=o.MD5=i.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,i=e[r];e[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o=this._hash.words,s=e[t+0],f=e[t+1],h=e[t+2],p=e[t+3],m=e[t+4],g=e[t+5],v=e[t+6],b=e[t+7],y=e[t+8],C=e[t+9],w=e[t+10],x=e[t+11],I=e[t+12],A=e[t+13],k=e[t+14],S=e[t+15],_=o[0],T=o[1],E=o[2],O=o[3];_=l(_,T,E,O,s,7,a[0]),O=l(O,_,T,E,f,12,a[1]),E=l(E,O,_,T,h,17,a[2]),T=l(T,E,O,_,p,22,a[3]),_=l(_,T,E,O,m,7,a[4]),O=l(O,_,T,E,g,12,a[5]),E=l(E,O,_,T,v,17,a[6]),T=l(T,E,O,_,b,22,a[7]),_=l(_,T,E,O,y,7,a[8]),O=l(O,_,T,E,C,12,a[9]),E=l(E,O,_,T,w,17,a[10]),T=l(T,E,O,_,x,22,a[11]),_=l(_,T,E,O,I,7,a[12]),O=l(O,_,T,E,A,12,a[13]),E=l(E,O,_,T,k,17,a[14]),T=l(T,E,O,_,S,22,a[15]),_=c(_,T,E,O,f,5,a[16]),O=c(O,_,T,E,v,9,a[17]),E=c(E,O,_,T,x,14,a[18]),T=c(T,E,O,_,s,20,a[19]),_=c(_,T,E,O,g,5,a[20]),O=c(O,_,T,E,w,9,a[21]),E=c(E,O,_,T,S,14,a[22]),T=c(T,E,O,_,m,20,a[23]),_=c(_,T,E,O,C,5,a[24]),O=c(O,_,T,E,k,9,a[25]),E=c(E,O,_,T,p,14,a[26]),T=c(T,E,O,_,y,20,a[27]),_=c(_,T,E,O,A,5,a[28]),O=c(O,_,T,E,h,9,a[29]),E=c(E,O,_,T,b,14,a[30]),T=c(T,E,O,_,I,20,a[31]),_=u(_,T,E,O,g,4,a[32]),O=u(O,_,T,E,y,11,a[33]),E=u(E,O,_,T,x,16,a[34]),T=u(T,E,O,_,k,23,a[35]),_=u(_,T,E,O,f,4,a[36]),O=u(O,_,T,E,m,11,a[37]),E=u(E,O,_,T,b,16,a[38]),T=u(T,E,O,_,w,23,a[39]),_=u(_,T,E,O,A,4,a[40]),O=u(O,_,T,E,s,11,a[41]),E=u(E,O,_,T,p,16,a[42]),T=u(T,E,O,_,v,23,a[43]),_=u(_,T,E,O,C,4,a[44]),O=u(O,_,T,E,I,11,a[45]),E=u(E,O,_,T,S,16,a[46]),T=u(T,E,O,_,h,23,a[47]),_=d(_,T,E,O,s,6,a[48]),O=d(O,_,T,E,b,10,a[49]),E=d(E,O,_,T,k,15,a[50]),T=d(T,E,O,_,g,21,a[51]),_=d(_,T,E,O,I,6,a[52]),O=d(O,_,T,E,p,10,a[53]),E=d(E,O,_,T,w,15,a[54]),T=d(T,E,O,_,f,21,a[55]),_=d(_,T,E,O,y,6,a[56]),O=d(O,_,T,E,S,10,a[57]),E=d(E,O,_,T,v,15,a[58]),T=d(T,E,O,_,A,21,a[59]),_=d(_,T,E,O,m,6,a[60]),O=d(O,_,T,E,x,10,a[61]),E=d(E,O,_,T,h,15,a[62]),T=d(T,E,O,_,C,21,a[63]),o[0]=o[0]+_|0,o[1]=o[1]+T|0,o[2]=o[2]+E|0,o[3]=o[3]+O|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;n[i>>>5]|=128<<24-i%32;var o=e.floor(r/4294967296),a=r;n[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[14+(i+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),t.sigBytes=4*(n.length+1),this._process();for(var s=this._hash,l=s.words,c=0;c<4;c++){var u=l[c];l[c]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}return s},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});function l(e,t,n,r,i,o,a){var s=e+(t&n|~t&r)+i+a;return(s<<o|s>>>32-o)+t}function c(e,t,n,r,i,o,a){var s=e+(t&r|n&~r)+i+a;return(s<<o|s>>>32-o)+t}function u(e,t,n,r,i,o,a){var s=e+(t^n^r)+i+a;return(s<<o|s>>>32-o)+t}function d(e,t,n,r,i,o,a){var s=e+(n^(t|~r))+i+a;return(s<<o|s>>>32-o)+t}t.MD5=i._createHelper(s),t.HmacMD5=i._createHmacHelper(s)}(Math),function(){var e=f,t=e.lib,n=t.WordArray,r=t.Hasher,i=e.algo,o=[],a=i.SHA1=r.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],a=n[2],s=n[3],l=n[4],c=0;c<80;c++){if(c<16)o[c]=0|e[t+c];else{var u=o[c-3]^o[c-8]^o[c-14]^o[c-16];o[c]=u<<1|u>>>31}var d=(r<<5|r>>>27)+l+o[c];d+=c<20?1518500249+(i&a|~i&s):c<40?1859775393+(i^a^s):c<60?(i&a|i&s|a&s)-1894007588:(i^a^s)-899497514,l=s,s=a,a=i<<30|i>>>2,i=r,r=d}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+a|0,n[3]=n[3]+s|0,n[4]=n[4]+l|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(r+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}});e.SHA1=r._createHelper(a),e.HmacSHA1=r._createHmacHelper(a)}(),function(e){var t=f,n=t.lib,r=n.WordArray,i=n.Hasher,o=t.algo,a=[],s=[];(function(){function t(t){for(var n=e.sqrt(t),r=2;r<=n;r++)if(!(t%r))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}var r=2,i=0;while(i<64)t(r)&&(i<8&&(a[i]=n(e.pow(r,.5))),s[i]=n(e.pow(r,1/3)),i++),r++})();var l=[],c=o.SHA256=i.extend({_doReset:function(){this._hash=new r.init(a.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],c=n[4],u=n[5],d=n[6],f=n[7],h=0;h<64;h++){if(h<16)l[h]=0|e[t+h];else{var p=l[h-15],m=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,g=l[h-2],v=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;l[h]=m+l[h-7]+v+l[h-16]}var b=c&u^~c&d,y=r&i^r&o^i&o,C=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),w=(c<<26|c>>>6)^(c<<21|c>>>11)^(c<<7|c>>>25),x=f+w+b+s[h]+l[h],I=C+y;f=d,d=u,u=c,c=a+x|0,a=o,o=i,i=r,r=x+I|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+c|0,n[5]=n[5]+u|0,n[6]=n[6]+d|0,n[7]=n[7]+f|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=e.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=i._createHelper(c),t.HmacSHA256=i._createHmacHelper(c)}(Math),function(){var e=f,t=e.lib,n=t.WordArray,r=e.enc;r.Utf16=r.Utf16BE={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i+=2){var o=t[i>>>2]>>>16-i%4*8&65535;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var t=e.length,r=[],i=0;i<t;i++)r[i>>>1]|=e.charCodeAt(i)<<16-i%2*16;return n.create(r,2*t)}};function i(e){return e<<8&4278255360|e>>>8&16711935}r.Utf16LE={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o+=2){var a=i(t[o>>>2]>>>16-o%4*8&65535);r.push(String.fromCharCode(a))}return r.join("")},parse:function(e){for(var t=e.length,r=[],o=0;o<t;o++)r[o>>>1]|=i(e.charCodeAt(o)<<16-o%2*16);return n.create(r,2*t)}}}(),function(){if("function"==typeof ArrayBuffer){var e=f,t=e.lib,n=t.WordArray,r=n.init,i=n.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!==typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var t=e.byteLength,n=[],i=0;i<t;i++)n[i>>>2]|=e[i]<<24-i%4*8;r.call(this,n,t)}else r.apply(this,arguments)};i.prototype=n}}(),
/** @preserve
 (c) 2012 by Cédric Mesnil. All rights reserved.

 Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

 - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
 - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */
function(e){var t=f,n=t.lib,r=n.WordArray,i=n.Hasher,o=t.algo,a=r.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),s=r.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),l=r.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),c=r.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),u=r.create([0,1518500249,1859775393,2400959708,2840853838]),d=r.create([1352829926,1548603684,1836072691,2053994217,0]),h=o.RIPEMD160=i.extend({_doReset:function(){this._hash=r.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,i=e[r];e[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o,f,h,C,w,x,I,A,k,S,_,T=this._hash.words,E=u.words,O=d.words,R=a.words,N=s.words,L=l.words,D=c.words;x=o=T[0],I=f=T[1],A=h=T[2],k=C=T[3],S=w=T[4];for(n=0;n<80;n+=1)_=o+e[t+R[n]]|0,_+=n<16?p(f,h,C)+E[0]:n<32?m(f,h,C)+E[1]:n<48?g(f,h,C)+E[2]:n<64?v(f,h,C)+E[3]:b(f,h,C)+E[4],_|=0,_=y(_,L[n]),_=_+w|0,o=w,w=C,C=y(h,10),h=f,f=_,_=x+e[t+N[n]]|0,_+=n<16?b(I,A,k)+O[0]:n<32?v(I,A,k)+O[1]:n<48?g(I,A,k)+O[2]:n<64?m(I,A,k)+O[3]:p(I,A,k)+O[4],_|=0,_=y(_,D[n]),_=_+S|0,x=S,S=k,k=y(A,10),A=I,I=_;_=T[1]+h+k|0,T[1]=T[2]+C+S|0,T[2]=T[3]+w+x|0,T[3]=T[4]+o+I|0,T[4]=T[0]+f+A|0,T[0]=_},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process();for(var i=this._hash,o=i.words,a=0;a<5;a++){var s=o[a];o[a]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}return i},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});function p(e,t,n){return e^t^n}function m(e,t,n){return e&t|~e&n}function g(e,t,n){return(e|~t)^n}function v(e,t,n){return e&n|t&~n}function b(e,t,n){return e^(t|~n)}function y(e,t){return e<<t|e>>>32-t}t.RIPEMD160=i._createHelper(h),t.HmacRIPEMD160=i._createHmacHelper(h)}(Math),function(){var e=f,t=e.lib,n=t.Base,r=e.enc,i=r.Utf8,o=e.algo;o.HMAC=n.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=i.parse(t));var n=e.blockSize,r=4*n;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var o=this._oKey=t.clone(),a=this._iKey=t.clone(),s=o.words,l=a.words,c=0;c<n;c++)s[c]^=1549556828,l[c]^=909522486;o.sigBytes=a.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);t.reset();var r=t.finalize(this._oKey.clone().concat(n));return r}})}(),function(){var e=f,t=e.lib,n=t.Base,r=t.WordArray,i=e.algo,o=i.SHA1,a=i.HMAC,s=i.PBKDF2=n.extend({cfg:n.extend({keySize:4,hasher:o,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){var n=this.cfg,i=a.create(n.hasher,e),o=r.create(),s=r.create([1]),l=o.words,c=s.words,u=n.keySize,d=n.iterations;while(l.length<u){var f=i.update(t).finalize(s);i.reset();for(var h=f.words,p=h.length,m=f,g=1;g<d;g++){m=i.finalize(m),i.reset();for(var v=m.words,b=0;b<p;b++)h[b]^=v[b]}o.concat(f),c[0]++}return o.sigBytes=4*u,o}});e.PBKDF2=function(e,t,n){return s.create(n).compute(e,t)}}(),function(){var e=f,t=e.lib,n=t.Base,r=t.WordArray,i=e.algo,o=i.MD5,a=i.EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:o,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){var n=this.cfg,i=n.hasher.create(),o=r.create(),a=o.words,s=n.keySize,l=n.iterations;while(a.length<s){c&&i.update(c);var c=i.update(e).finalize(t);i.reset();for(var u=1;u<l;u++)c=i.finalize(c),i.reset();o.concat(c)}return o.sigBytes=4*s,o}});e.EvpKDF=function(e,t,n){return a.create(n).compute(e,t)}}(),function(){var e=f,t=e.lib,n=t.WordArray,r=e.algo,i=r.SHA256,o=r.SHA224=i.extend({_doReset:function(){this._hash=new n.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=i._doFinalize.call(this);return e.sigBytes-=4,e}});e.SHA224=i._createHelper(o),e.HmacSHA224=i._createHmacHelper(o)}(),function(e){var t=f,n=t.lib,r=n.Base,i=n.WordArray,o=t.x64={};o.Word=r.extend({init:function(e,t){this.high=e,this.low=t}}),o.WordArray=r.extend({init:function(t,n){t=this.words=t||[],this.sigBytes=n!=e?n:8*t.length},toX32:function(){for(var e=this.words,t=e.length,n=[],r=0;r<t;r++){var o=e[r];n.push(o.high),n.push(o.low)}return i.create(n,this.sigBytes)},clone:function(){for(var e=r.clone.call(this),t=e.words=this.words.slice(0),n=t.length,i=0;i<n;i++)t[i]=t[i].clone();return e}})}(),function(e){var t=f,n=t.lib,r=n.WordArray,i=n.Hasher,o=t.x64,a=o.Word,s=t.algo,l=[],c=[],u=[];(function(){for(var e=1,t=0,n=0;n<24;n++){l[e+5*t]=(n+1)*(n+2)/2%64;var r=t%5,i=(2*e+3*t)%5;e=r,t=i}for(e=0;e<5;e++)for(t=0;t<5;t++)c[e+5*t]=t+(2*e+3*t)%5*5;for(var o=1,s=0;s<24;s++){for(var d=0,f=0,h=0;h<7;h++){if(1&o){var p=(1<<h)-1;p<32?f^=1<<p:d^=1<<p-32}128&o?o=o<<1^113:o<<=1}u[s]=a.create(d,f)}})();var d=[];(function(){for(var e=0;e<25;e++)d[e]=a.create()})();var h=s.SHA3=i.extend({cfg:i.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new a.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var n=this._state,r=this.blockSize/2,i=0;i<r;i++){var o=e[t+2*i],a=e[t+2*i+1];o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8);var s=n[i];s.high^=a,s.low^=o}for(var f=0;f<24;f++){for(var h=0;h<5;h++){for(var p=0,m=0,g=0;g<5;g++){s=n[h+5*g];p^=s.high,m^=s.low}var v=d[h];v.high=p,v.low=m}for(h=0;h<5;h++){var b=d[(h+4)%5],y=d[(h+1)%5],C=y.high,w=y.low;for(p=b.high^(C<<1|w>>>31),m=b.low^(w<<1|C>>>31),g=0;g<5;g++){s=n[h+5*g];s.high^=p,s.low^=m}}for(var x=1;x<25;x++){s=n[x];var I=s.high,A=s.low,k=l[x];if(k<32)p=I<<k|A>>>32-k,m=A<<k|I>>>32-k;else p=A<<k-32|I>>>64-k,m=I<<k-32|A>>>64-k;var S=d[c[x]];S.high=p,S.low=m}var _=d[0],T=n[0];_.high=T.high,_.low=T.low;for(h=0;h<5;h++)for(g=0;g<5;g++){x=h+5*g,s=n[x];var E=d[x],O=d[(h+1)%5+5*g],R=d[(h+2)%5+5*g];s.high=E.high^~O.high&R.high,s.low=E.low^~O.low&R.low}s=n[0];var N=u[f];s.high^=N.high,s.low^=N.low}},_doFinalize:function(){var t=this._data,n=t.words,i=(this._nDataBytes,8*t.sigBytes),o=32*this.blockSize;n[i>>>5]|=1<<24-i%32,n[(e.ceil((i+1)/o)*o>>>5)-1]|=128,t.sigBytes=4*n.length,this._process();for(var a=this._state,s=this.cfg.outputLength/8,l=s/8,c=[],u=0;u<l;u++){var d=a[u],f=d.high,h=d.low;f=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),h=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8),c.push(h),c.push(f)}return new r.init(c,s)},clone:function(){for(var e=i.clone.call(this),t=e._state=this._state.slice(0),n=0;n<25;n++)t[n]=t[n].clone();return e}});t.SHA3=i._createHelper(h),t.HmacSHA3=i._createHmacHelper(h)}(Math),function(){var e=f,t=e.lib,n=t.Hasher,r=e.x64,i=r.Word,o=r.WordArray,a=e.algo;function s(){return i.create.apply(i,arguments)}var l=[s(1116352408,3609767458),s(1899447441,602891725),s(3049323471,3964484399),s(3921009573,2173295548),s(961987163,4081628472),s(1508970993,3053834265),s(2453635748,2937671579),s(2870763221,3664609560),s(3624381080,2734883394),s(310598401,1164996542),s(607225278,1323610764),s(1426881987,3590304994),s(1925078388,4068182383),s(2162078206,991336113),s(2614888103,633803317),s(3248222580,3479774868),s(3835390401,2666613458),s(4022224774,944711139),s(264347078,2341262773),s(604807628,2007800933),s(770255983,1495990901),s(1249150122,1856431235),s(1555081692,3175218132),s(1996064986,2198950837),s(2554220882,3999719339),s(2821834349,766784016),s(2952996808,2566594879),s(3210313671,3203337956),s(3336571891,1034457026),s(3584528711,2466948901),s(113926993,3758326383),s(338241895,168717936),s(666307205,1188179964),s(773529912,1546045734),s(1294757372,1522805485),s(1396182291,2643833823),s(1695183700,2343527390),s(1986661051,1014477480),s(2177026350,1206759142),s(2456956037,344077627),s(2730485921,1290863460),s(2820302411,3158454273),s(3259730800,3505952657),s(3345764771,106217008),s(3516065817,3606008344),s(3600352804,1432725776),s(4094571909,1467031594),s(275423344,851169720),s(430227734,3100823752),s(506948616,1363258195),s(659060556,3750685593),s(883997877,3785050280),s(958139571,3318307427),s(1322822218,3812723403),s(1537002063,2003034995),s(1747873779,3602036899),s(1955562222,1575990012),s(2024104815,1125592928),s(2227730452,2716904306),s(2361852424,442776044),s(2428436474,593698344),s(2756734187,3733110249),s(3204031479,2999351573),s(3329325298,3815920427),s(3391569614,3928383900),s(3515267271,566280711),s(3940187606,3454069534),s(4118630271,4000239992),s(116418474,1914138554),s(174292421,2731055270),s(289380356,3203993006),s(460393269,320620315),s(685471733,587496836),s(852142971,1086792851),s(1017036298,365543100),s(1126000580,2618297676),s(1288033470,3409855158),s(1501505948,4234509866),s(1607167915,987167468),s(1816402316,1246189591)],c=[];(function(){for(var e=0;e<80;e++)c[e]=s()})();var u=a.SHA512=n.extend({_doReset:function(){this._hash=new o.init([new i.init(1779033703,4089235720),new i.init(3144134277,2227873595),new i.init(1013904242,4271175723),new i.init(2773480762,1595750129),new i.init(1359893119,2917565137),new i.init(2600822924,725511199),new i.init(528734635,4215389547),new i.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],u=n[5],d=n[6],f=n[7],h=r.high,p=r.low,m=i.high,g=i.low,v=o.high,b=o.low,y=a.high,C=a.low,w=s.high,x=s.low,I=u.high,A=u.low,k=d.high,S=d.low,_=f.high,T=f.low,E=h,O=p,R=m,N=g,L=v,D=b,B=y,M=C,P=w,F=x,j=I,H=A,z=k,$=S,V=_,W=T,K=0;K<80;K++){var G=c[K];if(K<16)var Z=G.high=0|e[t+2*K],U=G.low=0|e[t+2*K+1];else{var q=c[K-15],X=q.high,Y=q.low,J=(X>>>1|Y<<31)^(X>>>8|Y<<24)^X>>>7,Q=(Y>>>1|X<<31)^(Y>>>8|X<<24)^(Y>>>7|X<<25),ee=c[K-2],te=ee.high,ne=ee.low,re=(te>>>19|ne<<13)^(te<<3|ne>>>29)^te>>>6,ie=(ne>>>19|te<<13)^(ne<<3|te>>>29)^(ne>>>6|te<<26),oe=c[K-7],ae=oe.high,se=oe.low,le=c[K-16],ce=le.high,ue=le.low;U=Q+se,Z=J+ae+(U>>>0<Q>>>0?1:0),U=U+ie,Z=Z+re+(U>>>0<ie>>>0?1:0),U=U+ue,Z=Z+ce+(U>>>0<ue>>>0?1:0);G.high=Z,G.low=U}var de=P&j^~P&z,fe=F&H^~F&$,he=E&R^E&L^R&L,pe=O&N^O&D^N&D,me=(E>>>28|O<<4)^(E<<30|O>>>2)^(E<<25|O>>>7),ge=(O>>>28|E<<4)^(O<<30|E>>>2)^(O<<25|E>>>7),ve=(P>>>14|F<<18)^(P>>>18|F<<14)^(P<<23|F>>>9),be=(F>>>14|P<<18)^(F>>>18|P<<14)^(F<<23|P>>>9),ye=l[K],Ce=ye.high,we=ye.low,xe=W+be,Ie=V+ve+(xe>>>0<W>>>0?1:0),Ae=(xe=xe+fe,Ie=Ie+de+(xe>>>0<fe>>>0?1:0),xe=xe+we,Ie=Ie+Ce+(xe>>>0<we>>>0?1:0),xe=xe+U,Ie=Ie+Z+(xe>>>0<U>>>0?1:0),ge+pe),ke=me+he+(Ae>>>0<ge>>>0?1:0);V=z,W=$,z=j,$=H,j=P,H=F,F=M+xe|0,P=B+Ie+(F>>>0<M>>>0?1:0)|0,B=L,M=D,L=R,D=N,R=E,N=O,O=xe+Ae|0,E=Ie+ke+(O>>>0<xe>>>0?1:0)|0}p=r.low=p+O,r.high=h+E+(p>>>0<O>>>0?1:0),g=i.low=g+N,i.high=m+R+(g>>>0<N>>>0?1:0),b=o.low=b+D,o.high=v+L+(b>>>0<D>>>0?1:0),C=a.low=C+M,a.high=y+B+(C>>>0<M>>>0?1:0),x=s.low=x+F,s.high=w+P+(x>>>0<F>>>0?1:0),A=u.low=A+H,u.high=I+j+(A>>>0<H>>>0?1:0),S=d.low=S+$,d.high=k+z+(S>>>0<$>>>0?1:0),T=f.low=T+W,f.high=_+V+(T>>>0<W>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;t[r>>>5]|=128<<24-r%32,t[30+(r+128>>>10<<5)]=Math.floor(n/4294967296),t[31+(r+128>>>10<<5)]=n,e.sigBytes=4*t.length,this._process();var i=this._hash.toX32();return i},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});e.SHA512=n._createHelper(u),e.HmacSHA512=n._createHmacHelper(u)}(),function(){var e=f,t=e.x64,n=t.Word,r=t.WordArray,i=e.algo,o=i.SHA512,a=i.SHA384=o.extend({_doReset:function(){this._hash=new r.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},_doFinalize:function(){var e=o._doFinalize.call(this);return e.sigBytes-=16,e}});e.SHA384=o._createHelper(a),e.HmacSHA384=o._createHmacHelper(a)}(),f.lib.Cipher||function(e){var t=f,n=t.lib,r=n.Base,i=n.WordArray,o=n.BufferedBlockAlgorithm,a=t.enc,s=(a.Utf8,a.Base64),l=t.algo,c=l.EvpKDF,u=n.Cipher=o.extend({cfg:r.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){o.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){e&&this._append(e);var t=this._doFinalize();return t},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?I:C}return function(t){return{encrypt:function(n,r,i){return e(r).encrypt(t,n,r,i)},decrypt:function(n,r,i){return e(r).decrypt(t,n,r,i)}}}}()}),d=(n.StreamCipher=u.extend({_doFinalize:function(){var e=this._process(!0);return e},blockSize:1}),t.mode={}),h=n.BlockCipherMode=r.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),p=d.CBC=function(){var t=h.extend();function n(t,n,r){var i=this._iv;if(i){var o=i;this._iv=e}else o=this._prevBlock;for(var a=0;a<r;a++)t[n+a]^=o[a]}return t.Encryptor=t.extend({processBlock:function(e,t){var r=this._cipher,i=r.blockSize;n.call(this,e,t,i),r.encryptBlock(e,t),this._prevBlock=e.slice(t,t+i)}}),t.Decryptor=t.extend({processBlock:function(e,t){var r=this._cipher,i=r.blockSize,o=e.slice(t,t+i);r.decryptBlock(e,t),n.call(this,e,t,i),this._prevBlock=o}}),t}(),m=t.pad={},g=m.Pkcs7={pad:function(e,t){for(var n=4*t,r=n-e.sigBytes%n,o=r<<24|r<<16|r<<8|r,a=[],s=0;s<r;s+=4)a.push(o);var l=i.create(a,r);e.concat(l)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},v=(n.BlockCipher=u.extend({cfg:u.cfg.extend({mode:p,padding:g}),reset:function(){u.reset.call(this);var e=this.cfg,t=e.iv,n=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var r=n.createEncryptor;else{r=n.createDecryptor;this._minBufferSize=1}this._mode&&this._mode.__creator==r?this._mode.init(this,t&&t.words):(this._mode=r.call(n,this,t&&t.words),this._mode.__creator=r)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else{t=this._process(!0);e.unpad(t)}return t},blockSize:4}),n.CipherParams=r.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}})),b=t.format={},y=b.OpenSSL={stringify:function(e){var t=e.ciphertext,n=e.salt;if(n)var r=i.create([1398893684,1701076831]).concat(n).concat(t);else r=t;return r.toString(s)},parse:function(e){var t=s.parse(e),n=t.words;if(1398893684==n[0]&&1701076831==n[1]){var r=i.create(n.slice(2,4));n.splice(0,4),t.sigBytes-=16}return v.create({ciphertext:t,salt:r})}},C=n.SerializableCipher=r.extend({cfg:r.extend({format:y}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var i=e.createEncryptor(n,r),o=i.finalize(t),a=i.cfg;return v.create({ciphertext:o,key:n,iv:a.iv,algorithm:e,mode:a.mode,padding:a.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,n,r){r=this.cfg.extend(r),t=this._parse(t,r.format);var i=e.createDecryptor(n,r).finalize(t.ciphertext);return i},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),w=t.kdf={},x=w.OpenSSL={execute:function(e,t,n,r){r||(r=i.random(8));var o=c.create({keySize:t+n}).compute(e,r),a=i.create(o.words.slice(t),4*n);return o.sigBytes=4*t,v.create({key:o,iv:a,salt:r})}},I=n.PasswordBasedCipher=C.extend({cfg:C.cfg.extend({kdf:x}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var i=r.kdf.execute(n,e.keySize,e.ivSize);r.iv=i.iv;var o=C.encrypt.call(this,e,t,i.key,r);return o.mixIn(i),o},decrypt:function(e,t,n,r){r=this.cfg.extend(r),t=this._parse(t,r.format);var i=r.kdf.execute(n,e.keySize,e.ivSize,t.salt);r.iv=i.iv;var o=C.decrypt.call(this,e,t,i.key,r);return o}})}(),f.mode.CFB=function(){var e=f.lib.BlockCipherMode.extend();function t(e,t,n,r){var i=this._iv;if(i){var o=i.slice(0);this._iv=void 0}else o=this._prevBlock;r.encryptBlock(o,0);for(var a=0;a<n;a++)e[t+a]^=o[a]}return e.Encryptor=e.extend({processBlock:function(e,n){var r=this._cipher,i=r.blockSize;t.call(this,e,n,i,r),this._prevBlock=e.slice(n,n+i)}}),e.Decryptor=e.extend({processBlock:function(e,n){var r=this._cipher,i=r.blockSize,o=e.slice(n,n+i);t.call(this,e,n,i,r),this._prevBlock=o}}),e}(),f.mode.ECB=function(){var e=f.lib.BlockCipherMode.extend();return e.Encryptor=e.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),e.Decryptor=e.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),e}(),f.pad.AnsiX923={pad:function(e,t){var n=e.sigBytes,r=4*t,i=r-n%r,o=n+i-1;e.clamp(),e.words[o>>>2]|=i<<24-o%4*8,e.sigBytes+=i},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},f.pad.Iso10126={pad:function(e,t){var n=4*t,r=n-e.sigBytes%n;e.concat(f.lib.WordArray.random(r-1)).concat(f.lib.WordArray.create([r<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},f.pad.Iso97971={pad:function(e,t){e.concat(f.lib.WordArray.create([2147483648],1)),f.pad.ZeroPadding.pad(e,t)},unpad:function(e){f.pad.ZeroPadding.unpad(e),e.sigBytes--}},f.mode.OFB=function(){var e=f.lib.BlockCipherMode.extend(),t=e.Encryptor=e.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,i=this._iv,o=this._keystream;i&&(o=this._keystream=i.slice(0),this._iv=void 0),n.encryptBlock(o,0);for(var a=0;a<r;a++)e[t+a]^=o[a]}});return e.Decryptor=t,e}(),f.pad.NoPadding={pad:function(){},unpad:function(){}},function(e){var t=f,n=t.lib,r=n.CipherParams,i=t.enc,o=i.Hex,a=t.format;a.Hex={stringify:function(e){return e.ciphertext.toString(o)},parse:function(e){var t=o.parse(e);return r.create({ciphertext:t})}}}(),function(){var e=f,t=e.lib,n=t.BlockCipher,r=e.algo,i=[],o=[],a=[],s=[],l=[],c=[],u=[],d=[],h=[],p=[];(function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var n=0,r=0;for(t=0;t<256;t++){var f=r^r<<1^r<<2^r<<3^r<<4;f=f>>>8^255&f^99,i[n]=f,o[f]=n;var m=e[n],g=e[m],v=e[g],b=257*e[f]^16843008*f;a[n]=b<<24|b>>>8,s[n]=b<<16|b>>>16,l[n]=b<<8|b>>>24,c[n]=b;b=16843009*v^65537*g^257*m^16843008*n;u[f]=b<<24|b>>>8,d[f]=b<<16|b>>>16,h[f]=b<<8|b>>>24,p[f]=b,n?(n=m^e[e[e[v^m]]],r^=e[e[r]]):n=r=1}})();var m=[0,1,2,4,8,16,32,64,128,27,54],g=r.AES=n.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4,r=this._nRounds=n+6,o=4*(r+1),a=this._keySchedule=[],s=0;s<o;s++)if(s<n)a[s]=t[s];else{var l=a[s-1];s%n?n>6&&s%n==4&&(l=i[l>>>24]<<24|i[l>>>16&255]<<16|i[l>>>8&255]<<8|i[255&l]):(l=l<<8|l>>>24,l=i[l>>>24]<<24|i[l>>>16&255]<<16|i[l>>>8&255]<<8|i[255&l],l^=m[s/n|0]<<24),a[s]=a[s-n]^l}for(var c=this._invKeySchedule=[],f=0;f<o;f++){s=o-f;if(f%4)l=a[s];else l=a[s-4];c[f]=f<4||s<=4?l:u[i[l>>>24]]^d[i[l>>>16&255]]^h[i[l>>>8&255]]^p[i[255&l]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,a,s,l,c,i)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,u,d,h,p,o);n=e[t+1];e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,r,i,o,a,s){for(var l=this._nRounds,c=e[t]^n[0],u=e[t+1]^n[1],d=e[t+2]^n[2],f=e[t+3]^n[3],h=4,p=1;p<l;p++){var m=r[c>>>24]^i[u>>>16&255]^o[d>>>8&255]^a[255&f]^n[h++],g=r[u>>>24]^i[d>>>16&255]^o[f>>>8&255]^a[255&c]^n[h++],v=r[d>>>24]^i[f>>>16&255]^o[c>>>8&255]^a[255&u]^n[h++],b=r[f>>>24]^i[c>>>16&255]^o[u>>>8&255]^a[255&d]^n[h++];c=m,u=g,d=v,f=b}m=(s[c>>>24]<<24|s[u>>>16&255]<<16|s[d>>>8&255]<<8|s[255&f])^n[h++],g=(s[u>>>24]<<24|s[d>>>16&255]<<16|s[f>>>8&255]<<8|s[255&c])^n[h++],v=(s[d>>>24]<<24|s[f>>>16&255]<<16|s[c>>>8&255]<<8|s[255&u])^n[h++],b=(s[f>>>24]<<24|s[c>>>16&255]<<16|s[u>>>8&255]<<8|s[255&d])^n[h++];e[t]=m,e[t+1]=g,e[t+2]=v,e[t+3]=b},keySize:8});e.AES=n._createHelper(g)}(),function(){var e=f,t=e.lib,n=t.WordArray,r=t.BlockCipher,i=e.algo,o=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],a=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],s=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],l=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],c=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],u=i.DES=r.extend({_doReset:function(){for(var e=this._key,t=e.words,n=[],r=0;r<56;r++){var i=o[r]-1;n[r]=t[i>>>5]>>>31-i%32&1}for(var l=this._subKeys=[],c=0;c<16;c++){var u=l[c]=[],d=s[c];for(r=0;r<24;r++)u[r/6|0]|=n[(a[r]-1+d)%28]<<31-r%6,u[4+(r/6|0)]|=n[28+(a[r+24]-1+d)%28]<<31-r%6;u[0]=u[0]<<1|u[0]>>>31;for(r=1;r<7;r++)u[r]=u[r]>>>4*(r-1)+3;u[7]=u[7]<<5|u[7]>>>27}var f=this._invSubKeys=[];for(r=0;r<16;r++)f[r]=l[15-r]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,n){this._lBlock=e[t],this._rBlock=e[t+1],d.call(this,4,252645135),d.call(this,16,65535),h.call(this,2,858993459),h.call(this,8,16711935),d.call(this,1,1431655765);for(var r=0;r<16;r++){for(var i=n[r],o=this._lBlock,a=this._rBlock,s=0,u=0;u<8;u++)s|=l[u][((a^i[u])&c[u])>>>0];this._lBlock=a,this._rBlock=o^s}var f=this._lBlock;this._lBlock=this._rBlock,this._rBlock=f,d.call(this,1,1431655765),h.call(this,8,16711935),h.call(this,2,858993459),d.call(this,16,65535),d.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function d(e,t){var n=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=n,this._lBlock^=n<<e}function h(e,t){var n=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=n,this._rBlock^=n<<e}e.DES=r._createHelper(u);var p=i.TripleDES=r.extend({_doReset:function(){var e=this._key,t=e.words;this._des1=u.createEncryptor(n.create(t.slice(0,2))),this._des2=u.createEncryptor(n.create(t.slice(2,4))),this._des3=u.createEncryptor(n.create(t.slice(4,6)))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});e.TripleDES=r._createHelper(p)}(),function(){var e=f,t=e.lib,n=t.StreamCipher,r=e.algo,i=r.RC4=n.extend({_doReset:function(){for(var e=this._key,t=e.words,n=e.sigBytes,r=this._S=[],i=0;i<256;i++)r[i]=i;i=0;for(var o=0;i<256;i++){var a=i%n,s=t[a>>>2]>>>24-a%4*8&255;o=(o+r[i]+s)%256;var l=r[i];r[i]=r[o],r[o]=l}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=o.call(this)},keySize:8,ivSize:0});function o(){for(var e=this._S,t=this._i,n=this._j,r=0,i=0;i<4;i++){t=(t+1)%256,n=(n+e[t])%256;var o=e[t];e[t]=e[n],e[n]=o,r|=e[(e[t]+e[n])%256]<<24-8*i}return this._i=t,this._j=n,r}e.RC4=n._createHelper(i);var a=r.RC4Drop=i.extend({cfg:i.cfg.extend({drop:192}),_doReset:function(){i._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)o.call(this)}});e.RC4Drop=n._createHelper(a)}(),
/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */
f.mode.CTRGladman=function(){var e=f.lib.BlockCipherMode.extend();function t(e){if(255===(e>>24&255)){var t=e>>16&255,n=e>>8&255,r=255&e;255===t?(t=0,255===n?(n=0,255===r?r=0:++r):++n):++t,e=0,e+=t<<16,e+=n<<8,e+=r}else e+=1<<24;return e}function n(e){return 0===(e[0]=t(e[0]))&&(e[1]=t(e[1])),e}var r=e.Encryptor=e.extend({processBlock:function(e,t){var r=this._cipher,i=r.blockSize,o=this._iv,a=this._counter;o&&(a=this._counter=o.slice(0),this._iv=void 0),n(a);var s=a.slice(0);r.encryptBlock(s,0);for(var l=0;l<i;l++)e[t+l]^=s[l]}});return e.Decryptor=r,e}(),function(){var e=f,t=e.lib,n=t.StreamCipher,r=e.algo,i=[],o=[],a=[],s=r.Rabbit=n.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,n=0;n<4;n++)e[n]=16711935&(e[n]<<8|e[n]>>>24)|4278255360&(e[n]<<24|e[n]>>>8);var r=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],i=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(n=0;n<4;n++)l.call(this);for(n=0;n<8;n++)i[n]^=r[n+4&7];if(t){var o=t.words,a=o[0],s=o[1],c=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),u=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),d=c>>>16|4294901760&u,f=u<<16|65535&c;i[0]^=c,i[1]^=d,i[2]^=u,i[3]^=f,i[4]^=c,i[5]^=d,i[6]^=u,i[7]^=f;for(n=0;n<4;n++)l.call(this)}},_doProcessBlock:function(e,t){var n=this._X;l.call(this),i[0]=n[0]^n[5]>>>16^n[3]<<16,i[1]=n[2]^n[7]>>>16^n[5]<<16,i[2]=n[4]^n[1]>>>16^n[7]<<16,i[3]=n[6]^n[3]>>>16^n[1]<<16;for(var r=0;r<4;r++)i[r]=16711935&(i[r]<<8|i[r]>>>24)|4278255360&(i[r]<<24|i[r]>>>8),e[t+r]^=i[r]},blockSize:4,ivSize:2});function l(){for(var e=this._X,t=this._C,n=0;n<8;n++)o[n]=t[n];t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<o[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<o[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<o[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<o[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<o[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<o[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<o[6]>>>0?1:0)|0,this._b=t[7]>>>0<o[7]>>>0?1:0;for(n=0;n<8;n++){var r=e[n]+t[n],i=65535&r,s=r>>>16,l=((i*i>>>17)+i*s>>>15)+s*s,c=((4294901760&r)*r|0)+((65535&r)*r|0);a[n]=l^c}e[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,e[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,e[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,e[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,e[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,e[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,e[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,e[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}e.Rabbit=n._createHelper(s)}(),f.mode.CTR=function(){var e=f.lib.BlockCipherMode.extend(),t=e.Encryptor=e.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,i=this._iv,o=this._counter;i&&(o=this._counter=i.slice(0),this._iv=void 0);var a=o.slice(0);n.encryptBlock(a,0),o[r-1]=o[r-1]+1|0;for(var s=0;s<r;s++)e[t+s]^=a[s]}});return e.Decryptor=t,e}(),function(){var e=f,t=e.lib,n=t.StreamCipher,r=e.algo,i=[],o=[],a=[],s=r.RabbitLegacy=n.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],r=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var i=0;i<4;i++)l.call(this);for(i=0;i<8;i++)r[i]^=n[i+4&7];if(t){var o=t.words,a=o[0],s=o[1],c=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),u=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),d=c>>>16|4294901760&u,f=u<<16|65535&c;r[0]^=c,r[1]^=d,r[2]^=u,r[3]^=f,r[4]^=c,r[5]^=d,r[6]^=u,r[7]^=f;for(i=0;i<4;i++)l.call(this)}},_doProcessBlock:function(e,t){var n=this._X;l.call(this),i[0]=n[0]^n[5]>>>16^n[3]<<16,i[1]=n[2]^n[7]>>>16^n[5]<<16,i[2]=n[4]^n[1]>>>16^n[7]<<16,i[3]=n[6]^n[3]>>>16^n[1]<<16;for(var r=0;r<4;r++)i[r]=16711935&(i[r]<<8|i[r]>>>24)|4278255360&(i[r]<<24|i[r]>>>8),e[t+r]^=i[r]},blockSize:4,ivSize:2});function l(){for(var e=this._X,t=this._C,n=0;n<8;n++)o[n]=t[n];t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<o[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<o[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<o[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<o[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<o[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<o[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<o[6]>>>0?1:0)|0,this._b=t[7]>>>0<o[7]>>>0?1:0;for(n=0;n<8;n++){var r=e[n]+t[n],i=65535&r,s=r>>>16,l=((i*i>>>17)+i*s>>>15)+s*s,c=((4294901760&r)*r|0)+((65535&r)*r|0);a[n]=l^c}e[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,e[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,e[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,e[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,e[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,e[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,e[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,e[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}e.RabbitLegacy=n._createHelper(s)}(),f.pad.ZeroPadding={pad:function(e,t){var n=4*t;e.clamp(),e.sigBytes+=n-(e.sigBytes%n||n)},unpad:function(e){var t=e.words,n=e.sigBytes-1;while(!(t[n>>>2]>>>24-n%4*8&255))n--;e.sigBytes=n+1}};n("4360");var h=n("d60c");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v={components:{TwoStepCaptcha:o["default"],LoginSelectModal:h["default"]},data:function(){return{customActiveKey:"tab1",loginBtn:!1,loginType:0,requiredTwoStepCaptcha:!1,stepCaptchaVisible:!1,form:this.$form.createForm(this),encryptedString:{key:"",iv:""},state:{time:60,smsSendBtn:!1},validatorRules:{username:{rules:[{required:!0,message:"请输入用户名!"},{validator:this.handleUsernameOrEmail}]},password:{rules:[{required:!0,message:"请输入密码!",validator:"click"}]},mobile:{rules:[{validator:this.validateMobile}]},captcha:{rule:[{required:!0,message:"请输入验证码!"}]},inputCode:{rules:[{required:!0,message:"请输入验证码!"}]}},verifiedCode:"",inputCodeContent:"",inputCodeNull:!0,currentUsername:"",currdatetime:"",randCodeImage:"",requestCodeSuccess:!1}},created:function(){this.currdatetime=(new Date).getTime(),l["default"].ls.remove(c["a"]),this.getRouterData(),this.handleChangeCheckCode()},methods:m(m({},Object(a["b"])(["Login","Logout","PhoneLogin","ThirdLogin"])),{},{onThirdLogin:function(e){var t=window._CONFIG["domianURL"]+"/thirdLogin/render/".concat(e);window.open(t,"login ".concat(e),"height=500, width=500, top=0, left=0, toolbar=no, menubar=no, scrollbars=no, resizable=no,location=n o, status=no");var n=this,r=function(e){e.origin;var t=e.data;n.ThirdLogin(t).then((function(e){e.success?n.loginSuccess():n.requestFailed(e)}))};window.addEventListener("message",r,!1)},handleUsernameOrEmail:function(e,t,n){var r=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((\.[a-zA-Z0-9_-]{2,3}){1,2})$/;r.test(t)?this.loginType=0:this.loginType=1,n()},handleTabClick:function(e){this.customActiveKey=e},handleSubmit:function(){var e=this,t=this,n={};t.loginBtn=!0,"tab1"===t.customActiveKey?t.form.validateFields(["username","password","inputCode","rememberMe"],{force:!0},(function(r,i){r?t.loginBtn=!1:(n.username=i.username,n.password=i.password,n.remember_me=i.rememberMe,n.captcha=t.inputCodeContent,n.checkKey=t.currdatetime,t.Login(n).then((function(t){e.$refs.loginSelect.show(t.result)})).catch((function(e){t.requestFailed(e)})))})):t.form.validateFields(["mobile","captcha","rememberMe"],{force:!0},(function(r,i){r||(n.mobile=i.mobile,n.captcha=i.captcha,n.remember_me=i.rememberMe,t.PhoneLogin(n).then((function(t){e.$refs.loginSelect.show(t.result)})).catch((function(e){t.requestFailed(e)})))}))},getCaptcha:function(e){var t=this;e.preventDefault();var n=this;this.form.validateFields(["mobile"],{force:!0},(function(e,r){if(r.mobile){if(!e){t.state.smsSendBtn=!0;var i=window.setInterval((function(){n.state.time--<=0&&(n.state.time=60,n.state.smsSendBtn=!1,window.clearInterval(i))}),1e3),o=t.$message.loading("验证码发送中..",0),a={};a.mobile=r.mobile,a.smsmode="0",Object(u["i"])("/sys/sms",a).then((function(e){e.success||(setTimeout(o,0),t.cmsFailed(e.message)),setTimeout(o,500)})).catch((function(e){setTimeout(o,1),clearInterval(i),n.state.time=60,n.state.smsSendBtn=!1,t.requestFailed(e)}))}}else n.cmsFailed("请输入手机号")}))},stepCaptchaSuccess:function(){this.loginSuccess()},stepCaptchaCancel:function(){var e=this;this.Logout().then((function(){e.loginBtn=!1,e.stepCaptchaVisible=!1}))},handleChangeCheckCode:function(){var e=this;this.currdatetime=(new Date).getTime(),Object(u["c"])("/sys/randomImage/".concat(this.currdatetime)).then((function(t){t.success?(e.randCodeImage=t.result,e.requestCodeSuccess=!0):(e.$message.error(t.message),e.requestCodeSuccess=!1)})).catch((function(){e.requestCodeSuccess=!1}))},loginSuccess:function(){this.$router.push({path:"/dashboard/analysis"}).catch((function(){})),this.$notification.success({message:"欢迎",description:"".concat(Object(s["l"])(),"，欢迎回来")})},cmsFailed:function(e){this.$notification["error"]({message:"登录失败",description:e,duration:4})},requestFailed:function(e){this.$notification["error"]({message:"登录失败",description:((e.response||{}).data||{}).message||e.message||"请求出现错误，请稍后再试",duration:4}),this.loginBtn=!1},validateMobile:function(e,t,n){!t||new RegExp(/^1([38][0-9]|4[579]|5[0-3,5-9]|6[6]|7[0135678]|9[89])\d{8}$/).test(t)?n():n("您的手机号码格式不正确!")},validateInputCode:function(e,t,n){t&&this.verifiedCode!=this.inputCodeContent?n("您输入的验证码不正确!"):n()},generateCode:function(e){this.verifiedCode=e.toLowerCase()},inputCodeChange:function(e){this.inputCodeContent=e.target.value},loginSelectOk:function(){this.loginSuccess()},getRouterData:function(){var e=this;this.$nextTick((function(){e.$route.params.username&&e.form.setFieldsValue({username:e.$route.params.username})}))},getEncrypte:function(){var e=this,t=l["default"].ls.get(c["k"]);null==t?d().then((function(t){e.encryptedString=t})):this.encryptedString=t}})},b=v,y=(n("73cb"),n("aa95"),n("2877")),C=Object(y["a"])(b,r,i,!1,null,"59f39b68",null);t["default"]=C.exports},ac33:function(e,t,n){},adfa:function(e,t,n){"use strict";var r=n("8937"),i=n.n(r);i.a},ae14:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"dragDiv",staticClass:"drag"},[n("div",{staticClass:"drag_bg"}),n("div",{staticClass:"drag_text"},[e._v(e._s(e.confirmWords))]),n("div",{ref:"moveDiv",staticClass:"handler handler_bg",class:{handler_ok_bg:e.confirmSuccess},staticStyle:{border:"0.5px solid #fff",height:"34px",position:"absolute",top:"0px",left:"0px"},on:{mousedown:function(t){return e.mousedownFn(t)}}})])},i=[],o={name:"JSlider",data:function(){return{beginClientX:0,mouseMoveStata:!1,maxwidth:"",confirmWords:"拖动滑块验证",confirmSuccess:!1}},methods:{isSuccess:function(){return this.confirmSuccess},mousedownFn:function(e){this.confirmSuccess||(e.preventDefault&&e.preventDefault(),this.mouseMoveStata=!0,this.beginClientX=e.clientX)},successFunction:function(){this.confirmSuccess=!0,this.confirmWords="验证通过",window.addEventListener?(document.getElementsByTagName("html")[0].removeEventListener("mousemove",this.mouseMoveFn),document.getElementsByTagName("html")[0].removeEventListener("mouseup",this.moseUpFn)):document.getElementsByTagName("html")[0].removeEventListener("mouseup",(function(){})),document.getElementsByClassName("drag_text")[0].style.color="#fff",document.getElementsByClassName("handler")[0].style.left=this.maxwidth+"px",document.getElementsByClassName("drag_bg")[0].style.width=this.maxwidth+"px",this.$emit("onSuccess",!0)},mouseMoveFn:function(e){if(this.mouseMoveStata){var t=e.clientX-this.beginClientX;t>0&&t<=this.maxwidth?(document.getElementsByClassName("handler")[0].style.left=t+"px",document.getElementsByClassName("drag_bg")[0].style.width=t+"px"):t>this.maxwidth&&this.successFunction()}},moseUpFn:function(e){this.mouseMoveStata=!1;var t=e.clientX-this.beginClientX;if(t<this.maxwidth){var n=document.getElementsByClassName("handler")[0];n&&(n.style.left="0px",document.getElementsByClassName("drag_bg")[0].style.width="0px")}}},mounted:function(){this.maxwidth=this.$refs.dragDiv.clientWidth-this.$refs.moveDiv.clientWidth,document.getElementsByTagName("html")[0].addEventListener("mousemove",this.mouseMoveFn),document.getElementsByTagName("html")[0].addEventListener("mouseup",this.moseUpFn)}},a=o,s=(n("9533"),n("2877")),l=Object(s["a"])(a,r,i,!1,null,"4d97a499",null);t["default"]=l.exports},aea3:function(e,t,n){},af43:function(e,t,n){},b020:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("a-tabs",[n("a-tab-pane",{key:"1",attrs:{tab:"普通列表"}},[n("default-table")],1),n("a-tab-pane",{key:"2",attrs:{tab:"只读列表"}},[n("read-only-table")],1),n("a-tab-pane",{key:"3",attrs:{tab:"三级联动"}},[n("three-linkage")],1)],1)],1)},i=[],o=n("ff3c"),a=n("9ba5"),s=n("01fe"),l={name:"JeecgEditableTableExample",components:{DefaultTable:o["default"],ReadOnlyTable:a["default"],ThreeLinkage:s["default"]},data:function(){return{}},methods:{}},c=l,u=n("2877"),d=Object(u["a"])(c,r,i,!1,null,"08cae645",null);t["default"]=d.exports},b02a:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},i=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",[e._v("Redis终端")])])}],o={name:"RedisTerminal"},a=o,s=n("2877"),l=Object(s["a"])(a,r,i,!1,null,null,null);t["default"]=l.exports},b098:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-tree-select",{staticStyle:{width:"100%"},attrs:{allowClear:"",labelInValue:"",getPopupContainer:function(e){return e.parentNode},disabled:e.disabled,dropdownStyle:{maxHeight:"400px",overflow:"auto"},placeholder:e.placeholder,loadData:e.asyncLoadTreeData,value:e.treeValue,treeData:e.treeData,multiple:e.multiple},on:{change:e.onChange,search:e.onSearch}})},i=[],o=n("0fea");function a(e){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e){return u(e)||c(e)||f(e)||l()}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function u(e){if(Array.isArray(e))return h(e)}function d(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=f(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function f(e,t){if(e){if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p={name:"JTreeSelect",props:{value:{type:String,required:!1},placeholder:{type:String,default:"请选择",required:!1},dict:{type:String,default:"",required:!1},pidField:{type:String,default:"pid",required:!1},pidValue:{type:String,default:"",required:!1},disabled:{type:Boolean,default:!1,required:!1},hasChildField:{type:String,default:"",required:!1},condition:{type:String,default:"",required:!1},multiple:{type:Boolean,default:!1},loadTriggleChange:{type:Boolean,default:!1,required:!1}},data:function(){return{treeValue:null,treeData:[],url:"/sys/dict/loadTreeData",view:"/sys/dict/loadDictItem/",tableName:"",text:"",code:""}},watch:{value:function(){this.loadItemByCode()},dict:function(){this.initDictInfo(),this.loadRoot()}},created:function(){var e=this;this.validateProp().then((function(){e.initDictInfo(),e.loadRoot(),e.loadItemByCode()}))},methods:{loadItemByCode:function(){var e=this;this.value&&"0"!=this.value?Object(o["c"])("".concat(this.view).concat(this.dict),{key:this.value}).then((function(t){if(t.success){var n=e.value.split(",");e.treeValue=t.result.map((function(e,t){return{key:n[t],value:n[t],label:e}})),e.onLoadTriggleChange(t.result[0])}})):this.treeValue=null},onLoadTriggleChange:function(e){!this.multiple&&this.loadTriggleChange&&this.$emit("change",this.value,e)},initDictInfo:function(){var e=this.dict.split(",");this.tableName=e[0],this.text=e[1],this.code=e[2]},asyncLoadTreeData:function(e){var t=this;return new Promise((function(n){if(e.$vnode.children)n();else{var r=e.$vnode.key,i={pid:r,tableName:t.tableName,text:t.text,code:t.code,pidField:t.pidField,hasChildField:t.hasChildField,condition:t.condition};Object(o["c"])(t.url,i).then((function(e){if(e.success){var i,o=d(e.result);try{for(o.s();!(i=o.n()).done;){var a=i.value;a.value=a.key,0==a.leaf?a.isLeaf=!1:1==a.leaf&&(a.isLeaf=!0)}}catch(l){o.e(l)}finally{o.f()}t.addChildren(r,e.result,t.treeData),t.treeData=s(t.treeData)}n()}))}}))},addChildren:function(e,t,n){if(n&&n.length>0){var r,i=d(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(o.key==e){t&&0!=t.length?o.children=t:o.isLeaf=!0;break}this.addChildren(e,t,o.children)}}catch(a){i.e(a)}finally{i.f()}}},loadRoot:function(){var e=this,t={pid:this.pidValue,tableName:this.tableName,text:this.text,code:this.code,pidField:this.pidField,hasChildField:this.hasChildField,condition:this.condition};Object(o["c"])(this.url,t).then((function(t){if(t.success&&t.result){var n,r=d(t.result);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.value=i.key,0==i.leaf?i.isLeaf=!1:1==i.leaf&&(i.isLeaf=!0)}}catch(o){r.e(o)}finally{r.f()}e.treeData=s(t.result)}}))},onChange:function(e){e?e instanceof Array?(this.$emit("change",e.map((function(e){return e.value})).join(",")),this.treeValue=e):(this.$emit("change",e.value,e.label),this.treeValue=e):(this.$emit("change",""),this.treeValue=null)},onSearch:function(e){},getCurrTreeData:function(){return this.treeData},validateProp:function(){var e=this,t=this.condition;return new Promise((function(n,r){if(t)try{var i=JSON.parse(t);"object"==a(i)&&i?n():(e.$message.error("组件JTreeSelect-condition传值有误，需要一个json字符串!"),r())}catch(o){e.$message.error("组件JTreeSelect-condition传值有误，需要一个json字符串!"),r()}else n()}))}},model:{prop:"value",event:"change"}},m=p,g=n("2877"),v=Object(g["a"])(m,r,i,!1,null,null,null);t["default"]=v.exports},b0cd:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("j-modal",{attrs:{title:"选择部门",width:e.modalWidth,visible:e.visible,confirmLoading:e.confirmLoading,switchFullscreen:"",cancelText:"关闭"},on:{ok:e.handleSubmit,cancel:e.handleCancel}},[n("a-spin",{attrs:{tip:"Loading...",spinning:!1}},[n("a-input-search",{staticStyle:{"margin-bottom":"1px"},attrs:{placeholder:"请输入部门名称按回车进行搜索"},on:{search:e.onSearch}}),n("a-tree",{attrs:{checkable:"",treeData:e.treeData,checkStrictly:!0,autoExpandParent:e.autoExpandParent,expandedKeys:e.expandedKeys,checkedKeys:e.checkedKeys},on:{check:e.onCheck,select:e.onSelect,expand:e.onExpand},scopedSlots:e._u([{key:"title",fn:function(t){var r=t.title;return[r.indexOf(e.searchValue)>-1?n("span",[e._v("\n          "+e._s(r.substr(0,r.indexOf(e.searchValue)))+"\n          "),n("span",{staticStyle:{color:"#f50"}},[e._v(e._s(e.searchValue))]),e._v("\n          "+e._s(r.substr(r.indexOf(e.searchValue)+e.searchValue.length))+"\n        ")]):n("span",[e._v(e._s(r))])]}}])})],1)],1)},i=[],o=n("4ec3");function a(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=c(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function s(e){return d(e)||u(e)||c(e)||l()}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){if(e){if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function u(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function d(e){if(Array.isArray(e))return f(e)}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h={name:"JSelectDepartModal",props:["modalWidth","multi","rootOpened","departId"],data:function(){return{visible:!1,confirmLoading:!1,treeData:[],autoExpandParent:!0,expandedKeys:[],dataList:[],checkedKeys:[],checkedRows:[],searchValue:""}},created:function(){this.loadDepart()},watch:{departId:function(){this.initDepartComponent()},visible:{handler:function(){this.departId?this.checkedKeys=this.departId.split(","):this.checkedKeys=[]}}},methods:{show:function(){this.visible=!0,this.checkedRows=[],this.checkedKeys=[]},loadDepart:function(){var e=this;Object(o["D"])().then((function(t){if(t.success){var n=s(t.result);e.reWriterWithSlot(n),e.treeData=n,e.initDepartComponent(),e.rootOpened&&e.initExpandedKeys(t.result)}}))},initDepartComponent:function(){var e="";if(this.departId){var t,n=this.departId,r=a(this.dataList);try{for(r.s();!(t=r.n()).done;){var i=t.value;n.indexOf(i.key)>=0&&(e+=","+i.title)}}catch(o){r.e(o)}finally{r.f()}e&&(e=e.substring(1))}this.$emit("initComp",e)},reWriterWithSlot:function(e){var t,n=a(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.children&&r.children.length>0){this.reWriterWithSlot(r.children);var i=Object.assign({},r);i.children={},this.dataList.push(i)}else this.dataList.push(r),r.scopedSlots={title:"title"}}}catch(o){n.e(o)}finally{n.f()}},initExpandedKeys:function(e){if(e&&e.length>0){var t,n=[],r=a(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.children&&i.children.length>0&&n.push(i.id)}}catch(o){r.e(o)}finally{r.f()}this.expandedKeys=[].concat(n)}else this.expandedKeys=[]},onCheck:function(e,t){var n=this;if(this.multi)this.checkedKeys=e.checked,this.checkedRows=this.getCheckedRows(this.checkedKeys);else{var r=e.checked.filter((function(e){return n.checkedKeys.indexOf(e)<0}));this.checkedKeys=s(r),this.checkedRows=0===this.checkedKeys.length?[]:[t.node.dataRef]}},onSelect:function(e,t){var n=[];if(n.push(e[0]),this.checkedKeys&&0!==this.checkedKeys.length&&this.multi){var r,i=t.node.dataRef.key;if(this.checkedKeys.indexOf(i)>=0)this.checkedKeys=this.checkedKeys.filter((function(e){return e!==i}));else(r=this.checkedKeys).push.apply(r,n)}else this.checkedKeys=[].concat(n),this.checkedRows=[t.node.dataRef];this.checkedRows=this.getCheckedRows(this.checkedKeys)},onExpand:function(e){this.expandedKeys=e,this.autoExpandParent=!1},handleSubmit:function(){this.checkedKeys&&0!=this.checkedKeys.length?this.$emit("ok",this.checkedRows,this.checkedKeys.join(",")):this.$emit("ok",""),this.handleClear()},handleCancel:function(){this.handleClear()},handleClear:function(){this.visible=!1,this.checkedKeys=[]},getParentKey:function(e,t){for(var n,r=0;r<t.length;r++){var i=t[r];i.children&&(i.children.some((function(t){return t.key===e}))?n=i.key:this.getParentKey(e,i.children)&&(n=this.getParentKey(e,i.children)))}return n},onSearch:function(e){var t=this,n=this.dataList.map((function(n){return n.title.indexOf(e)>-1?t.getParentKey(n.key,t.treeData):null})).filter((function(e,t,n){return e&&n.indexOf(e)===t}));Object.assign(this,{expandedKeys:n,searchValue:e,autoExpandParent:!0})},getCheckedRows:function(e){var t,n=function e(t,n){var r,i=a(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(o.id===n)return o;if(o.children instanceof Array){var s=e(o.children,n);if(null!=s)return s}}}catch(l){i.e(l)}finally{i.f()}return null},r=[],i=a(e);try{for(i.s();!(t=i.n()).done;){var o=t.value,s=n(this.treeData,o);null!=s&&r.push(s)}}catch(l){i.e(l)}finally{i.f()}return r}}},p=h,m=n("2877"),g=Object(m["a"])(p,r,i,!1,null,"22d28285",null);t["default"]=g.exports},b277:function(e,t,n){"use strict";var r=n("08bf"),i=n.n(r);i.a},b2b7:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{staticStyle:{height:"100%","padding-bottom":"200px"},attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline",form:e.form}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:12}},[n("a-form-item",{attrs:{label:"性别"}},[n("j-dict-select-tag",{attrs:{title:"性别",dictCode:"sex",placeholder:"请选择性别"},model:{value:e.formData.sex,callback:function(t){e.$set(e.formData,"sex",t)},expression:"formData.sex"}})],1)],1),n("a-col",{attrs:{span:12}},[e._v("选中值："+e._s(e.formData.sex))])],1),n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:12}},[n("a-form-item",{attrs:{label:"字典表下拉"}},[n("j-dict-select-tag",{attrs:{placeholder:"请选择用户",dictCode:"sys_user,realname,id"},model:{value:e.formData.user,callback:function(t){e.$set(e.formData,"user",t)},expression:"formData.user"}})],1)],1),n("a-col",{attrs:{span:12}},[e._v("选中值："+e._s(e.formData.user))])],1),n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:12}},[n("a-form-item",{attrs:{label:"字典表下拉(带条件)"}},[n("j-dict-select-tag",{attrs:{placeholder:"请选择用户",dictCode:"sys_user,realname,id,username!='admin' order by create_time"},model:{value:e.formData.user2,callback:function(t){e.$set(e.formData,"user2",t)},expression:"formData.user2"}})],1)],1),n("a-col",{attrs:{span:12}},[e._v("选中值："+e._s(e.formData.user2))])],1),n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:12}},[n("a-form-item",{attrs:{label:"字典搜索(同步)"}},[n("j-search-select-tag",{attrs:{placeholder:"请做出你的选择",dictOptions:e.searchOptions},model:{value:e.formData.searchValue,callback:function(t){e.$set(e.formData,"searchValue",t)},expression:"formData.searchValue"}})],1)],1),n("a-col",{attrs:{span:12}},[e._v("选中值："+e._s(e.formData.searchValue))])],1),n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:12}},[n("a-form-item",{attrs:{label:"字典搜索(异步)"}},[n("j-search-select-tag",{attrs:{placeholder:"请做出你的选择",dict:"sys_depart,depart_name,id",async:!0},model:{value:e.formData.asyncSelectValue,callback:function(t){e.$set(e.formData,"asyncSelectValue",t)},expression:"formData.asyncSelectValue"}})],1)],1),n("a-col",{attrs:{span:12}},[e._v("选中值："+e._s(e.formData.asyncSelectValue))])],1),n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:12}},[n("a-form-item",{attrs:{label:"字典下拉(多选)"}},[n("j-multi-select-tag",{attrs:{dictCode:"sex",placeholder:"请选择"},model:{value:e.formData.selMuti,callback:function(t){e.$set(e.formData,"selMuti",t)},expression:"formData.selMuti"}})],1)],1),n("a-col",{attrs:{span:12}},[e._v("多选组合(v-model)："+e._s(e.formData.selMuti))])],1),n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:12}},[n("a-form-item",{attrs:{label:"选择部门 自定义返回值"}},[n("j-select-depart",{directives:[{name:"decorator",rawName:"v-decorator",value:["departId"],expression:"['departId']"}],attrs:{"trigger-change":!0,customReturnField:"departName"}})],1)],1),n("a-col",{attrs:{span:12}},[e._v("选中的部门ID(v-decorator):"+e._s(e.getDepartIdValue()))])],1),n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:12}},[n("a-form-item",{attrs:{label:"选择部门"}},[n("j-select-depart",{attrs:{multi:!0},model:{value:e.departId,callback:function(t){e.departId=t},expression:"departId"}})],1)],1),n("a-col",{attrs:{span:12}},[e._v("选中的部门ID(v-model):"+e._s(e.departId))])],1),n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:12}},[n("a-form-item",{attrs:{label:"选择用户"}},[n("j-select-user-by-dep",{attrs:{multi:!0},model:{value:e.userIds,callback:function(t){e.userIds=t},expression:"userIds"}})],1)],1),n("a-col",{attrs:{span:12}},[e._v("选中的用户(v-model):"+e._s(e.userIds))])],1),n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:12}},[n("a-form-item",{attrs:{label:"选择用户"}},[n("j-select-multi-user",{model:{value:e.multiUser,callback:function(t){e.multiUser=t},expression:"multiUser"}})],1)],1),n("a-col",{attrs:{span:12}},[e._v("选中的用户(v-model):"+e._s(e.multiUser))])],1),n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:12}},[n("a-form-item",{attrs:{label:"选择角色"}},[n("j-select-role",{on:{change:e.changeMe},model:{value:e.formData.selectRole,callback:function(t){e.$set(e.formData,"selectRole",t)},expression:"formData.selectRole"}})],1)],1),n("a-col",{attrs:{span:12}},[e._v("选中值："+e._s(e.formData.selectRole))])],1),n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:12}},[n("a-form-item",{attrs:{label:"选择职务"}},[n("j-select-position",{model:{value:e.formData.selectPosition,callback:function(t){e.$set(e.formData,"selectPosition",t)},expression:"formData.selectPosition"}})],1)],1),n("a-col",{attrs:{span:12}},[e._v("选中值："+e._s(e.formData.selectPosition))])],1),n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:12}},[n("a-form-item",{attrs:{label:"多选组合"}},[n("j-checkbox",{attrs:{options:e.jcheckbox.options},model:{value:e.jcheckbox.values,callback:function(t){e.$set(e.jcheckbox,"values",t)},expression:"jcheckbox.values"}})],1)],1),n("a-col",{attrs:{span:12}},[e._v("多选组合(v-model)："+e._s(e.jcheckbox.values))])],1),n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:12}},[n("a-form-item",{staticStyle:{"min-height":"120px"},attrs:{label:"代码输入框"}},[n("j-code-editor",{staticStyle:{"min-height":"100px"},attrs:{language:"javascript",fullScreen:!0},model:{value:e.jcodedditor.value,callback:function(t){e.$set(e.jcodedditor,"value",t)},expression:"jcodedditor.value"}})],1)],1),n("a-col",{attrs:{span:12}},[e._v("代码输入框(v-model)："+e._s(e.jcodedditor.value))])],1),n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:12}},[n("a-form-item",{attrs:{label:"日期选择框"}},[n("j-date",{attrs:{showTime:!0,dateFormat:"YYYY-MM-DD HH:mm:ss"},model:{value:e.jdate.value,callback:function(t){e.$set(e.jdate,"value",t)},expression:"jdate.value"}})],1)],1),n("a-col",{attrs:{span:12}},[e._v("日期选择框(v-model)："+e._s(e.jdate.value))])],1),n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:12}},[n("a-form-item",{staticStyle:{"min-height":"300px"},attrs:{label:"富文本编辑器"}},[n("j-editor",{model:{value:e.jeditor.value,callback:function(t){e.$set(e.jeditor,"value",t)},expression:"jeditor.value"}})],1)],1),n("a-col",{attrs:{span:12}},[e._v("富文本编辑器(v-model)："+e._s(e.jeditor.value))])],1),n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:12}},[n("a-form-item",{attrs:{label:"过长剪切"}},[n("j-ellipsis",{attrs:{value:e.jellipsis.value,length:30}})],1)],1),n("a-col",{attrs:{span:12}},[e._v("过长剪切："+e._s(e.jellipsis.value))])],1),n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:12}},[n("a-form-item",{attrs:{label:"滑块验证码"}},[n("j-slider",{on:{onSuccess:e.handleJSliderSuccess}})],1)],1),n("a-col",{attrs:{span:12}},[e._v("滑块验证码验证通过："+e._s(e.jslider.value))])],1),n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:12}},[n("a-form-item",{attrs:{label:"多选下拉框"}},[n("j-select-multiple",{attrs:{options:e.jselectMultiple.options},model:{value:e.jselectMultiple.value,callback:function(t){e.$set(e.jselectMultiple,"value",t)},expression:"jselectMultiple.value"}})],1)],1),n("a-col",{attrs:{span:12}},[e._v("多选下拉框(v-model)："+e._s(e.jselectMultiple.value))])],1),n("a-row",{attrs:{gutter:24}},[n("a-col",[n("a-form-item",{attrs:{label:"JModal弹窗"}},[n("a-button",{staticStyle:{"margin-right":"8px"},on:{click:function(){return e.modal.visible=!0}}},[e._v("点击弹出JModal")]),n("span",{staticStyle:{"margin-right":"8px"}},[e._v("全屏化："),n("a-switch",{model:{value:e.modal.fullscreen,callback:function(t){e.$set(e.modal,"fullscreen",t)},expression:"modal.fullscreen"}})],1),n("span",{staticStyle:{"margin-right":"8px"}},[e._v("允许切换全屏："),n("a-switch",{model:{value:e.modal.switchFullscreen,callback:function(t){e.$set(e.modal,"switchFullscreen",t)},expression:"modal.switchFullscreen"}})],1)],1),n("j-modal",{attrs:{visible:e.modal.visible,width:1200,title:e.modal.title,fullscreen:e.modal.fullscreen,switchFullscreen:e.modal.switchFullscreen},on:{"update:visible":function(t){return e.$set(e.modal,"visible",t)},"update:fullscreen":function(t){return e.$set(e.modal,"fullscreen",t)}}},[e._l(30,(function(t,r){return[n("p",{key:r},[e._v("这是主体内容，高度是自适应的")])]}))],2)],1)],1),n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:12}},[n("a-form-item",{attrs:{label:"树字典"}},[n("j-tree-dict",{attrs:{placeholder:"请选择树字典",parentCode:"B01"},model:{value:e.formData.treeDict,callback:function(t){e.$set(e.formData,"treeDict",t)},expression:"formData.treeDict"}})],1)],1),n("a-col",{attrs:{span:12}},[e._v("选中的值(v-model)："+e._s(e.formData.treeDict))])],1),n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:12}},[n("a-form-item",{attrs:{label:"下拉树选择"}},[n("j-tree-select",{attrs:{placeholder:"请选择菜单",dict:"sys_permission,name,id",pidField:"parent_id",pidValue:""},model:{value:e.formData.treeSelect,callback:function(t){e.$set(e.formData,"treeSelect",t)},expression:"formData.treeSelect"}})],1)],1),n("a-col",{attrs:{span:12}},[e._v("选中的值(v-model)："+e._s(e.formData.treeSelect))])],1),n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:12}},[n("a-form-item",{attrs:{label:"下拉树多选"}},[n("j-tree-select",{attrs:{placeholder:"请选择菜单",dict:"sys_permission,name,id",pidField:"parent_id",pidValue:"",multiple:""},model:{value:e.formData.treeSelectMultiple,callback:function(t){e.$set(e.formData,"treeSelectMultiple",t)},expression:"formData.treeSelectMultiple"}})],1)],1),n("a-col",{attrs:{span:12}},[e._v("选中的值(v-model)："+e._s(e.formData.treeSelectMultiple))])],1),n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:12}},[n("a-form-item",{attrs:{label:"分类字典树"}},[n("j-category-select",{attrs:{pcode:"A01"},model:{value:e.formData.selectCategory,callback:function(t){e.$set(e.formData,"selectCategory",t)},expression:"formData.selectCategory"}})],1)],1),n("a-col",{attrs:{span:12}},[e._v("选中的值(v-model)："+e._s(e.formData.selectCategory))])],1),n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:12}},[n("a-form-item",{attrs:{label:"cron表达式"}},[n("j-cron",{directives:[{name:"decorator",rawName:"v-decorator",value:["cronExpression",{initialValue:"* * * * * ? *"}],expression:"['cronExpression', { initialValue: '* * * * * ? *' }]"}],ref:"innerVueCron",on:{change:e.setCorn}})],1)],1)],1),n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:12}},[n("a-form-item",{attrs:{label:"高级查询"}},[n("j-super-query",{attrs:{fieldList:e.superQuery.fieldList}})],1)],1)],1),n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:12}},[n("a-form-item",{attrs:{label:"高级查询（自定义按钮）"}},[n("j-super-query",{attrs:{fieldList:e.superQuery.fieldList},scopedSlots:e._u([{key:"button",fn:function(t){var r=t.isActive,i=t.isMobile,o=t.open,a=t.reset;return[r?n("a-button-group",[n("a-button",{attrs:{type:"primary",ghost:""},on:{click:function(e){return o()}}},[n("a-icon",{attrs:{type:"plus-circle",spin:""}}),n("span",[e._v("高级查询")])],1),i?n("a-button",{attrs:{type:"primary",ghost:"",icon:"delete"},on:{click:function(e){return a()}}}):e._e()],1):n("a-button",{attrs:{type:"primary",ghost:"",icon:"clock-circle"},on:{click:function(e){return o()}}},[e._v("高级查询")])]}}])})],1)],1)],1),n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:12}},[n("a-form-item",{attrs:{label:"图片上传"}},[n("j-image-upload",{model:{value:e.imgList,callback:function(t){e.imgList=t},expression:"imgList"}})],1)],1),n("a-col",{attrs:{span:12}},[e._v("选中的值(v-model)："+e._s(e.imgList))])],1),n("a-row",{staticStyle:{"margin-top":"65px","margin-bottom":"50px"},attrs:{gutter:24}},[n("a-col",{attrs:{span:12}},[n("a-form-item",{attrs:{label:"文件上传"}},[n("j-upload",{model:{value:e.fileList,callback:function(t){e.fileList=t},expression:"fileList"}})],1)],1),n("a-col",{attrs:{span:12}},[e._v("\n          选中的值(v-model)：\n          "),e.fileList.length>0?n("j-ellipsis",{attrs:{value:e.fileList,length:30}}):e._e()],1)],1),n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:12}},[n("a-form-item",{attrs:{label:"特殊查询组件"}},[n("a-row",[n("a-col",{attrs:{span:16}},[n("j-input",{attrs:{type:e.jInput.type},model:{value:e.formData.jInput,callback:function(t){e.$set(e.formData,"jInput",t)},expression:"formData.jInput"}})],1),n("a-col",{staticStyle:{"text-align":"right"},attrs:{span:3}},[e._v("查询类型：")]),n("a-col",{attrs:{span:5}},[n("a-select",{attrs:{options:e.jInput.options},model:{value:e.jInput.type,callback:function(t){e.$set(e.jInput,"type",t)},expression:"jInput.type"}})],1)],1)],1)],1),n("a-col",{attrs:{span:12}},[e._v("输入的值(v-model)："+e._s(e.formData.jInput))])],1),n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:15}},[n("a-form-item",{staticStyle:{"min-height":"300px"},attrs:{label:"MarkdownEditor"}},[n("j-markdown-editor",{model:{value:e.content,callback:function(t){e.content=t},expression:"content"}})],1)],1),n("a-col",{attrs:{span:9}},[e._v("\n          输入的值(v-model)："+e._s(e.content)+"\n        ")])],1),n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:12}},[n("a-form-item",{attrs:{label:"省市县级联"}},[n("j-area-linkage",{attrs:{type:"cascader"},model:{value:e.formData.areaLinkage1,callback:function(t){e.$set(e.formData,"areaLinkage1",t)},expression:"formData.areaLinkage1"}})],1)],1),n("a-col",{attrs:{span:12}},[e._v("输入的值(v-model)："+e._s(e.formData.areaLinkage1))])],1),n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:12}},[n("a-form-item",{attrs:{label:"省市县级联"}},[n("j-area-linkage",{attrs:{type:"select"},model:{value:e.formData.areaLinkage2,callback:function(t){e.$set(e.formData,"areaLinkage2",t)},expression:"formData.areaLinkage2"}})],1)],1),n("a-col",{attrs:{span:12}},[e._v("输入的值(v-model)："+e._s(e.formData.areaLinkage2))])],1),n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:12}},[n("a-form-item",{attrs:{label:"功能示例：关闭当前页面"}},[n("a-button",{attrs:{type:"primary"},on:{click:e.handleCloseCurrentPage}},[e._v("点击关闭当前页面")])],1)],1)],1),n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:12}},[n("a-form-item",{attrs:{label:"JPopup示例"}},[n("j-popup",{attrs:{code:"demo",field:"name",orgFields:"name",destFields:"name"},model:{value:e.formData.jPopup,callback:function(t){e.$set(e.formData,"jPopup",t)},expression:"formData.jPopup"}})],1)],1),n("a-col",{attrs:{span:12}},[e._v("选择的值(v-model)："+e._s(e.formData.jPopup))])],1)],1)],1)])},i=[],o=n("7b16"),a=n("fe54"),s=n("c14a"),l=n("0f9d"),c=n("1e8c"),u=n("a726"),d=n("a876"),f=n("2dab"),h=n("a061"),p=n("d579"),m=n("ae14"),g=n("13d2"),v=n("4165"),b=n("1e29"),y=n("b098"),C=n("8c6e"),w=n("cf74"),x=n("e610"),I=n("61fc"),A=n("49a8"),k=n("f680"),S=n("4349"),_=n("9e8f"),T=n("6f9a"),E=n("c010"),O={name:"SelectDemo",inject:["closeCurrent"],components:{JMarkdownEditor:T["default"],JAreaLinkage:_["default"],JInput:S["default"],JCategorySelect:A["default"],JSelectPosition:I["default"],JImageUpload:x["default"],JUpload:w["default"],JTreeDict:v["default"],JDictSelectTag:o["default"],JSelectDepart:a["default"],JSelectUserByDep:s["default"],JSelectMultiUser:l["default"],JSelectRole:c["default"],JCheckbox:u["default"],JCodeEditor:d["default"],JDate:f["default"],JEditor:h["default"],JEllipsis:p["default"],JSlider:m["default"],JSelectMultiple:g["default"],JCron:b["default"],JTreeSelect:y["default"],JSuperQuery:C["default"],JMultiSelectTag:k["default"],JSearchSelectTag:E["default"]},data:function(){return{selectList:[],selectedDepUsers:"",formData:{areaLinkage1:"110105",areaLinkage2:"140221",sex:1},form:this.$form.createForm(this),departId:"4f1765520d6346f9bd9c79e2479e5b12,57197590443c44f083d42ae24ef26a2c",userIds:"admin",multiUser:"admin,jeecg",jcheckbox:{values:"spring,jeecgboot",options:[{label:"Jeecg",value:"jeecg"},{label:"Jeecg-Boot",value:"jeecgboot"},{label:"Spring",value:"spring",disabled:!0},{label:"MyBaits",value:"mybatis"}]},jcodedditor:{value:"function sayHi(word) {\n  alert(word)\n}\nsayHi('hello, world!')"},jdate:{value:"2019-5-10 15:33:06"},jeditor:{value:'<h2 style="text-align: center;">富文本编辑器</h2> <p>这里是富文本编辑器。</p>'},jellipsis:{value:"这是一串很长很长的文字段落。这是一串很长很长的文字段落。这是一串很长很长的文字段落。这是一串很长很长的文字段落。"},jslider:{value:!1},jselectMultiple:{options:[{text:"字符串",value:"String"},{text:"整数型",value:"Integer"},{text:"浮点型",value:"Double"},{text:"布尔型",value:"Boolean"}],value:"Integer,Boolean"},modal:{title:"这里是标题",visible:!1,fullscreen:!0,switchFullscreen:!0},cron:"",superQuery:{fieldList:[{type:"input",value:"name",text:"姓名"},{type:"select",value:"sex",text:"性别",dictCode:"sex"},{type:"number",value:"age",text:"年龄"},{type:"select",value:"hobby",text:"爱好",options:[{label:"音乐",value:"1"},{label:"游戏",value:"2"},{label:"电影",value:"3"},{label:"读书",value:"4"}]}]},fileList:[],imgList:[],jInput:{type:"like",options:[{value:"like",label:"模糊（like）"},{value:"ne",label:"不等于（ne）"},{value:"ge",label:"大于等于（ge）"},{value:"le",label:"小于等于（le)"}]},content:"",searchOptions:[{text:"选项一",value:"1"},{text:"选项二",value:"2"},{text:"选项三",value:"3"}]}},computed:{nameList:function(){for(var e=[],t=0;t<this.selectList.length;t++)e.push(this.selectList[t].name);return e}},methods:{handleChange:function(){},getDepartIdValue:function(){return this.form.getFieldValue("departId")},changeMe:function(){},selectOK:function(e){this.selectList=e},handleSelect:function(){this.$refs.selectDemoModal.add()},selectReset:function(){this.selectList=[]},onSearchDepUser:function(){this.$refs.JSearchUserByDep.showModal(),this.selectedDepUsers="",this.$refs.JSearchUserByDep.title="根据部门查询用户"},onSearchDepUserCallBack:function(e){this.selectedDepUsers=e},handleJSliderSuccess:function(e){this.jslider.value=e},setCorn:function(e){var t=this;this.$nextTick((function(){t.form.cronExpression=e}))},handleCloseCurrentPage:function(){this.closeCurrent()}}},R=O,N=(n("a26b"),n("2877")),L=Object(N["a"])(R,r,i,!1,null,"dc933e20",null);t["default"]=L.exports},b2da:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{md:6,sm:24}},[n("a-form-item",{attrs:{label:"订单号"}},[n("a-input",{attrs:{placeholder:"请输入订单号"},model:{value:e.queryParam.orderCode,callback:function(t){e.$set(e.queryParam,"orderCode",t)},expression:"queryParam.orderCode"}})],1)],1),n("a-col",{attrs:{md:6,sm:24}},[n("a-form-item",{attrs:{label:"订单类型"}},[n("a-select",{attrs:{placeholder:"请输入订单类型"},model:{value:e.queryParam.ctype,callback:function(t){e.$set(e.queryParam,"ctype",t)},expression:"queryParam.ctype"}},[n("a-select-option",{attrs:{value:"1"}},[e._v("国内订单")]),n("a-select-option",{attrs:{value:"2"}},[e._v("国际订单")])],1)],1)],1),n("a-col",{attrs:{md:6,sm:24}},[n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")])],1)])],1)],1)],1),n("div",{staticClass:"table-operator"},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("新增")]),e.selectedRowKeys.length>0?n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:e.batchDel}},[n("a-icon",{attrs:{type:"delete"}}),e._v("\n          删除\n        ")],1)],1),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v(" 批量操作\n        "),n("a-icon",{attrs:{type:"down"}})],1)],1):e._e()],1),n("div",[n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),n("span",[e._v("已选择")]),n("a",{staticStyle:{"font-weight":"600"}},[e._v("\n        "+e._s(e.selectedRowKeys.length)+"\n      ")]),n("span",[e._v("项")]),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])]),n("a-table",{ref:"table",attrs:{size:"middle",bordered:"",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link"},[e._v("更多 "),n("a-icon",{attrs:{type:"down"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete(r.id)}}},[n("a",[e._v("删除")])])],1)],1)],1)],1)}}])})],1),n("jeecg-order-modal-for-j-editable-table",{ref:"modalForm",on:{ok:e.modalFormOk}})],1)},i=[],o=n("b65a"),a=n("b8ad3"),s={name:"JeecgOrderMainListForJEditableTable",mixins:[o["a"]],components:{JeecgOrderModalForJEditableTable:a["default"]},data:function(){return{description:"订单管理页面",url:{list:"/test/jeecgOrderMain/list",delete:"/test/jeecgOrderMain/delete",deleteBatch:"/test/jeecgOrderMain/deleteBatch"},columns:[{title:"#",dataIndex:"",key:"rowIndex",width:60,align:"center",customRender:function(e,t,n){return parseInt(n)+1}},{title:"订单号",align:"center",dataIndex:"orderCode"},{title:"订单类型",align:"center",dataIndex:"ctype",customRender:function(e){var t="";return"1"===e?t="国内订单":"2"===e&&(t="国际订单"),t}},{title:"订单日期",align:"center",dataIndex:"orderDate"},{title:"订单金额",align:"center",dataIndex:"orderMoney"},{title:"订单备注",align:"center",dataIndex:"content"},{title:"操作",dataIndex:"action",align:"center",scopedSlots:{customRender:"action"}}]}},methods:{initDictConfig:function(){}}},l=s,c=(n("59a3"),n("2877")),u=Object(c["a"])(l,r,i,!1,null,"34e080b0",null);t["default"]=u.exports},b3c4:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-modal",{attrs:{centered:"",title:e.title,width:1e3,visible:e.visible,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchQuery(t)}}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:10}},[n("a-form-item",{attrs:{label:"用户账号"}},[n("a-input",{attrs:{placeholder:"请输入用户账号"},model:{value:e.queryParam.username,callback:function(t){e.$set(e.queryParam,"username",t)},expression:"queryParam.username"}})],1)],1),n("a-col",{attrs:{span:8}},[n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")])],1)])],1)],1)],1),n("div",[n("a-table",{attrs:{size:"small",bordered:"",rowKey:"id",columns:e.columns1,dataSource:e.dataSource1,pagination:e.ipagination,loading:e.loading,scroll:{y:240},rowSelection:{selectedRowKeys:e.selectedRowKeys,onSelectAll:e.onSelectAll,onSelect:e.onSelect,onChange:e.onSelectChange}},on:{change:e.handleTableChange}})],1)])],1)},i=[],o=n("ca00"),a=n("0fea"),s={name:"SelectUserModal",data:function(){return{title:"添加已有用户",names:[],visible:!1,placement:"right",description:"",queryParam:{},columns1:[{title:"#",dataIndex:"",key:"rowIndex",width:50,align:"center",customRender:function(e,t,n){return parseInt(n)+1}},{title:"用户账号",align:"center",width:100,dataIndex:"username"},{title:"用户名称",align:"center",width:100,dataIndex:"realname"},{title:"性别",align:"center",width:100,dataIndex:"sex_dictText"},{title:"电话",align:"center",width:100,dataIndex:"phone"},{title:"部门",align:"center",width:150,dataIndex:"orgCode"}],columns2:[{title:"用户账号",align:"center",dataIndex:"username"},{title:"用户名称",align:"center",dataIndex:"realname"},{title:"操作",dataIndex:"action",align:"center",width:100,scopedSlots:{customRender:"action"}}],dataSource1:[],dataSource2:[],ipagination:{current:1,pageSize:10,pageSizeOptions:["10","20","30"],showTotal:function(e,t){return t[0]+"-"+t[1]+" 共"+e+"条"},showQuickJumper:!0,showSizeChanger:!0,total:0},isorter:{column:"createTime",order:"desc"},loading:!1,selectedRowKeys:[],selectedRows:[],url:{list:"/sys/user/list"}}},created:function(){this.loadData()},methods:{searchQuery:function(){this.loadData(1)},searchReset:function(){this.queryParam={},this.loadData(1)},handleCancel:function(){this.visible=!1},handleOk:function(){this.dataSource2=this.selectedRowKeys,this.$emit("selectFinished",this.dataSource2),this.visible=!1},add:function(){this.visible=!0},loadData:function(e){var t=this;1===e&&(this.ipagination.current=1);var n=this.getQueryParams();Object(a["c"])(this.url.list,n).then((function(e){e.success&&(t.dataSource1=e.result.records,t.ipagination.total=e.result.total)}))},getQueryParams:function(){var e=Object.assign({},this.queryParam,this.isorter);return e.field=this.getQueryField(),e.pageNo=this.ipagination.current,e.pageSize=this.ipagination.pageSize,Object(o["d"])(e)},getQueryField:function(){},onSelectAll:function(e,t,n){if(!0===e)for(var r=0;r<n.length;r++)this.dataSource2.push(n[r]);else for(var i=0;i<n.length;i++)this.dataSource2.splice(this.dataSource2.indexOf(n[i]),1)},onSelect:function(e,t){if(!0===t)this.dataSource2.push(e);else{var n=this.dataSource2.indexOf(e);n>=0&&this.dataSource2.splice(this.dataSource2.indexOf(e),1)}},onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectionRows=t},onClearSelected:function(){this.selectedRowKeys=[],this.selectionRows=[]},handleDelete:function(e){this.dataSource2.splice(this.dataSource2.indexOf(e),1)},handleTableChange:function(e,t,n){Object.keys(n).length>0&&(this.isorter.column=n.field,this.isorter.order="ascend"==n.order?"asc":"desc"),this.ipagination=e,this.loadData()}}},l=s,c=(n("02d6"),n("2877")),u=Object(c["a"])(l,r,i,!1,null,"59a9da12",null);t["default"]=u.exports},b4690:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-modal",{attrs:{width:e.modalWidth,visible:e.visible,title:"数据对比窗口",confirmLoading:e.confirmLoading,cancelText:"取消"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{staticClass:"form",attrs:{form:e.form},on:{submit:e.handleSubmit}},[n("a-row",{staticClass:"form-row",attrs:{gutter:24}},[n("a-col",{attrs:{md:12,sm:8}},[n("a-form-item",{attrs:{label:"数据库表名","label-col":{span:6},"wrapper-col":{span:15}}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["dataTale",{}],expression:"[ 'dataTale', {}]"}],attrs:{placeholder:"请输入数据库表名",disabled:""},on:{blur:e.handleTableBlur}})],1)],1),n("a-col",{attrs:{md:12,sm:8}},[n("a-form-item",{attrs:{label:"数据ID","label-col":{span:5},"wrapper-col":{span:15}}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["dataId",{}],expression:"[ 'dataId', {}]"}],attrs:{placeholder:"请输入数据ID",disabled:""},on:{blur:e.handleIdBlur}})],1)],1)],1),n("a-row",{staticClass:"form-row",attrs:{gutter:24}},[n("a-col",{attrs:{md:12,sm:8}},[n("a-form-item",{attrs:{label:"版本号1","label-col":{span:6},"wrapper-col":{span:15}}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["dataVersion1",{}],expression:"[ 'dataVersion1', {}]"}],attrs:{placeholder:"请选择版本号"},on:{change:e.handleChange1}},e._l(e.DataVersionList,(function(t,r){return n("a-select-option",{key:r.toString(),attrs:{value:t.id}},[e._v("\n                  "+e._s(t.dataVersion)+"\n                ")])})),1)],1)],1),n("a-col",{attrs:{md:12,sm:8}},[n("a-form-item",{attrs:{label:"版本号2","label-col":{span:5},"wrapper-col":{span:15}}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["dataVersion2",{}],expression:"[ 'dataVersion2', {}]"}],attrs:{placeholder:"请选择版本号"},on:{change:e.handleChange2}},e._l(e.DataVersionList,(function(t,r){return n("a-select-option",{key:r.toString(),attrs:{value:t.id}},[e._v("\n                  "+e._s(t.dataVersion)+"\n                ")])})),1)],1)],1)],1)],1)],1),n("data-log-compare-modal",{ref:"modal",on:{ok:e.modalFormOk}})],1)],1)},i=[],o=n("0fea"),a=n("fcbc"),s={name:"DataLogModal",components:{DataLogCompareModal:a["default"]},dataId1:"",dataId2:"",dataTable1:"",dataID3:"",data:function(){return{modalWidth:700,modaltoggleFlag:!0,confirmDirty:!1,title:"操作",visible:!1,model:{},confirmLoading:!1,headers:{},form:this.$form.createForm(this),url:{queryDataVerListUrl:"/sys/dataLog/queryDataVerList"},DataVersionList:[]}},created:function(){},methods:{addModal:function(e){var t=this,n=e[0].dataTable,r=e[0].dataId,i=e[0].dataVersion,o=e[1].dataVersion;this.dataId1=e[0].id,this.dataId2=e[1].id,this.dataTable1=e[0].dataTable,this.dataID3=e[0].dataId,this.initDataVersionList(),this.form.resetFields(),this.visible=!0,this.$nextTick((function(){t.form.setFieldsValue({dataTale:n,dataId:r,dataVersion1:i,dataVersion2:o})}))},handleOk:function(){this.close(),this.$refs.modal.compareModal(this.dataId1,this.dataId2),this.$refs.modal.title="数据比较"},handleCancel:function(){this.close()},handleSubmit:function(){},close:function(){this.$emit("close"),this.visible=!1,this.disableSubmit=!1},modalFormOk:function(){},initDataVersionList:function(){var e=this,t=this;Object(o["c"])(t.url.queryDataVerListUrl,{dataTable:this.dataTable1,dataId:this.dataID3}).then((function(t){t.success?e.DataVersionList=t.result:(e.DataVersionList=[],e.dataId1="",e.dataId2="")}))},handleChange1:function(e){this.dataId1=e},handleChange2:function(e){this.dataId2=e},handleTableBlur:function(e){this.dataTable1=e.target.value,this.initDataVersionList()},handleIdBlur:function(e){this.dataID3=e.target.value,this.initDataVersionList()}}},l=s,c=n("2877"),u=Object(c["a"])(l,r,i,!1,null,"137f2c74",null);t["default"]=u.exports},b4e3:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchQuery(t)}}},[n("a-row",{attrs:{gutter:12}},[n("a-col",{attrs:{md:7,sm:8}},[n("a-form-item",{attrs:{label:"字典名称",labelCol:{span:6},wrapperCol:{span:14,offset:1}}},[n("a-input",{attrs:{placeholder:"请输入字典名称"},model:{value:e.queryParam.dictName,callback:function(t){e.$set(e.queryParam,"dictName",t)},expression:"queryParam.dictName"}})],1)],1),n("a-col",{attrs:{md:7,sm:8}},[n("a-form-item",{attrs:{label:"字典编号",labelCol:{span:6},wrapperCol:{span:14,offset:1}}},[n("a-input",{attrs:{placeholder:"请输入字典编号"},model:{value:e.queryParam.dictCode,callback:function(t){e.$set(e.queryParam,"dictCode",t)},expression:"queryParam.dictCode"}})],1)],1),n("a-col",{attrs:{md:7,sm:8}},[n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")])],1)])],1)],1),n("div",{staticClass:"table-operator",staticStyle:{"border-top":"5px"}},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("添加")]),n("a-button",{attrs:{type:"primary",icon:"download"},on:{click:function(t){return e.handleExportXls("字典信息")}}},[e._v("导出")]),n("a-upload",{attrs:{name:"file",showUploadList:!1,multiple:!1,headers:e.tokenHeader,action:e.importExcelUrl},on:{change:e.handleImportExcel}},[n("a-button",{attrs:{type:"primary",icon:"import"}},[e._v("导入")])],1),n("a-button",{attrs:{type:"primary",icon:"sync"},on:{click:function(t){return e.refleshCache()}}},[e._v("刷新缓存")]),n("a-button",{attrs:{type:"primary",icon:"hdd"},on:{click:e.openDeleteList}},[e._v("回收站")])],1),n("a-table",{ref:"table",attrs:{rowKey:"id",size:"middle",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[n("a-icon",{attrs:{type:"edit"}}),e._v("\n          编辑\n        ")],1),n("a-divider",{attrs:{type:"vertical"}}),n("a",{on:{click:function(t){return e.editDictItem(r)}}},[n("a-icon",{attrs:{type:"setting"}}),e._v(" 字典配置")],1),n("a-divider",{attrs:{type:"vertical"}}),n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete(r.id)}}},[n("a",[e._v("删除")])])],1)}}])})],1),n("dict-modal",{ref:"modalForm",on:{ok:e.modalFormOk}}),n("dict-item-list",{ref:"dictItemList"}),n("dict-delete-list",{ref:"dictDeleteList",on:{refresh:function(){return e.loadData()}}})],1)},i=[],o=n("ca00"),a=n("b65a"),s=n("57ed"),l=n("59a0"),c=n("3b0e"),u=n("0fea"),d=n("9fb0"),f=n("2b0e"),h={name:"DictList",mixins:[a["a"]],components:{DictModal:s["default"],DictItemList:l["default"],DictDeleteList:c["default"]},data:function(){return{description:"这是数据字典页面",visible:!1,queryParam:{dictCode:"",dictName:""},columns:[{title:"#",dataIndex:"",key:"rowIndex",width:120,align:"center",customRender:function(e,t,n){return parseInt(n)+1}},{title:"字典名称",align:"left",dataIndex:"dictName"},{title:"字典编号",align:"left",dataIndex:"dictCode"},{title:"描述",align:"left",dataIndex:"description"},{title:"操作",dataIndex:"action",align:"center",scopedSlots:{customRender:"action"}}],dict:"",labelCol:{xs:{span:8},sm:{span:5}},wrapperCol:{xs:{span:16},sm:{span:19}},url:{list:"/sys/dict/list",delete:"/sys/dict/delete",exportXlsUrl:"sys/dict/exportXls",importExcelUrl:"sys/dict/importExcel",refleshCache:"sys/dict/refleshCache",queryAllDictItems:"sys/dict/queryAllDictItems"}}},computed:{importExcelUrl:function(){return"".concat(window._CONFIG["domianURL"],"/").concat(this.url.importExcelUrl)}},methods:{getQueryParams:function(){var e=Object.assign({},this.queryParam,this.isorter);return e.field=this.getQueryField(),e.pageNo=this.ipagination.current,e.pageSize=this.ipagination.pageSize,this.superQueryParams&&(e["superQueryParams"]=encodeURI(this.superQueryParams),e["superQueryMatchType"]=this.superQueryMatchType),Object(o["d"])(e)},cancelDict:function(){this.dict="",this.visible=!1,this.loadData()},editDictItem:function(e){this.$refs.dictItemList.edit(e)},searchReset:function(){var e=this;e.queryParam.dictName="",e.queryParam.dictCode="",e.loadData(this.ipagination.current)},openDeleteList:function(){this.$refs.dictDeleteList.show()},refleshCache:function(){var e=this;Object(u["c"])(this.url.refleshCache).then((function(t){t.success&&(Object(u["c"])(e.url.queryAllDictItems).then((function(e){e.success&&(f["default"].ls.remove(d["q"]),f["default"].ls.set(d["q"],e.result,6048e5))})),e.$message.success("刷新缓存完成！"))})).catch((function(t){e.$message.warn("刷新缓存失败！")}))}},watch:{openKeys:function(e){}}},p=h,m=(n("6147"),n("2877")),g=Object(m["a"])(p,r,i,!1,null,"40c6a0d1",null);t["default"]=g.exports},b62c:function(e,t,n){},b644:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=this,n=t.$createElement,r=t._self._c||n;return r("page-layout",{attrs:{title:"单号：234231029431",logo:"https://gw.alipayobjects.com/zos/rmsportal/nxkuOJlFJuAUhzlMTCEe.png"}},[r("detail-list",{staticClass:"detail-layout",attrs:{slot:"headerContent",size:"small",col:2},slot:"headerContent"},[r("detail-list-item",{attrs:{term:"创建人"}},[t._v("曲丽丽")]),r("detail-list-item",{attrs:{term:"订购产品"}},[t._v("XX服务")]),r("detail-list-item",{attrs:{term:"创建时间"}},[t._v("2018-08-07")]),r("detail-list-item",{attrs:{term:"关联单据"}},[r("a",[t._v("12421")])]),r("detail-list-item",{attrs:{term:"生效日期"}},[t._v("2018-08-07 ~ 2018-12-11")]),r("detail-list-item",{attrs:{term:"备注"}},[t._v("请于两个工作日内确认")])],1),r("a-row",{staticClass:"status-list",attrs:{slot:"extra"},slot:"extra"},[r("a-col",{attrs:{xs:12,sm:12}},[r("div",{staticClass:"text"},[t._v("状态")]),r("div",{staticClass:"heading"},[t._v("待审批")])]),r("a-col",{attrs:{xs:12,sm:12}},[r("div",{staticClass:"text"},[t._v("订单金额")]),r("div",{staticClass:"heading"},[t._v("¥ 568.08")])])],1),r("template",{slot:"action"},[r("a-button-group",{staticStyle:{"margin-right":"4px"}},[r("a-button",[t._v("操作")]),r("a-button",[t._v("操作")]),r("a-button",[r("a-icon",{attrs:{type:"ellipsis"}})],1)],1),r("a-button",{attrs:{type:"primary"}},[t._v("主操作")])],1),r("a-card",{attrs:{bordered:!1,title:"流程进度"}},[r("a-steps",{attrs:{direction:t.isMobile()?"vertical":"horizontal",current:1,progressDot:""}},[r("a-step",{attrs:{title:"创建项目"}}),r("a-step",{attrs:{title:"部门初审"}}),r("a-step",{attrs:{title:"财务复核"}}),r("a-step",{attrs:{title:"完成"}})],1)],1),r("a-card",{staticStyle:{"margin-top":"24px"},attrs:{bordered:!1,title:"用户信息"}},[r("detail-list",[r("detail-list-item",{attrs:{term:"用户姓名"}},[t._v("付晓晓")]),r("detail-list-item",{attrs:{term:"会员卡号"}},[t._v("32943898021309809423")]),r("detail-list-item",{attrs:{term:"身份证"}},[t._v("3321944288191034921")]),r("detail-list-item",{attrs:{term:"联系方式"}},[t._v("18112345678")]),r("detail-list-item",{attrs:{term:"联系地址"}},[t._v("浙江省杭州市西湖区黄姑山路工专路交叉路口")])],1),r("detail-list",{attrs:{title:"信息组"}},[r("detail-list-item",{attrs:{term:"某某数据"}},[t._v("725")]),r("detail-list-item",{attrs:{term:"该数据更新时间"}},[t._v("2018-08-08")]),r("detail-list-item",[t._v(" ")]),r("detail-list-item",{attrs:{term:"某某数据"}},[t._v("725")]),r("detail-list-item",{attrs:{term:"该数据更新时间"}},[t._v("2018-08-08")]),r("detail-list-item",[t._v(" ")])],1),r("a-card",{attrs:{type:"inner",title:"多层信息组"}},[r("detail-list",{attrs:{title:"组名称",size:"small"}},[r("detail-list-item",{attrs:{term:"负责人"}},[t._v("林东东")]),r("detail-list-item",{attrs:{term:"角色码"}},[t._v("1234567")]),r("detail-list-item",{attrs:{term:"所属部门"}},[t._v("XX公司-YY部")]),r("detail-list-item",{attrs:{term:"过期时间"}},[t._v("2018-08-08")]),r("detail-list-item",{attrs:{term:"描述"}},[t._v("这段描述很长很长很长很长很长很长很长很长很长很长很长很长很长很长...")])],1),r("a-divider",{staticStyle:{margin:"16px 0"}}),r("detail-list",{attrs:{title:"组名称",size:"small",col:1}},[r("detail-list-item",{attrs:{term:"学名"}},[t._v("\tCitrullus lanatus (Thunb.) Matsum. et Nakai一年生蔓生藤本；茎、枝粗壮，具明显的棱。卷须较粗..")])],1),r("a-divider",{staticStyle:{margin:"16px 0"}}),r("detail-list",{attrs:{title:"组名称",size:"small",col:2}},[r("detail-list-item",{attrs:{term:"负责人"}},[t._v("付小小")]),r("detail-list-item",{attrs:{term:"角色码"}},[t._v("1234567")])],1)],1)],1),r("a-card",{staticStyle:{"margin-top":"24px"},attrs:{bordered:!1,title:"用户近半年来电记录"}},[r("div",{staticClass:"no-data"},[r("a-icon",{attrs:{type:"frown-o"}}),t._v("暂无数据")],1)]),r("a-card",{staticStyle:{"margin-top":"24px"},attrs:{bordered:!1,tabList:t.tabList,activeTabKey:t.activeTabKey},on:{tabChange:function(t){e.activeTabKey=t}}},["1"===t.activeTabKey?r("a-table",{attrs:{columns:t.operationColumns,dataSource:t.operation1,pagination:!1},scopedSlots:t._u([{key:"status",fn:function(e){return[r("a-badge",{attrs:{status:t._f("statusTypeFilter")(e),text:t._f("statusFilter")(e)}})]}}],null,!1,106314470)}):t._e(),"2"===t.activeTabKey?r("a-table",{attrs:{columns:t.operationColumns,dataSource:t.operation2,pagination:!1},scopedSlots:t._u([{key:"status",fn:function(e){return[r("a-badge",{attrs:{status:t._f("statusTypeFilter")(e),text:t._f("statusFilter")(e)}})]}}],null,!1,106314470)}):t._e(),"3"===t.activeTabKey?r("a-table",{attrs:{columns:t.operationColumns,dataSource:t.operation3,pagination:!1},scopedSlots:t._u([{key:"status",fn:function(e){return[r("a-badge",{attrs:{status:t._f("statusTypeFilter")(e),text:t._f("statusFilter")(e)}})]}}],null,!1,106314470)}):t._e()],1)],2)},i=[],o=n("ac0d"),a=n("b445"),s=n("c16f"),l=s["default"].Item,c={name:"Advanced",components:{PageLayout:a["default"],DetailList:s["default"],DetailListItem:l},mixins:[o["b"]],data:function(){return{tabList:[{key:"1",tab:"操作日志一"},{key:"2",tab:"操作日志二"},{key:"3",tab:"操作日志三"}],activeTabKey:"1",operationColumns:[{title:"操作类型",dataIndex:"type",key:"type"},{title:"操作人",dataIndex:"name",key:"name"},{title:"执行结果",dataIndex:"status",key:"status",scopedSlots:{customRender:"status"}},{title:"操作时间",dataIndex:"updatedAt",key:"updatedAt"},{title:"备注",dataIndex:"remark",key:"remark"}],operation1:[{key:"op1",type:"订购关系生效",name:"曲丽丽",status:"agree",updatedAt:"2017-10-03  19:23:12",remark:"-"},{key:"op2",type:"财务复审",name:"付小小",status:"reject",updatedAt:"2017-10-03  19:23:12",remark:"不通过原因"},{key:"op3",type:"部门初审",name:"周毛毛",status:"agree",updatedAt:"2017-10-03  19:23:12",remark:"-"},{key:"op4",type:"提交订单",name:"林东东",status:"agree",updatedAt:"2017-10-03  19:23:12",remark:"很棒"},{key:"op5",type:"创建订单",name:"汗牙牙",status:"agree",updatedAt:"2017-10-03  19:23:12",remark:"-"}],operation2:[{key:"op2",type:"财务复审",name:"付小小",status:"reject",updatedAt:"2017-10-03  19:23:12",remark:"不通过原因"},{key:"op3",type:"部门初审",name:"周毛毛",status:"agree",updatedAt:"2017-10-03  19:23:12",remark:"-"},{key:"op4",type:"提交订单",name:"林东东",status:"agree",updatedAt:"2017-10-03  19:23:12",remark:"很棒"}],operation3:[{key:"op2",type:"财务复审",name:"付小小",status:"reject",updatedAt:"2017-10-03  19:23:12",remark:"不通过原因"},{key:"op3",type:"部门初审",name:"周毛毛",status:"agree",updatedAt:"2017-10-03  19:23:12",remark:"-"}]}},filters:{statusFilter:function(e){var t={agree:"成功",reject:"驳回"};return t[e]},statusTypeFilter:function(e){var t={agree:"success",reject:"error"};return t[e]}}},u=c,d=(n("6e44"),n("2877")),f=Object(d["a"])(u,r,i,!1,null,"6691252a",null);t["default"]=f.exports},b80a:function(e,t,n){},b88f:function(e,t,n){},b8ad3:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:e.title,width:1200,visible:e.visible,maskClosable:!1,confirmLoading:e.confirmLoading},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-row",{staticClass:"form-row",attrs:{gutter:0}},[n("a-col",{attrs:{lg:8}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"订单号"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["orderCode",{rules:[{required:!0,message:"请输入订单号!"}]}],expression:"['orderCode', {rules: [{ required: true, message: '请输入订单号!' }]}]"}],attrs:{placeholder:"请输入订单号"}})],1)],1),n("a-col",{attrs:{lg:8}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"订单类型"}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["ctype",{}],expression:"['ctype',{}]"}],attrs:{placeholder:"请选择订单类型"}},[n("a-select-option",{attrs:{value:"1"}},[e._v("国内订单")]),n("a-select-option",{attrs:{value:"2"}},[e._v("国际订单")])],1)],1)],1),n("a-col",{attrs:{lg:8}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"订单日期"}},[n("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["orderDate",{}],expression:"[ 'orderDate',{}]"}],staticStyle:{width:"100%"},attrs:{showTime:"",format:"YYYY-MM-DD HH:mm:ss"}})],1)],1)],1),n("a-row",{staticClass:"form-row",attrs:{gutter:0}},[n("a-col",{attrs:{lg:8}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"订单金额"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["orderMoney",{}],expression:"[ 'orderMoney', {}]"}],staticStyle:{width:"100%"},attrs:{placeholder:"请输入订单金额"}})],1)],1),n("a-col",{attrs:{lg:8}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"订单备注"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["content",{}],expression:"['content', {}]"}],attrs:{placeholder:"请输入订单备注"}})],1)],1)],1)],1),n("a-tabs",{on:{change:e.handleChangeTabs},model:{value:e.activeKey,callback:function(t){e.activeKey=t},expression:"activeKey"}},[n("a-tab-pane",{key:"1",attrs:{tab:"客户信息",forceRender:!0}},[n("j-editable-table",{ref:"editableTable1",attrs:{loading:e.table1.loading,columns:e.table1.columns,dataSource:e.table1.dataSource,maxHeight:300,rowNumber:!0,rowSelection:!0,actionButton:!0}})],1),n("a-tab-pane",{key:"2",attrs:{tab:"机票信息",forceRender:!0}},[n("j-editable-table",{ref:"editableTable2",attrs:{loading:e.table2.loading,columns:e.table2.columns,dataSource:e.table2.dataSource,maxHeight:300,rowNumber:!0,rowSelection:!0,actionButton:!0}})],1)],1)],1)],1)},i=[],o=n("7550"),a=n("e2e0"),s=n("0fea"),l=n("2dab"),c=n("88bc"),u=n.n(c),d=n("c1df"),f=n.n(d);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g={name:"JeecgOrderModalForJEditableTable",components:{JDate:l["default"],JEditableTable:o["default"]},data:function(){return{title:"操作",visible:!1,form:this.$form.createForm(this),confirmLoading:!1,model:{},labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:18}},activeKey:"1",table1:{loading:!1,dataSource:[],columns:[{title:"客户名",key:"name",width:"24%",type:a["a"].input,defaultValue:"",placeholder:"请输入${title}",validateRules:[{required:!0,message:"${title}不能为空"}]},{title:"性别",key:"sex",width:"18%",type:a["a"].select,options:[{title:"男",value:"1"},{title:"女",value:"2"}],defaultValue:"",placeholder:"请选择${title}"},{title:"身份证号",key:"idcard",width:"24%",type:a["a"].input,defaultValue:"",placeholder:"请输入${title}",validateRules:[{pattern:"^\\d{6}(18|19|20)?\\d{2}(0[1-9]|1[012])(0[1-9]|[12]\\d|3[01])\\d{3}(\\d|[xX])$",message:"${title}格式不正确"}]},{title:"手机号",key:"telphone",width:"24%",type:a["a"].input,defaultValue:"",placeholder:"请输入${title}",validateRules:[{pattern:"^1(3|4|5|7|8)\\d{9}$",message:"${title}格式不正确"}]}]},table2:{loading:!1,dataSource:[],columns:[{title:"航班号",key:"ticketCode",width:"40%",type:a["a"].input,defaultValue:"",placeholder:"请输入${title}",validateRules:[{required:!0,message:"${title}不能为空"}]},{title:"航班时间",key:"tickectDate",width:"30%",type:a["a"].date,placeholder:"请选择${title}",defaultValue:""}]},url:{add:"/test/jeecgOrderMain/add",edit:"/test/jeecgOrderMain/edit",orderCustomerList:"/test/jeecgOrderMain/queryOrderCustomerListByMainId",orderTicketList:"/test/jeecgOrderMain/queryOrderTicketListByMainId"}}},created:function(){},methods:{getAllTable:function(){return Promise.all([Object(a["c"])(this,"editableTable1"),Object(a["c"])(this,"editableTable2")])},add:function(){this.getAllTable().then((function(e){e[0].add(),e[1].add()})),this.edit({})},edit:function(e){var t=this;if(this.visible=!0,this.activeKey="1",this.form.resetFields(),this.model=Object.assign({},e),this.$nextTick((function(){t.form.setFieldsValue(u()(t.model,"orderCode","ctype","orderMoney","content")),t.form.setFieldsValue({orderDate:t.model.orderDate?f()(t.model.orderDate):null})})),this.model.id){var n={id:this.model.id};this.requestTableData(this.url.orderCustomerList,n,this.table1),this.requestTableData(this.url.orderTicketList,n,this.table2)}},close:function(){this.visible=!1,this.getAllTable().then((function(e){e[0].initialize(),e[1].initialize()})),this.$emit("close")},requestTableData:function(e,t,n){n.loading=!0,Object(s["c"])(e,t).then((function(e){n.dataSource=e.result||[]})).finally((function(){n.loading=!1}))},handleOk:function(){this.validateFields()},handleCancel:function(){this.close()},handleChangeTabs:function(e){Object(a["c"])(this,"editableTable".concat(e)).then((function(e){e.resetScrollTop()}))},validateFields:function(){var e=this;this.getAllTable().then((function(t){return Object(a["d"])(e.form,t)})).then((function(t){var n=e.classifyIntoFormData(t);return e.requestAddOrEdit(n)})).catch((function(t){t.error===a["b"]&&(e.activeKey=null==t.index?e.activeKey:(t.index+1).toString())}))},classifyIntoFormData:function(e){var t=Object.assign(this.model,e.formValue);return t.orderDate=t.orderDate?t.orderDate.format("YYYY-MM-DD HH:mm:ss"):null,p(p({},t),{},{jeecgOrderCustomerList:e.tablesValue[0].values,jeecgOrderTicketList:e.tablesValue[1].values})},requestAddOrEdit:function(e){var t=this,n=this.url.add,r="post";this.model.id&&(n=this.url.edit,r="put"),this.confirmLoading=!0,Object(s["h"])(n,e,r).then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok"),t.close()):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1}))}}},v=g,b=n("2877"),y=Object(b["a"])(v,r,i,!1,null,"0498ca2d",null);t["default"]=y.exports},b8c5:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-list",[n("a-list-item")],1)},i=[],o={name:"Project"},a=o,s=n("2877"),l=Object(s["a"])(a,r,i,!1,null,"7eb402a6",null);t["default"]=l.exports},b8d2:function(e,t,n){"use strict";var r=n("6610"),i=n.n(r);i.a},b8ea:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-list",[n("a-list-item")],1)},i=[],o=n("fe2b"),a=n("a6b6"),s={name:"Article",components:{AList:o["b"],AListItem:a["a"]}},l=s,c=n("2877"),u=Object(c["a"])(l,r,i,!1,null,"1df00660",null);t["default"]=u.exports},b90e:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-drawer",{attrs:{title:e.title,width:e.drawerWidth,visible:e.visible,confirmLoading:e.confirmLoading},on:{close:e.handleCancel}},[n("div",{style:{width:"100%",border:"1px solid #e9e9e9",padding:"10px 16px",background:"#fff"}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{label:"菜单类型",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["menuType",{initialValue:e.localMenuType}],expression:"['menuType',{'initialValue':localMenuType}]"}],on:{change:e.onChangeMenuType}},[n("a-radio",{attrs:{value:0}},[e._v("一级菜单")]),n("a-radio",{attrs:{value:1}},[e._v("子菜单")]),n("a-radio",{attrs:{value:2}},[e._v("按钮/权限")])],1)],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:e.menuLabel,hasFeedback:""}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",e.validatorRules.name],expression:"[ 'name', validatorRules.name]"}],attrs:{placeholder:"请输入菜单名称",readOnly:e.disableSubmit}})],1),n("a-form-item",{directives:[{name:"show",rawName:"v-show",value:0!=e.localMenuType,expression:"localMenuType!=0"}],attrs:{label:"上级菜单",labelCol:e.labelCol,wrapperCol:e.wrapperCol,"validate-status":e.validateStatus,hasFeedback:!0,required:!0}},[n("span",{attrs:{slot:"help"},slot:"help"},[e._v(e._s("error"==e.validateStatus?"请选择上级菜单":"  "))]),n("a-tree-select",{staticStyle:{width:"100%"},attrs:{dropdownStyle:{maxHeight:"200px",overflow:"auto"},treeData:e.treeData,placeholder:"请选择父级菜单",disabled:e.disableSubmit},on:{change:e.handleParentIdChange},model:{value:e.model.parentId,callback:function(t){e.$set(e.model,"parentId",t)},expression:"model.parentId"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"菜单路径"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["url",e.validatorRules.url],expression:"[ 'url',validatorRules.url]"}],attrs:{placeholder:"请输入菜单路径",readOnly:e.disableSubmit}})],1),n("a-form-item",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"前端组件"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["component",e.validatorRules.component],expression:"[ 'component',validatorRules.component]"}],attrs:{placeholder:"请输入前端组件",readOnly:e.disableSubmit}})],1),n("a-form-item",{directives:[{name:"show",rawName:"v-show",value:0==e.localMenuType,expression:"localMenuType==0"}],attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"默认跳转地址"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["redirect",{}],expression:"[ 'redirect',{}]"}],attrs:{placeholder:"请输入路由参数 redirect",readOnly:e.disableSubmit}})],1),n("a-form-item",{directives:[{name:"show",rawName:"v-show",value:!e.show,expression:"!show"}],attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"授权标识"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["perms",{rules:[{required:!1,message:"请输入授权标识!"},{validator:this.validatePerms}]}],expression:"[ 'perms', {rules:[{ required: false, message: '请输入授权标识!' },{validator: this.validatePerms }]}]"}],attrs:{placeholder:"多个用逗号分隔, 如: user:list,user:create",readOnly:e.disableSubmit}})],1),n("a-form-item",{directives:[{name:"show",rawName:"v-show",value:!e.show,expression:"!show"}],attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"授权策略"}},[n("j-dict-select-tag",{directives:[{name:"decorator",rawName:"v-decorator",value:["permsType",{}],expression:"['permsType', {}]"}],attrs:{placeholder:"请选择授权策略",type:"radio",triggerChange:!0,dictCode:"global_perms_type"}})],1),n("a-form-item",{directives:[{name:"show",rawName:"v-show",value:!e.show,expression:"!show"}],attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"状态"}},[n("j-dict-select-tag",{directives:[{name:"decorator",rawName:"v-decorator",value:["status",{}],expression:"['status', {}]"}],attrs:{placeholder:"请选择状态",type:"radio",triggerChange:!0,dictCode:"valid_status"}})],1),n("a-form-item",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"菜单图标"}},[n("a-input",{attrs:{placeholder:"点击选择图标",readOnly:e.disableSubmit},model:{value:e.model.icon,callback:function(t){e.$set(e.model,"icon",t)},expression:"model.icon"}},[n("a-icon",{attrs:{slot:"addonAfter",type:"setting"},on:{click:e.selectIcons},slot:"addonAfter"})],1)],1),n("a-form-item",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"排序"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["sortNo",e.validatorRules.sortNo],expression:"[ 'sortNo',validatorRules.sortNo]"}],staticStyle:{width:"200px"},attrs:{placeholder:"请输入菜单排序",readOnly:e.disableSubmit}})],1),n("a-form-item",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"是否路由菜单"}},[n("a-switch",{attrs:{checkedChildren:"是",unCheckedChildren:"否"},model:{value:e.routeSwitch,callback:function(t){e.routeSwitch=t},expression:"routeSwitch"}})],1),n("a-form-item",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"隐藏路由"}},[n("a-switch",{attrs:{checkedChildren:"是",unCheckedChildren:"否"},model:{value:e.menuHidden,callback:function(t){e.menuHidden=t},expression:"menuHidden"}})],1),n("a-form-item",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"是否缓存路由"}},[n("a-switch",{attrs:{checkedChildren:"是",unCheckedChildren:"否"},model:{value:e.isKeepalive,callback:function(t){e.isKeepalive=t},expression:"isKeepalive"}})],1),n("a-form-item",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"聚合路由"}},[n("a-switch",{attrs:{checkedChildren:"是",unCheckedChildren:"否"},model:{value:e.alwaysShow,callback:function(t){e.alwaysShow=t},expression:"alwaysShow"}})],1),n("a-form-item",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"打开方式"}},[n("a-switch",{attrs:{checkedChildren:"外部",unCheckedChildren:"内部"},model:{value:e.internalOrExternal,callback:function(t){e.internalOrExternal=t},expression:"internalOrExternal"}})],1)],1),n("icons",{attrs:{iconChooseVisible:e.iconChooseVisible},on:{choose:e.handleIconChoose,close:e.handleIconCancel}})],1),n("a-row",{style:{textAlign:"right"}},[n("a-button",{style:{marginRight:"8px"},on:{click:e.handleCancel}},[e._v("\n        关闭\n      ")]),n("a-button",{attrs:{disabled:e.disableSubmit,type:"primary"},on:{click:e.handleOk}},[e._v("确定")])],1)],1)])},i=[],o=n("4ec3"),a=n("11cb"),s=n("88bc"),l=n.n(s),c={name:"PermissionModal",components:{Icons:a["default"]},data:function(){return{drawerWidth:700,treeData:[],treeValue:"0-0-4",title:"操作",visible:!1,disableSubmit:!1,model:{},localMenuType:0,alwaysShow:!1,menuHidden:!1,routeSwitch:!0,internalOrExternal:!1,isKeepalive:!0,show:!0,menuLabel:"菜单名称",isRequrie:!0,labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),iconChooseVisible:!1,validateStatus:""}},computed:{validatorRules:function(){return{name:{rules:[{required:!0,message:"请输入菜单标题!"}]},component:{rules:[{required:this.show,message:"请输入前端组件!"}]},url:{rules:[{required:this.show,message:"请输入菜单路径!"}]},permsType:{rules:[{required:!0,message:"请输入授权策略!"}]},sortNo:{initialValue:1}}}},created:function(){this.initDictConfig()},methods:{loadTree:function(){var e=this;Object(o["K"])().then((function(t){if(t.success){e.treeData=[];for(var n=t.result.treeList,r=0;r<n.length;r++){var i=n[r];i.isLeaf=i.leaf,e.treeData.push(i)}}}))},add:function(){this.edit({status:"1",permsType:"1",route:!0})},edit:function(e){var t=this;this.resetScreenSize(),this.form.resetFields(),this.model=Object.assign({},e),this.alwaysShow=!!e.alwaysShow,this.menuHidden=!!e.hidden,null!=e.route&&(this.routeSwitch=!!e.route),null!=e.keepAlive?this.isKeepalive=!!e.keepAlive:this.isKeepalive=!1,null!=e.internalOrExternal?this.internalOrExternal=!!e.internalOrExternal:this.internalOrExternal=!1,this.show=2!=e.menuType,this.menuLabel=2==e.menuType?"按钮/权限":"菜单名称",this.model.parentId?this.localMenuType=1:this.localMenuType=0,this.visible=!0,this.loadTree();var n=l()(this.model,"name","perms","permsType","component","url","sortNo","menuType","status");this.$nextTick((function(){t.form.setFieldsValue(n)}))},close:function(){this.$emit("close"),this.disableSubmit=!1,this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields((function(n,r){if(!n){e.model.alwaysShow=e.alwaysShow,e.model.hidden=e.menuHidden,e.model.route=e.routeSwitch,e.model.keepAlive=e.isKeepalive,e.model.internalOrExternal=e.internalOrExternal;var i,a=Object.assign(e.model,r);if(!(1!=a.menuType&&2!=a.menuType||a.parentId))return t.validateStatus="error",void t.$message.error("请检查你填的类型以及信息是否正确！");t.validateStatus="success",t.confirmLoading=!0,i=e.model.id?Object(o["p"])(a):Object(o["c"])(a),i.then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}}))},handleCancel:function(){this.close()},validateNumber:function(e,t,n){!t||new RegExp(/^[0-9]*[1-9][0-9]*$/).test(t)?n():n("请输入正整数!")},validatePerms:function(e,t,n){if(t&&t.length>0){var r={tableName:"sys_permission",fieldName:"perms",fieldVal:t,dataId:this.model.id};Object(o["m"])(r).then((function(e){e.success?n():n("授权标识已存在!")}))}else n()},onChangeMenuType:function(e){var t=this;this.localMenuType=e.target.value,2==e.target.value?(this.show=!1,this.menuLabel="按钮/权限"):(this.show=!0,this.menuLabel="菜单名称"),this.$nextTick((function(){t.form.validateFields(["url","component"],{force:!0})}))},selectIcons:function(){this.iconChooseVisible=!0},handleIconCancel:function(){this.iconChooseVisible=!1},handleIconChoose:function(e){this.model.icon=e,this.form.icon=e,this.iconChooseVisible=!1},resetScreenSize:function(){var e=document.body.clientWidth;this.drawerWidth=e<500?e:700},initDictConfig:function(){},handleParentIdChange:function(e){this.validateStatus=e?"success":"error"}}},u=c,d=n("2877"),f=Object(d["a"])(u,r,i,!1,null,"6208d906",null);t["default"]=f.exports},ba30:function(e,t,n){"use strict";var r=n("00c1"),i=n.n(r);i.a},ba6d:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-form",{staticStyle:{"max-width":"500px",margin:"40px auto 0"},attrs:{form:e.form},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.nextStep(t)}}},[n("a-form-item",{attrs:{label:"手机",labelCol:{span:5},wrapperCol:{span:19}}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["phone",{rules:e.validatorRules.phone.rule}],expression:"['phone',{ rules: validatorRules.phone.rule}]"}],staticStyle:{width:"310px","margin-left":"-10px"},attrs:{type:"text",autocomplete:"false",placeholder:"请输入手机号"}},[n("a-icon",{style:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"phone"},slot:"prefix"})],1)],1),e.show?n("a-form-item",{attrs:{label:"验证码",labelCol:{span:5},wrapperCol:{span:19}}},[n("a-row",{staticStyle:{"margin-left":"2px"},attrs:{gutter:16}},[n("a-col",{staticClass:"gutter-row",attrs:{span:12}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["captcha",e.validatorRules.captcha],expression:"['captcha',validatorRules.captcha]"}],attrs:{type:"text",placeholder:"手机短信验证码"}})],1),n("a-col",{staticClass:"gutter-row",attrs:{span:8}},[n("a-button",{attrs:{tabindex:"-1",size:"default",disabled:e.state.smsSendBtn},domProps:{textContent:e._s(e.state.smsSendBtn?e.state.time+" s":"获取验证码")},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.getCaptcha(t)}}})],1)],1)],1):e._e(),n("a-form-item",{attrs:{wrapperCol:{span:19,offset:5}}},[n("router-link",{staticStyle:{float:"left","line-height":"40px"},attrs:{to:{name:"login"}}},[e._v("使用已有账户登录")]),n("a-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:e.nextStep}},[e._v("下一步")])],1)],1)],1)},i=[],o=n("0fea"),a={name:"Step2",props:["userList"],data:function(){return{form:this.$form.createForm(this),loading:!1,dropList:"0",captcha:"",show:!0,state:{time:60,smsSendBtn:!1},formLogin:{captcha:"",mobile:""},validatorRules:{captcha:{rule:[{required:!0,message:"请输入短信验证码!"},{validator:this.validateCaptcha}]},phone:{rule:[{required:!0,message:"请输入手机号码!"},{validator:this.validatePhone}]}}}},computed:{},methods:{nextStep:function(){var e=this,t=this;t.loading=!0,this.form.validateFields((function(n,r){if(!n&&"0"==t.dropList)if(void 0==r.captcha)e.cmsFailed("请输入短信验证码!");else{var i={};i.phone=r.phone,i.smscode=r.captcha,Object(o["i"])("/sys/user/phoneVerification",i).then((function(n){if(n.success){var i={username:n.result.username,phone:r.phone,smscode:n.result.smscode};setTimeout((function(){t.$emit("nextStep",i)}),0)}else e.cmsFailed(n.message)}))}}))},getCaptcha:function(e){var t=this;e.preventDefault();var n=this,r=n.form.getFieldValue("phone");if(r){this.state.smsSendBtn=!0;var i=window.setInterval((function(){n.state.time--<=0&&(n.state.time=60,n.state.smsSendBtn=!1,window.clearInterval(i))}),1e3),a=this.$message.loading("验证码发送中..",0),s={mobile:r,smsmode:"2"};Object(o["i"])("/sys/sms",s).then((function(e){e.success||(setTimeout(a,1),t.cmsFailed(e.message)),setTimeout(a,500)}))}else this.cmsFailed("手机号不能为空!")},cmsFailed:function(e){this.$notification["error"]({message:"验证错误",description:e,duration:4})},handleChangeSelect:function(e){var t=this;0==e?(t.dropList="0",t.show=!0):(t.dropList="1",t.show=!1)},validatePhone:function(e,t,n){if(t){var r=/^[1][3,4,5,7,8][0-9]{9}$/;r.test(t)?n():n("请输入正确的手机号")}else n()}}},s=a,l=(n("1c87"),n("2877")),c=Object(l["a"])(s,r,i,!1,null,"fc8b1fe4",null);t["default"]=c.exports},bac7:function(e,t,n){},bb51:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[e._m(0),n("br"),n("h2",[e._v("# Trend 组件 ")]),n("a-divider",[e._v(" 正常 ")]),n("a-card",[n("trend",{staticStyle:{"margin-right":"16px"},attrs:{flag:"up"}},[n("span",{attrs:{slot:"term"},slot:"term"},[e._v("工资")]),e._v("\n      5%\n    ")]),n("trend",{staticStyle:{"margin-right":"16px"},attrs:{flag:"up"}},[n("span",{attrs:{slot:"term"},slot:"term"},[e._v("工作量")]),e._v("\n      50%\n    ")]),n("trend",{attrs:{flag:"down"}},[n("span",{attrs:{slot:"term"},slot:"term"},[e._v("身体状态")]),e._v("\n      50%\n    ")])],1),n("a-divider",[e._v(" 颜色反转 ")]),n("a-card",{staticStyle:{"margin-bottom":"3rem"}},[n("trend",{staticStyle:{"margin-right":"16px"},attrs:{flag:"up","reverse-color":!0}},[n("span",{attrs:{slot:"term"},slot:"term"},[e._v("工资")]),e._v("\n      5%\n    ")]),n("trend",{staticStyle:{"margin-right":"16px"},attrs:{flag:"down","reverse-color":!0}},[n("span",{attrs:{slot:"term"},slot:"term"},[e._v("工作量")]),e._v("\n      50%\n    ")])],1),n("h2",[e._v("# AvatarList 组件 ")]),n("a-divider",[e._v(" AvatarList ")]),n("a-card",{staticStyle:{"margin-bottom":"3rem"}},[n("avatar-list",{attrs:{"max-length":3}},[n("avatar-list-item",{attrs:{tips:"Jake",src:"https://gw.alipayobjects.com/zos/rmsportal/zOsKZmFRdUtvpqCImOVY.png"}}),n("avatar-list-item",{attrs:{tips:"Andy",src:"https://gw.alipayobjects.com/zos/rmsportal/sfjbOqnsXXJgNCjCzDBL.png"}}),n("avatar-list-item",{attrs:{tips:"Niko",src:"https://gw.alipayobjects.com/zos/rmsportal/kZzEzemZyKLKFsojXItE.png"}}),n("avatar-list-item",{attrs:{tips:"Niko",src:"https://gw.alipayobjects.com/zos/rmsportal/kZzEzemZyKLKFsojXItE.png"}}),n("avatar-list-item",{attrs:{tips:"Niko",src:"https://gw.alipayobjects.com/zos/rmsportal/kZzEzemZyKLKFsojXItE.png"}}),n("avatar-list-item",{attrs:{tips:"Niko",src:"https://gw.alipayobjects.com/zos/rmsportal/kZzEzemZyKLKFsojXItE.png"}}),n("avatar-list-item",{attrs:{tips:"Niko",src:"https://gw.alipayobjects.com/zos/rmsportal/kZzEzemZyKLKFsojXItE.png"}})],1),n("a-divider",{staticStyle:{margin:"0 16px"},attrs:{type:"vertical"}}),n("avatar-list",{attrs:{size:"mini"}},[n("avatar-list-item",{attrs:{tips:"Jake",src:"https://gw.alipayobjects.com/zos/rmsportal/zOsKZmFRdUtvpqCImOVY.png"}}),n("avatar-list-item",{attrs:{tips:"Andy",src:"https://gw.alipayobjects.com/zos/rmsportal/sfjbOqnsXXJgNCjCzDBL.png"}}),n("avatar-list-item",{attrs:{tips:"Niko",src:"https://gw.alipayobjects.com/zos/rmsportal/kZzEzemZyKLKFsojXItE.png"}})],1)],1),n("h2",[e._v("# CountDown 组件 ")]),n("a-divider",[e._v(" CountDown ")]),n("a-card",{staticStyle:{"margin-bottom":"3rem"}},[n("count-down",{staticStyle:{"font-size":"2rem"},attrs:{target:(new Date).getTime()+3e6,"on-end":e.onEndHandle}}),n("a-divider",{staticStyle:{margin:"0 16px"},attrs:{type:"vertical"}}),n("count-down",{staticStyle:{"font-size":"2rem"},attrs:{target:(new Date).getTime()+1e4,"on-end":e.onEndHandle2}})],1),n("h2",[e._v("# Ellipsis 组件 ")]),n("a-divider",[e._v(" Ellipsis ")]),n("a-card",{staticStyle:{"margin-bottom":"3rem"}},[n("ellipsis",{attrs:{length:100,tooltip:""}},[e._v("\n      There were injuries alleged in three cases in 2015, and a\n      fourth incident in September, according to the safety recall report. After meeting with US regulators in October, the firm decided to issue a voluntary recall.\n    ")])],1),n("h2",[e._v("# NumberInfo 组件 ")]),n("a-divider",[e._v(" NumberInfo ")]),n("a-card",[n("number-info",{attrs:{"sub-title":function(){return"Visits this week"},total:12321,status:"up","sub-total":17.1}})],1)],1)},i=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"banner"},[r("img",{staticStyle:{width:"64px",height:"64px"},attrs:{alt:"Vue logo",src:n("cf05")}}),r("h3",{staticStyle:{"margin-top":"1rem"}},[e._v("Welcome to Your Vue.js App")])])}],o=n("611e"),a=n("a40c"),s=(n("84962"),a["default"]),l=n("6a2a"),c=n("c4db"),u=n("23fe"),d=u["default"],f=s.AvatarItem,h={name:"Home",components:{NumberInfo:d,Ellipsis:c["a"],CountDown:l["default"],Trend:o["a"],AvatarList:s,AvatarListItem:f},data:function(){return{targetTime:(new Date).getTime()+39e5}},methods:{onEndHandle:function(){this.$message.success("CountDown callback!!!")},onEndHandle2:function(){this.$notification.open({message:"Notification Title",description:"This is the content of the notification. This is the content of the notification. This is the content of the notification."})}}},p=h,m=(n("d2b5"),n("2877")),g=Object(m["a"])(p,r,i,!1,null,"59b7b9bc",null);t["default"]=g.exports},bb70:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchQuery(t)}}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:6}},[n("a-form-item",{attrs:{label:"标题"}},[n("a-input",{attrs:{placeholder:"请输入标题"},model:{value:e.queryParam.titile,callback:function(t){e.$set(e.queryParam,"titile",t)},expression:"queryParam.titile"}})],1)],1),n("a-col",{attrs:{span:6}},[n("a-form-item",{attrs:{label:"发布人"}},[n("a-input",{attrs:{placeholder:"请输入发布人"},model:{value:e.queryParam.sender,callback:function(t){e.$set(e.queryParam,"sender",t)},expression:"queryParam.sender"}})],1)],1),n("a-col",{attrs:{span:8}},[n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")])],1)])],1)],1)],1),n("div",{staticClass:"table-operator"},[n("a-button",{attrs:{type:"primary",icon:"book"},on:{click:e.readAll}},[e._v("全部标注已读")])],1),n("a-table",{ref:"table",attrs:{size:"default",bordered:"",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.showAnnouncement(r)}}},[e._v("查看")])])}}])}),n("show-announcement",{ref:"ShowAnnouncement"}),n("dynamic-notice",{ref:"showDynamNotice",attrs:{path:e.openPath,formData:e.formData}})],1)},i=[],o=(n("ca00"),n("0fea")),a=n("2bd9"),s=n("b65a"),l=n("4eaf"),c={name:"UserAnnouncementList",mixins:[s["a"]],components:{DynamicNotice:l["default"],ShowAnnouncement:a["default"]},data:function(){return{description:"系统通告表管理页面",queryParam:{},columns:[{title:"标题",align:"center",dataIndex:"titile"},{title:"消息类型",align:"center",dataIndex:"msgCategory",customRender:function(e){return"1"==e?"通知公告":"2"==e?"系统消息":e}},{title:"发布人",align:"center",dataIndex:"sender"},{title:"发布时间",align:"center",dataIndex:"sendTime"},{title:"优先级",align:"center",dataIndex:"priority",customRender:function(e){return"L"==e?"低":"M"==e?"中":"H"==e?"高":e}},{title:"阅读状态",align:"center",dataIndex:"readFlag",customRender:function(e){return"0"==e?"未读":"1"==e?"已读":e}},{title:"操作",dataIndex:"action",align:"center",scopedSlots:{customRender:"action"}}],url:{list:"/sys/sysAnnouncementSend/getMyAnnouncementSend",editCementSend:"sys/sysAnnouncementSend/editByAnntIdAndUserId",readAllMsg:"sys/sysAnnouncementSend/readAll"},loading:!1,openPath:"",formData:""}},methods:{handleDetail:function(e){this.$refs.sysAnnouncementModal.detail(e),this.$refs.sysAnnouncementModal.title="查看"},showAnnouncement:function(e){var t=this;Object(o["j"])(this.url.editCementSend,{anntId:e.anntId}).then((function(n){n.success&&(t.loadData(),t.syncHeadNotic(e.anntId))})),"component"===e.openType?(this.openPath=e.openPage,this.formData={id:e.busId},this.$refs.showDynamNotice.detail()):this.$refs.ShowAnnouncement.detail(e)},syncHeadNotic:function(e){Object(o["c"])("sys/annountCement/syncNotic",{anntId:e})},readAll:function(){var e=this;e.$confirm({title:"确认操作",content:"是否全部标注已读?",onOk:function(){Object(o["j"])(e.url.readAllMsg).then((function(t){t.success&&(e.$message.success(t.message),e.loadData(),e.syncHeadNotic())}))}})}}},u=c,d=(n("3cb8"),n("2877")),f=Object(d["a"])(u,r,i,!1,null,"096e5124",null);t["default"]=f.exports},bc07:function(e,t,n){"use strict";var r=n("d8bb"),i=n.n(r);i.a},be36:function(e,t,n){
/*!
 * jsoneditor.js
 *
 * @brief
 * JSONEditor is a web-based tool to view, edit, format, and validate JSON.
 * It has various modes such as a tree editor, a code editor, and a plain text
 * editor.
 *
 * Supported browsers: Chrome, Firefox, Safari, Opera, Internet Explorer 8+
 *
 * @license
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not
 * use this file except in compliance with the License. You may obtain a copy
 * of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 * License for the specific language governing permissions and limitations under
 * the License.
 *
 * Copyright (c) 2011-2020 Jos de Jong, http://jsoneditoronline.org
 *
 * @author  Jos de Jong, <wjosdejong@gmail.com>
 * @version 9.0.3
 * @date    2020-07-02
 */
(function(t,n){e.exports=n()})(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=36)}([function(e,t,n){"use strict";n.r(t),n.d(t,"parse",(function(){return h})),n.d(t,"repair",(function(){return p})),n.d(t,"escapeUnicodeChars",(function(){return m})),n.d(t,"validate",(function(){return g})),n.d(t,"extend",(function(){return v})),n.d(t,"clear",(function(){return b})),n.d(t,"getType",(function(){return y})),n.d(t,"isUrl",(function(){return w})),n.d(t,"isArray",(function(){return x})),n.d(t,"getAbsoluteLeft",(function(){return I})),n.d(t,"getAbsoluteTop",(function(){return A})),n.d(t,"addClassName",(function(){return k})),n.d(t,"removeAllClassNames",(function(){return S})),n.d(t,"removeClassName",(function(){return _})),n.d(t,"stripFormatting",(function(){return T})),n.d(t,"setEndOfContentEditable",(function(){return E})),n.d(t,"selectContentEditable",(function(){return O})),n.d(t,"getSelection",(function(){return R})),n.d(t,"setSelection",(function(){return N})),n.d(t,"getSelectionOffset",(function(){return L})),n.d(t,"setSelectionOffset",(function(){return D})),n.d(t,"getInnerText",(function(){return B})),n.d(t,"hasParentNode",(function(){return M})),n.d(t,"getInternetExplorerVersion",(function(){return P})),n.d(t,"isFirefox",(function(){return F})),n.d(t,"addEventListener",(function(){return H})),n.d(t,"removeEventListener",(function(){return z})),n.d(t,"isChildOf",(function(){return $})),n.d(t,"parsePath",(function(){return V})),n.d(t,"stringifyPath",(function(){return W})),n.d(t,"improveSchemaError",(function(){return K})),n.d(t,"isPromise",(function(){return G})),n.d(t,"isValidValidationError",(function(){return Z})),n.d(t,"insideRect",(function(){return U})),n.d(t,"debounce",(function(){return q})),n.d(t,"textDiff",(function(){return X})),n.d(t,"getInputSelection",(function(){return Y})),n.d(t,"getIndexForPosition",(function(){return J})),n.d(t,"getPositionForPath",(function(){return Q})),n.d(t,"compileJSONPointer",(function(){return ee})),n.d(t,"getColorCSS",(function(){return te})),n.d(t,"isValidColor",(function(){return ne})),n.d(t,"makeFieldTooltip",(function(){return re})),n.d(t,"get",(function(){return ie})),n.d(t,"findUniqueName",(function(){return oe})),n.d(t,"getChildPaths",(function(){return ae})),n.d(t,"sort",(function(){return se})),n.d(t,"sortObjectKeys",(function(){return le})),n.d(t,"parseString",(function(){return ce})),n.d(t,"isTimestamp",(function(){return ue})),n.d(t,"formatSize",(function(){return de})),n.d(t,"limitCharacters",(function(){return fe})),n.d(t,"isObject",(function(){return he})),n.d(t,"contains",(function(){return pe})),n.d(t,"isValidationErrorChanged",(function(){return me}));n(24);var r=n(11),i=n.n(r),o=n(22),a=n.n(o),s=n(33),l=n.n(s),c=n(1);function u(e){return u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}var d=1e4,f=9466848e5;function h(e){try{return JSON.parse(e)}catch(t){throw g(e),t}}function p(e){var t=[],n=0,r=0,i=!1,o=e.match(/^\s*(\/\*(.|[\r\n])*?\*\/)?\s*[\da-zA-Z_$]+\s*\(([\s\S]*)\)\s*;?\s*$/);o&&(e=o[3]);var a={"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"},s="'",l='"',c="‘",u="’",d="“",f="”",h="`",p="´",m={None:"null",True:"true",False:"false"};function g(){return e.charAt(n)}function v(){return e.charAt(n+1)}function b(){return e.charAt(n-1)}function y(e){return" "===e||"\n"===e||"\r"===e||"\t"===e}function C(){var e=t.length-1;while(e>=0){var n=t[e];if(!y(n))return n;e--}return""}function w(){var t=n+1;while(t<e.length&&y(e[t]))t++;return e[t]}function x(){var t=n;while(t<e.length&&y(e[t]))t++;return e[t]}function I(){if("/"===g()&&"*"===v()){n+=2;while(n<e.length&&("*"!==g()||"/"!==v()))n++;n+=2,"\n"===g()&&n++}}function A(){if("/"===g()&&"/"===v()){n+=2;while(n<e.length&&"\n"!==g())n++}}function k(){var t="";while(n<e.length&&y(g()))t+=g(),n++;return t}function S(t){var r="";r+='"',n++;var i=g();while(n<e.length&&i!==t)'"'===i&&"\\"!==b()?r+='\\"':i in a?r+=a[i]:"\\"===i?(n++,i=g(),"'"!==i&&(r+="\\"),r+=i):r+=i,n++,i=g();return i===t&&(r+='"',n++),r}function _(){var e=["null","true","false"],t="",r=g(),i=/[a-zA-Z_$\d]/;while(i.test(r))t+=r,n++,r=g();return t in m?m[t]:-1===e.indexOf(t)?'"'+t+'"':t}function T(){var e=g(),t="";while(/\w/.test(e))t+=e,n++,e=g();if(t.length>0&&"("===e){var r;if(n++,e=g(),'"'===e)r=S(e),e=g();else{r="";while(")"!==e&&""!==e)r+=e,n++,e=g()}return")"===e?(n++,r):t+"("+r+e}return"string"===typeof m[t]?m[t]:t}function E(e){return" "===e||e>=" "&&e<=" "||" "===e||" "===e||"　"===e}while(n<e.length){I(),A();var O=g();if("{"===O&&r++,"}"===O&&r--,E(O))t.push(" "),n++;else if(O===s)t.push(S(O));else if(O===l)t.push(S(l));else if(O===h)t.push(S(p));else if(O===c)t.push(S(u));else if(O===d)t.push(S(f));else if("}"===O){t.push(O),n++;var R=k();I(),"{"===x()&&(t.push(","),0===r&&(i=!0)),t.push(R)}else","===O&&-1!==["]","}"].indexOf(w())?n++:/[a-zA-Z_$]/.test(O)&&-1!==["{",","].indexOf(C())?t.push(_()):/\w/.test(O)?t.push(T()):(t.push(O),n++)}return i&&(t.unshift("[\n"),t.push("\n]")),t.join("")}function m(e){return e.replace(/[\u007F-\uFFFF]/g,(function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))}function g(e){"undefined"!==typeof a.a?a.a.parse(e):JSON.parse(e)}function v(e,t){for(var n in t)ge(t,n)&&(e[n]=t[n]);return e}function b(e){for(var t in e)ge(e,t)&&delete e[t];return e}function y(e){return null===e?"null":void 0===e?"undefined":e instanceof Number||"number"===typeof e?"number":e instanceof String||"string"===typeof e?"string":e instanceof Boolean||"boolean"===typeof e?"boolean":e instanceof RegExp?"regexp":x(e)?"array":"object"}var C=/^https?:\/\/\S+$/;function w(e){return("string"===typeof e||e instanceof String)&&C.test(e)}function x(e){return"[object Array]"===Object.prototype.toString.call(e)}function I(e){var t=e.getBoundingClientRect();return t.left+window.pageXOffset||document.scrollLeft||0}function A(e){var t=e.getBoundingClientRect();return t.top+window.pageYOffset||document.scrollTop||0}function k(e,t){var n=e.className.split(" ");-1===n.indexOf(t)&&(n.push(t),e.className=n.join(" "))}function S(e){e.className=""}function _(e,t){var n=e.className.split(" "),r=n.indexOf(t);-1!==r&&(n.splice(r,1),e.className=n.join(" "))}function T(e){for(var t=e.childNodes,n=0,r=t.length;n<r;n++){var i=t[n];i.style&&i.removeAttribute("style");var o=i.attributes;if(o)for(var a=o.length-1;a>=0;a--){var s=o[a];!0===s.specified&&i.removeAttribute(s.name)}T(i)}}function E(e){var t,n;document.createRange&&(t=document.createRange(),t.selectNodeContents(e),t.collapse(!1),n=window.getSelection(),n.removeAllRanges(),n.addRange(t))}function O(e){var t,n;e&&"DIV"===e.nodeName&&(window.getSelection&&document.createRange&&(n=document.createRange(),n.selectNodeContents(e),t=window.getSelection(),t.removeAllRanges(),t.addRange(n)))}function R(){if(window.getSelection){var e=window.getSelection();if(e.getRangeAt&&e.rangeCount)return e.getRangeAt(0)}return null}function N(e){if(e&&window.getSelection){var t=window.getSelection();t.removeAllRanges(),t.addRange(e)}}function L(){var e=R();return e&&"startOffset"in e&&"endOffset"in e&&e.startContainer&&e.startContainer===e.endContainer?{startOffset:e.startOffset,endOffset:e.endOffset,container:e.startContainer.parentNode}:null}function D(e){if(document.createRange&&window.getSelection){var t=window.getSelection();if(t){var n=document.createRange();e.container.firstChild||e.container.appendChild(document.createTextNode("")),n.setStart(e.container.firstChild,e.startOffset),n.setEnd(e.container.firstChild,e.endOffset),N(n)}}}function B(e,t){var n=void 0===t;if(n&&(t={_text:"",flush:function(){var e=this._text;return this._text="",e},set:function(e){this._text=e}}),e.nodeValue){var r=e.nodeValue.replace(/\s*\n\s*/g,"");return""!==r?t.flush()+r:""}if(e.hasChildNodes()){for(var i=e.childNodes,o="",a=0,s=i.length;a<s;a++){var l=i[a];if("DIV"===l.nodeName||"P"===l.nodeName){var c=i[a-1],u=c?c.nodeName:void 0;u&&"DIV"!==u&&"P"!==u&&"BR"!==u&&(""!==o&&(o+="\n"),t.flush()),o+=B(l,t),t.set("\n")}else"BR"===l.nodeName?(o+=t.flush(),t.set("\n")):o+=B(l,t)}return o}return""}function M(e,t){var n=e?e.parentNode:void 0;while(n){if(n===t)return!0;n=n.parentNode}return!1}function P(){if(-1===j){var e=-1;if("undefined"!==typeof navigator&&"Microsoft Internet Explorer"===navigator.appName){var t=navigator.userAgent,n=new RegExp("MSIE ([0-9]+[.0-9]+)");null!=n.exec(t)&&(e=parseFloat(RegExp.$1))}j=e}return j}function F(){return"undefined"!==typeof navigator&&-1!==navigator.userAgent.indexOf("Firefox")}var j=-1;function H(e,t,n,r){if(e.addEventListener)return void 0===r&&(r=!1),"mousewheel"===t&&F()&&(t="DOMMouseScroll"),e.addEventListener(t,n,r),n;if(e.attachEvent){var i=function(){return n.call(e,window.event)};return e.attachEvent("on"+t,i),i}}function z(e,t,n,r){e.removeEventListener?(void 0===r&&(r=!1),"mousewheel"===t&&F()&&(t="DOMMouseScroll"),e.removeEventListener(t,n,r)):e.detachEvent&&e.detachEvent("on"+t,n)}function $(e,t){var n=e.parentNode;while(n){if(n===t)return!0;n=n.parentNode}return!1}function V(e){var t=[],n=0;function r(){var t="";while(void 0!==e[n]&&/[\w$]/.test(e[n]))t+=e[n],n++;if(""===t)throw new Error("Invalid JSON path: property name expected at index "+n);return t}function i(t){var r="";while(void 0!==e[n]&&e[n]!==t)r+=e[n],n++;if(e[n]!==t)throw new Error("Invalid JSON path: unexpected end, character "+t+" expected");return r}while(void 0!==e[n])if("."===e[n])n++,t.push(r());else{if("["!==e[n])throw new Error('Invalid JSON path: unexpected character "'+e[n]+'" at index '+n);if(n++,"'"===e[n]||'"'===e[n]){var o=e[n];if(n++,t.push(i(o)),e[n]!==o)throw new Error("Invalid JSON path: closing quote ' expected at index "+n);n++}else{var a=i("]").trim();if(0===a.length)throw new Error("Invalid JSON path: array value expected at index "+n);a="*"===a?a:JSON.parse(a),t.push(a)}if("]"!==e[n])throw new Error("Invalid JSON path: closing bracket ] expected at index "+n);n++}return t}function W(e){return e.map((function(e){return"number"===typeof e?"["+e+"]":"string"===typeof e&&e.match(/^[A-Za-z0-9_$]+$/)?"."+e:'["'+e+'"]'})).join("")}function K(e){if("enum"===e.keyword&&Array.isArray(e.schema)){var t=e.schema;if(t){if(t=t.map((function(e){return JSON.stringify(e)})),t.length>5){var n=["("+(t.length-5)+" more...)"];t=t.slice(0,5),t.push(n)}e.message="should be equal to one of: "+t.join(", ")}}return"additionalProperties"===e.keyword&&(e.message="should NOT have additional property: "+e.params.additionalProperty),e}function G(e){return e&&"function"===typeof e.then&&"function"===typeof e["catch"]}function Z(e){return"object"===u(e)&&Array.isArray(e.path)&&"string"===typeof e.message}function U(e,t,n){var r=void 0!==n?n:0;return t.left-r>=e.left&&t.right+r<=e.right&&t.top-r>=e.top&&t.bottom+r<=e.bottom}function q(e,t,n){var r;return function(){var i=this,o=arguments,a=function(){r=null,n||e.apply(i,o)},s=n&&!r;clearTimeout(r),r=setTimeout(a,t),s&&e.apply(i,o)}}function X(e,t){var n=t.length,r=0,i=e.length,o=t.length;while(t.charAt(r)===e.charAt(r)&&r<n)r++;while(t.charAt(o-1)===e.charAt(i-1)&&o>r&&i>0)o--,i--;return{start:r,end:o}}function Y(e){var t,n,r,i,o,a=0,s=0;return"number"===typeof e.selectionStart&&"number"===typeof e.selectionEnd?(a=e.selectionStart,s=e.selectionEnd):(n=document.selection.createRange(),n&&n.parentElement()===e&&(i=e.value.length,t=e.value.replace(/\r\n/g,"\n"),r=e.createTextRange(),r.moveToBookmark(n.getBookmark()),o=e.createTextRange(),o.collapse(!1),r.compareEndPoints("StartToEnd",o)>-1?a=s=i:(a=-r.moveStart("character",-i),a+=t.slice(0,a).split("\n").length-1,r.compareEndPoints("EndToEnd",o)>-1?s=i:(s=-r.moveEnd("character",-i),s+=t.slice(0,s).split("\n").length-1)))),{startIndex:a,endIndex:s,start:l(a),end:l(s)};function l(t){var n=e.value.substring(0,t),r=(n.match(/\n/g)||[]).length+1,i=n.length-n.lastIndexOf("\n");return{row:r,column:i}}}function J(e,t,n){var r=e.value||"";if(t>0&&n>0){var i=r.split("\n",t);t=Math.min(i.length,t),n=Math.min(i[t-1].length,n-1);var o=1===t?n:n+1;return i.slice(0,t-1).join("\n").length+o}return-1}function Q(e,t){var n,r=[];if(!t||!t.length)return r;try{n=l.a.parse(e)}catch(i){return r}return t.forEach((function(e){var t=V(e),i=ee(t),o=n.pointers[i];o&&r.push({path:e,line:o.key?o.key.line:o.value?o.value.line:0,column:o.key?o.key.column:o.value?o.value.column:0})})),r}function ee(e){return e.map((function(e){return"/"+String(e).replace(/~/g,"~0").replace(/\//g,"~1")})).join("")}function te(e){var t=document.createElement("div");return t.style.color=e,t.style.color.split(/\s+/).join("").toLowerCase()||null}function ne(e){return!!te(e)}function re(e,t){if(!e)return"";var n="";return e.title&&(n+=e.title),e.description&&(n.length>0&&(n+="\n"),n+=e.description),e["default"]&&(n.length>0&&(n+="\n\n"),n+=Object(c["c"])("default",void 0,t)+"\n",n+=JSON.stringify(e["default"],null,2)),Array.isArray(e.examples)&&e.examples.length>0&&(n.length>0&&(n+="\n\n"),n+=Object(c["c"])("examples",void 0,t)+"\n",e.examples.forEach((function(t,r){n+=JSON.stringify(t,null,2),r!==e.examples.length-1&&(n+="\n")}))),n}function ie(e,t){for(var n=e,r=0;r<t.length&&void 0!==n&&null!==n;r++)n=n[t[r]];return n}function oe(e,t){var n=e.replace(/ \(copy( \d+)?\)$/,""),r=n,i=1;while(-1!==t.indexOf(r)){var o="copy"+(i>1?" "+i:"");r=n+" ("+o+")",i++}return r}function ae(e,t){var n={};function r(e,t,n,i){var o=!Array.isArray(e)&&!he(e);(o||i)&&(t[n||""]=!0),he(e)&&Object.keys(e).forEach((function(o){r(e[o],t,n+"."+o,i)}))}if(Array.isArray(e))for(var i=Math.min(e.length,d),o=0;o<i;o++){var a=e[o];r(a,n,"",t)}else n[""]=!0;return Object.keys(n).sort()}function se(e,t,n){var r=t&&"."!==t?V(t):[],i="desc"===n?-1:1,o=e.slice();return o.sort((function(e,t){var n=ie(e,r),o=ie(t,r);return i*(n>o?1:n<o?-1:0)})),o}function le(e,t){var n="desc"===t?-1:1,r=Object.keys(e).sort((function(e,t){return n*i()(e,t)})),o={};return r.forEach((function(t){o[t]=e[t]})),o}function ce(e){if(""===e)return"";var t=e.toLowerCase();if("null"===t)return null;if("true"===t)return!0;if("false"===t)return!1;var n=Number(e),r=parseFloat(e);return isNaN(n)||isNaN(r)?e:n}function ue(e,t){return"number"===typeof t&&t>f&&isFinite(t)&&Math.floor(t)===t&&!isNaN(new Date(t).valueOf())}function de(e){if(e<900)return e.toFixed()+" B";var t=e/1e3;if(t<900)return t.toFixed(1)+" KB";var n=t/1e3;if(n<900)return n.toFixed(1)+" MB";var r=n/1e3;if(r<900)return r.toFixed(1)+" GB";var i=r/1e3;return i.toFixed(1)+" TB"}function fe(e,t){return e.length<=t?e:e.slice(0,t)+"..."}function he(e){return"object"===u(e)&&null!==e&&!Array.isArray(e)}function pe(e,t){return-1!==e.indexOf(t)}function me(e,t){if(!t&&!e)return!1;if(t&&!e||!t&&e)return!0;if(t.length!==e.length)return!0;for(var n=function(n){var r=void 0;if(r="error"===e[n].type?t.find((function(t){return t.line===e[n].line})):t.find((function(t){return t.dataPath===e[n].dataPath&&t.schemaPath===e[n].schemaPath})),!r)return{v:!0}},r=0;r<e.length;++r){var i=n(r);if("object"===u(i))return i.v}return!1}function ge(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u}));n(24);var r=["en","pt-BR","zh-CN","tr","ja","fr-FR"],i={en:{array:"Array",auto:"Auto",appendText:"Append",appendTitle:"Append a new field with type 'auto' after this field (Ctrl+Shift+Ins)",appendSubmenuTitle:"Select the type of the field to be appended",appendTitleAuto:"Append a new field with type 'auto' (Ctrl+Shift+Ins)",ascending:"Ascending",ascendingTitle:"Sort the childs of this ${type} in ascending order",actionsMenu:"Click to open the actions menu (Ctrl+M)",cannotParseFieldError:"Cannot parse field into JSON",cannotParseValueError:"Cannot parse value into JSON",collapseAll:"Collapse all fields",compactTitle:"Compact JSON data, remove all whitespaces (Ctrl+Shift+\\)",descending:"Descending",descendingTitle:"Sort the childs of this ${type} in descending order",drag:"Drag to move this field (Alt+Shift+Arrows)",duplicateKey:"duplicate key",duplicateText:"Duplicate",duplicateTitle:"Duplicate selected fields (Ctrl+D)",duplicateField:"Duplicate this field (Ctrl+D)",duplicateFieldError:"Duplicate field name",empty:"empty",expandAll:"Expand all fields",expandTitle:"Click to expand/collapse this field (Ctrl+E). \nCtrl+Click to expand/collapse including all childs.",formatTitle:"Format JSON data, with proper indentation and line feeds (Ctrl+\\)",insert:"Insert",insertTitle:"Insert a new field with type 'auto' before this field (Ctrl+Ins)",insertSub:"Select the type of the field to be inserted",object:"Object",ok:"Ok",redo:"Redo (Ctrl+Shift+Z)",removeText:"Remove",removeTitle:"Remove selected fields (Ctrl+Del)",removeField:"Remove this field (Ctrl+Del)",repairTitle:"Repair JSON: fix quotes and escape characters, remove comments and JSONP notation, turn JavaScript objects into JSON.",searchTitle:"Search fields and values",searchNextResultTitle:"Next result (Enter)",searchPreviousResultTitle:"Previous result (Shift + Enter)",selectNode:"Select a node...",showAll:"show all",showMore:"show more",showMoreStatus:"displaying ${visibleChilds} of ${totalChilds} items.",sort:"Sort",sortTitle:"Sort the childs of this ${type}",sortTitleShort:"Sort contents",sortFieldLabel:"Field:",sortDirectionLabel:"Direction:",sortFieldTitle:"Select the nested field by which to sort the array or object",sortAscending:"Ascending",sortAscendingTitle:"Sort the selected field in ascending order",sortDescending:"Descending",sortDescendingTitle:"Sort the selected field in descending order",string:"String",transform:"Transform",transformTitle:"Filter, sort, or transform the childs of this ${type}",transformTitleShort:"Filter, sort, or transform contents",extract:"Extract",extractTitle:"Extract this ${type}",transformQueryTitle:"Enter a JMESPath query",transformWizardLabel:"Wizard",transformWizardFilter:"Filter",transformWizardSortBy:"Sort by",transformWizardSelectFields:"Select fields",transformQueryLabel:"Query",transformPreviewLabel:"Preview",type:"Type",typeTitle:"Change the type of this field",openUrl:"Ctrl+Click or Ctrl+Enter to open url in new window",undo:"Undo last action (Ctrl+Z)",validationCannotMove:"Cannot move a field into a child of itself",autoType:'Field type "auto". The field type is automatically determined from the value and can be a string, number, boolean, or null.',objectType:'Field type "object". An object contains an unordered set of key/value pairs.',arrayType:'Field type "array". An array contains an ordered collection of values.',stringType:'Field type "string". Field type is not determined from the value, but always returned as string.',modeEditorTitle:"Switch Editor Mode",modeCodeText:"Code",modeCodeTitle:"Switch to code highlighter",modeFormText:"Form",modeFormTitle:"Switch to form editor",modeTextText:"Text",modeTextTitle:"Switch to plain text editor",modeTreeText:"Tree",modeTreeTitle:"Switch to tree editor",modeViewText:"View",modeViewTitle:"Switch to tree view",modePreviewText:"Preview",modePreviewTitle:"Switch to preview mode",examples:"Examples",default:"Default"},"zh-CN":{array:"数组",auto:"自动",appendText:"追加",appendTitle:"在此字段后追加一个类型为“auto”的新字段 (Ctrl+Shift+Ins)",appendSubmenuTitle:"选择要追加的字段类型",appendTitleAuto:"追加类型为“auto”的新字段 (Ctrl+Shift+Ins)",ascending:"升序",ascendingTitle:"升序排列${type}的子节点",actionsMenu:"点击打开动作菜单(Ctrl+M)",cannotParseFieldError:"无法将字段解析为JSON",cannotParseValueError:"无法将值解析为JSON",collapseAll:"缩进所有字段",compactTitle:"压缩JSON数据，删除所有空格 (Ctrl+Shift+\\)",descending:"降序",descendingTitle:"降序排列${type}的子节点",drag:"拖拽移动该节点(Alt+Shift+Arrows)",duplicateKey:"重复键",duplicateText:"复制",duplicateTitle:"复制选中字段(Ctrl+D)",duplicateField:"复制该字段(Ctrl+D)",duplicateFieldError:"重复的字段名称",empty:"清空",expandAll:"展开所有字段",expandTitle:"点击 展开/收缩 该字段(Ctrl+E). \nCtrl+Click 展开/收缩 包含所有子节点.",formatTitle:"使用适当的缩进和换行符格式化JSON数据 (Ctrl+\\)",insert:"插入",insertTitle:"在此字段前插入类型为“auto”的新字段 (Ctrl+Ins)",insertSub:"选择要插入的字段类型",object:"对象",ok:"Ok",redo:"重做 (Ctrl+Shift+Z)",removeText:"移除",removeTitle:"移除选中字段 (Ctrl+Del)",removeField:"移除该字段 (Ctrl+Del)",repairTitle:"修复JSON：修复引号和转义符，删除注释和JSONP表示法，将JavaScript对象转换为JSON。",selectNode:"选择一个节点...",showAll:"展示全部",showMore:"展示更多",showMoreStatus:"显示${totalChilds}的${visibleChilds}项目.",sort:"排序",sortTitle:"排序${type}的子节点",sortTitleShort:"内容排序",sortFieldLabel:"字段：",sortDirectionLabel:"方向：",sortFieldTitle:"选择用于对数组或对象排序的嵌套字段",sortAscending:"升序排序",sortAscendingTitle:"按照该字段升序排序",sortDescending:"降序排序",sortDescendingTitle:"按照该字段降序排序",string:"字符串",transform:"变换",transformTitle:"筛选，排序，或者转换${type}的子节点",transformTitleShort:"筛选，排序，或者转换内容",extract:"提取",extractTitle:"提取这个 ${type}",transformQueryTitle:"输入JMESPath查询",transformWizardLabel:"向导",transformWizardFilter:"筛选",transformWizardSortBy:"排序",transformWizardSelectFields:"选择字段",transformQueryLabel:"查询",transformPreviewLabel:"预览",type:"类型",typeTitle:"更改字段类型",openUrl:"Ctrl+Click 或者 Ctrl+Enter 在新窗口打开链接",undo:"撤销上次动作 (Ctrl+Z)",validationCannotMove:"无法将字段移入其子节点",autoType:'字段类型 "auto". 字段类型由值自动确定 可以为 string，number，boolean，或者 null.',objectType:'字段类型 "object". 对象包含一组无序的键/值对.',arrayType:'字段类型 "array". 数组包含值的有序集合.',stringType:'字段类型 "string". 字段类型由值自动确定，但始终作为字符串返回.',modeCodeText:"代码",modeCodeTitle:"切换至代码高亮",modeFormText:"表单",modeFormTitle:"切换至表单编辑",modeTextText:"文本",modeTextTitle:"切换至文本编辑",modeTreeText:"树",modeTreeTitle:"切换至树编辑",modeViewText:"视图",modeViewTitle:"切换至树视图",modePreviewText:"预览",modePreviewTitle:"切换至预览模式",examples:"例子",default:"缺省"},"pt-BR":{array:"Lista",auto:"Automatico",appendText:"Adicionar",appendTitle:"Adicionar novo campo com tipo 'auto' depois deste campo (Ctrl+Shift+Ins)",appendSubmenuTitle:"Selecione o tipo do campo a ser adicionado",appendTitleAuto:"Adicionar novo campo com tipo 'auto' (Ctrl+Shift+Ins)",ascending:"Ascendente",ascendingTitle:"Organizar filhor do tipo ${type} em crescente",actionsMenu:"Clique para abrir o menu de ações (Ctrl+M)",cannotParseFieldError:"Não é possível analisar o campo no JSON",cannotParseValueError:"Não é possível analisar o valor em JSON",collapseAll:"Fechar todos campos",compactTitle:"Dados JSON compactos, remova todos os espaços em branco (Ctrl+Shift+\\)",descending:"Descendente",descendingTitle:"Organizar o filhos do tipo ${type} em decrescente",duplicateKey:"chave duplicada",drag:"Arraste para mover este campo (Alt+Shift+Arrows)",duplicateText:"Duplicar",duplicateTitle:"Duplicar campos selecionados (Ctrl+D)",duplicateField:"Duplicar este campo (Ctrl+D)",duplicateFieldError:"Nome do campo duplicado",empty:"vazio",expandAll:"Expandir todos campos",expandTitle:"Clique para expandir/encolher este campo (Ctrl+E). \nCtrl+Click para expandir/encolher incluindo todos os filhos.",formatTitle:"Formate dados JSON, com recuo e feeds de linha adequados (Ctrl+\\)",insert:"Inserir",insertTitle:"Inserir um novo campo do tipo 'auto' antes deste campo (Ctrl+Ins)",insertSub:"Selecionar o tipo de campo a ser inserido",object:"Objeto",ok:"Ok",redo:"Refazer (Ctrl+Shift+Z)",removeText:"Remover",removeTitle:"Remover campos selecionados (Ctrl+Del)",removeField:"Remover este campo (Ctrl+Del)",repairTitle:"Repare JSON: corrija aspas e caracteres de escape, remova comentários e notação JSONP, transforme objetos JavaScript em JSON.",selectNode:"Selecione um nódulo...",showAll:"mostrar todos",showMore:"mostrar mais",showMoreStatus:"exibindo ${visibleChilds} de ${totalChilds} itens.",sort:"Organizar",sortTitle:"Organizar os filhos deste ${type}",sortTitleShort:"Organizar os filhos",sortFieldLabel:"Campo:",sortDirectionLabel:"Direção:",sortFieldTitle:"Selecione um campo filho pelo qual ordenar o array ou objeto",sortAscending:"Ascendente",sortAscendingTitle:"Ordenar o campo selecionado por ordem ascendente",sortDescending:"Descendente",sortDescendingTitle:"Ordenar o campo selecionado por ordem descendente",string:"Texto",transform:"Transformar",transformTitle:"Filtrar, ordenar ou transformar os filhos deste ${type}",transformTitleShort:"Filtrar, ordenar ou transformar conteúdos",transformQueryTitle:"Insira uma expressão JMESPath",transformWizardLabel:"Assistente",transformWizardFilter:"Filtro",transformWizardSortBy:"Ordenar por",transformWizardSelectFields:"Selecionar campos",transformQueryLabel:"Expressão",transformPreviewLabel:"Visualizar",type:"Tipo",typeTitle:"Mudar o tipo deste campo",openUrl:"Ctrl+Click ou Ctrl+Enter para abrir link em nova janela",undo:"Desfazer último ação (Ctrl+Z)",validationCannotMove:"Não pode mover um campo como filho dele mesmo",autoType:'Campo do tipo "auto". O tipo do campo é determinao automaticamente a partir do seu valor e pode ser texto, número, verdade/falso ou nulo.',objectType:'Campo do tipo "objeto". Um objeto contém uma lista de pares com chave e valor.',arrayType:'Campo do tipo "lista". Uma lista contem uma coleção de valores ordenados.',stringType:'Campo do tipo "string". Campo do tipo nao é determinado através do seu valor, mas sempre retornara um texto.',examples:"Exemplos",default:"Revelia"},tr:{array:"Dizin",auto:"Otomatik",appendText:"Ekle",appendTitle:"Bu alanın altına 'otomatik' tipinde yeni bir alan ekle (Ctrl+Shift+Ins)",appendSubmenuTitle:"Eklenecek alanın tipini seç",appendTitleAuto:"'Otomatik' tipinde yeni bir alan ekle (Ctrl+Shift+Ins)",ascending:"Artan",ascendingTitle:"${type}'ın alt tiplerini artan düzende sırala",actionsMenu:"Aksiyon menüsünü açmak için tıklayın (Ctrl+M)",collapseAll:"Tüm alanları kapat",descending:"Azalan",descendingTitle:"${type}'ın alt tiplerini azalan düzende sırala",drag:"Bu alanı taşımak için sürükleyin (Alt+Shift+Arrows)",duplicateKey:"Var olan anahtar",duplicateText:"Aşağıya kopyala",duplicateTitle:"Seçili alanlardan bir daha oluştur (Ctrl+D)",duplicateField:"Bu alandan bir daha oluştur (Ctrl+D)",duplicateFieldError:"Duplicate field name",cannotParseFieldError:"Alan JSON'a ayrıştırılamıyor",cannotParseValueError:"JSON'a değer ayrıştırılamıyor",empty:"boş",expandAll:"Tüm alanları aç",expandTitle:"Bu alanı açmak/kapatmak için tıkla (Ctrl+E). \nAlt alanlarda dahil tüm alanları açmak için Ctrl+Click ",insert:"Ekle",insertTitle:"Bu alanın üstüne 'otomatik' tipinde yeni bir alan ekle (Ctrl+Ins)",insertSub:"Araya eklenecek alanın tipini seç",object:"Nesne",ok:"Tamam",redo:"Yeniden yap (Ctrl+Shift+Z)",removeText:"Kaldır",removeTitle:"Seçilen alanları kaldır (Ctrl+Del)",removeField:"Bu alanı kaldır (Ctrl+Del)",selectNode:"Bir nesne seç...",showAll:"tümünü göster",showMore:"daha fazla göster",showMoreStatus:"${totalChilds} alanın ${visibleChilds} alt alanları gösteriliyor",sort:"Sırala",sortTitle:"${type}'ın alt alanlarını sırala",sortTitleShort:"İçerikleri sırala",sortFieldLabel:"Alan:",sortDirectionLabel:"Yön:",sortFieldTitle:"Diziyi veya nesneyi sıralamak için iç içe geçmiş alanı seçin",sortAscending:"Artan",sortAscendingTitle:"Seçili alanı artan düzende sırala",sortDescending:"Azalan",sortDescendingTitle:"Seçili alanı azalan düzende sırala",string:"Karakter Dizisi",transform:"Dönüştür",transformTitle:"${type}'ın alt alanlarını filtrele, sırala veya dönüştür",transformTitleShort:"İçerikleri filterele, sırala veya dönüştür",transformQueryTitle:"JMESPath sorgusu gir",transformWizardLabel:"Sihirbaz",transformWizardFilter:"Filtre",transformWizardSortBy:"Sırala",transformWizardSelectFields:"Alanları seç",transformQueryLabel:"Sorgu",transformPreviewLabel:"Önizleme",type:"Tip",typeTitle:"Bu alanın tipini değiştir",openUrl:"URL'i yeni bir pencerede açmak için Ctrl+Click veya Ctrl+Enter",undo:"Son değişikliği geri al (Ctrl+Z)",validationCannotMove:"Alt alan olarak taşınamıyor",autoType:'Alan tipi "otomatik". Alan türü otomatik olarak değerden belirlenirve bir dize, sayı, boolean veya null olabilir.',objectType:'Alan tipi "nesne". Bir nesne, sıralanmamış bir anahtar / değer çifti kümesi içerir.',arrayType:'Alan tipi "dizi". Bir dizi, düzenli değerler koleksiyonu içerir.',stringType:'Alan tipi "karakter dizisi". Alan türü değerden belirlenmez,ancak her zaman karakter dizisi olarak döndürülür.',modeCodeText:"Kod",modeCodeTitle:"Kod vurgulayıcıya geç",modeFormText:"Form",modeFormTitle:"Form düzenleyiciye geç",modeTextText:"Metin",modeTextTitle:"Düz metin düzenleyiciye geç",modeTreeText:"Ağaç",modeTreeTitle:"Ağaç düzenleyiciye geç",modeViewText:"Görünüm",modeViewTitle:"Ağaç görünümüne geç",examples:"Örnekler",default:"Varsayılan"},ja:{array:"配列",auto:"オート",appendText:"追加",appendTitle:'次のフィールドに"オート"のフィールドを追加 (Ctrl+Shift+Ins)',appendSubmenuTitle:"追加するフィールドの型を選択してください",appendTitleAuto:'"オート"のフィールドを追加 (Ctrl+Shift+Ins)',ascending:"昇順",ascendingTitle:"${type}の子要素を昇順に並べ替え",actionsMenu:"クリックしてアクションメニューを開く (Ctrl+M)",collapseAll:"すべてを折りたたむ",descending:"降順",descendingTitle:"${type}の子要素を降順に並べ替え",drag:"ドラッグして選択中のフィールドを移動 (Alt+Shift+Arrows)",duplicateKey:"複製キー",duplicateText:"複製",duplicateTitle:"選択中のフィールドを複製 (Ctrl+D)",duplicateField:"選択中のフィールドを複製 (Ctrl+D)",duplicateFieldError:"フィールド名が重複しています",cannotParseFieldError:"JSONのフィールドを解析できません",cannotParseValueError:"JSONの値を解析できません",empty:"空",expandAll:"すべてを展開",expandTitle:"クリックしてフィールドを展開/折りたたむ (Ctrl+E). \nCtrl+Click ですべての子要素を展開/折りたたむ",insert:"挿入",insertTitle:"選択中のフィールドの前に新しいフィールドを挿入 (Ctrl+Ins)",insertSub:"挿入するフィールドの型を選択",object:"オブジェクト",ok:"実行",redo:"やり直す (Ctrl+Shift+Z)",removeText:"削除",removeTitle:"選択中のフィールドを削除 (Ctrl+Del)",removeField:"選択中のフィールドを削除 (Ctrl+Del)",selectNode:"ノードを選択...",showAll:"すべてを表示",showMore:"もっと見る",showMoreStatus:"${totalChilds}個のアイテムのうち ${visibleChilds}個を表示しています。",sort:"並べ替え",sortTitle:"${type}の子要素を並べ替え",sortTitleShort:"並べ替え",sortFieldLabel:"フィールド:",sortDirectionLabel:"順序:",sortFieldTitle:"配列またはオブジェクトを並び替えるためのフィールドを選択",sortAscending:"昇順",sortAscendingTitle:"選択中のフィールドを昇順に並び替え",sortDescending:"降順",sortDescendingTitle:"選択中のフィールドを降順に並び替え",string:"文字列",transform:"変換",transformTitle:"${type}の子要素をフィルター・並び替え・変換する",transformTitleShort:"内容をフィルター・並び替え・変換する",extract:"抽出",extractTitle:"${type}を抽出",transformQueryTitle:"JMESPathクエリを入力",transformWizardLabel:"ウィザード",transformWizardFilter:"フィルター",transformWizardSortBy:"並び替え",transformWizardSelectFields:"フィールドを選択",transformQueryLabel:"クエリ",transformPreviewLabel:"プレビュー",type:"型",typeTitle:"選択中のフィールドの型を変更",openUrl:"Ctrl+Click または Ctrl+Enter で 新規ウィンドウでURLを開く",undo:"元に戻す (Ctrl+Z)",validationCannotMove:"子要素に移動できません ",autoType:"オート： フィールドの型は値から自動的に決定されます。 (文字列・数値・ブール・null)",objectType:"オブジェクト： オブジェクトは順序が決まっていないキーと値のペア組み合わせです。",arrayType:"配列： 配列は順序が決まっている値の集合体です。",stringType:"文字列： フィールド型は値から決定されませんが、常に文字列として返されます。",modeCodeText:"コードモード",modeCodeTitle:"ハイライトモードに切り替え",modeFormText:"フォームモード",modeFormTitle:"フォームモードに切り替え",modeTextText:"テキストモード",modeTextTitle:"テキストモードに切り替え",modeTreeText:"ツリーモード",modeTreeTitle:"ツリーモードに切り替え",modeViewText:"ビューモード",modeViewTitle:"ビューモードに切り替え",modePreviewText:"プレビュー",modePreviewTitle:"プレビューに切り替え",examples:"例",default:"デフォルト"},"fr-FR":{array:"Liste",auto:"Auto",appendText:"Ajouter",appendTitle:"Ajouter un champ de type 'auto' après ce champ (Ctrl+Shift+Ins)",appendSubmenuTitle:"Sélectionner le type du champ à ajouter",appendTitleAuto:"Ajouter un champ de type 'auto' (Ctrl+Shift+Ins)",ascending:"Ascendant",ascendingTitle:"Trier les enfants de ce ${type} par ordre ascendant",actionsMenu:"Ouvrir le menu des actions (Ctrl+M)",collapseAll:"Regrouper",descending:"Descendant",descendingTitle:"Trier les enfants de ce ${type} par ordre descendant",drag:"Déplacer (Alt+Shift+Arrows)",duplicateKey:"Dupliquer la clé",duplicateText:"Dupliquer",duplicateTitle:"Dupliquer les champs sélectionnés (Ctrl+D)",duplicateField:"Dupliquer ce champ (Ctrl+D)",duplicateFieldError:"Dupliquer le nom de champ",cannotParseFieldError:"Champ impossible à parser en JSON",cannotParseValueError:"Valeur impossible à parser en JSON",empty:"vide",expandAll:"Étendre",expandTitle:"Étendre/regrouper ce champ (Ctrl+E). \nCtrl+Click pour étendre/regrouper avec tous les champs.",insert:"Insérer",insertTitle:"Insérer un champ de type 'auto' avant ce champ (Ctrl+Ins)",insertSub:"Sélectionner le type de champ à insérer",object:"Objet",ok:"Ok",redo:"Rejouer (Ctrl+Shift+Z)",removeText:"Supprimer",removeTitle:"Supprimer les champs sélectionnés (Ctrl+Del)",removeField:"Supprimer ce champ (Ctrl+Del)",searchTitle:"Rechercher champs et valeurs",searchNextResultTitle:"Résultat suivant (Enter)",searchPreviousResultTitle:"Résultat précédent (Shift + Enter)",selectNode:"Sélectionner un nœud...",showAll:"voir tout",showMore:"voir plus",showMoreStatus:"${visibleChilds} éléments affichés de ${totalChilds}.",sort:"Trier",sortTitle:"Trier les champs de ce ${type}",sortTitleShort:"Trier",sortFieldLabel:"Champ:",sortDirectionLabel:"Direction:",sortFieldTitle:"Sélectionner les champs permettant de trier les listes et objet",sortAscending:"Ascendant",sortAscendingTitle:"Trier les champs sélectionnés par ordre ascendant",sortDescending:"Descendant",sortDescendingTitle:"Trier les champs sélectionnés par ordre descendant",string:"Chaîne",transform:"Transformer",transformTitle:"Filtrer, trier, or transformer les enfants de ce ${type}",transformTitleShort:"Filtrer, trier ou transformer le contenu",extract:"Extraire",extractTitle:"Extraire ce ${type}",transformQueryTitle:"Saisir une requête JMESPath",transformWizardLabel:"Assistant",transformWizardFilter:"Filtrer",transformWizardSortBy:"Trier par",transformWizardSelectFields:"Sélectionner les champs",transformQueryLabel:"Requête",transformPreviewLabel:"Prévisualisation",type:"Type",typeTitle:"Changer le type de ce champ",openUrl:"Ctrl+Click ou Ctrl+Enter pour ouvrir l'url dans une autre fenêtre",undo:"Annuler la dernière action (Ctrl+Z)",validationCannotMove:"Cannot move a field into a child of itself",autoType:'Champe de type "auto". Ce type de champ est automatiquement déterminé en fonction de la valeur et peut être de type "chaîne", "nombre", "booléen" ou null.',objectType:'Champ de type "objet". Un objet contient un ensemble non ordonné de paires clé/valeur.',arrayType:'Champ de type "liste". Une liste contient une collection ordonnée de valeurs.',stringType:'Champ de type "chaîne". Ce type de champ n\'est pas déterminé en fonction de la valeur, mais retourne systématiquement une chaîne de caractères.',modeEditorTitle:"Changer mode d'édition",modeCodeText:"Code",modeCodeTitle:"Activer surlignage code",modeFormText:"Formulaire",modeFormTitle:"Activer formulaire",modeTextText:"Texte",modeTextTitle:"Activer éditeur texte",modeTreeText:"Arbre",modeTreeTitle:"Activer éditeur arbre",modeViewText:"Lecture seule",modeViewTitle:"Activer vue arbre",modePreviewText:"Prévisualisation",modePreviewTitle:"Activer mode prévisualiser",examples:"Exemples",default:"Défaut"}},o="en",a="undefined"!==typeof navigator?navigator.language||navigator.userLanguage:void 0,s=r.find((function(e){return e===a}))||o;function l(e){if(e){var t=r.find((function(t){return t===e}));t&&(s=t)}}function c(e){if(e){var t=function(t){var n=r.find((function(e){return e===t}));n||r.push(t),i[t]=Object.assign({},i[o],i[t],e[t])};for(var n in e)t(n)}}function u(e,t,n){n||(n=s);var r=i[n][e]||i[o][e]||e;if(t)for(var a in t)r=r.replace("${"+a+"}",t[a]);return r}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a}));var r=document.body,i=10485760,o=2e4,a=2147483648},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(12),i=n(0),o=n(1);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}var c=function(){function e(t,n){a(this,e),this.dom={};var r=this,i=this.dom;this.anchor=void 0,this.items=t,this.eventListeners={},this.selection=void 0,this.onClose=n?n.close:void 0;var s=document.createElement("div");s.className="jsoneditor-contextmenu-root",i.root=s;var l=document.createElement("div");l.className="jsoneditor-contextmenu",i.menu=l,s.appendChild(l);var c=document.createElement("ul");c.className="jsoneditor-menu",l.appendChild(c),i.list=c,i.items=[];var u=document.createElement("button");u.type="button",i.focusButton=u;var d=document.createElement("li");function f(e,t,n){n.forEach((function(n){if("separator"===n.type){var i=document.createElement("div");i.className="jsoneditor-separator";var a=document.createElement("li");a.appendChild(i),e.appendChild(a)}else{var s={},l=document.createElement("li");e.appendChild(l);var c=document.createElement("button");if(c.type="button",c.className=n.className,s.button=c,n.title&&(c.title=n.title),n.click&&(c.onclick=function(e){e.preventDefault(),r.hide(),n.click()}),l.appendChild(c),n.submenu){var u=document.createElement("div");u.className="jsoneditor-icon",c.appendChild(u);var d,h=document.createElement("div");if(h.className="jsoneditor-text"+(n.click?"":" jsoneditor-right-margin"),h.appendChild(document.createTextNode(n.text)),c.appendChild(h),n.click){c.className+=" jsoneditor-default";var p=document.createElement("button");p.type="button",s.buttonExpand=p,p.className="jsoneditor-expand";var m=document.createElement("div");m.className="jsoneditor-expand",p.appendChild(m),l.appendChild(p),n.submenuTitle&&(p.title=n.submenuTitle),d=p}else{var g=document.createElement("div");g.className="jsoneditor-expand",c.appendChild(g),d=c}d.onclick=function(e){e.preventDefault(),r._onExpandItem(s),d.focus()};var v=[];s.subItems=v;var b=document.createElement("ul");s.ul=b,b.className="jsoneditor-menu",b.style.height="0",l.appendChild(b),f(b,v,n.submenu)}else{var y=document.createElement("div");y.className="jsoneditor-icon",c.appendChild(y);var C=document.createElement("div");C.className="jsoneditor-text",C.appendChild(document.createTextNode(Object(o["c"])(n.text))),c.appendChild(C)}t.push(s)}}))}d.style.overflow="hidden",d.style.height="0",d.appendChild(u),c.appendChild(d),f(c,this.dom.items,t),this.maxHeight=0,t.forEach((function(e){var n=24*(t.length+(e.submenu?e.submenu.length:0));r.maxHeight=Math.max(r.maxHeight,n)}))}return l(e,[{key:"_getVisibleButtons",value:function(){var e=[],t=this;return this.dom.items.forEach((function(n){e.push(n.button),n.buttonExpand&&e.push(n.buttonExpand),n.subItems&&n===t.expandedItem&&n.subItems.forEach((function(t){e.push(t.button),t.buttonExpand&&e.push(t.buttonExpand)}))})),e}},{key:"show",value:function(t,n,o){this.hide();var a=!0,s=t.parentNode,l=t.getBoundingClientRect(),c=s.getBoundingClientRect(),u=n.getBoundingClientRect(),d=this;this.dom.absoluteAnchor=Object(r["a"])(t,n,(function(){d.hide()})),l.bottom+this.maxHeight<u.bottom||l.top-this.maxHeight>u.top&&(a=!1);var f=o?0:l.top-c.top;if(a){var h=t.offsetHeight;this.dom.menu.style.left="0",this.dom.menu.style.top=f+h+"px",this.dom.menu.style.bottom=""}else this.dom.menu.style.left="0",this.dom.menu.style.top="",this.dom.menu.style.bottom="0px";this.dom.absoluteAnchor.appendChild(this.dom.root),this.selection=Object(i["getSelection"])(),this.anchor=t,setTimeout((function(){d.dom.focusButton.focus()}),0),e.visibleMenu&&e.visibleMenu.hide(),e.visibleMenu=this}},{key:"hide",value:function(){this.dom.absoluteAnchor&&(this.dom.absoluteAnchor.destroy(),delete this.dom.absoluteAnchor),this.dom.root.parentNode&&(this.dom.root.parentNode.removeChild(this.dom.root),this.onClose&&this.onClose()),e.visibleMenu===this&&(e.visibleMenu=void 0)}},{key:"_onExpandItem",value:function(e){var t=this,n=e===this.expandedItem,r=this.expandedItem;if(r&&(r.ul.style.height="0",r.ul.style.padding="",setTimeout((function(){t.expandedItem!==r&&(r.ul.style.display="",Object(i["removeClassName"])(r.ul.parentNode,"jsoneditor-selected"))}),300),this.expandedItem=void 0),!n){var o=e.ul;o.style.display="block",o.clientHeight,setTimeout((function(){if(t.expandedItem===e){for(var n=0,r=0;r<o.childNodes.length;r++)n+=o.childNodes[r].clientHeight;o.style.height=n+"px",o.style.padding="5px 10px"}}),0),Object(i["addClassName"])(o.parentNode,"jsoneditor-selected"),this.expandedItem=e}}},{key:"_onKeyDown",value:function(e){var t,n,r,o,a=e.target,s=e.which,l=!1;27===s?(this.selection&&Object(i["setSelection"])(this.selection),this.anchor&&this.anchor.focus(),this.hide(),l=!0):9===s?e.shiftKey?(t=this._getVisibleButtons(),n=t.indexOf(a),0===n&&(t[t.length-1].focus(),l=!0)):(t=this._getVisibleButtons(),n=t.indexOf(a),n===t.length-1&&(t[0].focus(),l=!0)):37===s?("jsoneditor-expand"===a.className&&(t=this._getVisibleButtons(),n=t.indexOf(a),r=t[n-1],r&&r.focus()),l=!0):38===s?(t=this._getVisibleButtons(),n=t.indexOf(a),r=t[n-1],r&&"jsoneditor-expand"===r.className&&(r=t[n-2]),r||(r=t[t.length-1]),r&&r.focus(),l=!0):39===s?(t=this._getVisibleButtons(),n=t.indexOf(a),o=t[n+1],o&&"jsoneditor-expand"===o.className&&o.focus(),l=!0):40===s&&(t=this._getVisibleButtons(),n=t.indexOf(a),o=t[n+1],o&&"jsoneditor-expand"===o.className&&(o=t[n+2]),o||(o=t[0]),o&&(o.focus(),l=!0),l=!0),l&&(e.stopPropagation(),e.preventDefault())}}]),e}();c.visibleMenu=void 0},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var r=n(34),i=n.n(r),o=n(0);function a(e,t){var n=t.sort,r=t.filter,i=t.projection,a="";if(r){var s="@"!==r.field?["0"].concat(Object(o["parsePath"])("."+r.field)):["0"],l=Object(o["get"])(e,s),c="string"===typeof l?r.value:Object(o["parseString"])(r.value);a+="[? "+r.field+" "+r.relation+" `"+JSON.stringify(c)+"`]"}else a+=Array.isArray(e)?"[*]":"@";return n&&("desc"===n.direction?a+=" | reverse(sort_by(@, &"+n.field+"))":a+=" | sort_by(@, &"+n.field+")"),i&&("]"!==a[a.length-1]&&(a+=" | [*]"),1===i.fields.length?a+="."+i.fields[0]:i.fields.length>1&&(a+=".{"+i.fields.map((function(e){var t=e.split("."),n=t[t.length-1];return n+": "+e})).join(", ")+"}")),a}function s(e,t){return i.a.search(e,t)}},function(e,t,n){"use strict";n.r(t),n.d(t,"showSortModal",(function(){return s}));var r=n(14),i=n.n(r),o=n(1),a=n(0);function s(e,t,n,r){var s=Array.isArray(t)?Object(a["getChildPaths"])(t):[""],l=r&&r.path&&Object(a["contains"])(s,r.path)?r.path:s[0],c=r&&r.direction||"asc",u='<div class="pico-modal-contents"><div class="pico-modal-header">'+Object(o["c"])("sort")+"</div><form><table><tbody><tr>  <td>"+Object(o["c"])("sortFieldLabel")+' </td>  <td class="jsoneditor-modal-input">  <div class="jsoneditor-select-wrapper">    <select id="field" title="'+Object(o["c"])("sortFieldTitle")+'">    </select>  </div>  </td></tr><tr>  <td>'+Object(o["c"])("sortDirectionLabel")+' </td>  <td class="jsoneditor-modal-input">  <div id="direction" class="jsoneditor-button-group"><input type="button" value="'+Object(o["c"])("sortAscending")+'" title="'+Object(o["c"])("sortAscendingTitle")+'" data-value="asc" class="jsoneditor-button-first jsoneditor-button-asc"/><input type="button" value="'+Object(o["c"])("sortDescending")+'" title="'+Object(o["c"])("sortDescendingTitle")+'" data-value="desc" class="jsoneditor-button-last jsoneditor-button-desc"/>  </div>  </td></tr><tr><td colspan="2" class="jsoneditor-modal-input jsoneditor-modal-actions">  <input type="submit" id="ok" value="'+Object(o["c"])("ok")+'" /></td></tr></tbody></table></form></div>';i()({parent:e,content:u,overlayClass:"jsoneditor-modal-overlay",overlayStyles:{backgroundColor:"rgb(1,1,1)",opacity:.3},modalClass:"jsoneditor-modal jsoneditor-modal-sort"}).afterCreate((function(e){var t=e.modalElem().querySelector("form"),r=e.modalElem().querySelector("#ok"),i=e.modalElem().querySelector("#field"),o=e.modalElem().querySelector("#direction");function a(e){return""===e?"@":"."===e[0]?e.slice(1):e}function u(e){o.value=e,o.className="jsoneditor-button-group jsoneditor-button-group-value-"+o.value}s.forEach((function(e){var t=document.createElement("option");t.text=a(e),t.value=e,i.appendChild(t)})),i.value=l||s[0],u(c||"asc"),o.onclick=function(e){u(e.target.getAttribute("data-value"))},r.onclick=function(t){t.preventDefault(),t.stopPropagation(),e.close(),n({path:i.value,direction:o.value})},t&&(t.onsubmit=r.onclick)})).afterClose((function(e){e.destroy()})).show()}},function(e,t,n){"use strict";n.r(t),n.d(t,"showTransformModal",(function(){return y}));var r=n(14),i=n.n(r),o=n(10),a=n.n(o),s=n(1);function l(e){return l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e,t,n){var r;"number"===typeof t?t>10?r=h(" ",10):t>=1&&(r=h(" ",t)):"string"===typeof t&&""!==t&&(r=t);var i=u(e,r,"",n);return i.length>n?p(i,n)+"...":i}function u(e,t,n,r){return"boolean"===typeof e||e instanceof Boolean||null===e||"number"===typeof e||e instanceof Number||"string"===typeof e||e instanceof String||e instanceof Date?JSON.stringify(e):Array.isArray(e)?d(e,t,n,r):e&&"object"===l(e)?f(e,t,n,r):void 0}function d(e,t,n,r){for(var i=t?n+t:void 0,o=t?"[\n":"[",a=0;a<e.length;a++){var s=e[a];if(t&&(o+=i),o+="undefined"!==typeof s&&"function"!==typeof s?u(s,t,i,r):"null",a<e.length-1&&(o+=t?",\n":","),o.length>r)return o+"..."}return o+=t?"\n"+n+"]":"]",o}function f(e,t,n,r){var i=t?n+t:void 0,o=!0,a=t?"{\n":"{";if("function"===typeof e.toJSON)return u(e.toJSON(),t,n,r);for(var s in e)if(m(e,s)){var l=e[s];if(o?o=!1:a+=t?",\n":",",a+=t?i+'"'+s+'": ':'"'+s+'":',a+=u(l,t,i,r),a.length>r)return a+"..."}return a+=t?"\n"+n+"}":"}",a}function h(e,t){var n="";while(t-- >0)n+=e;return n}function p(e,t){return"number"===typeof t?e.slice(0,t):e}function m(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var g=n(0),v=n(2),b='Enter a <a href="http://jmespath.org" target="_blank">JMESPath</a> query to filter, sort, or transform the JSON data.<br/>To learn JMESPath, go to <a href="http://jmespath.org/tutorial.html" target="_blank">the interactive tutorial</a>.';function y(e){var t=e.container,n=e.json,r=e.queryDescription,o=void 0===r?b:r,l=e.createQuery,u=e.executeQuery,d=e.onTransform,f=n,h='<label class="pico-modal-contents"><div class="pico-modal-header">'+Object(s["c"])("transform")+"</div><p>"+o+'</p><div class="jsoneditor-jmespath-label">'+Object(s["c"])("transformWizardLabel")+' </div><div id="wizard" class="jsoneditor-jmespath-block jsoneditor-jmespath-wizard">  <table class="jsoneditor-jmespath-wizard-table">    <tbody>      <tr>        <th>'+Object(s["c"])("transformWizardFilter")+'</th>        <td class="jsoneditor-jmespath-filter">          <div class="jsoneditor-inline jsoneditor-jmespath-filter-field" >            <select id="filterField">            </select>          </div>          <div class="jsoneditor-inline jsoneditor-jmespath-filter-relation" >            <select id="filterRelation">              <option value="==">==</option>              <option value="!=">!=</option>              <option value="<">&lt;</option>              <option value="<=">&lt;=</option>              <option value=">">&gt;</option>              <option value=">=">&gt;=</option>            </select>          </div>          <div class="jsoneditor-inline jsoneditor-jmespath-filter-value" >            <input type="text" class="value" placeholder="value..." id="filterValue" />          </div>        </td>      </tr>      <tr>        <th>'+Object(s["c"])("transformWizardSortBy")+'</th>        <td class="jsoneditor-jmespath-filter">          <div class="jsoneditor-inline jsoneditor-jmespath-sort-field">            <select id="sortField">            </select>          </div>          <div class="jsoneditor-inline jsoneditor-jmespath-sort-order" >            <select id="sortOrder">              <option value="asc">Ascending</option>              <option value="desc">Descending</option>            </select>          </div>        </td>      </tr>      <tr id="selectFieldsPart">        <th>'+Object(s["c"])("transformWizardSelectFields")+'</th>        <td class="jsoneditor-jmespath-filter">          <select class="jsoneditor-jmespath-select-fields" id="selectFields" multiple></select>        </td>      </tr>    </tbody>  </table></div><div class="jsoneditor-jmespath-label">'+Object(s["c"])("transformQueryLabel")+' </div><div class="jsoneditor-jmespath-block">  <textarea id="query"             rows="4"             autocomplete="off"             autocorrect="off"             autocapitalize="off"             spellcheck="false"            title="'+Object(s["c"])("transformQueryTitle")+'">[*]</textarea></div><div class="jsoneditor-jmespath-label">'+Object(s["c"])("transformPreviewLabel")+' </div><div class="jsoneditor-jmespath-block">  <textarea id="preview"       class="jsoneditor-transform-preview"      readonly> </textarea></div><div class="jsoneditor-jmespath-block jsoneditor-modal-actions">  <input type="submit" id="ok" value="'+Object(s["c"])("ok")+'" autofocus /></div></div>';i()({parent:t,content:h,overlayClass:"jsoneditor-modal-overlay",overlayStyles:{backgroundColor:"rgb(1,1,1)",opacity:.3},modalClass:"jsoneditor-modal jsoneditor-modal-transform",focus:!1}).afterCreate((function(e){var t=e.modalElem(),r=t.querySelector("#wizard"),i=t.querySelector("#ok"),o=t.querySelector("#filterField"),s=t.querySelector("#filterRelation"),h=t.querySelector("#filterValue"),p=t.querySelector("#sortField"),m=t.querySelector("#sortOrder"),b=t.querySelector("#selectFields"),y=t.querySelector("#query"),C=t.querySelector("#preview");Array.isArray(f)||(r.style.fontStyle="italic",r.textContent="(wizard not available for objects, only for arrays)");var w=Object(g["getChildPaths"])(n);w.forEach((function(e){var t=E(e),n=document.createElement("option");n.text=t,n.value=t,o.appendChild(n);var r=document.createElement("option");r.text=t,r.value=t,p.appendChild(r)}));var x=Object(g["getChildPaths"])(n,!0).filter((function(e){return""!==e}));if(x.length>0)x.forEach((function(e){var t=E(e),n=document.createElement("option");n.text=t,n.value=t,b.appendChild(n)}));else{var I=t.querySelector("#selectFieldsPart");I&&(I.style.display="none")}var A=new a.a(o,{defaultSelected:!1,clearable:!0,allowDeselect:!0,placeholder:"field..."}),k=new a.a(s,{defaultSelected:!1,clearable:!0,allowDeselect:!0,placeholder:"compare..."}),S=new a.a(p,{defaultSelected:!1,clearable:!0,allowDeselect:!0,placeholder:"field..."}),_=new a.a(m,{defaultSelected:!1,clearable:!0,allowDeselect:!0,placeholder:"order..."}),T=new a.a(b,{multiple:!0,clearable:!0,defaultSelected:!1,placeholder:"select fields..."});function E(e){return""===e?"@":"."===e[0]?e.slice(1):e}function O(){try{var e=u(f,y.value);C.className="jsoneditor-transform-preview",C.value=c(e,2,v["b"]),i.disabled=!1}catch(t){C.className="jsoneditor-transform-preview jsoneditor-error",C.value=t.toString(),i.disabled=!0}}A.on("selectr.change",L),k.on("selectr.change",L),h.oninput=L,S.on("selectr.change",L),_.on("selectr.change",L),T.on("selectr.change",L),t.querySelector(".pico-modal-contents").onclick=function(e){"A"!==e.target.nodeName&&e.preventDefault()};var R=Object(g["debounce"])(O,300);function N(e,t){try{y.value=l(e,t),i.disabled=!1,R()}catch(r){var n='Error: an error happened when executing "createQuery": '+(r.message||r.toString());y.value="",i.disabled=!0,C.className="jsoneditor-transform-preview jsoneditor-error",C.value=n}}function L(){var e={};if(o.value&&s.value&&h.value&&(e.filter={field:o.value,relation:s.value,value:h.value}),p.value&&m.value&&(e.sort={field:p.value,direction:m.value}),b.value){for(var t=[],r=0;r<b.options.length;r++)if(b.options[r].selected){var i=b.options[r].value;t.push(i)}e.projection={fields:t}}N(n,e)}y.oninput=R,i.onclick=function(t){t.preventDefault(),t.stopPropagation(),e.close(),d(y.value)},N(n,{}),setTimeout((function(){y.select(),y.focus(),y.selectionStart=3,y.selectionEnd=3}))})).afterClose((function(e){e.destroy()})).show()}},function(e,t,n){"use strict";function r(e,t){for(var n in t=t||{},e)t[n]=e[n];return t}function i(e,t,n){var r=n?" !== ":" === ",i=n?" || ":" && ",o=n?"!":"",a=n?"":"!";switch(e){case"null":return t+r+"null";case"array":return o+"Array.isArray("+t+")";case"object":return"("+o+t+i+"typeof "+t+r+'"object"'+i+a+"Array.isArray("+t+"))";case"integer":return"(typeof "+t+r+'"number"'+i+a+"("+t+" % 1)"+i+t+r+t+")";default:return"typeof "+t+r+'"'+e+'"'}}function o(e,t){switch(e.length){case 1:return i(e[0],t,!0);default:var n="",r=l(e);for(var o in r.array&&r.object&&(n=r.null?"(":"(!"+t+" || ",n+="typeof "+t+' !== "object")',delete r.null,delete r.array,delete r.object),r.number&&delete r.integer,r)n+=(n?" && ":"")+i(o,t,!0);return n}}e.exports={copy:r,checkDataType:i,checkDataTypes:o,coerceToTypes:s,toHash:l,getProperty:d,escapeQuotes:f,equal:n(18),ucs2length:n(47),varOccurences:h,varReplace:p,cleanUpCode:b,finalCleanUpCode:T,schemaHasRules:E,schemaHasRulesExcept:O,schemaUnknownRules:R,toQuotedString:N,getPathExpr:L,getPath:D,getData:P,unescapeFragment:j,unescapeJsonPointer:$,escapeFragment:H,escapeJsonPointer:z};var a=l(["string","number","integer","boolean","null"]);function s(e,t){if(Array.isArray(t)){for(var n=[],r=0;r<t.length;r++){var i=t[r];(a[i]||"array"===e&&"array"===i)&&(n[n.length]=i)}if(n.length)return n}else{if(a[t])return[t];if("array"===e&&"array"===t)return["array"]}}function l(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!0;return t}var c=/^[a-z$_][a-z$_0-9]*$/i,u=/'|\\/g;function d(e){return"number"==typeof e?"["+e+"]":c.test(e)?"."+e:"['"+f(e)+"']"}function f(e){return e.replace(u,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function h(e,t){t+="[^0-9]";var n=e.match(new RegExp(t,"g"));return n?n.length:0}function p(e,t,n){return t+="([^0-9])",n=n.replace(/\$/g,"$$$$"),e.replace(new RegExp(t,"g"),n+"$1")}var m=/else\s*{\s*}/g,g=/if\s*\([^)]+\)\s*\{\s*\}(?!\s*else)/g,v=/if\s*\(([^)]+)\)\s*\{\s*\}\s*else(?!\s*if)/g;function b(e){return e.replace(m,"").replace(g,"").replace(v,"if (!($1))")}var y=/[^v.]errors/g,C=/var errors = 0;|var vErrors = null;|validate.errors = vErrors;/g,w=/var errors = 0;|var vErrors = null;/g,x="return errors === 0;",I="validate.errors = null; return true;",A=/if \(errors === 0\) return data;\s*else throw new ValidationError\(vErrors\);/,k="return data;",S=/[^A-Za-z_$]rootData[^A-Za-z0-9_$]/g,_=/if \(rootData === undefined\) rootData = data;/;function T(e,t){var n=e.match(y);return n&&2==n.length&&(e=t?e.replace(w,"").replace(A,k):e.replace(C,"").replace(x,I)),n=e.match(S),n&&3===n.length?e.replace(_,""):e}function E(e,t){if("boolean"==typeof e)return!e;for(var n in e)if(t[n])return!0}function O(e,t,n){if("boolean"==typeof e)return!e&&"not"!=n;for(var r in e)if(r!=n&&t[r])return!0}function R(e,t){if("boolean"!=typeof e)for(var n in e)if(!t[n])return n}function N(e){return"'"+f(e)+"'"}function L(e,t,n,r){var i=n?"'/' + "+t+(r?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):r?"'[' + "+t+" + ']'":"'[\\'' + "+t+" + '\\']'";return F(e,i)}function D(e,t,n){var r=N(n?"/"+z(t):d(t));return F(e,r)}var B=/^\/(?:[^~]|~0|~1)*$/,M=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function P(e,t,n){var r,i,o,a;if(""===e)return"rootData";if("/"==e[0]){if(!B.test(e))throw new Error("Invalid JSON-pointer: "+e);i=e,o="rootData"}else{if(a=e.match(M),!a)throw new Error("Invalid JSON-pointer: "+e);if(r=+a[1],i=a[2],"#"==i){if(r>=t)throw new Error("Cannot access property/index "+r+" levels up, current level is "+t);return n[t-r]}if(r>t)throw new Error("Cannot access data "+r+" levels up, current level is "+t);if(o="data"+(t-r||""),!i)return o}for(var s=o,l=i.split("/"),c=0;c<l.length;c++){var u=l[c];u&&(o+=d($(u)),s+=" && "+o)}return s}function F(e,t){return'""'==e?t:(e+" + "+t).replace(/' \+ '/g,"")}function j(e){return $(decodeURIComponent(e))}function H(e){return encodeURIComponent(z(e))}function z(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function $(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(3),i=n(1);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}var l=function(){function e(t,n,a,s){o(this,e);for(var l={code:{text:Object(i["c"])("modeCodeText"),title:Object(i["c"])("modeCodeTitle"),click:function(){s("code")}},form:{text:Object(i["c"])("modeFormText"),title:Object(i["c"])("modeFormTitle"),click:function(){s("form")}},text:{text:Object(i["c"])("modeTextText"),title:Object(i["c"])("modeTextTitle"),click:function(){s("text")}},tree:{text:Object(i["c"])("modeTreeText"),title:Object(i["c"])("modeTreeTitle"),click:function(){s("tree")}},view:{text:Object(i["c"])("modeViewText"),title:Object(i["c"])("modeViewTitle"),click:function(){s("view")}},preview:{text:Object(i["c"])("modePreviewText"),title:Object(i["c"])("modePreviewTitle"),click:function(){s("preview")}}},c=[],u=0;u<n.length;u++){var d=n[u],f=l[d];if(!f)throw new Error('Unknown mode "'+d+'"');f.className="jsoneditor-type-modes"+(a===d?" jsoneditor-selected":""),c.push(f)}var h=l[a];if(!h)throw new Error('Unknown mode "'+a+'"');var p=h.text,m=document.createElement("button");m.type="button",m.className="jsoneditor-modes jsoneditor-separator",m.textContent=p+" ▾",m.title=Object(i["c"])("modeEditorTitle"),m.onclick=function(){var e=new r["a"](c);e.show(m,t)};var g=document.createElement("div");g.className="jsoneditor-modes",g.style.position="relative",g.appendChild(m),t.appendChild(g),this.dom={container:t,box:m,frame:g}}return s(e,[{key:"focus",value:function(){this.dom.box.focus()}},{key:"destroy",value:function(){this.dom&&this.dom.frame&&this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom=null}}]),e}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}n.d(t,"a",(function(){return a}));var a=function(){function e(t){if(r(this,e),this.target=t.target||null,!this.target)throw new Error('FocusTracker constructor called without a "target" to track.');this.onFocus="function"===typeof t.onFocus?t.onFocus:null,this.onBlur="function"===typeof t.onBlur?t.onBlur:null,this._onClick=this._onEvent.bind(this),this._onKeyUp=function(e){9!==e.which&&9!==e.keyCode||this._onEvent(e)}.bind(this),this.focusFlag=!1,this.firstEventFlag=!0,(this.onFocus||this.onBlur)&&(document.addEventListener("click",this._onClick),document.addEventListener("keyup",this._onKeyUp))}return o(e,[{key:"destroy",value:function(){document.removeEventListener("click",this._onClick),document.removeEventListener("keyup",this._onKeyUp),this._onEvent({target:document.body})}},{key:"_onEvent",value:function(e){var t,n=e.target;t=n===this.target||!(!this.target.contains(n)&&!this.target.contains(document.activeElement)),t?this.focusFlag||(this.onFocus&&this.onFocus({type:"focus",target:this.target}),this.focusFlag=!0):(this.focusFlag||this.firstEventFlag)&&(this.onBlur&&this.onBlur({type:"blur",target:this.target}),this.focusFlag=!1,this.firstEventFlag&&(this.firstEventFlag=!1))}}]),e}()},function(e,t,n){"use strict";
/*!
 * Selectr 2.4.0
 * https://github.com/Mobius1/Selectr
 *
 * Released under the MIT license
 */var r={defaultSelected:!0,width:"auto",disabled:!1,searchable:!0,clearable:!1,sortSelected:!1,allowDeselect:!1,closeOnScroll:!1,nativeDropdown:!1,placeholder:"Select an option...",taggable:!1,tagPlaceholder:"Enter a tag..."},i=function(){};i.prototype={on:function(e,t){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t)},off:function(e,t){this._events=this._events||{},e in this._events!==!1&&this._events[e].splice(this._events[e].indexOf(t),1)},emit:function(e){if(this._events=this._events||{},e in this._events!==!1)for(var t=0;t<this._events[e].length;t++)this._events[e][t].apply(this,Array.prototype.slice.call(arguments,1))}},i.mixin=function(e){for(var t=["on","off","emit"],n=0;n<t.length;n++)"function"===typeof e?e.prototype[t[n]]=i.prototype[t[n]]:e[t[n]]=i.prototype[t[n]];return e};var o={extend:function(e,t){var n;for(n in t=t||{},e)e.hasOwnProperty(n)&&(t.hasOwnProperty(n)||(t[n]=e[n]));return t},each:function(e,t,n){if("[object Object]"===Object.prototype.toString.call(e))for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(n,r,e[r],e);else for(var i=0,o=e.length;i<o;i++)t.call(n,i,e[i],e)},createElement:function(e,t){var n,r=document,i=r.createElement(e);if(t&&"[object Object]"===Object.prototype.toString.call(t))for(n in t)if(n in i)i[n]=t[n];else if("html"===n)i.textContent=t[n];else if("text"===n){var o=r.createTextNode(t[n]);i.appendChild(o)}else i.setAttribute(n,t[n]);return i},hasClass:function(e,t){if(e)return e.classList?e.classList.contains(t):!!e.className&&!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},addClass:function(e,t){o.hasClass(e,t)||(e.classList?e.classList.add(t):e.className=e.className.trim()+" "+t)},removeClass:function(e,t){o.hasClass(e,t)&&(e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\s)"+t.split(" ").join("|")+"(\\s|$)","gi")," "))},closest:function(e,t){return e&&e!==document.body&&(t(e)?e:o.closest(e.parentNode,t))},isInt:function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e},debounce:function(e,t,n){var r;return function(){var i=this,o=arguments,a=function(){r=null,n||e.apply(i,o)},s=n&&!r;clearTimeout(r),r=setTimeout(a,t),s&&e.apply(i,o)}},rect:function(e,t){var n=window,r=e.getBoundingClientRect(),i=t?n.pageXOffset:0,o=t?n.pageYOffset:0;return{bottom:r.bottom+o,height:r.height,left:r.left+i,right:r.right+i,top:r.top+o,width:r.width}},includes:function(e,t){return e.indexOf(t)>-1},truncate:function(e){while(e.firstChild)e.removeChild(e.firstChild)}};function a(e,t){return e.hasOwnProperty(t)&&(!0===e[t]||e[t].length)}function s(e,t,n){e.parentNode?e.parentNode.parentNode||t.appendChild(e.parentNode):t.appendChild(e),o.removeClass(e,"excluded"),n||(e.textContent=e.textContent+"")}var l=function(){if(this.items.length){var e=document.createDocumentFragment();if(this.config.pagination){var t=this.pages.slice(0,this.pageIndex);o.each(t,(function(t,n){o.each(n,(function(t,n){s(n,e,this.customOption)}),this)}),this)}else o.each(this.items,(function(t,n){s(n,e,this.customOption)}),this);e.childElementCount&&(o.removeClass(this.items[this.navIndex],"active"),this.navIndex=e.querySelector(".selectr-option").idx,o.addClass(this.items[this.navIndex],"active")),this.tree.appendChild(e)}},c=function(e){var t=e.target;this.container.contains(t)||!this.opened&&!o.hasClass(this.container,"notice")||this.close()},u=function(e,t){t=t||e;var n=this.customOption?this.config.renderOption(t):e.textContent,r=o.createElement("li",{class:"selectr-option",html:n,role:"treeitem","aria-selected":!1});return r.idx=e.idx,this.items.push(r),e.defaultSelected&&this.defaultSelected.push(e.idx),e.disabled&&(r.disabled=!0,o.addClass(r,"disabled")),r},d=function(){this.requiresPagination=this.config.pagination&&this.config.pagination>0,a(this.config,"width")&&(o.isInt(this.config.width)?this.width=this.config.width+"px":"auto"===this.config.width?this.width="100%":o.includes(this.config.width,"%")&&(this.width=this.config.width)),this.container=o.createElement("div",{class:"selectr-container"}),this.config.customClass&&o.addClass(this.container,this.config.customClass),this.mobileDevice?o.addClass(this.container,"selectr-mobile"):o.addClass(this.container,"selectr-desktop"),this.el.tabIndex=-1,this.config.nativeDropdown||this.mobileDevice?o.addClass(this.el,"selectr-visible"):o.addClass(this.el,"selectr-hidden"),this.selected=o.createElement("div",{class:"selectr-selected",disabled:this.disabled,tabIndex:1,"aria-expanded":!1}),this.label=o.createElement(this.el.multiple?"ul":"span",{class:"selectr-label"});var e=o.createElement("div",{class:"selectr-options-container"});if(this.tree=o.createElement("ul",{class:"selectr-options",role:"tree","aria-hidden":!0,"aria-expanded":!1}),this.notice=o.createElement("div",{class:"selectr-notice"}),this.el.setAttribute("aria-hidden",!0),this.disabled&&(this.el.disabled=!0),this.el.multiple&&(o.addClass(this.label,"selectr-tags"),o.addClass(this.container,"multiple"),this.tags=[],this.selectedValues=this.getSelectedProperties("value"),this.selectedIndexes=this.getSelectedProperties("idx")),this.selected.appendChild(this.label),this.config.clearable&&(this.selectClear=o.createElement("button",{class:"selectr-clear",type:"button"}),this.container.appendChild(this.selectClear),o.addClass(this.container,"clearable")),this.config.taggable){var t=o.createElement("li",{class:"input-tag"});this.input=o.createElement("input",{class:"selectr-tag-input",placeholder:this.config.tagPlaceholder,tagIndex:0,autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",role:"textbox",type:"search"}),t.appendChild(this.input),this.label.appendChild(t),o.addClass(this.container,"taggable"),this.tagSeperators=[","],this.config.tagSeperators&&(this.tagSeperators=this.tagSeperators.concat(this.config.tagSeperators))}this.config.searchable&&(this.input=o.createElement("input",{class:"selectr-input",tagIndex:-1,autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",role:"textbox",type:"search"}),this.inputClear=o.createElement("button",{class:"selectr-input-clear",type:"button"}),this.inputContainer=o.createElement("div",{class:"selectr-input-container"}),this.inputContainer.appendChild(this.input),this.inputContainer.appendChild(this.inputClear),e.appendChild(this.inputContainer)),e.appendChild(this.notice),e.appendChild(this.tree),this.items=[],this.options=[],this.el.options.length&&(this.options=[].slice.call(this.el.options));var n,r=!1,i=0;if(this.el.children.length&&o.each(this.el.children,(function(e,t){"OPTGROUP"===t.nodeName?(r=o.createElement("ul",{class:"selectr-optgroup",role:"group",html:"<li class='selectr-optgroup--label'>"+t.label+"</li>"}),o.each(t.children,(function(e,t){t.idx=i,r.appendChild(u.call(this,t,r)),i++}),this)):(t.idx=i,u.call(this,t),i++)}),this),this.config.data&&Array.isArray(this.config.data)){this.data=[];var s,l=!1;r=!1,i=0,o.each(this.config.data,(function(e,t){a(t,"children")?(l=o.createElement("optgroup",{label:t.text}),r=o.createElement("ul",{class:"selectr-optgroup",role:"group",html:"<li class='selectr-optgroup--label'>"+t.text+"</li>"}),o.each(t.children,(function(e,t){s=new Option(t.text,t.value,!1,t.hasOwnProperty("selected")&&!0===t.selected),s.disabled=a(t,"disabled"),this.options.push(s),l.appendChild(s),s.idx=i,r.appendChild(u.call(this,s,t)),this.data[i]=t,i++}),this)):(s=new Option(t.text,t.value,!1,t.hasOwnProperty("selected")&&!0===t.selected),s.disabled=a(t,"disabled"),this.options.push(s),s.idx=i,u.call(this,s,t),this.data[i]=t,i++)}),this)}this.setSelected(!0),this.navIndex=0;for(var c=0;c<this.items.length;c++)if(n=this.items[c],!o.hasClass(n,"disabled")){o.addClass(n,"active"),this.navIndex=c;break}this.requiresPagination&&(this.pageIndex=1,this.paginate()),this.container.appendChild(this.selected),this.container.appendChild(e),this.placeEl=o.createElement("div",{class:"selectr-placeholder"}),this.setPlaceholder(),this.selected.appendChild(this.placeEl),this.disabled&&this.disable(),this.el.parentNode.insertBefore(this.container,this.el),this.container.appendChild(this.el)},f=function(e){if(e=e||window.event,this.items.length&&this.opened&&o.includes([13,38,40],e.which)){if(e.preventDefault(),13===e.which)return!(this.config.taggable&&this.input.value.length>0)&&this.change(this.navIndex);var t,n=this.items[this.navIndex];switch(e.which){case 38:t=0,this.navIndex>0&&this.navIndex--;break;case 40:t=1,this.navIndex<this.items.length-1&&this.navIndex++}this.navigating=!0;while(o.hasClass(this.items[this.navIndex],"disabled")||o.hasClass(this.items[this.navIndex],"excluded"))if(t?this.navIndex++:this.navIndex--,this.searching){if(this.navIndex>this.tree.lastElementChild.idx){this.navIndex=this.tree.lastElementChild.idx;break}if(this.navIndex<this.tree.firstElementChild.idx){this.navIndex=this.tree.firstElementChild.idx;break}}var r=o.rect(this.items[this.navIndex]);t?(0===this.navIndex?this.tree.scrollTop=0:r.top+r.height>this.optsRect.top+this.optsRect.height&&(this.tree.scrollTop=this.tree.scrollTop+(r.top+r.height-(this.optsRect.top+this.optsRect.height))),this.navIndex===this.tree.childElementCount-1&&this.requiresPagination&&m.call(this)):0===this.navIndex?this.tree.scrollTop=0:r.top-this.optsRect.top<0&&(this.tree.scrollTop=this.tree.scrollTop+(r.top-this.optsRect.top)),n&&o.removeClass(n,"active"),o.addClass(this.items[this.navIndex],"active")}else this.navigating=!1},h=function(e){var t,n=this,r=document.createDocumentFragment(),i=this.options[e.idx],a=this.data?this.data[e.idx]:i,s=this.customSelected?this.config.renderSelection(a):i.textContent,l=o.createElement("li",{class:"selectr-tag",html:s}),c=o.createElement("button",{class:"selectr-tag-remove",type:"button"});if(l.appendChild(c),l.idx=e.idx,l.tag=i.value,this.tags.push(l),this.config.sortSelected){var u=this.tags.slice();t=function(e,t){e.replace(/(\d+)|(\D+)/g,(function(e,n,r){t.push([n||1/0,r||""])}))},u.sort((function(e,r){var i,o,a=[],s=[];!0===n.config.sortSelected?(i=e.tag,o=r.tag):"text"===n.config.sortSelected&&(i=e.textContent,o=r.textContent),t(i,a),t(o,s);while(a.length&&s.length){var l=a.shift(),c=s.shift(),u=l[0]-c[0]||l[1].localeCompare(c[1]);if(u)return u}return a.length-s.length})),o.each(u,(function(e,t){r.appendChild(t)})),this.label.textContent=""}else r.appendChild(l);this.config.taggable?this.label.insertBefore(r,this.input.parentNode):this.label.appendChild(r)},p=function(e){var t=!1;o.each(this.tags,(function(n,r){r.idx===e.idx&&(t=r)}),this),t&&(this.label.removeChild(t),this.tags.splice(this.tags.indexOf(t),1))},m=function(){var e=this.tree,t=e.scrollTop,n=e.scrollHeight,r=e.offsetHeight,i=t>=n-r;if(i&&this.pageIndex<this.pages.length){var a=document.createDocumentFragment();o.each(this.pages[this.pageIndex],(function(e,t){s(t,a,this.customOption)}),this),e.appendChild(a),this.pageIndex++,this.emit("selectr.paginate",{items:this.items.length,total:this.data.length,page:this.pageIndex,pages:this.pages.length})}},g=function(){(this.config.searchable||this.config.taggable)&&(this.input.value=null,this.searching=!1,this.config.searchable&&o.removeClass(this.inputContainer,"active"),o.hasClass(this.container,"notice")&&(o.removeClass(this.container,"notice"),o.addClass(this.container,"open"),this.input.focus()),o.each(this.items,(function(e,t){o.removeClass(t,"excluded"),this.customOption||(t.textContent=t.textContent+"")}),this))},v=function(e,t){var n=new RegExp(e,"i").exec(t);if(n){var r=n.index,i=n.index+n[0].length;return{before:t.substring(0,r),match:t.substring(r,i),after:t.substring(i)}}return null},b=function(e,t){if(t=t||{},!e)throw new Error("You must supply either a HTMLSelectElement or a CSS3 selector string.");if(this.el=e,"string"===typeof e&&(this.el=document.querySelector(e)),null===this.el)throw new Error("The element you passed to Selectr can not be found.");if("select"!==this.el.nodeName.toLowerCase())throw new Error("The element you passed to Selectr is not a HTMLSelectElement.");this.render(t)};b.prototype.render=function(e){if(!this.rendered){this.config=o.extend(r,e),this.originalType=this.el.type,this.originalIndex=this.el.tabIndex,this.defaultSelected=[],this.originalOptionCount=this.el.options.length,(this.config.multiple||this.config.taggable)&&(this.el.multiple=!0),this.disabled=a(this.config,"disabled"),this.opened=!1,this.config.taggable&&(this.config.searchable=!1),this.navigating=!1,this.mobileDevice=!1,/Android|webOS|iPhone|iPad|BlackBerry|Windows Phone|Opera Mini|IEMobile|Mobile/i.test(navigator.userAgent)&&(this.mobileDevice=!0),this.customOption=this.config.hasOwnProperty("renderOption")&&"function"===typeof this.config.renderOption,this.customSelected=this.config.hasOwnProperty("renderSelection")&&"function"===typeof this.config.renderSelection,i.mixin(this),d.call(this),this.bindEvents(),this.update(),this.optsRect=o.rect(this.tree),this.rendered=!0,this.el.multiple||(this.el.selectedIndex=this.selectedIndex);var t=this;setTimeout((function(){t.emit("selectr.init")}),20)}},b.prototype.getSelected=function(){var e=this.el.querySelectorAll("option:checked");return e},b.prototype.getSelectedProperties=function(e){var t=this.getSelected(),n=[].slice.call(t).map((function(t){return t[e]})).filter((function(e){return null!==e&&void 0!==e}));return n},b.prototype.bindEvents=function(){var e=this;if(this.events={},this.events.dismiss=c.bind(this),this.events.navigate=f.bind(this),this.events.reset=this.reset.bind(this),this.config.nativeDropdown||this.mobileDevice){this.container.addEventListener("touchstart",(function(t){t.changedTouches[0].target===e.el&&e.toggle()})),(this.config.nativeDropdown||this.mobileDevice)&&this.container.addEventListener("click",(function(t){t.preventDefault(),t.stopPropagation(),t.target===e.el&&e.toggle()}));var t=function(e,t){for(var n,r=[],i=e.slice(0),o=0;o<t.length;o++)n=i.indexOf(t[o]),n>-1?i.splice(n,1):r.push(t[o]);return[r,i]};this.el.addEventListener("change",(function(n){if(e.el.multiple){var r=e.getSelectedProperties("idx"),i=t(e.selectedIndexes,r);o.each(i[0],(function(t,n){e.select(n)}),e),o.each(i[1],(function(t,n){e.deselect(n)}),e)}else e.el.selectedIndex>-1&&e.select(e.el.selectedIndex)}))}this.config.nativeDropdown&&this.container.addEventListener("keydown",(function(t){"Enter"===t.key&&e.selected===document.activeElement&&(e.toggle(),setTimeout((function(){e.el.focus()}),200))})),this.selected.addEventListener("click",(function(t){e.disabled||e.toggle(),t.preventDefault(),t.stopPropagation()})),this.label.addEventListener("click",(function(t){o.hasClass(t.target,"selectr-tag-remove")&&e.deselect(t.target.parentNode.idx)})),this.selectClear&&this.selectClear.addEventListener("click",this.clear.bind(this)),this.tree.addEventListener("mousedown",(function(e){e.preventDefault()})),this.tree.addEventListener("click",(function(t){t.preventDefault(),t.stopPropagation();var n=o.closest(t.target,(function(e){return e&&o.hasClass(e,"selectr-option")}));n&&(o.hasClass(n,"disabled")||(o.hasClass(n,"selected")?(e.el.multiple||!e.el.multiple&&e.config.allowDeselect)&&e.deselect(n.idx):e.select(n.idx),e.opened&&!e.el.multiple&&e.close()))})),this.tree.addEventListener("mouseover",(function(t){o.hasClass(t.target,"selectr-option")&&(o.hasClass(t.target,"disabled")||(o.removeClass(e.items[e.navIndex],"active"),o.addClass(t.target,"active"),e.navIndex=[].slice.call(e.items).indexOf(t.target)))})),this.config.searchable&&(this.input.addEventListener("focus",(function(t){e.searching=!0})),this.input.addEventListener("blur",(function(t){e.searching=!1})),this.input.addEventListener("keyup",(function(t){e.search(),e.config.taggable||(this.value.length?o.addClass(this.parentNode,"active"):o.removeClass(this.parentNode,"active"))})),this.inputClear.addEventListener("click",(function(t){e.input.value=null,g.call(e),e.tree.childElementCount||l.call(e)}))),this.config.taggable&&this.input.addEventListener("keyup",(function(t){if(e.search(),e.config.taggable&&this.value.length){var n=this.value.trim();if(13===t.which||o.includes(e.tagSeperators,t.key)){o.each(e.tagSeperators,(function(e,t){n=n.replace(t,"")}));var r=e.add({value:n,text:n,selected:!0},!0);r?(e.close(),g.call(e)):(this.value="",e.setMessage("That tag is already in use."))}}})),this.update=o.debounce((function(){e.opened&&e.config.closeOnScroll&&e.close(),e.width&&(e.container.style.width=e.width),e.invert()}),50),this.requiresPagination&&(this.paginateItems=o.debounce((function(){m.call(this)}),50),this.tree.addEventListener("scroll",this.paginateItems.bind(this))),document.addEventListener("click",this.events.dismiss),window.addEventListener("keydown",this.events.navigate),window.addEventListener("resize",this.update),window.addEventListener("scroll",this.update),this.el.form&&this.el.form.addEventListener("reset",this.events.reset)},b.prototype.setSelected=function(e){if(this.config.data||this.el.multiple||!this.el.options.length||(0===this.el.selectedIndex&&(this.el.options[0].defaultSelected||this.config.defaultSelected||(this.el.selectedIndex=-1)),this.selectedIndex=this.el.selectedIndex,this.selectedIndex>-1&&this.select(this.selectedIndex)),this.config.multiple&&"select-one"===this.originalType&&!this.config.data&&this.el.options[0].selected&&!this.el.options[0].defaultSelected&&(this.el.options[0].selected=!1),o.each(this.options,(function(e,t){t.selected&&t.defaultSelected&&this.select(t.idx)}),this),this.config.selectedValue&&this.setValue(this.config.selectedValue),this.config.data){!this.el.multiple&&this.config.defaultSelected&&this.el.selectedIndex<0&&this.select(0);var t=0;o.each(this.config.data,(function(e,n){a(n,"children")?o.each(n.children,(function(e,n){n.hasOwnProperty("selected")&&!0===n.selected&&this.select(t),t++}),this):(n.hasOwnProperty("selected")&&!0===n.selected&&this.select(t),t++)}),this)}},b.prototype.destroy=function(){this.rendered&&(this.emit("selectr.destroy"),"select-one"===this.originalType&&(this.el.multiple=!1),this.config.data&&(this.el.textContent=""),o.removeClass(this.el,"selectr-hidden"),this.el.form&&o.off(this.el.form,"reset",this.events.reset),o.off(document,"click",this.events.dismiss),o.off(document,"keydown",this.events.navigate),o.off(window,"resize",this.update),o.off(window,"scroll",this.update),this.container.parentNode.replaceChild(this.el,this.container),this.rendered=!1)},b.prototype.change=function(e){var t=this.items[e],n=this.options[e];n.disabled||(n.selected&&o.hasClass(t,"selected")?this.deselect(e):this.select(e),this.opened&&!this.el.multiple&&this.close())},b.prototype.select=function(e){var t=this.items[e],n=[].slice.call(this.el.options),r=this.options[e];if(this.el.multiple){if(o.includes(this.selectedIndexes,e))return!1;if(this.config.maxSelections&&this.tags.length===this.config.maxSelections)return this.setMessage("A maximum of "+this.config.maxSelections+" items can be selected.",!0),!1;this.selectedValues.push(r.value),this.selectedIndexes.push(e),h.call(this,t)}else{var i=this.data?this.data[e]:r;this.label.textContent=this.customSelected?this.config.renderSelection(i):r.textContent,this.selectedValue=r.value,this.selectedIndex=e,o.each(this.options,(function(t,n){var r=this.items[t];t!==e&&(r&&o.removeClass(r,"selected"),n.selected=!1,n.removeAttribute("selected"))}),this)}o.includes(n,r)||this.el.add(r),t.setAttribute("aria-selected",!0),o.addClass(t,"selected"),o.addClass(this.container,"has-selected"),r.selected=!0,r.setAttribute("selected",""),this.emit("selectr.change",r),this.emit("selectr.select",r)},b.prototype.deselect=function(e,t){var n=this.items[e],r=this.options[e];if(this.el.multiple){var i=this.selectedIndexes.indexOf(e);this.selectedIndexes.splice(i,1);var a=this.selectedValues.indexOf(r.value);this.selectedValues.splice(a,1),p.call(this,n),this.tags.length||o.removeClass(this.container,"has-selected")}else{if(!t&&!this.config.clearable&&!this.config.allowDeselect)return!1;this.label.textContent="",this.selectedValue=null,this.el.selectedIndex=this.selectedIndex=-1,o.removeClass(this.container,"has-selected")}this.items[e].setAttribute("aria-selected",!1),o.removeClass(this.items[e],"selected"),r.selected=!1,r.removeAttribute("selected"),this.emit("selectr.change",null),this.emit("selectr.deselect",r)},b.prototype.setValue=function(e){var t=Array.isArray(e);if(t||(e=e.toString().trim()),!this.el.multiple&&t)return!1;o.each(this.options,(function(n,r){(t&&o.includes(e.toString(),r.value)||r.value===e)&&this.change(r.idx)}),this)},b.prototype.getValue=function(e,t){var n;if(this.el.multiple)e?this.selectedIndexes.length&&(n={},n.values=[],o.each(this.selectedIndexes,(function(e,t){var r=this.options[t];n.values[e]={value:r.value,text:r.textContent}}),this)):n=this.selectedValues.slice();else if(e){var r=this.options[this.selectedIndex];n={value:r.value,text:r.textContent}}else n=this.selectedValue;return e&&t&&(n=JSON.stringify(n)),n},b.prototype.add=function(e,t){if(e){if(this.data=this.data||[],this.items=this.items||[],this.options=this.options||[],Array.isArray(e))o.each(e,(function(e,n){this.add(n,t)}),this);else if("[object Object]"===Object.prototype.toString.call(e)){if(t){var n=!1;if(o.each(this.options,(function(t,r){r.value.toLowerCase()===e.value.toLowerCase()&&(n=!0)})),n)return!1}var r=o.createElement("option",e);return this.data.push(e),this.options.push(r),r.idx=this.options.length>0?this.options.length-1:0,u.call(this,r),e.selected&&this.select(r.idx),r}return this.setPlaceholder(),this.config.pagination&&this.paginate(),!0}},b.prototype.remove=function(e){var t,n=[];(Array.isArray(e)?o.each(e,(function(t,r){o.isInt(r)?n.push(this.getOptionByIndex(r)):"string"===typeof e&&n.push(this.getOptionByValue(r))}),this):o.isInt(e)?n.push(this.getOptionByIndex(e)):"string"===typeof e&&n.push(this.getOptionByValue(e)),n.length)&&(o.each(n,(function(e,n){t=n.idx,this.el.remove(n),this.options.splice(t,1);var r=this.items[t].parentNode;r&&r.removeChild(this.items[t]),this.items.splice(t,1),o.each(this.options,(function(e,t){t.idx=e,this.items[e].idx=e}),this)}),this),this.setPlaceholder(),this.config.pagination&&this.paginate())},b.prototype.removeAll=function(){this.clear(!0),o.each(this.el.options,(function(e,t){this.el.remove(t)}),this),o.truncate(this.tree),this.items=[],this.options=[],this.data=[],this.navIndex=0,this.requiresPagination&&(this.requiresPagination=!1,this.pageIndex=1,this.pages=[]),this.setPlaceholder()},b.prototype.search=function(e){if(!this.navigating){e=e||this.input.value;var t=document.createDocumentFragment();if(this.removeMessage(),o.truncate(this.tree),e.length>1)if(o.each(this.options,(function(n,r){var i=this.items[r.idx],a=o.includes(r.textContent.toLowerCase(),e.toLowerCase());if(a&&!r.disabled){if(s(i,t,this.customOption),o.removeClass(i,"excluded"),!this.customOption){i.textContent="";var l=v(e,r.textContent);if(l){i.appendChild(document.createTextNode(l.before));var c=document.createElement("span");c.className="selectr-match",c.appendChild(document.createTextNode(l.match)),i.appendChild(c),i.appendChild(document.createTextNode(l.after))}}}else o.addClass(i,"excluded")}),this),t.childElementCount){var n=this.items[this.navIndex],r=t.firstElementChild;o.removeClass(n,"active"),this.navIndex=r.idx,o.addClass(r,"active")}else this.config.taggable||this.setMessage("no results.");else l.call(this);this.tree.appendChild(t)}},b.prototype.toggle=function(){this.disabled||(this.opened?this.close():this.open())},b.prototype.open=function(){var e=this;return!!this.options.length&&(this.opened||this.emit("selectr.open"),this.opened=!0,this.mobileDevice||this.config.nativeDropdown?(o.addClass(this.container,"native-open"),void(this.config.data&&o.each(this.options,(function(e,t){this.el.add(t)}),this))):(o.addClass(this.container,"open"),l.call(this),this.invert(),this.tree.scrollTop=0,o.removeClass(this.container,"notice"),this.selected.setAttribute("aria-expanded",!0),this.tree.setAttribute("aria-hidden",!1),this.tree.setAttribute("aria-expanded",!0),void(this.config.searchable&&!this.config.taggable&&setTimeout((function(){e.input.focus(),e.input.tabIndex=0}),10))))},b.prototype.close=function(){if(this.opened&&this.emit("selectr.close"),this.opened=!1,this.mobileDevice||this.config.nativeDropdown)o.removeClass(this.container,"native-open");else{var e=o.hasClass(this.container,"notice");this.config.searchable&&!e&&(this.input.blur(),this.input.tabIndex=-1,this.searching=!1),e&&(o.removeClass(this.container,"notice"),this.notice.textContent=""),o.removeClass(this.container,"open"),o.removeClass(this.container,"native-open"),this.selected.setAttribute("aria-expanded",!1),this.tree.setAttribute("aria-hidden",!0),this.tree.setAttribute("aria-expanded",!1),o.truncate(this.tree),g.call(this)}},b.prototype.enable=function(){this.disabled=!1,this.el.disabled=!1,this.selected.tabIndex=this.originalIndex,this.el.multiple&&o.each(this.tags,(function(e,t){t.lastElementChild.tabIndex=0})),o.removeClass(this.container,"selectr-disabled")},b.prototype.disable=function(e){e||(this.el.disabled=!0),this.selected.tabIndex=-1,this.el.multiple&&o.each(this.tags,(function(e,t){t.lastElementChild.tabIndex=-1})),this.disabled=!0,o.addClass(this.container,"selectr-disabled")},b.prototype.reset=function(){this.disabled||(this.clear(),this.setSelected(!0),o.each(this.defaultSelected,(function(e,t){this.select(t)}),this),this.emit("selectr.reset"))},b.prototype.clear=function(e){if(this.el.multiple){if(this.selectedIndexes.length){var t=this.selectedIndexes.slice();o.each(t,(function(e,t){this.deselect(t)}),this)}}else this.selectedIndex>-1&&this.deselect(this.selectedIndex,e);this.emit("selectr.clear")},b.prototype.serialise=function(e){var t=[];return o.each(this.options,(function(e,n){var r={value:n.value,text:n.textContent};n.selected&&(r.selected=!0),n.disabled&&(r.disabled=!0),t[e]=r})),e?JSON.stringify(t):t},b.prototype.serialize=function(e){return this.serialise(e)},b.prototype.setPlaceholder=function(e){e=e||this.config.placeholder||this.el.getAttribute("placeholder"),this.options.length||(e="No options available"),this.placeEl.textContent=e},b.prototype.paginate=function(){if(this.items.length){var e=this;return this.pages=this.items.map((function(t,n){return n%e.config.pagination===0?e.items.slice(n,n+e.config.pagination):null})).filter((function(e){return e})),this.pages}},b.prototype.setMessage=function(e,t){t&&this.close(),o.addClass(this.container,"notice"),this.notice.textContent=e},b.prototype.removeMessage=function(){o.removeClass(this.container,"notice"),this.notice.textContent=""},b.prototype.invert=function(){var e=o.rect(this.selected),t=this.tree.parentNode.offsetHeight,n=window.innerHeight,r=e.top+e.height+t>n;r?(o.addClass(this.container,"inverted"),this.isInverted=!0):(o.removeClass(this.container,"inverted"),this.isInverted=!1),this.optsRect=o.rect(this.tree)},b.prototype.getOptionByIndex=function(e){return this.options[e]},b.prototype.getOptionByValue=function(e){for(var t=!1,n=0,r=this.options.length;n<r;n++)if(this.options[n].value.trim()===e.toString().trim()){t=this.options[n];break}return t},e.exports=b},function(e,t){e.exports=function e(t,n){"use strict";var r,i,o=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,a=/(^[ ]*|[ ]*$)/g,s=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,l=/^0x[0-9a-f]+$/i,c=/^0/,u=function(t){return e.insensitive&&(""+t).toLowerCase()||""+t},d=u(t).replace(a,"")||"",f=u(n).replace(a,"")||"",h=d.replace(o,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),p=f.replace(o,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),m=parseInt(d.match(l),16)||1!==h.length&&d.match(s)&&Date.parse(d),g=parseInt(f.match(l),16)||m&&f.match(s)&&Date.parse(f)||null;if(g){if(m<g)return-1;if(m>g)return 1}for(var v=0,b=Math.max(h.length,p.length);v<b;v++){if(r=!(h[v]||"").match(c)&&parseFloat(h[v])||h[v]||0,i=!(p[v]||"").match(c)&&parseFloat(p[v])||p[v]||0,isNaN(r)!==isNaN(i))return isNaN(r)?1:-1;if(typeof r!==typeof i&&(r+="",i+=""),r<i)return-1;if(r>i)return 1}return 0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0);function i(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=o(e),l={},c=e.getBoundingClientRect(),u=t.getBoundingClientRect(),d=document.createElement("div");function f(){if(d&&d.parentNode){for(var t in d.parentNode.removeChild(d),l)if(a(l,t)){var i=l[t];i&&Object(r["removeEventListener"])(s,t,i),delete l[t]}"function"===typeof n&&n(e)}}function h(e){return e!==d&&!Object(r["isChildOf"])(e,d)}function p(e){h(e.target)&&f()}if(d.className="jsoneditor-anchor",d.style.position="absolute",d.style.left=c.left-u.left+"px",d.style.top=c.top-u.top+"px",d.style.width=c.width-2+"px",d.style.height=c.height-2+"px",d.style.boxSizing="border-box",t.appendChild(d),l.mousedown=Object(r["addEventListener"])(s,"mousedown",p),l.mousewheel=Object(r["addEventListener"])(s,"mousewheel",p),i){var m=null;d.onmouseover=function(){clearTimeout(m),m=null},d.onmouseout=function(){m||(m=setTimeout(f,200))}}return d.destroy=f,d}function o(e){return"function"===typeof e.getRootNode?e.getRootNode():window}function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},function(e,t,n){var r;if(window.Picker)r=window.Picker;else try{r=n(41)}catch(i){}e.exports=r},function(e,t,n){var r,i,o;(function(n,a){"use strict";i=[],r=a,o="function"===typeof r?r.apply(t,i):r,void 0===o||(e.exports=o)})(0,(function(){"use strict";function e(e){return"object"===typeof Node?e instanceof Node:e&&"object"===typeof e&&"number"===typeof e.nodeType}function t(e){return"string"===typeof e}function n(){var e=[];return{watch:e.push.bind(e),trigger:function(t,n){for(var r=!0,i={detail:n,preventDefault:function(){r=!1}},o=0;o<e.length;o++)e[o](t,i);return r}}}function r(e){return"none"===window.getComputedStyle(e).display}function i(e){this.elem=e}function o(e,t){return i.make(e("parent")).clazz("pico-overlay").clazz(e("overlayClass","")).stylize({display:"none",position:"fixed",top:"0px",left:"0px",height:"100%",width:"100%",zIndex:1e4}).stylize(e("overlayStyles",{opacity:.5,background:"#000"})).onClick((function(){e("overlayClose",!0)&&t()}))}i.make=function(e,t){"string"===typeof e&&(e=document.querySelector(e));var n=document.createElement(t||"div");return(e||document.body).appendChild(n),new i(n)},i.prototype={child:function(e){return i.make(this.elem,e)},stylize:function(e){for(var t in e=e||{},"undefined"!==typeof e.opacity&&(e.filter="alpha(opacity="+100*e.opacity+")"),e)e.hasOwnProperty(t)&&(this.elem.style[t]=e[t]);return this},clazz:function(e){return this.elem.className+=" "+e,this},html:function(t){return e(t)?this.elem.appendChild(t):this.elem.innerHTML=t,this},onClick:function(e){return this.elem.addEventListener("click",e),this},destroy:function(){this.elem.parentNode.removeChild(this.elem)},hide:function(){this.elem.style.display="none"},show:function(){this.elem.style.display="block"},attr:function(e,t){return void 0!==t&&this.elem.setAttribute(e,t),this},anyAncestor:function(e){var t=this.elem;while(t){if(e(new i(t)))return!0;t=t.parentNode}return!1},isVisible:function(){return!r(this.elem)}};var a=1;function s(e,t){var n=e("width","auto");"number"===typeof n&&(n+="px");var r=e("modalId","pico-"+a++),o=i.make(e("parent")).clazz("pico-content").clazz(e("modalClass","")).stylize({display:"none",position:"fixed",zIndex:10001,left:"50%",top:"38.1966%",maxHeight:"90%",boxSizing:"border-box",width:n,"-ms-transform":"translate(-50%,-38.1966%)","-moz-transform":"translate(-50%,-38.1966%)","-webkit-transform":"translate(-50%,-38.1966%)","-o-transform":"translate(-50%,-38.1966%)",transform:"translate(-50%,-38.1966%)"}).stylize(e("modalStyles",{overflow:"auto",backgroundColor:"white",padding:"20px",borderRadius:"5px"})).html(e("content")).attr("id",r).attr("role","dialog").attr("aria-labelledby",e("ariaLabelledBy")).attr("aria-describedby",e("ariaDescribedBy",r)).onClick((function(e){var n=new i(e.target).anyAncestor((function(e){return/\bpico-close\b/.test(e.elem.className)}));n&&t()}));return o}function l(e,t){if(t("closeButton",!0))return e.child("button").html(t("closeHtml","&#xD7;")).clazz("pico-close").clazz(t("closeClass","")).stylize(t("closeStyles",{borderRadius:"2px",border:0,padding:0,cursor:"pointer",height:"15px",width:"15px",position:"absolute",top:"5px",right:"5px",fontSize:"16px",textAlign:"center",lineHeight:"15px",background:"#CCC"})).attr("aria-label",t("close-label","Close"))}function c(e){return function(){return e().elem}}var u=n(),d=n();function f(e,t){function n(e,t){var n=e.msMatchesSelector||e.webkitMatchesSelector||e.matches;return n.call(e,t)}function i(e){return!(r(e)||n(e,":disabled")||e.hasAttribute("contenteditable"))&&(e.hasAttribute("tabindex")||n(e,"input,select,textarea,button,a[href],area[href],iframe"))}function o(e){for(var t=e.getElementsByTagName("*"),n=0;n<t.length;n++)if(i(t[n]))return t[n]}function a(e){for(var t=e.getElementsByTagName("*"),n=t.length;n--;)if(i(t[n]))return t[n]}var s;e.beforeShow((function(){s=document.activeElement})),e.afterShow((function(){if(t()){var n=o(e.modalElem());n&&n.focus()}})),e.afterClose((function(){t()&&s&&s.focus(),s=null})),d.watch((function(n){if(t()&&e.isVisible()){var r=o(e.modalElem()),i=a(e.modalElem()),s=n.shiftKey?r:i;s===document.activeElement&&((n.shiftKey?i:r).focus(),n.preventDefault())}}))}function h(e,t){var n,r=new i(document.body);e.beforeShow((function(){n=r.elem.style.overflow,t()&&r.stylize({overflow:"hidden"})})),e.afterClose((function(){r.stylize({overflow:n})}))}return document.documentElement.addEventListener("keydown",(function(e){var t=e.which||e.keyCode;27===t?u.trigger():9===t&&d.trigger(e)})),function(r){(t(r)||e(r))&&(r={content:r});var i=n(),a=n(),d=n(),p=n(),m=n();function g(e,t){var n=r[e];return"function"===typeof n&&(n=n(t)),void 0===n?t:n}var v,b,y=k.bind(window,"modal"),C=k.bind(window,"overlay"),w=k.bind(window,"close");function x(e){C().hide(),y().hide(),m.trigger(v,e)}function I(e){p.trigger(v,e)&&x(e)}function A(e){return function(){return e.apply(this,arguments),v}}function k(e,t){if(!b){var n=s(g,I);b={modal:n,overlay:o(g,I),close:l(n,g)},i.trigger(v,t)}return b[e]}return v={modalElem:c(y),closeElem:c(w),overlayElem:c(C),buildDom:A(k.bind(null,null)),isVisible:function(){return!!(b&&y&&y().isVisible())},show:function(e){return a.trigger(v,e)&&(C().show(),w(),y().show(),d.trigger(v,e)),this},close:A(I),forceClose:A(x),destroy:function(){y().destroy(),C().destroy(),C=y=w=void 0},options:function(e){Object.keys(e).map((function(t){r[t]=e[t]}))},afterCreate:A(i.watch),beforeShow:A(a.watch),afterShow:A(d.watch),beforeClose:A(p.watch),afterClose:A(m.watch)},f(v,g.bind(null,"focus",!0)),h(v,g.bind(null,"bodyOverflow",!0)),u.watch((function(){g("escCloses",!0)&&v.isVisible()&&v.close()})),v}}))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}n.d(t,"a",(function(){return a}));var a=function(){function e(t){r(this,e),this.errorTableVisible=t.errorTableVisible,this.onToggleVisibility=t.onToggleVisibility,this.onFocusLine=t.onFocusLine||function(){},this.onChangeHeight=t.onChangeHeight,this.dom={};var n=document.createElement("div");n.className="jsoneditor-validation-errors-container",this.dom.validationErrorsContainer=n;var i=document.createElement("div");i.style.display="none",i.className="jsoneditor-additional-errors fadein",i.textContent="Scroll for more ▿",this.dom.additionalErrorsIndication=i,n.appendChild(i);var o=document.createElement("span");o.className="jsoneditor-validation-error-icon",o.style.display="none",this.dom.validationErrorIcon=o;var a=document.createElement("span");a.className="jsoneditor-validation-error-count",a.style.display="none",this.dom.validationErrorCount=a,this.dom.parseErrorIndication=document.createElement("span"),this.dom.parseErrorIndication.className="jsoneditor-parse-error-icon",this.dom.parseErrorIndication.style.display="none"}return o(e,[{key:"getErrorTable",value:function(){return this.dom.validationErrorsContainer}},{key:"getErrorCounter",value:function(){return this.dom.validationErrorCount}},{key:"getWarningIcon",value:function(){return this.dom.validationErrorIcon}},{key:"getErrorIcon",value:function(){return this.dom.parseErrorIndication}},{key:"toggleTableVisibility",value:function(){this.errorTableVisible=!this.errorTableVisible,this.onToggleVisibility(this.errorTableVisible)}},{key:"setErrors",value:function(e,t){var n=this;if(this.dom.validationErrors&&(this.dom.validationErrors.parentNode.removeChild(this.dom.validationErrors),this.dom.validationErrors=null,this.dom.additionalErrorsIndication.style.display="none"),this.errorTableVisible&&e.length>0){var r=document.createElement("div");r.className="jsoneditor-validation-errors";var i=document.createElement("table");i.className="jsoneditor-text-errors",r.appendChild(i);var o=document.createElement("tbody");i.appendChild(o),e.forEach((function(e){var r;if(isNaN(e.line)){if(e.dataPath){var i=t.find((function(t){return t.path===e.dataPath}));i&&(r=i.line+1)}}else r=e.line;var a=document.createElement("tr");a.className=isNaN(r)?"":"jump-to-line","error"===e.type?a.className+=" parse-error":a.className+=" validation-error";var s=document.createElement("td"),l=document.createElement("button");l.className="jsoneditor-schema-error",s.appendChild(l),a.appendChild(s);var c=document.createElement("td");if(c.style="white-space: nowrap;",c.textContent=isNaN(r)?"":"Ln "+r,a.appendChild(c),"string"===typeof e){var u=document.createElement("td");u.colSpan=2;var d=document.createElement("pre");d.appendChild(document.createTextNode(e)),u.appendChild(d),a.appendChild(u)}else{var f=document.createElement("td");f.appendChild(document.createTextNode(e.dataPath||"")),a.appendChild(f);var h=document.createElement("td"),p=document.createElement("pre");p.appendChild(document.createTextNode(e.message)),h.appendChild(p),a.appendChild(h)}a.onclick=function(){n.onFocusLine(r)},o.appendChild(a)})),this.dom.validationErrors=r,this.dom.validationErrorsContainer.appendChild(r),this.dom.additionalErrorsIndication.title=e.length+" errors total",this.dom.validationErrorsContainer.clientHeight<this.dom.validationErrorsContainer.scrollHeight?(this.dom.additionalErrorsIndication.style.display="block",this.dom.validationErrorsContainer.onscroll=function(){n.dom.additionalErrorsIndication.style.display=n.dom.validationErrorsContainer.clientHeight>0&&0===n.dom.validationErrorsContainer.scrollTop?"block":"none"}):this.dom.validationErrorsContainer.onscroll=void 0;var a=this.dom.validationErrorsContainer.clientHeight+(this.dom.statusBar?this.dom.statusBar.clientHeight:0);this.onChangeHeight(a)}else this.onChangeHeight(0);var s=e.filter((function(e){return"error"!==e.type})).length;s>0?(this.dom.validationErrorCount.style.display="inline",this.dom.validationErrorCount.innerText=s,this.dom.validationErrorCount.onclick=this.toggleTableVisibility.bind(this),this.dom.validationErrorIcon.style.display="inline",this.dom.validationErrorIcon.title=s+" schema validation error(s) found",this.dom.validationErrorIcon.onclick=this.toggleTableVisibility.bind(this)):(this.dom.validationErrorCount.style.display="none",this.dom.validationErrorIcon.style.display="none");var l=e.some((function(e){return"error"===e.type}));if(l){var c=e[0].line;this.dom.parseErrorIndication.style.display="block",this.dom.parseErrorIndication.title=isNaN(c)?"parse error - check that the json is valid":"parse error on line "+c,this.dom.parseErrorIndication.onclick=this.toggleTableVisibility.bind(this)}else this.dom.parseErrorIndication.style.display="none"}}]),e}()},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";var r=n(46),i=n(18),o=n(7),a=n(25),s=n(48);function l(e,t,n){var r=this._refs[n];if("string"==typeof r){if(!this._refs[r])return l.call(this,e,t,r);r=this._refs[r]}if(r=r||this._schemas[n],r instanceof a)return p(r.schema,this._opts.inlineRefs)?r.schema:r.validate||this._compile(r);var i,o,s,u=c.call(this,t,n);return u&&(i=u.schema,t=u.root,s=u.baseId),i instanceof a?o=i.validate||e.call(this,i.schema,t,void 0,s):void 0!==i&&(o=p(i,this._opts.inlineRefs)?i:e.call(this,i,t,void 0,s)),o}function c(e,t){var n=r.parse(t),i=b(n),o=v(this._getId(e.schema));if(0===Object.keys(e.schema).length||i!==o){var s=C(i),l=this._refs[s];if("string"==typeof l)return u.call(this,e,l,n);if(l instanceof a)l.validate||this._compile(l),e=l;else{if(l=this._schemas[s],!(l instanceof a))return;if(l.validate||this._compile(l),s==C(t))return{schema:l,root:e,baseId:o};e=l}if(!e.schema)return;o=v(this._getId(e.schema))}return f.call(this,n,o,e.schema,e)}function u(e,t,n){var r=c.call(this,e,t);if(r){var i=r.schema,o=r.baseId;e=r.root;var a=this._getId(i);return a&&(o=w(o,a)),f.call(this,n,o,i,e)}}e.exports=l,l.normalizeId=C,l.fullPath=v,l.url=w,l.ids=x,l.inlineRef=p,l.schema=c;var d=o.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function f(e,t,n,r){if(e.fragment=e.fragment||"","/"==e.fragment.slice(0,1)){for(var i=e.fragment.split("/"),a=1;a<i.length;a++){var s=i[a];if(s){if(s=o.unescapeFragment(s),n=n[s],void 0===n)break;var l;if(!d[s]&&(l=this._getId(n),l&&(t=w(t,l)),n.$ref)){var u=w(t,n.$ref),f=c.call(this,r,u);f&&(n=f.schema,r=f.root,t=f.baseId)}}}return void 0!==n&&n!==r.schema?{schema:n,root:r,baseId:t}:void 0}}var h=o.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function p(e,t){return!1!==t&&(void 0===t||!0===t?m(e):t?g(e)<=t:void 0)}function m(e){var t;if(Array.isArray(e)){for(var n=0;n<e.length;n++)if(t=e[n],"object"==typeof t&&!m(t))return!1}else for(var r in e){if("$ref"==r)return!1;if(t=e[r],"object"==typeof t&&!m(t))return!1}return!0}function g(e){var t,n=0;if(Array.isArray(e)){for(var r=0;r<e.length;r++)if(t=e[r],"object"==typeof t&&(n+=g(t)),n==1/0)return 1/0}else for(var i in e){if("$ref"==i)return 1/0;if(h[i])n++;else if(t=e[i],"object"==typeof t&&(n+=g(t)+1),n==1/0)return 1/0}return n}function v(e,t){!1!==t&&(e=C(e));var n=r.parse(e);return b(n)}function b(e){return r.serialize(e).split("#")[0]+"#"}var y=/#\/?$/;function C(e){return e?e.replace(y,""):""}function w(e,t){return t=C(t),r.resolve(e,t)}function x(e){var t=C(this._getId(e)),n={"":t},a={"":v(t,!1)},l={},c=this;return s(e,{allKeys:!0},(function(e,t,s,u,d,f,h){if(""!==t){var p=c._getId(e),m=n[u],g=a[u]+"/"+d;if(void 0!==h&&(g+="/"+("number"==typeof h?h:o.escapeFragment(h))),"string"==typeof p){p=m=C(m?r.resolve(m,p):p);var v=c._refs[p];if("string"==typeof v&&(v=c._refs[v]),v&&v.schema){if(!i(e,v.schema))throw new Error('id "'+p+'" resolves to more than one schema')}else if(p!=C(g))if("#"==p[0]){if(l[p]&&!i(e,l[p]))throw new Error('id "'+p+'" resolves to more than one schema');l[p]=e}else c._refs[p]=g}n[t]=m,a[t]=g}})),l}},function(e,t,n){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;0!==i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(o=Object.keys(t),r=o.length,r!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!==i--;){var a=o[i];if(!e(t[a],n[a]))return!1}return!0}return t!==t&&n!==n}},function(e,t,n){"use strict";var r=n(17);function i(e){this.message="validation failed",this.errors=e,this.ajv=this.validation=!0}function o(e,t,n){this.message=n||o.message(e,t),this.missingRef=r.url(e,t),this.missingSchema=r.normalizeId(r.fullPath(this.missingRef))}function a(e){return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}e.exports={Validation:a(i),MissingRef:a(o)},o.message=function(e,t){return"can't resolve reference "+t+" from id "+e}},function(e,t,n){var r;if(window.ace)r=window.ace;else try{r=n(37),n(38),n(39);var i=n(40);r.config.setModuleUrl("ace/mode/json_worker",i)}catch(o){}e.exports=r},function(e,t,n){"use strict";n.r(t),n.d(t,"textModeMixins",(function(){return C}));var r=n(20),i=n.n(r),o=n(1),a=n(8),s=n(15),l=n(0);function c(e,t){if(!t)return Promise.resolve([]);try{var n=t(e),r=Object(l["isPromise"])(n)?n:Promise.resolve(n);return r.then((function(e){return Array.isArray(e)?e.filter((function(e){var t=Object(l["isValidValidationError"])(e);return t})).map((function(e){return{dataPath:Object(l["stringifyPath"])(e.path),message:e.message,type:"customValidation"}})):[]}))}catch(i){return Promise.reject(i)}}var u=n(5),d=n(6),f=n(9),h=n(2),p=n(35),m=n(4);function g(e){return g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}var v={},b="ace/theme/jsoneditor";function y(){try{this.format()}catch(e){}}v.create=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"undefined"===typeof n.statusBar&&(n.statusBar=!0),n.mainMenuBar=!1!==n.mainMenuBar,n.enableSort=!1!==n.enableSort,n.enableTransform=!1!==n.enableTransform,n.createQuery=n.createQuery||m["a"],n.executeQuery=n.executeQuery||m["b"],this.options=n,"number"===typeof n.indentation?this.indentation=Number(n.indentation):this.indentation=2,Object(o["b"])(this.options.languages),Object(o["a"])(this.options.language);var r=n.ace?n.ace:i.a;this.mode="code"===n.mode?"code":"text","code"===this.mode&&"undefined"===typeof r&&(this.mode="text"),this.theme=n.theme||b,this.theme===b&&r&&Object(p["tryRequireThemeJsonEditor"])(),n.onTextSelectionChange&&this.onTextSelectionChange(n.onTextSelectionChange);var c=this;this.container=e,this.dom={},this.aceEditor=void 0,this.textarea=void 0,this.validateSchema=null,this.annotations=[],this.lastSchemaErrors=void 0,this._debouncedValidate=Object(l["debounce"])(this.validate.bind(this),this.DEBOUNCE_INTERVAL),this.width=e.clientWidth,this.height=e.clientHeight,this.frame=document.createElement("div"),this.frame.className="jsoneditor jsoneditor-mode-"+this.options.mode,this.frame.onclick=function(e){e.preventDefault()},this.frame.onkeydown=function(e){c._onKeyDown(e)};var u={target:this.frame,onFocus:this.options.onFocus||null,onBlur:this.options.onBlur||null};if(this.frameFocusTracker=new f["a"](u),this.content=document.createElement("div"),this.content.className="jsoneditor-outer",this.options.mainMenuBar){Object(l["addClassName"])(this.content,"has-main-menu-bar"),this.menu=document.createElement("div"),this.menu.className="jsoneditor-menu",this.frame.appendChild(this.menu);var d=document.createElement("button");d.type="button",d.className="jsoneditor-format",d.title=Object(o["c"])("formatTitle"),this.menu.appendChild(d),d.onclick=function(){try{c.format(),c._onChange()}catch(e){c._onError(e)}};var h=document.createElement("button");if(h.type="button",h.className="jsoneditor-compact",h.title=Object(o["c"])("compactTitle"),this.menu.appendChild(h),h.onclick=function(){try{c.compact(),c._onChange()}catch(e){c._onError(e)}},this.options.enableSort){var v=document.createElement("button");v.type="button",v.className="jsoneditor-sort",v.title=Object(o["c"])("sortTitleShort"),v.onclick=function(){c._showSortModal()},this.menu.appendChild(v)}if(this.options.enableTransform){var y=document.createElement("button");y.type="button",y.title=Object(o["c"])("transformTitleShort"),y.className="jsoneditor-transform",y.onclick=function(){c._showTransformModal()},this.menu.appendChild(y)}var C=document.createElement("button");if(C.type="button",C.className="jsoneditor-repair",C.title=Object(o["c"])("repairTitle"),this.menu.appendChild(C),C.onclick=function(){try{c.repair(),c._onChange()}catch(e){c._onError(e)}},"code"===this.mode){var w=document.createElement("button");w.type="button",w.className="jsoneditor-undo jsoneditor-separator",w.title=Object(o["c"])("undo"),w.onclick=function(){t.aceEditor.getSession().getUndoManager().undo()},this.menu.appendChild(w),this.dom.undo=w;var x=document.createElement("button");x.type="button",x.className="jsoneditor-redo",x.title=Object(o["c"])("redo"),x.onclick=function(){t.aceEditor.getSession().getUndoManager().redo()},this.menu.appendChild(x),this.dom.redo=x}if(this.options&&this.options.modes&&this.options.modes.length&&(this.modeSwitcher=new a["a"](this.menu,this.options.modes,this.options.mode,(function(e){c.setMode(e),c.modeSwitcher.focus()}))),"code"===this.mode){var I=document.createElement("a");I.appendChild(document.createTextNode("powered by ace")),I.href="https://ace.c9.io/",I.target="_blank",I.className="jsoneditor-poweredBy",I.onclick=function(){window.open(I.href,I.target)},this.menu.appendChild(I)}}var A={},k=this.options.onEditable&&g("function"===this.options.onEditable)&&!this.options.onEditable(A);if(this.frame.appendChild(this.content),this.container.appendChild(this.frame),"code"===this.mode){this.editorDom=document.createElement("div"),this.editorDom.style.height="100%",this.editorDom.style.width="100%",this.content.appendChild(this.editorDom);var S=r.edit(this.editorDom),_=S.getSession();S.$blockScrolling=1/0,S.setTheme(this.theme),S.setOptions({readOnly:k}),S.setShowPrintMargin(!1),S.setFontSize("13px"),_.setMode("ace/mode/json"),_.setTabSize(this.indentation),_.setUseSoftTabs(!0),_.setUseWrapMode(!0);var T=_.setAnnotations;_.setAnnotations=function(e){T.call(this,e&&e.length?e:c.annotations)},S.commands.bindKey("Ctrl-L",null),S.commands.bindKey("Command-L",null),this.aceEditor=S,S.on("change",this._onChange.bind(this)),S.on("changeSelection",this._onSelect.bind(this))}else{var E=document.createElement("textarea");E.className="jsoneditor-text",E.spellcheck=!1,this.content.appendChild(E),this.textarea=E,this.textarea.readOnly=k,null===this.textarea.oninput?this.textarea.oninput=this._onChange.bind(this):this.textarea.onchange=this._onChange.bind(this),E.onselect=this._onSelect.bind(this),E.onmousedown=this._onMouseDown.bind(this),E.onblur=this._onBlur.bind(this)}if(this._updateHistoryButtons(),this.errorTable=new s["a"]({errorTableVisible:"text"===this.mode,onToggleVisibility:function(){c.validate()},onFocusLine:function(e){c.isFocused=!0,isNaN(e)||c.setTextSelection({row:e,column:1},{row:e,column:1e3})},onChangeHeight:function(e){var t=c.dom.statusBar?c.dom.statusBar.clientHeight:0,n=e+t+1;c.content.style.marginBottom=-n+"px",c.content.style.paddingBottom=n+"px"}}),this.frame.appendChild(this.errorTable.getErrorTable()),n.statusBar){Object(l["addClassName"])(this.content,"has-status-bar"),this.curserInfoElements={};var O=document.createElement("div");this.dom.statusBar=O,O.className="jsoneditor-statusbar",this.frame.appendChild(O);var R=document.createElement("span");R.className="jsoneditor-curserinfo-label",R.innerText="Ln:";var N=document.createElement("span");N.className="jsoneditor-curserinfo-val",N.innerText="1",O.appendChild(R),O.appendChild(N);var L=document.createElement("span");L.className="jsoneditor-curserinfo-label",L.innerText="Col:";var D=document.createElement("span");D.className="jsoneditor-curserinfo-val",D.innerText="1",O.appendChild(L),O.appendChild(D),this.curserInfoElements.colVal=D,this.curserInfoElements.lnVal=N;var B=document.createElement("span");B.className="jsoneditor-curserinfo-label",B.innerText="characters selected",B.style.display="none";var M=document.createElement("span");M.className="jsoneditor-curserinfo-count",M.innerText="0",M.style.display="none",this.curserInfoElements.countLabel=B,this.curserInfoElements.countVal=M,O.appendChild(M),O.appendChild(B),O.appendChild(this.errorTable.getErrorCounter()),O.appendChild(this.errorTable.getWarningIcon()),O.appendChild(this.errorTable.getErrorIcon())}this.setSchema(this.options.schema,this.options.schemaRefs)},v._onChange=function(){var e=this;if(!this.onChangeDisabled){if(setTimeout((function(){return e._updateHistoryButtons()})),this._debouncedValidate(),this.options.onChange)try{this.options.onChange()}catch(t){}if(this.options.onChangeText)try{this.options.onChangeText(this.getText())}catch(t){}}},v._updateHistoryButtons=function(){if(this.aceEditor&&this.dom.undo&&this.dom.redo){var e=this.aceEditor.getSession().getUndoManager();e&&e.hasUndo&&e.hasRedo&&(this.dom.undo.disabled=!e.hasUndo(),this.dom.redo.disabled=!e.hasRedo())}},v._showSortModal=function(){var e=this,t=this.options.modalAnchor||h["a"],n=this.get();function r(t){if(Array.isArray(n)){var r=Object(l["sort"])(n,t.path,t.direction);e.sortedBy=t,e.update(r)}if(Object(l["isObject"])(n)){var i=Object(l["sortObjectKeys"])(n,t.direction);e.sortedBy=t,e.update(i)}}Object(u["showSortModal"])(t,n,r,e.sortedBy)},v._showTransformModal=function(){var e=this,t=this.options,n=t.modalAnchor,r=t.createQuery,i=t.executeQuery,o=t.queryDescription,a=this.get();Object(d["showTransformModal"])({anchor:n||h["a"],json:a,queryDescription:o,createQuery:r,executeQuery:i,onTransform:function(t){var n=i(a,t);e.update(n)}})},v._onSelect=function(){this._updateCursorInfo(),this._emitSelectionChange()},v._onKeyDown=function(e){var t=e.which||e.keyCode,n=!1;220===t&&e.ctrlKey&&(e.shiftKey?(this.compact(),this._onChange()):(this.format(),this._onChange()),n=!0),n&&(e.preventDefault(),e.stopPropagation()),this._updateCursorInfo(),this._emitSelectionChange()},v._onMouseDown=function(){this._updateCursorInfo(),this._emitSelectionChange()},v._onBlur=function(){var e=this;setTimeout((function(){e.isFocused||(e._updateCursorInfo(),e._emitSelectionChange()),e.isFocused=!1}))},v._updateCursorInfo=function(){var e,t,n,r=this;if(this.textarea)setTimeout((function(){var i=Object(l["getInputSelection"])(r.textarea);i.startIndex!==i.endIndex&&(n=i.endIndex-i.startIndex),n&&r.cursorInfo&&r.cursorInfo.line===i.end.row&&r.cursorInfo.column===i.end.column?(e=i.start.row,t=i.start.column):(e=i.end.row,t=i.end.column),r.cursorInfo={line:e,column:t,count:n},r.options.statusBar&&a()}),0);else if(this.aceEditor&&this.curserInfoElements){var i=this.aceEditor.getCursorPosition(),o=this.aceEditor.getSelectedText();e=i.row+1,t=i.column+1,n=o.length,r.cursorInfo={line:e,column:t,count:n},this.options.statusBar&&a()}function a(){r.curserInfoElements.countVal.innerText!==n&&(r.curserInfoElements.countVal.innerText=n,r.curserInfoElements.countVal.style.display=n?"inline":"none",r.curserInfoElements.countLabel.style.display=n?"inline":"none"),r.curserInfoElements.lnVal.innerText=e,r.curserInfoElements.colVal.innerText=t}},v._emitSelectionChange=function(){if(this._selectionChangedHandler){var e=this.getTextSelection();this._selectionChangedHandler(e.start,e.end,e.text)}},v._refreshAnnotations=function(){var e=this.aceEditor&&this.aceEditor.getSession();if(e){var t=e.getAnnotations().filter((function(e){return"error"===e.type}));e.setAnnotations(t)}},v.destroy=function(){this.aceEditor&&(this.aceEditor.destroy(),this.aceEditor=null),this.frame&&this.container&&this.frame.parentNode===this.container&&this.container.removeChild(this.frame),this.modeSwitcher&&(this.modeSwitcher.destroy(),this.modeSwitcher=null),this.textarea=null,this._debouncedValidate=null,this.frameFocusTracker.destroy()},v.compact=function(){var e=this.get(),t=JSON.stringify(e);this.updateText(t)},v.format=function(){var e=this.get(),t=JSON.stringify(e,null,this.indentation);this.updateText(t)},v.repair=function(){var e=this.getText(),t=Object(l["repair"])(e);this.updateText(t)},v.focus=function(){this.textarea&&this.textarea.focus(),this.aceEditor&&this.aceEditor.focus()},v.resize=function(){if(this.aceEditor){var e=!1;this.aceEditor.resize(e)}},v.set=function(e){this.setText(JSON.stringify(e,null,this.indentation))},v.update=function(e){this.updateText(JSON.stringify(e,null,this.indentation))},v.get=function(){var e=this.getText();return Object(l["parse"])(e)},v.getText=function(){return this.textarea?this.textarea.value:this.aceEditor?this.aceEditor.getValue():""},v._setText=function(e,t){var n=this,r=!0===this.options.escapeUnicode?Object(l["escapeUnicodeChars"])(e):e;if(this.textarea&&(this.textarea.value=r),this.aceEditor){if(this.onChangeDisabled=!0,this.aceEditor.setValue(r,-1),this.onChangeDisabled=!1,t){var i=this;setTimeout((function(){i.aceEditor&&i.aceEditor.session.getUndoManager().reset()}))}setTimeout((function(){return n._updateHistoryButtons()}))}this._debouncedValidate()},v.setText=function(e){this._setText(e,!0)},v.updateText=function(e){this.getText()!==e&&this._setText(e,!1)},v.validate=function(){var e,t=this,n=[],r=[];try{if(e=this.get(),this.validateSchema){var i=this.validateSchema(e);i||(n=this.validateSchema.errors.map((function(e){return e.type="validation",Object(l["improveSchemaError"])(e)})))}this.validationSequence=(this.validationSequence||0)+1;var o=this,a=this.validationSequence;c(e,this.options.onValidate).then((function(e){if(a===o.validationSequence){var i=n.concat(r).concat(e);o._renderErrors(i),"function"===typeof t.options.onValidationError&&(Object(l["isValidationErrorChanged"])(i,t.lastSchemaErrors)&&t.options.onValidationError.call(t,i),t.lastSchemaErrors=i)}}))["catch"]((function(e){}))}catch(d){if(this.getText()){var s,u=/\w*line\s*(\d+)\w*/g.exec(d.message);u&&(s=+u[1]),r=[{type:"error",message:d.message.replace(/\n/g,"<br>"),line:s}]}this._renderErrors(r),"function"===typeof this.options.onValidationError&&(Object(l["isValidationErrorChanged"])(r,this.lastSchemaErrors)&&this.options.onValidationError.call(this,r),this.lastSchemaErrors=r)}},v._renderErrors=function(e){var t=this.getText(),n=[];e.reduce((function(e,t){return"string"===typeof t.dataPath&&-1===e.indexOf(t.dataPath)&&e.push(t.dataPath),e}),n);var r=Object(l["getPositionForPath"])(t,n);if(this.aceEditor&&(this.annotations=r.map((function(t){var n=e.filter((function(e){return e.dataPath===t.path})),r=n.map((function(e){return e.message})).join("\n");return r?{row:t.line,column:t.column,text:"Schema validation error"+(1!==n.length?"s":"")+": \n"+r,type:"warning",source:"jsoneditor"}:{}})),this._refreshAnnotations()),this.errorTable.setErrors(e,r),this.aceEditor){var i=!1;this.aceEditor.resize(i)}},v.getTextSelection=function(){var e={};if(this.textarea){var t=Object(l["getInputSelection"])(this.textarea);return this.cursorInfo&&this.cursorInfo.line===t.end.row&&this.cursorInfo.column===t.end.column?(e.start=t.end,e.end=t.start):e=t,{start:e.start,end:e.end,text:this.textarea.value.substring(t.startIndex,t.endIndex)}}if(this.aceEditor){var n=this.aceEditor.getSelection(),r=this.aceEditor.getSelectedText(),i=n.getRange(),o=n.getSelectionLead();return o.row===i.end.row&&o.column===i.end.column?e=i:(e.start=i.end,e.end=i.start),{start:{row:e.start.row+1,column:e.start.column+1},end:{row:e.end.row+1,column:e.end.column+1},text:r}}},v.onTextSelectionChange=function(e){"function"===typeof e&&(this._selectionChangedHandler=Object(l["debounce"])(e,this.DEBOUNCE_INTERVAL))},v.setTextSelection=function(e,t){if(e&&t)if(this.textarea){var n=Object(l["getIndexForPosition"])(this.textarea,e.row,e.column),r=Object(l["getIndexForPosition"])(this.textarea,t.row,t.column);if(n>-1&&r>-1){if(this.textarea.setSelectionRange)this.textarea.focus(),this.textarea.setSelectionRange(n,r);else if(this.textarea.createTextRange){var i=this.textarea.createTextRange();i.collapse(!0),i.moveEnd("character",r),i.moveStart("character",n),i.select()}var o=(this.textarea.value.match(/\n/g)||[]).length+1,a=this.textarea.scrollHeight/o,s=e.row*a;this.textarea.scrollTop=s>this.textarea.clientHeight?s-this.textarea.clientHeight/2:0}}else if(this.aceEditor){var c={start:{row:e.row-1,column:e.column-1},end:{row:t.row-1,column:t.column-1}};this.aceEditor.selection.setRange(c),this.aceEditor.scrollToLine(e.row-1,!0)}};var C=[{mode:"text",mixin:v,data:"text",load:y},{mode:"code",mixin:v,data:"text",load:y}]},function(e,t,n){var r=function(){var e={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(e,t,n,r,i,o,a){var s=o.length-1;switch(i){case 1:this.$=e.replace(/\\(\\|")/g,"$1").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b");break;case 2:this.$=Number(e);break;case 3:this.$=null;break;case 4:this.$=!0;break;case 5:this.$=!1;break;case 6:return this.$=o[s-1];case 13:this.$={};break;case 14:this.$=o[s-1];break;case 15:this.$=[o[s-2],o[s]];break;case 16:this.$={},this.$[o[s][0]]=o[s][1];break;case 17:this.$=o[s-2],o[s-2][o[s][0]]=o[s][1];break;case 18:this.$=[];break;case 19:this.$=o[s-1];break;case 20:this.$=[o[s]];break;case 21:this.$=o[s-2],o[s-2].push(o[s]);break}},table:[{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],12:1,13:2,15:7,16:8,17:[1,14],23:[1,15]},{1:[3]},{14:[1,16]},{14:[2,7],18:[2,7],22:[2,7],24:[2,7]},{14:[2,8],18:[2,8],22:[2,8],24:[2,8]},{14:[2,9],18:[2,9],22:[2,9],24:[2,9]},{14:[2,10],18:[2,10],22:[2,10],24:[2,10]},{14:[2,11],18:[2,11],22:[2,11],24:[2,11]},{14:[2,12],18:[2,12],22:[2,12],24:[2,12]},{14:[2,3],18:[2,3],22:[2,3],24:[2,3]},{14:[2,4],18:[2,4],22:[2,4],24:[2,4]},{14:[2,5],18:[2,5],22:[2,5],24:[2,5]},{14:[2,1],18:[2,1],21:[2,1],22:[2,1],24:[2,1]},{14:[2,2],18:[2,2],22:[2,2],24:[2,2]},{3:20,4:[1,12],18:[1,17],19:18,20:19},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:23,15:7,16:8,17:[1,14],23:[1,15],24:[1,21],25:22},{1:[2,6]},{14:[2,13],18:[2,13],22:[2,13],24:[2,13]},{18:[1,24],22:[1,25]},{18:[2,16],22:[2,16]},{21:[1,26]},{14:[2,18],18:[2,18],22:[2,18],24:[2,18]},{22:[1,28],24:[1,27]},{22:[2,20],24:[2,20]},{14:[2,14],18:[2,14],22:[2,14],24:[2,14]},{3:20,4:[1,12],20:29},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:30,15:7,16:8,17:[1,14],23:[1,15]},{14:[2,19],18:[2,19],22:[2,19],24:[2,19]},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:31,15:7,16:8,17:[1,14],23:[1,15]},{18:[2,17],22:[2,17]},{18:[2,15],22:[2,15]},{22:[2,21],24:[2,21]}],defaultActions:{16:[2,6]},parseError:function(e,t){throw new Error(e)},parse:function(e){var t=this,n=[0],r=[null],i=[],o=this.table,a="",s=0,l=0,c=0,u=2,d=1;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var f=this.lexer.yylloc;function h(e){n.length=n.length-2*e,r.length=r.length-e,i.length=i.length-e}function p(){var e;return e=t.lexer.lex()||1,"number"!==typeof e&&(e=t.symbols_[e]||e),e}i.push(f),"function"===typeof this.yy.parseError&&(this.parseError=this.yy.parseError);var m,g,v,b,y,C,w,x,I,A={};while(1){if(v=n[n.length-1],this.defaultActions[v]?b=this.defaultActions[v]:(null==m&&(m=p()),b=o[v]&&o[v][m]),"undefined"===typeof b||!b.length||!b[0]){if(!c){for(C in I=[],o[v])this.terminals_[C]&&C>2&&I.push("'"+this.terminals_[C]+"'");var k="";k=this.lexer.showPosition?"Parse error on line "+(s+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+I.join(", ")+", got '"+this.terminals_[m]+"'":"Parse error on line "+(s+1)+": Unexpected "+(1==m?"end of input":"'"+(this.terminals_[m]||m)+"'"),this.parseError(k,{text:this.lexer.match,token:this.terminals_[m]||m,line:this.lexer.yylineno,loc:f,expected:I})}if(3==c){if(m==d)throw new Error(k||"Parsing halted.");l=this.lexer.yyleng,a=this.lexer.yytext,s=this.lexer.yylineno,f=this.lexer.yylloc,m=p()}while(1){if(u.toString()in o[v])break;if(0==v)throw new Error(k||"Parsing halted.");h(1),v=n[n.length-1]}g=m,m=u,v=n[n.length-1],b=o[v]&&o[v][u],c=3}if(b[0]instanceof Array&&b.length>1)throw new Error("Parse Error: multiple actions possible at state: "+v+", token: "+m);switch(b[0]){case 1:n.push(m),r.push(this.lexer.yytext),i.push(this.lexer.yylloc),n.push(b[1]),m=null,g?(m=g,g=null):(l=this.lexer.yyleng,a=this.lexer.yytext,s=this.lexer.yylineno,f=this.lexer.yylloc,c>0&&c--);break;case 2:if(w=this.productions_[b[1]][1],A.$=r[r.length-w],A._$={first_line:i[i.length-(w||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(w||1)].first_column,last_column:i[i.length-1].last_column},y=this.performAction.call(A,a,l,s,this.yy,b[1],r,i),"undefined"!==typeof y)return y;w&&(n=n.slice(0,-1*w*2),r=r.slice(0,-1*w),i=i.slice(0,-1*w)),n.push(this.productions_[b[1]][0]),r.push(A.$),i.push(A._$),x=o[n[n.length-2]][n[n.length-1]],n.push(x);break;case 3:return!0}}return!0}},t=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parseError)throw new Error(e);this.yy.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this},input:function(){var e=this._input[0];this.yytext+=e,this.yyleng++,this.match+=e,this.matched+=e;var t=e.match(/\n/);return t&&this.yylineno++,this._input=this._input.slice(1),e},unput:function(e){return this._input=e+this._input,this},more:function(){return this._more=!0,this},less:function(e){this._input=this.match.slice(e)+this._input},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;var e,t,n,r,i;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),a=0;a<o.length;a++)if(n=this._input.match(this.rules[o[a]]),n&&(!t||n[0].length>t[0].length)&&(t=n,r=a,!this.options.flex))break;return t?(i=t[0].match(/\n.*/g),i&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-1:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.yyleng=this.yytext.length,this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,o[r],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e||void 0):""===this._input?this.EOF:void this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return"undefined"!==typeof e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)},options:{},performAction:function(e,t,n,r){switch(n){case 0:break;case 1:return 6;case 2:return t.yytext=t.yytext.substr(1,t.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}};return e}();return e.lexer=t,e}();t.parser=r,t.parse=r.parse.bind(r)},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t){"undefined"!==typeof Element&&function(){function e(e){"remove"in e||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){void 0!==this.parentNode&&this.parentNode.removeChild(this)}})}"undefined"!==typeof window.Element&&e(window.Element.prototype),"undefined"!==typeof window.CharacterData&&e(window.CharacterData.prototype),"undefined"!==typeof window.DocumentType&&e(window.DocumentType.prototype)}(),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(e){for(var t=0;t<this.length;t++){var n=this[t];if(e.call(this,n,t,this))return t}return-1},configurable:!0,writable:!0}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){var t=this.findIndex(e);return this[t]},configurable:!0,writable:!0}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")})},function(e,t,n){"use strict";var r=n(7);function i(e){r.copy(e,this)}e.exports=i},function(e,t,n){"use strict";e.exports=function(e,t){t||(t={}),"function"===typeof t&&(t={cmp:t});var n="boolean"===typeof t.cycles&&t.cycles,r=t.cmp&&function(e){return function(t){return function(n,r){var i={key:n,value:t[n]},o={key:r,value:t[r]};return e(i,o)}}}(t.cmp),i=[];return function e(t){if(t&&t.toJSON&&"function"===typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!==typeof t)return JSON.stringify(t);var o,a;if(Array.isArray(t)){for(a="[",o=0;o<t.length;o++)o&&(a+=","),a+=e(t[o])||"null";return a+"]"}if(null===t)return"null";if(-1!==i.indexOf(t)){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var s=i.push(t)-1,l=Object.keys(t).sort(r&&r(t));for(a="",o=0;o<l.length;o++){var c=l[o],u=e(t[c]);u&&(a&&(a+=","),a+=JSON.stringify(c)+":"+u)}return i.splice(s,1),"{"+a+"}"}}(e)}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r="",i=!0===e.schema.$async,o=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),a=e.self._getId(e.schema);if(e.opts.strictKeywords){var s=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(s){var l="unknown keyword: "+s;if("log"!==e.opts.strictKeywords)throw new Error(l);e.logger.warn(l)}}if(e.isTop&&(r+=" var validate = ",i&&(e.async=!0,r+="async "),r+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",a&&(e.opts.sourceCode||e.opts.processCode)&&(r+=" /*# sourceURL="+a+" */ ")),"boolean"==typeof e.schema||!o&&!e.schema.$ref){t="false schema";var c=e.level,u=e.dataLevel,d=e.schema[t],f=e.schemaPath+e.util.getProperty(t),h=e.errSchemaPath+"/"+t,p=!e.opts.allErrors,m="data"+(u||""),g="valid"+c;if(!1===e.schema){e.isTop?p=!0:r+=" var "+g+" = false; ";var v=v||[];v.push(r),r="",!1!==e.createErrors?(r+=" { keyword: '"+(w||"false schema")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(h)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'boolean schema is false' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ";var b=r;r=v.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+b+"]); ":r+=" validate.errors = ["+b+"]; return false; ":r+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?r+=i?" return data; ":" validate.errors = null; return true; ":r+=" var "+g+" = true; ";return e.isTop&&(r+=" }; return validate; "),r}if(e.isTop){var y=e.isTop;c=e.level=0,u=e.dataLevel=0,m="data";if(e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[void 0],void 0!==e.schema.default&&e.opts.useDefaults&&e.opts.strictDefaults){var C="default is ignored in the schema root";if("log"!==e.opts.strictDefaults)throw new Error(C);e.logger.warn(C)}r+=" var vErrors = null; ",r+=" var errors = 0;     ",r+=" if (rootData === undefined) rootData = data; "}else{c=e.level,u=e.dataLevel,m="data"+(u||"");if(a&&(e.baseId=e.resolve.url(e.baseId,a)),i&&!e.async)throw new Error("async schema in sync schema");r+=" var errs_"+c+" = errors;"}g="valid"+c,p=!e.opts.allErrors;var w,x="",I="",A=e.schema.type,k=Array.isArray(A);if(A&&e.opts.nullable&&!0===e.schema.nullable&&(k?-1==A.indexOf("null")&&(A=A.concat("null")):"null"!=A&&(A=[A,"null"],k=!0)),k&&1==A.length&&(A=A[0],k=!1),e.schema.$ref&&o){if("fail"==e.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');!0!==e.opts.extendRefs&&(o=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(r+=" "+e.RULES.all.$comment.code(e,"$comment")),A){if(e.opts.coerceTypes)var S=e.util.coerceToTypes(e.opts.coerceTypes,A);var _=e.RULES.types[A];if(S||k||!0===_||_&&!te(_)){f=e.schemaPath+".type",h=e.errSchemaPath+"/type",f=e.schemaPath+".type",h=e.errSchemaPath+"/type";var T=k?"checkDataTypes":"checkDataType";if(r+=" if ("+e.util[T](A,m,!0)+") { ",S){var E="dataType"+c,O="coerced"+c;r+=" var "+E+" = typeof "+m+"; ","array"==e.opts.coerceTypes&&(r+=" if ("+E+" == 'object' && Array.isArray("+m+")) "+E+" = 'array'; "),r+=" var "+O+" = undefined; ";var R="",N=S;if(N){var L,D=-1,B=N.length-1;while(D<B)L=N[D+=1],D&&(r+=" if ("+O+" === undefined) { ",R+="}"),"array"==e.opts.coerceTypes&&"array"!=L&&(r+=" if ("+E+" == 'array' && "+m+".length == 1) { "+O+" = "+m+" = "+m+"[0]; "+E+" = typeof "+m+";  } "),"string"==L?r+=" if ("+E+" == 'number' || "+E+" == 'boolean') "+O+" = '' + "+m+"; else if ("+m+" === null) "+O+" = ''; ":"number"==L||"integer"==L?(r+=" if ("+E+" == 'boolean' || "+m+" === null || ("+E+" == 'string' && "+m+" && "+m+" == +"+m+" ","integer"==L&&(r+=" && !("+m+" % 1)"),r+=")) "+O+" = +"+m+"; "):"boolean"==L?r+=" if ("+m+" === 'false' || "+m+" === 0 || "+m+" === null) "+O+" = false; else if ("+m+" === 'true' || "+m+" === 1) "+O+" = true; ":"null"==L?r+=" if ("+m+" === '' || "+m+" === 0 || "+m+" === false) "+O+" = null; ":"array"==e.opts.coerceTypes&&"array"==L&&(r+=" if ("+E+" == 'string' || "+E+" == 'number' || "+E+" == 'boolean' || "+m+" == null) "+O+" = ["+m+"]; ")}r+=" "+R+" if ("+O+" === undefined) {   ";v=v||[];v.push(r),r="",!1!==e.createErrors?(r+=" { keyword: '"+(w||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(h)+" , params: { type: '",r+=k?""+A.join(","):""+A,r+="' } ",!1!==e.opts.messages&&(r+=" , message: 'should be ",r+=k?""+A.join(","):""+A,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ";b=r;r=v.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+b+"]); ":r+=" validate.errors = ["+b+"]; return false; ":r+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else {  ";var M=u?"data"+(u-1||""):"parentData",P=u?e.dataPathArr[u]:"parentDataProperty";r+=" "+m+" = "+O+"; ",u||(r+="if ("+M+" !== undefined)"),r+=" "+M+"["+P+"] = "+O+"; } "}else{v=v||[];v.push(r),r="",!1!==e.createErrors?(r+=" { keyword: '"+(w||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(h)+" , params: { type: '",r+=k?""+A.join(","):""+A,r+="' } ",!1!==e.opts.messages&&(r+=" , message: 'should be ",r+=k?""+A.join(","):""+A,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ";b=r;r=v.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+b+"]); ":r+=" validate.errors = ["+b+"]; return false; ":r+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}r+=" } "}}if(e.schema.$ref&&!o)r+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",p&&(r+=" } if (errors === ",r+=y?"0":"errs_"+c,r+=") { ",I+="}");else{var F=e.RULES;if(F){var j=-1,H=F.length-1;while(j<H)if(_=F[j+=1],te(_)){if(_.type&&(r+=" if ("+e.util.checkDataType(_.type,m)+") { "),e.opts.useDefaults)if("object"==_.type&&e.schema.properties){d=e.schema.properties;var z=Object.keys(d),$=z;if($){var V,W=-1,K=$.length-1;while(W<K){V=$[W+=1];var G=d[V];if(void 0!==G.default){var Z=m+e.util.getProperty(V);if(e.compositeRule){if(e.opts.strictDefaults){C="default is ignored for: "+Z;if("log"!==e.opts.strictDefaults)throw new Error(C);e.logger.warn(C)}}else r+=" if ("+Z+" === undefined ","empty"==e.opts.useDefaults&&(r+=" || "+Z+" === null || "+Z+" === '' "),r+=" ) "+Z+" = ","shared"==e.opts.useDefaults?r+=" "+e.useDefault(G.default)+" ":r+=" "+JSON.stringify(G.default)+" ",r+="; "}}}}else if("array"==_.type&&Array.isArray(e.schema.items)){var U=e.schema.items;if(U){D=-1;var q=U.length-1;while(D<q)if(G=U[D+=1],void 0!==G.default){Z=m+"["+D+"]";if(e.compositeRule){if(e.opts.strictDefaults){C="default is ignored for: "+Z;if("log"!==e.opts.strictDefaults)throw new Error(C);e.logger.warn(C)}}else r+=" if ("+Z+" === undefined ","empty"==e.opts.useDefaults&&(r+=" || "+Z+" === null || "+Z+" === '' "),r+=" ) "+Z+" = ","shared"==e.opts.useDefaults?r+=" "+e.useDefault(G.default)+" ":r+=" "+JSON.stringify(G.default)+" ",r+="; "}}}var X=_.rules;if(X){var Y,J=-1,Q=X.length-1;while(J<Q)if(Y=X[J+=1],ne(Y)){var ee=Y.code(e,Y.keyword,_.type);ee&&(r+=" "+ee+" ",p&&(x+="}"))}}if(p&&(r+=" "+x+" ",x=""),_.type&&(r+=" } ",A&&A===_.type&&!S)){r+=" else { ";f=e.schemaPath+".type",h=e.errSchemaPath+"/type",v=v||[];v.push(r),r="",!1!==e.createErrors?(r+=" { keyword: '"+(w||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(h)+" , params: { type: '",r+=k?""+A.join(","):""+A,r+="' } ",!1!==e.opts.messages&&(r+=" , message: 'should be ",r+=k?""+A.join(","):""+A,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ";b=r;r=v.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+b+"]); ":r+=" validate.errors = ["+b+"]; return false; ":r+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } "}p&&(r+=" if (errors === ",r+=y?"0":"errs_"+c,r+=") { ",I+="}")}}}function te(e){for(var t=e.rules,n=0;n<t.length;n++)if(ne(t[n]))return!0}function ne(t){return void 0!==e.schema[t.keyword]||t.implements&&re(t)}function re(t){for(var n=t.implements,r=0;r<n.length;r++)if(void 0!==e.schema[n[r]])return!0}return p&&(r+=" "+I+" "),y?(i?(r+=" if (errors === 0) return data;           ",r+=" else throw new ValidationError(vErrors); "):(r+=" validate.errors = vErrors; ",r+=" return errors === 0;       "),r+=" }; return validate;"):r+=" var "+g+" = errors === errs_"+c+";",r=e.util.cleanUpCode(r),y&&(r=e.util.finalCleanUpCode(r,i)),r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,d="data"+(a||""),f=e.opts.$data&&s&&s.$data;f?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",r="schema"+o):r=s;var h="maximum"==t,p=h?"exclusiveMaximum":"exclusiveMinimum",m=e.schema[p],g=e.opts.$data&&m&&m.$data,v=h?"<":">",b=h?">":"<",y=void 0;if(g){var C=e.util.getData(m.$data,a,e.dataPathArr),w="exclusive"+o,x="exclType"+o,I="exclIsNumber"+o,A="op"+o,k="' + "+A+" + '";i+=" var schemaExcl"+o+" = "+C+"; ",C="schemaExcl"+o,i+=" var "+w+"; var "+x+" = typeof "+C+"; if ("+x+" != 'boolean' && "+x+" != 'undefined' && "+x+" != 'number') { ";y=p;var S=S||[];S.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(y||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(i+=" , message: '"+p+" should be boolean' "),e.opts.verbose&&(i+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),i+=" } "):i+=" {} ";var _=i;i=S.pop(),!e.compositeRule&&u?e.async?i+=" throw new ValidationError(["+_+"]); ":i+=" validate.errors = ["+_+"]; return false; ":i+=" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else if ( ",f&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" "+x+" == 'number' ? ( ("+w+" = "+r+" === undefined || "+C+" "+v+"= "+r+") ? "+d+" "+b+"= "+C+" : "+d+" "+b+" "+r+" ) : ( ("+w+" = "+C+" === true) ? "+d+" "+b+"= "+r+" : "+d+" "+b+" "+r+" ) || "+d+" !== "+d+") { var op"+o+" = "+w+" ? '"+v+"' : '"+v+"='; ",void 0===s&&(y=p,c=e.errSchemaPath+"/"+p,r=C,f=g)}else{I="number"==typeof m,k=v;if(I&&f){A="'"+k+"'";i+=" if ( ",f&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" ( "+r+" === undefined || "+m+" "+v+"= "+r+" ? "+d+" "+b+"= "+m+" : "+d+" "+b+" "+r+" ) || "+d+" !== "+d+") { "}else{I&&void 0===s?(w=!0,y=p,c=e.errSchemaPath+"/"+p,r=m,b+="="):(I&&(r=Math[h?"min":"max"](m,s)),m===(!I||r)?(w=!0,y=p,c=e.errSchemaPath+"/"+p,b+="="):(w=!1,k+="="));A="'"+k+"'";i+=" if ( ",f&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" "+d+" "+b+" "+r+" || "+d+" !== "+d+") { "}}y=y||t;S=S||[];S.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(y||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { comparison: "+A+", limit: "+r+", exclusive: "+w+" } ",!1!==e.opts.messages&&(i+=" , message: 'should be "+k+" ",i+=f?"' + "+r:r+"'"),e.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+l:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),i+=" } "):i+=" {} ";_=i;return i=S.pop(),!e.compositeRule&&u?e.async?i+=" throw new ValidationError(["+_+"]); ":i+=" validate.errors = ["+_+"]; return false; ":i+=" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",u&&(i+=" else { "),i}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,d="data"+(a||""),f=e.opts.$data&&s&&s.$data;f?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",r="schema"+o):r=s;var h="maxItems"==t?">":"<";i+="if ( ",f&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" "+d+".length "+h+" "+r+") { ";var p=t,m=m||[];m.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(p||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+r+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxItems"==t?"more":"fewer",i+=" than ",i+=f?"' + "+r+" + '":""+s,i+=" items' "),e.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+l:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),i+=" } "):i+=" {} ";var g=i;return i=m.pop(),!e.compositeRule&&u?e.async?i+=" throw new ValidationError(["+g+"]); ":i+=" validate.errors = ["+g+"]; return false; ":i+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",u&&(i+=" else { "),i}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,d="data"+(a||""),f=e.opts.$data&&s&&s.$data;f?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",r="schema"+o):r=s;var h="maxLength"==t?">":"<";i+="if ( ",f&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),!1===e.opts.unicode?i+=" "+d+".length ":i+=" ucs2length("+d+") ",i+=" "+h+" "+r+") { ";var p=t,m=m||[];m.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(p||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+r+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT be ",i+="maxLength"==t?"longer":"shorter",i+=" than ",i+=f?"' + "+r+" + '":""+s,i+=" characters' "),e.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+l:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),i+=" } "):i+=" {} ";var g=i;return i=m.pop(),!e.compositeRule&&u?e.async?i+=" throw new ValidationError(["+g+"]); ":i+=" validate.errors = ["+g+"]; return false; ":i+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",u&&(i+=" else { "),i}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,d="data"+(a||""),f=e.opts.$data&&s&&s.$data;f?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",r="schema"+o):r=s;var h="maxProperties"==t?">":"<";i+="if ( ",f&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" Object.keys("+d+").length "+h+" "+r+") { ";var p=t,m=m||[];m.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(p||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+r+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxProperties"==t?"more":"fewer",i+=" than ",i+=f?"' + "+r+" + '":""+s,i+=" properties' "),e.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+l:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),i+=" } "):i+=" {} ";var g=i;return i=m.pop(),!e.compositeRule&&u?e.async?i+=" throw new ValidationError(["+g+"]); ":i+=" validate.errors = ["+g+"]; return false; ":i+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",u&&(i+=" else { "),i}},function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')},function(e,t,n){"use strict";var r={b:"\b",f:"\f",n:"\n",r:"\r",t:"\t",'"':'"',"/":"/","\\":"\\"},i="a".charCodeAt();t.parse=function(e,t,n){var o={},a=0,s=0,l=0,c=n&&n.bigint&&"undefined"!=typeof BigInt;return{data:u("",!0),pointers:o};function u(t,n){var r;d(),x(t,"value");var i=b();switch(i){case"t":v("rue"),r=!0;break;case"f":v("alse"),r=!1;break;case"n":v("ull"),r=null;break;case'"':r=f();break;case"[":r=p(t);break;case"{":r=m(t);break;default:y(),"-0123456789".indexOf(i)>=0?r=h():k()}return x(t,"valueEnd"),d(),n&&l<e.length&&k(),r}function d(){e:while(l<e.length){switch(e[l]){case" ":s++;break;case"\t":s+=4;break;case"\r":s=0;break;case"\n":s=0,a++;break;default:break e}l++}}function f(){var e,t="";while(1){if(e=b(),'"'==e)break;"\\"==e?(e=b(),e in r?t+=r[e]:"u"==e?t+=C():S()):t+=e}return t}function h(){var t="",n=!0;"-"==e[l]&&(t+=b()),t+="0"==e[l]?b():w(),"."==e[l]&&(t+=b()+w(),n=!1),"e"!=e[l]&&"E"!=e[l]||(t+=b(),"+"!=e[l]&&"-"!=e[l]||(t+=b()),t+=w(),n=!1);var r=+t;return c&&n&&(r>Number.MAX_SAFE_INTEGER||r<Number.MIN_SAFE_INTEGER)?BigInt(t):r}function p(e){d();var t=[],n=0;if("]"==b())return t;y();while(1){var r=e+"/"+n;t.push(u(r)),d();var i=b();if("]"==i)break;","!=i&&S(),d(),n++}return t}function m(e){d();var t={};if("}"==b())return t;y();while(1){var n=A();'"'!=b()&&S();var r=f(),i=e+"/"+g(r);I(i,"key",n),x(i,"keyEnd"),d(),":"!=b()&&S(),d(),t[r]=u(i),d();var o=b();if("}"==o)break;","!=o&&S(),d()}return t}function v(e){for(var t=0;t<e.length;t++)b()!==e[t]&&S()}function b(){_();var t=e[l];return l++,s++,t}function y(){l--,s--}function C(){var e=4,t=0;while(e--){t<<=4;var n=b().toLowerCase();n>="a"&&n<="f"?t+=n.charCodeAt()-i+10:n>="0"&&n<="9"?t+=+n:S()}return String.fromCharCode(t)}function w(){var t="";while(e[l]>="0"&&e[l]<="9")t+=b();if(t.length)return t;_(),k()}function x(e,t){I(e,t,A())}function I(e,t,n){o[e]=o[e]||{},o[e][t]=n}function A(){return{line:a,column:s,pos:l}}function k(){throw new SyntaxError("Unexpected token "+e[l]+" in JSON at position "+l)}function S(){y(),k()}function _(){if(l>=e.length)throw new SyntaxError("Unexpected end of JSON input")}},t.stringify=function(e,t,n){if(a(e)){var r,i,o=0,s="object"==typeof n?n.space:n;switch(typeof s){case"number":var l=s>10?10:s<0?0:Math.floor(s);s=l&&I(l," "),r=l,i=l;break;case"string":s=s.slice(0,10),r=0,i=0;for(var c=0;c<s.length;c++){var u=s[c];switch(u){case" ":i++;break;case"\t":i+=4;break;case"\r":i=0;break;case"\n":i=0,o++;break;default:throw new Error("whitespace characters not allowed in JSON")}r++}break;default:s=void 0}var d="",f={},p=0,m=0,v=0,b=n&&n.es6&&"function"==typeof Map;return y(e,0,""),{json:d,pointers:f}}function y(e,t,n){switch(x(n,"value"),typeof e){case"number":case"bigint":case"boolean":C(""+e);break;case"string":C(h(e));break;case"object":null===e?C("null"):"function"==typeof e.toJSON?C(h(e.toJSON())):Array.isArray(e)?r():b?e.constructor.BYTES_PER_ELEMENT?r():e instanceof Map?o():e instanceof Set?o(!0):i():i()}function r(){if(e.length){C("[");for(var r=t+1,i=0;i<e.length;i++){i&&C(","),w(r);var o=a(e[i])?e[i]:null,s=n+"/"+i;y(o,r,s)}w(t),C("]")}else C("[]")}function i(){var r=Object.keys(e);if(r.length){C("{");for(var i=t+1,o=0;o<r.length;o++){var l=r[o],c=e[l];if(a(c)){o&&C(",");var u=n+"/"+g(l);w(i),x(u,"key"),C(h(l)),x(u,"keyEnd"),C(":"),s&&C(" "),y(c,i,u)}}w(t),C("}")}else C("{}")}function o(r){if(e.size){C("{");var i=t+1,o=!0,l=e.entries(),c=l.next();while(!c.done){var u=c.value,d=u[0],f=!!r||u[1];if(a(f)){o||C(","),o=!1;var p=n+"/"+g(d);w(i),x(p,"key"),C(h(d)),x(p,"keyEnd"),C(":"),s&&C(" "),y(f,i,p)}c=l.next()}w(t),C("}")}else C("{}")}x(n,"valueEnd")}function C(e){m+=e.length,v+=e.length,d+=e}function w(e){if(s){d+="\n"+I(e,s),p++,m=0;while(e--)o?(p+=o,m=i):m+=i,v+=r;v+=1}}function x(e,t){f[e]=f[e]||{},f[e][t]={line:p,column:m,pos:v}}function I(e,t){return Array(e+1).join(t)}};var o=["number","bigint","boolean","string","object"];function a(e){return o.indexOf(typeof e)>=0}var s=/"|\\/g,l=/[\b]/g,c=/\f/g,u=/\n/g,d=/\r/g,f=/\t/g;function h(e){return e=e.replace(s,"\\$&").replace(c,"\\f").replace(l,"\\b").replace(u,"\\n").replace(d,"\\r").replace(f,"\\t"),'"'+e+'"'}var p=/~/g,m=/\//g;function g(e){return e.replace(p,"~0").replace(m,"~1")}},function(e,t,n){(function(e){"use strict";function t(e){return null!==e&&"[object Array]"===Object.prototype.toString.call(e)}function n(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function r(e,i){if(e===i)return!0;var o=Object.prototype.toString.call(e);if(o!==Object.prototype.toString.call(i))return!1;if(!0===t(e)){if(e.length!==i.length)return!1;for(var a=0;a<e.length;a++)if(!1===r(e[a],i[a]))return!1;return!0}if(!0===n(e)){var s={};for(var l in e)if(hasOwnProperty.call(e,l)){if(!1===r(e[l],i[l]))return!1;s[l]=!0}for(var c in i)if(hasOwnProperty.call(i,c)&&!0!==s[c])return!1;return!0}return!1}function i(e){if(""===e||!1===e||null===e)return!0;if(t(e)&&0===e.length)return!0;if(n(e)){for(var r in e)if(e.hasOwnProperty(r))return!1;return!0}return!1}function o(e){for(var t=Object.keys(e),n=[],r=0;r<t.length;r++)n.push(e[t[r]]);return n}var a;a="function"===typeof String.prototype.trimLeft?function(e){return e.trimLeft()}:function(e){return e.match(/^\s*(.*)/)[1]};var s=0,l=1,c=2,u=3,d=4,f=5,h=6,p=7,m=8,g=9,v="EOF",b="UnquotedIdentifier",y="QuotedIdentifier",C="Rbracket",w="Rparen",x="Comma",I="Colon",A="Rbrace",k="Number",S="Current",_="Expref",T="Pipe",E="Or",O="And",R="EQ",N="GT",L="LT",D="GTE",B="LTE",M="NE",P="Flatten",F="Star",j="Filter",H="Dot",z="Not",$="Lbrace",V="Lbracket",W="Lparen",K="Literal",G={".":H,"*":F,",":x,":":I,"{":$,"}":A,"]":C,"(":W,")":w,"@":S},Z={"<":!0,">":!0,"=":!0,"!":!0},U={" ":!0,"\t":!0,"\n":!0};function q(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"||"_"===e}function X(e){return e>="0"&&e<="9"||"-"===e}function Y(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"||e>="0"&&e<="9"||"_"===e}function J(){}J.prototype={tokenize:function(e){var t,n,r,i=[];this._current=0;while(this._current<e.length)if(q(e[this._current]))t=this._current,n=this._consumeUnquotedIdentifier(e),i.push({type:b,value:n,start:t});else if(void 0!==G[e[this._current]])i.push({type:G[e[this._current]],value:e[this._current],start:this._current}),this._current++;else if(X(e[this._current]))r=this._consumeNumber(e),i.push(r);else if("["===e[this._current])r=this._consumeLBracket(e),i.push(r);else if('"'===e[this._current])t=this._current,n=this._consumeQuotedIdentifier(e),i.push({type:y,value:n,start:t});else if("'"===e[this._current])t=this._current,n=this._consumeRawStringLiteral(e),i.push({type:K,value:n,start:t});else if("`"===e[this._current]){t=this._current;var o=this._consumeLiteral(e);i.push({type:K,value:o,start:t})}else if(void 0!==Z[e[this._current]])i.push(this._consumeOperator(e));else if(void 0!==U[e[this._current]])this._current++;else if("&"===e[this._current])t=this._current,this._current++,"&"===e[this._current]?(this._current++,i.push({type:O,value:"&&",start:t})):i.push({type:_,value:"&",start:t});else{if("|"!==e[this._current]){var a=new Error("Unknown character:"+e[this._current]);throw a.name="LexerError",a}t=this._current,this._current++,"|"===e[this._current]?(this._current++,i.push({type:E,value:"||",start:t})):i.push({type:T,value:"|",start:t})}return i},_consumeUnquotedIdentifier:function(e){var t=this._current;this._current++;while(this._current<e.length&&Y(e[this._current]))this._current++;return e.slice(t,this._current)},_consumeQuotedIdentifier:function(e){var t=this._current;this._current++;var n=e.length;while('"'!==e[this._current]&&this._current<n){var r=this._current;"\\"!==e[r]||"\\"!==e[r+1]&&'"'!==e[r+1]?r++:r+=2,this._current=r}return this._current++,JSON.parse(e.slice(t,this._current))},_consumeRawStringLiteral:function(e){var t=this._current;this._current++;var n=e.length;while("'"!==e[this._current]&&this._current<n){var r=this._current;"\\"!==e[r]||"\\"!==e[r+1]&&"'"!==e[r+1]?r++:r+=2,this._current=r}this._current++;var i=e.slice(t+1,this._current-1);return i.replace("\\'","'")},_consumeNumber:function(e){var t=this._current;this._current++;var n=e.length;while(X(e[this._current])&&this._current<n)this._current++;var r=parseInt(e.slice(t,this._current));return{type:k,value:r,start:t}},_consumeLBracket:function(e){var t=this._current;return this._current++,"?"===e[this._current]?(this._current++,{type:j,value:"[?",start:t}):"]"===e[this._current]?(this._current++,{type:P,value:"[]",start:t}):{type:V,value:"[",start:t}},_consumeOperator:function(e){var t=this._current,n=e[t];return this._current++,"!"===n?"="===e[this._current]?(this._current++,{type:M,value:"!=",start:t}):{type:z,value:"!",start:t}:"<"===n?"="===e[this._current]?(this._current++,{type:B,value:"<=",start:t}):{type:L,value:"<",start:t}:">"===n?"="===e[this._current]?(this._current++,{type:D,value:">=",start:t}):{type:N,value:">",start:t}:"="===n&&"="===e[this._current]?(this._current++,{type:R,value:"==",start:t}):void 0},_consumeLiteral:function(e){this._current++;var t,n=this._current,r=e.length;while("`"!==e[this._current]&&this._current<r){var i=this._current;"\\"!==e[i]||"\\"!==e[i+1]&&"`"!==e[i+1]?i++:i+=2,this._current=i}var o=a(e.slice(n,this._current));return o=o.replace("\\`","`"),t=this._looksLikeJSON(o)?JSON.parse(o):JSON.parse('"'+o+'"'),this._current++,t},_looksLikeJSON:function(e){var t='[{"',n=["true","false","null"],r="-0123456789";if(""===e)return!1;if(t.indexOf(e[0])>=0)return!0;if(n.indexOf(e)>=0)return!0;if(!(r.indexOf(e[0])>=0))return!1;try{return JSON.parse(e),!0}catch(i){return!1}}};var Q={};function ee(){}function te(e){this.runtime=e}function ne(e){this._interpreter=e,this.functionTable={abs:{_func:this._functionAbs,_signature:[{types:[s]}]},avg:{_func:this._functionAvg,_signature:[{types:[m]}]},ceil:{_func:this._functionCeil,_signature:[{types:[s]}]},contains:{_func:this._functionContains,_signature:[{types:[c,u]},{types:[l]}]},ends_with:{_func:this._functionEndsWith,_signature:[{types:[c]},{types:[c]}]},floor:{_func:this._functionFloor,_signature:[{types:[s]}]},length:{_func:this._functionLength,_signature:[{types:[c,u,d]}]},map:{_func:this._functionMap,_signature:[{types:[h]},{types:[u]}]},max:{_func:this._functionMax,_signature:[{types:[m,g]}]},merge:{_func:this._functionMerge,_signature:[{types:[d],variadic:!0}]},max_by:{_func:this._functionMaxBy,_signature:[{types:[u]},{types:[h]}]},sum:{_func:this._functionSum,_signature:[{types:[m]}]},starts_with:{_func:this._functionStartsWith,_signature:[{types:[c]},{types:[c]}]},min:{_func:this._functionMin,_signature:[{types:[m,g]}]},min_by:{_func:this._functionMinBy,_signature:[{types:[u]},{types:[h]}]},type:{_func:this._functionType,_signature:[{types:[l]}]},keys:{_func:this._functionKeys,_signature:[{types:[d]}]},values:{_func:this._functionValues,_signature:[{types:[d]}]},sort:{_func:this._functionSort,_signature:[{types:[g,m]}]},sort_by:{_func:this._functionSortBy,_signature:[{types:[u]},{types:[h]}]},join:{_func:this._functionJoin,_signature:[{types:[c]},{types:[g]}]},reverse:{_func:this._functionReverse,_signature:[{types:[c,u]}]},to_array:{_func:this._functionToArray,_signature:[{types:[l]}]},to_string:{_func:this._functionToString,_signature:[{types:[l]}]},to_number:{_func:this._functionToNumber,_signature:[{types:[l]}]},not_null:{_func:this._functionNotNull,_signature:[{types:[l],variadic:!0}]}}}function re(e){var t=new ee,n=t.parse(e);return n}function ie(e){var t=new J;return t.tokenize(e)}function oe(e,t){var n=new ee,r=new ne,i=new te(r);r._interpreter=i;var o=n.parse(t);return i.search(o,e)}Q[v]=0,Q[b]=0,Q[y]=0,Q[C]=0,Q[w]=0,Q[x]=0,Q[A]=0,Q[k]=0,Q[S]=0,Q[_]=0,Q[T]=1,Q[E]=2,Q[O]=3,Q[R]=5,Q[N]=5,Q[L]=5,Q[D]=5,Q[B]=5,Q[M]=5,Q[P]=9,Q[F]=20,Q[j]=21,Q[H]=40,Q[z]=45,Q[$]=50,Q[V]=55,Q[W]=60,ee.prototype={parse:function(e){this._loadTokens(e),this.index=0;var t=this.expression(0);if(this._lookahead(0)!==v){var n=this._lookaheadToken(0),r=new Error("Unexpected token type: "+n.type+", value: "+n.value);throw r.name="ParserError",r}return t},_loadTokens:function(e){var t=new J,n=t.tokenize(e);n.push({type:v,value:"",start:e.length}),this.tokens=n},expression:function(e){var t=this._lookaheadToken(0);this._advance();var n=this.nud(t),r=this._lookahead(0);while(e<Q[r])this._advance(),n=this.led(r,n),r=this._lookahead(0);return n},_lookahead:function(e){return this.tokens[this.index+e].type},_lookaheadToken:function(e){return this.tokens[this.index+e]},_advance:function(){this.index++},nud:function(e){var t,n,r;switch(e.type){case K:return{type:"Literal",value:e.value};case b:return{type:"Field",name:e.value};case y:var i={type:"Field",name:e.value};if(this._lookahead(0)===W)throw new Error("Quoted identifier not allowed for function names.");return i;case z:return n=this.expression(Q.Not),{type:"NotExpression",children:[n]};case F:return t={type:"Identity"},n=null,n=this._lookahead(0)===C?{type:"Identity"}:this._parseProjectionRHS(Q.Star),{type:"ValueProjection",children:[t,n]};case j:return this.led(e.type,{type:"Identity"});case $:return this._parseMultiselectHash();case P:return t={type:P,children:[{type:"Identity"}]},n=this._parseProjectionRHS(Q.Flatten),{type:"Projection",children:[t,n]};case V:return this._lookahead(0)===k||this._lookahead(0)===I?(n=this._parseIndexExpression(),this._projectIfSlice({type:"Identity"},n)):this._lookahead(0)===F&&this._lookahead(1)===C?(this._advance(),this._advance(),n=this._parseProjectionRHS(Q.Star),{type:"Projection",children:[{type:"Identity"},n]}):this._parseMultiselectList();case S:return{type:S};case _:return r=this.expression(Q.Expref),{type:"ExpressionReference",children:[r]};case W:var o=[];while(this._lookahead(0)!==w)this._lookahead(0)===S?(r={type:S},this._advance()):r=this.expression(0),o.push(r);return this._match(w),o[0];default:this._errorToken(e)}},led:function(e,t){var n;switch(e){case H:var r=Q.Dot;return this._lookahead(0)!==F?(n=this._parseDotRHS(r),{type:"Subexpression",children:[t,n]}):(this._advance(),n=this._parseProjectionRHS(r),{type:"ValueProjection",children:[t,n]});case T:return n=this.expression(Q.Pipe),{type:T,children:[t,n]};case E:return n=this.expression(Q.Or),{type:"OrExpression",children:[t,n]};case O:return n=this.expression(Q.And),{type:"AndExpression",children:[t,n]};case W:var i,o,a=t.name,s=[];while(this._lookahead(0)!==w)this._lookahead(0)===S?(i={type:S},this._advance()):i=this.expression(0),this._lookahead(0)===x&&this._match(x),s.push(i);return this._match(w),o={type:"Function",name:a,children:s},o;case j:var l=this.expression(0);return this._match(C),n=this._lookahead(0)===P?{type:"Identity"}:this._parseProjectionRHS(Q.Filter),{type:"FilterProjection",children:[t,n,l]};case P:var c={type:P,children:[t]},u=this._parseProjectionRHS(Q.Flatten);return{type:"Projection",children:[c,u]};case R:case M:case N:case D:case L:case B:return this._parseComparator(t,e);case V:var d=this._lookaheadToken(0);return d.type===k||d.type===I?(n=this._parseIndexExpression(),this._projectIfSlice(t,n)):(this._match(F),this._match(C),n=this._parseProjectionRHS(Q.Star),{type:"Projection",children:[t,n]});default:this._errorToken(this._lookaheadToken(0))}},_match:function(e){if(this._lookahead(0)!==e){var t=this._lookaheadToken(0),n=new Error("Expected "+e+", got: "+t.type);throw n.name="ParserError",n}this._advance()},_errorToken:function(e){var t=new Error("Invalid token ("+e.type+'): "'+e.value+'"');throw t.name="ParserError",t},_parseIndexExpression:function(){if(this._lookahead(0)===I||this._lookahead(1)===I)return this._parseSliceExpression();var e={type:"Index",value:this._lookaheadToken(0).value};return this._advance(),this._match(C),e},_projectIfSlice:function(e,t){var n={type:"IndexExpression",children:[e,t]};return"Slice"===t.type?{type:"Projection",children:[n,this._parseProjectionRHS(Q.Star)]}:n},_parseSliceExpression:function(){var e=[null,null,null],t=0,n=this._lookahead(0);while(n!==C&&t<3){if(n===I)t++,this._advance();else{if(n!==k){var r=this._lookahead(0),i=new Error("Syntax error, unexpected token: "+r.value+"("+r.type+")");throw i.name="Parsererror",i}e[t]=this._lookaheadToken(0).value,this._advance()}n=this._lookahead(0)}return this._match(C),{type:"Slice",children:e}},_parseComparator:function(e,t){var n=this.expression(Q[t]);return{type:"Comparator",name:t,children:[e,n]}},_parseDotRHS:function(e){var t=this._lookahead(0),n=[b,y,F];return n.indexOf(t)>=0?this.expression(e):t===V?(this._match(V),this._parseMultiselectList()):t===$?(this._match($),this._parseMultiselectHash()):void 0},_parseProjectionRHS:function(e){var t;if(Q[this._lookahead(0)]<10)t={type:"Identity"};else if(this._lookahead(0)===V)t=this.expression(e);else if(this._lookahead(0)===j)t=this.expression(e);else{if(this._lookahead(0)!==H){var n=this._lookaheadToken(0),r=new Error("Sytanx error, unexpected token: "+n.value+"("+n.type+")");throw r.name="ParserError",r}this._match(H),t=this._parseDotRHS(e)}return t},_parseMultiselectList:function(){var e=[];while(this._lookahead(0)!==C){var t=this.expression(0);if(e.push(t),this._lookahead(0)===x&&(this._match(x),this._lookahead(0)===C))throw new Error("Unexpected token Rbracket")}return this._match(C),{type:"MultiSelectList",children:e}},_parseMultiselectHash:function(){for(var e,t,n,r,i=[],o=[b,y];;){if(e=this._lookaheadToken(0),o.indexOf(e.type)<0)throw new Error("Expecting an identifier token, got: "+e.type);if(t=e.value,this._advance(),this._match(I),n=this.expression(0),r={type:"KeyValuePair",name:t,value:n},i.push(r),this._lookahead(0)===x)this._match(x);else if(this._lookahead(0)===A){this._match(A);break}}return{type:"MultiSelectHash",children:i}}},te.prototype={search:function(e,t){return this.visit(e,t)},visit:function(e,a){var s,l,c,u,d,f,h,p,m,g;switch(e.type){case"Field":return null===a?null:n(a)?(f=a[e.name],void 0===f?null:f):null;case"Subexpression":for(c=this.visit(e.children[0],a),g=1;g<e.children.length;g++)if(c=this.visit(e.children[1],c),null===c)return null;return c;case"IndexExpression":return h=this.visit(e.children[0],a),p=this.visit(e.children[1],h),p;case"Index":if(!t(a))return null;var v=e.value;return v<0&&(v=a.length+v),c=a[v],void 0===c&&(c=null),c;case"Slice":if(!t(a))return null;var b=e.children.slice(0),y=this.computeSliceParams(a.length,b),C=y[0],w=y[1],x=y[2];if(c=[],x>0)for(g=C;g<w;g+=x)c.push(a[g]);else for(g=C;g>w;g+=x)c.push(a[g]);return c;case"Projection":var I=this.visit(e.children[0],a);if(!t(I))return null;for(m=[],g=0;g<I.length;g++)l=this.visit(e.children[1],I[g]),null!==l&&m.push(l);return m;case"ValueProjection":if(I=this.visit(e.children[0],a),!n(I))return null;m=[];var A=o(I);for(g=0;g<A.length;g++)l=this.visit(e.children[1],A[g]),null!==l&&m.push(l);return m;case"FilterProjection":if(I=this.visit(e.children[0],a),!t(I))return null;var k=[],E=[];for(g=0;g<I.length;g++)s=this.visit(e.children[2],I[g]),i(s)||k.push(I[g]);for(var O=0;O<k.length;O++)l=this.visit(e.children[1],k[O]),null!==l&&E.push(l);return E;case"Comparator":switch(u=this.visit(e.children[0],a),d=this.visit(e.children[1],a),e.name){case R:c=r(u,d);break;case M:c=!r(u,d);break;case N:c=u>d;break;case D:c=u>=d;break;case L:c=u<d;break;case B:c=u<=d;break;default:throw new Error("Unknown comparator: "+e.name)}return c;case P:var F=this.visit(e.children[0],a);if(!t(F))return null;var j=[];for(g=0;g<F.length;g++)l=F[g],t(l)?j.push.apply(j,l):j.push(l);return j;case"Identity":return a;case"MultiSelectList":if(null===a)return null;for(m=[],g=0;g<e.children.length;g++)m.push(this.visit(e.children[g],a));return m;case"MultiSelectHash":if(null===a)return null;var H;for(m={},g=0;g<e.children.length;g++)H=e.children[g],m[H.name]=this.visit(H.value,a);return m;case"OrExpression":return s=this.visit(e.children[0],a),i(s)&&(s=this.visit(e.children[1],a)),s;case"AndExpression":return u=this.visit(e.children[0],a),!0===i(u)?u:this.visit(e.children[1],a);case"NotExpression":return u=this.visit(e.children[0],a),i(u);case"Literal":return e.value;case T:return h=this.visit(e.children[0],a),this.visit(e.children[1],h);case S:return a;case"Function":var z=[];for(g=0;g<e.children.length;g++)z.push(this.visit(e.children[g],a));return this.runtime.callFunction(e.name,z);case"ExpressionReference":var $=e.children[0];return $.jmespathType=_,$;default:throw new Error("Unknown node type: "+e.type)}},computeSliceParams:function(e,t){var n=t[0],r=t[1],i=t[2],o=[null,null,null];if(null===i)i=1;else if(0===i){var a=new Error("Invalid slice, step cannot be 0");throw a.name="RuntimeError",a}var s=i<0;return n=null===n?s?e-1:0:this.capSliceRange(e,n,i),r=null===r?s?-1:e:this.capSliceRange(e,r,i),o[0]=n,o[1]=r,o[2]=i,o},capSliceRange:function(e,t,n){return t<0?(t+=e,t<0&&(t=n<0?-1:0)):t>=e&&(t=n<0?e-1:e),t}},ne.prototype={callFunction:function(e,t){var n=this.functionTable[e];if(void 0===n)throw new Error("Unknown function: "+e+"()");return this._validateArgs(e,t,n._signature),n._func.call(this,t)},_validateArgs:function(e,t,n){var r,i,o,a;if(n[n.length-1].variadic){if(t.length<n.length)throw r=1===n.length?" argument":" arguments",new Error("ArgumentError: "+e+"() takes at least"+n.length+r+" but received "+t.length)}else if(t.length!==n.length)throw r=1===n.length?" argument":" arguments",new Error("ArgumentError: "+e+"() takes "+n.length+r+" but received "+t.length);for(var s=0;s<n.length;s++){a=!1,i=n[s].types,o=this._getTypeName(t[s]);for(var l=0;l<i.length;l++)if(this._typeMatches(o,i[l],t[s])){a=!0;break}if(!a)throw new Error("TypeError: "+e+"() expected argument "+(s+1)+" to be type "+i+" but received type "+o+" instead.")}},_typeMatches:function(e,t,n){if(t===l)return!0;if(t!==g&&t!==m&&t!==u)return e===t;if(t===u)return e===u;if(e===u){var r;t===m?r=s:t===g&&(r=c);for(var i=0;i<n.length;i++)if(!this._typeMatches(this._getTypeName(n[i]),r,n[i]))return!1;return!0}},_getTypeName:function(e){switch(Object.prototype.toString.call(e)){case"[object String]":return c;case"[object Number]":return s;case"[object Array]":return u;case"[object Boolean]":return f;case"[object Null]":return p;case"[object Object]":return e.jmespathType===_?h:d}},_functionStartsWith:function(e){return 0===e[0].lastIndexOf(e[1])},_functionEndsWith:function(e){var t=e[0],n=e[1];return-1!==t.indexOf(n,t.length-n.length)},_functionReverse:function(e){var t=this._getTypeName(e[0]);if(t===c){for(var n=e[0],r="",i=n.length-1;i>=0;i--)r+=n[i];return r}var o=e[0].slice(0);return o.reverse(),o},_functionAbs:function(e){return Math.abs(e[0])},_functionCeil:function(e){return Math.ceil(e[0])},_functionAvg:function(e){for(var t=0,n=e[0],r=0;r<n.length;r++)t+=n[r];return t/n.length},_functionContains:function(e){return e[0].indexOf(e[1])>=0},_functionFloor:function(e){return Math.floor(e[0])},_functionLength:function(e){return n(e[0])?Object.keys(e[0]).length:e[0].length},_functionMap:function(e){for(var t=[],n=this._interpreter,r=e[0],i=e[1],o=0;o<i.length;o++)t.push(n.visit(r,i[o]));return t},_functionMerge:function(e){for(var t={},n=0;n<e.length;n++){var r=e[n];for(var i in r)t[i]=r[i]}return t},_functionMax:function(e){if(e[0].length>0){var t=this._getTypeName(e[0][0]);if(t===s)return Math.max.apply(Math,e[0]);for(var n=e[0],r=n[0],i=1;i<n.length;i++)r.localeCompare(n[i])<0&&(r=n[i]);return r}return null},_functionMin:function(e){if(e[0].length>0){var t=this._getTypeName(e[0][0]);if(t===s)return Math.min.apply(Math,e[0]);for(var n=e[0],r=n[0],i=1;i<n.length;i++)n[i].localeCompare(r)<0&&(r=n[i]);return r}return null},_functionSum:function(e){for(var t=0,n=e[0],r=0;r<n.length;r++)t+=n[r];return t},_functionType:function(e){switch(this._getTypeName(e[0])){case s:return"number";case c:return"string";case u:return"array";case d:return"object";case f:return"boolean";case h:return"expref";case p:return"null"}},_functionKeys:function(e){return Object.keys(e[0])},_functionValues:function(e){for(var t=e[0],n=Object.keys(t),r=[],i=0;i<n.length;i++)r.push(t[n[i]]);return r},_functionJoin:function(e){var t=e[0],n=e[1];return n.join(t)},_functionToArray:function(e){return this._getTypeName(e[0])===u?e[0]:[e[0]]},_functionToString:function(e){return this._getTypeName(e[0])===c?e[0]:JSON.stringify(e[0])},_functionToNumber:function(e){var t,n=this._getTypeName(e[0]);return n===s?e[0]:n!==c||(t=+e[0],isNaN(t))?null:t},_functionNotNull:function(e){for(var t=0;t<e.length;t++)if(this._getTypeName(e[t])!==p)return e[t];return null},_functionSort:function(e){var t=e[0].slice(0);return t.sort(),t},_functionSortBy:function(e){var t=e[0].slice(0);if(0===t.length)return t;var n=this._interpreter,r=e[1],i=this._getTypeName(n.visit(r,t[0]));if([s,c].indexOf(i)<0)throw new Error("TypeError");for(var o=this,a=[],l=0;l<t.length;l++)a.push([l,t[l]]);a.sort((function(e,t){var a=n.visit(r,e[1]),s=n.visit(r,t[1]);if(o._getTypeName(a)!==i)throw new Error("TypeError: expected "+i+", received "+o._getTypeName(a));if(o._getTypeName(s)!==i)throw new Error("TypeError: expected "+i+", received "+o._getTypeName(s));return a>s?1:a<s?-1:e[0]-t[0]}));for(var u=0;u<a.length;u++)t[u]=a[u][1];return t},_functionMaxBy:function(e){for(var t,n,r=e[1],i=e[0],o=this.createKeyFunction(r,[s,c]),a=-1/0,l=0;l<i.length;l++)n=o(i[l]),n>a&&(a=n,t=i[l]);return t},_functionMinBy:function(e){for(var t,n,r=e[1],i=e[0],o=this.createKeyFunction(r,[s,c]),a=1/0,l=0;l<i.length;l++)n=o(i[l]),n<a&&(a=n,t=i[l]);return t},createKeyFunction:function(e,t){var n=this,r=this._interpreter,i=function(i){var o=r.visit(e,i);if(t.indexOf(n._getTypeName(o))<0){var a="TypeError: expected one of "+t+", received "+n._getTypeName(o);throw new Error(a)}return o};return i}},e.tokenize=ie,e.compile=re,e.search=oe,e.strictDeepEqual=r})(t)},function(e,t,n){t.tryRequireThemeJsonEditor=function(){try{n(42)}catch(e){}}},function(e,t,n){"use strict";var r=n(20),i=n(13),o=n(80),a=o.treeModeMixins,s=n(21),l=s.textModeMixins,c=n(81),u=c.previewModeMixins,d=n(0),f=d.clear,h=d.extend,p=d.getInnerText,m=d.getInternetExplorerVersion,g=d.parse,v=n(43),b=v.tryRequireAjv,y=n(6),C=y.showTransformModal,w=n(5),x=w.showSortModal,I=b();function A(e,t,n){if(!(this instanceof A))throw new Error('JSONEditor constructor called without "new".');var r=m();if(-1!==r&&r<9)throw new Error("Unsupported browser, IE9 or newer required. Please install the newest version of your browser.");t&&(t.error&&(t.onError=t.error,delete t.error),t.change&&(t.onChange=t.change,delete t.change),t.editable&&(t.onEditable=t.editable,delete t.editable),t.onChangeJSON&&("text"===t.mode||"code"===t.mode||t.modes&&(-1!==t.modes.indexOf("text")||t.modes.indexOf("code"))),t&&Object.keys(t).forEach((function(e){A.VALID_OPTIONS.indexOf(e)}))),arguments.length&&this._create(e,t,n)}A.modes={},A.prototype.DEBOUNCE_INTERVAL=150,A.VALID_OPTIONS=["ajv","schema","schemaRefs","templates","ace","theme","autocomplete","onChange","onChangeJSON","onChangeText","onEditable","onError","onEvent","onModeChange","onNodeName","onValidate","onCreateMenu","onSelectionChange","onTextSelectionChange","onClassName","onFocus","onBlur","colorPicker","onColorPicker","timestampTag","timestampFormat","escapeUnicode","history","search","mode","modes","name","indentation","sortObjectKeys","navigationBar","statusBar","mainMenuBar","languages","language","enableSort","enableTransform","limitDragging","maxVisibleChilds","onValidationError","modalAnchor","popupAnchor","createQuery","executeQuery","queryDescription"],A.prototype._create=function(e,t,n){this.container=e,this.options=t||{},this.json=n||{};var r=this.options.mode||this.options.modes&&this.options.modes[0]||"tree";this.setMode(r)},A.prototype.destroy=function(){},A.prototype.set=function(e){this.json=e},A.prototype.get=function(){return this.json},A.prototype.setText=function(e){this.json=g(e)},A.prototype.getText=function(){return JSON.stringify(this.json)},A.prototype.setName=function(e){this.options||(this.options={}),this.options.name=e},A.prototype.getName=function(){return this.options&&this.options.name},A.prototype.setMode=function(e){if(e!==this.options.mode||!this.create){var t,n,r=this.container,i=h({},this.options),o=i.mode;i.mode=e;var a=A.modes[e];if(!a)throw new Error('Unknown mode "'+i.mode+'"');try{var s="text"===a.data;if(n=this.getName(),t=this[s?"getText":"get"](),this.destroy(),f(this),h(this,a.mixin),this.create(r,i),this.setName(n),this[s?"setText":"set"](t),"function"===typeof a.load)try{a.load.call(this)}catch(l){}if("function"===typeof i.onModeChange&&e!==o)try{i.onModeChange(e,o)}catch(l){}}catch(l){this._onError(l)}}},A.prototype.getMode=function(){return this.options.mode},A.prototype._onError=function(e){if(!this.options||"function"!==typeof this.options.onError)throw e;this.options.onError(e)},A.prototype.setSchema=function(e,t){if(e){var r;try{this.options.ajv?r=this.options.ajv:(r=I({allErrors:!0,verbose:!0,schemaId:"auto",$data:!0}),r.addMetaSchema(n(78)),r.addMetaSchema(n(79)))}catch(o){}if(r){if(t){for(var i in t)r.removeSchema(i),t[i]&&r.addSchema(t[i],i);this.options.schemaRefs=t}this.validateSchema=r.compile(e),this.options.schema=e,this.validate()}this.refresh()}else this.validateSchema=null,this.options.schema=null,this.options.schemaRefs=null,this.validate(),this.refresh()},A.prototype.validate=function(){},A.prototype.refresh=function(){},A.registerMode=function(e){var t,n;if(Array.isArray(e))for(t=0;t<e.length;t++)A.registerMode(e[t]);else{if(!("mode"in e))throw new Error('Property "mode" missing');if(!("mixin"in e))throw new Error('Property "mixin" missing');if(!("data"in e))throw new Error('Property "data" missing');var r=e.mode;if(r in A.modes)throw new Error('Mode "'+r+'" already registered');if("function"!==typeof e.mixin.create)throw new Error('Required function "create" missing on mixin');var i=["setMode","registerMode","modes"];for(t=0;t<i.length;t++)if(n=i[t],n in e.mixin)throw new Error('Reserved property "'+n+'" not allowed in mixin');A.modes[r]=e}},A.registerMode(a),A.registerMode(l),A.registerMode(u),A.ace=r,A.Ajv=I,A.VanillaPicker=i,A.showTransformModal=C,A.showSortModal=x,A.getInnerText=p,A["default"]=A,e.exports=A},function(e,t,n){(function(e){(function(){var e="ace",t=function(){return this}();if(t||"undefined"==typeof window||(t=window),e||"undefined"===typeof requirejs){var n=function(e,t,r){"string"===typeof e?(2==arguments.length&&(r=t),n.modules[e]||(n.payloads[e]=r,n.modules[e]=null)):n.original&&n.original.apply(this,arguments)};n.modules={},n.payloads={};var r=function(e,t,n){if("string"===typeof t){var r=a(e,t);if(void 0!=r)return n&&n(),r}else if("[object Array]"===Object.prototype.toString.call(t)){for(var o=[],s=0,l=t.length;s<l;++s){var c=a(e,t[s]);if(void 0==c&&i.original)return;o.push(c)}return n&&n.apply(null,o)||!0}},i=function(e,t){var n=r("",e,t);return void 0==n&&i.original?i.original.apply(this,arguments):n},o=function(e,t){if(-1!==t.indexOf("!")){var n=t.split("!");return o(e,n[0])+"!"+o(e,n[1])}if("."==t.charAt(0)){var r=e.split("/").slice(0,-1).join("/");t=r+"/"+t;while(-1!==t.indexOf(".")&&i!=t){var i=t;t=t.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return t},a=function(e,t){t=o(e,t);var i=n.modules[t];if(!i){if(i=n.payloads[t],"function"===typeof i){var a={},s={id:t,uri:"",exports:a,packaged:!0},l=function(e,n){return r(t,e,n)},c=i(l,a,s);a=c||s.exports,n.modules[t]=a,delete n.payloads[t]}i=n.modules[t]=a||i}return i};s(e)}function s(e){var r=t;e&&(t[e]||(t[e]={}),r=t[e]),r.define&&r.define.packaged||(n.original=r.define,r.define=n,r.define.packaged=!0),r.require&&r.require.packaged||(i.original=r.require,r.require=i,r.require.packaged=!0)}})(),ace.define("ace/lib/regexp",["require","exports","module"],(function(e,t,n){"use strict";var r={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},i=void 0===r.exec.call(/()??/,"")[1],o=function(){var e=/^/g;return r.test.call(e,""),!e.lastIndex}();function a(e){return(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":"")}function s(e,t,n){if(Array.prototype.indexOf)return e.indexOf(t,n);for(var r=n||0;r<e.length;r++)if(e[r]===t)return r;return-1}o&&i||(RegExp.prototype.exec=function(e){var t,n,l=r.exec.apply(this,arguments);if("string"==typeof e&&l){if(!i&&l.length>1&&s(l,"")>-1&&(n=RegExp(this.source,r.replace.call(a(this),"g","")),r.replace.call(e.slice(l.index),n,(function(){for(var e=1;e<arguments.length-2;e++)void 0===arguments[e]&&(l[e]=void 0)}))),this._xregexp&&this._xregexp.captureNames)for(var c=1;c<l.length;c++)t=this._xregexp.captureNames[c-1],t&&(l[t]=l[c]);!o&&this.global&&!l[0].length&&this.lastIndex>l.index&&this.lastIndex--}return l},o||(RegExp.prototype.test=function(e){var t=r.exec.call(this,e);return t&&this.global&&!t[0].length&&this.lastIndex>t.index&&this.lastIndex--,!!t}))})),ace.define("ace/lib/es5-shim",["require","exports","module"],(function(e,t,n){function r(){}Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError("Function.prototype.bind called on incompatible "+t);var n=f.call(arguments,1),i=function(){if(this instanceof i){var r=t.apply(this,n.concat(f.call(arguments)));return Object(r)===r?r:this}return t.apply(e,n.concat(f.call(arguments)))};return t.prototype&&(r.prototype=t.prototype,i.prototype=new r,r.prototype=null),i});var i,o,a,s,l,c=Function.prototype.call,u=Array.prototype,d=Object.prototype,f=u.slice,h=c.bind(d.toString),p=c.bind(d.hasOwnProperty);if((l=p(d,"__defineGetter__"))&&(i=c.bind(d.__defineGetter__),o=c.bind(d.__defineSetter__),a=c.bind(d.__lookupGetter__),s=c.bind(d.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function e(e){var t=new Array(e+2);return t[0]=t[1]=0,t}var t,n=[];if(n.splice.apply(n,e(20)),n.splice.apply(n,e(26)),t=n.length,n.splice(5,0,"XXX"),n.length,t+1==n.length)return!0}()){var m=Array.prototype.splice;Array.prototype.splice=function(e,t){return arguments.length?m.apply(this,[void 0===e?0:e,void 0===t?this.length-e:t].concat(f.call(arguments,2))):[]}}else Array.prototype.splice=function(e,t){var n=this.length;e>0?e>n&&(e=n):void 0==e?e=0:e<0&&(e=Math.max(n+e,0)),e+t<n||(t=n-e);var r=this.slice(e,e+t),i=f.call(arguments,2),o=i.length;if(e===n)o&&this.push.apply(this,i);else{var a=Math.min(t,n-e),s=e+a,l=s+o-a,c=n-s,u=n-a;if(l<s)for(var d=0;d<c;++d)this[l+d]=this[s+d];else if(l>s)for(d=c;d--;)this[l+d]=this[s+d];if(o&&e===u)this.length=u,this.push.apply(this,i);else for(this.length=u+o,d=0;d<o;++d)this[e+d]=i[d]}return r};Array.isArray||(Array.isArray=function(e){return"[object Array]"==h(e)});var g,v=Object("a"),b="a"!=v[0]||!(0 in v);if(Array.prototype.forEach||(Array.prototype.forEach=function(e){var t=B(this),n=b&&"[object String]"==h(this)?this.split(""):t,r=arguments[1],i=-1,o=n.length>>>0;if("[object Function]"!=h(e))throw new TypeError;while(++i<o)i in n&&e.call(r,n[i],i,t)}),Array.prototype.map||(Array.prototype.map=function(e){var t=B(this),n=b&&"[object String]"==h(this)?this.split(""):t,r=n.length>>>0,i=Array(r),o=arguments[1];if("[object Function]"!=h(e))throw new TypeError(e+" is not a function");for(var a=0;a<r;a++)a in n&&(i[a]=e.call(o,n[a],a,t));return i}),Array.prototype.filter||(Array.prototype.filter=function(e){var t,n=B(this),r=b&&"[object String]"==h(this)?this.split(""):n,i=r.length>>>0,o=[],a=arguments[1];if("[object Function]"!=h(e))throw new TypeError(e+" is not a function");for(var s=0;s<i;s++)s in r&&(t=r[s],e.call(a,t,s,n)&&o.push(t));return o}),Array.prototype.every||(Array.prototype.every=function(e){var t=B(this),n=b&&"[object String]"==h(this)?this.split(""):t,r=n.length>>>0,i=arguments[1];if("[object Function]"!=h(e))throw new TypeError(e+" is not a function");for(var o=0;o<r;o++)if(o in n&&!e.call(i,n[o],o,t))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(e){var t=B(this),n=b&&"[object String]"==h(this)?this.split(""):t,r=n.length>>>0,i=arguments[1];if("[object Function]"!=h(e))throw new TypeError(e+" is not a function");for(var o=0;o<r;o++)if(o in n&&e.call(i,n[o],o,t))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(e){var t=B(this),n=b&&"[object String]"==h(this)?this.split(""):t,r=n.length>>>0;if("[object Function]"!=h(e))throw new TypeError(e+" is not a function");if(!r&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var i,o=0;if(arguments.length>=2)i=arguments[1];else do{if(o in n){i=n[o++];break}if(++o>=r)throw new TypeError("reduce of empty array with no initial value")}while(1);for(;o<r;o++)o in n&&(i=e.call(void 0,i,n[o],o,t));return i}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(e){var t=B(this),n=b&&"[object String]"==h(this)?this.split(""):t,r=n.length>>>0;if("[object Function]"!=h(e))throw new TypeError(e+" is not a function");if(!r&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var i,o=r-1;if(arguments.length>=2)i=arguments[1];else do{if(o in n){i=n[o--];break}if(--o<0)throw new TypeError("reduceRight of empty array with no initial value")}while(1);do{o in this&&(i=e.call(void 0,i,n[o],o,t))}while(o--);return i}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(e){var t=b&&"[object String]"==h(this)?this.split(""):B(this),n=t.length>>>0;if(!n)return-1;var r=0;for(arguments.length>1&&(r=D(arguments[1])),r=r>=0?r:Math.max(0,n+r);r<n;r++)if(r in t&&t[r]===e)return r;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(e){var t=b&&"[object String]"==h(this)?this.split(""):B(this),n=t.length>>>0;if(!n)return-1;var r=n-1;for(arguments.length>1&&(r=Math.min(r,D(arguments[1]))),r=r>=0?r:n-Math.abs(r);r>=0;r--)if(r in t&&e===t[r])return r;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(e){return e.__proto__||(e.constructor?e.constructor.prototype:d)}),!Object.getOwnPropertyDescriptor){var y="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(e,t){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError(y+e);if(p(e,t)){var n;if(n={enumerable:!0,configurable:!0},l){var r=e.__proto__;e.__proto__=d;var i=a(e,t),o=s(e,t);if(e.__proto__=r,i||o)return i&&(n.get=i),o&&(n.set=o),n}return n.value=e[t],n}}}(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(e){return Object.keys(e)}),Object.create)||(g=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var e={};for(var t in e)e[t]=null;return e.constructor=e.hasOwnProperty=e.propertyIsEnumerable=e.isPrototypeOf=e.toLocaleString=e.toString=e.valueOf=e.__proto__=null,e},Object.create=function(e,t){var n;if(null===e)n=g();else{if("object"!=typeof e)throw new TypeError("typeof prototype["+typeof e+"] != 'object'");var r=function(){};r.prototype=e,n=new r,n.__proto__=e}return void 0!==t&&Object.defineProperties(n,t),n});function C(e){try{return Object.defineProperty(e,"sentinel",{}),"sentinel"in e}catch(t){}}if(Object.defineProperty){var w=C({}),x="undefined"==typeof document||C(document.createElement("div"));if(!w||!x)var I=Object.defineProperty}if(!Object.defineProperty||I){var A="Property description must be an object: ",k="Object.defineProperty called on non-object: ",S="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(e,t,n){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError(k+e);if("object"!=typeof n&&"function"!=typeof n||null===n)throw new TypeError(A+n);if(I)try{return I.call(Object,e,t,n)}catch(c){}if(p(n,"value"))if(l&&(a(e,t)||s(e,t))){var r=e.__proto__;e.__proto__=d,delete e[t],e[t]=n.value,e.__proto__=r}else e[t]=n.value;else{if(!l)throw new TypeError(S);p(n,"get")&&i(e,t,n.get),p(n,"set")&&o(e,t,n.set)}return e}}Object.defineProperties||(Object.defineProperties=function(e,t){for(var n in t)p(t,n)&&Object.defineProperty(e,n,t[n]);return e}),Object.seal||(Object.seal=function(e){return e}),Object.freeze||(Object.freeze=function(e){return e});try{Object.freeze((function(){}))}catch(M){Object.freeze=function(e){return function(t){return"function"==typeof t?t:e(t)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(e){return e}),Object.isSealed||(Object.isSealed=function(e){return!1}),Object.isFrozen||(Object.isFrozen=function(e){return!1}),Object.isExtensible||(Object.isExtensible=function(e){if(Object(e)===e)throw new TypeError;var t="";while(p(e,t))t+="?";e[t]=!0;var n=p(e,t);return delete e[t],n}),!Object.keys){var _=!0,T=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],E=T.length;for(var O in{toString:null})_=!1;Object.keys=function(e){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.keys called on a non-object");var t=[];for(var n in e)p(e,n)&&t.push(n);if(_)for(var r=0,i=E;r<i;r++){var o=T[r];p(e,o)&&t.push(o)}return t}}Date.now||(Date.now=function(){return(new Date).getTime()});var R="\t\n\v\f\r                　\u2028\u2029\ufeff";if(!String.prototype.trim){R="["+R+"]";var N=new RegExp("^"+R+R+"*"),L=new RegExp(R+R+"*$");String.prototype.trim=function(){return String(this).replace(N,"").replace(L,"")}}function D(e){return e=+e,e!==e?e=0:0!==e&&e!==1/0&&e!==-1/0&&(e=(e>0||-1)*Math.floor(Math.abs(e))),e}var B=function(e){if(null==e)throw new TypeError("can't convert "+e+" to object");return Object(e)}})),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/regexp","ace/lib/es5-shim"],(function(e,t,n){"use strict";e("./regexp"),e("./es5-shim"),"undefined"==typeof Element||Element.prototype.remove||Object.defineProperty(Element.prototype,"remove",{enumerable:!1,writable:!0,configurable:!0,value:function(){this.parentNode&&this.parentNode.removeChild(this)}})})),ace.define("ace/lib/useragent",["require","exports","module"],(function(e,t,n){"use strict";t.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},t.getOS=function(){return t.isMac?t.OS.MAC:t.isLinux?t.OS.LINUX:t.OS.WINDOWS};var r="object"==typeof navigator?navigator:{},i=(/mac|win|linux/i.exec(r.platform)||["other"])[0].toLowerCase(),o=r.userAgent||"",a=r.appName||"";t.isWin="win"==i,t.isMac="mac"==i,t.isLinux="linux"==i,t.isIE="Microsoft Internet Explorer"==a||a.indexOf("MSAppHost")>=0?parseFloat((o.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((o.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),t.isOldIE=t.isIE&&t.isIE<9,t.isGecko=t.isMozilla=o.match(/ Gecko\/\d+/),t.isOpera="object"==typeof opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),t.isWebKit=parseFloat(o.split("WebKit/")[1])||void 0,t.isChrome=parseFloat(o.split(" Chrome/")[1])||void 0,t.isEdge=parseFloat(o.split(" Edge/")[1])||void 0,t.isAIR=o.indexOf("AdobeAIR")>=0,t.isAndroid=o.indexOf("Android")>=0,t.isChromeOS=o.indexOf(" CrOS ")>=0,t.isIOS=/iPad|iPhone|iPod/.test(o)&&!window.MSStream,t.isIOS&&(t.isMac=!0),t.isMobile=t.isIOS||t.isAndroid})),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],(function(e,t,n){"use strict";var r=e("./useragent"),i="http://www.w3.org/1999/xhtml";if(t.buildDom=function e(t,n,r){if("string"==typeof t&&t){var i=document.createTextNode(t);return n&&n.appendChild(i),i}if(!Array.isArray(t))return t&&t.appendChild&&n&&n.appendChild(t),t;if("string"!=typeof t[0]||!t[0]){for(var o=[],a=0;a<t.length;a++){var s=e(t[a],n,r);s&&o.push(s)}return o}var l=document.createElement(t[0]),c=t[1],u=1;c&&"object"==typeof c&&!Array.isArray(c)&&(u=2);for(a=u;a<t.length;a++)e(t[a],l,r);return 2==u&&Object.keys(c).forEach((function(e){var t=c[e];"class"===e?l.className=Array.isArray(t)?t.join(" "):t:"function"==typeof t||"value"==e||"$"==e[0]?l[e]=t:"ref"===e?r&&(r[t]=l):null!=t&&l.setAttribute(e,t)})),n&&n.appendChild(l),l},t.getDocumentHead=function(e){return e||(e=document),e.head||e.getElementsByTagName("head")[0]||e.documentElement},t.createElement=function(e,t){return document.createElementNS?document.createElementNS(t||i,e):document.createElement(e)},t.removeChildren=function(e){e.innerHTML=""},t.createTextNode=function(e,t){var n=t?t.ownerDocument:document;return n.createTextNode(e)},t.createFragment=function(e){var t=e?e.ownerDocument:document;return t.createDocumentFragment()},t.hasCssClass=function(e,t){var n=(e.className+"").split(/\s+/g);return-1!==n.indexOf(t)},t.addCssClass=function(e,n){t.hasCssClass(e,n)||(e.className+=" "+n)},t.removeCssClass=function(e,t){var n=e.className.split(/\s+/g);while(1){var r=n.indexOf(t);if(-1==r)break;n.splice(r,1)}e.className=n.join(" ")},t.toggleCssClass=function(e,t){var n=e.className.split(/\s+/g),r=!0;while(1){var i=n.indexOf(t);if(-1==i)break;r=!1,n.splice(i,1)}return r&&n.push(t),e.className=n.join(" "),r},t.setCssClass=function(e,n,r){r?t.addCssClass(e,n):t.removeCssClass(e,n)},t.hasCssString=function(e,t){var n,r=0;if(t=t||document,n=t.querySelectorAll("style"))while(r<n.length)if(n[r++].id===e)return!0},t.importCssString=function(e,n,r){var i=r;r&&r.getRootNode?(i=r.getRootNode(),i&&i!=r||(i=document)):i=document;var o=i.ownerDocument||i;if(n&&t.hasCssString(n,i))return null;n&&(e+="\n/*# sourceURL=ace/css/"+n+" */");var a=t.createElement("style");a.appendChild(o.createTextNode(e)),n&&(a.id=n),i==o&&(i=t.getDocumentHead(o)),i.insertBefore(a,i.firstChild)},t.importCssStylsheet=function(e,n){t.buildDom(["link",{rel:"stylesheet",href:e}],t.getDocumentHead(n))},t.scrollbarWidth=function(e){var n=t.createElement("ace_inner");n.style.width="100%",n.style.minWidth="0px",n.style.height="200px",n.style.display="block";var r=t.createElement("ace_outer"),i=r.style;i.position="absolute",i.left="-10000px",i.overflow="hidden",i.width="200px",i.minWidth="0px",i.height="150px",i.display="block",r.appendChild(n);var o=e.documentElement;o.appendChild(r);var a=n.offsetWidth;i.overflow="scroll";var s=n.offsetWidth;return a==s&&(s=r.clientWidth),o.removeChild(r),a-s},"undefined"==typeof document&&(t.importCssString=function(){}),t.computedStyle=function(e,t){return window.getComputedStyle(e,"")||{}},t.setStyle=function(e,t,n){e[t]!==n&&(e[t]=n)},t.HAS_CSS_ANIMATION=!1,t.HAS_CSS_TRANSFORMS=!1,t.HI_DPI=!r.isWin||"undefined"!==typeof window&&window.devicePixelRatio>=1.5,"undefined"!==typeof document){var o=document.createElement("div");t.HI_DPI&&void 0!==o.style.transform&&(t.HAS_CSS_TRANSFORMS=!0),r.isEdge||"undefined"===typeof o.style.animationName||(t.HAS_CSS_ANIMATION=!0),o=null}t.HAS_CSS_TRANSFORMS?t.translate=function(e,t,n){e.style.transform="translate("+Math.round(t)+"px, "+Math.round(n)+"px)"}:t.translate=function(e,t,n){e.style.top=Math.round(n)+"px",e.style.left=Math.round(t)+"px"}})),ace.define("ace/lib/oop",["require","exports","module"],(function(e,t,n){"use strict";t.inherits=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},t.mixin=function(e,t){for(var n in t)e[n]=t[n];return e},t.implement=function(e,n){t.mixin(e,n)}})),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],(function(e,t,n){"use strict";var r=e("./oop"),i=function(){var e,t,n={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(t in n.FUNCTION_KEYS)e=n.FUNCTION_KEYS[t].toLowerCase(),n[e]=parseInt(t,10);for(t in n.PRINTABLE_KEYS)e=n.PRINTABLE_KEYS[t].toLowerCase(),n[e]=parseInt(t,10);return r.mixin(n,n.MODIFIER_KEYS),r.mixin(n,n.PRINTABLE_KEYS),r.mixin(n,n.FUNCTION_KEYS),n.enter=n["return"],n.escape=n.esc,n.del=n["delete"],n[173]="-",function(){for(var e=["cmd","ctrl","alt","shift"],t=Math.pow(2,e.length);t--;)n.KEY_MODS[t]=e.filter((function(e){return t&n.KEY_MODS[e]})).join("-")+"-"}(),n.KEY_MODS[0]="",n.KEY_MODS[-1]="input-",n}();r.mixin(t,i),t.keyCodeToString=function(e){var t=i[e];return"string"!=typeof t&&(t=String.fromCharCode(e)),t.toLowerCase()}})),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(e,t,n){"use strict";var r,i=e("./keys"),o=e("./useragent"),a=null,s=0;function l(){r=!1;try{document.createComment("").addEventListener("test",(function(){}),{get passive(){r={passive:!1}}})}catch(e){}}function c(){return void 0==r&&l(),r}function u(e,t,n){this.elem=e,this.type=t,this.callback=n}u.prototype.destroy=function(){f(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var d=t.addListener=function(e,t,n,r){e.addEventListener(t,n,c()),r&&r.$toDestroy.push(new u(e,t,n))},f=t.removeListener=function(e,t,n){e.removeEventListener(t,n,c())};t.stopEvent=function(e){return t.stopPropagation(e),t.preventDefault(e),!1},t.stopPropagation=function(e){e.stopPropagation&&e.stopPropagation()},t.preventDefault=function(e){e.preventDefault&&e.preventDefault()},t.getButton=function(e){return"dblclick"==e.type?0:"contextmenu"==e.type||o.isMac&&e.ctrlKey&&!e.altKey&&!e.shiftKey?2:e.button},t.capture=function(e,t,n){function r(e){t&&t(e),n&&n(e),f(document,"mousemove",t),f(document,"mouseup",r),f(document,"dragstart",r)}return d(document,"mousemove",t),d(document,"mouseup",r),d(document,"dragstart",r),r},t.addMouseWheelListener=function(e,t,n){"onmousewheel"in e?d(e,"mousewheel",(function(e){var n=8;void 0!==e.wheelDeltaX?(e.wheelX=-e.wheelDeltaX/n,e.wheelY=-e.wheelDeltaY/n):(e.wheelX=0,e.wheelY=-e.wheelDelta/n),t(e)}),n):"onwheel"in e?d(e,"wheel",(function(e){var n=.35;switch(e.deltaMode){case e.DOM_DELTA_PIXEL:e.wheelX=e.deltaX*n||0,e.wheelY=e.deltaY*n||0;break;case e.DOM_DELTA_LINE:case e.DOM_DELTA_PAGE:e.wheelX=5*(e.deltaX||0),e.wheelY=5*(e.deltaY||0);break}t(e)}),n):d(e,"DOMMouseScroll",(function(e){e.axis&&e.axis==e.HORIZONTAL_AXIS?(e.wheelX=5*(e.detail||0),e.wheelY=0):(e.wheelX=0,e.wheelY=5*(e.detail||0)),t(e)}),n)},t.addMultiMouseDownListener=function(e,n,r,i,a){var s,l,c,u=0,f={2:"dblclick",3:"tripleclick",4:"quadclick"};function h(e){if(0!==t.getButton(e)?u=0:e.detail>1?(u++,u>4&&(u=1)):u=1,o.isIE){var a=Math.abs(e.clientX-s)>5||Math.abs(e.clientY-l)>5;c&&!a||(u=1),c&&clearTimeout(c),c=setTimeout((function(){c=null}),n[u-1]||600),1==u&&(s=e.clientX,l=e.clientY)}if(e._clicks=u,r[i]("mousedown",e),u>4)u=0;else if(u>1)return r[i](f[u],e)}Array.isArray(e)||(e=[e]),e.forEach((function(e){d(e,"mousedown",h,a)}))};var h=function(e){return 0|(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0)};function p(e,t,n){var r=h(t);if(!o.isMac&&a){if(t.getModifierState&&(t.getModifierState("OS")||t.getModifierState("Win"))&&(r|=8),a.altGr){if(3==(3&r))return;a.altGr=0}if(18===n||17===n){var l="location"in t?t.location:t.keyLocation;if(17===n&&1===l)1==a[n]&&(s=t.timeStamp);else if(18===n&&3===r&&2===l){var c=t.timeStamp-s;c<50&&(a.altGr=!0)}}}if(n in i.MODIFIER_KEYS&&(n=-1),!r&&13===n){l="location"in t?t.location:t.keyLocation;if(3===l&&(e(t,r,-n),t.defaultPrevented))return}if(o.isChromeOS&&8&r){if(e(t,r,n),t.defaultPrevented)return;r&=-9}return!!(r||n in i.FUNCTION_KEYS||n in i.PRINTABLE_KEYS)&&e(t,r,n)}function m(){a=Object.create(null)}if(t.getModifierString=function(e){return i.KEY_MODS[h(e)]},t.addCommandKeyListener=function(e,n,r){if(o.isOldGecko||o.isOpera&&!("KeyboardEvent"in window)){var i=null;d(e,"keydown",(function(e){i=e.keyCode}),r),d(e,"keypress",(function(e){return p(n,e,i)}),r)}else{var s=null;d(e,"keydown",(function(e){a[e.keyCode]=(a[e.keyCode]||0)+1;var t=p(n,e,e.keyCode);return s=e.defaultPrevented,t}),r),d(e,"keypress",(function(e){s&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)&&(t.stopEvent(e),s=null)}),r),d(e,"keyup",(function(e){a[e.keyCode]=null}),r),a||(m(),d(window,"focus",m))}},"object"==typeof window&&window.postMessage&&!o.isOldIE){var g=1;t.nextTick=function(e,n){n=n||window;var r="zero-timeout-message-"+g++,i=function(o){o.data==r&&(t.stopPropagation(o),f(n,"message",i),e())};d(n,"message",i),n.postMessage(r,"*")}}t.$idleBlocked=!1,t.onIdle=function(e,n){return setTimeout((function n(){t.$idleBlocked?setTimeout(n,100):e()}),n)},t.$idleBlockId=null,t.blockIdle=function(e){t.$idleBlockId&&clearTimeout(t.$idleBlockId),t.$idleBlocked=!0,t.$idleBlockId=setTimeout((function(){t.$idleBlocked=!1}),e||100)},t.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),t.nextFrame?t.nextFrame=t.nextFrame.bind(window):t.nextFrame=function(e){setTimeout(e,17)}})),ace.define("ace/range",["require","exports","module"],(function(e,t,n){"use strict";var r=function(e,t){return e.row-t.row||e.column-t.column},i=function(e,t,n,r){this.start={row:e,column:t},this.end={row:n,column:r}};(function(){this.isEqual=function(e){return this.start.row===e.start.row&&this.end.row===e.end.row&&this.start.column===e.start.column&&this.end.column===e.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(e,t){return 0==this.compare(e,t)},this.compareRange=function(e){var t,n=e.end,r=e.start;return t=this.compare(n.row,n.column),1==t?(t=this.compare(r.row,r.column),1==t?2:0==t?1:0):-1==t?-2:(t=this.compare(r.row,r.column),-1==t?-1:1==t?42:0)},this.comparePoint=function(e){return this.compare(e.row,e.column)},this.containsRange=function(e){return 0==this.comparePoint(e.start)&&0==this.comparePoint(e.end)},this.intersects=function(e){var t=this.compareRange(e);return-1==t||0==t||1==t},this.isEnd=function(e,t){return this.end.row==e&&this.end.column==t},this.isStart=function(e,t){return this.start.row==e&&this.start.column==t},this.setStart=function(e,t){"object"==typeof e?(this.start.column=e.column,this.start.row=e.row):(this.start.row=e,this.start.column=t)},this.setEnd=function(e,t){"object"==typeof e?(this.end.column=e.column,this.end.row=e.row):(this.end.row=e,this.end.column=t)},this.inside=function(e,t){return 0==this.compare(e,t)&&(!this.isEnd(e,t)&&!this.isStart(e,t))},this.insideStart=function(e,t){return 0==this.compare(e,t)&&!this.isEnd(e,t)},this.insideEnd=function(e,t){return 0==this.compare(e,t)&&!this.isStart(e,t)},this.compare=function(e,t){return this.isMultiLine()||e!==this.start.row?e<this.start.row?-1:e>this.end.row?1:this.start.row===e?t>=this.start.column?0:-1:this.end.row===e?t<=this.end.column?0:1:0:t<this.start.column?-1:t>this.end.column?1:0},this.compareStart=function(e,t){return this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.compareEnd=function(e,t){return this.end.row==e&&this.end.column==t?1:this.compare(e,t)},this.compareInside=function(e,t){return this.end.row==e&&this.end.column==t?1:this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.clipRows=function(e,t){if(this.end.row>t)var n={row:t+1,column:0};else if(this.end.row<e)n={row:e,column:0};if(this.start.row>t)var r={row:t+1,column:0};else if(this.start.row<e)r={row:e,column:0};return i.fromPoints(r||this.start,n||this.end)},this.extend=function(e,t){var n=this.compare(e,t);if(0==n)return this;if(-1==n)var r={row:e,column:t};else var o={row:e,column:t};return i.fromPoints(r||this.start,o||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return i.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new i(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new i(this.start.row,0,this.end.row,0)},this.toScreenRange=function(e){var t=e.documentToScreenPosition(this.start),n=e.documentToScreenPosition(this.end);return new i(t.row,t.column,n.row,n.column)},this.moveBy=function(e,t){this.start.row+=e,this.start.column+=t,this.end.row+=e,this.end.column+=t}}).call(i.prototype),i.fromPoints=function(e,t){return new i(e.row,e.column,t.row,t.column)},i.comparePoints=r,i.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},t.Range=i})),ace.define("ace/lib/lang",["require","exports","module"],(function(e,t,n){"use strict";t.last=function(e){return e[e.length-1]},t.stringReverse=function(e){return e.split("").reverse().join("")},t.stringRepeat=function(e,t){var n="";while(t>0)1&t&&(n+=e),(t>>=1)&&(e+=e);return n};var r=/^\s\s*/,i=/\s\s*$/;t.stringTrimLeft=function(e){return e.replace(r,"")},t.stringTrimRight=function(e){return e.replace(i,"")},t.copyObject=function(e){var t={};for(var n in e)t[n]=e[n];return t},t.copyArray=function(e){for(var t=[],n=0,r=e.length;n<r;n++)e[n]&&"object"==typeof e[n]?t[n]=this.copyObject(e[n]):t[n]=e[n];return t},t.deepCopy=function e(t){if("object"!==typeof t||!t)return t;var n;if(Array.isArray(t)){n=[];for(var r=0;r<t.length;r++)n[r]=e(t[r]);return n}if("[object Object]"!==Object.prototype.toString.call(t))return t;for(var r in n={},t)n[r]=e(t[r]);return n},t.arrayToMap=function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=1;return t},t.createMap=function(e){var t=Object.create(null);for(var n in e)t[n]=e[n];return t},t.arrayRemove=function(e,t){for(var n=0;n<=e.length;n++)t===e[n]&&e.splice(n,1)},t.escapeRegExp=function(e){return e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},t.escapeHTML=function(e){return(""+e).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},t.getMatchOffsets=function(e,t){var n=[];return e.replace(t,(function(e){n.push({offset:arguments[arguments.length-2],length:e.length})})),n},t.deferredCall=function(e){var t=null,n=function(){t=null,e()},r=function(e){return r.cancel(),t=setTimeout(n,e||0),r};return r.schedule=r,r.call=function(){return this.cancel(),e(),r},r.cancel=function(){return clearTimeout(t),t=null,r},r.isPending=function(){return t},r},t.delayedCall=function(e,t){var n=null,r=function(){n=null,e()},i=function(e){null==n&&(n=setTimeout(r,e||t))};return i.delay=function(e){n&&clearTimeout(n),n=setTimeout(r,e||t)},i.schedule=i,i.call=function(){this.cancel(),e()},i.cancel=function(){n&&clearTimeout(n),n=null},i.isPending=function(){return n},i}})),ace.define("ace/clipboard",["require","exports","module"],(function(e,t,n){"use strict";var r;n.exports={lineMode:!1,pasteCancelled:function(){return!!(r&&r>Date.now()-50)||(r=!1)},cancel:function(){r=Date.now()}}})),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],(function(e,t,n){"use strict";var r=e("../lib/event"),i=e("../lib/useragent"),o=e("../lib/dom"),a=e("../lib/lang"),s=e("../clipboard"),l=i.isChrome<18,c=i.isIE,u=i.isChrome>63,d=400,f=e("../lib/keys"),h=f.KEY_MODS,p=i.isIOS,m=p?/\s/:/\n/,g=i.isMobile,v=function(e,t){var n=o.createElement("textarea");n.className="ace_text-input",n.setAttribute("wrap","off"),n.setAttribute("autocorrect","off"),n.setAttribute("autocapitalize","off"),n.setAttribute("spellcheck",!1),n.style.opacity="0",e.insertBefore(n,e.firstChild);var v=!1,b=!1,y=!1,C=!1,w="";g||(n.style.fontSize="1px");var x=!1,I=!1,A="",k=0,S=0,_=0;try{var T=document.activeElement===n}catch(Y){}r.addListener(n,"blur",(function(e){I||(t.onBlur(e),T=!1)}),t),r.addListener(n,"focus",(function(e){if(!I){if(T=!0,i.isEdge)try{if(!document.hasFocus())return}catch(e){}t.onFocus(e),i.isEdge?setTimeout(E):E()}}),t),this.$focusScroll=!1,this.focus=function(){if(w||u||"browser"==this.$focusScroll)return n.focus({preventScroll:!0});var e=n.style.top;n.style.position="fixed",n.style.top="0px";try{var t=0!=n.getBoundingClientRect().top}catch(Y){return}var r=[];if(t){var i=n.parentElement;while(i&&1==i.nodeType)r.push(i),i.setAttribute("ace_nocontext",!0),i=!i.parentElement&&i.getRootNode?i.getRootNode().host:i.parentElement}n.focus({preventScroll:!0}),t&&r.forEach((function(e){e.removeAttribute("ace_nocontext")})),setTimeout((function(){n.style.position="","0px"==n.style.top&&(n.style.top=e)}),0)},this.blur=function(){n.blur()},this.isFocused=function(){return T},t.on("beforeEndOperation",(function(){var e=t.curOp,r=e&&e.command&&e.command.name;if("insertstring"!=r){var i=r&&(e.docChanged||e.selectionChanged);y&&i&&(A=n.value="",V()),E()}}));var E=p?function(e){if(T&&(!v||e)&&!C){e||(e="");var r="\n ab"+e+"cde fg\n";r!=n.value&&(n.value=A=r);var i=4,o=4+(e.length||(t.selection.isEmpty()?0:1));k==i&&S==o||n.setSelectionRange(i,o),k=i,S=o}}:function(){if(!y&&!C&&(T||L)){y=!0;var e=0,r=0,i="";if(t.session){var o=t.selection,a=o.getRange(),s=o.cursor.row;if(e=a.start.column,r=a.end.column,i=t.session.getLine(s),a.start.row!=s){var l=t.session.getLine(s-1);e=a.start.row<s-1?0:e,r+=l.length+1,i=l+"\n"+i}else if(a.end.row!=s){var c=t.session.getLine(s+1);r=a.end.row>s+1?c.length:r,r+=i.length+1,i=i+"\n"+c}else g&&s>0&&(i="\n"+i,r+=1,e+=1);i.length>d&&(e<d&&r<d?i=i.slice(0,d):(i="\n",e=0,r=1))}var u=i+"\n\n";if(u!=A&&(n.value=A=u,k=S=u.length),L&&(k=n.selectionStart,S=n.selectionEnd),S!=r||k!=e||n.selectionEnd!=S)try{n.setSelectionRange(e,r),k=e,S=r}catch(Y){}y=!1}};this.resetSelection=E,T&&t.onFocus();var O=function(e){return 0===e.selectionStart&&e.selectionEnd>=A.length&&e.value===A&&A&&e.selectionEnd!==S},R=function(e){y||(v?v=!1:O(n)?(t.selectAll(),E()):g&&n.selectionStart!=k&&E())},N=null;this.setInputHandler=function(e){N=e},this.getInputHandler=function(){return N};var L=!1,D=function(e,r){if(L&&(L=!1),b)return E(),e&&t.onPaste(e),b=!1,"";var i=n.selectionStart,o=n.selectionEnd,a=k,s=A.length-S,l=e,c=e.length-i,u=e.length-o,d=0;while(a>0&&A[d]==e[d])d++,a--;l=l.slice(d),d=1;while(s>0&&A.length-d>k-1&&A[A.length-d]==e[e.length-d])d++,s--;c-=d-1,u-=d-1;var f=l.length-d+1;return f<0&&(a=-f,f=0),l=l.slice(0,f),r||l||c||a||s||u?(C=!0,l&&!a&&!s&&!c&&!u||x?t.onTextInput(l):t.onTextInput(l,{extendLeft:a,extendRight:s,restoreStart:c,restoreEnd:u}),C=!1,A=e,k=i,S=o,_=u,l):""},B=function(e){if(y)return $();if(e&&e.inputType){if("historyUndo"==e.inputType)return t.execCommand("undo");if("historyRedo"==e.inputType)return t.execCommand("redo")}var r=n.value,i=D(r,!0);(r.length>d+100||m.test(i)||g&&k<1&&k==S)&&E()},M=function(e,t,n){var r=e.clipboardData||window.clipboardData;if(r&&!l){var i=c||n?"Text":"text/plain";try{return t?!1!==r.setData(i,t):r.getData(i)}catch(e){if(!n)return M(e,t,!0)}}},P=function(e,i){var o=t.getCopyText();if(!o)return r.preventDefault(e);M(e,o)?(p&&(E(o),v=o,setTimeout((function(){v=!1}),10)),i?t.onCut():t.onCopy(),r.preventDefault(e)):(v=!0,n.value=o,n.select(),setTimeout((function(){v=!1,E(),i?t.onCut():t.onCopy()})))},F=function(e){P(e,!0)},j=function(e){P(e,!1)},H=function(e){var o=M(e);s.pasteCancelled()||("string"==typeof o?(o&&t.onPaste(o,e),i.isIE&&setTimeout(E),r.preventDefault(e)):(n.value="",b=!0))};r.addCommandKeyListener(n,t.onCommandKey.bind(t),t),r.addListener(n,"select",R,t),r.addListener(n,"input",B,t),r.addListener(n,"cut",F,t),r.addListener(n,"copy",j,t),r.addListener(n,"paste",H,t),"oncut"in n&&"oncopy"in n&&"onpaste"in n||r.addListener(e,"keydown",(function(e){if((!i.isMac||e.metaKey)&&e.ctrlKey)switch(e.keyCode){case 67:j(e);break;case 86:H(e);break;case 88:F(e);break}}),t);var z=function(e){if(!y&&t.onCompositionStart&&!t.$readOnly&&(y={},!x)){e.data&&(y.useTextareaForIME=!1),setTimeout($,0),t._signal("compositionStart"),t.on("mousedown",W);var r=t.getSelectionRange();r.end.row=r.start.row,r.end.column=r.start.column,y.markerRange=r,y.selectionStart=k,t.onCompositionStart(y),y.useTextareaForIME?(A=n.value="",k=0,S=0):(n.msGetInputContext&&(y.context=n.msGetInputContext()),n.getInputContext&&(y.context=n.getInputContext()))}},$=function(){if(y&&t.onCompositionUpdate&&!t.$readOnly){if(x)return W();if(y.useTextareaForIME)t.onCompositionUpdate(n.value);else{var e=n.value;D(e),y.markerRange&&(y.context&&(y.markerRange.start.column=y.selectionStart=y.context.compositionStartOffset),y.markerRange.end.column=y.markerRange.start.column+S-y.selectionStart+_)}}},V=function(e){t.onCompositionEnd&&!t.$readOnly&&(y=!1,t.onCompositionEnd(),t.off("mousedown",W),e&&B())};function W(){I=!0,n.blur(),n.focus(),I=!1}var K,G=a.delayedCall($,50).schedule.bind(null,null);function Z(e){27==e.keyCode&&n.value.length<n.selectionStart&&(y||(A=n.value),k=S=-1,E()),G()}function U(){clearTimeout(K),K=setTimeout((function(){w&&(n.style.cssText=w,w=""),t.renderer.$isMousePressed=!1,t.renderer.$keepTextAreaAtCursor&&t.renderer.$moveTextAreaToCursor()}),0)}r.addListener(n,"compositionstart",z,t),r.addListener(n,"compositionupdate",$,t),r.addListener(n,"keyup",Z,t),r.addListener(n,"keydown",G,t),r.addListener(n,"compositionend",V,t),this.getElement=function(){return n},this.setCommandMode=function(e){x=e,n.readOnly=!1},this.setReadOnly=function(e){x||(n.readOnly=e)},this.setCopyWithEmptySelection=function(e){},this.onContextMenu=function(e){L=!0,E(),t._emit("nativecontextmenu",{target:t,domEvent:e}),this.moveToMouse(e,!0)},this.moveToMouse=function(e,a){w||(w=n.style.cssText),n.style.cssText=(a?"z-index:100000;":"")+(i.isIE?"opacity:0.1;":"")+"text-indent: -"+(k+S)*t.renderer.characterWidth*.5+"px;";var s=t.container.getBoundingClientRect(),l=o.computedStyle(t.container),c=s.top+(parseInt(l.borderTopWidth)||0),u=s.left+(parseInt(s.borderLeftWidth)||0),d=s.bottom-c-n.clientHeight-2,f=function(e){o.translate(n,e.clientX-u-2,Math.min(e.clientY-c-2,d))};f(e),"mousedown"==e.type&&(t.renderer.$isMousePressed=!0,clearTimeout(K),i.isWin&&r.capture(t.container,f,U))},this.onContextMenuClose=U;var q=function(e){t.textInput.onContextMenu(e),U()};function X(e,t,n){var r=null,i=!1;n.addEventListener("keydown",(function(e){r&&clearTimeout(r),i=!0}),!0),n.addEventListener("keyup",(function(e){r=setTimeout((function(){i=!1}),100)}),!0);var o=function(e){if(document.activeElement===n&&!(i||y||t.$mouseHandler.isMousePressed)&&!v){var r=n.selectionStart,o=n.selectionEnd,a=null,s=0;if(0==r?a=f.up:1==r?a=f.home:o>S&&"\n"==A[o]?a=f.end:r<k&&" "==A[r-1]?(a=f.left,s=h.option):r<k||r==k&&S!=k&&r==o?a=f.left:o>S&&A.slice(0,o).split("\n").length>2?a=f.down:o>S&&" "==A[o-1]?(a=f.right,s=h.option):(o>S||o==S&&S!=k&&r==o)&&(a=f.right),r!==o&&(s|=h.shift),a){var l=t.onCommandKey({},s,a);if(!l&&t.commands){a=f.keyCodeToString(a);var c=t.commands.findKeyCommand(s,a);c&&t.execCommand(c)}k=r,S=o,E("")}}};document.addEventListener("selectionchange",o),t.on("destroy",(function(){document.removeEventListener("selectionchange",o)}))}r.addListener(n,"mouseup",q,t),r.addListener(n,"mousedown",(function(e){e.preventDefault(),U()}),t),r.addListener(t.renderer.scroller,"contextmenu",q,t),r.addListener(n,"contextmenu",q,t),p&&X(e,t,n)};t.TextInput=v,t.$setUserAgentForTests=function(e,t){g=e,p=t}})),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],(function(e,t,n){"use strict";var r=e("../lib/useragent"),i=0,o=550;function a(e){e.$clickSelection=null;var t=e.editor;t.setDefaultHandler("mousedown",this.onMouseDown.bind(e)),t.setDefaultHandler("dblclick",this.onDoubleClick.bind(e)),t.setDefaultHandler("tripleclick",this.onTripleClick.bind(e)),t.setDefaultHandler("quadclick",this.onQuadClick.bind(e)),t.setDefaultHandler("mousewheel",this.onMouseWheel.bind(e));var n=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];n.forEach((function(t){e[t]=this[t]}),this),e.selectByLines=this.extendSelectionBy.bind(e,"getLineRange"),e.selectByWords=this.extendSelectionBy.bind(e,"getWordRange")}function s(e,t,n,r){return Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2))}function l(e,t){if(e.start.row==e.end.row)var n=2*t.column-e.start.column-e.end.column;else if(e.start.row!=e.end.row-1||e.start.column||e.end.column)n=2*t.row-e.start.row-e.end.row;else var n=t.column-4;return n<0?{cursor:e.start,anchor:e.end}:{cursor:e.end,anchor:e.start}}(function(){this.onMouseDown=function(e){var t=e.inSelection(),n=e.getDocumentPosition();this.mousedownEvent=e;var i=this.editor,o=e.getButton();if(0!==o){var a=i.getSelectionRange(),s=a.isEmpty();return(s||1==o)&&i.selection.moveToPosition(n),void(2==o&&(i.textInput.onContextMenu(e.domEvent),r.isMozilla||e.preventDefault()))}return this.mousedownEvent.time=Date.now(),!t||i.isFocused()||(i.focus(),!this.$focusTimeout||this.$clickSelection||i.inMultiSelectMode)?(this.captureMouse(e),this.startSelect(n,e.domEvent._clicks>1),e.preventDefault()):(this.setState("focusWait"),void this.captureMouse(e))},this.startSelect=function(e,t){e=e||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var n=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?n.selection.selectToPosition(e):t||n.selection.moveToPosition(e),t||this.select(),n.renderer.scroller.setCapture&&n.renderer.scroller.setCapture(),n.setStyle("ace_selecting"),this.setState("select"))},this.select=function(){var e,t=this.editor,n=t.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var r=this.$clickSelection.comparePoint(n);if(-1==r)e=this.$clickSelection.end;else if(1==r)e=this.$clickSelection.start;else{var i=l(this.$clickSelection,n);n=i.cursor,e=i.anchor}t.selection.setSelectionAnchor(e.row,e.column)}t.selection.selectToPosition(n),t.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(e){var t,n=this.editor,r=n.renderer.screenToTextCoordinates(this.x,this.y),i=n.selection[e](r.row,r.column);if(this.$clickSelection){var o=this.$clickSelection.comparePoint(i.start),a=this.$clickSelection.comparePoint(i.end);if(-1==o&&a<=0)t=this.$clickSelection.end,i.end.row==r.row&&i.end.column==r.column||(r=i.start);else if(1==a&&o>=0)t=this.$clickSelection.start,i.start.row==r.row&&i.start.column==r.column||(r=i.end);else if(-1==o&&1==a)r=i.end,t=i.start;else{var s=l(this.$clickSelection,r);r=s.cursor,t=s.anchor}n.selection.setSelectionAnchor(t.row,t.column)}n.selection.selectToPosition(r),n.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var e=s(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),t=Date.now();(e>i||t-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(e){var t=e.getDocumentPosition(),n=this.editor,r=n.session,i=r.getBracketRange(t);i?(i.isEmpty()&&(i.start.column--,i.end.column++),this.setState("select")):(i=n.selection.getWordRange(t.row,t.column),this.setState("selectByWords")),this.$clickSelection=i,this.select()},this.onTripleClick=function(e){var t=e.getDocumentPosition(),n=this.editor;this.setState("selectByLines");var r=n.getSelectionRange();r.isMultiLine()&&r.contains(t.row,t.column)?(this.$clickSelection=n.selection.getLineRange(r.start.row),this.$clickSelection.end=n.selection.getLineRange(r.end.row).end):this.$clickSelection=n.selection.getLineRange(t.row),this.select()},this.onQuadClick=function(e){var t=this.editor;t.selectAll(),this.$clickSelection=t.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(e){if(!e.getAccelKey()){e.getShiftKey()&&e.wheelY&&!e.wheelX&&(e.wheelX=e.wheelY,e.wheelY=0);var t=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var n=this.$lastScroll,r=e.domEvent.timeStamp,i=r-n.t,a=i?e.wheelX/i:n.vx,s=i?e.wheelY/i:n.vy;i<o&&(a=(a+n.vx)/2,s=(s+n.vy)/2);var l=Math.abs(a/s),c=!1;if(l>=1&&t.renderer.isScrollableBy(e.wheelX*e.speed,0)&&(c=!0),l<=1&&t.renderer.isScrollableBy(0,e.wheelY*e.speed)&&(c=!0),c)n.allowed=r;else if(r-n.allowed<o){var u=Math.abs(a)<=1.5*Math.abs(n.vx)&&Math.abs(s)<=1.5*Math.abs(n.vy);u?(c=!0,n.allowed=r):n.allowed=0}return n.t=r,n.vx=a,n.vy=s,c?(t.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()):void 0}}}).call(a.prototype),t.DefaultHandlers=a})),ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],(function(e,t,n){"use strict";e("./lib/oop");var r=e("./lib/dom");function i(e){this.isOpen=!1,this.$element=null,this.$parentNode=e}(function(){this.$init=function(){return this.$element=r.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(e){this.getElement().textContent=e},this.setHtml=function(e){this.getElement().innerHTML=e},this.setPosition=function(e,t){this.getElement().style.left=e+"px",this.getElement().style.top=t+"px"},this.setClassName=function(e){r.addCssClass(this.getElement(),e)},this.show=function(e,t,n){null!=e&&this.setText(e),null!=t&&null!=n&&this.setPosition(t,n),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth},this.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)}}).call(i.prototype),t.Tooltip=i})),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],(function(e,t,n){"use strict";var r=e("../lib/dom"),i=e("../lib/oop"),o=e("../lib/event"),a=e("../tooltip").Tooltip;function s(e){var t,n,i,a=e.editor,s=a.renderer.$gutterLayer,c=new l(a.container);function u(){var t=n.getDocumentPosition().row,r=s.$annotations[t];if(!r)return d();var o=a.session.getLength();if(t==o){var l=a.renderer.pixelToScreenCoordinates(0,n.y).row,u=n.$pos;if(l>a.session.documentToScreenRow(u.row,u.column))return d()}if(i!=r)if(i=r.text.join("<br/>"),c.setHtml(i),c.show(),a._signal("showGutterTooltip",c),a.on("mousewheel",d),e.$tooltipFollowsMouse)f(n);else{var h=n.domEvent.target,p=h.getBoundingClientRect(),m=c.getElement().style;m.left=p.right+"px",m.top=p.bottom+"px"}}function d(){t&&(t=clearTimeout(t)),i&&(c.hide(),i=null,a._signal("hideGutterTooltip",c),a.off("mousewheel",d))}function f(e){c.setPosition(e.x,e.y)}e.editor.setDefaultHandler("guttermousedown",(function(t){if(a.isFocused()&&0==t.getButton()){var n=s.getRegion(t);if("foldWidgets"!=n){var r=t.getDocumentPosition().row,i=a.session.selection;if(t.getShiftKey())i.selectTo(r,0);else{if(2==t.domEvent.detail)return a.selectAll(),t.preventDefault();e.$clickSelection=a.selection.getLineRange(r)}return e.setState("selectByLines"),e.captureMouse(t),t.preventDefault()}}})),e.editor.setDefaultHandler("guttermousemove",(function(o){var a=o.domEvent.target||o.domEvent.srcElement;if(r.hasCssClass(a,"ace_fold-widget"))return d();i&&e.$tooltipFollowsMouse&&f(o),n=o,t||(t=setTimeout((function(){t=null,n&&!e.isMousePressed?u():d()}),50))})),o.addListener(a.renderer.$gutter,"mouseout",(function(e){n=null,i&&!t&&(t=setTimeout((function(){t=null,d()}),50))}),a),a.on("changeSession",d)}function l(e){a.call(this,e)}i.inherits(l,a),function(){this.setPosition=function(e,t){var n=window.innerWidth||document.documentElement.clientWidth,r=window.innerHeight||document.documentElement.clientHeight,i=this.getWidth(),o=this.getHeight();e+=15,t+=15,e+i>n&&(e-=e+i-n),t+o>r&&(t-=20+o),a.prototype.setPosition.call(this,e,t)}}.call(l.prototype),t.GutterHandler=s})),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(e,t,n){"use strict";var r=e("../lib/event"),i=e("../lib/useragent"),o=t.MouseEvent=function(e,t){this.domEvent=e,this.editor=t,this.x=this.clientX=e.clientX,this.y=this.clientY=e.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){r.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){r.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos||(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY)),this.$pos},this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var e=this.editor,t=e.getSelectionRange();if(t.isEmpty())this.$inSelection=!1;else{var n=this.getDocumentPosition();this.$inSelection=t.contains(n.row,n.column)}return this.$inSelection},this.getButton=function(){return r.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=i.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(o.prototype)})),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],(function(e,t,n){"use strict";var r=e("../lib/dom"),i=e("../lib/event"),o=e("../lib/useragent"),a=200,s=200,l=5;function c(e){var t=e.editor,n=r.createElement("img");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",o.isOpera&&(n.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;");var c=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];c.forEach((function(t){e[t]=this[t]}),this),t.on("mousedown",this.onMouseDown.bind(e));var d,f,h,p,m,g,v,b,y,C,w,x=t.container,I=0;function A(e,n){var r=Date.now(),i=!n||e.row!=n.row,o=!n||e.column!=n.column;if(!C||i||o)t.moveCursorToPosition(e),C=r,w={x:f,y:h};else{var a=u(w.x,w.y,f,h);a>l?C=null:r-C>=s&&(t.renderer.scrollCursorIntoView(),C=null)}}function k(e,n){var r=Date.now(),i=t.renderer.layerConfig.lineHeight,o=t.renderer.layerConfig.characterWidth,s=t.renderer.scroller.getBoundingClientRect(),l={x:{left:f-s.left,right:s.right-f},y:{top:h-s.top,bottom:s.bottom-h}},c=Math.min(l.x.left,l.x.right),u=Math.min(l.y.top,l.y.bottom),d={row:e.row,column:e.column};c/o<=2&&(d.column+=l.x.left<l.x.right?-3:2),u/i<=1&&(d.row+=l.y.top<l.y.bottom?-1:1);var p=e.row!=d.row,m=e.column!=d.column,g=!n||e.row!=n.row;p||m&&!g?y?r-y>=a&&t.renderer.scrollCursorIntoView(d):y=r:y=null}function S(){var e=g;g=t.renderer.screenToTextCoordinates(f,h),A(g,e),k(g,e)}function _(){m=t.selection.toOrientedRange(),d=t.session.addMarker(m,"ace_selection",t.getSelectionStyle()),t.clearSelection(),t.isFocused()&&t.renderer.$cursorLayer.setBlinking(!1),clearInterval(p),S(),p=setInterval(S,20),I=0,i.addListener(document,"mousemove",O)}function T(){clearInterval(p),t.session.removeMarker(d),d=null,t.selection.fromOrientedRange(m),t.isFocused()&&!b&&t.$resetCursorStyle(),m=null,g=null,I=0,y=null,C=null,i.removeListener(document,"mousemove",O)}this.onDragStart=function(e){if(this.cancelDrag||!x.draggable){var r=this;return setTimeout((function(){r.startSelect(),r.captureMouse(e)}),0),e.preventDefault()}m=t.getSelectionRange();var i=e.dataTransfer;i.effectAllowed=t.getReadOnly()?"copy":"copyMove",o.isOpera&&(t.container.appendChild(n),n.scrollTop=0),i.setDragImage&&i.setDragImage(n,0,0),o.isOpera&&t.container.removeChild(n),i.clearData(),i.setData("Text",t.session.getTextRange()),b=!0,this.setState("drag")},this.onDragEnd=function(e){if(x.draggable=!1,b=!1,this.setState(null),!t.getReadOnly()){var n=e.dataTransfer.dropEffect;v||"move"!=n||t.session.remove(t.getSelectionRange()),t.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(e){if(!t.getReadOnly()&&R(e.dataTransfer))return f=e.clientX,h=e.clientY,d||_(),I++,e.dataTransfer.dropEffect=v=N(e),i.preventDefault(e)},this.onDragOver=function(e){if(!t.getReadOnly()&&R(e.dataTransfer))return f=e.clientX,h=e.clientY,d||(_(),I++),null!==E&&(E=null),e.dataTransfer.dropEffect=v=N(e),i.preventDefault(e)},this.onDragLeave=function(e){if(I--,I<=0&&d)return T(),v=null,i.preventDefault(e)},this.onDrop=function(e){if(g){var n=e.dataTransfer;if(b)switch(v){case"move":m=m.contains(g.row,g.column)?{start:g,end:g}:t.moveText(m,g);break;case"copy":m=t.moveText(m,g,!0);break}else{var r=n.getData("Text");m={start:g,end:t.session.insert(g,r)},t.focus(),v=null}return T(),i.preventDefault(e)}},i.addListener(x,"dragstart",this.onDragStart.bind(e),t),i.addListener(x,"dragend",this.onDragEnd.bind(e),t),i.addListener(x,"dragenter",this.onDragEnter.bind(e),t),i.addListener(x,"dragover",this.onDragOver.bind(e),t),i.addListener(x,"dragleave",this.onDragLeave.bind(e),t),i.addListener(x,"drop",this.onDrop.bind(e),t);var E=null;function O(){null==E&&(E=setTimeout((function(){null!=E&&d&&T()}),20))}function R(e){var t=e.types;return!t||Array.prototype.some.call(t,(function(e){return"text/plain"==e||"Text"==e}))}function N(e){var t=["copy","copymove","all","uninitialized"],n=["move","copymove","linkmove","all","uninitialized"],r=o.isMac?e.altKey:e.ctrlKey,i="uninitialized";try{i=e.dataTransfer.effectAllowed.toLowerCase()}catch(e){}var a="none";return r&&t.indexOf(i)>=0?a="copy":n.indexOf(i)>=0?a="move":t.indexOf(i)>=0&&(a="copy"),a}}function u(e,t,n,r){return Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2))}(function(){this.dragWait=function(){var e=Date.now()-this.mousedownEvent.time;e>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var e=this.editor.container;e.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(e){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var e=this.editor,t=e.container;t.draggable=!0,e.renderer.$cursorLayer.setBlinking(!1),e.setStyle("ace_dragging");var n=o.isWin?"default":"move";e.renderer.setCursorStyle(n),this.setState("dragReady")},this.onMouseDrag=function(e){var t=this.editor.container;if(o.isIE&&"dragReady"==this.state){var n=u(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);n>3&&t.dragDrop()}if("dragWait"===this.state){n=u(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);n>0&&(t.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(e){if(this.$dragEnabled){this.mousedownEvent=e;var t=this.editor,n=e.inSelection(),r=e.getButton(),i=e.domEvent.detail||1;if(1===i&&0===r&&n){if(e.editor.inMultiSelectMode&&(e.getAccelKey()||e.getShiftKey()))return;this.mousedownEvent.time=Date.now();var a=e.domEvent.target||e.domEvent.srcElement;if("unselectable"in a&&(a.unselectable="on"),t.getDragDelay()){if(o.isWebKit){this.cancelDrag=!0;var s=t.container;s.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(e,this.onMouseDrag.bind(this)),e.defaultPrevented=!0}}}}).call(c.prototype),t.DragdropHandler=c})),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],(function(e,t,n){"use strict";var r=e("./mouse_event").MouseEvent,i=e("../lib/event"),o=e("../lib/dom");t.addTouchListeners=function(e,t){var n,a,s,l,c,u,d,f,h,p="scroll",m=0,g=0,v=0,b=0;function y(){var e=window.navigator&&window.navigator.clipboard,n=!1,r=function(){var r=t.getCopyText(),i=t.session.getUndoManager().hasUndo();h.replaceChild(o.buildDom(n?["span",!r&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],r&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],r&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],e&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],i&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],["span",{class:"ace_mobile-button",action:"find"},"Find"],["span",{class:"ace_mobile-button",action:"openCommandPallete"},"Pallete"]]:["span"]),h.firstChild)},i=function(i){var o=i.target.getAttribute("action");if("more"==o||!n)return n=!n,r();"paste"==o?e.readText().then((function(e){t.execCommand(o,e)})):o&&("cut"!=o&&"copy"!=o||(e?e.writeText(t.getCopyText()):document.execCommand("copy")),t.execCommand(o)),h.firstChild.style.display="none",n=!1,"openCommandPallete"!=o&&t.focus()};h=o.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(e){p="menu",e.stopPropagation(),e.preventDefault(),t.textInput.focus()},ontouchend:function(e){e.stopPropagation(),e.preventDefault(),i(e)},onclick:i},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],t.container)}function C(){h||y();var e=t.selection.cursor,n=t.renderer.textToScreenCoordinates(e.row,e.column),r=t.container.getBoundingClientRect();h.style.top=n.pageY-r.top-3+"px",h.style.right="10px",h.style.display="",h.firstChild.style.display="none",t.on("input",w)}function w(e){h&&(h.style.display="none"),t.off("input",w)}function x(){c=null,clearTimeout(c);var e=t.selection.getRange(),n=e.contains(d.row,d.column);!e.isEmpty()&&n||(t.selection.moveToPosition(d),t.selection.selectWord()),p="wait",C()}function I(){c=null,clearTimeout(c),t.selection.moveToPosition(d);var e=g>=2?t.selection.getLineRange(d.row):t.session.getBracketRange(d);e&&!e.isEmpty()?t.selection.setRange(e):t.selection.selectWord(),p="wait"}function A(){m+=60,u=setInterval((function(){m--<=0&&(clearInterval(u),u=null),Math.abs(v)<.01&&(v=0),Math.abs(b)<.01&&(b=0),m<20&&(v*=.9),m<20&&(b*=.9);var e=t.session.getScrollTop();t.renderer.scrollBy(10*v,10*b),e==t.session.getScrollTop()&&(m=0)}),10)}i.addListener(e,"contextmenu",(function(e){if(f){var n=t.textInput.getElement();n.focus()}}),t),i.addListener(e,"touchstart",(function(e){var i=e.touches;if(c||i.length>1)return clearTimeout(c),c=null,s=-1,void(p="zoom");f=t.$mouseHandler.isMousePressed=!0;var o=t.renderer.layerConfig.lineHeight,u=t.renderer.layerConfig.lineHeight,h=e.timeStamp;l=h;var y=i[0],C=y.clientX,w=y.clientY;Math.abs(n-C)+Math.abs(a-w)>o&&(s=-1),n=e.clientX=C,a=e.clientY=w,v=b=0;var A=new r(e,t);if(d=A.getDocumentPosition(),h-s<500&&1==i.length&&!m)g++,e.preventDefault(),e.button=0,I();else{g=0;var k=t.selection.cursor,S=t.selection.isEmpty()?k:t.selection.anchor,_=t.renderer.$cursorLayer.getPixelPosition(k,!0),T=t.renderer.$cursorLayer.getPixelPosition(S,!0),E=t.renderer.scroller.getBoundingClientRect(),O=function(e,t){return e/=u,t=t/o-.75,e*e+t*t};if(e.clientX<E.left)return void(p="zoom");var R=O(e.clientX-E.left-_.left,e.clientY-E.top-_.top),N=O(e.clientX-E.left-T.left,e.clientY-E.top-T.top);R<3.5&&N<3.5&&(p=R>N?"cursor":"anchor"),p=N<3.5?"anchor":R<3.5?"cursor":"scroll",c=setTimeout(x,450)}s=h}),t),i.addListener(e,"touchend",(function(e){f=t.$mouseHandler.isMousePressed=!1,u&&clearInterval(u),"zoom"==p?(p="",m=0):c?(t.selection.moveToPosition(d),m=0,C()):"scroll"==p?(A(),w()):C(),clearTimeout(c),c=null}),t),i.addListener(e,"touchmove",(function(e){c&&(clearTimeout(c),c=null);var i=e.touches;if(!(i.length>1||"zoom"==p)){var o=i[0],s=n-o.clientX,u=a-o.clientY;if("wait"==p){if(!(s*s+u*u>4))return e.preventDefault();p="cursor"}n=o.clientX,a=o.clientY,e.clientX=o.clientX,e.clientY=o.clientY;var d=e.timeStamp,f=d-l;if(l=d,"scroll"==p){var h=new r(e,t);h.speed=1,h.wheelX=s,h.wheelY=u,10*Math.abs(s)<Math.abs(u)&&(s=0),10*Math.abs(u)<Math.abs(s)&&(u=0),0!=f&&(v=s/f,b=u/f),t._emit("mousewheel",h),h.propagationStopped||(v=b=0)}else{var m=new r(e,t),g=m.getDocumentPosition();"cursor"==p?t.selection.moveCursorToPosition(g):"anchor"==p&&t.selection.setSelectionAnchor(g.row,g.column),t.renderer.scrollCursorIntoView(g),e.preventDefault()}}}),t)}})),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";var r=e("./dom");t.get=function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.onreadystatechange=function(){4===n.readyState&&t(n.responseText)},n.send(null)},t.loadScript=function(e,t){var n=r.getDocumentHead(),i=document.createElement("script");i.src=e,n.appendChild(i),i.onload=i.onreadystatechange=function(e,n){!n&&i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(i=i.onload=i.onreadystatechange=null,n||t())}},t.qualifyURL=function(e){var t=document.createElement("a");return t.href=e,t.href}})),ace.define("ace/lib/event_emitter",["require","exports","module"],(function(e,t,n){"use strict";var r={},i=function(){this.propagationStopped=!0},o=function(){this.defaultPrevented=!0};r._emit=r._dispatchEvent=function(e,t){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var n=this._eventRegistry[e]||[],r=this._defaultHandlers[e];if(n.length||r){"object"==typeof t&&t||(t={}),t.type||(t.type=e),t.stopPropagation||(t.stopPropagation=i),t.preventDefault||(t.preventDefault=o),n=n.slice();for(var a=0;a<n.length;a++)if(n[a](t,this),t.propagationStopped)break;return r&&!t.defaultPrevented?r(t,this):void 0}},r._signal=function(e,t){var n=(this._eventRegistry||{})[e];if(n){n=n.slice();for(var r=0;r<n.length;r++)n[r](t,this)}},r.once=function(e,t){var n=this;if(this.on(e,(function r(){n.off(e,r),t.apply(null,arguments)})),!t)return new Promise((function(e){t=e}))},r.setDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n||(n=this._defaultHandlers={_disabled_:{}}),n[e]){var r=n[e],i=n._disabled_[e];i||(n._disabled_[e]=i=[]),i.push(r);var o=i.indexOf(t);-1!=o&&i.splice(o,1)}n[e]=t},r.removeDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n){var r=n._disabled_[e];if(n[e]==t)r&&this.setDefaultHandler(e,r.pop());else if(r){var i=r.indexOf(t);-1!=i&&r.splice(i,1)}}},r.on=r.addEventListener=function(e,t,n){this._eventRegistry=this._eventRegistry||{};var r=this._eventRegistry[e];return r||(r=this._eventRegistry[e]=[]),-1==r.indexOf(t)&&r[n?"unshift":"push"](t),t},r.off=r.removeListener=r.removeEventListener=function(e,t){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[e];if(n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}},r.removeAllListeners=function(e){e||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[e]=void 0),this._defaultHandlers&&(this._defaultHandlers[e]=void 0)},t.EventEmitter=r})),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(e,t,n){var r=e("./oop"),i=e("./event_emitter").EventEmitter,o={setOptions:function(e){Object.keys(e).forEach((function(t){this.setOption(t,e[t])}),this)},getOptions:function(e){var t={};if(e)Array.isArray(e)||(t=e,e=Object.keys(t));else{var n=this.$options;e=Object.keys(n).filter((function(e){return!n[e].hidden}))}return e.forEach((function(e){t[e]=this.getOption(e)}),this),t},setOption:function(e,t){if(this["$"+e]!==t){var n=this.$options[e];if(!n)return a('misspelled option "'+e+'"');if(n.forwardTo)return this[n.forwardTo]&&this[n.forwardTo].setOption(e,t);n.handlesSet||(this["$"+e]=t),n&&n.set&&n.set.call(this,t)}},getOption:function(e){var t=this.$options[e];return t?t.forwardTo?this[t.forwardTo]&&this[t.forwardTo].getOption(e):t&&t.get?t.get.call(this):this["$"+e]:a('misspelled option "'+e+'"')}};function a(e){"undefined"!=typeof console&&console.warn}function s(e,t){var n=new Error(e);n.data=t,"object"==typeof console&&console.error,setTimeout((function(){throw n}))}var l=function(){this.$defaultOptions={}};(function(){r.implement(this,i),this.defineOptions=function(e,t,n){return e.$options||(this.$defaultOptions[t]=e.$options={}),Object.keys(n).forEach((function(t){var r=n[t];"string"==typeof r&&(r={forwardTo:r}),r.name||(r.name=t),e.$options[r.name]=r,"initialValue"in r&&(e["$"+r.name]=r.initialValue)})),r.implement(e,o),this},this.resetOptions=function(e){Object.keys(e.$options).forEach((function(t){var n=e.$options[t];"value"in n&&e.setOption(t,n.value)}))},this.setDefaultValue=function(e,t,n){if(!e){for(e in this.$defaultOptions)if(this.$defaultOptions[e][t])break;if(!this.$defaultOptions[e][t])return!1}var r=this.$defaultOptions[e]||(this.$defaultOptions[e]={});r[t]&&(r.forwardTo?this.setDefaultValue(r.forwardTo,t,n):r[t].value=n)},this.setDefaultValues=function(e,t){Object.keys(t).forEach((function(n){this.setDefaultValue(e,n,t[n])}),this)},this.warn=a,this.reportError=s}).call(l.prototype),t.AppConfig=l})),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/app_config"],(function(e,t,r){var i=e("./lib/lang"),o=(e("./lib/oop"),e("./lib/net")),a=e("./lib/app_config").AppConfig;r.exports=t=new a;var s=function(){return this||"undefined"!=typeof window&&window}(),l={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1};t.get=function(e){if(!l.hasOwnProperty(e))throw new Error("Unknown config key: "+e);return l[e]},t.set=function(e,t){if(l.hasOwnProperty(e))l[e]=t;else if(0==this.setDefaultValue("",e,t))throw new Error("Unknown config key: "+e)},t.all=function(){return i.copyObject(l)},t.$modes={},t.moduleUrl=function(e,t){if(l.$moduleUrls[e])return l.$moduleUrls[e];var n=e.split("/");t=t||n[n.length-2]||"";var r="snippets"==t?"/":"-",i=n[n.length-1];if("worker"==t&&"-"==r){var o=new RegExp("^"+t+"[\\-_]|[\\-_]"+t+"$","g");i=i.replace(o,"")}(!i||i==t)&&n.length>1&&(i=n[n.length-2]);var a=l[t+"Path"];return null==a?a=l.basePath:"/"==r&&(t=r=""),a&&"/"!=a.slice(-1)&&(a+="/"),a+t+r+i+this.get("suffix")},t.setModuleUrl=function(e,t){return l.$moduleUrls[e]=t},t.$loading={},t.loadModule=function(n,r){var i,a;Array.isArray(n)&&(a=n[0],n=n[1]);try{i=e(n)}catch(l){}if(i&&!t.$loading[n])return r&&r(i);if(t.$loading[n]||(t.$loading[n]=[]),t.$loading[n].push(r),!(t.$loading[n].length>1)){var s=function(){e([n],(function(e){t._emit("load.module",{name:n,module:e});var r=t.$loading[n];t.$loading[n]=null,r.forEach((function(t){t&&t(e)}))}))};if(!t.get("packaged"))return s();o.loadScript(t.moduleUrl(n,a),s),c()}};var c=function(){l.basePath||l.workerPath||l.modePath||l.themePath||Object.keys(l.$moduleUrls).length||(c=function(){})};function u(i){if(s&&s.document){l.packaged=i||e.packaged||r.packaged||s.define&&n(23).packaged;for(var o={},a="",c=document.currentScript||document._currentScript,u=c&&c.ownerDocument||document,f=u.getElementsByTagName("script"),h=0;h<f.length;h++){var p=f[h],m=p.src||p.getAttribute("src");if(m){for(var g=p.attributes,v=0,b=g.length;v<b;v++){var y=g[v];0===y.name.indexOf("data-ace-")&&(o[d(y.name.replace(/^data-ace-/,""))]=y.value)}var C=m.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);C&&(a=C[1])}}for(var w in a&&(o.base=o.base||a,o.packaged=!0),o.basePath=o.base,o.workerPath=o.workerPath||o.base,o.modePath=o.modePath||o.base,o.themePath=o.themePath||o.base,delete o.base,o)"undefined"!==typeof o[w]&&t.set(w,o[w])}}function d(e){return e.replace(/-(.)/g,(function(e,t){return t.toUpperCase()}))}u(!0),t.init=u,t.version="1.4.10"})),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],(function(e,t,n){"use strict";var r=e("../lib/event"),i=e("../lib/useragent"),o=e("./default_handlers").DefaultHandlers,a=e("./default_gutter_handler").GutterHandler,s=e("./mouse_event").MouseEvent,l=e("./dragdrop_handler").DragdropHandler,c=e("./touch_handler").addTouchListeners,u=e("../config"),d=function(e){var t=this;this.editor=e,new o(this),new a(this),new l(this);var n=function(t){var n=!document.hasFocus||!document.hasFocus()||!e.isFocused()&&document.activeElement==(e.textInput&&e.textInput.getElement());n&&window.focus(),e.focus()},s=e.renderer.getMouseEventTarget();r.addListener(s,"click",this.onMouseEvent.bind(this,"click"),e),r.addListener(s,"mousemove",this.onMouseMove.bind(this,"mousemove"),e),r.addMultiMouseDownListener([s,e.renderer.scrollBarV&&e.renderer.scrollBarV.inner,e.renderer.scrollBarH&&e.renderer.scrollBarH.inner,e.textInput&&e.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",e),r.addMouseWheelListener(e.container,this.onMouseWheel.bind(this,"mousewheel"),e),c(e.container,e);var u=e.renderer.$gutter;r.addListener(u,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),e),r.addListener(u,"click",this.onMouseEvent.bind(this,"gutterclick"),e),r.addListener(u,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),e),r.addListener(u,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),e),r.addListener(s,"mousedown",n,e),r.addListener(u,"mousedown",n,e),i.isIE&&e.renderer.scrollBarV&&(r.addListener(e.renderer.scrollBarV.element,"mousedown",n,e),r.addListener(e.renderer.scrollBarH.element,"mousedown",n,e)),e.on("mousemove",(function(n){if(!t.state&&!t.$dragDelay&&t.$dragEnabled){var r=e.renderer.screenToTextCoordinates(n.x,n.y),i=e.session.selection.getRange(),o=e.renderer;!i.isEmpty()&&i.insideStart(r.row,r.column)?o.setCursorStyle("default"):o.setCursorStyle("")}}),e)};(function(){this.onMouseEvent=function(e,t){this.editor._emit(e,new s(t,this.editor))},this.onMouseMove=function(e,t){var n=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;n&&n.length&&this.editor._emit(e,new s(t,this.editor))},this.onMouseWheel=function(e,t){var n=new s(t,this.editor);n.speed=2*this.$scrollSpeed,n.wheelX=t.wheelX,n.wheelY=t.wheelY,this.editor._emit(e,n)},this.setState=function(e){this.state=e},this.captureMouse=function(e,t){this.x=e.x,this.y=e.y,this.isMousePressed=!0;var n=this.editor,o=this.editor.renderer;o.$isMousePressed=!0;var a=this,l=function(e){if(e){if(i.isWebKit&&!e.which&&a.releaseMouse)return a.releaseMouse();a.x=e.clientX,a.y=e.clientY,t&&t(e),a.mouseEvent=new s(e,a.editor),a.$mouseMoved=!0}},c=function(e){n.off("beforeEndOperation",d),clearInterval(f),u(),a[a.state+"End"]&&a[a.state+"End"](e),a.state="",a.isMousePressed=o.$isMousePressed=!1,o.$keepTextAreaAtCursor&&o.$moveTextAreaToCursor(),a.$onCaptureMouseMove=a.releaseMouse=null,e&&a.onMouseEvent("mouseup",e),n.endOperation()},u=function(){a[a.state]&&a[a.state](),a.$mouseMoved=!1};if(i.isOldIE&&"dblclick"==e.domEvent.type)return setTimeout((function(){c(e)}));var d=function(e){a.releaseMouse&&n.curOp.command.name&&n.curOp.selectionChanged&&(a[a.state+"End"]&&a[a.state+"End"](),a.state="",a.releaseMouse())};n.on("beforeEndOperation",d),n.startOperation({command:{name:"mouse"}}),a.$onCaptureMouseMove=l,a.releaseMouse=r.capture(this.editor.container,l,c);var f=setInterval(u,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var e=function(t){t&&t.domEvent&&"contextmenu"!=t.domEvent.type||(this.editor.off("nativecontextmenu",e),t&&t.domEvent&&r.stopEvent(t.domEvent))}.bind(this);setTimeout(e,10),this.editor.on("nativecontextmenu",e)}}).call(d.prototype),u.defineOptions(d.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:i.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),t.MouseHandler=d})),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";var r=e("../lib/dom");function i(e){e.on("click",(function(t){var n=t.getDocumentPosition(),i=e.session,o=i.getFoldAt(n.row,n.column,1);o&&(t.getAccelKey()?i.removeFold(o):i.expandFold(o),t.stop());var a=t.domEvent&&t.domEvent.target;a&&r.hasCssClass(a,"ace_inline_button")&&r.hasCssClass(a,"ace_toggle_wrap")&&(i.setOption("wrap",!i.getUseWrapMode()),e.renderer.scrollCursorIntoView())})),e.on("gutterclick",(function(t){var n=e.renderer.$gutterLayer.getRegion(t);if("foldWidgets"==n){var r=t.getDocumentPosition().row,i=e.session;i.foldWidgets&&i.foldWidgets[r]&&e.session.onFoldWidgetClick(r,t),e.isFocused()||e.focus(),t.stop()}})),e.on("gutterdblclick",(function(t){var n=e.renderer.$gutterLayer.getRegion(t);if("foldWidgets"==n){var r=t.getDocumentPosition().row,i=e.session,o=i.getParentFoldRangeData(r,!0),a=o.range||o.firstRange;if(a){r=a.start.row;var s=i.getFoldAt(r,i.getLine(r).length,1);s?i.removeFold(s):(i.addFold("...",a),e.renderer.scrollCursorIntoView({row:a.start.row,column:0}))}t.stop()}}))}t.FoldHandler=i})),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],(function(e,t,n){"use strict";var r=e("../lib/keys"),i=e("../lib/event"),o=function(e){this.$editor=e,this.$data={editor:e},this.$handlers=[],this.setDefaultHandler(e.commands)};(function(){this.setDefaultHandler=function(e){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=e,this.addKeyboardHandler(e,0)},this.setKeyboardHandler=function(e){var t=this.$handlers;if(t[t.length-1]!=e){while(t[t.length-1]&&t[t.length-1]!=this.$defaultHandler)this.removeKeyboardHandler(t[t.length-1]);this.addKeyboardHandler(e,1)}},this.addKeyboardHandler=function(e,t){if(e){"function"!=typeof e||e.handleKeyboard||(e.handleKeyboard=e);var n=this.$handlers.indexOf(e);-1!=n&&this.$handlers.splice(n,1),void 0==t?this.$handlers.push(e):this.$handlers.splice(t,0,e),-1==n&&e.attach&&e.attach(this.$editor)}},this.removeKeyboardHandler=function(e){var t=this.$handlers.indexOf(e);return-1!=t&&(this.$handlers.splice(t,1),e.detach&&e.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var e=this.$data,t=e.editor;return this.$handlers.map((function(n){return n.getStatusText&&n.getStatusText(t,e)||""})).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(e,t,n,r){for(var o,a=!1,s=this.$editor.commands,l=this.$handlers.length;l--;)if(o=this.$handlers[l].handleKeyboard(this.$data,e,t,n,r),o&&o.command&&(a="null"==o.command||s.exec(o.command,this.$editor,o.args,r),a&&r&&-1!=e&&1!=o.passEvent&&1!=o.command.passEvent&&i.stopEvent(r),a))break;return a||-1!=e||(o={command:"insertstring"},a=s.exec("insertstring",this.$editor,t)),a&&this.$editor._signal&&this.$editor._signal("keyboardActivity",o),a},this.onCommandKey=function(e,t,n){var i=r.keyCodeToString(n);return this.$callKeyboardHandlers(t,i,n,e)},this.onTextInput=function(e){return this.$callKeyboardHandlers(-1,e)}}).call(o.prototype),t.KeyBinding=o})),ace.define("ace/lib/bidiutil",["require","exports","module"],(function(e,t,n){"use strict";var r=0,i=0,o=!1,a=!1,s=!1,l=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],c=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],u=0,d=1,f=0,h=1,p=2,m=3,g=4,v=5,b=6,y=7,C=8,w=9,x=10,I=11,A=12,k=13,S=14,_=15,T=16,E=17,O=18,R=[O,O,O,O,O,O,O,O,O,b,v,b,C,v,O,O,O,O,O,O,O,O,O,O,O,O,O,O,v,v,v,b,C,g,g,I,I,I,g,g,g,g,g,x,w,x,w,w,p,p,p,p,p,p,p,p,p,p,w,g,g,g,g,g,g,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,g,g,g,g,g,g,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,g,g,g,g,O,O,O,O,O,O,v,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,w,g,I,I,I,I,g,g,g,g,f,g,g,O,g,g,I,I,p,p,g,f,g,g,g,p,f,g,g,g,g,g],N=[C,C,C,C,C,C,C,C,C,C,C,O,O,O,f,h,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,C,v,k,S,_,T,E,w,I,I,I,I,I,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,w,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,C];function L(e,t,n,u){var d=r?c:l,f=null,h=null,p=null,m=0,g=null,y=null,w=-1,x=null,I=null,A=[];if(!u)for(x=0,u=[];x<n;x++)u[x]=M(e[x]);for(i=r,o=!1,!1,a=!1,s=!1,I=0;I<n;I++){if(f=m,A[I]=h=B(e,u,A,I),m=d[f][h],g=240&m,m&=15,t[I]=p=d[m][5],g>0)if(16==g){for(x=w;x<I;x++)t[x]=1;w=-1}else w=-1;if(y=d[m][6],y)-1==w&&(w=I);else if(w>-1){for(x=w;x<I;x++)t[x]=p;w=-1}u[I]==v&&(t[I]=0),i|=p}if(s)for(x=0;x<n;x++)if(u[x]==b){t[x]=r;for(var k=x-1;k>=0;k--){if(u[k]!=C)break;t[k]=r}}}function D(e,t,n){if(!(i<e))if(1!=e||r!=d||a){var o,s,l,c,u=n.length,f=0;while(f<u){if(t[f]>=e){o=f+1;while(o<u&&t[o]>=e)o++;for(s=f,l=o-1;s<l;s++,l--)c=n[s],n[s]=n[l],n[l]=c;f=o}f++}}else n.reverse()}function B(e,t,n,i){var l,c,u,d,R=t[i];switch(R){case f:case h:o=!1;case g:case m:return R;case p:return o?m:p;case y:return o=!0,!0,h;case C:return g;case w:return i<1||i+1>=t.length||(l=n[i-1])!=p&&l!=m||(c=t[i+1])!=p&&c!=m?g:(o&&(c=m),c==l?c:g);case x:return l=i>0?n[i-1]:v,l==p&&i+1<t.length&&t[i+1]==p?p:g;case I:if(i>0&&n[i-1]==p)return p;if(o)return g;d=i+1,u=t.length;while(d<u&&t[d]==I)d++;return d<u&&t[d]==p?p:g;case A:u=t.length,d=i+1;while(d<u&&t[d]==A)d++;if(d<u){var N=e[i],L=N>=1425&&N<=2303||64286==N;if(l=t[d],L&&(l==h||l==y))return h}return i<1||(l=t[i-1])==v?g:n[i-1];case v:return o=!1,a=!0,r;case b:return s=!0,g;case k:case S:case T:case E:case _:o=!1;case O:return g}}function M(e){var t=e.charCodeAt(0),n=t>>8;return 0==n?t>191?f:R[t]:5==n?/[\u0591-\u05f4]/.test(e)?h:f:6==n?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(e)?A:/[\u0660-\u0669\u066b-\u066c]/.test(e)?m:1642==t?I:/[\u06f0-\u06f9]/.test(e)?p:y:32==n&&t<=8287?N[255&t]:254==n&&t>=65136?y:g}t.L=f,t.R=h,t.EN=p,t.ON_R=3,t.AN=4,t.R_H=5,t.B=6,t.RLE=7,t.DOT="·",t.doBidiReorder=function(e,n,i){if(e.length<2)return{};var o=e.split(""),a=new Array(o.length),s=new Array(o.length),l=[];r=i?d:u,L(o,l,o.length,n);for(var c=0;c<a.length;a[c]=c,c++);D(2,l,a),D(1,l,a);for(c=0;c<a.length-1;c++)n[c]===m?l[c]=t.AN:l[c]===h&&(n[c]>y&&n[c]<k||n[c]===g||n[c]===O)?l[c]=t.ON_R:c>0&&"ل"===o[c-1]&&/\u0622|\u0623|\u0625|\u0627/.test(o[c])&&(l[c-1]=l[c]=t.R_H,c++);o[o.length-1]===t.DOT&&(l[o.length-1]=t.B),"‫"===o[0]&&(l[0]=t.RLE);for(c=0;c<a.length;c++)s[c]=l[a[c]];return{logicalFromVisual:a,bidiLevels:s}},t.hasBidiCharacters=function(e,t){for(var n=!1,r=0;r<e.length;r++)t[r]=M(e.charAt(r)),n||t[r]!=h&&t[r]!=y&&t[r]!=m||(n=!0);return n},t.getVisualFromLogicalIdx=function(e,t){for(var n=0;n<t.logicalFromVisual.length;n++)if(t.logicalFromVisual[n]==e)return n;return 0}})),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],(function(e,t,n){"use strict";var r=e("./lib/bidiutil"),i=e("./lib/lang"),o=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,a=function(e){this.session=e,this.bidiMap={},this.currentRow=null,this.bidiUtil=r,this.charWidths=[],this.EOL="¬",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="¶",this.RLE="‫",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=o.test(e.getValue())};(function(){this.isBidiRow=function(e,t,n){return!!this.seenBidi&&(e!==this.currentRow&&(this.currentRow=e,this.updateRowLine(t,n),this.updateBidiMap()),this.bidiMap.bidiLevels)},this.onChange=function(e){this.seenBidi?this.currentRow=null:"insert"==e.action&&o.test(e.lines.join("\n"))&&(this.seenBidi=!0,this.currentRow=null)},this.getDocumentRow=function(){var e=0,t=this.session.$screenRowCache;if(t.length){var n=this.session.$getRowCacheIndex(t,this.currentRow);n>=0&&(e=this.session.$docRowCache[n])}return e},this.getSplitIndex=function(){var e=0,t=this.session.$screenRowCache;if(t.length){var n,r=this.session.$getRowCacheIndex(t,this.currentRow);while(this.currentRow-e>0){if(n=this.session.$getRowCacheIndex(t,this.currentRow-e-1),n!==r)break;r=n,e++}}else e=this.currentRow;return e},this.updateRowLine=function(e,t){void 0===e&&(e=this.getDocumentRow());var n=e===this.session.getLength()-1,o=n?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(e),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var a=this.session.$wrapData[e];a&&(void 0===t&&(t=this.getSplitIndex()),t>0&&a.length?(this.wrapIndent=a.indent,this.wrapOffset=this.wrapIndent*this.charWidths[r.L],this.line=t<a.length?this.line.substring(a[t-1],a[t]):this.line.substring(a[a.length-1])):this.line=this.line.substring(0,a[t])),t==a.length&&(this.line+=this.showInvisibles?o:r.DOT)}else this.line+=this.showInvisibles?o:r.DOT;var s,l=this.session,c=0;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,(function(e,t){return"\t"===e||l.isFullWidth(e.charCodeAt(0))?(s="\t"===e?l.getScreenTabSize(t+c):2,c+=s-1,i.stringRepeat(r.DOT,s)):e})),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==r.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},this.updateBidiMap=function(){var e=[];r.hasBidiCharacters(this.line,e)||this.isRtlDir?this.bidiMap=r.doBidiReorder(this.line,e,this.isRtlDir):this.bidiMap={}},this.markAsDirty=function(){this.currentRow=null},this.updateCharacterWidths=function(e){if(this.characterWidth!==e.$characterSize.width){this.fontMetrics=e;var t=this.characterWidth=e.$characterSize.width,n=e.$measureCharWidth("ה");this.charWidths[r.L]=this.charWidths[r.EN]=this.charWidths[r.ON_R]=t,this.charWidths[r.R]=this.charWidths[r.AN]=n,this.charWidths[r.R_H]=.45*n,this.charWidths[r.B]=this.charWidths[r.RLE]=0,this.currentRow=null}},this.setShowInvisibles=function(e){this.showInvisibles=e,this.currentRow=null},this.setEolChar=function(e){this.EOL=e},this.setContentWidth=function(e){this.contentWidth=e},this.isRtlLine=function(e){return!!this.$isRtl||(void 0!=e?this.session.getLine(e).charAt(0)==this.RLE:this.isRtlDir)},this.setRtlDirection=function(e,t){for(var n=e.getCursorPosition(),r=e.selection.getSelectionAnchor().row;r<=n.row;r++)t||e.session.getLine(r).charAt(0)!==e.session.$bidiHandler.RLE?t&&e.session.getLine(r).charAt(0)!==e.session.$bidiHandler.RLE&&e.session.doc.insert({column:0,row:r},e.session.$bidiHandler.RLE):e.session.doc.removeInLine(r,0,1)},this.getPosLeft=function(e){e-=this.wrapIndent;var t=this.line.charAt(0)===this.RLE?1:0,n=e>t?this.session.getOverwrite()?e:e-1:t,i=r.getVisualFromLogicalIdx(n,this.bidiMap),o=this.bidiMap.bidiLevels,a=0;!this.session.getOverwrite()&&e<=t&&o[i]%2!==0&&i++;for(var s=0;s<i;s++)a+=this.charWidths[o[s]];return!this.session.getOverwrite()&&e>t&&o[i]%2===0&&(a+=this.charWidths[o[i]]),this.wrapIndent&&(a+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(a+=this.rtlLineOffset),a},this.getSelections=function(e,t){var n,r=this.bidiMap,i=r.bidiLevels,o=[],a=0,s=Math.min(e,t)-this.wrapIndent,l=Math.max(e,t)-this.wrapIndent,c=!1,u=!1,d=0;this.wrapIndent&&(a+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var f,h=0;h<i.length;h++)f=r.logicalFromVisual[h],n=i[h],c=f>=s&&f<l,c&&!u?d=a:!c&&u&&o.push({left:d,width:a-d}),a+=this.charWidths[n],u=c;if(c&&h===i.length&&o.push({left:d,width:a-d}),this.isRtlDir)for(var p=0;p<o.length;p++)o[p].left+=this.rtlLineOffset;return o},this.offsetToCol=function(e){this.isRtlDir&&(e-=this.rtlLineOffset);var t=0,n=(e=Math.max(e,0),0),r=0,i=this.bidiMap.bidiLevels,o=this.charWidths[i[r]];this.wrapIndent&&(e-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);while(e>n+o/2){if(n+=o,r===i.length-1){o=0;break}o=this.charWidths[i[++r]]}return r>0&&i[r-1]%2!==0&&i[r]%2===0?(e<n&&r--,t=this.bidiMap.logicalFromVisual[r]):r>0&&i[r-1]%2===0&&i[r]%2!==0?t=1+(e>n?this.bidiMap.logicalFromVisual[r]:this.bidiMap.logicalFromVisual[r-1]):this.isRtlDir&&r===i.length-1&&0===o&&i[r-1]%2===0||!this.isRtlDir&&0===r&&i[r]%2!==0?t=1+this.bidiMap.logicalFromVisual[r]:(r>0&&i[r-1]%2!==0&&0!==o&&r--,t=this.bidiMap.logicalFromVisual[r]),0===t&&this.isRtlDir&&t++,t+this.wrapIndent}}).call(a.prototype),t.BidiHandler=a})),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],(function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./lib/lang"),o=e("./lib/event_emitter").EventEmitter,a=e("./range").Range,s=function(e){this.session=e,this.doc=e.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var t=this;this.cursor.on("change",(function(e){t.$cursorChanged=!0,t.$silent||t._emit("changeCursor"),t.$isEmpty||t.$silent||t._emit("changeSelection"),t.$keepDesiredColumnOnChange||e.old.column==e.value.column||(t.$desiredColumn=null)})),this.anchor.on("change",(function(){t.$anchorChanged=!0,t.$isEmpty||t.$silent||t._emit("changeSelection")}))};(function(){r.implement(this,o),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(e,t){this.$isEmpty=!1,this.anchor.setPosition(e,t)},this.getAnchor=this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.isBackwards=function(){var e=this.anchor,t=this.lead;return e.row>t.row||e.row==t.row&&e.column>t.column},this.getRange=function(){var e=this.anchor,t=this.lead;return this.$isEmpty?a.fromPoints(t,t):this.isBackwards()?a.fromPoints(t,e):a.fromPoints(e,t)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},this.setRange=this.setSelectionRange=function(e,t){var n=t?e.end:e.start,r=t?e.start:e.end;this.$setSelection(n.row,n.column,r.row,r.column)},this.$setSelection=function(e,t,n,r){if(!this.$silent){var i=this.$isEmpty,o=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(e,t),this.cursor.setPosition(n,r),this.$isEmpty=!a.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||i!=this.$isEmpty||o)&&this._emit("changeSelection")}},this.$moveSelection=function(e){var t=this.lead;this.$isEmpty&&this.setSelectionAnchor(t.row,t.column),e.call(this)},this.selectTo=function(e,t){this.$moveSelection((function(){this.moveCursorTo(e,t)}))},this.selectToPosition=function(e){this.$moveSelection((function(){this.moveCursorToPosition(e)}))},this.moveTo=function(e,t){this.clearSelection(),this.moveCursorTo(e,t)},this.moveToPosition=function(e){this.clearSelection(),this.moveCursorToPosition(e)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(e,t){if("undefined"==typeof t){var n=e||this.lead;e=n.row,t=n.column}return this.session.getWordRange(e,t)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var e=this.getCursor(),t=this.session.getAWordRange(e.row,e.column);this.setSelectionRange(t)},this.getLineRange=function(e,t){var n,r="number"==typeof e?e:this.lead.row,i=this.session.getFoldLine(r);return i?(r=i.start.row,n=i.end.row):n=r,!0===t?new a(r,0,n,this.session.getLine(n).length):new a(r,0,n+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.wouldMoveIntoSoftTab=function(e,t,n){var r=e.column,i=e.column+t;return n<0&&(r=e.column-t,i=e.column),this.session.isTabStop(e)&&this.doc.getLine(e.row).slice(r,i).split(" ").length-1==t},this.moveCursorLeft=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,-1))this.moveCursorTo(e.start.row,e.start.column);else if(0===t.column)t.row>0&&this.moveCursorTo(t.row-1,this.doc.getLine(t.row-1).length);else{var n=this.session.getTabSize();this.wouldMoveIntoSoftTab(t,n,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-n):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,1))this.moveCursorTo(e.end.row,e.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var n=this.session.getTabSize();t=this.lead;this.wouldMoveIntoSoftTab(t,n,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,n):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var e=this.lead.row,t=this.lead.column,n=this.session.documentToScreenRow(e,t),r=this.session.screenToDocumentPosition(n,0),i=this.session.getDisplayLine(e,null,r.row,r.column),o=i.match(/^\s*/);o[0].length==t||this.session.$useEmacsStyleLineStart||(r.column+=o[0].length),this.moveCursorToPosition(r)},this.moveCursorLineEnd=function(){var e=this.lead,t=this.session.getDocumentLastRowColumnPosition(e.row,e.column);if(this.lead.column==t.column){var n=this.session.getLine(t.row);if(t.column==n.length){var r=n.search(/\s+$/);r>0&&(t.column=r)}}this.moveCursorTo(t.row,t.column)},this.moveCursorFileEnd=function(){var e=this.doc.getLength()-1,t=this.doc.getLine(e).length;this.moveCursorTo(e,t)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),r=n.substring(t);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var i=this.session.getFoldAt(e,t,1);if(i)this.moveCursorTo(i.end.row,i.end.column);else{if(this.session.nonTokenRe.exec(r)&&(t+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,r=n.substring(t)),t>=n.length)return this.moveCursorTo(e,n.length),this.moveCursorRight(),void(e<this.doc.getLength()-1&&this.moveCursorWordRight());this.session.tokenRe.exec(r)&&(t+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(e,t)}},this.moveCursorLongWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))this.moveCursorTo(e.start.row,e.start.column);else{var r=this.session.getFoldStringAt(t,n,-1);null==r&&(r=this.doc.getLine(t).substring(0,n));var o=i.stringReverse(r);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(o)&&(n-=this.session.nonTokenRe.lastIndex,o=o.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),n<=0)return this.moveCursorTo(t,0),this.moveCursorLeft(),void(t>0&&this.moveCursorWordLeft());this.session.tokenRe.exec(o)&&(n-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,n)}},this.$shortWordEndIndex=function(e){var t,n=0,r=/\s/,i=this.session.tokenRe;if(i.lastIndex=0,this.session.tokenRe.exec(e))n=this.session.tokenRe.lastIndex;else{while((t=e[n])&&r.test(t))n++;if(n<1){i.lastIndex=0;while((t=e[n])&&!i.test(t))if(i.lastIndex=0,n++,r.test(t)){if(n>2){n--;break}while((t=e[n])&&r.test(t))n++;if(n>2)break}}}return i.lastIndex=0,n},this.moveCursorShortWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),r=n.substring(t),i=this.session.getFoldAt(e,t,1);if(i)return this.moveCursorTo(i.end.row,i.end.column);if(t==n.length){var o=this.doc.getLength();do{e++,r=this.doc.getLine(e)}while(e<o&&/^\s*$/.test(r));/^\s+/.test(r)||(r=""),t=0}var a=this.$shortWordEndIndex(r);this.moveCursorTo(e,t+a)},this.moveCursorShortWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))return this.moveCursorTo(e.start.row,e.start.column);var r=this.session.getLine(t).substring(0,n);if(0===n){do{t--,r=this.doc.getLine(t)}while(t>0&&/^\s*$/.test(r));n=r.length,/\s+$/.test(r)||(r="")}var o=i.stringReverse(r),a=this.$shortWordEndIndex(o);return this.moveCursorTo(t,n-a)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(e,t){var n,r=this.session.documentToScreenPosition(this.lead.row,this.lead.column);if(0===t&&(0!==e&&(this.session.$bidiHandler.isBidiRow(r.row,this.lead.row)?(n=this.session.$bidiHandler.getPosLeft(r.column),r.column=Math.round(n/this.session.$bidiHandler.charWidths[0])):n=r.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?r.column=this.$desiredColumn:this.$desiredColumn=r.column),0!=e&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var i=this.session.lineWidgets[this.lead.row];e<0?e-=i.rowsAbove||0:e>0&&(e+=i.rowCount-(i.rowsAbove||0))}var o=this.session.screenToDocumentPosition(r.row+e,r.column,n);0!==e&&0===t&&o.row===this.lead.row&&(o.column,this.lead.column),this.moveCursorTo(o.row,o.column+t,0===t)},this.moveCursorToPosition=function(e){this.moveCursorTo(e.row,e.column)},this.moveCursorTo=function(e,t,n){var r=this.session.getFoldAt(e,t,1);r&&(e=r.start.row,t=r.start.column),this.$keepDesiredColumnOnChange=!0;var i=this.session.getLine(e);/[\uDC00-\uDFFF]/.test(i.charAt(t))&&i.charAt(t-1)&&(this.lead.row==e&&this.lead.column==t+1?t-=1:t+=1),this.lead.setPosition(e,t),this.$keepDesiredColumnOnChange=!1,n||(this.$desiredColumn=null)},this.moveCursorToScreen=function(e,t,n){var r=this.session.screenToDocumentPosition(e,t);this.moveCursorTo(r.row,r.column,n)},this.detach=function(){this.lead.detach(),this.anchor.detach(),this.session=this.doc=null},this.fromOrientedRange=function(e){this.setSelectionRange(e,e.cursor==e.start),this.$desiredColumn=e.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(e){var t=this.getRange();return e?(e.start.column=t.start.column,e.start.row=t.start.row,e.end.column=t.end.column,e.end.row=t.end.row):e=t,e.cursor=this.isBackwards()?e.start:e.end,e.desiredColumn=this.$desiredColumn,e},this.getRangeOfMovements=function(e){var t=this.getCursor();try{e(this);var n=this.getCursor();return a.fromPoints(t,n)}catch(r){return a.fromPoints(t,t)}finally{this.moveCursorToPosition(t)}},this.toJSON=function(){if(this.rangeCount)var e=this.ranges.map((function(e){var t=e.clone();return t.isBackwards=e.cursor==e.start,t}));else{e=this.getRange();e.isBackwards=this.isBackwards()}return e},this.fromJSON=function(e){if(void 0==e.start){if(this.rangeList&&e.length>1){this.toSingleRange(e[0]);for(var t=e.length;t--;){var n=a.fromPoints(e[t].start,e[t].end);e[t].isBackwards&&(n.cursor=n.start),this.addRange(n,!0)}return}e=e[0]}this.rangeList&&this.toSingleRange(e),this.setSelectionRange(e,e.isBackwards)},this.isEqual=function(e){if((e.length||this.rangeCount)&&e.length!=this.rangeCount)return!1;if(!e.length||!this.ranges)return this.getRange().isEqual(e);for(var t=this.ranges.length;t--;)if(!this.ranges[t].isEqual(e[t]))return!1;return!0}}).call(s.prototype),t.Selection=s})),ace.define("ace/tokenizer",["require","exports","module","ace/config"],(function(e,t,n){"use strict";var r=e("./config"),i=2e3,o=function(e){for(var t in this.states=e,this.regExps={},this.matchMappings={},this.states){for(var n=this.states[t],r=[],i=0,o=this.matchMappings[t]={defaultToken:"text"},a="g",s=[],l=0;l<n.length;l++){var c=n[l];if(c.defaultToken&&(o.defaultToken=c.defaultToken),c.caseInsensitive&&(a="gi"),null!=c.regex){c.regex instanceof RegExp&&(c.regex=c.regex.toString().slice(1,-1));var u=c.regex,d=new RegExp("(?:("+u+")|(.))").exec("a").length-2;Array.isArray(c.token)?1==c.token.length||1==d?c.token=c.token[0]:d-1!=c.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:c,groupCount:d-1}),c.token=c.token[0]):(c.tokenArray=c.token,c.token=null,c.onMatch=this.$arrayTokens):"function"!=typeof c.token||c.onMatch||(c.onMatch=d>1?this.$applyToken:c.token),d>1&&(/\\\d/.test(c.regex)?u=c.regex.replace(/\\([0-9]+)/g,(function(e,t){return"\\"+(parseInt(t,10)+i+1)})):(d=1,u=this.removeCapturingGroups(c.regex)),c.splitRegex||"string"==typeof c.token||s.push(c)),o[i]=l,i+=d,r.push(u),c.onMatch||(c.onMatch=null)}}r.length||(o[0]=0,r.push("$")),s.forEach((function(e){e.splitRegex=this.createSplitterRegexp(e.regex,a)}),this),this.regExps[t]=new RegExp("("+r.join(")|(")+")|($)",a)}};(function(){this.$setMaxTokenCount=function(e){i=0|e},this.$applyToken=function(e){var t=this.splitRegex.exec(e).slice(1),n=this.token.apply(this,t);if("string"===typeof n)return[{type:n,value:e}];for(var r=[],i=0,o=n.length;i<o;i++)t[i]&&(r[r.length]={type:n[i],value:t[i]});return r},this.$arrayTokens=function(e){if(!e)return[];var t=this.splitRegex.exec(e);if(!t)return"text";for(var n=[],r=this.tokenArray,i=0,o=r.length;i<o;i++)t[i+1]&&(n[n.length]={type:r[i],value:t[i+1]});return n},this.removeCapturingGroups=function(e){var t=e.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!]|(\()/g,(function(e,t){return t?"(?:":e}));return t},this.createSplitterRegexp=function(e,t){if(-1!=e.indexOf("(?=")){var n=0,r=!1,i={};e.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,(function(e,t,o,a,s,l){return r?r="]"!=s:s?r=!0:a?(n==i.stack&&(i.end=l+1,i.stack=-1),n--):o&&(n++,1!=o.length&&(i.stack=n,i.start=l)),e})),null!=i.end&&/^\)*$/.test(e.substr(i.end))&&(e=e.substring(0,i.start)+e.substr(i.end))}return"^"!=e.charAt(0)&&(e="^"+e),"$"!=e.charAt(e.length-1)&&(e+="$"),new RegExp(e,(t||"").replace("g",""))},this.getLineTokens=function(e,t){if(t&&"string"!=typeof t){var n=t.slice(0);t=n[0],"#tmp"===t&&(n.shift(),t=n.shift())}else n=[];var r=t||"start",o=this.states[r];o||(r="start",o=this.states[r]);var a=this.matchMappings[r],s=this.regExps[r];s.lastIndex=0;var l,c=[],u=0,d=0,f={type:null,value:""};while(l=s.exec(e)){var h=a.defaultToken,p=null,m=l[0],g=s.lastIndex;if(g-m.length>u){var v=e.substring(u,g-m.length);f.type==h?f.value+=v:(f.type&&c.push(f),f={type:h,value:v})}for(var b=0;b<l.length-2;b++)if(void 0!==l[b+1]){p=o[a[b]],h=p.onMatch?p.onMatch(m,r,n,e):p.token,p.next&&(r="string"==typeof p.next?p.next:p.next(r,n),o=this.states[r],o||(this.reportError("state doesn't exist",r),r="start",o=this.states[r]),a=this.matchMappings[r],u=g,s=this.regExps[r],s.lastIndex=g),p.consumeLineEnd&&(u=g);break}if(m)if("string"===typeof h)p&&!1===p.merge||f.type!==h?(f.type&&c.push(f),f={type:h,value:m}):f.value+=m;else if(h){f.type&&c.push(f),f={type:null,value:""};for(b=0;b<h.length;b++)c.push(h[b])}if(u==e.length)break;if(u=g,d++>i){d>2*e.length&&this.reportError("infinite loop with in ace tokenizer",{startState:t,line:e});while(u<e.length)f.type&&c.push(f),f={value:e.substring(u,u+=500),type:"overflow"};r="start",n=[];break}}return f.type&&c.push(f),n.length>1&&n[0]!==r&&n.unshift("#tmp",r),{tokens:c,state:n.length?n:r}},this.reportError=r.reportError}).call(o.prototype),t.Tokenizer=o})),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],(function(e,t,n){"use strict";var r=e("../lib/lang"),i=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(e,t){if(t)for(var n in e){for(var r=e[n],i=0;i<r.length;i++){var o=r[i];(o.next||o.onMatch)&&("string"==typeof o.next&&0!==o.next.indexOf(t)&&(o.next=t+o.next),o.nextState&&0!==o.nextState.indexOf(t)&&(o.nextState=t+o.nextState))}this.$rules[t+n]=r}else for(var n in e)this.$rules[n]=e[n]},this.getRules=function(){return this.$rules},this.embedRules=function(e,t,n,i,o){var a="function"==typeof e?(new e).getRules():e;if(i)for(var s=0;s<i.length;s++)i[s]=t+i[s];else for(var l in i=[],a)i.push(t+l);if(this.addRules(a,t),n){var c=Array.prototype[o?"push":"unshift"];for(s=0;s<i.length;s++)c.apply(this.$rules[i[s]],r.deepCopy(n))}this.$embeds||(this.$embeds=[]),this.$embeds.push(t)},this.getEmbeds=function(){return this.$embeds};var e=function(e,t){return("start"!=e||t.length)&&t.unshift(this.nextState,e),this.nextState},t=function(e,t){return t.shift(),t.shift()||"start"};this.normalizeRules=function(){var n=0,r=this.$rules;function i(o){var a=r[o];a.processed=!0;for(var s=0;s<a.length;s++){var l=a[s],c=null;Array.isArray(l)&&(c=l,l={}),!l.regex&&l.start&&(l.regex=l.start,l.next||(l.next=[]),l.next.push({defaultToken:l.token},{token:l.token+".end",regex:l.end||l.start,next:"pop"}),l.token=l.token+".start",l.push=!0);var u=l.next||l.push;if(u&&Array.isArray(u)){var d=l.stateName;d||(d=l.token,"string"!=typeof d&&(d=d[0]||""),r[d]&&(d+=n++)),r[d]=u,l.next=d,i(d)}else"pop"==u&&(l.next=t);if(l.push&&(l.nextState=l.next||l.push,l.next=e,delete l.push),l.rules)for(var f in l.rules)r[f]?r[f].push&&r[f].push.apply(r[f],l.rules[f]):r[f]=l.rules[f];var h="string"==typeof l?l:l.include;if(h&&(c=Array.isArray(h)?h.map((function(e){return r[e]})):r[h]),c){var p=[s,1].concat(c);l.noEscape&&(p=p.filter((function(e){return!e.next}))),a.splice.apply(a,p),s--}l.keywordMap&&(l.token=this.createKeywordMapper(l.keywordMap,l.defaultToken||"text",l.caseInsensitive),delete l.defaultToken)}}Object.keys(r).forEach(i,this)},this.createKeywordMapper=function(e,t,n,r){var i=Object.create(null);return Object.keys(e).forEach((function(t){var o=e[t];n&&(o=o.toLowerCase());for(var a=o.split(r||"|"),s=a.length;s--;)i[a[s]]=t})),Object.getPrototypeOf(i)&&(i.__proto__=null),this.$keywordList=Object.keys(i),e=null,n?function(e){return i[e.toLowerCase()]||t}:function(e){return i[e]||t}},this.getKeywords=function(){return this.$keywords}}).call(i.prototype),t.TextHighlightRules=i})),ace.define("ace/mode/behaviour",["require","exports","module"],(function(e,t,n){"use strict";var r=function(){this.$behaviours={}};(function(){this.add=function(e,t,n){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[e]:this.$behaviours[e]={}}this.$behaviours[e][t]=n},this.addBehaviours=function(e){for(var t in e)for(var n in e[t])this.add(t,n,e[t][n])},this.remove=function(e){this.$behaviours&&this.$behaviours[e]&&delete this.$behaviours[e]},this.inherit=function(e,t){if("function"===typeof e)var n=(new e).getBehaviours(t);else n=e.getBehaviours(t);this.addBehaviours(n)},this.getBehaviours=function(e){if(e){for(var t={},n=0;n<e.length;n++)this.$behaviours[e[n]]&&(t[e[n]]=this.$behaviours[e[n]]);return t}return this.$behaviours}}).call(r.prototype),t.Behaviour=r})),ace.define("ace/token_iterator",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var r=e("./range").Range,i=function(e,t,n){this.$session=e,this.$row=t,this.$rowTokens=e.getTokens(t);var r=e.getTokenAt(t,n);this.$tokenIndex=r?r.index:-1};(function(){this.stepBackward=function(){this.$tokenIndex-=1;while(this.$tokenIndex<0){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){var e;this.$tokenIndex+=1;while(this.$tokenIndex>=this.$rowTokens.length){if(this.$row+=1,e||(e=this.$session.getLength()),this.$row>=e)return this.$row=e-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var e=this.$rowTokens,t=this.$tokenIndex,n=e[t].start;if(void 0!==n)return n;n=0;while(t>0)t-=1,n+=e[t].value.length;return n},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},this.getCurrentTokenRange=function(){var e=this.$rowTokens[this.$tokenIndex],t=this.getCurrentTokenColumn();return new r(this.$row,t,this.$row,t+e.value.length)}}).call(i.prototype),t.TokenIterator=i})),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],(function(e,t,n){"use strict";var r,i=e("../../lib/oop"),o=e("../behaviour").Behaviour,a=e("../../token_iterator").TokenIterator,s=e("../../lib/lang"),l=["text","paren.rparen","rparen","paren","punctuation.operator"],c=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],u={},d={'"':'"',"'":"'"},f=function(e){var t=-1;if(e.multiSelect&&(t=e.selection.index,u.rangeCount!=e.multiSelect.rangeCount&&(u={rangeCount:e.multiSelect.rangeCount})),u[t])return r=u[t];r=u[t]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},h=function(e,t,n,r){var i=e.end.row-e.start.row;return{text:n+t+r,selection:[0,e.start.column+1,i,e.end.column+(i?0:1)]}},p=function(e){this.add("braces","insertion",(function(t,n,i,o,a){var l=i.getCursorPosition(),c=o.doc.getLine(l.row);if("{"==a){f(i);var u=i.getSelectionRange(),d=o.doc.getTextRange(u);if(""!==d&&"{"!==d&&i.getWrapBehavioursEnabled())return h(u,d,"{","}");if(p.isSaneInsertion(i,o))return/[\]\}\)]/.test(c[l.column])||i.inMultiSelectMode||e&&e.braces?(p.recordAutoInsert(i,o,"}"),{text:"{}",selection:[1,1]}):(p.recordMaybeInsert(i,o,"{"),{text:"{",selection:[1,1]})}else if("}"==a){f(i);var m=c.substring(l.column,l.column+1);if("}"==m){var g=o.$findOpeningBracket("}",{column:l.column+1,row:l.row});if(null!==g&&p.isAutoInsertedClosing(l,c,a))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else{if("\n"==a||"\r\n"==a){f(i);var v="";p.isMaybeInsertedClosing(l,c)&&(v=s.stringRepeat("}",r.maybeInsertedBrackets),p.clearMaybeInsertedClosing());m=c.substring(l.column,l.column+1);if("}"===m){var b=o.findMatchingBracket({row:l.row,column:l.column+1},"}");if(!b)return null;var y=this.$getIndent(o.getLine(b.row))}else{if(!v)return void p.clearMaybeInsertedClosing();y=this.$getIndent(c)}var C=y+o.getTabString();return{text:"\n"+C+"\n"+y+v,selection:[1,C.length,1,C.length]}}p.clearMaybeInsertedClosing()}})),this.add("braces","deletion",(function(e,t,n,i,o){var a=i.doc.getTextRange(o);if(!o.isMultiLine()&&"{"==a){f(n);var s=i.doc.getLine(o.start.row),l=s.substring(o.end.column,o.end.column+1);if("}"==l)return o.end.column++,o;r.maybeInsertedBrackets--}})),this.add("parens","insertion",(function(e,t,n,r,i){if("("==i){f(n);var o=n.getSelectionRange(),a=r.doc.getTextRange(o);if(""!==a&&n.getWrapBehavioursEnabled())return h(o,a,"(",")");if(p.isSaneInsertion(n,r))return p.recordAutoInsert(n,r,")"),{text:"()",selection:[1,1]}}else if(")"==i){f(n);var s=n.getCursorPosition(),l=r.doc.getLine(s.row),c=l.substring(s.column,s.column+1);if(")"==c){var u=r.$findOpeningBracket(")",{column:s.column+1,row:s.row});if(null!==u&&p.isAutoInsertedClosing(s,l,i))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}})),this.add("parens","deletion",(function(e,t,n,r,i){var o=r.doc.getTextRange(i);if(!i.isMultiLine()&&"("==o){f(n);var a=r.doc.getLine(i.start.row),s=a.substring(i.start.column+1,i.start.column+2);if(")"==s)return i.end.column++,i}})),this.add("brackets","insertion",(function(e,t,n,r,i){if("["==i){f(n);var o=n.getSelectionRange(),a=r.doc.getTextRange(o);if(""!==a&&n.getWrapBehavioursEnabled())return h(o,a,"[","]");if(p.isSaneInsertion(n,r))return p.recordAutoInsert(n,r,"]"),{text:"[]",selection:[1,1]}}else if("]"==i){f(n);var s=n.getCursorPosition(),l=r.doc.getLine(s.row),c=l.substring(s.column,s.column+1);if("]"==c){var u=r.$findOpeningBracket("]",{column:s.column+1,row:s.row});if(null!==u&&p.isAutoInsertedClosing(s,l,i))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}})),this.add("brackets","deletion",(function(e,t,n,r,i){var o=r.doc.getTextRange(i);if(!i.isMultiLine()&&"["==o){f(n);var a=r.doc.getLine(i.start.row),s=a.substring(i.start.column+1,i.start.column+2);if("]"==s)return i.end.column++,i}})),this.add("string_dquotes","insertion",(function(e,t,n,r,i){var o=r.$mode.$quotes||d;if(1==i.length&&o[i]){if(this.lineCommentStart&&-1!=this.lineCommentStart.indexOf(i))return;f(n);var a=i,s=n.getSelectionRange(),l=r.doc.getTextRange(s);if(!(""===l||1==l.length&&o[l])&&n.getWrapBehavioursEnabled())return h(s,l,a,a);if(!l){var c=n.getCursorPosition(),u=r.doc.getLine(c.row),p=u.substring(c.column-1,c.column),m=u.substring(c.column,c.column+1),g=r.getTokenAt(c.row,c.column),v=r.getTokenAt(c.row,c.column+1);if("\\"==p&&g&&/escape/.test(g.type))return null;var b,y=g&&/string|escape/.test(g.type),C=!v||/string|escape/.test(v.type);if(m==a)b=y!==C,b&&/string\.end/.test(v.type)&&(b=!1);else{if(y&&!C)return null;if(y&&C)return null;var w=r.$mode.tokenRe;w.lastIndex=0;var x=w.test(p);w.lastIndex=0;var I=w.test(p);if(x||I)return null;if(m&&!/[\s;,.})\]\\]/.test(m))return null;var A=u[c.column-2];if(p==a&&(A==a||w.test(A)))return null;b=!0}return{text:b?a+a:"",selection:[1,1]}}}})),this.add("string_dquotes","deletion",(function(e,t,n,r,i){var o=r.$mode.$quotes||d,a=r.doc.getTextRange(i);if(!i.isMultiLine()&&o.hasOwnProperty(a)){f(n);var s=r.doc.getLine(i.start.row),l=s.substring(i.start.column+1,i.start.column+2);if(l==a)return i.end.column++,i}}))};p.isSaneInsertion=function(e,t){var n=e.getCursorPosition(),r=new a(t,n.row,n.column);if(!this.$matchTokenType(r.getCurrentToken()||"text",l)){if(/[)}\]]/.test(e.session.getLine(n.row)[n.column]))return!0;var i=new a(t,n.row,n.column+1);if(!this.$matchTokenType(i.getCurrentToken()||"text",l))return!1}return r.stepForward(),r.getCurrentTokenRow()!==n.row||this.$matchTokenType(r.getCurrentToken()||"text",c)},p.$matchTokenType=function(e,t){return t.indexOf(e.type||e)>-1},p.recordAutoInsert=function(e,t,n){var i=e.getCursorPosition(),o=t.doc.getLine(i.row);this.isAutoInsertedClosing(i,o,r.autoInsertedLineEnd[0])||(r.autoInsertedBrackets=0),r.autoInsertedRow=i.row,r.autoInsertedLineEnd=n+o.substr(i.column),r.autoInsertedBrackets++},p.recordMaybeInsert=function(e,t,n){var i=e.getCursorPosition(),o=t.doc.getLine(i.row);this.isMaybeInsertedClosing(i,o)||(r.maybeInsertedBrackets=0),r.maybeInsertedRow=i.row,r.maybeInsertedLineStart=o.substr(0,i.column)+n,r.maybeInsertedLineEnd=o.substr(i.column),r.maybeInsertedBrackets++},p.isAutoInsertedClosing=function(e,t,n){return r.autoInsertedBrackets>0&&e.row===r.autoInsertedRow&&n===r.autoInsertedLineEnd[0]&&t.substr(e.column)===r.autoInsertedLineEnd},p.isMaybeInsertedClosing=function(e,t){return r.maybeInsertedBrackets>0&&e.row===r.maybeInsertedRow&&t.substr(e.column)===r.maybeInsertedLineEnd&&t.substr(0,e.column)==r.maybeInsertedLineStart},p.popAutoInsertedClosing=function(){r.autoInsertedLineEnd=r.autoInsertedLineEnd.substr(1),r.autoInsertedBrackets--},p.clearMaybeInsertedClosing=function(){r&&(r.maybeInsertedBrackets=0,r.maybeInsertedRow=-1)},i.inherits(p,o),t.CstyleBehaviour=p})),ace.define("ace/unicode",["require","exports","module"],(function(e,t,n){"use strict";for(var r=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],i=0,o=[],a=0;a<r.length;a+=2)o.push(i+=r[a]),r[a+1]&&o.push(45,i+=r[a+1]);t.wordChars=String.fromCharCode.apply(null,o)})),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],(function(e,t,n){"use strict";var r=e("../config"),i=e("../tokenizer").Tokenizer,o=e("./text_highlight_rules").TextHighlightRules,a=e("./behaviour/cstyle").CstyleBehaviour,s=e("../unicode"),l=e("../lib/lang"),c=e("../token_iterator").TokenIterator,u=e("../range").Range,d=function(){this.HighlightRules=o};(function(){this.$defaultBehaviour=new a,this.tokenRe=new RegExp("^["+s.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+s.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new i(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(e,t,n,r){var i=t.doc,o=!0,a=!0,s=1/0,c=t.getTabSize(),u=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))m=this.lineCommentStart.map(l.escapeRegExp).join("|"),h=this.lineCommentStart[0];else m=l.escapeRegExp(this.lineCommentStart),h=this.lineCommentStart;m=new RegExp("^(\\s*)(?:"+m+") ?"),u=t.getUseSoftTabs();b=function(e,t){var n=e.match(m);if(n){var r=n[1].length,o=n[0].length;f(e,r,o)||" "!=n[0][o-1]||o--,i.removeInLine(t,r,o)}};var d=h+" ",f=(v=function(e,t){o&&!/\S/.test(e)||(f(e,s,s)?i.insertInLine({row:t,column:s},d):i.insertInLine({row:t,column:s},h))},y=function(e,t){return m.test(e)},function(e,t,n){var r=0;while(t--&&" "==e.charAt(t))r++;if(r%c!=0)return!1;r=0;while(" "==e.charAt(n++))r++;return c>2?r%c!=c-1:r%c==0})}else{if(!this.blockComment)return!1;var h=this.blockComment.start,p=this.blockComment.end,m=new RegExp("^(\\s*)(?:"+l.escapeRegExp(h)+")"),g=new RegExp("(?:"+l.escapeRegExp(p)+")\\s*$"),v=function(e,t){y(e,t)||o&&!/\S/.test(e)||(i.insertInLine({row:t,column:e.length},p),i.insertInLine({row:t,column:s},h))},b=function(e,t){var n;(n=e.match(g))&&i.removeInLine(t,e.length-n[0].length,e.length),(n=e.match(m))&&i.removeInLine(t,n[1].length,n[0].length)},y=function(e,n){if(m.test(e))return!0;for(var r=t.getTokens(n),i=0;i<r.length;i++)if("comment"===r[i].type)return!0}}function C(e){for(var t=n;t<=r;t++)e(i.getLine(t),t)}var w=1/0;C((function(e,t){var n=e.search(/\S/);-1!==n?(n<s&&(s=n),a&&!y(e,t)&&(a=!1)):w>e.length&&(w=e.length)})),s==1/0&&(s=w,o=!1,a=!1),u&&s%c!=0&&(s=Math.floor(s/c)*c),C(a?b:v)},this.toggleBlockComment=function(e,t,n,r){var i=this.blockComment;if(i){!i.start&&i[0]&&(i=i[0]);var o,a,s=new c(t,r.row,r.column),l=s.getCurrentToken(),d=(t.selection,t.selection.toOrientedRange());if(l&&/comment/.test(l.type)){var f,h;while(l&&/comment/.test(l.type)){var p=l.value.indexOf(i.start);if(-1!=p){var m=s.getCurrentTokenRow(),g=s.getCurrentTokenColumn()+p;f=new u(m,g,m,g+i.start.length);break}l=s.stepBackward()}s=new c(t,r.row,r.column),l=s.getCurrentToken();while(l&&/comment/.test(l.type)){p=l.value.indexOf(i.end);if(-1!=p){m=s.getCurrentTokenRow(),g=s.getCurrentTokenColumn()+p;h=new u(m,g,m,g+i.end.length);break}l=s.stepForward()}h&&t.remove(h),f&&(t.remove(f),o=f.start.row,a=-i.start.length)}else a=i.start.length,o=n.start.row,t.insert(n.end,i.end),t.insert(n.start,i.start);d.start.row==o&&(d.start.column+=a),d.end.row==o&&(d.end.column+=a),t.selection.fromOrientedRange(d)}},this.getNextLineIndent=function(e,t,n){return this.$getIndent(t)},this.checkOutdent=function(e,t,n){return!1},this.autoOutdent=function(e,t,n){},this.$getIndent=function(e){return e.match(/^\s*/)[0]},this.createWorker=function(e){return null},this.createModeDelegates=function(e){for(var t in this.$embeds=[],this.$modes={},e)if(e[t]){var n=e[t],i=n.prototype.$id,o=r.$modes[i];o||(r.$modes[i]=o=new n),r.$modes[t]||(r.$modes[t]=o),this.$embeds.push(t),this.$modes[t]=o}var a=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"];for(t=0;t<a.length;t++)(function(e){var n=a[t],r=e[n];e[a[t]]=function(){return this.$delegator(n,arguments,r)}})(this)},this.$delegator=function(e,t,n){var r=t[0]||"start";if("string"!=typeof r){if(Array.isArray(r[2])){var i=r[2][r[2].length-1],o=this.$modes[i];if(o)return o[e].apply(o,[r[1]].concat([].slice.call(t,1)))}r=r[0]||"start"}for(var a=0;a<this.$embeds.length;a++)if(this.$modes[this.$embeds[a]]){var s=r.split(this.$embeds[a]);if(!s[0]&&s[1]){t[0]=s[1];o=this.$modes[this.$embeds[a]];return o[e].apply(o,t)}}var l=n.apply(this,t);return n?l:void 0},this.transformAction=function(e,t,n,r,i){if(this.$behaviour){var o=this.$behaviour.getBehaviours();for(var a in o)if(o[a][t]){var s=o[a][t].apply(this,arguments);if(s)return s}}},this.getKeywords=function(e){if(!this.completionKeywords){var t=this.$tokenizer.rules,n=[];for(var r in t)for(var i=t[r],o=0,a=i.length;o<a;o++)if("string"===typeof i[o].token)/keyword|support|storage/.test(i[o].token)&&n.push(i[o].regex);else if("object"===typeof i[o].token)for(var s=0,l=i[o].token.length;s<l;s++)if(/keyword|support|storage/.test(i[o].token[s])){r=i[o].regex.match(/\(.+?\)/g)[s];n.push(r.substr(1,r.length-2))}this.completionKeywords=n}return e?n.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(e,t,n,r){var i=this.$keywordList||this.$createKeywordList();return i.map((function(e){return{name:e,value:e,score:0,meta:"keyword"}}))},this.$id="ace/mode/text"}).call(d.prototype),t.Mode=d})),ace.define("ace/apply_delta",["require","exports","module"],(function(e,t,n){"use strict";t.applyDelta=function(e,t,n){var r=t.start.row,i=t.start.column,o=e[r]||"";switch(t.action){case"insert":var a=t.lines;if(1===a.length)e[r]=o.substring(0,i)+t.lines[0]+o.substring(i);else{var s=[r,1].concat(t.lines);e.splice.apply(e,s),e[r]=o.substring(0,i)+e[r],e[r+t.lines.length-1]+=o.substring(i)}break;case"remove":var l=t.end.column,c=t.end.row;r===c?e[r]=o.substring(0,i)+o.substring(l):e.splice(r,c-r+1,o.substring(0,i)+e[c].substring(l));break}}})),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./lib/event_emitter").EventEmitter,o=t.Anchor=function(e,t,n){this.$onChange=this.onChange.bind(this),this.attach(e),"undefined"==typeof n?this.setPosition(t.row,t.column):this.setPosition(t,n)};(function(){function e(e,t,n){var r=n?e.column<=t.column:e.column<t.column;return e.row<t.row||e.row==t.row&&r}function t(t,n,r){var i="insert"==t.action,o=(i?1:-1)*(t.end.row-t.start.row),a=(i?1:-1)*(t.end.column-t.start.column),s=t.start,l=i?s:t.end;return e(n,s,r)?{row:n.row,column:n.column}:e(l,n,!r)?{row:n.row+o,column:n.column+(n.row==l.row?a:0)}:{row:s.row,column:s.column}}r.implement(this,i),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(e){if((e.start.row!=e.end.row||e.start.row==this.row)&&!(e.start.row>this.row)){var n=t(e,{row:this.row,column:this.column},this.$insertRight);this.setPosition(n.row,n.column,!0)}},this.setPosition=function(e,t,n){var r;if(r=n?{row:e,column:t}:this.$clipPositionToDocument(e,t),this.row!=r.row||this.column!=r.column){var i={row:this.row,column:this.column};this.row=r.row,this.column=r.column,this._signal("change",{old:i,value:r})}},this.detach=function(){this.document.off("change",this.$onChange)},this.attach=function(e){this.document=e||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(e,t){var n={};return e>=this.document.getLength()?(n.row=Math.max(0,this.document.getLength()-1),n.column=this.document.getLine(n.row).length):e<0?(n.row=0,n.column=0):(n.row=e,n.column=Math.min(this.document.getLine(n.row).length,Math.max(0,t))),t<0&&(n.column=0),n}}).call(o.prototype)})),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],(function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./apply_delta").applyDelta,o=e("./lib/event_emitter").EventEmitter,a=e("./range").Range,s=e("./anchor").Anchor,l=function(e){this.$lines=[""],0===e.length?this.$lines=[""]:Array.isArray(e)?this.insertMergedLines({row:0,column:0},e):this.insert({row:0,column:0},e)};(function(){r.implement(this,o),this.setValue=function(e){var t=this.getLength()-1;this.remove(new a(0,0,t,this.getLine(t).length)),this.insert({row:0,column:0},e)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(e,t){return new s(this,e,t)},0==="aaa".split(/a/).length?this.$split=function(e){return e.replace(/\r\n|\r/g,"\n").split("\n")}:this.$split=function(e){return e.split(/\r\n|\r|\n/)},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=t?t[1]:"\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(e){this.$newLineMode!==e&&(this.$newLineMode=e,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(e){return"\r\n"==e||"\r"==e||"\n"==e},this.getLine=function(e){return this.$lines[e]||""},this.getLines=function(e,t){return this.$lines.slice(e,t+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(e){return this.getLinesForRange(e).join(this.getNewLineCharacter())},this.getLinesForRange=function(e){var t;if(e.start.row===e.end.row)t=[this.getLine(e.start.row).substring(e.start.column,e.end.column)];else{t=this.getLines(e.start.row,e.end.row),t[0]=(t[0]||"").substring(e.start.column);var n=t.length-1;e.end.row-e.start.row==n&&(t[n]=t[n].substring(0,e.end.column))}return t},this.insertLines=function(e,t){return this.insertFullLines(e,t)},this.removeLines=function(e,t){return this.removeFullLines(e,t)},this.insertNewLine=function(e){return this.insertMergedLines(e,["",""])},this.insert=function(e,t){return this.getLength()<=1&&this.$detectNewLine(t),this.insertMergedLines(e,this.$split(t))},this.insertInLine=function(e,t){var n=this.clippedPos(e.row,e.column),r=this.pos(e.row,e.column+t.length);return this.applyDelta({start:n,end:r,action:"insert",lines:[t]},!0),this.clonePos(r)},this.clippedPos=function(e,t){var n=this.getLength();void 0===e?e=n:e<0?e=0:e>=n&&(e=n-1,t=void 0);var r=this.getLine(e);return void 0==t&&(t=r.length),t=Math.min(Math.max(t,0),r.length),{row:e,column:t}},this.clonePos=function(e){return{row:e.row,column:e.column}},this.pos=function(e,t){return{row:e,column:t}},this.$clipPosition=function(e){var t=this.getLength();return e.row>=t?(e.row=Math.max(0,t-1),e.column=this.getLine(t-1).length):(e.row=Math.max(0,e.row),e.column=Math.min(Math.max(e.column,0),this.getLine(e.row).length)),e},this.insertFullLines=function(e,t){e=Math.min(Math.max(e,0),this.getLength());var n=0;e<this.getLength()?(t=t.concat([""]),n=0):(t=[""].concat(t),e--,n=this.$lines[e].length),this.insertMergedLines({row:e,column:n},t)},this.insertMergedLines=function(e,t){var n=this.clippedPos(e.row,e.column),r={row:n.row+t.length-1,column:(1==t.length?n.column:0)+t[t.length-1].length};return this.applyDelta({start:n,end:r,action:"insert",lines:t}),this.clonePos(r)},this.remove=function(e){var t=this.clippedPos(e.start.row,e.start.column),n=this.clippedPos(e.end.row,e.end.column);return this.applyDelta({start:t,end:n,action:"remove",lines:this.getLinesForRange({start:t,end:n})}),this.clonePos(t)},this.removeInLine=function(e,t,n){var r=this.clippedPos(e,t),i=this.clippedPos(e,n);return this.applyDelta({start:r,end:i,action:"remove",lines:this.getLinesForRange({start:r,end:i})},!0),this.clonePos(r)},this.removeFullLines=function(e,t){e=Math.min(Math.max(0,e),this.getLength()-1),t=Math.min(Math.max(0,t),this.getLength()-1);var n=t==this.getLength()-1&&e>0,r=t<this.getLength()-1,i=n?e-1:e,o=n?this.getLine(i).length:0,s=r?t+1:t,l=r?0:this.getLine(s).length,c=new a(i,o,s,l),u=this.$lines.slice(e,t+1);return this.applyDelta({start:c.start,end:c.end,action:"remove",lines:this.getLinesForRange(c)}),u},this.removeNewLine=function(e){e<this.getLength()-1&&e>=0&&this.applyDelta({start:this.pos(e,this.getLine(e).length),end:this.pos(e+1,0),action:"remove",lines:["",""]})},this.replace=function(e,t){return e instanceof a||(e=a.fromPoints(e.start,e.end)),0===t.length&&e.isEmpty()?e.start:t==this.getTextRange(e)?e.end:(this.remove(e),n=t?this.insert(e.start,t):e.start,n);var n},this.applyDeltas=function(e){for(var t=0;t<e.length;t++)this.applyDelta(e[t])},this.revertDeltas=function(e){for(var t=e.length-1;t>=0;t--)this.revertDelta(e[t])},this.applyDelta=function(e,t){var n="insert"==e.action;(n?e.lines.length<=1&&!e.lines[0]:!a.comparePoints(e.start,e.end))||(n&&e.lines.length>2e4?this.$splitAndapplyLargeDelta(e,2e4):(i(this.$lines,e,t),this._signal("change",e)))},this.$safeApplyDelta=function(e){var t=this.$lines.length;("remove"==e.action&&e.start.row<t&&e.end.row<t||"insert"==e.action&&e.start.row<=t)&&this.applyDelta(e)},this.$splitAndapplyLargeDelta=function(e,t){for(var n=e.lines,r=n.length-t+1,i=e.start.row,o=e.start.column,a=0,s=0;a<r;a=s){s+=t-1;var l=n.slice(a,s);l.push(""),this.applyDelta({start:this.pos(i+a,o),end:this.pos(i+s,o=0),action:e.action,lines:l},!0)}e.lines=n.slice(a),e.start.row=i+a,e.start.column=o,this.applyDelta(e,!0)},this.revertDelta=function(e){this.$safeApplyDelta({start:this.clonePos(e.start),end:this.clonePos(e.end),action:"insert"==e.action?"remove":"insert",lines:e.lines.slice()})},this.indexToPosition=function(e,t){for(var n=this.$lines||this.getAllLines(),r=this.getNewLineCharacter().length,i=t||0,o=n.length;i<o;i++)if(e-=n[i].length+r,e<0)return{row:i,column:e+n[i].length+r};return{row:o-1,column:e+n[o-1].length+r}},this.positionToIndex=function(e,t){for(var n=this.$lines||this.getAllLines(),r=this.getNewLineCharacter().length,i=0,o=Math.min(e.row,n.length),a=t||0;a<o;++a)i+=n[a].length+r;return i+e.column}}).call(l.prototype),t.Document=l})),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./lib/event_emitter").EventEmitter,o=function(e,t){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=e;var n=this;this.$worker=function(){if(n.running){var e=new Date,t=n.currentLine,r=-1,i=n.doc,o=t;while(n.lines[t])t++;var a=i.getLength(),s=0;n.running=!1;while(t<a){n.$tokenizeRow(t),r=t;do{t++}while(n.lines[t]);if(s++,s%5===0&&new Date-e>20){n.running=setTimeout(n.$worker,20);break}}n.currentLine=t,-1==r&&(r=t),o<=r&&n.fireUpdateEvent(o,r)}}};(function(){r.implement(this,i),this.setTokenizer=function(e){this.tokenizer=e,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(e){this.doc=e,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(e,t){var n={first:e,last:t};this._signal("update",{data:n})},this.start=function(e){this.currentLine=Math.min(e||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(e){var t=e.start.row,n=e.end.row-t;if(0===n)this.lines[t]=null;else if("remove"==e.action)this.lines.splice(t,n+1,null),this.states.splice(t,n+1,null);else{var r=Array(n+1);r.unshift(t,1),this.lines.splice.apply(this.lines,r),this.states.splice.apply(this.states,r)}this.currentLine=Math.min(t,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(e){return this.lines[e]||this.$tokenizeRow(e)},this.getState=function(e){return this.currentLine==e&&this.$tokenizeRow(e),this.states[e]||"start"},this.$tokenizeRow=function(e){var t=this.doc.getLine(e),n=this.states[e-1],r=this.tokenizer.getLineTokens(t,n,e);return this.states[e]+""!==r.state+""?(this.states[e]=r.state,this.lines[e+1]=null,this.currentLine>e+1&&(this.currentLine=e+1)):this.currentLine==e&&(this.currentLine=e+1),this.lines[e]=r.tokens}}).call(o.prototype),t.BackgroundTokenizer=o})),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],(function(e,t,n){"use strict";var r=e("./lib/lang"),i=(e("./lib/oop"),e("./range").Range),o=function(e,t,n){this.setRegexp(e),this.clazz=t,this.type=n||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(e){this.regExp+""!=e+""&&(this.regExp=e,this.cache=[])},this.update=function(e,t,n,o){if(this.regExp)for(var a=o.firstRow,s=o.lastRow,l=a;l<=s;l++){var c=this.cache[l];null==c&&(c=r.getMatchOffsets(n.getLine(l),this.regExp),c.length>this.MAX_RANGES&&(c=c.slice(0,this.MAX_RANGES)),c=c.map((function(e){return new i(l,e.offset,l,e.offset+e.length)})),this.cache[l]=c.length?c:"");for(var u=c.length;u--;)t.drawSingleLineMarker(e,c[u].toScreenRange(n),this.clazz,o)}}}).call(o.prototype),t.SearchHighlight=o})),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var r=e("../range").Range;function i(e,t){this.foldData=e,Array.isArray(t)?this.folds=t:t=this.folds=[t];var n=t[t.length-1];this.range=new r(t[0].start.row,t[0].start.column,n.end.row,n.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach((function(e){e.setFoldLine(this)}),this)}(function(){this.shiftRow=function(e){this.start.row+=e,this.end.row+=e,this.folds.forEach((function(t){t.start.row+=e,t.end.row+=e}))},this.addFold=function(e){if(e.sameRow){if(e.start.row<this.startRow||e.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(e),this.folds.sort((function(e,t){return-e.range.compareEnd(t.start.row,t.start.column)})),this.range.compareEnd(e.start.row,e.start.column)>0?(this.end.row=e.end.row,this.end.column=e.end.column):this.range.compareStart(e.end.row,e.end.column)<0&&(this.start.row=e.start.row,this.start.column=e.start.column)}else if(e.start.row==this.end.row)this.folds.push(e),this.end.row=e.end.row,this.end.column=e.end.column;else{if(e.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(e),this.start.row=e.start.row,this.start.column=e.start.column}e.foldLine=this},this.containsRow=function(e){return e>=this.start.row&&e<=this.end.row},this.walk=function(e,t,n){var r,i,o,a=0,s=this.folds,l=!0;null==t&&(t=this.end.row,n=this.end.column);for(var c=0;c<s.length;c++){if(r=s[c],i=r.range.compareStart(t,n),-1==i)return void e(null,t,n,a,l);if(o=e(null,r.start.row,r.start.column,a,l),o=!o&&e(r.placeholder,r.start.row,r.start.column,a),o||0===i)return;l=!r.sameRow,a=r.end.column}e(null,t,n,a,l)},this.getNextFoldTo=function(e,t){for(var n,r,i=0;i<this.folds.length;i++){if(n=this.folds[i],r=n.range.compareEnd(e,t),-1==r)return{fold:n,kind:"after"};if(0===r)return{fold:n,kind:"inside"}}return null},this.addRemoveChars=function(e,t,n){var r,i,o=this.getNextFoldTo(e,t);if(o)if(r=o.fold,"inside"==o.kind&&r.start.column!=t&&r.start.row!=e)window.console&&window.console.log(e,t,r);else if(r.start.row==e){i=this.folds;var a=i.indexOf(r);for(0===a&&(this.start.column+=n),a;a<i.length;a++){if(r=i[a],r.start.column+=n,!r.sameRow)return;r.end.column+=n}this.end.column+=n}},this.split=function(e,t){var n=this.getNextFoldTo(e,t);if(!n||"inside"==n.kind)return null;var r=n.fold,o=this.folds,a=this.foldData,s=o.indexOf(r),l=o[s-1];this.end.row=l.end.row,this.end.column=l.end.column,o=o.splice(s,o.length-s);var c=new i(a,o);return a.splice(a.indexOf(this)+1,0,c),c},this.merge=function(e){for(var t=e.folds,n=0;n<t.length;n++)this.addFold(t[n]);var r=this.foldData;r.splice(r.indexOf(e),1)},this.toString=function(){var e=[this.range.toString()+": ["];return this.folds.forEach((function(t){e.push("  "+t.toString())})),e.push("]"),e.join("\n")},this.idxToPosition=function(e){for(var t=0,n=0;n<this.folds.length;n++){var r=this.folds[n];if(e-=r.start.column-t,e<0)return{row:r.start.row,column:r.start.column+e};if(e-=r.placeholder.length,e<0)return r.start;t=r.end.column}return{row:this.end.row,column:this.end.column+e}}}).call(i.prototype),t.FoldLine=i})),ace.define("ace/range_list",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var r=e("./range").Range,i=r.comparePoints,o=function(){this.ranges=[],this.$bias=1};(function(){this.comparePoints=i,this.pointIndex=function(e,t,n){for(var r=this.ranges,o=n||0;o<r.length;o++){var a=r[o],s=i(e,a.end);if(!(s>0)){var l=i(e,a.start);return 0===s?t&&0!==l?-o-2:o:l>0||0===l&&!t?o:-o-1}}return-o-1},this.add=function(e){var t=!e.isEmpty(),n=this.pointIndex(e.start,t);n<0&&(n=-n-1);var r=this.pointIndex(e.end,t,n);return r<0?r=-r-1:r++,this.ranges.splice(n,r-n,e)},this.addList=function(e){for(var t=[],n=e.length;n--;)t.push.apply(t,this.add(e[n]));return t},this.substractPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges.splice(t,1)},this.merge=function(){var e=[],t=this.ranges;t=t.sort((function(e,t){return i(e.start,t.start)}));for(var n,r=t[0],o=1;o<t.length;o++){n=r,r=t[o];var a=i(n.end,r.start);a<0||(0!=a||n.isEmpty()||r.isEmpty())&&(i(n.end,r.end)<0&&(n.end.row=r.end.row,n.end.column=r.end.column),t.splice(o,1),e.push(r),r=n,o--)}return this.ranges=t,e},this.contains=function(e,t){return this.pointIndex({row:e,column:t})>=0},this.containsPoint=function(e){return this.pointIndex(e)>=0},this.rangeAtPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges[t]},this.clipRows=function(e,t){var n=this.ranges;if(n[0].start.row>t||n[n.length-1].start.row<e)return[];var r=this.pointIndex({row:e,column:0});r<0&&(r=-r-1);var i=this.pointIndex({row:t,column:0},r);i<0&&(i=-i-1);for(var o=[],a=r;a<i;a++)o.push(n[a]);return o},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(e){this.session&&this.detach(),this.session=e,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(e){for(var t=e.start,n=e.end,r=t.row,i=n.row,o=this.ranges,a=0,s=o.length;a<s;a++){var l=o[a];if(l.end.row>=r)break}if("insert"==e.action)for(var c=i-r,u=-t.column+n.column;a<s;a++){l=o[a];if(l.start.row>r)break;if(l.start.row==r&&l.start.column>=t.column&&(l.start.column==t.column&&this.$bias<=0||(l.start.column+=u,l.start.row+=c)),l.end.row==r&&l.end.column>=t.column){if(l.end.column==t.column&&this.$bias<0)continue;l.end.column==t.column&&u>0&&a<s-1&&l.end.column>l.start.column&&l.end.column==o[a+1].start.column&&(l.end.column-=u),l.end.column+=u,l.end.row+=c}}else for(c=r-i,u=t.column-n.column;a<s;a++){l=o[a];if(l.start.row>i)break;l.end.row<i&&(r<l.end.row||r==l.end.row&&t.column<l.end.column)?(l.end.row=r,l.end.column=t.column):l.end.row==i?l.end.column<=n.column?(c||l.end.column>t.column)&&(l.end.column=t.column,l.end.row=t.row):(l.end.column+=u,l.end.row+=c):l.end.row>i&&(l.end.row+=c),l.start.row<i&&(r<l.start.row||r==l.start.row&&t.column<l.start.column)?(l.start.row=r,l.start.column=t.column):l.start.row==i?l.start.column<=n.column?(c||l.start.column>t.column)&&(l.start.column=t.column,l.start.row=t.row):(l.start.column+=u,l.start.row+=c):l.start.row>i&&(l.start.row+=c)}if(0!=c&&a<s)for(;a<s;a++){l=o[a];l.start.row+=c,l.end.row+=c}}}).call(o.prototype),t.RangeList=o})),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list","ace/lib/oop"],(function(e,t,n){"use strict";var r=e("../range_list").RangeList,i=e("../lib/oop"),o=t.Fold=function(e,t){this.foldLine=null,this.placeholder=t,this.range=e,this.start=e.start,this.end=e.end,this.sameRow=e.start.row==e.end.row,this.subFolds=this.ranges=[]};function a(e,t){e.row-=t.row,0==e.row&&(e.column-=t.column)}function s(e,t){a(e.start,t),a(e.end,t)}function l(e,t){0==e.row&&(e.column+=t.column),e.row+=t.row}function c(e,t){l(e.start,t),l(e.end,t)}i.inherits(o,r),function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(e){this.foldLine=e,this.subFolds.forEach((function(t){t.setFoldLine(e)}))},this.clone=function(){var e=this.range.clone(),t=new o(e,this.placeholder);return this.subFolds.forEach((function(e){t.subFolds.push(e.clone())})),t.collapseChildren=this.collapseChildren,t},this.addSubFold=function(e){if(!this.range.isEqual(e)){s(e,this.start);for(var t=e.start.row,n=e.start.column,r=0,i=-1;r<this.subFolds.length;r++)if(i=this.subFolds[r].range.compare(t,n),1!=i)break;var o=this.subFolds[r],a=0;if(0==i){if(o.range.containsRange(e))return o.addSubFold(e);a=1}t=e.range.end.row,n=e.range.end.column;var l=r;for(i=-1;l<this.subFolds.length;l++)if(i=this.subFolds[l].range.compare(t,n),1!=i)break;0==i&&l++;for(var c=this.subFolds.splice(r,l-r,e),u=0==i?c.length-1:c.length,d=a;d<u;d++)e.addSubFold(c[d]);return e.setFoldLine(this.foldLine),e}},this.restoreRange=function(e){return c(e,this.start)}}.call(o.prototype)})),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],(function(e,t,n){"use strict";var r=e("../range").Range,i=e("./fold_line").FoldLine,o=e("./fold").Fold,a=e("../token_iterator").TokenIterator;function s(){this.getFoldAt=function(e,t,n){var r=this.getFoldLine(e);if(!r)return null;for(var i=r.folds,o=0;o<i.length;o++){var a=i[o].range;if(a.contains(e,t)){if(1==n&&a.isEnd(e,t)&&!a.isEmpty())continue;if(-1==n&&a.isStart(e,t)&&!a.isEmpty())continue;return i[o]}}},this.getFoldsInRange=function(e){var t=e.start,n=e.end,r=this.$foldData,i=[];t.column+=1,n.column-=1;for(var o=0;o<r.length;o++){var a=r[o].range.compareRange(e);if(2!=a){if(-2==a)break;for(var s=r[o].folds,l=0;l<s.length;l++){var c=s[l];if(a=c.range.compareRange(e),-2==a)break;if(2!=a){if(42==a)break;i.push(c)}}}}return t.column-=1,n.column+=1,i},this.getFoldsInRangeList=function(e){if(Array.isArray(e)){var t=[];e.forEach((function(e){t=t.concat(this.getFoldsInRange(e))}),this)}else t=this.getFoldsInRange(e);return t},this.getAllFolds=function(){for(var e=[],t=this.$foldData,n=0;n<t.length;n++)for(var r=0;r<t[n].folds.length;r++)e.push(t[n].folds[r]);return e},this.getFoldStringAt=function(e,t,n,r){if(r=r||this.getFoldLine(e),!r)return null;for(var i,o,a={end:{column:0}},s=0;s<r.folds.length;s++){o=r.folds[s];var l=o.range.compareEnd(e,t);if(-1==l){i=this.getLine(o.start.row).substring(a.end.column,o.start.column);break}if(0===l)return null;a=o}return i||(i=this.getLine(o.start.row).substring(a.end.column)),-1==n?i.substring(0,t-a.end.column):1==n?i.substring(t-a.end.column):i},this.getFoldLine=function(e,t){var n=this.$foldData,r=0;for(t&&(r=n.indexOf(t)),-1==r&&(r=0),r;r<n.length;r++){var i=n[r];if(i.start.row<=e&&i.end.row>=e)return i;if(i.end.row>e)return null}return null},this.getNextFoldLine=function(e,t){var n=this.$foldData,r=0;for(t&&(r=n.indexOf(t)),-1==r&&(r=0),r;r<n.length;r++){var i=n[r];if(i.end.row>=e)return i}return null},this.getFoldedRowCount=function(e,t){for(var n=this.$foldData,r=t-e+1,i=0;i<n.length;i++){var o=n[i],a=o.end.row,s=o.start.row;if(a>=t){s<t&&(s>=e?r-=t-s:r=0);break}a>=e&&(r-=s>=e?a-s:a-e+1)}return r},this.$addFoldLine=function(e){return this.$foldData.push(e),this.$foldData.sort((function(e,t){return e.start.row-t.start.row})),e},this.addFold=function(e,t){var n,r=this.$foldData,a=!1;e instanceof o?n=e:(n=new o(t,e),n.collapseChildren=t.collapseChildren),this.$clipRangeToDocument(n.range);var s=n.start.row,l=n.start.column,c=n.end.row,u=n.end.column,d=this.getFoldAt(s,l,1),f=this.getFoldAt(c,u,-1);if(d&&f==d)return d.addSubFold(n);d&&!d.range.isStart(s,l)&&this.removeFold(d),f&&!f.range.isEnd(c,u)&&this.removeFold(f);var h=this.getFoldsInRange(n.range);h.length>0&&(this.removeFolds(h),h.forEach((function(e){n.addSubFold(e)})));for(var p=0;p<r.length;p++){var m=r[p];if(c==m.start.row){m.addFold(n),a=!0;break}if(s==m.end.row){if(m.addFold(n),a=!0,!n.sameRow){var g=r[p+1];if(g&&g.start.row==c){m.merge(g);break}}break}if(c<=m.start.row)break}return a||(m=this.$addFoldLine(new i(this.$foldData,n))),this.$useWrapMode?this.$updateWrapData(m.start.row,m.start.row):this.$updateRowLengthCache(m.start.row,m.start.row),this.$modified=!0,this._signal("changeFold",{data:n,action:"add"}),n},this.addFolds=function(e){e.forEach((function(e){this.addFold(e)}),this)},this.removeFold=function(e){var t=e.foldLine,n=t.start.row,r=t.end.row,i=this.$foldData,o=t.folds;if(1==o.length)i.splice(i.indexOf(t),1);else if(t.range.isEnd(e.end.row,e.end.column))o.pop(),t.end.row=o[o.length-1].end.row,t.end.column=o[o.length-1].end.column;else if(t.range.isStart(e.start.row,e.start.column))o.shift(),t.start.row=o[0].start.row,t.start.column=o[0].start.column;else if(e.sameRow)o.splice(o.indexOf(e),1);else{var a=t.split(e.start.row,e.start.column);o=a.folds,o.shift(),a.start.row=o[0].start.row,a.start.column=o[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(n,r):this.$updateRowLengthCache(n,r)),this.$modified=!0,this._signal("changeFold",{data:e,action:"remove"})},this.removeFolds=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);t.forEach((function(e){this.removeFold(e)}),this),this.$modified=!0},this.expandFold=function(e){this.removeFold(e),e.subFolds.forEach((function(t){e.restoreRange(t),this.addFold(t)}),this),e.collapseChildren>0&&this.foldAll(e.start.row+1,e.end.row,e.collapseChildren-1),e.subFolds=[]},this.expandFolds=function(e){e.forEach((function(e){this.expandFold(e)}),this)},this.unfold=function(e,t){var n,i;if(null==e?(n=new r(0,0,this.getLength(),0),t=!0):n="number"==typeof e?new r(e,0,e,this.getLine(e).length):"row"in e?r.fromPoints(e,e):e,i=this.getFoldsInRangeList(n),t)this.removeFolds(i);else{var o=i;while(o.length)this.expandFolds(o),o=this.getFoldsInRangeList(n)}if(i.length)return i},this.isRowFolded=function(e,t){return!!this.getFoldLine(e,t)},this.getRowFoldEnd=function(e,t){var n=this.getFoldLine(e,t);return n?n.end.row:e},this.getRowFoldStart=function(e,t){var n=this.getFoldLine(e,t);return n?n.start.row:e},this.getFoldDisplayLine=function(e,t,n,r,i){null==r&&(r=e.start.row),null==i&&(i=0),null==t&&(t=e.end.row),null==n&&(n=this.getLine(t).length);var o=this.doc,a="";return e.walk((function(e,t,n,s){if(!(t<r)){if(t==r){if(n<i)return;s=Math.max(i,s)}a+=null!=e?e:o.getLine(t).substring(s,n)}}),t,n),a},this.getDisplayLine=function(e,t,n,r){var i,o=this.getFoldLine(e);return o?this.getFoldDisplayLine(o,e,t,n,r):(i=this.doc.getLine(e),i.substring(r||0,t||i.length))},this.$cloneFoldData=function(){var e=[];return e=this.$foldData.map((function(t){var n=t.folds.map((function(e){return e.clone()}));return new i(e,n)})),e},this.toggleFold=function(e){var t,n,r=this.selection,i=r.getRange();if(i.isEmpty()){var o=i.start;if(t=this.getFoldAt(o.row,o.column),t)return void this.expandFold(t);(n=this.findMatchingBracket(o))?1==i.comparePoint(n)?i.end=n:(i.start=n,i.start.column++,i.end.column--):(n=this.findMatchingBracket({row:o.row,column:o.column+1}))?(1==i.comparePoint(n)?i.end=n:i.start=n,i.start.column++):i=this.getCommentFoldRange(o.row,o.column)||i}else{var a=this.getFoldsInRange(i);if(e&&a.length)return void this.expandFolds(a);1==a.length&&(t=a[0])}if(t||(t=this.getFoldAt(i.start.row,i.start.column)),t&&t.range.toString()==i.toString())this.expandFold(t);else{var s="...";if(!i.isMultiLine()){if(s=this.getTextRange(i),s.length<4)return;s=s.trim().substring(0,2)+".."}this.addFold(s,i)}},this.getCommentFoldRange=function(e,t,n){var i=new a(this,e,t),o=i.getCurrentToken(),s=o.type;if(o&&/^comment|string/.test(s)){s=s.match(/comment|string/)[0],"comment"==s&&(s+="|doc-start");var l=new RegExp(s),c=new r;if(1!=n){do{o=i.stepBackward()}while(o&&l.test(o.type));i.stepForward()}if(c.start.row=i.getCurrentTokenRow(),c.start.column=i.getCurrentTokenColumn()+2,i=new a(this,e,t),-1!=n){var u=-1;do{if(o=i.stepForward(),-1==u){var d=this.getState(i.$row);l.test(d)||(u=i.$row)}else if(i.$row>u)break}while(o&&l.test(o.type));o=i.stepBackward()}else o=i.getCurrentToken();return c.end.row=i.getCurrentTokenRow(),c.end.column=i.getCurrentTokenColumn()+o.value.length-2,c}},this.foldAll=function(e,t,n){void 0==n&&(n=1e5);var r=this.foldWidgets;if(r){t=t||this.getLength(),e=e||0;for(var i=e;i<t;i++)if(null==r[i]&&(r[i]=this.getFoldWidget(i)),"start"==r[i]){var o=this.getFoldWidgetRange(i);if(o&&o.isMultiLine()&&o.end.row<=t&&o.start.row>=e){i=o.end.row;try{var a=this.addFold("...",o);a&&(a.collapseChildren=n)}catch(s){}}}}},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(e){if(!this.$foldStyles[e])throw new Error("invalid fold style: "+e+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=e){this.$foldStyle=e,"manual"==e&&this.unfold();var t=this.$foldMode;this.$setFolding(null),this.$setFolding(t)}},this.$setFolding=function(e){this.$foldMode!=e&&(this.$foldMode=e,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),e&&"manual"!=this.$foldStyle?(this.foldWidgets=[],this.getFoldWidget=e.getFoldWidget.bind(e,this,this.$foldStyle),this.getFoldWidgetRange=e.getFoldWidgetRange.bind(e,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)):this.foldWidgets=null)},this.getParentFoldRangeData=function(e,t){var n=this.foldWidgets;if(!n||t&&n[e])return{};var r,i=e-1;while(i>=0){var o=n[i];if(null==o&&(o=n[i]=this.getFoldWidget(i)),"start"==o){var a=this.getFoldWidgetRange(i);if(r||(r=a),a&&a.end.row>=e)break}i--}return{range:-1!==i&&a,firstRange:r}},this.onFoldWidgetClick=function(e,t){t=t.domEvent;var n={children:t.shiftKey,all:t.ctrlKey||t.metaKey,siblings:t.altKey},r=this.$toggleFoldWidget(e,n);if(!r){var i=t.target||t.srcElement;i&&/ace_fold-widget/.test(i.className)&&(i.className+=" ace_invalid")}},this.$toggleFoldWidget=function(e,t){if(this.getFoldWidget){var n=this.getFoldWidget(e),r=this.getLine(e),i="end"===n?-1:1,o=this.getFoldAt(e,-1===i?0:r.length,i);if(o)return t.children||t.all?this.removeFold(o):this.expandFold(o),o;var a=this.getFoldWidgetRange(e,!0);if(a&&!a.isMultiLine()&&(o=this.getFoldAt(a.start.row,a.start.column,1),o&&a.isEqual(o.range)))return this.removeFold(o),o;if(t.siblings){var s=this.getParentFoldRangeData(e);if(s.range)var l=s.range.start.row+1,c=s.range.end.row;this.foldAll(l,c,t.all?1e4:0)}else t.children?(c=a?a.end.row:this.getLength(),this.foldAll(e+1,c,t.all?1e4:0)):a&&(t.all&&(a.collapseChildren=1e4),this.addFold("...",a));return a}},this.toggleFoldWidget=function(e){var t=this.selection.getCursor().row;t=this.getRowFoldStart(t);var n=this.$toggleFoldWidget(t,{});if(!n){var r=this.getParentFoldRangeData(t,!0);if(n=r.range||r.firstRange,n){t=n.start.row;var i=this.getFoldAt(t,this.getLine(t).length,1);i?this.removeFold(i):this.addFold("...",n)}}},this.updateFoldWidgets=function(e){var t=e.start.row,n=e.end.row-t;if(0===n)this.foldWidgets[t]=null;else if("remove"==e.action)this.foldWidgets.splice(t,n+1,null);else{var r=Array(n+1);r.unshift(t,1),this.foldWidgets.splice.apply(this.foldWidgets,r)}},this.tokenizerUpdateFoldWidgets=function(e){var t=e.data;t.first!=t.last&&this.foldWidgets.length>t.first&&this.foldWidgets.splice(t.first,this.foldWidgets.length)}}t.Folding=s})),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],(function(e,t,n){"use strict";var r=e("../token_iterator").TokenIterator,i=e("../range").Range;function o(){this.findMatchingBracket=function(e,t){if(0==e.column)return null;var n=t||this.getLine(e.row).charAt(e.column-1);if(""==n)return null;var r=n.match(/([\(\[\{])|([\)\]\}])/);return r?r[1]?this.$findClosingBracket(r[1],e):this.$findOpeningBracket(r[2],e):null},this.getBracketRange=function(e){var t,n=this.getLine(e.row),r=!0,o=n.charAt(e.column-1),a=o&&o.match(/([\(\[\{])|([\)\]\}])/);if(a||(o=n.charAt(e.column),e={row:e.row,column:e.column+1},a=o&&o.match(/([\(\[\{])|([\)\]\}])/),r=!1),!a)return null;if(a[1]){var s=this.$findClosingBracket(a[1],e);if(!s)return null;t=i.fromPoints(e,s),r||(t.end.column++,t.start.column--),t.cursor=t.end}else{s=this.$findOpeningBracket(a[2],e);if(!s)return null;t=i.fromPoints(s,e),r||(t.start.column++,t.end.column--),t.cursor=t.start}return t},this.getMatchingBracketRanges=function(e){var t=this.getLine(e.row),n=t.charAt(e.column-1),r=n&&n.match(/([\(\[\{])|([\)\]\}])/);if(r||(n=t.charAt(e.column),e={row:e.row,column:e.column+1},r=n&&n.match(/([\(\[\{])|([\)\]\}])/)),!r)return null;var o=new i(e.row,e.column-1,e.row,e.column),a=r[1]?this.$findClosingBracket(r[1],e):this.$findOpeningBracket(r[2],e);if(!a)return[o];var s=new i(a.row,a.column,a.row,a.column+1);return[o,s]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(e,t,n){var i=this.$brackets[e],o=1,a=new r(this,t.row,t.column),s=a.getCurrentToken();if(s||(s=a.stepForward()),s){n||(n=new RegExp("(\\.?"+s.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));var l=t.column-a.getCurrentTokenColumn()-2,c=s.value;while(1){while(l>=0){var u=c.charAt(l);if(u==i){if(o-=1,0==o)return{row:a.getCurrentTokenRow(),column:l+a.getCurrentTokenColumn()}}else u==e&&(o+=1);l-=1}do{s=a.stepBackward()}while(s&&!n.test(s.type));if(null==s)break;c=s.value,l=c.length-1}return null}},this.$findClosingBracket=function(e,t,n){var i=this.$brackets[e],o=1,a=new r(this,t.row,t.column),s=a.getCurrentToken();if(s||(s=a.stepForward()),s){n||(n=new RegExp("(\\.?"+s.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));var l=t.column-a.getCurrentTokenColumn();while(1){var c=s.value,u=c.length;while(l<u){var d=c.charAt(l);if(d==i){if(o-=1,0==o)return{row:a.getCurrentTokenRow(),column:l+a.getCurrentTokenColumn()}}else d==e&&(o+=1);l+=1}do{s=a.stepForward()}while(s&&!n.test(s.type));if(null==s)break;l=0}return null}}}t.BracketMatch=o})),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],(function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./lib/lang"),o=e("./bidihandler").BidiHandler,a=e("./config"),s=e("./lib/event_emitter").EventEmitter,l=e("./selection").Selection,c=e("./mode/text").Mode,u=e("./range").Range,d=e("./document").Document,f=e("./background_tokenizer").BackgroundTokenizer,h=e("./search_highlight").SearchHighlight,p=function(e,t){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++p.$uid,this.$foldData.toString=function(){return this.join("\n")},this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof e&&e.getLine||(e=new d(e)),this.setDocument(e),this.selection=new l(this),this.$bidiHandler=new o(this),a.resetOptions(this),this.setMode(t),a._signal("session",this)};p.$uid=0,function(){r.implement(this,s),this.setDocument=function(e){this.doc&&this.doc.removeListener("change",this.$onChange),this.doc=e,e.on("change",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(e){if(!e)return this.$docRowCache=[],void(this.$screenRowCache=[]);var t=this.$docRowCache.length,n=this.$getRowCacheIndex(this.$docRowCache,e)+1;t>n&&(this.$docRowCache.splice(n,t),this.$screenRowCache.splice(n,t))},this.$getRowCacheIndex=function(e,t){var n=0,r=e.length-1;while(n<=r){var i=n+r>>1,o=e[i];if(t>o)n=i+1;else{if(!(t<o))return i;r=i-1}}return n-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0)},this.onChangeFold=function(e){var t=e.data;this.$resetRowCache(t.start.row)},this.onChange=function(e){this.$modified=!0,this.$bidiHandler.onChange(e),this.$resetRowCache(e.start.row);var t=this.$updateInternalDataOnChange(e);!this.$fromUndo&&this.$undoManager&&(t&&t.length&&(this.$undoManager.add({action:"removeFolds",folds:t},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(e,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer&&this.bgTokenizer.$updateOnChange(e),this._signal("change",e)},this.setValue=function(e){this.doc.setValue(e),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(e){return this.bgTokenizer.getState(e)},this.getTokens=function(e){return this.bgTokenizer.getTokens(e)},this.getTokenAt=function(e,t){var n,r=this.bgTokenizer.getTokens(e),i=0;if(null==t){var o=r.length-1;i=this.getLine(e).length}else for(o=0;o<r.length;o++)if(i+=r[o].value.length,i>=t)break;return n=r[o],n?(n.index=o,n.start=i-n.value.length,n):null},this.setUndoManager=function(e){if(this.$undoManager=e,this.$informUndoManager&&this.$informUndoManager.cancel(),e){var t=this;e.addSession(this),this.$syncInformUndoManager=function(){t.$informUndoManager.cancel(),t.mergeUndoDeltas=!1},this.$informUndoManager=i.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?i.stringRepeat(" ",this.getTabSize()):"\t"},this.setUseSoftTabs=function(e){this.setOption("useSoftTabs",e)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(e){this.setOption("tabSize",e)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(e){return this.$useSoftTabs&&e.column%this.$tabSize===0},this.setNavigateWithinSoftTabs=function(e){this.setOption("navigateWithinSoftTabs",e)},this.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},this.$overwrite=!1,this.setOverwrite=function(e){this.setOption("overwrite",e)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(e,t){this.$decorations[e]||(this.$decorations[e]=""),this.$decorations[e]+=" "+t,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(e,t){this.$decorations[e]=(this.$decorations[e]||"").replace(" "+t,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(e){this.$breakpoints=[];for(var t=0;t<e.length;t++)this.$breakpoints[e[t]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(e,t){void 0===t&&(t="ace_breakpoint"),t?this.$breakpoints[e]=t:delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(e){delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.addMarker=function(e,t,n,r){var i=this.$markerId++,o={range:e,type:n||"line",renderer:"function"==typeof n?n:null,clazz:t,inFront:!!r,id:i};return r?(this.$frontMarkers[i]=o,this._signal("changeFrontMarker")):(this.$backMarkers[i]=o,this._signal("changeBackMarker")),i},this.addDynamicMarker=function(e,t){if(e.update){var n=this.$markerId++;return e.id=n,e.inFront=!!t,t?(this.$frontMarkers[n]=e,this._signal("changeFrontMarker")):(this.$backMarkers[n]=e,this._signal("changeBackMarker")),e}},this.removeMarker=function(e){var t=this.$frontMarkers[e]||this.$backMarkers[e];if(t){var n=t.inFront?this.$frontMarkers:this.$backMarkers;delete n[e],this._signal(t.inFront?"changeFrontMarker":"changeBackMarker")}},this.getMarkers=function(e){return e?this.$frontMarkers:this.$backMarkers},this.highlight=function(e){if(!this.$searchHighlight){var t=new h(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(t)}this.$searchHighlight.setRegexp(e)},this.highlightLines=function(e,t,n,r){"number"!=typeof t&&(n=t,t=e),n||(n="ace_step");var i=new u(e,0,t,1/0);return i.id=this.addMarker(i,n,"fullLine",r),i},this.setAnnotations=function(e){this.$annotations=e,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r?\n)/m);this.$autoNewLine=t?t[1]:"\n"},this.getWordRange=function(e,t){var n=this.getLine(e),r=!1;if(t>0&&(r=!!n.charAt(t-1).match(this.tokenRe)),r||(r=!!n.charAt(t).match(this.tokenRe)),r)var i=this.tokenRe;else if(/^\s+$/.test(n.slice(t-1,t+1)))i=/\s/;else i=this.nonTokenRe;var o=t;if(o>0){do{o--}while(o>=0&&n.charAt(o).match(i));o++}var a=t;while(a<n.length&&n.charAt(a).match(i))a++;return new u(e,o,e,a)},this.getAWordRange=function(e,t){var n=this.getWordRange(e,t),r=this.getLine(n.end.row);while(r.charAt(n.end.column).match(/[ \t]/))n.end.column+=1;return n},this.setNewLineMode=function(e){this.doc.setNewLineMode(e)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(e){this.setOption("useWorker",e)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(e){var t=e.data;this.bgTokenizer.start(t.first),this._signal("tokenizerUpdate",e)},this.$modes=a.$modes,this.$mode=null,this.$modeId=null,this.setMode=function(e,t){if(e&&"object"===typeof e){if(e.getTokenizer)return this.$onChangeMode(e);var n=e,r=n.path}else r=e||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new c),this.$modes[r]&&!n)return this.$onChangeMode(this.$modes[r]),void(t&&t());this.$modeId=r,a.loadModule(["mode",r],function(e){if(this.$modeId!==r)return t&&t();this.$modes[r]&&!n?this.$onChangeMode(this.$modes[r]):e&&e.Mode&&(e=new e.Mode(n),n||(this.$modes[r]=e,e.$id=r),this.$onChangeMode(e)),t&&t()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},this.$onChangeMode=function(e,t){if(t||(this.$modeId=e.$id),this.$mode!==e){var n=this.$mode;this.$mode=e,this.$stopWorker(),this.$useWorker&&this.$startWorker();var r=e.getTokenizer();if(void 0!==r.on){var i=this.onReloadTokenizer.bind(this);r.on("update",i)}if(this.bgTokenizer)this.bgTokenizer.setTokenizer(r);else{this.bgTokenizer=new f(r);var o=this;this.bgTokenizer.on("update",(function(e){o._signal("tokenizerUpdate",e)}))}this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=e.tokenRe,this.nonTokenRe=e.nonTokenRe,t||(e.attachToSession&&e.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(e.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:n,mode:e}))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(e){a.warn("Could not load worker",e),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(e){this.$scrollTop===e||isNaN(e)||(this.$scrollTop=e,this._signal("changeScrollTop",e))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(e){this.$scrollLeft===e||isNaN(e)||(this.$scrollLeft=e,this._signal("changeScrollLeft",e))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var e=0;return this.lineWidgets.forEach((function(t){t&&t.screenWidth>e&&(e=t.screenWidth)})),this.lineWidgetWidth=e},this.$computeWidth=function(e){if(this.$modified||e){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var t=this.doc.getAllLines(),n=this.$rowLengthCache,r=0,i=0,o=this.$foldData[i],a=o?o.start.row:1/0,s=t.length,l=0;l<s;l++){if(l>a){if(l=o.end.row+1,l>=s)break;o=this.$foldData[i++],a=o?o.start.row:1/0}null==n[l]&&(n[l]=this.$getStringScreenWidth(t[l])[0]),n[l]>r&&(r=n[l])}this.screenWidth=r}},this.getLine=function(e){return this.doc.getLine(e)},this.getLines=function(e,t){return this.doc.getLines(e,t)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(e){return this.doc.getTextRange(e||this.selection.getRange())},this.insert=function(e,t){return this.doc.insert(e,t)},this.remove=function(e){return this.doc.remove(e)},this.removeFullLines=function(e,t){return this.doc.removeFullLines(e,t)},this.undoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=e.length-1;-1!=n;n--){var r=e[n];"insert"==r.action||"remove"==r.action?this.doc.revertDelta(r):r.folds&&this.addFolds(r.folds)}!t&&this.$undoSelect&&(e.selectionBefore?this.selection.fromJSON(e.selectionBefore):this.selection.setRange(this.$getUndoSelection(e,!0))),this.$fromUndo=!1}},this.redoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=0;n<e.length;n++){var r=e[n];"insert"!=r.action&&"remove"!=r.action||this.doc.$safeApplyDelta(r)}!t&&this.$undoSelect&&(e.selectionAfter?this.selection.fromJSON(e.selectionAfter):this.selection.setRange(this.$getUndoSelection(e,!1))),this.$fromUndo=!1}},this.setUndoSelect=function(e){this.$undoSelect=e},this.$getUndoSelection=function(e,t){function n(e){return t?"insert"!==e.action:"insert"===e.action}for(var r,i,o=0;o<e.length;o++){var a=e[o];a.start&&(r?n(a)?(i=a.start,-1==r.compare(i.row,i.column)&&r.setStart(i),i=a.end,1==r.compare(i.row,i.column)&&r.setEnd(i)):(i=a.start,-1==r.compare(i.row,i.column)&&(r=u.fromPoints(a.start,a.start))):r=n(a)?u.fromPoints(a.start,a.end):u.fromPoints(a.start,a.start))}return r},this.replace=function(e,t){return this.doc.replace(e,t)},this.moveText=function(e,t,n){var r=this.getTextRange(e),i=this.getFoldsInRange(e),o=u.fromPoints(t,t);if(!n){this.remove(e);var a=e.start.row-e.end.row,s=a?-e.end.column:e.start.column-e.end.column;s&&(o.start.row==e.end.row&&o.start.column>e.end.column&&(o.start.column+=s),o.end.row==e.end.row&&o.end.column>e.end.column&&(o.end.column+=s)),a&&o.start.row>=e.end.row&&(o.start.row+=a,o.end.row+=a)}if(o.end=this.insert(o.start,r),i.length){var l=e.start,c=o.start;a=c.row-l.row,s=c.column-l.column;this.addFolds(i.map((function(e){return e=e.clone(),e.start.row==l.row&&(e.start.column+=s),e.end.row==l.row&&(e.end.column+=s),e.start.row+=a,e.end.row+=a,e})))}return o},this.indentRows=function(e,t,n){n=n.replace(/\t/g,this.getTabString());for(var r=e;r<=t;r++)this.doc.insertInLine({row:r,column:0},n)},this.outdentRows=function(e){for(var t=e.collapseRows(),n=new u(0,0,0,0),r=this.getTabSize(),i=t.start.row;i<=t.end.row;++i){var o=this.getLine(i);n.start.row=i,n.end.row=i;for(var a=0;a<r;++a)if(" "!=o.charAt(a))break;a<r&&"\t"==o.charAt(a)?(n.start.column=a,n.end.column=a+1):(n.start.column=0,n.end.column=a),this.remove(n)}},this.$moveLines=function(e,t,n){if(e=this.getRowFoldStart(e),t=this.getRowFoldEnd(t),n<0){var r=this.getRowFoldStart(e+n);if(r<0)return 0;var i=r-e}else if(n>0){r=this.getRowFoldEnd(t+n);if(r>this.doc.getLength()-1)return 0;i=r-t}else{e=this.$clipRowToDocument(e),t=this.$clipRowToDocument(t);i=t-e+1}var o=new u(e,0,t,Number.MAX_VALUE),a=this.getFoldsInRange(o).map((function(e){return e=e.clone(),e.start.row+=i,e.end.row+=i,e})),s=0==n?this.doc.getLines(e,t):this.doc.removeFullLines(e,t);return this.doc.insertFullLines(e+i,s),a.length&&this.addFolds(a),i},this.moveLinesUp=function(e,t){return this.$moveLines(e,t,-1)},this.moveLinesDown=function(e,t){return this.$moveLines(e,t,1)},this.duplicateLines=function(e,t){return this.$moveLines(e,t,0)},this.$clipRowToDocument=function(e){return Math.max(0,Math.min(e,this.doc.getLength()-1))},this.$clipColumnToRow=function(e,t){return t<0?0:Math.min(this.doc.getLine(e).length,t)},this.$clipPositionToDocument=function(e,t){if(t=Math.max(0,t),e<0)e=0,t=0;else{var n=this.doc.getLength();e>=n?(e=n-1,t=this.doc.getLine(n-1).length):t=Math.min(this.doc.getLine(e).length,t)}return{row:e,column:t}},this.$clipRangeToDocument=function(e){e.start.row<0?(e.start.row=0,e.start.column=0):e.start.column=this.$clipColumnToRow(e.start.row,e.start.column);var t=this.doc.getLength()-1;return e.end.row>t?(e.end.row=t,e.end.column=this.doc.getLine(t).length):e.end.column=this.$clipColumnToRow(e.end.row,e.end.column),e},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(e){if(e!=this.$useWrapMode){if(this.$useWrapMode=e,this.$modified=!0,this.$resetRowCache(0),e){var t=this.getLength();this.$wrapData=Array(t),this.$updateWrapData(0,t-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(e,t){this.$wrapLimitRange.min===e&&this.$wrapLimitRange.max===t||(this.$wrapLimitRange={min:e,max:t},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(e,t){var n=this.$wrapLimitRange;n.max<0&&(n={min:t,max:t});var r=this.$constrainWrapLimit(e,n.min,n.max);return r!=this.$wrapLimit&&r>1&&(this.$wrapLimit=r,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)},this.$constrainWrapLimit=function(e,t,n){return t&&(e=Math.max(t,e)),n&&(e=Math.min(n,e)),e},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(e){this.setWrapLimitRange(e,e)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(e){var t=this.$useWrapMode,n=e.action,r=e.start,i=e.end,o=r.row,a=i.row,s=a-o,l=null;if(this.$updating=!0,0!=s)if("remove"===n){this[t?"$wrapData":"$rowLengthCache"].splice(o,s);var c=this.$foldData;l=this.getFoldsInRange(e),this.removeFolds(l);var u=this.getFoldLine(i.row),d=0;if(u){u.addRemoveChars(i.row,i.column,r.column-i.column),u.shiftRow(-s);var f=this.getFoldLine(o);f&&f!==u&&(f.merge(u),u=f),d=c.indexOf(u)+1}for(d;d<c.length;d++){u=c[d];u.start.row>=i.row&&u.shiftRow(-s)}a=o}else{var h=Array(s);h.unshift(o,0);var p=t?this.$wrapData:this.$rowLengthCache;p.splice.apply(p,h);c=this.$foldData,u=this.getFoldLine(o),d=0;if(u){var m=u.range.compareInside(r.row,r.column);0==m?(u=u.split(r.row,r.column),u&&(u.shiftRow(s),u.addRemoveChars(a,0,i.column-r.column))):-1==m&&(u.addRemoveChars(o,0,i.column-r.column),u.shiftRow(s)),d=c.indexOf(u)+1}for(d;d<c.length;d++){u=c[d];u.start.row>=o&&u.shiftRow(s)}}else{s=Math.abs(e.start.column-e.end.column),"remove"===n&&(l=this.getFoldsInRange(e),this.removeFolds(l),s=-s);u=this.getFoldLine(o);u&&u.addRemoveChars(o,r.column,s)}return t&&(this.$wrapData.length,this.doc.getLength()),this.$updating=!1,t?this.$updateWrapData(o,a):this.$updateRowLengthCache(o,a),l},this.$updateRowLengthCache=function(e,t,n){this.$rowLengthCache[e]=null,this.$rowLengthCache[t]=null},this.$updateWrapData=function(e,t){var r,i,a=this.doc.getAllLines(),s=this.getTabSize(),l=this.$wrapData,c=this.$wrapLimit,u=e;t=Math.min(t,a.length-1);while(u<=t)i=this.getFoldLine(u,i),i?(r=[],i.walk(function(e,t,i,s){var l;if(null!=e){l=this.$getDisplayTokens(e,r.length),l[0]=n;for(var c=1;c<l.length;c++)l[c]=o}else l=this.$getDisplayTokens(a[t].substring(s,i),r.length);r=r.concat(l)}.bind(this),i.end.row,a[i.end.row].length+1),l[i.start.row]=this.$computeWrapSplits(r,c,s),u=i.end.row+1):(r=this.$getDisplayTokens(a[u]),l[u]=this.$computeWrapSplits(r,c,s),u++)};var e=1,t=2,n=3,o=4,l=9,d=10,p=11,m=12;function g(e){return!(e<4352)&&(e>=4352&&e<=4447||e>=4515&&e<=4519||e>=4602&&e<=4607||e>=9001&&e<=9002||e>=11904&&e<=11929||e>=11931&&e<=12019||e>=12032&&e<=12245||e>=12272&&e<=12283||e>=12288&&e<=12350||e>=12353&&e<=12438||e>=12441&&e<=12543||e>=12549&&e<=12589||e>=12593&&e<=12686||e>=12688&&e<=12730||e>=12736&&e<=12771||e>=12784&&e<=12830||e>=12832&&e<=12871||e>=12880&&e<=13054||e>=13056&&e<=19903||e>=19968&&e<=42124||e>=42128&&e<=42182||e>=43360&&e<=43388||e>=44032&&e<=55203||e>=55216&&e<=55238||e>=55243&&e<=55291||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65106||e>=65108&&e<=65126||e>=65128&&e<=65131||e>=65281&&e<=65376||e>=65504&&e<=65510)}this.$computeWrapSplits=function(e,r,i){if(0==e.length)return[];var a=[],s=e.length,c=0,u=0,f=this.$wrapAsCode,h=this.$indentedSoftWrap,g=r<=Math.max(2*i,8)||!1===h?0:Math.floor(r/2);function v(){var t=0;if(0===g)return t;if(h)for(var n=0;n<e.length;n++){var r=e[n];if(r==d)t+=1;else{if(r!=p){if(r==m)continue;break}t+=i}}return f&&!1!==h&&(t+=i),Math.min(t,g)}function b(t){for(var n=t-c,r=c;r<t;r++){var i=e[r];12!==i&&2!==i||(n-=1)}a.length||(y=v(),a.indent=y),u+=n,a.push(u),c=t}var y=0;while(s-c>r-y){var C=c+r-y;if(e[C-1]>=d&&e[C]>=d)b(C);else if(e[C]!=n&&e[C]!=o){var w=Math.max(C-(r-(r>>2)),c-1);while(C>w&&e[C]<n)C--;if(f){while(C>w&&e[C]<n)C--;while(C>w&&e[C]==l)C--}else while(C>w&&e[C]<d)C--;C>w?b(++C):(C=c+r,e[C]==t&&C--,b(C-y))}else{for(C;C!=c-1;C--)if(e[C]==n)break;if(C>c){b(C);continue}for(C=c+r,C;C<e.length;C++)if(e[C]!=o)break;if(C==e.length)break;b(C)}}return a},this.$getDisplayTokens=function(n,r){var i,o=[];r=r||0;for(var a=0;a<n.length;a++){var s=n.charCodeAt(a);if(9==s){i=this.getScreenTabSize(o.length+r),o.push(p);for(var c=1;c<i;c++)o.push(m)}else 32==s?o.push(d):s>39&&s<48||s>57&&s<64?o.push(l):s>=4352&&g(s)?o.push(e,t):o.push(e)}return o},this.$getStringScreenWidth=function(e,t,n){if(0==t)return[0,0];var r,i;for(null==t&&(t=1/0),n=n||0,i=0;i<e.length;i++)if(r=e.charCodeAt(i),9==r?n+=this.getScreenTabSize(n):r>=4352&&g(r)?n+=2:n+=1,n>t)break;return[n,i]},this.lineWidgets=null,this.getRowLength=function(e){var t=1;return this.lineWidgets&&(t+=this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0),this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+t:t},this.getRowLineCount=function(e){return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1:1},this.getRowWrapIndent=function(e){if(this.$useWrapMode){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE),n=this.$wrapData[t.row];return n.length&&n[0]<t.column?n.indent:0}return 0},this.getScreenLastRowColumn=function(e){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE);return this.documentToScreenColumn(t.row,t.column)},this.getDocumentLastRowColumn=function(e,t){var n=this.documentToScreenRow(e,t);return this.getScreenLastRowColumn(n)},this.getDocumentLastRowColumnPosition=function(e,t){var n=this.documentToScreenRow(e,t);return this.screenToDocumentPosition(n,Number.MAX_VALUE/10)},this.getRowSplitData=function(e){return this.$useWrapMode?this.$wrapData[e]:void 0},this.getScreenTabSize=function(e){return this.$tabSize-(e%this.$tabSize|0)},this.screenToDocumentRow=function(e,t){return this.screenToDocumentPosition(e,t).row},this.screenToDocumentColumn=function(e,t){return this.screenToDocumentPosition(e,t).column},this.screenToDocumentPosition=function(e,t,n){if(e<0)return{row:0,column:0};var r,i,o=0,a=0,s=0,l=0,c=this.$screenRowCache,u=this.$getRowCacheIndex(c,e),d=c.length;if(d&&u>=0){s=c[u],o=this.$docRowCache[u];var f=e>c[d-1]}else f=!d;var h=this.getLength()-1,p=this.getNextFoldLine(o),m=p?p.start.row:1/0;while(s<=e){if(l=this.getRowLength(o),s+l>e||o>=h)break;s+=l,o++,o>m&&(o=p.end.row+1,p=this.getNextFoldLine(o,p),m=p?p.start.row:1/0),f&&(this.$docRowCache.push(o),this.$screenRowCache.push(s))}if(p&&p.start.row<=o)r=this.getFoldDisplayLine(p),o=p.start.row;else{if(s+l<=e||o>h)return{row:h,column:this.getLine(h).length};r=this.getLine(o),p=null}var g=0,v=Math.floor(e-s);if(this.$useWrapMode){var b=this.$wrapData[o];b&&(i=b[v],v>0&&b.length&&(g=b.indent,a=b[v-1]||b[b.length-1],r=r.substring(a)))}return void 0!==n&&this.$bidiHandler.isBidiRow(s+v,o,v)&&(t=this.$bidiHandler.offsetToCol(n)),a+=this.$getStringScreenWidth(r,t-g)[1],this.$useWrapMode&&a>=i&&(a=i-1),p?p.idxToPosition(a):{row:o,column:a}},this.documentToScreenPosition=function(e,t){if("undefined"===typeof t)var n=this.$clipPositionToDocument(e.row,e.column);else n=this.$clipPositionToDocument(e,t);e=n.row,t=n.column;var r=0,i=null,o=null;o=this.getFoldAt(e,t,1),o&&(e=o.start.row,t=o.start.column);var a,s=0,l=this.$docRowCache,c=this.$getRowCacheIndex(l,e),u=l.length;if(u&&c>=0){s=l[c],r=this.$screenRowCache[c];var d=e>l[u-1]}else d=!u;var f=this.getNextFoldLine(s),h=f?f.start.row:1/0;while(s<e){if(s>=h){if(a=f.end.row+1,a>e)break;f=this.getNextFoldLine(a,f),h=f?f.start.row:1/0}else a=s+1;r+=this.getRowLength(s),s=a,d&&(this.$docRowCache.push(s),this.$screenRowCache.push(r))}var p="";f&&s>=h?(p=this.getFoldDisplayLine(f,e,t),i=f.start.row):(p=this.getLine(e).substring(0,t),i=e);var m=0;if(this.$useWrapMode){var g=this.$wrapData[i];if(g){var v=0;while(p.length>=g[v])r++,v++;p=p.substring(g[v-1]||0,p.length),m=v>0?g.indent:0}}return this.lineWidgets&&this.lineWidgets[s]&&this.lineWidgets[s].rowsAbove&&(r+=this.lineWidgets[s].rowsAbove),{row:r,column:m+this.$getStringScreenWidth(p)[0]}},this.documentToScreenColumn=function(e,t){return this.documentToScreenPosition(e,t).column},this.documentToScreenRow=function(e,t){return this.documentToScreenPosition(e,t).row},this.getScreenLength=function(){var e=0,t=null;if(this.$useWrapMode){var n=this.$wrapData.length,r=0,i=(s=0,t=this.$foldData[s++],t?t.start.row:1/0);while(r<n){var o=this.$wrapData[r];e+=o?o.length+1:1,r++,r>i&&(r=t.end.row+1,t=this.$foldData[s++],i=t?t.start.row:1/0)}}else{e=this.getLength();for(var a=this.$foldData,s=0;s<a.length;s++)t=a[s],e-=t.end.row-t.start.row}return this.lineWidgets&&(e+=this.$getWidgetScreenLength()),e},this.$setFontMetrics=function(e){this.$enableVarChar&&(this.$getStringScreenWidth=function(t,n,r){if(0===n)return[0,0];var i,o;for(n||(n=1/0),r=r||0,o=0;o<t.length;o++)if(i=t.charAt(o),r+="\t"===i?this.getScreenTabSize(r):e.getCharacterWidth(i),r>n)break;return[r,o]})},this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null),this.$stopWorker(),this.removeAllListeners(),this.selection.detach()},this.isFullWidth=g}.call(p.prototype),e("./edit_session/folding").Folding.call(p.prototype),e("./edit_session/bracket_match").BracketMatch.call(p.prototype),a.defineOptions(p.prototype,"session",{wrap:{set:function(e){if(e&&"off"!=e?"free"==e?e=!0:"printMargin"==e?e=-1:"string"==typeof e&&(e=parseInt(e,10)||!1):e=!1,this.$wrap!=e)if(this.$wrap=e,e){var t="number"==typeof e?e:null;this.setWrapLimitRange(t,t),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(e){e="auto"==e?"text"!=this.$mode.type:"text"!=e,e!=this.$wrapAsCode&&(this.$wrapAsCode=e,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(e){this.$useWorker=e,this.$stopWorker(),e&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(e){e=parseInt(e),e>0&&this.$tabSize!==e&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=e,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(e){this.setFoldStyle(e)},handlesSet:!0},overwrite:{set:function(e){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(e){this.doc.setNewLineMode(e)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(e){this.setMode(e)},get:function(){return this.$modeId},handlesSet:!0}}),t.EditSession=p})),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],(function(e,t,n){"use strict";var r=e("./lib/lang"),i=e("./lib/oop"),o=e("./range").Range,a=function(){this.$options={}};function s(e,t){function n(e){return/\w/.test(e)||t.regExp?"\\b":""}return n(e[0])+e+n(e[e.length-1])}(function(){this.set=function(e){return i.mixin(this.$options,e),this},this.getOptions=function(){return r.copyObject(this.$options)},this.setOptions=function(e){this.$options=e},this.find=function(e){var t=this.$options,n=this.$matchIterator(e,t);if(!n)return!1;var r=null;return n.forEach((function(e,n,i,a){return r=new o(e,n,i,a),!(n==a&&t.start&&t.start.start&&0!=t.skipCurrent&&r.isEqual(t.start))||(r=null,!1)})),r},this.findAll=function(e){var t=this.$options;if(!t.needle)return[];this.$assembleRegExp(t);var n=t.range,i=n?e.getLines(n.start.row,n.end.row):e.doc.getAllLines(),a=[],s=t.re;if(t.$isMultiLine){var l,c=s.length,u=i.length-c;e:for(var d=s.offset||0;d<=u;d++){for(var f=0;f<c;f++)if(-1==i[d+f].search(s[f]))continue e;var h=i[d],p=i[d+c-1],m=h.length-h.match(s[0])[0].length,g=p.match(s[c-1])[0].length;l&&l.end.row===d&&l.end.column>m||(a.push(l=new o(d,m,d+c-1,g)),c>2&&(d=d+c-2))}}else for(var v=0;v<i.length;v++){var b=r.getMatchOffsets(i[v],s);for(f=0;f<b.length;f++){var y=b[f];a.push(new o(v,y.offset,v,y.offset+y.length))}}if(n){var C=n.start.column,w=n.start.column;v=0,f=a.length-1;while(v<f&&a[v].start.column<C&&a[v].start.row==n.start.row)v++;while(v<f&&a[f].end.column>w&&a[f].end.row==n.end.row)f--;for(a=a.slice(v,f+1),v=0,f=a.length;v<f;v++)a[v].start.row+=n.start.row,a[v].end.row+=n.start.row}return a},this.replace=function(e,t){var n=this.$options,r=this.$assembleRegExp(n);if(n.$isMultiLine)return t;if(r){var i=r.exec(e);if(!i||i[0].length!=e.length)return null;if(t=e.replace(r,t),n.preserveCase){t=t.split("");for(var o=Math.min(e.length,e.length);o--;){var a=e[o];a&&a.toLowerCase()!=a?t[o]=t[o].toUpperCase():t[o]=t[o].toLowerCase()}t=t.join("")}return t}},this.$assembleRegExp=function(e,t){if(e.needle instanceof RegExp)return e.re=e.needle;var n=e.needle;if(!e.needle)return e.re=!1;e.regExp||(n=r.escapeRegExp(n)),e.wholeWord&&(n=s(n,e));var i=e.caseSensitive?"gm":"gmi";if(e.$isMultiLine=!t&&/[\n\r]/.test(n),e.$isMultiLine)return e.re=this.$assembleMultilineRegExp(n,i);try{var o=new RegExp(n,i)}catch(a){o=!1}return e.re=o},this.$assembleMultilineRegExp=function(e,t){for(var n=e.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),r=[],i=0;i<n.length;i++)try{r.push(new RegExp(n[i],t))}catch(o){return!1}return r},this.$matchIterator=function(e,t){var n=this.$assembleRegExp(t);if(!n)return!1;var r=1==t.backwards,i=0!=t.skipCurrent,o=t.range,a=t.start;a||(a=o?o[r?"end":"start"]:e.selection.getRange()),a.start&&(a=a[i!=r?"end":"start"]);var s=o?o.start.row:0,l=o?o.end.row:e.getLength()-1;if(r)var c=function(e){var n=a.row;if(!d(n,a.column,e)){for(n--;n>=s;n--)if(d(n,Number.MAX_VALUE,e))return;if(0!=t.wrap)for(n=l,s=a.row;n>=s;n--)if(d(n,Number.MAX_VALUE,e))return}};else c=function(e){var n=a.row;if(!d(n,a.column,e)){for(n+=1;n<=l;n++)if(d(n,0,e))return;if(0!=t.wrap)for(n=s,l=a.row;n<=l;n++)if(d(n,0,e))return}};if(t.$isMultiLine)var u=n.length,d=function(t,i,o){var a=r?t-u+1:t;if(!(a<0)){var s=e.getLine(a),l=s.search(n[0]);if(!(!r&&l<i||-1===l)){for(var c=1;c<u;c++)if(s=e.getLine(a+c),-1==s.search(n[c]))return;var d=s.match(n[u-1])[0].length;if(!(r&&d>i))return!!o(a,l,a+u-1,d)||void 0}}};else if(r)d=function(t,r,i){var o,a=e.getLine(t),s=[],l=0;n.lastIndex=0;while(o=n.exec(a)){var c=o[0].length;if(l=o.index,!c){if(l>=a.length)break;n.lastIndex=l+=1}if(o.index+c>r)break;s.push(o.index,c)}for(var u=s.length-1;u>=0;u-=2){var d=s[u-1];c=s[u];if(i(t,d,t,d+c))return!0}};else d=function(t,r,i){var o,a,s=e.getLine(t);n.lastIndex=r;while(a=n.exec(s)){var l=a[0].length;if(o=a.index,i(t,o,t,o+l))return!0;if(!l&&(n.lastIndex=o+=1,o>=s.length))return!1}};return{forEach:c}}}).call(a.prototype),t.Search=a})),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(e,t,n){"use strict";var r=e("../lib/keys"),i=e("../lib/useragent"),o=r.KEY_MODS;function a(e,t){this.platform=t||(i.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(e),this.$singleCommand=!0}function s(e,t){a.call(this,e,t),this.$singleCommand=!1}s.prototype=a.prototype,function(){function e(e){return"object"==typeof e&&e.bindKey&&e.bindKey.position||(e.isDefault?-100:0)}this.addCommand=function(e){this.commands[e.name]&&this.removeCommand(e),this.commands[e.name]=e,e.bindKey&&this._buildKeyHash(e)},this.removeCommand=function(e,t){var n=e&&("string"===typeof e?e:e.name);e=this.commands[n],t||delete this.commands[n];var r=this.commandKeyBinding;for(var i in r){var o=r[i];if(o==e)delete r[i];else if(Array.isArray(o)){var a=o.indexOf(e);-1!=a&&(o.splice(a,1),1==o.length&&(r[i]=o[0]))}}},this.bindKey=function(e,t,n){if("object"==typeof e&&e&&(void 0==n&&(n=e.position),e=e[this.platform]),e)return"function"==typeof t?this.addCommand({exec:t,bindKey:e,name:t.name||e}):void e.split("|").forEach((function(e){var r="";if(-1!=e.indexOf(" ")){var i=e.split(/\s+/);e=i.pop(),i.forEach((function(e){var t=this.parseKeys(e),n=o[t.hashId]+t.key;r+=(r?" ":"")+n,this._addCommandToBinding(r,"chainKeys")}),this),r+=" "}var a=this.parseKeys(e),s=o[a.hashId]+a.key;this._addCommandToBinding(r+s,t,n)}),this)},this._addCommandToBinding=function(t,n,r){var i,o=this.commandKeyBinding;if(n)if(!o[t]||this.$singleCommand)o[t]=n;else{Array.isArray(o[t])?-1!=(i=o[t].indexOf(n))&&o[t].splice(i,1):o[t]=[o[t]],"number"!=typeof r&&(r=e(n));var a=o[t];for(i=0;i<a.length;i++){var s=a[i],l=e(s);if(l>r)break}a.splice(i,0,n)}else delete o[t]},this.addCommands=function(e){e&&Object.keys(e).forEach((function(t){var n=e[t];if(n){if("string"===typeof n)return this.bindKey(n,t);"function"===typeof n&&(n={exec:n}),"object"===typeof n&&(n.name||(n.name=t),this.addCommand(n))}}),this)},this.removeCommands=function(e){Object.keys(e).forEach((function(t){this.removeCommand(e[t])}),this)},this.bindKeys=function(e){Object.keys(e).forEach((function(t){this.bindKey(t,e[t])}),this)},this._buildKeyHash=function(e){this.bindKey(e.bindKey,e)},this.parseKeys=function(e){var t=e.toLowerCase().split(/[\-\+]([\-\+])?/).filter((function(e){return e})),n=t.pop(),i=r[n];if(r.FUNCTION_KEYS[i])n=r.FUNCTION_KEYS[i].toLowerCase();else{if(!t.length)return{key:n,hashId:-1};if(1==t.length&&"shift"==t[0])return{key:n.toUpperCase(),hashId:-1}}for(var o=0,a=t.length;a--;){var s=r.KEY_MODS[t[a]];if(null==s)return!1;o|=s}return{key:n,hashId:o}},this.findKeyCommand=function(e,t){var n=o[e]+t;return this.commandKeyBinding[n]},this.handleKeyboard=function(e,t,n,r){if(!(r<0)){var i=o[t]+n,a=this.commandKeyBinding[i];return e.$keyChain&&(e.$keyChain+=" "+i,a=this.commandKeyBinding[e.$keyChain]||a),!a||"chainKeys"!=a&&"chainKeys"!=a[a.length-1]?(e.$keyChain&&(t&&4!=t||1!=n.length?(-1==t||r>0)&&(e.$keyChain=""):e.$keyChain=e.$keyChain.slice(0,-i.length-1)),{command:a}):(e.$keyChain=e.$keyChain||i,{command:"null"})}},this.getStatusText=function(e,t){return t.$keyChain||""}}.call(a.prototype),t.HashHandler=a,t.MultiHashHandler=s})),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],(function(e,t,n){"use strict";var r=e("../lib/oop"),i=e("../keyboard/hash_handler").MultiHashHandler,o=e("../lib/event_emitter").EventEmitter,a=function(e,t){i.call(this,t,e),this.byName=this.commands,this.setDefaultHandler("exec",(function(e){return e.command.exec(e.editor,e.args||{})}))};r.inherits(a,i),function(){r.implement(this,o),this.exec=function(e,t,n){if(Array.isArray(e)){for(var r=e.length;r--;)if(this.exec(e[r],t,n))return!0;return!1}if("string"===typeof e&&(e=this.commands[e]),!e)return!1;if(t&&t.$readOnly&&!e.readOnly)return!1;if(0!=this.$checkCommandState&&e.isAvailable&&!e.isAvailable(t))return!1;var i={editor:t,command:e,args:n};return i.returnValue=this._emit("exec",i),this._signal("afterExec",i),!1!==i.returnValue},this.toggleRecording=function(e){if(!this.$inReplay)return e&&e._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(e){this.macro.push([e.command,e.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},this.replay=function(e){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(e);try{this.$inReplay=!0,this.macro.forEach((function(t){"string"==typeof t?this.exec(t,e):this.exec(t[0],e,t[1])}),this)}finally{this.$inReplay=!1}}},this.trimMacro=function(e){return e.map((function(e){return"string"!=typeof e[0]&&(e[0]=e[0].name),e[1]||(e=e[0]),e}))}}.call(a.prototype),t.CommandManager=a})),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],(function(e,t,n){"use strict";var r=e("../lib/lang"),i=e("../config"),o=e("../range").Range;function a(e,t){return{win:e,mac:t}}t.commands=[{name:"showSettingsMenu",bindKey:a("Ctrl-,","Command-,"),exec:function(e){i.loadModule("ace/ext/settings_menu",(function(t){t.init(e),e.showSettingsMenu()}))},readOnly:!0},{name:"goToNextError",bindKey:a("Alt-E","F4"),exec:function(e){i.loadModule("./ext/error_marker",(function(t){t.showErrorMarker(e,1)}))},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",bindKey:a("Alt-Shift-E","Shift-F4"),exec:function(e){i.loadModule("./ext/error_marker",(function(t){t.showErrorMarker(e,-1)}))},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:a("Ctrl-A","Command-A"),exec:function(e){e.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:a(null,"Ctrl-L"),exec:function(e){e.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:a("Ctrl-L","Command-L"),exec:function(e,t){"number"!==typeof t||isNaN(t)||e.gotoLine(t),e.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:a("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(e){e.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:a("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(e){e.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",bindKey:a("F2","F2"),exec:function(e){e.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",bindKey:a("Alt-F2","Alt-F2"),exec:function(e){e.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:a(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:a("Alt-0","Command-Option-0"),exec:function(e){e.session.foldAll(),e.session.unfold(e.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:a("Alt-Shift-0","Command-Option-Shift-0"),exec:function(e){e.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:a("Ctrl-K","Command-G"),exec:function(e){e.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:a("Ctrl-Shift-K","Command-Shift-G"),exec:function(e){e.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:a("Alt-K","Ctrl-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:a("Alt-Shift-K","Ctrl-Shift-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:a("Ctrl-F","Command-F"),exec:function(e){i.loadModule("ace/ext/searchbox",(function(t){t.Search(e)}))},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(e){e.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:a("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(e){e.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:a("Ctrl-Home","Command-Home|Command-Up"),exec:function(e){e.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:a("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(e){e.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:a("Up","Up|Ctrl-P"),exec:function(e,t){e.navigateUp(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:a("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(e){e.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:a("Ctrl-End","Command-End|Command-Down"),exec:function(e){e.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:a("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(e){e.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:a("Down","Down|Ctrl-N"),exec:function(e,t){e.navigateDown(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:a("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(e){e.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:a("Ctrl-Left","Option-Left"),exec:function(e){e.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:a("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:a("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(e){e.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:a("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(e){e.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:a("Left","Left|Ctrl-B"),exec:function(e,t){e.navigateLeft(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:a("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(e){e.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:a("Ctrl-Right","Option-Right"),exec:function(e){e.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:a("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:a("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(e){e.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:a("Shift-Right","Shift-Right"),exec:function(e){e.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:a("Right","Right|Ctrl-F"),exec:function(e,t){e.navigateRight(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(e){e.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:a(null,"Option-PageDown"),exec:function(e){e.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:a("PageDown","PageDown|Ctrl-V"),exec:function(e){e.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(e){e.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:a(null,"Option-PageUp"),exec:function(e){e.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(e){e.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:a("Ctrl-Up",null),exec:function(e){e.renderer.scrollBy(0,-2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:a("Ctrl-Down",null),exec:function(e){e.renderer.scrollBy(0,2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:a("Ctrl-Alt-E","Command-Option-E"),exec:function(e){e.commands.toggleRecording(e)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:a("Ctrl-Shift-E","Command-Shift-E"),exec:function(e){e.commands.replay(e)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:a("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(e){e.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:a("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(e){e.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:a("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(e){e.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:a(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(e){},readOnly:!0},{name:"cut",description:"Cut",exec:function(e){var t=e.$copyWithEmptySelection&&e.selection.isEmpty(),n=t?e.selection.getLineRange():e.selection.getRange();e._emit("cut",n),n.isEmpty()||e.session.remove(n),e.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(e,t){e.$handlePaste(t)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:a("Ctrl-D","Command-D"),exec:function(e){e.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:a("Ctrl-Shift-D","Command-Shift-D"),exec:function(e){e.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:a("Ctrl-Alt-S","Command-Alt-S"),exec:function(e){e.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:a("Ctrl-/","Command-/"),exec:function(e){e.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:a("Ctrl-Shift-/","Command-Shift-/"),exec:function(e){e.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:a("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(e){e.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:a("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(e){e.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:a("Ctrl-H","Command-Option-F"),exec:function(e){i.loadModule("ace/ext/searchbox",(function(t){t.Search(e,!0)}))}},{name:"undo",description:"Undo",bindKey:a("Ctrl-Z","Command-Z"),exec:function(e){e.undo()}},{name:"redo",description:"Redo",bindKey:a("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(e){e.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:a("Alt-Shift-Up","Command-Option-Up"),exec:function(e){e.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:a("Alt-Up","Option-Up"),exec:function(e){e.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:a("Alt-Shift-Down","Command-Option-Down"),exec:function(e){e.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:a("Alt-Down","Option-Down"),exec:function(e){e.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:a("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(e){e.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:a("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(e){e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:a("Shift-Delete",null),exec:function(e){if(!e.selection.isEmpty())return!1;e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:a("Alt-Backspace","Command-Backspace"),exec:function(e){e.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:a("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(e){e.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:a("Ctrl-Shift-Backspace",null),exec:function(e){var t=e.selection.getRange();t.start.column=0,e.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:a("Ctrl-Shift-Delete",null),exec:function(e){var t=e.selection.getRange();t.end.column=Number.MAX_VALUE,e.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:a("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(e){e.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:a("Ctrl-Delete","Alt-Delete"),exec:function(e){e.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:a("Shift-Tab","Shift-Tab"),exec:function(e){e.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:a("Tab","Tab"),exec:function(e){e.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:a("Ctrl-[","Ctrl-["),exec:function(e){e.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:a("Ctrl-]","Ctrl-]"),exec:function(e){e.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(e,t){e.insert(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(e,t){e.insert(r.stringRepeat(t.text||"",t.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:a(null,"Ctrl-O"),exec:function(e){e.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:a("Alt-Shift-X","Ctrl-T"),exec:function(e){e.transposeLetters()},multiSelectAction:function(e){e.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:a("Ctrl-U","Ctrl-U"),exec:function(e){e.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:a("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(e){e.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:a(null,null),exec:function(e){e.autoIndent()},multiSelectAction:"forEachLine",scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:a("Ctrl-Shift-L","Command-Shift-L"),exec:function(e){var t=e.selection.getRange();t.start.column=t.end.column=0,t.end.row++,e.selection.setRange(t,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",description:"Join lines",bindKey:a(null,null),exec:function(e){for(var t=e.selection.isBackwards(),n=t?e.selection.getSelectionLead():e.selection.getSelectionAnchor(),i=t?e.selection.getSelectionAnchor():e.selection.getSelectionLead(),a=e.session.doc.getLine(n.row).length,s=e.session.doc.getTextRange(e.selection.getRange()),l=s.replace(/\n\s*/," ").length,c=e.session.doc.getLine(n.row),u=n.row+1;u<=i.row+1;u++){var d=r.stringTrimLeft(r.stringTrimRight(e.session.doc.getLine(u)));0!==d.length&&(d=" "+d),c+=d}i.row+1<e.session.doc.getLength()-1&&(c+=e.session.doc.getNewLineCharacter()),e.clearSelection(),e.session.doc.replace(new o(n.row,0,i.row+2,0),c),l>0?(e.selection.moveCursorTo(n.row,n.column),e.selection.selectTo(n.row,n.column+l)):(a=e.session.doc.getLine(n.row).length>a?a+1:a,e.selection.moveCursorTo(n.row,a))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:a(null,null),exec:function(e){var t=e.session.doc.getLength()-1,n=e.session.doc.getLine(t).length,r=e.selection.rangeList.ranges,i=[];r.length<1&&(r=[e.selection.getRange()]);for(var a=0;a<r.length;a++)a==r.length-1&&(r[a].end.row===t&&r[a].end.column===n||i.push(new o(r[a].end.row,r[a].end.column,t,n))),0===a?0===r[a].start.row&&0===r[a].start.column||i.push(new o(0,0,r[a].start.row,r[a].start.column)):i.push(new o(r[a-1].end.row,r[a-1].end.column,r[a].start.row,r[a].start.column));e.exitMultiSelectMode(),e.clearSelection();for(a=0;a<i.length;a++)e.selection.addRange(i[a],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",exec:function(e){e.selection.clearSelection(),e.navigateLineEnd(),e.insert("\n")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",exec:function(e){e.selection.clearSelection();var t=e.getCursorPosition();e.selection.moveTo(t.row-1,Number.MAX_VALUE),e.insert("\n"),0===t.row&&e.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",description:"Open command pallete",bindKey:a("F1","F1"),exec:function(e){e.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:a(null,null),exec:function(e){e.prompt({$type:"modes"})},readOnly:!0}]})),ace.define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/clipboard"],(function(e,t,n){"use strict";e("./lib/fixoldbrowsers");var r=e("./lib/oop"),i=e("./lib/dom"),o=e("./lib/lang"),a=e("./lib/useragent"),s=e("./keyboard/textinput").TextInput,l=e("./mouse/mouse_handler").MouseHandler,c=e("./mouse/fold_handler").FoldHandler,u=e("./keyboard/keybinding").KeyBinding,d=e("./edit_session").EditSession,f=e("./search").Search,h=e("./range").Range,p=e("./lib/event_emitter").EventEmitter,m=e("./commands/command_manager").CommandManager,g=e("./commands/default_commands").commands,v=e("./config"),b=e("./token_iterator").TokenIterator,y=e("./clipboard"),C=function(e,t,n){this.$toDestroy=[];var r=e.getContainerElement();this.container=r,this.renderer=e,this.id="editor"+ ++C.$uid,this.commands=new m(a.isMac?"mac":"win",g),"object"==typeof document&&(this.textInput=new s(e.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new l(this),new c(this)),this.keyBinding=new u(this),this.$search=(new f).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=o.delayedCall(function(){this._signal("input",{}),this.session&&this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",(function(e,t){t._$emitInputEvent.schedule(31)})),this.setSession(t||n&&n.session||new d("")),v.resetOptions(this),n&&this.setOptions(n),v._signal("editor",this)};C.$uid=0,function(){r.implement(this,p),this.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=o.delayedCall(this.endOperation.bind(this,!0)),this.on("change",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(e){if(this.curOp){if(!e||this.curOp.command)return;this.prevOp=this.curOp}e||(this.previousCommand=null,e={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:e.command||{},args:e.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},this.endOperation=function(e){if(this.curOp&&this.session){if(e&&!1===e.returnValue||!this.session)return this.curOp=null;if(1==e&&this.curOp.command&&"mouse"==this.curOp.command.name)return;if(this._signal("beforeEndOperation"),!this.curOp)return;var t=this.curOp.command,n=t&&t.scrollIntoView;if(n){switch(n){case"center-animate":n="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var r=this.selection.getRange(),i=this.renderer.layerConfig;(r.start.row>=i.lastRow||r.end.row<=i.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead);break;default:break}"animate"==n&&this.renderer.animateScrolling(this.curOp.scrollTop)}var o=this.selection.toJSON();this.curOp.selectionAfter=o,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(o),this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(e){if(this.$mergeUndoDeltas){var t=this.prevOp,n=this.$mergeableCommands,r=t.command&&e.command.name==t.command.name;if("insertstring"==e.command.name){var i=e.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),r=r&&this.mergeNextCommand&&(!/\s/.test(i)||/\s/.test(t.args)),this.mergeNextCommand=!0}else r=r&&-1!==n.indexOf(e.command.name);"always"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&(r=!1),r?this.session.mergeUndoDeltas=!0:-1!==n.indexOf(e.command.name)&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(e,t){if(e&&"string"===typeof e&&"ace"!=e){this.$keybindingId=e;var n=this;v.loadModule(["keybinding",e],(function(r){n.$keybindingId==e&&n.keyBinding.setKeyboardHandler(r&&r.handler),t&&t()}))}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(e),t&&t()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(e){if(this.session!=e){this.curOp&&this.endOperation(),this.curOp={};var t=this.session;if(t){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var n=this.session.getSelection();n.off("changeCursor",this.$onCursorChange),n.off("changeSelection",this.$onSelectionChange)}this.session=e,e?(this.$onDocumentChange=this.onDocumentChange.bind(this),e.on("change",this.$onDocumentChange),this.renderer.setSession(e),this.$onChangeMode=this.onChangeMode.bind(this),e.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),e.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),e.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),e.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),e.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),e.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=e.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(e)),this._signal("changeSession",{session:e,oldSession:t}),this.curOp=null,t&&t._signal("changeEditor",{oldEditor:this}),e&&e._signal("changeEditor",{editor:this}),e&&e.bgTokenizer&&e.bgTokenizer.scheduleStart()}},this.getSession=function(){return this.session},this.setValue=function(e,t){return this.session.doc.setValue(e),t?1==t?this.navigateFileEnd():-1==t&&this.navigateFileStart():this.selectAll(),e},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(e){this.renderer.onResize(e)},this.setTheme=function(e,t){this.renderer.setTheme(e,t)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(e){this.renderer.setStyle(e)},this.unsetStyle=function(e){this.renderer.unsetStyle(e)},this.getFontSize=function(){return this.getOption("fontSize")||i.computedStyle(this.container).fontSize},this.setFontSize=function(e){this.setOption("fontSize",e)},this.$highlightBrackets=function(){if(!this.$highlightPending){var e=this;this.$highlightPending=!0,setTimeout((function(){e.$highlightPending=!1;var t=e.session;if(t&&t.bgTokenizer){t.$bracketHighlight&&(t.$bracketHighlight.markerIds.forEach((function(e){t.removeMarker(e)})),t.$bracketHighlight=null);var n=t.getMatchingBracketRanges(e.getCursorPosition());if(!n&&t.$mode.getMatching&&(n=t.$mode.getMatching(e.session)),n){var r="ace_bracket";Array.isArray(n)?1==n.length&&(r="ace_error_bracket"):n=[n],2==n.length&&(0==h.comparePoints(n[0].end,n[1].start)?n=[h.fromPoints(n[0].start,n[1].end)]:0==h.comparePoints(n[0].start,n[1].end)&&(n=[h.fromPoints(n[1].start,n[0].end)])),t.$bracketHighlight={ranges:n,markerIds:n.map((function(e){return t.addMarker(e,r,"text")}))}}}}),50)}},this.$highlightTags=function(){if(!this.$highlightTagPending){var e=this;this.$highlightTagPending=!0,setTimeout((function(){e.$highlightTagPending=!1;var t=e.session;if(t&&t.bgTokenizer){var n=e.getCursorPosition(),r=new b(e.session,n.row,n.column),i=r.getCurrentToken();if(!i||!/\b(?:tag-open|tag-name)/.test(i.type))return t.removeMarker(t.$tagHighlight),void(t.$tagHighlight=null);if(-1==i.type.indexOf("tag-open")||(i=r.stepForward(),i)){var o=i.value,a=0,s=r.stepBackward();if("<"==s.value)do{s=i,i=r.stepForward(),i&&i.value===o&&-1!==i.type.indexOf("tag-name")&&("<"===s.value?a++:"</"===s.value&&a--)}while(i&&a>=0);else{do{i=s,s=r.stepBackward(),i&&i.value===o&&-1!==i.type.indexOf("tag-name")&&("<"===s.value?a++:"</"===s.value&&a--)}while(s&&a<=0);r.stepForward()}if(!i)return t.removeMarker(t.$tagHighlight),void(t.$tagHighlight=null);var l=r.getCurrentTokenRow(),c=r.getCurrentTokenColumn(),u=new h(l,c,l,c+i.value.length),d=t.$backMarkers[t.$tagHighlight];t.$tagHighlight&&void 0!=d&&0!==u.compareRange(d.range)&&(t.removeMarker(t.$tagHighlight),t.$tagHighlight=null),t.$tagHighlight||(t.$tagHighlight=t.addMarker(u,"ace_bracket","text"))}}}),50)}},this.focus=function(){var e=this;setTimeout((function(){e.isFocused()||e.textInput.focus()})),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(e){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",e))},this.onBlur=function(e){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",e))},this.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$highlightTags(),this.$updateHighlightActiveLine()},this.onDocumentChange=function(e){var t=this.session.$useWrapMode,n=e.start.row==e.end.row?e.end.row:1/0;this.renderer.updateLines(e.start.row,n,t),this._signal("change",e),this.$cursorChange()},this.onTokenizerUpdate=function(e){var t=e.data;this.renderer.updateLines(t.first,t.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var e,t=this.getSession();if(this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(e=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(e=!1),!this.renderer.$maxLines||1!==this.session.getLength()||this.renderer.$minLines>1||(e=!1)),t.$highlightLineMarker&&!e)t.removeMarker(t.$highlightLineMarker.id),t.$highlightLineMarker=null;else if(!t.$highlightLineMarker&&e){var n=new h(e.row,e.column,e.row,1/0);n.id=t.addMarker(n,"ace_active-line","screenLine"),t.$highlightLineMarker=n}else e&&(t.$highlightLineMarker.start.row=e.row,t.$highlightLineMarker.end.row=e.row,t.$highlightLineMarker.start.column=e.column,t._signal("changeBackMarker"))},this.onSelectionChange=function(e){var t=this.session;if(t.$selectionMarker&&t.removeMarker(t.$selectionMarker),t.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var n=this.selection.getRange(),r=this.getSelectionStyle();t.$selectionMarker=t.addMarker(n,"ace_selection",r)}var i=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(i),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var e=this.session,t=this.getSelectionRange();if(!t.isEmpty()&&!t.isMultiLine()){var n=t.start.column,r=t.end.column,i=e.getLine(t.start.row),o=i.substring(n,r);if(!(o.length>5e3)&&/[\w\d]/.test(o)){var a=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:o}),s=i.substring(n-1,r+1);if(a.test(s))return a}}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(e){this.renderer.updateText(),this._emit("changeMode",e)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var e=this.getSelectedText(),t=this.session.doc.getNewLineCharacter(),n=!1;if(!e&&this.$copyWithEmptySelection){n=!0;for(var r=this.selection.getAllRanges(),i=0;i<r.length;i++){var o=r[i];i&&r[i-1].start.row==o.start.row||(e+=this.session.getLine(o.start.row)+t)}}var a={text:e};return this._signal("copy",a),y.lineMode=n?a.text:"",a.text},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(e,t){var n={text:e,event:t};this.commands.exec("paste",this,n)},this.$handlePaste=function(e){"string"==typeof e&&(e={text:e}),this._signal("paste",e);var t=e.text,n=t==y.lineMode,r=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)n?r.insert({row:this.selection.lead.row,column:0},t):this.insert(t);else if(n)this.selection.rangeList.ranges.forEach((function(e){r.insert({row:e.start.row,column:0},t)}));else{var i=t.split(/\r\n|\r|\n/),o=this.selection.rangeList.ranges,a=2==i.length&&(!i[0]||!i[1]);if(i.length!=o.length||a)return this.commands.exec("insertstring",this,t);for(var s=o.length;s--;){var l=o[s];l.isEmpty()||r.remove(l),r.insert(l.start,i[s])}}},this.execCommand=function(e,t){return this.commands.exec(e,this,t)},this.insert=function(e,t){var n=this.session,r=n.getMode(),i=this.getCursorPosition();if(this.getBehavioursEnabled()&&!t){var o=r.transformAction(n.getState(i.row),"insertion",this,n,e);o&&(e!==o.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),e=o.text)}if("\t"==e&&(e=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&-1==e.indexOf("\n")){a=new h.fromPoints(i,i);a.end.column+=e.length,this.session.remove(a)}}else{var a=this.getSelectionRange();i=this.session.remove(a),this.clearSelection()}if("\n"==e||"\r\n"==e){var s=n.getLine(i.row);if(i.column>s.search(/\S|$/)){var l=s.substr(i.column).search(/\S|$/);n.doc.removeInLine(i.row,i.column,i.column+l)}}this.clearSelection();var c=i.column,u=n.getState(i.row),d=(s=n.getLine(i.row),r.checkOutdent(u,s,e));if(n.insert(i,e),o&&o.selection&&(2==o.selection.length?this.selection.setSelectionRange(new h(i.row,c+o.selection[0],i.row,c+o.selection[1])):this.selection.setSelectionRange(new h(i.row+o.selection[0],o.selection[1],i.row+o.selection[2],o.selection[3]))),this.$enableAutoIndent){if(n.getDocument().isNewLine(e)){var f=r.getNextLineIndent(u,s.slice(0,i.column),n.getTabString());n.insert({row:i.row+1,column:0},f)}d&&r.autoOutdent(u,n,i.row)}},this.autoIndent=function(){var e,t,n=this.session,r=n.getMode();if(this.selection.isEmpty())e=0,t=n.doc.getLength()-1;else{var i=this.getSelectionRange();e=i.start.row,t=i.end.row}for(var o,a,s,l="",c="",u="",d=n.getTabString(),f=e;f<=t;f++)f>0&&(l=n.getState(f-1),c=n.getLine(f-1),u=r.getNextLineIndent(l,c,d)),o=n.getLine(f),a=r.$getIndent(o),u!==a&&(a.length>0&&(s=new h(f,0,f,a.length),n.remove(s)),u.length>0&&n.insert({row:f,column:0},u)),r.autoOutdent(l,n,f)},this.onTextInput=function(e,t){if(!t)return this.keyBinding.onTextInput(e);this.startOperation({command:{name:"insertstring"}});var n=this.applyComposition.bind(this,e,t);this.selection.rangeCount?this.forEachSelection(n):n(),this.endOperation()},this.applyComposition=function(e,t){if(t.extendLeft||t.extendRight){var n=this.selection.getRange();n.start.column-=t.extendLeft,n.end.column+=t.extendRight,n.start.column<0&&(n.start.row--,n.start.column+=this.session.getLine(n.start.row).length+1),this.selection.setRange(n),e||n.isEmpty()||this.remove()}if(!e&&this.selection.isEmpty()||this.insert(e,!0),t.restoreStart||t.restoreEnd){n=this.selection.getRange();n.start.column-=t.restoreStart,n.end.column-=t.restoreEnd,this.selection.setRange(n)}},this.onCommandKey=function(e,t,n){return this.keyBinding.onCommandKey(e,t,n)},this.setOverwrite=function(e){this.session.setOverwrite(e)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(e){this.setOption("scrollSpeed",e)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(e){this.setOption("dragDelay",e)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(e){this.setOption("selectionStyle",e)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(e){this.setOption("highlightActiveLine",e)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(e){this.setOption("highlightSelectedWord",e)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(e){this.renderer.setAnimatedScroll(e)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(e){this.renderer.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(e){this.renderer.setDisplayIndentGuides(e)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(e){this.renderer.setShowPrintMargin(e)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(e){this.renderer.setPrintMarginColumn(e)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(e){this.setOption("readOnly",e)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(e){this.setOption("behavioursEnabled",e)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(e){this.setOption("wrapBehavioursEnabled",e)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(e){this.setOption("showFoldWidgets",e)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(e){this.selection.isEmpty()&&("left"==e?this.selection.selectLeft():this.selection.selectRight());var t=this.getSelectionRange();if(this.getBehavioursEnabled()){var n=this.session,r=n.getState(t.start.row),i=n.getMode().transformAction(r,"deletion",this,n,t);if(0===t.end.column){var o=n.getTextRange(t);if("\n"==o[o.length-1]){var a=n.getLine(t.end.row);/^\s+$/.test(a)&&(t.end.column=a.length)}}i&&(t=i)}this.session.remove(t),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var e=this.getSelectionRange();e.start.column==e.end.column&&e.start.row==e.end.row&&(e.end.column=0,e.end.row++),this.session.remove(e),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var e=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(e)},this.transposeLetters=function(){if(this.selection.isEmpty()){var e=this.getCursorPosition(),t=e.column;if(0!==t){var n,r,i=this.session.getLine(e.row);t<i.length?(n=i.charAt(t)+i.charAt(t-1),r=new h(e.row,t-1,e.row,t+1)):(n=i.charAt(t-1)+i.charAt(t-2),r=new h(e.row,t-2,e.row,t)),this.session.replace(r,n),this.session.selection.moveToPosition(r.end)}}},this.toLowerCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toLowerCase()),this.selection.setSelectionRange(e)},this.toUpperCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toUpperCase()),this.selection.setSelectionRange(e)},this.indent=function(){var e=this.session,t=this.getSelectionRange();if(!(t.start.row<t.end.row)){if(t.start.column<t.end.column){var n=e.getTextRange(t);if(!/^\s+$/.test(n)){u=this.$getSelectedRows();return void e.indentRows(u.first,u.last,"\t")}}var r=e.getLine(t.start.row),i=t.start,a=e.getTabSize(),s=e.documentToScreenColumn(i.row,i.column);if(this.session.getUseSoftTabs())var l=a-s%a,c=o.stringRepeat(" ",l);else{l=s%a;while(" "==r[t.start.column-1]&&l)t.start.column--,l--;this.selection.setSelectionRange(t),c="\t"}return this.insert(c)}var u=this.$getSelectedRows();e.indentRows(u.first,u.last,"\t")},this.blockIndent=function(){var e=this.$getSelectedRows();this.session.indentRows(e.first,e.last,"\t")},this.blockOutdent=function(){var e=this.session.getSelection();this.session.outdentRows(e.getRange())},this.sortLines=function(){for(var e=this.$getSelectedRows(),t=this.session,n=[],r=e.first;r<=e.last;r++)n.push(t.getLine(r));n.sort((function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0}));var i=new h(0,0,0,0);for(r=e.first;r<=e.last;r++){var o=t.getLine(r);i.start.row=r,i.end.row=r,i.end.column=o.length,t.replace(i,n[r-e.first])}},this.toggleCommentLines=function(){var e=this.session.getState(this.getCursorPosition().row),t=this.$getSelectedRows();this.session.getMode().toggleCommentLines(e,this.session,t.first,t.last)},this.toggleBlockComment=function(){var e=this.getCursorPosition(),t=this.session.getState(e.row),n=this.getSelectionRange();this.session.getMode().toggleBlockComment(t,this.session,n,e)},this.getNumberAt=function(e,t){var n=/[\-]?[0-9]+(?:\.[0-9]+)?/g;n.lastIndex=0;var r=this.session.getLine(e);while(n.lastIndex<t){var i=n.exec(r);if(i.index<=t&&i.index+i[0].length>=t){var o={value:i[0],start:i.index,end:i.index+i[0].length};return o}}return null},this.modifyNumber=function(e){var t=this.selection.getCursor().row,n=this.selection.getCursor().column,r=new h(t,n-1,t,n),i=this.session.getTextRange(r);if(!isNaN(parseFloat(i))&&isFinite(i)){var o=this.getNumberAt(t,n);if(o){var a=o.value.indexOf(".")>=0?o.start+o.value.indexOf(".")+1:o.end,s=o.start+o.value.length-a,l=parseFloat(o.value);l*=Math.pow(10,s),a!==o.end&&n<a?e*=Math.pow(10,o.end-n-1):e*=Math.pow(10,o.end-n),l+=e,l/=Math.pow(10,s);var c=l.toFixed(s),u=new h(t,o.start,t,o.end);this.session.replace(u,c),this.moveCursorTo(t,Math.max(o.start+1,n+c.length-o.value.length))}}else this.toggleWord()},this.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],this.toggleWord=function(){var e=this.selection.getCursor().row,t=this.selection.getCursor().column;this.selection.selectWord();var n=this.getSelectedText(),r=this.selection.getWordRange().start.column,i=n.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),a=t-r-1;a<0&&(a=0);var s=0,l=0,c=this;n.match(/[A-Za-z0-9_]+/)&&i.forEach((function(t,i){l=s+t.length,a>=s&&a<=l&&(n=t,c.selection.clearSelection(),c.moveCursorTo(e,s+r),c.selection.selectTo(e,l+r)),s=l}));for(var u,d=this.$toggleWordPairs,f=0;f<d.length;f++)for(var h=d[f],p=0;p<=1;p++){var m=+!p,g=n.match(new RegExp("^\\s?_?("+o.escapeRegExp(h[p])+")\\s?$","i"));if(g){var v=n.match(new RegExp("([_]|^|\\s)("+o.escapeRegExp(g[1])+")($|\\s)","g"));v&&(u=n.replace(new RegExp(o.escapeRegExp(h[p]),"i"),(function(e){var t=h[m];return e.toUpperCase()==e?t=t.toUpperCase():e.charAt(0).toUpperCase()==e.charAt(0)&&(t=t.substr(0,0)+h[m].charAt(0).toUpperCase()+t.substr(1)),t})),this.insert(u),u="")}}},this.removeLines=function(){var e=this.$getSelectedRows();this.session.removeFullLines(e.first,e.last),this.clearSelection()},this.duplicateSelection=function(){var e=this.selection,t=this.session,n=e.getRange(),r=e.isBackwards();if(n.isEmpty()){var i=n.start.row;t.duplicateLines(i,i)}else{var o=r?n.start:n.end,a=t.insert(o,t.getTextRange(n),!1);n.start=o,n.end=a,e.setSelectionRange(n,r)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(e,t,n){return this.session.moveText(e,t,n)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(e,t){var n,r,i=this.selection;if(!i.inMultiSelectMode||this.inVirtualSelectionMode){var o=i.toOrientedRange();n=this.$getSelectedRows(o),r=this.session.$moveLines(n.first,n.last,t?0:e),t&&-1==e&&(r=0),o.moveBy(r,0),i.fromOrientedRange(o)}else{var a=i.rangeList.ranges;i.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var s=0,l=0,c=a.length,u=0;u<c;u++){var d=u;a[u].moveBy(s,0),n=this.$getSelectedRows(a[u]);var f=n.first,h=n.last;while(++u<c){l&&a[u].moveBy(l,0);var p=this.$getSelectedRows(a[u]);if(t&&p.first!=h)break;if(!t&&p.first>h+1)break;h=p.last}u--,s=this.session.$moveLines(f,h,t?0:e),t&&-1==e&&(d=u+1);while(d<=u)a[d].moveBy(s,0),d++;t||(s=0),l+=s}i.fromOrientedRange(i.ranges[0]),i.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(e){return e=(e||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(e.start.row),last:this.session.getRowFoldEnd(e.end.row)}},this.onCompositionStart=function(e){this.renderer.showComposition(e)},this.onCompositionUpdate=function(e){this.renderer.setCompositionText(e)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(e){return e>=this.getFirstVisibleRow()&&e<=this.getLastVisibleRow()},this.isRowFullyVisible=function(e){return e>=this.renderer.getFirstFullyVisibleRow()&&e<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(e,t){var n=this.renderer,r=this.renderer.layerConfig,i=e*Math.floor(r.height/r.lineHeight);!0===t?this.selection.$moveSelection((function(){this.moveCursorBy(i,0)})):!1===t&&(this.selection.moveCursorBy(i,0),this.selection.clearSelection());var o=n.scrollTop;n.scrollBy(0,i*r.lineHeight),null!=t&&n.scrollCursorIntoView(null,.5),n.animateScrolling(o)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(e){this.renderer.scrollToRow(e)},this.scrollToLine=function(e,t,n,r){this.renderer.scrollToLine(e,t,n,r)},this.centerSelection=function(){var e=this.getSelectionRange(),t={row:Math.floor(e.start.row+(e.end.row-e.start.row)/2),column:Math.floor(e.start.column+(e.end.column-e.start.column)/2)};this.renderer.alignCursor(t,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.selection.selectAll()},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(e,t){this.selection.moveCursorTo(e,t)},this.moveCursorToPosition=function(e){this.selection.moveCursorToPosition(e)},this.jumpToMatching=function(e,t){var n=this.getCursorPosition(),r=new b(this.session,n.row,n.column),i=r.getCurrentToken(),o=i||r.stepForward();if(o){var a,s,l=!1,c={},u=n.column-o.start,d={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(o.value.match(/[{}()\[\]]/g)){for(;u<o.value.length&&!l;u++)if(d[o.value[u]])switch(s=d[o.value[u]]+"."+o.type.replace("rparen","lparen"),isNaN(c[s])&&(c[s]=0),o.value[u]){case"(":case"[":case"{":c[s]++;break;case")":case"]":case"}":c[s]--,-1===c[s]&&(a="bracket",l=!0);break}}else-1!==o.type.indexOf("tag-name")&&(isNaN(c[o.value])&&(c[o.value]=0),"<"===i.value?c[o.value]++:"</"===i.value&&c[o.value]--,-1===c[o.value]&&(a="tag",l=!0));l||(i=o,o=r.stepForward(),u=0)}while(o&&!l);if(a){var f,p;if("bracket"===a)f=this.session.getBracketRange(n),f||(f=new h(r.getCurrentTokenRow(),r.getCurrentTokenColumn()+u-1,r.getCurrentTokenRow(),r.getCurrentTokenColumn()+u-1),p=f.start,(t||p.row===n.row&&Math.abs(p.column-n.column)<2)&&(f=this.session.getBracketRange(p)));else if("tag"===a){if(!o||-1===o.type.indexOf("tag-name"))return;var m=o.value;if(f=new h(r.getCurrentTokenRow(),r.getCurrentTokenColumn()-2,r.getCurrentTokenRow(),r.getCurrentTokenColumn()-2),0===f.compare(n.row,n.column)){l=!1;do{o=i,i=r.stepBackward(),i&&(-1!==i.type.indexOf("tag-close")&&f.setEnd(r.getCurrentTokenRow(),r.getCurrentTokenColumn()+1),o.value===m&&-1!==o.type.indexOf("tag-name")&&("<"===i.value?c[m]++:"</"===i.value&&c[m]--,0===c[m]&&(l=!0)))}while(i&&!l)}o&&o.type.indexOf("tag-name")&&(p=f.start,p.row==n.row&&Math.abs(p.column-n.column)<2&&(p=f.end))}p=f&&f.cursor||p,p&&(e?f&&t?this.selection.setRange(f):f&&f.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(p.row,p.column):this.selection.moveTo(p.row,p.column))}}},this.gotoLine=function(e,t,n){this.selection.clearSelection(),this.session.unfold({row:e-1,column:t||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(e-1,t||0),this.isRowFullyVisible(e-1)||this.scrollToLine(e-1,!0,n)},this.navigateTo=function(e,t){this.selection.moveTo(e,t)},this.navigateUp=function(e){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(-e||-1,0)},this.navigateDown=function(e){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(e||1,0)},this.navigateLeft=function(e){if(this.selection.isEmpty()){e=e||1;while(e--)this.selection.moveCursorLeft()}else{var t=this.getSelectionRange().start;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateRight=function(e){if(this.selection.isEmpty()){e=e||1;while(e--)this.selection.moveCursorRight()}else{var t=this.getSelectionRange().end;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(e,t){t&&this.$search.set(t);var n=this.$search.find(this.session),r=0;return n?(this.$tryReplace(n,e)&&(r=1),this.selection.setSelectionRange(n),this.renderer.scrollSelectionIntoView(n.start,n.end),r):r},this.replaceAll=function(e,t){t&&this.$search.set(t);var n=this.$search.findAll(this.session),r=0;if(!n.length)return r;var i=this.getSelectionRange();this.selection.moveTo(0,0);for(var o=n.length-1;o>=0;--o)this.$tryReplace(n[o],e)&&r++;return this.selection.setSelectionRange(i),r},this.$tryReplace=function(e,t){var n=this.session.getTextRange(e);return t=this.$search.replace(n,t),null!==t?(e.end=this.session.replace(e,t),e):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(e,t,n){t||(t={}),"string"==typeof e||e instanceof RegExp?t.needle=e:"object"==typeof e&&r.mixin(t,e);var i=this.selection.getRange();null==t.needle&&(e=this.session.getTextRange(i)||this.$search.$options.needle,e||(i=this.session.getWordRange(i.start.row,i.start.column),e=this.session.getTextRange(i)),this.$search.set({needle:e})),this.$search.set(t),t.start||this.$search.set({start:i});var o=this.$search.find(this.session);return t.preventScroll?o:o?(this.revealRange(o,n),o):(t.backwards?i.start=i.end:i.end=i.start,void this.selection.setRange(i))},this.findNext=function(e,t){this.find({skipCurrent:!0,backwards:!1},e,t)},this.findPrevious=function(e,t){this.find(e,{skipCurrent:!0,backwards:!0},t)},this.revealRange=function(e,t){this.session.unfold(e),this.selection.setSelectionRange(e);var n=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(e.start,e.end,.5),!1!==t&&this.renderer.animateScrolling(n)},this.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach((function(e){e.destroy()})),this.$toDestroy=null),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},this.setAutoScrollEditorIntoView=function(e){if(e){var t,n=this,r=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var i=this.$scrollAnchor;i.style.cssText="position:absolute",this.container.insertBefore(i,this.container.firstChild);var o=this.on("changeSelection",(function(){r=!0})),a=this.renderer.on("beforeRender",(function(){r&&(t=n.renderer.container.getBoundingClientRect())})),s=this.renderer.on("afterRender",(function(){if(r&&t&&(n.isFocused()||n.searchBox&&n.searchBox.isFocused())){var e=n.renderer,o=e.$cursorLayer.$pixelPos,a=e.layerConfig,s=o.top-a.offset;r=o.top>=0&&s+t.top<0||!(o.top<a.height&&o.top+t.top+a.lineHeight>window.innerHeight)&&null,null!=r&&(i.style.top=s+"px",i.style.left=o.left+"px",i.style.height=a.lineHeight+"px",i.scrollIntoView(r)),r=t=null}}));this.setAutoScrollEditorIntoView=function(e){e||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",o),this.renderer.off("afterRender",s),this.renderer.off("beforeRender",a))}}},this.$resetCursorStyle=function(){var e=this.$cursorStyle||"ace",t=this.renderer.$cursorLayer;t&&(t.setSmoothBlinking(/smooth/.test(e)),t.isBlinking=!this.$readOnly&&"wide"!=e,i.setCssClass(t.element,"ace_slim-cursors",/slim/.test(e)))},this.prompt=function(e,t,n){var r=this;v.loadModule("./ext/prompt",(function(i){i.prompt(r,e,t,n)}))}}.call(C.prototype),v.defineOptions(C.prototype,"editor",{selectionStyle:{set:function(e){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:e})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(e){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(e){this.textInput.setReadOnly(e),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(e){this.textInput.setCopyWithEmptySelection(e)},initialValue:!1},cursorStyle:{set:function(e){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(e){this.setAutoScrollEditorIntoView(e)}},keyboardHandler:{set:function(e){this.setKeyboardHandler(e)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(e){this.session.setValue(e)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(e){this.setSession(e)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(e){this.renderer.$gutterLayer.setShowLineNumbers(e),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),e&&this.$relativeLineNumbers?w.attach(this):w.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(e){this.$showLineNumbers&&e?w.attach(this):w.detach(this)}},placeholder:{set:function(e){this.$updatePlaceholder||(this.$updatePlaceholder=function(){var e=this.session&&(this.renderer.$composition||this.getValue());if(e&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),i.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(e||this.renderer.placeholderNode)!e&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"");else{this.renderer.on("afterRender",this.$updatePlaceholder),i.addCssClass(this.container,"ace_hasPlaceholder");var t=i.createElement("div");t.className="ace_placeholder",t.textContent=this.$placeholder||"",this.renderer.placeholderNode=t,this.renderer.content.appendChild(this.renderer.placeholderNode)}}.bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var w={getText:function(e,t){return(Math.abs(e.selection.lead.row-t)||t+1+(t<9?"·":""))+""},getWidth:function(e,t,n){return Math.max(t.toString().length,(n.lastRow+1).toString().length,2)*n.characterWidth},update:function(e,t){t.renderer.$loop.schedule(t.renderer.CHANGE_GUTTER)},attach:function(e){e.renderer.$gutterLayer.$renderer=this,e.on("changeSelection",this.update),this.update(null,e)},detach:function(e){e.renderer.$gutterLayer.$renderer==this&&(e.renderer.$gutterLayer.$renderer=null),e.off("changeSelection",this.update),this.update(null,e)}};t.Editor=C})),ace.define("ace/undomanager",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var r=function(){this.$maxRev=0,this.$fromUndo=!1,this.reset()};function i(e,t){for(var n=t;n--;){var r=e[n];if(r&&!r[0].ignore){while(n<t-1){var i=f(e[n],e[n+1]);e[n]=i[0],e[n+1]=i[1],n++}return!0}}}(function(){this.addSession=function(e){this.$session=e},this.add=function(e,t,n){this.$fromUndo||e!=this.$lastDelta&&(this.$keepRedoStack||(this.$redoStack.length=0),!1!==t&&this.lastDeltas||(this.lastDeltas=[],this.$undoStack.push(this.lastDeltas),e.id=this.$rev=++this.$maxRev),"remove"!=e.action&&"insert"!=e.action||(this.$lastDelta=e),this.lastDeltas.push(e))},this.addSelection=function(e,t){this.selections.push({value:e,rev:t||this.$rev})},this.startNewGroup=function(){return this.lastDeltas=null,this.$rev},this.markIgnored=function(e,t){null==t&&(t=this.$rev+1);for(var n=this.$undoStack,r=n.length;r--;){var i=n[r][0];if(i.id<=e)break;i.id<t&&(i.ignore=!0)}this.lastDeltas=null},this.getSelection=function(e,t){for(var n=this.selections,r=n.length;r--;){var i=n[r];if(i.rev<e)return t&&(i=n[r+1]),i}},this.getRevision=function(){return this.$rev},this.getDeltas=function(e,t){null==t&&(t=this.$rev+1);for(var n=this.$undoStack,r=null,i=0,o=n.length;o--;){var a=n[o][0];if(a.id<t&&!r&&(r=o+1),a.id<=e){i=o+1;break}}return n.slice(i,r)},this.getChangedRanges=function(e,t){null==t&&(t=this.$rev+1)},this.getChangedLines=function(e,t){null==t&&(t=this.$rev+1)},this.undo=function(e,t){this.lastDeltas=null;var n=this.$undoStack;if(i(n,n.length)){e||(e=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var r=n.pop(),o=null;return r&&(o=e.undoChanges(r,t),this.$redoStack.push(r),this.$syncRev()),this.$fromUndo=!1,o}},this.redo=function(e,t){if(this.lastDeltas=null,e||(e=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var n=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);b(this.$redoStack,n),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach((function(e){e[0].id=++this.$maxRev}),this)}var r=this.$redoStack.pop(),i=null;return r&&(i=e.redoChanges(r,t),this.$undoStack.push(r),this.$syncRev()),this.$fromUndo=!1,i},this.$syncRev=function(){var e=this.$undoStack,t=e[e.length-1],n=t&&t[0].id||0;this.$redoStackBaseRev=n,this.$rev=n},this.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},this.canUndo=function(){return this.$undoStack.length>0},this.canRedo=function(){return this.$redoStack.length>0},this.bookmark=function(e){void 0==e&&(e=this.$rev),this.mark=e},this.isAtBookmark=function(){return this.$rev===this.mark},this.toJSON=function(){},this.fromJSON=function(){},this.hasUndo=this.canUndo,this.hasRedo=this.canRedo,this.isClean=this.isAtBookmark,this.markClean=this.bookmark,this.$prettyPrint=function(e){return e?c(e):c(this.$undoStack)+"\n---\n"+c(this.$redoStack)}}).call(r.prototype);var o=e("./range").Range,a=o.comparePoints;o.comparePoints;function s(e){return{row:e.row,column:e.column}}function l(e){return{start:s(e.start),end:s(e.end),action:e.action,lines:e.lines.slice()}}function c(e){if(e=e||this,Array.isArray(e))return e.map(c).join("\n");var t="";return e.action?(t="insert"==e.action?"+":"-",t+="["+e.lines+"]"):e.value&&(t=Array.isArray(e.value)?e.value.map(u).join("\n"):u(e.value)),e.start&&(t+=u(e)),(e.id||e.rev)&&(t+="\t("+(e.id||e.rev)+")"),t}function u(e){return e.start.row+":"+e.start.column+"=>"+e.end.row+":"+e.end.column}function d(e,t){var n="insert"==e.action,r="insert"==t.action;if(n&&r)if(a(t.start,e.end)>=0)p(t,e,-1);else{if(!(a(t.start,e.start)<=0))return null;p(e,t,1)}else if(n&&!r)if(a(t.start,e.end)>=0)p(t,e,-1);else{if(!(a(t.end,e.start)<=0))return null;p(e,t,-1)}else if(!n&&r)if(a(t.start,e.start)>=0)p(t,e,1);else{if(!(a(t.start,e.start)<=0))return null;p(e,t,1)}else if(!n&&!r)if(a(t.start,e.start)>=0)p(t,e,1);else{if(!(a(t.end,e.start)<=0))return null;p(e,t,-1)}return[t,e]}function f(e,t){for(var n=e.length;n--;)for(var r=0;r<t.length;r++)if(!d(e[n],t[r])){while(n<e.length){while(r--)d(t[r],e[n]);r=t.length,n++}return[e,t]}return e.selectionBefore=t.selectionBefore=e.selectionAfter=t.selectionAfter=null,[t,e]}function h(e,t){var n="insert"==e.action,r="insert"==t.action;if(n&&r)a(e.start,t.start)<0?p(t,e,1):p(e,t,1);else if(n&&!r)a(e.start,t.end)>=0?p(e,t,-1):(a(e.start,t.start)<=0||p(e,o.fromPoints(t.start,e.start),-1),p(t,e,1));else if(!n&&r)a(t.start,e.end)>=0?p(t,e,-1):(a(t.start,e.start)<=0||p(t,o.fromPoints(e.start,t.start),-1),p(e,t,1));else if(!n&&!r)if(a(t.start,e.end)>=0)p(t,e,-1);else{var i,s;if(!(a(t.end,e.start)<=0))return a(e.start,t.start)<0&&(i=e,e=g(e,t.start)),a(e.end,t.end)>0&&(s=g(e,t.end)),m(t.end,e.start,e.end,-1),s&&!i&&(e.lines=s.lines,e.start=s.start,e.end=s.end,s=e),[t,i,s].filter(Boolean);p(e,t,-1)}return[t,e]}function p(e,t,n){m(e.start,t.start,t.end,n),m(e.end,t.start,t.end,n)}function m(e,t,n,r){e.row==(1==r?t:n).row&&(e.column+=r*(n.column-t.column)),e.row+=r*(n.row-t.row)}function g(e,t){var n=e.lines,r=e.end;e.end=s(t);var i=e.end.row-e.start.row,o=n.splice(i,n.length),a=i?t.column:t.column-e.start.column;n.push(o[0].substring(0,a)),o[0]=o[0].substr(a);var l={start:s(t),end:r,lines:o,action:e.action};return l}function v(e,t){t=l(t);for(var n=e.length;n--;){for(var r=e[n],i=0;i<r.length;i++){var o=r[i],a=h(o,t);t=a[0],2!=a.length&&(a[2]?(r.splice(i+1,1,a[1],a[2]),i++):a[1]||(r.splice(i,1),i--))}r.length||e.splice(n,1)}return e}function b(e,t){for(var n=0;n<t.length;n++)for(var r=t[n],i=0;i<r.length;i++)v(e,r[i])}t.UndoManager=r})),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";var r=e("../lib/dom"),i=function(e,t){this.element=e,this.canvasHeight=t||5e5,this.element.style.height=2*this.canvasHeight+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0};(function(){this.moveContainer=function(e){r.translate(this.element,0,-e.firstRowScreen*e.lineHeight%this.canvasHeight-e.offset*this.$offsetCoefficient)},this.pageChanged=function(e,t){return Math.floor(e.firstRowScreen*e.lineHeight/this.canvasHeight)!==Math.floor(t.firstRowScreen*t.lineHeight/this.canvasHeight)},this.computeLineTop=function(e,t,n){var r=t.firstRowScreen*t.lineHeight,i=Math.floor(r/this.canvasHeight),o=n.documentToScreenRow(e,0)*t.lineHeight;return o-i*this.canvasHeight},this.computeLineHeight=function(e,t,n){return t.lineHeight*n.getRowLineCount(e)},this.getLength=function(){return this.cells.length},this.get=function(e){return this.cells[e]},this.shift=function(){this.$cacheCell(this.cells.shift())},this.pop=function(){this.$cacheCell(this.cells.pop())},this.push=function(e){if(Array.isArray(e)){this.cells.push.apply(this.cells,e);for(var t=r.createFragment(this.element),n=0;n<e.length;n++)t.appendChild(e[n].element);this.element.appendChild(t)}else this.cells.push(e),this.element.appendChild(e.element)},this.unshift=function(e){if(Array.isArray(e)){this.cells.unshift.apply(this.cells,e);for(var t=r.createFragment(this.element),n=0;n<e.length;n++)t.appendChild(e[n].element);this.element.firstChild?this.element.insertBefore(t,this.element.firstChild):this.element.appendChild(t)}else this.cells.unshift(e),this.element.insertAdjacentElement("afterbegin",e.element)},this.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},this.$cacheCell=function(e){e&&(e.element.remove(),this.cellCache.push(e))},this.createCell=function(e,t,n,i){var o=this.cellCache.pop();if(!o){var a=r.createElement("div");i&&i(a),this.element.appendChild(a),o={element:a,text:"",row:e}}return o.row=e,o}}).call(i.prototype),t.Lines=i})),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines"],(function(e,t,n){"use strict";var r=e("../lib/dom"),i=e("../lib/oop"),o=e("../lib/lang"),a=e("../lib/event_emitter").EventEmitter,s=e("./lines").Lines,l=function(e){this.element=r.createElement("div"),this.element.className="ace_layer ace_gutter-layer",e.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new s(this.element),this.$lines.$offsetCoefficient=1};function c(e){var t=document.createTextNode("");e.appendChild(t);var n=r.createElement("span");return e.appendChild(n),e}(function(){i.implement(this,a),this.setSession=function(e){this.session&&this.session.off("change",this.$updateAnnotations),this.session=e,e&&e.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(e,t){window.console&&console.warn,this.session.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){window.console&&console.warn,this.session.removeGutterDecoration(e,t)},this.setAnnotations=function(e){this.$annotations=[];for(var t=0;t<e.length;t++){var n=e[t],r=n.row,i=this.$annotations[r];i||(i=this.$annotations[r]={text:[]});var a=n.text;a=a?o.escapeHTML(a):n.html||"",-1===i.text.indexOf(a)&&i.text.push(a);var s=n.type;"error"==s?i.className=" ace_error":"warning"==s&&" ace_error"!=i.className?i.className=" ace_warning":"info"!=s||i.className||(i.className=" ace_info")}},this.$updateAnnotations=function(e){if(this.$annotations.length){var t=e.start.row,n=e.end.row-t;if(0===n);else if("remove"==e.action)this.$annotations.splice(t,n+1,null);else{var r=new Array(n+1);r.unshift(t,1),this.$annotations.splice.apply(this.$annotations,r)}}},this.update=function(e){this.config=e;var t=this.session,n=e.firstRow,r=Math.min(e.lastRow+e.gutterOffset,t.getLength()-1);this.oldLastRow=r,this.config=e,this.$lines.moveContainer(e),this.$updateCursorRow();var i=t.getNextFoldLine(n),o=i?i.start.row:1/0,a=null,s=-1,l=n;while(1){if(l>o&&(l=i.end.row+1,i=t.getNextFoldLine(l,i),o=i?i.start.row:1/0),l>r){while(this.$lines.getLength()>s+1)this.$lines.pop();break}a=this.$lines.get(++s),a?a.row=l:(a=this.$lines.createCell(l,e,this.session,c),this.$lines.push(a)),this.$renderCell(a,e,i,l),l++}this._signal("afterRender"),this.$updateGutterWidth(e)},this.$updateGutterWidth=function(e){var t=this.session,n=t.gutterRenderer||this.$renderer,r=t.$firstLineNumber,i=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||t.$useWrapMode)&&(i=t.getLength()+r-1);var o=n?n.getWidth(t,i,e):i.toString().length*e.characterWidth,a=this.$padding||this.$computePadding();o+=a.left+a.right,o===this.gutterWidth||isNaN(o)||(this.gutterWidth=o,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",o))},this.$updateCursorRow=function(){if(this.$highlightGutterLine){var e=this.session.selection.getCursor();this.$cursorRow!==e.row&&(this.$cursorRow=e.row)}},this.updateLineHighlight=function(){if(this.$highlightGutterLine){var e=this.session.selection.cursor.row;if(this.$cursorRow=e,!this.$cursorCell||this.$cursorCell.row!=e){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var t=this.$lines.cells;this.$cursorCell=null;for(var n=0;n<t.length;n++){var r=t[n];if(r.row>=this.$cursorRow){if(r.row>this.$cursorRow){var i=this.session.getFoldLine(this.$cursorRow);if(!(n>0&&i&&i.start.row==t[n-1].row))break;r=t[n-1]}r.element.className="ace_gutter-active-line "+r.element.className,this.$cursorCell=r;break}}}}},this.scrollLines=function(e){var t=this.config;if(this.config=e,this.$updateCursorRow(),this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var n=Math.min(e.lastRow+e.gutterOffset,this.session.getLength()-1),r=this.oldLastRow;if(this.oldLastRow=n,!t||r<e.firstRow)return this.update(e);if(n<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(var i=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);i>0;i--)this.$lines.shift();if(r>n)for(i=this.session.getFoldedRowCount(n+1,r);i>0;i--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLines(e,e.firstRow,t.firstRow-1)),n>r&&this.$lines.push(this.$renderLines(e,r+1,n)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(e)},this.$renderLines=function(e,t,n){var r=[],i=t,o=this.session.getNextFoldLine(i),a=o?o.start.row:1/0;while(1){if(i>a&&(i=o.end.row+1,o=this.session.getNextFoldLine(i,o),a=o?o.start.row:1/0),i>n)break;var s=this.$lines.createCell(i,e,this.session,c);this.$renderCell(s,e,o,i),r.push(s),i++}return r},this.$renderCell=function(e,t,n,i){var o=e.element,a=this.session,s=o.childNodes[0],l=o.childNodes[1],c=a.$firstLineNumber,u=a.$breakpoints,d=a.$decorations,f=a.gutterRenderer||this.$renderer,h=this.$showFoldWidgets&&a.foldWidgets,p=n?n.start.row:Number.MAX_VALUE,m="ace_gutter-cell ";if(this.$highlightGutterLine&&(i==this.$cursorRow||n&&i<this.$cursorRow&&i>=p&&this.$cursorRow<=n.end.row)&&(m+="ace_gutter-active-line ",this.$cursorCell!=e&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=e)),u[i]&&(m+=u[i]),d[i]&&(m+=d[i]),this.$annotations[i]&&(m+=this.$annotations[i].className),o.className!=m&&(o.className=m),h){var g=h[i];null==g&&(g=h[i]=a.getFoldWidget(i))}if(g){m="ace_fold-widget ace_"+g;"start"==g&&i==p&&i<n.end.row?m+=" ace_closed":m+=" ace_open",l.className!=m&&(l.className=m);var v=t.lineHeight+"px";r.setStyle(l.style,"height",v),r.setStyle(l.style,"display","inline-block")}else l&&r.setStyle(l.style,"display","none");var b=(f?f.getText(a,i):i+c).toString();return b!==s.data&&(s.data=b),r.setStyle(e.element.style,"height",this.$lines.computeLineHeight(i,t,a)+"px"),r.setStyle(e.element.style,"top",this.$lines.computeLineTop(i,t,a)+"px"),e.text=b,e},this.$fixedWidth=!1,this.$highlightGutterLine=!0,this.$renderer="",this.setHighlightGutterLine=function(e){this.$highlightGutterLine=e},this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(e){this.$renderer=!e&&{getWidth:function(){return 0},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(e){e?r.addCssClass(this.element,"ace_folding-enabled"):r.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=e,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var e=r.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(e.borderLeftWidth)||0)+(parseInt(e.paddingLeft)||0)+1,this.$padding.right=(parseInt(e.borderRightWidth)||0)+(parseInt(e.paddingRight)||0),this.$padding},this.getRegion=function(e){var t=this.$padding||this.$computePadding(),n=this.element.getBoundingClientRect();return e.x<t.left+n.left?"markers":this.$showFoldWidgets&&e.x>n.right-t.right?"foldWidgets":void 0}}).call(l.prototype),t.Gutter=l})),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],(function(e,t,n){"use strict";var r=e("../range").Range,i=e("../lib/dom"),o=function(e){this.element=i.createElement("div"),this.element.className="ace_layer ace_marker-layer",e.appendChild(this.element)};(function(){function e(e,t,n,r){return(e?1:0)|(t?2:0)|(n?4:0)|(r?8:0)}this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setMarkers=function(e){this.markers=e},this.elt=function(e,t){var n=-1!=this.i&&this.element.childNodes[this.i];n?this.i++:(n=document.createElement("div"),this.element.appendChild(n),this.i=-1),n.style.cssText=t,n.className=e},this.update=function(e){if(e){var t;for(var n in this.config=e,this.i=0,this.markers){var r=this.markers[n];if(r.range){var i=r.range.clipRows(e.firstRow,e.lastRow);if(!i.isEmpty())if(i=i.toScreenRange(this.session),r.renderer){var o=this.$getTop(i.start.row,e),a=this.$padding+i.start.column*e.characterWidth;r.renderer(t,i,a,o,e)}else"fullLine"==r.type?this.drawFullLineMarker(t,i,r.clazz,e):"screenLine"==r.type?this.drawScreenLineMarker(t,i,r.clazz,e):i.isMultiLine()?"text"==r.type?this.drawTextMarker(t,i,r.clazz,e):this.drawMultiLineMarker(t,i,r.clazz,e):this.drawSingleLineMarker(t,i,r.clazz+" ace_start ace_br15",e)}else r.update(t,this,this.session,e)}if(-1!=this.i)while(this.i<this.element.childElementCount)this.element.removeChild(this.element.lastChild)}},this.$getTop=function(e,t){return(e-t.firstRowScreen)*t.lineHeight},this.drawTextMarker=function(t,n,i,o,a){for(var s=this.session,l=n.start.row,c=n.end.row,u=l,d=0,f=0,h=s.getScreenLastRowColumn(u),p=new r(u,n.start.column,u,f);u<=c;u++)p.start.row=p.end.row=u,p.start.column=u==l?n.start.column:s.getRowWrapIndent(u),p.end.column=h,d=f,f=h,h=u+1<c?s.getScreenLastRowColumn(u+1):u==c?0:n.end.column,this.drawSingleLineMarker(t,p,i+(u==l?" ace_start":"")+" ace_br"+e(u==l||u==l+1&&n.start.column,d<f,f>h,u==c),o,u==c?0:1,a)},this.drawMultiLineMarker=function(e,t,n,r,i){var o=this.$padding,a=r.lineHeight,s=this.$getTop(t.start.row,r),l=o+t.start.column*r.characterWidth;if(i=i||"",this.session.$bidiHandler.isBidiRow(t.start.row)){var c=t.clone();c.end.row=c.start.row,c.end.column=this.session.getLine(c.start.row).length,this.drawBidiSingleLineMarker(e,c,n+" ace_br1 ace_start",r,null,i)}else this.elt(n+" ace_br1 ace_start","height:"+a+"px;right:0;top:"+s+"px;left:"+l+"px;"+(i||""));if(this.session.$bidiHandler.isBidiRow(t.end.row)){c=t.clone();c.start.row=c.end.row,c.start.column=0,this.drawBidiSingleLineMarker(e,c,n+" ace_br12",r,null,i)}else{s=this.$getTop(t.end.row,r);var u=t.end.column*r.characterWidth;this.elt(n+" ace_br12","height:"+a+"px;width:"+u+"px;top:"+s+"px;left:"+o+"px;"+(i||""))}if(a=(t.end.row-t.start.row-1)*r.lineHeight,!(a<=0)){s=this.$getTop(t.start.row+1,r);var d=(t.start.column?1:0)|(t.end.column?0:8);this.elt(n+(d?" ace_br"+d:""),"height:"+a+"px;right:0;top:"+s+"px;left:"+o+"px;"+(i||""))}},this.drawSingleLineMarker=function(e,t,n,r,i,o){if(this.session.$bidiHandler.isBidiRow(t.start.row))return this.drawBidiSingleLineMarker(e,t,n,r,i,o);var a=r.lineHeight,s=(t.end.column+(i||0)-t.start.column)*r.characterWidth,l=this.$getTop(t.start.row,r),c=this.$padding+t.start.column*r.characterWidth;this.elt(n,"height:"+a+"px;width:"+s+"px;top:"+l+"px;left:"+c+"px;"+(o||""))},this.drawBidiSingleLineMarker=function(e,t,n,r,i,o){var a=r.lineHeight,s=this.$getTop(t.start.row,r),l=this.$padding,c=this.session.$bidiHandler.getSelections(t.start.column,t.end.column);c.forEach((function(e){this.elt(n,"height:"+a+"px;width:"+e.width+(i||0)+"px;top:"+s+"px;left:"+(l+e.left)+"px;"+(o||""))}),this)},this.drawFullLineMarker=function(e,t,n,r,i){var o=this.$getTop(t.start.row,r),a=r.lineHeight;t.start.row!=t.end.row&&(a+=this.$getTop(t.end.row,r)-o),this.elt(n,"height:"+a+"px;top:"+o+"px;left:0;right:0;"+(i||""))},this.drawScreenLineMarker=function(e,t,n,r,i){var o=this.$getTop(t.start.row,r),a=r.lineHeight;this.elt(n,"height:"+a+"px;top:"+o+"px;left:0;right:0;"+(i||""))}}).call(o.prototype),t.Marker=o})),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter"],(function(e,t,n){"use strict";var r=e("../lib/oop"),i=e("../lib/dom"),o=e("../lib/lang"),a=e("./lines").Lines,s=e("../lib/event_emitter").EventEmitter,l=function(e){this.dom=i,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",e.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new a(this.element)};(function(){r.implement(this,s),this.EOF_CHAR="¶",this.EOL_CHAR_LF="¬",this.EOL_CHAR_CRLF="¤",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="—",this.SPACE_CHAR="·",this.$padding=0,this.MAX_LINE_LENGTH=1e4,this.$updateEolChar=function(){var e=this.session.doc,t="\n"==e.getNewLineCharacter()&&"windows"!=e.getNewLineMode(),n=t?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=n)return this.EOL_CHAR=n,!0},this.setPadding=function(e){this.$padding=e,this.element.style.margin="0 "+e+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(e){this.$fontMetrics=e,this.$fontMetrics.on("changeCharacterSize",function(e){this._signal("changeCharacterSize",e)}.bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(e){this.session=e,e&&this.$computeTabString()},this.showInvisibles=!1,this.showSpaces=!1,this.showTabs=!1,this.showEOL=!1,this.setShowInvisibles=function(e){return this.showInvisibles!=e&&(this.showInvisibles=e,"string"==typeof e?(this.showSpaces=/tab/i.test(e),this.showTabs=/space/i.test(e),this.showEOL=/eol/i.test(e)):this.showSpaces=this.showTabs=this.showEOL=e,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(e){return this.displayIndentGuides!=e&&(this.displayIndentGuides=e,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var e=this.session.getTabSize();this.tabSize=e;for(var t=this.$tabStrings=[0],n=1;n<e+1;n++)if(this.showTabs){var r=this.dom.createElement("span");r.className="ace_invisible ace_invisible_tab",r.textContent=o.stringRepeat(this.TAB_CHAR,n),t.push(r)}else t.push(this.dom.createTextNode(o.stringRepeat(" ",n),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var i="ace_indent-guide",a=this.showSpaces?" ace_invisible ace_invisible_space":"",s=this.showSpaces?o.stringRepeat(this.SPACE_CHAR,this.tabSize):o.stringRepeat(" ",this.tabSize),l=this.showTabs?" ace_invisible ace_invisible_tab":"",c=this.showTabs?o.stringRepeat(this.TAB_CHAR,this.tabSize):s;r=this.dom.createElement("span");r.className=i+a,r.textContent=s,this.$tabStrings[" "]=r;r=this.dom.createElement("span");r.className=i+l,r.textContent=c,this.$tabStrings["\t"]=r}},this.updateLines=function(e,t,n){if(this.config.lastRow!=e.lastRow||this.config.firstRow!=e.firstRow)return this.update(e);this.config=e;for(var r=Math.max(t,e.firstRow),i=Math.min(n,e.lastRow),o=this.element.childNodes,a=0,s=e.firstRow;s<r;s++){var l=this.session.getFoldLine(s);if(l){if(l.containsRow(r)){r=l.start.row;break}s=l.end.row}a++}var c=!1,u=(s=r,l=this.session.getNextFoldLine(s),l?l.start.row:1/0);while(1){if(s>u&&(s=l.end.row+1,l=this.session.getNextFoldLine(s,l),u=l?l.start.row:1/0),s>i)break;var d=o[a++];if(d){this.dom.removeChildren(d),this.$renderLine(d,s,s==u&&l),c&&(d.style.top=this.$lines.computeLineTop(s,e,this.session)+"px");var f=e.lineHeight*this.session.getRowLength(s)+"px";d.style.height!=f&&(c=!0,d.style.height=f)}s++}if(c)while(a<this.$lines.cells.length){var h=this.$lines.cells[a++];h.element.style.top=this.$lines.computeLineTop(h.row,e,this.session)+"px"}},this.scrollLines=function(e){var t=this.config;if(this.config=e,this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var n=e.lastRow,r=t?t.lastRow:-1;if(!t||r<e.firstRow)return this.update(e);if(n<t.firstRow)return this.update(e);if(!t||t.lastRow<e.firstRow)return this.update(e);if(e.lastRow<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(var i=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);i>0;i--)this.$lines.shift();if(t.lastRow>e.lastRow)for(i=this.session.getFoldedRowCount(e.lastRow+1,t.lastRow);i>0;i--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLinesFragment(e,e.firstRow,t.firstRow-1)),e.lastRow>t.lastRow&&this.$lines.push(this.$renderLinesFragment(e,t.lastRow+1,e.lastRow))},this.$renderLinesFragment=function(e,t,n){var r=[],o=t,a=this.session.getNextFoldLine(o),s=a?a.start.row:1/0;while(1){if(o>s&&(o=a.end.row+1,a=this.session.getNextFoldLine(o,a),s=a?a.start.row:1/0),o>n)break;var l=this.$lines.createCell(o,e,this.session),c=l.element;this.dom.removeChildren(c),i.setStyle(c.style,"height",this.$lines.computeLineHeight(o,e,this.session)+"px"),i.setStyle(c.style,"top",this.$lines.computeLineTop(o,e,this.session)+"px"),this.$renderLine(c,o,o==s&&a),this.$useLineGroups()?c.className="ace_line_group":c.className="ace_line",r.push(l),o++}return r},this.update=function(e){this.$lines.moveContainer(e),this.config=e;var t=e.firstRow,n=e.lastRow,r=this.$lines;while(r.getLength())r.pop();r.push(this.$renderLinesFragment(e,t,n))},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(e,t,n,r){var i,a=this,s=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,l=this.dom.createFragment(this.element),c=0;while(i=s.exec(r)){var u=i[1],d=i[2],f=i[3],h=i[4],p=i[5];if(a.showSpaces||!d){var m=c!=i.index?r.slice(c,i.index):"";if(c=i.index+i[0].length,m&&l.appendChild(this.dom.createTextNode(m,this.element)),u){var g=a.session.getScreenTabSize(t+i.index);l.appendChild(a.$tabStrings[g].cloneNode(!0)),t+=g-1}else if(d)if(a.showSpaces){var v=this.dom.createElement("span");v.className="ace_invisible ace_invisible_space",v.textContent=o.stringRepeat(a.SPACE_CHAR,d.length),l.appendChild(v)}else l.appendChild(this.com.createTextNode(d,this.element));else if(f){v=this.dom.createElement("span");v.className="ace_invisible ace_invisible_space ace_invalid",v.textContent=o.stringRepeat(a.SPACE_CHAR,f.length),l.appendChild(v)}else if(h){t+=1;v=this.dom.createElement("span");v.style.width=2*a.config.characterWidth+"px",v.className=a.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",v.textContent=a.showSpaces?a.SPACE_CHAR:h,l.appendChild(v)}else if(p){t+=1;v=this.dom.createElement("span");v.style.width=2*a.config.characterWidth+"px",v.className="ace_cjk",v.textContent=p,l.appendChild(v)}}}if(l.appendChild(this.dom.createTextNode(c?r.slice(c):r,this.element)),this.$textToken[n.type])e.appendChild(l);else{var b="ace_"+n.type.replace(/\./g," ace_");v=this.dom.createElement("span");"fold"==n.type&&(v.style.width=n.value.length*this.config.characterWidth+"px"),v.className=b,v.appendChild(l),e.appendChild(v)}return t+r.length},this.renderIndentGuide=function(e,t,n){var r=t.search(this.$indentGuideRe);if(r<=0||r>=n)return t;if(" "==t[0]){r-=r%this.tabSize;for(var i=r/this.tabSize,o=0;o<i;o++)e.appendChild(this.$tabStrings[" "].cloneNode(!0));return t.substr(r)}if("\t"==t[0]){for(o=0;o<r;o++)e.appendChild(this.$tabStrings["\t"].cloneNode(!0));return t.substr(r)}return t},this.$createLineElement=function(e){var t=this.dom.createElement("div");return t.className="ace_line",t.style.height=this.config.lineHeight+"px",t},this.$renderWrappedLine=function(e,t,n){var r=0,i=0,a=n[0],s=0,l=this.$createLineElement();e.appendChild(l);for(var c=0;c<t.length;c++){var u=t[c],d=u.value;if(0==c&&this.displayIndentGuides){if(r=d.length,d=this.renderIndentGuide(l,d,a),!d)continue;r-=d.length}if(r+d.length<a)s=this.$renderToken(l,s,u,d),r+=d.length;else{while(r+d.length>=a)s=this.$renderToken(l,s,u,d.substring(0,a-r)),d=d.substring(a-r),r=a,l=this.$createLineElement(),e.appendChild(l),l.appendChild(this.dom.createTextNode(o.stringRepeat(" ",n.indent),this.element)),i++,s=0,a=n[i]||Number.MAX_VALUE;0!=d.length&&(r+=d.length,s=this.$renderToken(l,s,u,d))}}n[n.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(l,s,null,"",!0)},this.$renderSimpleLine=function(e,t){var n=0,r=t[0],i=r.value;this.displayIndentGuides&&(i=this.renderIndentGuide(e,i)),i&&(n=this.$renderToken(e,n,r,i));for(var o=1;o<t.length;o++){if(r=t[o],i=r.value,n+i.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(e,n,r,i);n=this.$renderToken(e,n,r,i)}},this.$renderOverflowMessage=function(e,t,n,r,i){n&&this.$renderToken(e,t,n,r.slice(0,this.MAX_LINE_LENGTH-t));var o=this.dom.createElement("span");o.className="ace_inline_button ace_keyword ace_toggle_wrap",o.textContent=i?"<hide>":"<click to see more...>",e.appendChild(o)},this.$renderLine=function(e,t,n){if(n||0==n||(n=this.session.getFoldLine(t)),n)var r=this.$getFoldLineTokens(t,n);else r=this.session.getTokens(t);var i=e;if(r.length){var o=this.session.getRowSplitData(t);if(o&&o.length){this.$renderWrappedLine(e,r,o);i=e.lastChild}else{i=e;this.$useLineGroups()&&(i=this.$createLineElement(),e.appendChild(i)),this.$renderSimpleLine(i,r)}}else this.$useLineGroups()&&(i=this.$createLineElement(),e.appendChild(i));if(this.showEOL&&i){n&&(t=n.end.row);var a=this.dom.createElement("span");a.className="ace_invisible ace_invisible_eol",a.textContent=t==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,i.appendChild(a)}},this.$getFoldLineTokens=function(e,t){var n=this.session,r=[];function i(e,t,n){var i=0,o=0;while(o+e[i].value.length<t)if(o+=e[i].value.length,i++,i==e.length)return;if(o!=t){var a=e[i].value.substring(t-o);a.length>n-t&&(a=a.substring(0,n-t)),r.push({type:e[i].type,value:a}),o=t+a.length,i+=1}while(o<n&&i<e.length){a=e[i].value;a.length+o>n?r.push({type:e[i].type,value:a.substring(0,n-o)}):r.push(e[i]),o+=a.length,i+=1}}var o=n.getTokens(e);return t.walk((function(e,t,a,s,l){null!=e?r.push({type:"fold",value:e}):(l&&(o=n.getTokens(t)),o.length&&i(o,s,a))}),t.end.row,this.session.getLine(t.end.row).length),r},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){}}).call(l.prototype),t.Text=l})),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";var r=e("../lib/dom"),i=function(e){this.element=r.createElement("div"),this.element.className="ace_layer ace_cursor-layer",e.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),r.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)};(function(){this.$updateOpacity=function(e){for(var t=this.cursors,n=t.length;n--;)r.setStyle(t[n].style,"opacity",e?"":"0")},this.$startCssAnimation=function(){for(var e=this.cursors,t=e.length;t--;)e[t].style.animationDuration=this.blinkInterval+"ms";setTimeout(function(){r.addCssClass(this.element,"ace_animate-blinking")}.bind(this))},this.$stopCssAnimation=function(){r.removeCssClass(this.element,"ace_animate-blinking")},this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setBlinking=function(e){e!=this.isBlinking&&(this.isBlinking=e,this.restartTimer())},this.setBlinkInterval=function(e){e!=this.blinkInterval&&(this.blinkInterval=e,this.restartTimer())},this.setSmoothBlinking=function(e){e!=this.smoothBlinking&&(this.smoothBlinking=e,r.setCssClass(this.element,"ace_smooth-blinking",e),this.$updateCursors(!0),this.restartTimer())},this.addCursor=function(){var e=r.createElement("div");return e.className="ace_cursor",this.element.appendChild(e),this.cursors.push(e),e},this.removeCursor=function(){if(this.cursors.length>1){var e=this.cursors.pop();return e.parentNode.removeChild(e),e}},this.hideCursor=function(){this.isVisible=!1,r.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,r.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var e=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&r.removeCssClass(this.element,"ace_smooth-blinking"),e(!0),this.isBlinking&&this.blinkInterval&&this.isVisible)if(this.smoothBlinking&&setTimeout(function(){r.addCssClass(this.element,"ace_smooth-blinking")}.bind(this)),r.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var t=function(){this.timeoutId=setTimeout((function(){e(!1)}),.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval((function(){e(!0),t()}),this.blinkInterval),t()}else this.$stopCssAnimation()},this.getPixelPosition=function(e,t){if(!this.config||!this.session)return{left:0,top:0};e||(e=this.session.selection.getCursor());var n=this.session.documentToScreenPosition(e),r=this.$padding+(this.session.$bidiHandler.isBidiRow(n.row,e.row)?this.session.$bidiHandler.getPosLeft(n.column):n.column*this.config.characterWidth),i=(n.row-(t?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:r,top:i}},this.isCursorInView=function(e,t){return e.top>=0&&e.top<t.maxHeight},this.update=function(e){this.config=e;var t=this.session.$selectionMarkers,n=0,i=0;void 0!==t&&0!==t.length||(t=[{cursor:null}]);n=0;for(var o=t.length;n<o;n++){var a=this.getPixelPosition(t[n].cursor,!0);if(!((a.top>e.height+e.offset||a.top<0)&&n>1)){var s=this.cursors[i++]||this.addCursor(),l=s.style;this.drawCursor?this.drawCursor(s,a,e,t[n],this.session):this.isCursorInView(a,e)?(r.setStyle(l,"display","block"),r.translate(s,a.left,a.top),r.setStyle(l,"width",Math.round(e.characterWidth)+"px"),r.setStyle(l,"height",e.lineHeight+"px")):r.setStyle(l,"display","none")}}while(this.cursors.length>i)this.removeCursor();var c=this.session.getOverwrite();this.$setOverwrite(c),this.$pixelPos=a,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(e){e!=this.overwrite&&(this.overwrite=e,e?r.addCssClass(this.element,"ace_overwrite-cursors"):r.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(i.prototype),t.Cursor=i})),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],(function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./lib/dom"),o=e("./lib/event"),a=e("./lib/event_emitter").EventEmitter,s=32768,l=function(e){this.element=i.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=i.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent=" ",this.element.appendChild(this.inner),e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,o.addListener(this.element,"scroll",this.onScroll.bind(this)),o.addListener(this.element,"mousedown",o.preventDefault)};(function(){r.implement(this,a),this.setVisible=function(e){this.element.style.display=e?"":"none",this.isVisible=e,this.coeff=1}}).call(l.prototype);var c=function(e,t){l.call(this,e),this.scrollTop=0,this.scrollHeight=0,t.$scrollbarWidth=this.width=i.scrollbarWidth(e.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px",this.$minWidth=0};r.inherits(c,l),function(){this.classSuffix="-v",this.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,1!=this.coeff){var e=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-e)/(this.coeff-e)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(e){this.element.style.height=e+"px"},this.setInnerHeight=this.setScrollHeight=function(e){this.scrollHeight=e,e>s?(this.coeff=s/e,e=s):1!=this.coeff&&(this.coeff=1),this.inner.style.height=e+"px"},this.setScrollTop=function(e){this.scrollTop!=e&&(this.skipEvent=!0,this.scrollTop=e,this.element.scrollTop=e*this.coeff)}}.call(c.prototype);var u=function(e,t){l.call(this,e),this.scrollLeft=0,this.height=t.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};r.inherits(u,l),function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(e){this.element.style.width=e+"px"},this.setInnerWidth=function(e){this.inner.style.width=e+"px"},this.setScrollWidth=function(e){this.inner.style.width=e+"px"},this.setScrollLeft=function(e){this.scrollLeft!=e&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=e)}}.call(u.prototype),t.ScrollBar=c,t.ScrollBarV=c,t.ScrollBarH=u,t.VScrollBar=c,t.HScrollBar=u})),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],(function(e,t,n){"use strict";var r=e("./lib/event"),i=function(e,t){this.onRender=e,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=t||window;var n=this;this._flush=function(e){n.pending=!1;var t=n.changes;if(t&&(r.blockIdle(100),n.changes=0,n.onRender(t)),n.changes){if(n.$recursionLimit--<0)return;n.schedule()}else n.$recursionLimit=2}};(function(){this.schedule=function(e){this.changes=this.changes|e,this.changes&&!this.pending&&(r.nextFrame(this._flush),this.pending=!0)},this.clear=function(e){var t=this.changes;return this.changes=0,t}}).call(i.prototype),t.RenderLoop=i})),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],(function(e,t,n){var r=e("../lib/oop"),i=e("../lib/dom"),o=e("../lib/lang"),a=e("../lib/event"),s=e("../lib/useragent"),l=e("../lib/event_emitter").EventEmitter,c=256,u="function"==typeof ResizeObserver,d=200,f=t.FontMetrics=function(e){this.el=i.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=i.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=i.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),e.appendChild(this.el),this.$measureNode.textContent=o.stringRepeat("X",c),this.$characterSize={width:0,height:0},u?this.$addObserver():this.checkForSizeChanges()};(function(){r.implement(this,l),this.$characterSize={width:0,height:0},this.$setMeasureNodeStyles=function(e,t){e.width=e.height="auto",e.left=e.top="0px",e.visibility="hidden",e.position="absolute",e.whiteSpace="pre",s.isIE<8?e["font-family"]="inherit":e.font="inherit",e.overflow=t?"hidden":"visible"},this.checkForSizeChanges=function(e){if(void 0===e&&(e=this.$measureSizes()),e&&(this.$characterSize.width!==e.width||this.$characterSize.height!==e.height)){this.$measureNode.style.fontWeight="bold";var t=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=e,this.charSizes=Object.create(null),this.allowBoldFonts=t&&t.width===e.width&&t.height===e.height,this._emit("changeCharacterSize",{data:e})}},this.$addObserver=function(){var e=this;this.$observer=new window.ResizeObserver((function(t){e.checkForSizeChanges()})),this.$observer.observe(this.$measureNode)},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var e=this;return this.$pollSizeChangesTimer=a.onIdle((function t(){e.checkForSizeChanges(),a.onIdle(t,500)}),500)},this.setPolling=function(e){e?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(e){var t={height:(e||this.$measureNode).clientHeight,width:(e||this.$measureNode).clientWidth/c};return 0===t.width||0===t.height?null:t},this.$measureCharWidth=function(e){this.$main.textContent=o.stringRepeat(e,c);var t=this.$main.getBoundingClientRect();return t.width/c},this.getCharacterWidth=function(e){var t=this.charSizes[e];return void 0===t&&(t=this.charSizes[e]=this.$measureCharWidth(e)/this.$characterSize.width),t},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},this.$getZoom=function e(t){return t?(window.getComputedStyle(t).zoom||1)*e(t.parentElement):1},this.$initTransformMeasureNodes=function(){var e=function(e,t){return["div",{style:"position: absolute;top:"+e+"px;left:"+t+"px;"}]};this.els=i.buildDom([e(0,0),e(d,0),e(0,d),e(d,d)],this.el)},this.transformCoordinates=function(e,t){if(e){var n=this.$getZoom(this.el);e=a(1/n,e)}function r(e,t,n){var r=e[1]*t[0]-e[0]*t[1];return[(-t[1]*n[0]+t[0]*n[1])/r,(+e[1]*n[0]-e[0]*n[1])/r]}function i(e,t){return[e[0]-t[0],e[1]-t[1]]}function o(e,t){return[e[0]+t[0],e[1]+t[1]]}function a(e,t){return[e*t[0],e*t[1]]}function s(e){var t=e.getBoundingClientRect();return[t.left,t.top]}this.els||this.$initTransformMeasureNodes();var l=s(this.els[0]),c=s(this.els[1]),u=s(this.els[2]),f=s(this.els[3]),h=r(i(f,c),i(f,u),i(o(c,u),o(f,l))),p=a(1+h[0],i(c,l)),m=a(1+h[1],i(u,l));if(t){var g=t,v=h[0]*g[0]/d+h[1]*g[1]/d+1,b=o(a(g[0],p),a(g[1],m));return o(a(1/v/d,b),l)}var y=i(e,l),C=r(i(p,a(h[0],y)),i(m,a(h[1],y)),y);return a(d,C)}}).call(f.prototype)})),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/lib/useragent"],(function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./lib/dom"),o=e("./config"),a=e("./layer/gutter").Gutter,s=e("./layer/marker").Marker,l=e("./layer/text").Text,c=e("./layer/cursor").Cursor,u=e("./scrollbar").HScrollBar,d=e("./scrollbar").VScrollBar,f=e("./renderloop").RenderLoop,h=e("./layer/font_metrics").FontMetrics,p=e("./lib/event_emitter").EventEmitter,m='.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}.ace_editor {position: relative;overflow: hidden;padding: 0;font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;direction: ltr;text-align: left;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;box-sizing: border-box;min-width: 100%;contain: style size layout;font-variant-ligatures: no-common-ligatures;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: \'\';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;contain: style size layout;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {position: absolute;top: 0;left: 0;right: 0;padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {contain: strict;position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;contain: strict;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: transparent;color: inherit;z-index: 1000;opacity: 1;}.ace_composition_placeholder { color: transparent }.ace_composition_marker { border-bottom: 1px solid;position: absolute;border-radius: 0;margin-top: 1px;}[ace_nocontext=true] {transform: none!important;filter: none!important;clip-path: none!important;mask : none!important;contain: none!important;perspective: none!important;mix-blend-mode: initial!important;z-index: auto;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;height: 1000000px;contain: style size layout;}.ace_text-layer {font: inherit !important;position: absolute;height: 1000000px;width: 1000000px;contain: style size layout;}.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {contain: style size layout;position: absolute;top: 0;left: 0;right: 0;}.ace_hidpi .ace_text-layer,.ace_hidpi .ace_gutter-layer,.ace_hidpi .ace_content,.ace_hidpi .ace_gutter {contain: strict;will-change: transform;}.ace_hidpi .ace_text-layer > .ace_line, .ace_hidpi .ace_text-layer > .ace_line_group {contain: strict;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {opacity: 0;}.ace_smooth-blinking .ace_cursor {transition: opacity 0.18s;}.ace_animate-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: step-end;animation-name: blink-ace-animate;animation-iteration-count: infinite;}.ace_animate-blinking.ace_smooth-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: ease-in-out;animation-name: blink-ace-animate-smooth;}@keyframes blink-ace-animate {from, to { opacity: 1; }60% { opacity: 0; }}@keyframes blink-ace-animate-smooth {from, to { opacity: 1; }45% { opacity: 1; }60% { opacity: 0; }85% { opacity: 0; }}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_error_bracket {position: absolute;border-bottom: 1px solid #DE5555;border-radius: 0;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;box-sizing: border-box;}.ace_line .ace_fold {box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_inline_button {border: 1px solid lightgray;display: inline-block;margin: -1px 8px;padding: 0 5px;pointer-events: auto;cursor: pointer;}.ace_inline_button:hover {border-color: gray;background: rgba(200,200,200,0.2);display: inline-block;pointer-events: auto;}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_mobile-menu {position: absolute;line-height: 1.5;border-radius: 4px;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;background: white;box-shadow: 1px 3px 2px grey;border: 1px solid #dcdcdc;color: black;}.ace_dark > .ace_mobile-menu {background: #333;color: #ccc;box-shadow: 1px 3px 2px grey;border: 1px solid #444;}.ace_mobile-button {padding: 2px;cursor: pointer;overflow: hidden;}.ace_mobile-button:hover {background-color: #eee;opacity:1;}.ace_mobile-button:active {background-color: #ddd;}.ace_placeholder {font-family: arial;transform: scale(0.9);transform-origin: left;white-space: pre;opacity: 0.7;margin: 0 10px;}',g=e("./lib/useragent"),v=g.isIE;i.importCssString(m,"ace_editor.css");var b=function(e,t){var n=this;this.container=e||i.createElement("div"),i.addCssClass(this.container,"ace_editor"),i.HI_DPI&&i.addCssClass(this.container,"ace_hidpi"),this.setTheme(t),this.$gutter=i.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden",!0),this.scroller=i.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=i.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new a(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new s(this.content);var r=this.$textLayer=new l(this.content);this.canvas=r.element,this.$markerFront=new s(this.content),this.$cursorLayer=new c(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new d(this.container,this),this.scrollBarH=new u(this.container,this),this.scrollBarV.on("scroll",(function(e){n.$scrollAnimation||n.session.setScrollTop(e.data-n.scrollMargin.top)})),this.scrollBarH.on("scroll",(function(e){n.$scrollAnimation||n.session.setScrollLeft(e.data-n.scrollMargin.left)})),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new h(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",(function(e){n.updateCharacterSize(),n.onResize(!0,n.gutterWidth,n.$size.width,n.$size.height),n._signal("changeCharacterSize",e)})),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!g.isIOS,this.$loop=new f(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),o.resetOptions(this),o._signal("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,r.implement(this,p),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),i.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},this.setSession=function(e){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=e,e&&this.scrollMargin.top&&e.getScrollTop()<=0&&e.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(e),this.$markerBack.setSession(e),this.$markerFront.setSession(e),this.$gutterLayer.setSession(e),this.$textLayer.setSession(e),e&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(e,t,n){if(void 0===t&&(t=1/0),this.$changedLines?(this.$changedLines.firstRow>e&&(this.$changedLines.firstRow=e),this.$changedLines.lastRow<t&&(this.$changedLines.lastRow=t)):this.$changedLines={firstRow:e,lastRow:t},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!n)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(e){e?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(e,t,n,r){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=e?1:0;var i=this.container;r||(r=i.clientHeight||i.scrollHeight),n||(n=i.clientWidth||i.scrollWidth);var o=this.$updateCachedSize(e,t,n,r);if(!this.$size.scrollerHeight||!n&&!r)return this.resizing=0;e&&(this.$gutterLayer.$padding=null),e?this.$renderChanges(o|this.$changes,!0):this.$loop.schedule(o|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null}},this.$updateCachedSize=function(e,t,n,r){r-=this.$extraHeight||0;var o=0,a=this.$size,s={width:a.width,height:a.height,scrollerHeight:a.scrollerHeight,scrollerWidth:a.scrollerWidth};if(r&&(e||a.height!=r)&&(a.height=r,o|=this.CHANGE_SIZE,a.scrollerHeight=a.height,this.$horizScroll&&(a.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",o|=this.CHANGE_SCROLL),n&&(e||a.width!=n)){o|=this.CHANGE_SIZE,a.width=n,null==t&&(t=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=t,i.setStyle(this.scrollBarH.element.style,"left",t+"px"),i.setStyle(this.scroller.style,"left",t+this.margin.left+"px"),a.scrollerWidth=Math.max(0,n-t-this.scrollBarV.getWidth()-this.margin.h),i.setStyle(this.$gutter.style,"left",this.margin.left+"px");var l=this.scrollBarV.getWidth()+"px";i.setStyle(this.scrollBarH.element.style,"right",l),i.setStyle(this.scroller.style,"right",l),i.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||e)&&(o|=this.CHANGE_FULL)}return a.$dirty=!n||!r,o&&this._signal("resize",s),o},this.onGutterResize=function(e){var t=this.$showGutter?e:0;t!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,t,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()||this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},this.adjustWrapLimit=function(){var e=this.$size.scrollerWidth-2*this.$padding,t=Math.floor(e/this.characterWidth);return this.session.adjustWrapLimit(t,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(e){this.setOption("animatedScroll",e)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(e){this.setOption("showInvisibles",e),this.session.$bidiHandler.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(e){this.setOption("displayIndentGuides",e)},this.setShowPrintMargin=function(e){this.setOption("showPrintMargin",e)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(e){this.setOption("printMarginColumn",e)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(e){return this.setOption("showGutter",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var e=i.createElement("div");e.className="ace_layer ace_print-margin-layer",this.$printMarginEl=i.createElement("div"),this.$printMarginEl.className="ace_print-margin",e.appendChild(this.$printMarginEl),this.content.insertBefore(e,this.content.firstChild)}var t=this.$printMarginEl.style;t.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",t.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var e=this.textarea.style,t=this.$composition;if(this.$keepTextAreaAtCursor||t){var n=this.$cursorLayer.$pixelPos;if(n){t&&t.markerRange&&(n=this.$cursorLayer.getPixelPosition(t.markerRange.start,!0));var r=this.layerConfig,o=n.top,a=n.left;o-=r.offset;var s=t&&t.useTextareaForIME?this.lineHeight:v?0:1;if(o<0||o>r.height-s)i.translate(this.textarea,0,0);else{var l=1,c=this.$size.height-s;if(t)if(t.useTextareaForIME){var u=this.textarea.value;l=this.characterWidth*this.session.$getStringScreenWidth(u)[0]}else o+=this.lineHeight+2;else o+=this.lineHeight;a-=this.scrollLeft,a>this.$size.scrollerWidth-l&&(a=this.$size.scrollerWidth-l),a+=this.gutterWidth+this.margin.left,i.setStyle(e,"height",s+"px"),i.setStyle(e,"width",l+"px"),i.translate(this.textarea,Math.min(a,this.$size.scrollerWidth-l),Math.min(o,c))}}}else i.translate(this.textarea,-100,0)}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},this.getLastFullyVisibleRow=function(){var e=this.layerConfig,t=e.lastRow,n=this.session.documentToScreenRow(t,0)*e.lineHeight;return n-this.session.getScrollTop()>e.height-e.lineHeight?t-1:t},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(e){this.$padding=e,this.$textLayer.setPadding(e),this.$cursorLayer.setPadding(e),this.$markerFront.setPadding(e),this.$markerBack.setPadding(e),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(e,t,n,r){var i=this.scrollMargin;i.top=0|e,i.bottom=0|t,i.right=0|r,i.left=0|n,i.v=i.top+i.bottom,i.h=i.left+i.right,i.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-i.top),this.updateFull()},this.setMargin=function(e,t,n,r){var i=this.margin;i.top=0|e,i.bottom=0|t,i.right=0|r,i.left=0|n,i.v=i.top+i.bottom,i.h=i.left+i.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(e){this.setOption("hScrollBarAlwaysVisible",e)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(e){this.setOption("vScrollBarAlwaysVisible",e)},this.$updateScrollBarV=function(){var e=this.layerConfig.maxHeight,t=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(e-=(t-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>e-t&&(e=this.scrollTop+t,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(e+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(e,t){if(this.$changes&&(e|=this.$changes,this.$changes=0),this.session&&this.container.offsetWidth&&!this.$frozen&&(e||t)){if(this.$size.$dirty)return this.$changes|=e,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",e),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var n=this.layerConfig;if(e&this.CHANGE_FULL||e&this.CHANGE_SIZE||e&this.CHANGE_TEXT||e&this.CHANGE_LINES||e&this.CHANGE_SCROLL||e&this.CHANGE_H_SCROLL){if(e|=this.$computeLayerConfig()|this.$loop.clear(),n.firstRow!=this.layerConfig.firstRow&&n.firstRowScreen==this.layerConfig.firstRowScreen){var r=this.scrollTop+(n.firstRow-this.layerConfig.firstRow)*this.lineHeight;r>0&&(this.scrollTop=r,e|=this.CHANGE_SCROLL,e|=this.$computeLayerConfig()|this.$loop.clear())}n=this.layerConfig,this.$updateScrollBarV(),e&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),i.translate(this.content,-this.scrollLeft,-n.offset);var o=n.width+2*this.$padding+"px",a=n.minHeight+"px";i.setStyle(this.content.style,"width",o),i.setStyle(this.content.style,"height",a)}if(e&this.CHANGE_H_SCROLL&&(i.translate(this.content,-this.scrollLeft,-n.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),e&this.CHANGE_FULL)return this.$changedLines=null,this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),void this._signal("afterRender",e);if(e&this.CHANGE_SCROLL)return this.$changedLines=null,e&this.CHANGE_TEXT||e&this.CHANGE_LINES?this.$textLayer.update(n):this.$textLayer.scrollLines(n),this.$showGutter&&(e&this.CHANGE_GUTTER||e&this.CHANGE_LINES?this.$gutterLayer.update(n):this.$gutterLayer.scrollLines(n)),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),void this._signal("afterRender",e);e&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n)):e&this.CHANGE_LINES?(this.$updateLines()||e&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(n):e&this.CHANGE_TEXT||e&this.CHANGE_GUTTER?this.$showGutter&&this.$gutterLayer.update(n):e&this.CHANGE_CURSOR&&this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(n),e&this.CHANGE_CURSOR&&(this.$cursorLayer.update(n),this.$moveTextAreaToCursor()),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(n),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(n),this._signal("afterRender",e)}else this.$changes|=e},this.$autosize=function(){var e=this.session.getScreenLength()*this.lineHeight,t=this.$maxLines*this.lineHeight,n=Math.min(t,Math.max((this.$minLines||1)*this.lineHeight,e))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(n+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&n>this.$maxPixelHeight&&(n=this.$maxPixelHeight);var r=n<=2*this.lineHeight,i=!r&&e>t;if(n!=this.desiredHeight||this.$size.height!=this.desiredHeight||i!=this.$vScroll){i!=this.$vScroll&&(this.$vScroll=i,this.scrollBarV.setVisible(i));var o=this.container.clientWidth;this.container.style.height=n+"px",this.$updateCachedSize(!0,this.$gutterWidth,o,n),this.desiredHeight=n,this._signal("autosize")}},this.$computeLayerConfig=function(){var e=this.session,t=this.$size,n=t.height<=2*this.lineHeight,r=this.session.getScreenLength(),i=r*this.lineHeight,o=this.$getLongestLine(),a=!n&&(this.$hScrollBarAlwaysVisible||t.scrollerWidth-o-2*this.$padding<0),s=this.$horizScroll!==a;s&&(this.$horizScroll=a,this.scrollBarH.setVisible(a));var l=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var c=t.scrollerHeight+this.lineHeight,u=!this.$maxLines&&this.$scrollPastEnd?(t.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;i+=u;var d=this.scrollMargin;this.session.setScrollTop(Math.max(-d.top,Math.min(this.scrollTop,i-t.scrollerHeight+d.bottom))),this.session.setScrollLeft(Math.max(-d.left,Math.min(this.scrollLeft,o+2*this.$padding-t.scrollerWidth+d.right)));var f=!n&&(this.$vScrollBarAlwaysVisible||t.scrollerHeight-i+u<0||this.scrollTop>d.top),h=l!==f;h&&(this.$vScroll=f,this.scrollBarV.setVisible(f));var p,m,g=this.scrollTop%this.lineHeight,v=Math.ceil(c/this.lineHeight)-1,b=Math.max(0,Math.round((this.scrollTop-g)/this.lineHeight)),y=b+v,C=this.lineHeight;b=e.screenToDocumentRow(b,0);var w=e.getFoldLine(b);w&&(b=w.start.row),p=e.documentToScreenRow(b,0),m=e.getRowLength(b)*C,y=Math.min(e.screenToDocumentRow(y,0),e.getLength()-1),c=t.scrollerHeight+e.getRowLength(y)*C+m,g=this.scrollTop-p*C;var x=0;return(this.layerConfig.width!=o||s)&&(x=this.CHANGE_H_SCROLL),(s||h)&&(x|=this.$updateCachedSize(!0,this.gutterWidth,t.width,t.height),this._signal("scrollbarVisibilityChanged"),h&&(o=this.$getLongestLine())),this.layerConfig={width:o,padding:this.$padding,firstRow:b,firstRowScreen:p,lastRow:y,lineHeight:C,characterWidth:this.characterWidth,minHeight:c,maxHeight:i,offset:g,gutterOffset:C?Math.max(0,Math.ceil((g+t.height-t.scrollerHeight)/C)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(o-this.$padding),x},this.$updateLines=function(){if(this.$changedLines){var e=this.$changedLines.firstRow,t=this.$changedLines.lastRow;this.$changedLines=null;var n=this.layerConfig;if(!(e>n.lastRow+1)&&!(t<n.firstRow))return t===1/0?(this.$showGutter&&this.$gutterLayer.update(n),void this.$textLayer.update(n)):(this.$textLayer.updateLines(n,e,t),!0)}},this.$getLongestLine=function(){var e=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(e+=1),this.$textLayer&&e>this.$textLayer.MAX_LINE_LENGTH&&(e=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(e*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(e,t){this.$gutterLayer.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){this.$gutterLayer.removeGutterDecoration(e,t)},this.updateBreakpoints=function(e){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(e){this.$gutterLayer.setAnnotations(e),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(e,t,n){this.scrollCursorIntoView(e,n),this.scrollCursorIntoView(t,n)},this.scrollCursorIntoView=function(e,t,n){if(0!==this.$size.scrollerHeight){var r=this.$cursorLayer.getPixelPosition(e),i=r.left,o=r.top,a=n&&n.top||0,s=n&&n.bottom||0,l=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;l+a>o?(t&&l+a>o+this.lineHeight&&(o-=t*this.$size.scrollerHeight),0===o&&(o=-this.scrollMargin.top),this.session.setScrollTop(o)):l+this.$size.scrollerHeight-s<o+this.lineHeight&&(t&&l+this.$size.scrollerHeight-s<o-this.lineHeight&&(o+=t*this.$size.scrollerHeight),this.session.setScrollTop(o+this.lineHeight+s-this.$size.scrollerHeight));var c=this.scrollLeft;c>i?(i<this.$padding+2*this.layerConfig.characterWidth&&(i=-this.scrollMargin.left),this.session.setScrollLeft(i)):c+this.$size.scrollerWidth<i+this.characterWidth?this.session.setScrollLeft(Math.round(i+this.characterWidth-this.$size.scrollerWidth)):c<=this.$padding&&i-c<this.characterWidth&&this.session.setScrollLeft(0)}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(e){this.session.setScrollTop(e*this.lineHeight)},this.alignCursor=function(e,t){"number"==typeof e&&(e={row:e,column:0});var n=this.$cursorLayer.getPixelPosition(e),r=this.$size.scrollerHeight-this.lineHeight,i=n.top-r*(t||0);return this.session.setScrollTop(i),i},this.STEPS=8,this.$calcSteps=function(e,t){var n=0,r=this.STEPS,i=[],o=function(e,t,n){return n*(Math.pow(e-1,3)+1)+t};for(n=0;n<r;++n)i.push(o(n/this.STEPS,e,t-e));return i},this.scrollToLine=function(e,t,n,r){var i=this.$cursorLayer.getPixelPosition({row:e,column:0}),o=i.top;t&&(o-=this.$size.scrollerHeight/2);var a=this.scrollTop;this.session.setScrollTop(o),!1!==n&&this.animateScrolling(a,r)},this.animateScrolling=function(e,t){var n=this.scrollTop;if(this.$animatedScroll){var r=this;if(e!=n){if(this.$scrollAnimation){var i=this.$scrollAnimation.steps;if(i.length&&(e=i[0],e==n))return}var o=r.$calcSteps(e,n);this.$scrollAnimation={from:e,to:n,steps:o},clearInterval(this.$timer),r.session.setScrollTop(o.shift()),r.session.$scrollTop=n,this.$timer=setInterval((function(){if(!r.session)return clearInterval(r.$timer);o.length?(r.session.setScrollTop(o.shift()),r.session.$scrollTop=n):null!=n?(r.session.$scrollTop=-1,r.session.setScrollTop(n),n=null):(r.$timer=clearInterval(r.$timer),r.$scrollAnimation=null,t&&t())}),10)}}},this.scrollToY=function(e){this.scrollTop!==e&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=e)},this.scrollToX=function(e){this.scrollLeft!==e&&(this.scrollLeft=e),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(e,t){this.session.setScrollTop(t),this.session.setScrollLeft(t)},this.scrollBy=function(e,t){t&&this.session.setScrollTop(this.session.getScrollTop()+t),e&&this.session.setScrollLeft(this.session.getScrollLeft()+e)},this.isScrollableBy=function(e,t){return t<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||(t>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||(e<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||(e>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right||void 0)))},this.pixelToScreenCoordinates=function(e,t){var n;if(this.$hasCssTransforms){n={top:0,left:0};var r=this.$fontMetrics.transformCoordinates([e,t]);e=r[1]-this.gutterWidth-this.margin.left,t=r[0]}else n=this.scroller.getBoundingClientRect();var i=e+this.scrollLeft-n.left-this.$padding,o=i/this.characterWidth,a=Math.floor((t+this.scrollTop-n.top)/this.lineHeight),s=this.$blockCursor?Math.floor(o):Math.round(o);return{row:a,column:s,side:o-s>0?1:-1,offsetX:i}},this.screenToTextCoordinates=function(e,t){var n;if(this.$hasCssTransforms){n={top:0,left:0};var r=this.$fontMetrics.transformCoordinates([e,t]);e=r[1]-this.gutterWidth-this.margin.left,t=r[0]}else n=this.scroller.getBoundingClientRect();var i=e+this.scrollLeft-n.left-this.$padding,o=i/this.characterWidth,a=this.$blockCursor?Math.floor(o):Math.round(o),s=Math.floor((t+this.scrollTop-n.top)/this.lineHeight);return this.session.screenToDocumentPosition(s,Math.max(a,0),i)},this.textToScreenCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),r=this.session.documentToScreenPosition(e,t),i=this.$padding+(this.session.$bidiHandler.isBidiRow(r.row,e)?this.session.$bidiHandler.getPosLeft(r.column):Math.round(r.column*this.characterWidth)),o=r.row*this.lineHeight;return{pageX:n.left+i-this.scrollLeft,pageY:n.top+o-this.scrollTop}},this.visualizeFocus=function(){i.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){i.removeCssClass(this.container,"ace_focus")},this.showComposition=function(e){this.$composition=e,e.cssText||(e.cssText=this.textarea.style.cssText),void 0==e.useTextareaForIME&&(e.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(i.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):e.markerId=this.session.addMarker(e.markerRange,"ace_composition_marker","text")},this.setCompositionText=function(e){var t=this.session.selection.cursor;this.addToken(e,"composition_placeholder",t.row,t.column),this.$moveTextAreaToCursor()},this.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),i.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var e=this.session.selection.cursor;this.removeExtraToken(e.row,e.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},this.addToken=function(e,t,n,r){var i=this.session;i.bgTokenizer.lines[n]=null;var o={type:t,value:e},a=i.getTokens(n);if(null==r)a.push(o);else for(var s=0,l=0;l<a.length;l++){var c=a[l];if(s+=c.value.length,r<=s){var u=c.value.length-(s-r),d=c.value.slice(0,u),f=c.value.slice(u);a.splice(l,1,{type:c.type,value:d},o,{type:c.type,value:f});break}}this.updateLines(n,n)},this.removeExtraToken=function(e,t){this.updateLines(e,e)},this.setTheme=function(e,t){var n=this;if(this.$themeId=e,n._dispatchEvent("themeChange",{theme:e}),e&&"string"!=typeof e)a(e);else{var r=e||this.$options.theme.initialValue;o.loadModule(["theme",r],a)}function a(r){if(n.$themeId!=e)return t&&t();if(!r||!r.cssClass)throw new Error("couldn't load module "+e+" or it didn't call define");r.$id&&(n.$themeId=r.$id),i.importCssString(r.cssText,r.cssClass,n.container),n.theme&&i.removeCssClass(n.container,n.theme.cssClass);var o="padding"in r?r.padding:"padding"in(n.theme||{})?4:n.$padding;n.$padding&&o!=n.$padding&&n.setPadding(o),n.$theme=r.cssClass,n.theme=r,i.addCssClass(n.container,r.cssClass),i.setCssClass(n.container,"ace_dark",r.isDark),n.$size&&(n.$size.width=0,n.$updateSizeAsync()),n._dispatchEvent("themeLoaded",{theme:r}),t&&t()}},this.getTheme=function(){return this.$themeId},this.setStyle=function(e,t){i.setCssClass(this.container,e,!1!==t)},this.unsetStyle=function(e){i.removeCssClass(this.container,e)},this.setCursorStyle=function(e){i.setStyle(this.scroller.style,"cursor",e)},this.setMouseCursor=function(e){i.setStyle(this.scroller.style,"cursor",e)},this.attachToShadowRoot=function(){i.importCssString(m,"ace_editor.css",this.container)},this.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent=""}}).call(b.prototype),o.defineOptions(b.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(e){this.$textLayer.setShowInvisibles(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(e){"number"==typeof e&&(this.$printMarginColumn=e),this.$showPrintMargin=!!e,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(e){this.$gutter.style.display=e?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(e){i.setCssClass(this.$gutter,"ace_fade-fold-widgets",e)},initialValue:!1},showFoldWidgets:{set:function(e){this.$gutterLayer.setShowFoldWidgets(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(e){this.$textLayer.setDisplayIndentGuides(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(e){this.$gutterLayer.setHighlightGutterLine(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(e){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(e){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(e){"number"==typeof e&&(e+="px"),this.container.style.fontSize=e,this.updateFontSize()},initialValue:12},fontFamily:{set:function(e){this.container.style.fontFamily=e,this.updateFontSize()}},maxLines:{set:function(e){this.updateFull()}},minLines:{set:function(e){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(e){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(e){e=+e||0,this.$scrollPastEnd!=e&&(this.$scrollPastEnd=e,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(e){this.$gutterLayer.$fixedWidth=!!e,this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(e){this.setTheme(e)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!g.isMobile&&!g.isIE}}),t.VirtualRenderer=b})),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],(function(e,t,n){"use strict";var r=e("../lib/oop"),i=e("../lib/net"),o=e("../lib/event_emitter").EventEmitter,a=e("../config");function s(e){var t="importScripts('"+i.qualifyURL(e)+"');";try{return new Blob([t],{type:"application/javascript"})}catch(o){var n=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,r=new n;return r.append(t),r.getBlob("application/javascript")}}function l(e){if("undefined"==typeof Worker)return{postMessage:function(){},terminate:function(){}};if(a.get("loadWorkerFromBlob")){var t=s(e),n=window.URL||window.webkitURL,r=n.createObjectURL(t);return new Worker(r)}return new Worker(e)}var c=function(e){e.postMessage||(e=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=e,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){r.implement(this,o),this.$createWorkerFromOldConfig=function(t,n,r,i,o){if(e.nameToUrl&&!e.toUrl&&(e.toUrl=e.nameToUrl),a.get("packaged")||!e.toUrl)i=i||a.moduleUrl(n,"worker");else{var s=this.$normalizePath;i=i||s(e.toUrl("ace/worker/worker.js",null,"_"));var c={};t.forEach((function(t){c[t]=s(e.toUrl(t,null,"_").replace(/(\.js)?(\?.*)?$/,""))}))}return this.$worker=l(i),o&&this.send("importScripts",o),this.$worker.postMessage({init:!0,tlns:c,module:n,classname:r}),this.$worker},this.onMessage=function(e){var t=e.data;switch(t.type){case"event":this._signal(t.name,{data:t.data});break;case"call":var n=this.callbacks[t.id];n&&(n(t.data),delete this.callbacks[t.id]);break;case"error":this.reportError(t.data);break;case"log":window.console&&console.log;break}},this.reportError=function(e){window.console&&console.error},this.$normalizePath=function(e){return i.qualifyURL(e)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(e,t){this.$worker.postMessage({command:e,args:t})},this.call=function(e,t,n){if(n){var r=this.callbackId++;this.callbacks[r]=n,t.push(r)}this.send(e,t)},this.emit=function(e,t){try{t.data&&t.data.err&&(t.data.err={message:t.data.err.message,stack:t.data.err.stack,code:t.data.err.code}),this.$worker.postMessage({event:e,data:{data:t.data}})}catch(n){}},this.attachToDocument=function(e){this.$doc&&this.terminate(),this.$doc=e,this.call("setValue",[e.getValue()]),e.on("change",this.changeListener)},this.changeListener=function(e){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),"insert"==e.action?this.deltaQueue.push(e.start,e.lines):this.deltaQueue.push(e.start,e.end)},this.$sendDeltaQueue=function(){var e=this.deltaQueue;e&&(this.deltaQueue=null,e.length>50&&e.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:e}))}}).call(c.prototype);var u=function(e,t,n){var r=null,i=!1,s=Object.create(o),l=[],u=new c({messageBuffer:l,terminate:function(){},postMessage:function(e){l.push(e),r&&(i?setTimeout(d):d())}});u.setEmitSync=function(e){i=e};var d=function(){var e=l.shift();e.command?r[e.command].apply(r,e.args):e.event&&s._signal(e.event,e.data)};return s.postMessage=function(e){u.onMessage({data:e})},s.callback=function(e,t){this.postMessage({type:"call",id:t,data:e})},s.emit=function(e,t){this.postMessage({type:"event",name:e,data:t})},a.loadModule(["worker",t],(function(e){r=new e[n](s);while(l.length)d()})),u};t.UIWorkerClient=u,t.WorkerClient=c,t.createWorker=l})),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],(function(e,t,n){"use strict";var r=e("./range").Range,i=e("./lib/event_emitter").EventEmitter,o=e("./lib/oop"),a=function(e,t,n,r,i,o){var a=this;this.length=t,this.session=e,this.doc=e.getDocument(),this.mainClass=i,this.othersClass=o,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate),this.$others=r,this.$onCursorChange=function(){setTimeout((function(){a.onCursorChange()}))},this.$pos=n;var s=e.getUndoManager().$undoStack||e.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=s.length,this.setup(),e.selection.on("changeCursor",this.$onCursorChange)};(function(){o.implement(this,i),this.setup=function(){var e=this,t=this.doc,n=this.session;this.selectionBefore=n.selection.toJSON(),n.selection.inMultiSelectMode&&n.selection.toSingleRange(),this.pos=t.createAnchor(this.$pos.row,this.$pos.column);var i=this.pos;i.$insertRight=!0,i.detach(),i.markerId=n.addMarker(new r(i.row,i.column,i.row,i.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach((function(n){var r=t.createAnchor(n.row,n.column);r.$insertRight=!0,r.detach(),e.others.push(r)})),n.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var e=this.session,t=this;this.othersActive=!0,this.others.forEach((function(n){n.markerId=e.addMarker(new r(n.row,n.column,n.row,n.column+t.length),t.othersClass,null,!1)}))}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var e=0;e<this.others.length;e++)this.session.removeMarker(this.others[e].markerId)}},this.onUpdate=function(e){if(this.$updating)return this.updateAnchors(e);var t=e;if(t.start.row===t.end.row&&t.start.row===this.pos.row){this.$updating=!0;var n="insert"===e.action?t.end.column-t.start.column:t.start.column-t.end.column,i=t.start.column>=this.pos.column&&t.start.column<=this.pos.column+this.length+1,o=t.start.column-this.pos.column;if(this.updateAnchors(e),i&&(this.length+=n),i&&!this.session.$fromUndo)if("insert"===e.action)for(var a=this.others.length-1;a>=0;a--){var s=this.others[a],l={row:s.row,column:s.column+o};this.doc.insertMergedLines(l,e.lines)}else if("remove"===e.action)for(a=this.others.length-1;a>=0;a--){s=this.others[a],l={row:s.row,column:s.column+o};this.doc.remove(new r(l.row,l.column,l.row,l.column-n))}this.$updating=!1,this.updateMarkers()}},this.updateAnchors=function(e){this.pos.onChange(e);for(var t=this.others.length;t--;)this.others[t].onChange(e);this.updateMarkers()},this.updateMarkers=function(){if(!this.$updating){var e=this,t=this.session,n=function(n,i){t.removeMarker(n.markerId),n.markerId=t.addMarker(new r(n.row,n.column,n.row,n.column+e.length),i,null,!1)};n(this.pos,this.mainClass);for(var i=this.others.length;i--;)n(this.others[i],this.othersClass)}},this.onCursorChange=function(e){if(!this.$updating&&this.session){var t=this.session.selection.getCursor();t.row===this.pos.row&&t.column>=this.pos.column&&t.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",e)):(this.hideOtherMarkers(),this._emit("cursorLeave",e))}},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(-1!==this.$undoStackDepth){for(var e=this.session.getUndoManager(),t=(e.$undoStack||e.$undostack).length-this.$undoStackDepth,n=0;n<t;n++)e.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(a.prototype),t.PlaceHolder=a})),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(e,t,n){var r=e("../lib/event"),i=e("../lib/useragent");function o(e,t){return e.row==t.row&&e.column==t.column}function a(e){var t=e.domEvent,n=t.altKey,a=t.shiftKey,s=t.ctrlKey,l=e.getAccelKey(),c=e.getButton();if(s&&i.isMac&&(c=t.button),e.editor.inMultiSelectMode&&2==c)e.editor.textInput.onContextMenu(e.domEvent);else if(s||n||l){if(0===c){var u,d=e.editor,f=d.selection,h=d.inMultiSelectMode,p=e.getDocumentPosition(),m=f.getCursor(),g=e.inSelection()||f.isEmpty()&&o(p,m),v=e.x,b=e.y,y=function(e){v=e.clientX,b=e.clientY},C=d.session,w=d.renderer.pixelToScreenCoordinates(v,b),x=w;if(d.$mouseHandler.$enableJumpToDef)s&&n||l&&n?u=a?"block":"add":n&&d.$blockSelectEnabled&&(u="block");else if(l&&!n){if(u="add",!h&&a)return}else n&&d.$blockSelectEnabled&&(u="block");if(u&&i.isMac&&t.ctrlKey&&d.$mouseHandler.cancelContextMenu(),"add"==u){if(!h&&g)return;if(!h){var I=f.toOrientedRange();d.addSelectionMarker(I)}var A=f.rangeList.rangeAtPoint(p);d.inVirtualSelectionMode=!0,a&&(A=null,I=f.ranges[0]||I,d.removeSelectionMarker(I)),d.once("mouseup",(function(){var e=f.toOrientedRange();A&&e.isEmpty()&&o(A.cursor,e.cursor)?f.substractPoint(e.cursor):(a?f.substractPoint(I.cursor):I&&(d.removeSelectionMarker(I),f.addRange(I)),f.addRange(e)),d.inVirtualSelectionMode=!1}))}else if("block"==u){var k;e.stop(),d.inVirtualSelectionMode=!0;var S=[],_=function(){var e=d.renderer.pixelToScreenCoordinates(v,b),t=C.screenToDocumentPosition(e.row,e.column,e.offsetX);o(x,e)&&o(t,f.lead)||(x=e,d.selection.moveToPosition(t),d.renderer.scrollCursorIntoView(),d.removeSelectionMarkers(S),S=f.rectangularRangeBlock(x,w),d.$mouseHandler.$clickSelection&&1==S.length&&S[0].isEmpty()&&(S[0]=d.$mouseHandler.$clickSelection.clone()),S.forEach(d.addSelectionMarker,d),d.updateSelectionMarkers())};h&&!l?f.toSingleRange():!h&&l&&(k=f.toOrientedRange(),d.addSelectionMarker(k)),a?w=C.documentToScreenPosition(f.lead):f.moveToPosition(p),x={row:-1,column:-1};var T=function(e){_(),clearInterval(O),d.removeSelectionMarkers(S),S.length||(S=[f.toOrientedRange()]),k&&(d.removeSelectionMarker(k),f.toSingleRange(k));for(var t=0;t<S.length;t++)f.addRange(S[t]);d.inVirtualSelectionMode=!1,d.$mouseHandler.$clickSelection=null},E=_;r.capture(d.container,y,T);var O=setInterval((function(){E()}),20);return e.preventDefault()}}}else 0===c&&e.editor.inMultiSelectMode&&e.editor.exitMultiSelectMode()}t.onMouseDown=a})),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],(function(e,t,n){t.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(e){e.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(e){e.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(e){e.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(e){e.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(e){e.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(e){e.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(e){e.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(e){e.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split into lines",exec:function(e){e.multiSelect.rangeCount>1?e.multiSelect.joinSelections():e.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(e){e.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(e){e.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(e){e.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],t.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(e){e.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(e){return e&&e.inMultiSelectMode}}];var r=e("../keyboard/hash_handler").HashHandler;t.keyboardHandler=new r(t.multiSelectCommands)})),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],(function(e,t,n){var r=e("./range_list").RangeList,i=e("./range").Range,o=e("./selection").Selection,a=e("./mouse/multi_select_handler").onMouseDown,s=e("./lib/event"),l=e("./lib/lang"),c=e("./commands/multi_select_commands");t.commands=c.defaultCommands.concat(c.multiSelectCommands);var u=e("./search").Search,d=new u;function f(e,t,n){return d.$options.wrap=!0,d.$options.needle=t,d.$options.backwards=-1==n,d.find(e)}var h=e("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(h.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(e,t){if(e){if(!this.inMultiSelectMode&&0===this.rangeCount){var n=this.toOrientedRange();if(this.rangeList.add(n),this.rangeList.add(e),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),t||this.fromOrientedRange(e);this.rangeList.removeAll(),this.rangeList.add(n),this.$onAddRange(n)}e.cursor||(e.cursor=e.end);var r=this.rangeList.add(e);return this.$onAddRange(e),r.length&&this.$onRemoveRange(r),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),t||this.fromOrientedRange(e)}},this.toSingleRange=function(e){e=e||this.ranges[0];var t=this.rangeList.removeAll();t.length&&this.$onRemoveRange(t),e&&this.fromOrientedRange(e)},this.substractPoint=function(e){var t=this.rangeList.substractPoint(e);if(t)return this.$onRemoveRange(t),t[0]},this.mergeOverlappingRanges=function(){var e=this.rangeList.merge();e.length&&this.$onRemoveRange(e)},this.$onAddRange=function(e){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(e),this._signal("addRange",{range:e})},this.$onRemoveRange=function(e){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var t=this.rangeList.ranges.pop();e.push(t),this.rangeCount=0}for(var n=e.length;n--;){var r=this.ranges.indexOf(e[n]);this.ranges.splice(r,1)}this._signal("removeRange",{ranges:e}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),t=t||this.ranges[0],t&&!t.isEqual(this.getRange())&&this.fromOrientedRange(t)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new r,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var e=this.ranges.length?this.ranges:[this.getRange()],t=[],n=0;n<e.length;n++){var r=e[n],o=r.start.row,a=r.end.row;if(o===a)t.push(r.clone());else{t.push(new i(o,r.start.column,o,this.session.getLine(o).length));while(++o<a)t.push(this.getLineRange(o,!0));t.push(new i(a,0,a,r.end.column))}0!=n||this.isBackwards()||(t=t.reverse())}this.toSingleRange();for(n=t.length;n--;)this.addRange(t[n])},this.joinSelections=function(){var e=this.rangeList.ranges,t=e[e.length-1],n=i.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],n=i.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)}else{var r=this.session.documentToScreenPosition(this.cursor),o=this.session.documentToScreenPosition(this.anchor),a=this.rectangularRangeBlock(r,o);a.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(e,t,n){var r=[],o=e.column<t.column;if(o)var a=e.column,s=t.column,l=e.offsetX,c=t.offsetX;else a=t.column,s=e.column,l=t.offsetX,c=e.offsetX;var u,d=e.row<t.row;if(d)var f=e.row,h=t.row;else f=t.row,h=e.row;a<0&&(a=0),f<0&&(f=0),f==h&&(n=!0);for(var p=f;p<=h;p++){var g=i.fromPoints(this.session.screenToDocumentPosition(p,a,l),this.session.screenToDocumentPosition(p,s,c));if(g.isEmpty()){if(u&&m(g.end,u))break;u=g.end}g.cursor=o?g.start:g.end,r.push(g)}if(d&&r.reverse(),!n){var v=r.length-1;while(r[v].isEmpty()&&v>0)v--;if(v>0){var b=0;while(r[b].isEmpty())b++}for(var y=v;y>=b;y--)r[y].isEmpty()&&r.splice(y,1)}return r}}.call(o.prototype);var p=e("./editor").Editor;function m(e,t){return e.row==t.row&&e.column==t.column}function g(e){e.$multiselectOnSessionChange||(e.$onAddRange=e.$onAddRange.bind(e),e.$onRemoveRange=e.$onRemoveRange.bind(e),e.$onMultiSelect=e.$onMultiSelect.bind(e),e.$onSingleSelect=e.$onSingleSelect.bind(e),e.$multiselectOnSessionChange=t.onSessionChange.bind(e),e.$checkMultiselectChange=e.$checkMultiselectChange.bind(e),e.$multiselectOnSessionChange(e),e.on("changeSession",e.$multiselectOnSessionChange),e.on("mousedown",a),e.commands.addCommands(c.defaultCommands),v(e))}function v(e){if(e.textInput){var t=e.textInput.getElement(),n=!1;s.addListener(t,"keydown",(function(t){var i=18==t.keyCode&&!(t.ctrlKey||t.shiftKey||t.metaKey);e.$blockSelectEnabled&&i?n||(e.renderer.setMouseCursor("crosshair"),n=!0):n&&r()}),e),s.addListener(t,"keyup",r,e),s.addListener(t,"blur",r,e)}function r(t){n&&(e.renderer.setMouseCursor(""),n=!1)}}(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(e){e.cursor||(e.cursor=e.end);var t=this.getSelectionStyle();return e.marker=this.session.addMarker(e,"ace_selection",t),this.session.$selectionMarkers.push(e),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,e},this.removeSelectionMarker=function(e){if(e.marker){this.session.removeMarker(e.marker);var t=this.session.$selectionMarkers.indexOf(e);-1!=t&&this.session.$selectionMarkers.splice(t,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(e){for(var t=this.session.$selectionMarkers,n=e.length;n--;){var r=e[n];if(r.marker){this.session.removeMarker(r.marker);var i=t.indexOf(r);-1!=i&&t.splice(i,1)}}this.session.selectionMarkerCount=t.length},this.$onAddRange=function(e){this.addSelectionMarker(e.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(e){this.removeSelectionMarkers(e.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(e){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(c.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(e){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(c.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(e){var t=e.command,n=e.editor;if(n.multiSelect){if(t.multiSelectAction)"forEach"==t.multiSelectAction?r=n.forEachSelection(t,e.args):"forEachLine"==t.multiSelectAction?r=n.forEachSelection(t,e.args,!0):"single"==t.multiSelectAction?(n.exitMultiSelectMode(),r=t.exec(n,e.args||{})):r=t.multiSelectAction(n,e.args||{});else{var r=t.exec(n,e.args||{});n.multiSelect.addRange(n.multiSelect.toOrientedRange()),n.multiSelect.mergeOverlappingRanges()}return r}},this.forEachSelection=function(e,t,n){if(!this.inVirtualSelectionMode){var r,i=n&&n.keepOrder,a=1==n||n&&n.$byLines,s=this.session,l=this.selection,c=l.rangeList,u=(i?l:c).ranges;if(!u.length)return e.exec?e.exec(this,t||{}):e(this,t||{});var d=l._eventRegistry;l._eventRegistry={};var f=new o(s);this.inVirtualSelectionMode=!0;for(var h=u.length;h--;){if(a)while(h>0&&u[h].start.row==u[h-1].end.row)h--;f.fromOrientedRange(u[h]),f.index=h,this.selection=s.selection=f;var p=e.exec?e.exec(this,t||{}):e(this,t||{});r||void 0===p||(r=p),f.toOrientedRange(u[h])}f.detach(),this.selection=s.selection=l,this.inVirtualSelectionMode=!1,l._eventRegistry=d,l.mergeOverlappingRanges(),l.ranges[0]&&l.fromOrientedRange(l.ranges[0]);var m=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),m&&m.from==m.to&&this.renderer.animateScrolling(m.from),r}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var e="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var t=this.multiSelect.rangeList.ranges,n=[],r=0;r<t.length;r++)n.push(this.session.getTextRange(t[r]));var i=this.session.getDocument().getNewLineCharacter();e=n.join(i),e.length==(n.length-1)*i.length&&(e="")}else this.selection.isEmpty()||(e=this.session.getTextRange(this.getSelectionRange()));return e},this.$checkMultiselectChange=function(e,t){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var n=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&t==this.multiSelect.anchor)return;var r=t==this.multiSelect.anchor?n.cursor==n.start?n.end:n.start:n.cursor;r.row!=t.row||this.session.$clipPositionToDocument(r.row,r.column).column!=t.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(e,t,n){if(t=t||{},t.needle=e||t.needle,void 0==t.needle){var r=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();t.needle=this.session.getTextRange(r)}this.$search.set(t);var i=this.$search.findAll(this.session);if(!i.length)return 0;var o=this.multiSelect;n||o.toSingleRange(i[0]);for(var a=i.length;a--;)o.addRange(i[a],!0);return r&&o.rangeList.rangeAtPoint(r.start)&&o.addRange(r,!0),i.length},this.selectMoreLines=function(e,t){var n=this.selection.toOrientedRange(),r=n.cursor==n.end,o=this.session.documentToScreenPosition(n.cursor);this.selection.$desiredColumn&&(o.column=this.selection.$desiredColumn);var a=this.session.screenToDocumentPosition(o.row+e,o.column);if(n.isEmpty())l=a;else var s=this.session.documentToScreenPosition(r?n.end:n.start),l=this.session.screenToDocumentPosition(s.row+e,s.column);if(r){var c=i.fromPoints(a,l);c.cursor=c.start}else{c=i.fromPoints(l,a);c.cursor=c.end}if(c.desiredColumn=o.column,this.selection.inMultiSelectMode){if(t)var u=n.cursor}else this.selection.addRange(n);this.selection.addRange(c),u&&this.selection.substractPoint(u)},this.transposeSelections=function(e){for(var t=this.session,n=t.multiSelect,r=n.ranges,i=r.length;i--;){var o=r[i];if(o.isEmpty()){var a=t.getWordRange(o.start.row,o.start.column);o.start.row=a.start.row,o.start.column=a.start.column,o.end.row=a.end.row,o.end.column=a.end.column}}n.mergeOverlappingRanges();var s=[];for(i=r.length;i--;){o=r[i];s.unshift(t.getTextRange(o))}e<0?s.unshift(s.pop()):s.push(s.shift());for(i=r.length;i--;){o=r[i],a=o.clone();t.replace(o,s[i]),o.start.row=a.start.row,o.start.column=a.start.column}n.fromOrientedRange(n.ranges[0])},this.selectMore=function(e,t,n){var r=this.session,i=r.multiSelect,o=i.toOrientedRange();if(!o.isEmpty()||(o=r.getWordRange(o.start.row,o.start.column),o.cursor=-1==e?o.start:o.end,this.multiSelect.addRange(o),!n)){var a=r.getTextRange(o),s=f(r,a,e);s&&(s.cursor=-1==e?s.start:s.end,this.session.unfold(s),this.multiSelect.addRange(s),this.renderer.scrollCursorIntoView(null,.5)),t&&this.multiSelect.substractPoint(o.cursor)}},this.alignCursors=function(){var e=this.session,t=e.multiSelect,n=t.ranges,r=-1,o=n.filter((function(e){if(e.cursor.row==r)return!0;r=e.cursor.row}));if(n.length&&o.length!=n.length-1){o.forEach((function(e){t.substractPoint(e.cursor)}));var a=0,s=1/0,c=n.map((function(t){var n=t.cursor,r=e.getLine(n.row),i=r.substr(n.column).search(/\S/g);return-1==i&&(i=0),n.column>a&&(a=n.column),i<s&&(s=i),i}));n.forEach((function(t,n){var r=t.cursor,o=a-r.column,u=c[n]-s;o>u?e.insert(r,l.stringRepeat(" ",o-u)):e.remove(new i(r.row,r.column,r.row,r.column-o+u)),t.start.column=t.end.column=a,t.start.row=t.end.row=r.row,t.cursor=t.end})),t.fromOrientedRange(n[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var u=this.selection.getRange(),d=u.start.row,f=u.end.row,h=d==f;if(h){var p,m=this.session.getLength();do{p=this.session.getLine(f)}while(/[=:]/.test(p)&&++f<m);do{p=this.session.getLine(d)}while(/[=:]/.test(p)&&--d>0);d<0&&(d=0),f>=m&&(f=m-1)}var g=this.session.removeFullLines(d,f);g=this.$reAlignText(g,h),this.session.insert({row:d,column:0},g.join("\n")+"\n"),h||(u.start.column=0,u.end.column=g[g.length-1].length),this.selection.setRange(u)}},this.$reAlignText=function(e,t){var n,r,i,o=!0,a=!0;return e.map((function(e){var t=e.match(/(\s*)(.*?)(\s*)([=:].*)/);return t?null==n?(n=t[1].length,r=t[2].length,i=t[3].length,t):(n+r+i!=t[1].length+t[2].length+t[3].length&&(a=!1),n!=t[1].length&&(o=!1),n>t[1].length&&(n=t[1].length),r<t[2].length&&(r=t[2].length),i>t[3].length&&(i=t[3].length),t):[e]})).map(t?c:o?a?u:c:d);function s(e){return l.stringRepeat(" ",e)}function c(e){return e[2]?s(n)+e[2]+s(r-e[2].length+i)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}function u(e){return e[2]?s(n+r-e[2].length)+e[2]+s(i)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}function d(e){return e[2]?s(n)+e[2]+s(i)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}}}).call(p.prototype),t.onSessionChange=function(e){var t=e.session;t&&!t.multiSelect&&(t.$selectionMarkers=[],t.selection.$initRangeList(),t.multiSelect=t.selection),this.multiSelect=t&&t.multiSelect;var n=e.oldSession;n&&(n.multiSelect.off("addRange",this.$onAddRange),n.multiSelect.off("removeRange",this.$onRemoveRange),n.multiSelect.off("multiSelect",this.$onMultiSelect),n.multiSelect.off("singleSelect",this.$onSingleSelect),n.multiSelect.lead.off("change",this.$checkMultiselectChange),n.multiSelect.anchor.off("change",this.$checkMultiselectChange)),t&&(t.multiSelect.on("addRange",this.$onAddRange),t.multiSelect.on("removeRange",this.$onRemoveRange),t.multiSelect.on("multiSelect",this.$onMultiSelect),t.multiSelect.on("singleSelect",this.$onSingleSelect),t.multiSelect.lead.on("change",this.$checkMultiselectChange),t.multiSelect.anchor.on("change",this.$checkMultiselectChange)),t&&this.inMultiSelectMode!=t.selection.inMultiSelectMode&&(t.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},t.MultiSelect=g,e("./config").defineOptions(p.prototype,"editor",{enableMultiselect:{set:function(e){g(this),e?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",a)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",a))},value:!0},enableBlockSelect:{set:function(e){this.$blockSelectEnabled=e},value:!0}})})),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var r=e("../../range").Range,i=t.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(e,t,n){var r=e.getLine(n);return this.foldingStartMarker.test(r)?"start":"markbeginend"==t&&this.foldingStopMarker&&this.foldingStopMarker.test(r)?"end":""},this.getFoldWidgetRange=function(e,t,n){return null},this.indentationBlock=function(e,t,n){var i=/\S/,o=e.getLine(t),a=o.search(i);if(-1!=a){var s=n||o.length,l=e.getLength(),c=t,u=t;while(++t<l){var d=e.getLine(t).search(i);if(-1!=d){if(d<=a){var f=e.getTokenAt(t,0);if(!f||"string"!==f.type)break}u=t}}if(u>c){var h=e.getLine(u).length;return new r(c,s,u,h)}}},this.openingBracketBlock=function(e,t,n,i,o){var a={row:n,column:i+1},s=e.$findClosingBracket(t,a,o);if(s){var l=e.foldWidgets[s.row];return null==l&&(l=e.getFoldWidget(s.row)),"start"==l&&s.row>a.row&&(s.row--,s.column=e.getLine(s.row).length),r.fromPoints(a,s)}},this.closingBracketBlock=function(e,t,n,i,o){var a={row:n,column:i},s=e.$findOpeningBracket(t,a);if(s)return s.column++,a.column--,r.fromPoints(s,a)}}).call(i.prototype)})),ace.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";t.isDark=!1,t.cssClass="ace-tm",t.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}',t.$id="ace/theme/textmate";var r=e("../lib/dom");r.importCssString(t.cssText,t.cssClass)})),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";var r=e("./lib/dom");function i(e){this.session=e,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}(function(){this.getRowLength=function(e){var t;return t=this.lineWidgets&&this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0,this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1+t:1+t},this.$getWidgetScreenLength=function(){var e=0;return this.lineWidgets.forEach((function(t){t&&t.rowCount&&!t.hidden&&(e+=t.rowCount)})),e},this.$onChangeEditor=function(e){this.attach(e.editor)},this.attach=function(e){e&&e.widgetManager&&e.widgetManager!=this&&e.widgetManager.detach(),this.editor!=e&&(this.detach(),this.editor=e,e&&(e.widgetManager=this,e.renderer.on("beforeRender",this.measureWidgets),e.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(e){var t=this.editor;if(t){this.editor=null,t.widgetManager=null,t.renderer.off("beforeRender",this.measureWidgets),t.renderer.off("afterRender",this.renderWidgets);var n=this.session.lineWidgets;n&&n.forEach((function(e){e&&e.el&&e.el.parentNode&&(e._inDocument=!1,e.el.parentNode.removeChild(e.el))}))}},this.updateOnFold=function(e,t){var n=t.lineWidgets;if(n&&e.action){for(var r=e.data,i=r.start.row,o=r.end.row,a="add"==e.action,s=i+1;s<o;s++)n[s]&&(n[s].hidden=a);n[o]&&(a?n[i]?n[o].hidden=a:n[i]=n[o]:(n[i]==n[o]&&(n[i]=void 0),n[o].hidden=a))}},this.updateOnChange=function(e){var t=this.session.lineWidgets;if(t){var n=e.start.row,r=e.end.row-n;if(0===r);else if("remove"==e.action){var i=t.splice(n+1,r);!t[n]&&i[i.length-1]&&(t[n]=i.pop()),i.forEach((function(e){e&&this.removeLineWidget(e)}),this),this.$updateRows()}else{var o=new Array(r);t[n]&&null!=t[n].column&&e.start.column>t[n].column&&n++,o.unshift(n,0),t.splice.apply(t,o),this.$updateRows()}}},this.$updateRows=function(){var e=this.session.lineWidgets;if(e){var t=!0;e.forEach((function(e,n){if(e){t=!1,e.row=n;while(e.$oldWidget)e.$oldWidget.row=n,e=e.$oldWidget}})),t&&(this.session.lineWidgets=null)}},this.$registerLineWidget=function(e){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var t=this.session.lineWidgets[e.row];return t&&(e.$oldWidget=t,t.el&&t.el.parentNode&&(t.el.parentNode.removeChild(t.el),t._inDocument=!1)),this.session.lineWidgets[e.row]=e,e},this.addLineWidget=function(e){if(this.$registerLineWidget(e),e.session=this.session,!this.editor)return e;var t=this.editor.renderer;e.html&&!e.el&&(e.el=r.createElement("div"),e.el.innerHTML=e.html),e.el&&(r.addCssClass(e.el,"ace_lineWidgetContainer"),e.el.style.position="absolute",e.el.style.zIndex=5,t.container.appendChild(e.el),e._inDocument=!0,e.coverGutter||(e.el.style.zIndex=3),null==e.pixelHeight&&(e.pixelHeight=e.el.offsetHeight)),null==e.rowCount&&(e.rowCount=e.pixelHeight/t.layerConfig.lineHeight);var n=this.session.getFoldAt(e.row,0);if(e.$fold=n,n){var i=this.session.lineWidgets;e.row!=n.end.row||i[n.start.row]?e.hidden=!0:i[n.start.row]=e}return this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows(),this.renderWidgets(null,t),this.onWidgetChanged(e),e},this.removeLineWidget=function(e){if(e._inDocument=!1,e.session=null,e.el&&e.el.parentNode&&e.el.parentNode.removeChild(e.el),e.editor&&e.editor.destroy)try{e.editor.destroy()}catch(n){}if(this.session.lineWidgets){var t=this.session.lineWidgets[e.row];if(t==e)this.session.lineWidgets[e.row]=e.$oldWidget,e.$oldWidget&&this.onWidgetChanged(e.$oldWidget);else while(t){if(t.$oldWidget==e){t.$oldWidget=e.$oldWidget;break}t=t.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(e){var t=this.session.lineWidgets,n=t&&t[e],r=[];while(n)r.push(n),n=n.$oldWidget;return r},this.onWidgetChanged=function(e){this.session._changedWidgets.push(e),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(e,t){var n=this.session._changedWidgets,r=t.layerConfig;if(n&&n.length){for(var i=1/0,o=0;o<n.length;o++){var a=n[o];if(a&&a.el&&a.session==this.session){if(!a._inDocument){if(this.session.lineWidgets[a.row]!=a)continue;a._inDocument=!0,t.container.appendChild(a.el)}a.h=a.el.offsetHeight,a.fixedWidth||(a.w=a.el.offsetWidth,a.screenWidth=Math.ceil(a.w/r.characterWidth));var s=a.h/r.lineHeight;a.coverLine&&(s-=this.session.getRowLineCount(a.row),s<0&&(s=0)),a.rowCount!=s&&(a.rowCount=s,a.row<i&&(i=a.row))}}i!=1/0&&(this.session._emit("changeFold",{data:{start:{row:i}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(e,t){var n=t.layerConfig,r=this.session.lineWidgets;if(r){var i=Math.min(this.firstRow,n.firstRow),o=Math.max(this.lastRow,n.lastRow,r.length);while(i>0&&!r[i])i--;this.firstRow=n.firstRow,this.lastRow=n.lastRow,t.$cursorLayer.config=n;for(var a=i;a<=o;a++){var s=r[a];if(s&&s.el)if(s.hidden)s.el.style.top=-100-(s.pixelHeight||0)+"px";else{s._inDocument||(s._inDocument=!0,t.container.appendChild(s.el));var l=t.$cursorLayer.getPixelPosition({row:a,column:0},!0).top;s.coverLine||(l+=n.lineHeight*this.session.getRowLineCount(s.row)),s.el.style.top=l-n.offset+"px";var c=s.coverGutter?0:t.gutterWidth;s.fixedWidth||(c-=t.scrollLeft),s.el.style.left=c+"px",s.fullWidth&&s.screenWidth&&(s.el.style.minWidth=n.width+2*n.padding+"px"),s.fixedWidth?s.el.style.right=t.scrollBar.getWidth()+"px":s.el.style.right=""}}}}}).call(i.prototype),t.LineWidgets=i})),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],(function(e,t,n){"use strict";var r=e("../line_widgets").LineWidgets,i=e("../lib/dom"),o=e("../range").Range;function a(e,t,n){var r=0,i=e.length-1;while(r<=i){var o=r+i>>1,a=n(t,e[o]);if(a>0)r=o+1;else{if(!(a<0))return o;i=o-1}}return-(r+1)}function s(e,t,n){var r=e.getAnnotations().sort(o.comparePoints);if(r.length){var i=a(r,{row:t,column:-1},o.comparePoints);i<0&&(i=-i-1),i>=r.length?i=n>0?0:r.length-1:0===i&&n<0&&(i=r.length-1);var s=r[i];if(s&&n){if(s.row===t){do{s=r[i+=n]}while(s&&s.row===t);if(!s)return r.slice()}var l=[];t=s.row;do{l[n<0?"unshift":"push"](s),s=r[i+=n]}while(s&&s.row==t);return l.length&&l}}}t.showErrorMarker=function(e,t){var n=e.session;n.widgetManager||(n.widgetManager=new r(n),n.widgetManager.attach(e));var o=e.getCursorPosition(),a=o.row,l=n.widgetManager.getWidgetsAtRow(a).filter((function(e){return"errorMarker"==e.type}))[0];l?l.destroy():a-=t;var c,u=s(n,a,t);if(u){var d=u[0];o.column=(d.pos&&"number"!=typeof d.column?d.pos.sc:d.column)||0,o.row=d.row,c=e.renderer.$gutterLayer.$annotations[o.row]}else{if(l)return;c={text:["Looks good!"],className:"ace_ok"}}e.session.unfold(o.row),e.selection.moveToPosition(o);var f={row:o.row,fixedWidth:!0,coverGutter:!0,el:i.createElement("div"),type:"errorMarker"},h=f.el.appendChild(i.createElement("div")),p=f.el.appendChild(i.createElement("div"));p.className="error_widget_arrow "+c.className;var m=e.renderer.$cursorLayer.getPixelPosition(o).left;p.style.left=m+e.renderer.gutterWidth-5+"px",f.el.className="error_widget_wrapper",h.className="error_widget "+c.className,h.innerHTML=c.text.join("<br>"),h.appendChild(i.createElement("div"));var g=function(e,t,n){if(0===t&&("esc"===n||"return"===n))return f.destroy(),{command:"null"}};f.destroy=function(){e.$mouseHandler.isMousePressed||(e.keyBinding.removeKeyboardHandler(g),n.widgetManager.removeLineWidget(f),e.off("changeSelection",f.destroy),e.off("changeSession",f.destroy),e.off("mouseup",f.destroy),e.off("change",f.destroy))},e.keyBinding.addKeyboardHandler(g),e.on("changeSelection",f.destroy),e.on("changeSession",f.destroy),e.on("mouseup",f.destroy),e.on("change",f.destroy),e.session.widgetManager.addLineWidget(f),f.el.onmousedown=e.focus.bind(e),e.renderer.scrollCursorIntoView(null,.5,{bottom:f.el.offsetHeight})},i.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }","")})),ace.define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"],(function(e,t,r){"use strict";e("./lib/fixoldbrowsers");var i=e("./lib/dom"),o=e("./lib/event"),a=e("./range").Range,s=e("./editor").Editor,l=e("./edit_session").EditSession,c=e("./undomanager").UndoManager,u=e("./virtual_renderer").VirtualRenderer;e("./worker/worker_client"),e("./keyboard/hash_handler"),e("./placeholder"),e("./multi_select"),e("./mode/folding/fold_mode"),e("./theme/textmate"),e("./ext/error_marker"),t.config=e("./config"),t.require=e,t.define=n(23),t.edit=function(e,n){if("string"==typeof e){var r=e;if(e=document.getElementById(r),!e)throw new Error("ace.edit can't find div #"+r)}if(e&&e.env&&e.env.editor instanceof s)return e.env.editor;var a="";if(e&&/input|textarea/i.test(e.tagName)){var l=e;a=l.value,e=i.createElement("pre"),l.parentNode.replaceChild(e,l)}else e&&(a=e.textContent,e.innerHTML="");var c=t.createEditSession(a),d=new s(new u(e),c,n),f={document:c,editor:d,onResize:d.resize.bind(d,null)};return l&&(f.textarea=l),o.addListener(window,"resize",f.onResize),d.on("destroy",(function(){o.removeListener(window,"resize",f.onResize),f.editor.container.env=null})),d.container.env=d.env=f,d},t.createEditSession=function(e,t){var n=new l(e,t);return n.setUndoManager(new c),n},t.Range=a,t.Editor=s,t.EditSession=l,t.UndoManager=c,t.VirtualRenderer=u,t.version=t.config.version})),function(){ace.require(["ace/ace"],(function(t){for(var n in t&&(t.config.init(!0),t.define=ace.define),window.ace||(window.ace=t),t)t.hasOwnProperty(n)&&(window.ace[n]=t[n]);window.ace["default"]=window.ace,e&&(e.exports=window.ace)}))}()}).call(this,n(16)(e))},function(e,t,n){(function(e){ace.define("ace/mode/json_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],(function(e,t,n){"use strict";var r=e("../lib/oop"),i=e("./text_highlight_rules").TextHighlightRules,o=function(){this.$rules={start:[{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"string",regex:'"',next:"string"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"text",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"comment",regex:"\\/\\/.*$"},{token:"comment.start",regex:"\\/\\*",next:"comment"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"text",regex:"\\s+"}],string:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\\\/bfnrt])/},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],comment:[{token:"comment.end",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}]}};r.inherits(o,i),t.JsonHighlightRules=o})),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var r=e("../range").Range,i=function(){};(function(){this.checkOutdent=function(e,t){return!!/^\s+$/.test(e)&&/^\s*\}/.test(t)},this.autoOutdent=function(e,t){var n=e.getLine(t),i=n.match(/^(\s*\})/);if(!i)return 0;var o=i[1].length,a=e.findMatchingBracket({row:t,column:o});if(!a||a.row==t)return 0;var s=this.$getIndent(e.getLine(a.row));e.replace(new r(t,0,t,o-1),s)},this.$getIndent=function(e){return e.match(/^\s*/)[0]}}).call(i.prototype),t.MatchingBraceOutdent=i})),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],(function(e,t,n){"use strict";var r=e("../../lib/oop"),i=e("../../range").Range,o=e("./fold_mode").FoldMode,a=t.FoldMode=function(e){e&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+e.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+e.end)))};r.inherits(a,o),function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(e,t,n){var r=e.getLine(n);if(this.singleLineBlockCommentRe.test(r)&&!this.startRegionRe.test(r)&&!this.tripleStarBlockCommentRe.test(r))return"";var i=this._getFoldWidgetBase(e,t,n);return!i&&this.startRegionRe.test(r)?"start":i},this.getFoldWidgetRange=function(e,t,n,r){var i=e.getLine(n);if(this.startRegionRe.test(i))return this.getCommentRegionBlock(e,i,n);var o=i.match(this.foldingStartMarker);if(o){var a=o.index;if(o[1])return this.openingBracketBlock(e,o[1],n,a);var s=e.getCommentFoldRange(n,a+o[0].length,1);return s&&!s.isMultiLine()&&(r?s=this.getSectionRange(e,n):"all"!=t&&(s=null)),s}if("markbegin"!==t){o=i.match(this.foldingStopMarker);if(o){a=o.index+o[0].length;return o[1]?this.closingBracketBlock(e,o[1],n,a):e.getCommentFoldRange(n,a,-1)}}},this.getSectionRange=function(e,t){var n=e.getLine(t),r=n.search(/\S/),o=t,a=n.length;t+=1;var s=t,l=e.getLength();while(++t<l){n=e.getLine(t);var c=n.search(/\S/);if(-1!==c){if(r>c)break;var u=this.getFoldWidgetRange(e,"all",t);if(u){if(u.start.row<=o)break;if(u.isMultiLine())t=u.end.row;else if(r==c)break}s=t}}return new i(o,a,s,e.getLine(s).length)},this.getCommentRegionBlock=function(e,t,n){var r=t.search(/\s*$/),o=e.getLength(),a=n,s=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,l=1;while(++n<o){t=e.getLine(n);var c=s.exec(t);if(c&&(c[1]?l--:l++,!l))break}var u=n;if(u>a)return new i(a,r,u,t.length)}}.call(a.prototype)})),ace.define("ace/mode/json",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/json_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle","ace/worker/worker_client"],(function(e,t,n){"use strict";var r=e("../lib/oop"),i=e("./text").Mode,o=e("./json_highlight_rules").JsonHighlightRules,a=e("./matching_brace_outdent").MatchingBraceOutdent,s=e("./behaviour/cstyle").CstyleBehaviour,l=e("./folding/cstyle").FoldMode,c=e("../worker/worker_client").WorkerClient,u=function(){this.HighlightRules=o,this.$outdent=new a,this.$behaviour=new s,this.foldingRules=new l};r.inherits(u,i),function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(e,t,n){var r=this.$getIndent(t);if("start"==e){var i=t.match(/^.*[\{\(\[]\s*$/);i&&(r+=n)}return r},this.checkOutdent=function(e,t,n){return this.$outdent.checkOutdent(t,n)},this.autoOutdent=function(e,t,n){this.$outdent.autoOutdent(t,n)},this.createWorker=function(e){var t=new c(["ace"],"ace/mode/json_worker","JsonWorker");return t.attachToDocument(e.getDocument()),t.on("annotate",(function(t){e.setAnnotations(t.data)})),t.on("terminate",(function(){e.clearAnnotations()})),t},this.$id="ace/mode/json"}.call(u.prototype),t.Mode=u})),function(){ace.require(["ace/mode/json"],(function(t){e&&(e.exports=t)}))}()}).call(this,n(16)(e))},function(e,t,n){(function(e){ace.define("ace/ext/searchbox",["require","exports","module","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/keyboard/hash_handler","ace/lib/keys"],(function(e,t,n){"use strict";var r=e("../lib/dom"),i=e("../lib/lang"),o=e("../lib/event"),a='.ace_search {background-color: #ddd;color: #666;border: 1px solid #cbcbcb;border-top: 0 none;overflow: hidden;margin: 0;padding: 4px 6px 0 4px;position: absolute;top: 0;z-index: 99;white-space: normal;}.ace_search.left {border-left: 0 none;border-radius: 0px 0px 5px 0px;left: 0;}.ace_search.right {border-radius: 0px 0px 0px 5px;border-right: 0 none;right: 0;}.ace_search_form, .ace_replace_form {margin: 0 20px 4px 0;overflow: hidden;line-height: 1.9;}.ace_replace_form {margin-right: 0;}.ace_search_form.ace_nomatch {outline: 1px solid red;}.ace_search_field {border-radius: 3px 0 0 3px;background-color: white;color: black;border: 1px solid #cbcbcb;border-right: 0 none;outline: 0;padding: 0;font-size: inherit;margin: 0;line-height: inherit;padding: 0 6px;min-width: 17em;vertical-align: top;min-height: 1.8em;box-sizing: content-box;}.ace_searchbtn {border: 1px solid #cbcbcb;line-height: inherit;display: inline-block;padding: 0 6px;background: #fff;border-right: 0 none;border-left: 1px solid #dcdcdc;cursor: pointer;margin: 0;position: relative;color: #666;}.ace_searchbtn:last-child {border-radius: 0 3px 3px 0;border-right: 1px solid #cbcbcb;}.ace_searchbtn:disabled {background: none;cursor: default;}.ace_searchbtn:hover {background-color: #eef1f6;}.ace_searchbtn.prev, .ace_searchbtn.next {padding: 0px 0.7em}.ace_searchbtn.prev:after, .ace_searchbtn.next:after {content: "";border: solid 2px #888;width: 0.5em;height: 0.5em;border-width:  2px 0 0 2px;display:inline-block;transform: rotate(-45deg);}.ace_searchbtn.next:after {border-width: 0 2px 2px 0 ;}.ace_searchbtn_close {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAcCAYAAABRVo5BAAAAZ0lEQVR42u2SUQrAMAhDvazn8OjZBilCkYVVxiis8H4CT0VrAJb4WHT3C5xU2a2IQZXJjiQIRMdkEoJ5Q2yMqpfDIo+XY4k6h+YXOyKqTIj5REaxloNAd0xiKmAtsTHqW8sR2W5f7gCu5nWFUpVjZwAAAABJRU5ErkJggg==) no-repeat 50% 0;border-radius: 50%;border: 0 none;color: #656565;cursor: pointer;font: 16px/16px Arial;padding: 0;height: 14px;width: 14px;top: 9px;right: 7px;position: absolute;}.ace_searchbtn_close:hover {background-color: #656565;background-position: 50% 100%;color: white;}.ace_button {margin-left: 2px;cursor: pointer;-webkit-user-select: none;-moz-user-select: none;-o-user-select: none;-ms-user-select: none;user-select: none;overflow: hidden;opacity: 0.7;border: 1px solid rgba(100,100,100,0.23);padding: 1px;box-sizing:    border-box!important;color: black;}.ace_button:hover {background-color: #eee;opacity:1;}.ace_button:active {background-color: #ddd;}.ace_button.checked {border-color: #3399ff;opacity:1;}.ace_search_options{margin-bottom: 3px;text-align: right;-webkit-user-select: none;-moz-user-select: none;-o-user-select: none;-ms-user-select: none;user-select: none;clear: both;}.ace_search_counter {float: left;font-family: arial;padding: 0 8px;}',s=e("../keyboard/hash_handler").HashHandler,l=e("../lib/keys"),c=999;r.importCssString(a,"ace_searchbox");var u=function(e,t,n){var i=r.createElement("div");r.buildDom(["div",{class:"ace_search right"},["span",{action:"hide",class:"ace_searchbtn_close"}],["div",{class:"ace_search_form"},["input",{class:"ace_search_field",placeholder:"Search for",spellcheck:"false"}],["span",{action:"findPrev",class:"ace_searchbtn prev"},"​"],["span",{action:"findNext",class:"ace_searchbtn next"},"​"],["span",{action:"findAll",class:"ace_searchbtn",title:"Alt-Enter"},"All"]],["div",{class:"ace_replace_form"},["input",{class:"ace_search_field",placeholder:"Replace with",spellcheck:"false"}],["span",{action:"replaceAndFindNext",class:"ace_searchbtn"},"Replace"],["span",{action:"replaceAll",class:"ace_searchbtn"},"All"]],["div",{class:"ace_search_options"},["span",{action:"toggleReplace",class:"ace_button",title:"Toggle Replace mode",style:"float:left;margin-top:-2px;padding:0 5px;"},"+"],["span",{class:"ace_search_counter"}],["span",{action:"toggleRegexpMode",class:"ace_button",title:"RegExp Search"},".*"],["span",{action:"toggleCaseSensitive",class:"ace_button",title:"CaseSensitive Search"},"Aa"],["span",{action:"toggleWholeWords",class:"ace_button",title:"Whole Word Search"},"\\b"],["span",{action:"searchInSelection",class:"ace_button",title:"Search In Selection"},"S"]]],i),this.element=i.firstChild,this.setSession=this.setSession.bind(this),this.$init(),this.setEditor(e),r.importCssString(a,"ace_searchbox",e.container)};(function(){this.setEditor=function(e){e.searchBox=this,e.renderer.scroller.appendChild(this.element),this.editor=e},this.setSession=function(e){this.searchRange=null,this.$syncOptions(!0)},this.$initElements=function(e){this.searchBox=e.querySelector(".ace_search_form"),this.replaceBox=e.querySelector(".ace_replace_form"),this.searchOption=e.querySelector("[action=searchInSelection]"),this.replaceOption=e.querySelector("[action=toggleReplace]"),this.regExpOption=e.querySelector("[action=toggleRegexpMode]"),this.caseSensitiveOption=e.querySelector("[action=toggleCaseSensitive]"),this.wholeWordOption=e.querySelector("[action=toggleWholeWords]"),this.searchInput=this.searchBox.querySelector(".ace_search_field"),this.replaceInput=this.replaceBox.querySelector(".ace_search_field"),this.searchCounter=e.querySelector(".ace_search_counter")},this.$init=function(){var e=this.element;this.$initElements(e);var t=this;o.addListener(e,"mousedown",(function(e){setTimeout((function(){t.activeInput.focus()}),0),o.stopPropagation(e)})),o.addListener(e,"click",(function(e){var n=e.target||e.srcElement,r=n.getAttribute("action");r&&t[r]?t[r]():t.$searchBarKb.commands[r]&&t.$searchBarKb.commands[r].exec(t),o.stopPropagation(e)})),o.addCommandKeyListener(e,(function(e,n,r){var i=l.keyCodeToString(r),a=t.$searchBarKb.findKeyCommand(n,i);a&&a.exec&&(a.exec(t),o.stopEvent(e))})),this.$onChange=i.delayedCall((function(){t.find(!1,!1)})),o.addListener(this.searchInput,"input",(function(){t.$onChange.schedule(20)})),o.addListener(this.searchInput,"focus",(function(){t.activeInput=t.searchInput,t.searchInput.value&&t.highlight()})),o.addListener(this.replaceInput,"focus",(function(){t.activeInput=t.replaceInput,t.searchInput.value&&t.highlight()}))},this.$closeSearchBarKb=new s([{bindKey:"Esc",name:"closeSearchBar",exec:function(e){e.searchBox.hide()}}]),this.$searchBarKb=new s,this.$searchBarKb.bindKeys({"Ctrl-f|Command-f":function(e){var t=e.isReplace=!e.isReplace;e.replaceBox.style.display=t?"":"none",e.replaceOption.checked=!1,e.$syncOptions(),e.searchInput.focus()},"Ctrl-H|Command-Option-F":function(e){e.editor.getReadOnly()||(e.replaceOption.checked=!0,e.$syncOptions(),e.replaceInput.focus())},"Ctrl-G|Command-G":function(e){e.findNext()},"Ctrl-Shift-G|Command-Shift-G":function(e){e.findPrev()},esc:function(e){setTimeout((function(){e.hide()}))},Return:function(e){e.activeInput==e.replaceInput&&e.replace(),e.findNext()},"Shift-Return":function(e){e.activeInput==e.replaceInput&&e.replace(),e.findPrev()},"Alt-Return":function(e){e.activeInput==e.replaceInput&&e.replaceAll(),e.findAll()},Tab:function(e){(e.activeInput==e.replaceInput?e.searchInput:e.replaceInput).focus()}}),this.$searchBarKb.addCommands([{name:"toggleRegexpMode",bindKey:{win:"Alt-R|Alt-/",mac:"Ctrl-Alt-R|Ctrl-Alt-/"},exec:function(e){e.regExpOption.checked=!e.regExpOption.checked,e.$syncOptions()}},{name:"toggleCaseSensitive",bindKey:{win:"Alt-C|Alt-I",mac:"Ctrl-Alt-R|Ctrl-Alt-I"},exec:function(e){e.caseSensitiveOption.checked=!e.caseSensitiveOption.checked,e.$syncOptions()}},{name:"toggleWholeWords",bindKey:{win:"Alt-B|Alt-W",mac:"Ctrl-Alt-B|Ctrl-Alt-W"},exec:function(e){e.wholeWordOption.checked=!e.wholeWordOption.checked,e.$syncOptions()}},{name:"toggleReplace",exec:function(e){e.replaceOption.checked=!e.replaceOption.checked,e.$syncOptions()}},{name:"searchInSelection",exec:function(e){e.searchOption.checked=!e.searchRange,e.setSearchRange(e.searchOption.checked&&e.editor.getSelectionRange()),e.$syncOptions()}}]),this.setSearchRange=function(e){this.searchRange=e,e?this.searchRangeMarker=this.editor.session.addMarker(e,"ace_active-line"):this.searchRangeMarker&&(this.editor.session.removeMarker(this.searchRangeMarker),this.searchRangeMarker=null)},this.$syncOptions=function(e){r.setCssClass(this.replaceOption,"checked",this.searchRange),r.setCssClass(this.searchOption,"checked",this.searchOption.checked),this.replaceOption.textContent=this.replaceOption.checked?"-":"+",r.setCssClass(this.regExpOption,"checked",this.regExpOption.checked),r.setCssClass(this.wholeWordOption,"checked",this.wholeWordOption.checked),r.setCssClass(this.caseSensitiveOption,"checked",this.caseSensitiveOption.checked);var t=this.editor.getReadOnly();this.replaceOption.style.display=t?"none":"",this.replaceBox.style.display=this.replaceOption.checked&&!t?"":"none",this.find(!1,!1,e)},this.highlight=function(e){this.editor.session.highlight(e||this.editor.$search.$options.re),this.editor.renderer.updateBackMarkers()},this.find=function(e,t,n){var i=this.editor.find(this.searchInput.value,{skipCurrent:e,backwards:t,wrap:!0,regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked,preventScroll:n,range:this.searchRange}),o=!i&&this.searchInput.value;r.setCssClass(this.searchBox,"ace_nomatch",o),this.editor._emit("findSearchBox",{match:!o}),this.highlight(),this.updateCounter()},this.updateCounter=function(){var e=this.editor,t=e.$search.$options.re,n=0,r=0;if(t){var i=this.searchRange?e.session.getTextRange(this.searchRange):e.getValue(),o=e.session.doc.positionToIndex(e.selection.anchor);this.searchRange&&(o-=e.session.doc.positionToIndex(this.searchRange.start));var a,s=t.lastIndex=0;while(a=t.exec(i)){if(n++,s=a.index,s<=o&&r++,n>c)break;if(!a[0]&&(t.lastIndex=s+=1,s>=i.length))break}}this.searchCounter.textContent=r+" of "+(n>c?c+"+":n)},this.findNext=function(){this.find(!0,!1)},this.findPrev=function(){this.find(!0,!0)},this.findAll=function(){var e=this.editor.findAll(this.searchInput.value,{regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked}),t=!e&&this.searchInput.value;r.setCssClass(this.searchBox,"ace_nomatch",t),this.editor._emit("findSearchBox",{match:!t}),this.highlight(),this.hide()},this.replace=function(){this.editor.getReadOnly()||this.editor.replace(this.replaceInput.value)},this.replaceAndFindNext=function(){this.editor.getReadOnly()||(this.editor.replace(this.replaceInput.value),this.findNext())},this.replaceAll=function(){this.editor.getReadOnly()||this.editor.replaceAll(this.replaceInput.value)},this.hide=function(){this.active=!1,this.setSearchRange(null),this.editor.off("changeSession",this.setSession),this.element.style.display="none",this.editor.keyBinding.removeKeyboardHandler(this.$closeSearchBarKb),this.editor.focus()},this.show=function(e,t){this.active=!0,this.editor.on("changeSession",this.setSession),this.element.style.display="",this.replaceOption.checked=t,e&&(this.searchInput.value=e),this.searchInput.focus(),this.searchInput.select(),this.editor.keyBinding.addKeyboardHandler(this.$closeSearchBarKb),this.$syncOptions(!0)},this.isFocused=function(){var e=document.activeElement;return e==this.searchInput||e==this.replaceInput}}).call(u.prototype),t.SearchBox=u,t.Search=function(e,t){var n=e.searchBox||new u(e);n.show(e.session.getTextRange(),t)}})),function(){ace.require(["ace/ext/searchbox"],(function(t){e&&(e.exports=t)}))}()}).call(this,n(16)(e))},function(e,t){e.exports="data:application/javascript;base64,Im5vIHVzZSBzdHJpY3QiOwohKGZ1bmN0aW9uKHdpbmRvdykgewppZiAodHlwZW9mIHdpbmRvdy53aW5kb3cgIT0gInVuZGVmaW5lZCIgJiYgd2luZG93LmRvY3VtZW50KQogICAgcmV0dXJuOwppZiAod2luZG93LnJlcXVpcmUgJiYgd2luZG93LmRlZmluZSkKICAgIHJldHVybjsKCmlmICghd2luZG93LmNvbnNvbGUpIHsKICAgIHdpbmRvdy5jb25zb2xlID0gZnVuY3Rpb24oKSB7CiAgICAgICAgdmFyIG1zZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApOwogICAgICAgIHBvc3RNZXNzYWdlKHt0eXBlOiAibG9nIiwgZGF0YTogbXNnc30pOwogICAgfTsKICAgIHdpbmRvdy5jb25zb2xlLmVycm9yID0KICAgIHdpbmRvdy5jb25zb2xlLndhcm4gPSAKICAgIHdpbmRvdy5jb25zb2xlLmxvZyA9CiAgICB3aW5kb3cuY29uc29sZS50cmFjZSA9IHdpbmRvdy5jb25zb2xlOwp9CndpbmRvdy53aW5kb3cgPSB3aW5kb3c7CndpbmRvdy5hY2UgPSB3aW5kb3c7Cgp3aW5kb3cub25lcnJvciA9IGZ1bmN0aW9uKG1lc3NhZ2UsIGZpbGUsIGxpbmUsIGNvbCwgZXJyKSB7CiAgICBwb3N0TWVzc2FnZSh7dHlwZTogImVycm9yIiwgZGF0YTogewogICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsCiAgICAgICAgZGF0YTogZXJyLmRhdGEsCiAgICAgICAgZmlsZTogZmlsZSwKICAgICAgICBsaW5lOiBsaW5lLCAKICAgICAgICBjb2w6IGNvbCwKICAgICAgICBzdGFjazogZXJyLnN0YWNrCiAgICB9fSk7Cn07Cgp3aW5kb3cubm9ybWFsaXplTW9kdWxlID0gZnVuY3Rpb24ocGFyZW50SWQsIG1vZHVsZU5hbWUpIHsKICAgIC8vIG5vcm1hbGl6ZSBwbHVnaW4gcmVxdWlyZXMKICAgIGlmIChtb2R1bGVOYW1lLmluZGV4T2YoIiEiKSAhPT0gLTEpIHsKICAgICAgICB2YXIgY2h1bmtzID0gbW9kdWxlTmFtZS5zcGxpdCgiISIpOwogICAgICAgIHJldHVybiB3aW5kb3cubm9ybWFsaXplTW9kdWxlKHBhcmVudElkLCBjaHVua3NbMF0pICsgIiEiICsgd2luZG93Lm5vcm1hbGl6ZU1vZHVsZShwYXJlbnRJZCwgY2h1bmtzWzFdKTsKICAgIH0KICAgIC8vIG5vcm1hbGl6ZSByZWxhdGl2ZSByZXF1aXJlcwogICAgaWYgKG1vZHVsZU5hbWUuY2hhckF0KDApID09ICIuIikgewogICAgICAgIHZhciBiYXNlID0gcGFyZW50SWQuc3BsaXQoIi8iKS5zbGljZSgwLCAtMSkuam9pbigiLyIpOwogICAgICAgIG1vZHVsZU5hbWUgPSAoYmFzZSA/IGJhc2UgKyAiLyIgOiAiIikgKyBtb2R1bGVOYW1lOwogICAgICAgIAogICAgICAgIHdoaWxlIChtb2R1bGVOYW1lLmluZGV4T2YoIi4iKSAhPT0gLTEgJiYgcHJldmlvdXMgIT0gbW9kdWxlTmFtZSkgewogICAgICAgICAgICB2YXIgcHJldmlvdXMgPSBtb2R1bGVOYW1lOwogICAgICAgICAgICBtb2R1bGVOYW1lID0gbW9kdWxlTmFtZS5yZXBsYWNlKC9eXC5cLy8sICIiKS5yZXBsYWNlKC9cL1wuXC8vLCAiLyIpLnJlcGxhY2UoL1teXC9dK1wvXC5cLlwvLywgIiIpOwogICAgICAgIH0KICAgIH0KICAgIAogICAgcmV0dXJuIG1vZHVsZU5hbWU7Cn07Cgp3aW5kb3cucmVxdWlyZSA9IGZ1bmN0aW9uIHJlcXVpcmUocGFyZW50SWQsIGlkKSB7CiAgICBpZiAoIWlkKSB7CiAgICAgICAgaWQgPSBwYXJlbnRJZDsKICAgICAgICBwYXJlbnRJZCA9IG51bGw7CiAgICB9CiAgICBpZiAoIWlkLmNoYXJBdCkKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIndvcmtlci5qcyByZXF1aXJlKCkgYWNjZXB0cyBvbmx5IChwYXJlbnRJZCwgaWQpIGFzIGFyZ3VtZW50cyIpOwoKICAgIGlkID0gd2luZG93Lm5vcm1hbGl6ZU1vZHVsZShwYXJlbnRJZCwgaWQpOwoKICAgIHZhciBtb2R1bGUgPSB3aW5kb3cucmVxdWlyZS5tb2R1bGVzW2lkXTsKICAgIGlmIChtb2R1bGUpIHsKICAgICAgICBpZiAoIW1vZHVsZS5pbml0aWFsaXplZCkgewogICAgICAgICAgICBtb2R1bGUuaW5pdGlhbGl6ZWQgPSB0cnVlOwogICAgICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IG1vZHVsZS5mYWN0b3J5KCkuZXhwb3J0czsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIG1vZHVsZS5leHBvcnRzOwogICAgfQogICAKICAgIGlmICghd2luZG93LnJlcXVpcmUudGxucykKICAgICAgICByZXR1cm4gY29uc29sZS5sb2coInVuYWJsZSB0byBsb2FkICIgKyBpZCk7CiAgICAKICAgIHZhciBwYXRoID0gcmVzb2x2ZU1vZHVsZUlkKGlkLCB3aW5kb3cucmVxdWlyZS50bG5zKTsKICAgIGlmIChwYXRoLnNsaWNlKC0zKSAhPSAiLmpzIikgcGF0aCArPSAiLmpzIjsKICAgIAogICAgd2luZG93LnJlcXVpcmUuaWQgPSBpZDsKICAgIHdpbmRvdy5yZXF1aXJlLm1vZHVsZXNbaWRdID0ge307IC8vIHByZXZlbnQgaW5maW5pdGUgbG9vcCBvbiBicm9rZW4gbW9kdWxlcwogICAgaW1wb3J0U2NyaXB0cyhwYXRoKTsKICAgIHJldHVybiB3aW5kb3cucmVxdWlyZShwYXJlbnRJZCwgaWQpOwp9OwpmdW5jdGlvbiByZXNvbHZlTW9kdWxlSWQoaWQsIHBhdGhzKSB7CiAgICB2YXIgdGVzdFBhdGggPSBpZCwgdGFpbCA9ICIiOwogICAgd2hpbGUgKHRlc3RQYXRoKSB7CiAgICAgICAgdmFyIGFsaWFzID0gcGF0aHNbdGVzdFBhdGhdOwogICAgICAgIGlmICh0eXBlb2YgYWxpYXMgPT0gInN0cmluZyIpIHsKICAgICAgICAgICAgcmV0dXJuIGFsaWFzICsgdGFpbDsKICAgICAgICB9IGVsc2UgaWYgKGFsaWFzKSB7CiAgICAgICAgICAgIHJldHVybiAgYWxpYXMubG9jYXRpb24ucmVwbGFjZSgvXC8qJC8sICIvIikgKyAodGFpbCB8fCBhbGlhcy5tYWluIHx8IGFsaWFzLm5hbWUpOwogICAgICAgIH0gZWxzZSBpZiAoYWxpYXMgPT09IGZhbHNlKSB7CiAgICAgICAgICAgIHJldHVybiAiIjsKICAgICAgICB9CiAgICAgICAgdmFyIGkgPSB0ZXN0UGF0aC5sYXN0SW5kZXhPZigiLyIpOwogICAgICAgIGlmIChpID09PSAtMSkgYnJlYWs7CiAgICAgICAgdGFpbCA9IHRlc3RQYXRoLnN1YnN0cihpKSArIHRhaWw7CiAgICAgICAgdGVzdFBhdGggPSB0ZXN0UGF0aC5zbGljZSgwLCBpKTsKICAgIH0KICAgIHJldHVybiBpZDsKfQp3aW5kb3cucmVxdWlyZS5tb2R1bGVzID0ge307CndpbmRvdy5yZXF1aXJlLnRsbnMgPSB7fTsKCndpbmRvdy5kZWZpbmUgPSBmdW5jdGlvbihpZCwgZGVwcywgZmFjdG9yeSkgewogICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMikgewogICAgICAgIGZhY3RvcnkgPSBkZXBzOwogICAgICAgIGlmICh0eXBlb2YgaWQgIT0gInN0cmluZyIpIHsKICAgICAgICAgICAgZGVwcyA9IGlkOwogICAgICAgICAgICBpZCA9IHdpbmRvdy5yZXF1aXJlLmlkOwogICAgICAgIH0KICAgIH0gZWxzZSBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAxKSB7CiAgICAgICAgZmFjdG9yeSA9IGlkOwogICAgICAgIGRlcHMgPSBbXTsKICAgICAgICBpZCA9IHdpbmRvdy5yZXF1aXJlLmlkOwogICAgfQogICAgCiAgICBpZiAodHlwZW9mIGZhY3RvcnkgIT0gImZ1bmN0aW9uIikgewogICAgICAgIHdpbmRvdy5yZXF1aXJlLm1vZHVsZXNbaWRdID0gewogICAgICAgICAgICBleHBvcnRzOiBmYWN0b3J5LAogICAgICAgICAgICBpbml0aWFsaXplZDogdHJ1ZQogICAgICAgIH07CiAgICAgICAgcmV0dXJuOwogICAgfQoKICAgIGlmICghZGVwcy5sZW5ndGgpCiAgICAgICAgLy8gSWYgdGhlcmUgaXMgbm8gZGVwZW5kZW5jaWVzLCB3ZSBpbmplY3QgInJlcXVpcmUiLCAiZXhwb3J0cyIgYW5kCiAgICAgICAgLy8gIm1vZHVsZSIgYXMgZGVwZW5kZW5jaWVzLCB0byBwcm92aWRlIENvbW1vbkpTIGNvbXBhdGliaWxpdHkuCiAgICAgICAgZGVwcyA9IFsicmVxdWlyZSIsICJleHBvcnRzIiwgIm1vZHVsZSJdOwoKICAgIHZhciByZXEgPSBmdW5jdGlvbihjaGlsZElkKSB7CiAgICAgICAgcmV0dXJuIHdpbmRvdy5yZXF1aXJlKGlkLCBjaGlsZElkKTsKICAgIH07CgogICAgd2luZG93LnJlcXVpcmUubW9kdWxlc1tpZF0gPSB7CiAgICAgICAgZXhwb3J0czoge30sCiAgICAgICAgZmFjdG9yeTogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHZhciBtb2R1bGUgPSB0aGlzOwogICAgICAgICAgICB2YXIgcmV0dXJuRXhwb3J0cyA9IGZhY3RvcnkuYXBwbHkodGhpcywgZGVwcy5zbGljZSgwLCBmYWN0b3J5Lmxlbmd0aCkubWFwKGZ1bmN0aW9uKGRlcCkgewogICAgICAgICAgICAgICAgc3dpdGNoIChkZXApIHsKICAgICAgICAgICAgICAgICAgICAvLyBCZWNhdXNlICJyZXF1aXJlIiwgImV4cG9ydHMiIGFuZCAibW9kdWxlIiBhcmVuJ3QgYWN0dWFsCiAgICAgICAgICAgICAgICAgICAgLy8gZGVwZW5kZW5jaWVzLCB3ZSBtdXN0IGhhbmRsZSB0aGVtIHNlcGVyYXRlbHkuCiAgICAgICAgICAgICAgICAgICAgY2FzZSAicmVxdWlyZSI6IHJldHVybiByZXE7CiAgICAgICAgICAgICAgICAgICAgY2FzZSAiZXhwb3J0cyI6IHJldHVybiBtb2R1bGUuZXhwb3J0czsKICAgICAgICAgICAgICAgICAgICBjYXNlICJtb2R1bGUiOiAgcmV0dXJuIG1vZHVsZTsKICAgICAgICAgICAgICAgICAgICAvLyBCdXQgZm9yIGFsbCBvdGhlciBkZXBlbmRlbmNpZXMsIHdlIGNhbiBqdXN0IGdvIGFoZWFkIGFuZAogICAgICAgICAgICAgICAgICAgIC8vIHJlcXVpcmUgdGhlbS4KICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiAgICAgICAgcmV0dXJuIHJlcShkZXApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KSk7CiAgICAgICAgICAgIGlmIChyZXR1cm5FeHBvcnRzKQogICAgICAgICAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSByZXR1cm5FeHBvcnRzOwogICAgICAgICAgICByZXR1cm4gbW9kdWxlOwogICAgICAgIH0KICAgIH07Cn07CndpbmRvdy5kZWZpbmUuYW1kID0ge307CnJlcXVpcmUudGxucyA9IHt9Owp3aW5kb3cuaW5pdEJhc2VVcmxzICA9IGZ1bmN0aW9uIGluaXRCYXNlVXJscyh0b3BMZXZlbE5hbWVzcGFjZXMpIHsKICAgIGZvciAodmFyIGkgaW4gdG9wTGV2ZWxOYW1lc3BhY2VzKQogICAgICAgIHJlcXVpcmUudGxuc1tpXSA9IHRvcExldmVsTmFtZXNwYWNlc1tpXTsKfTsKCndpbmRvdy5pbml0U2VuZGVyID0gZnVuY3Rpb24gaW5pdFNlbmRlcigpIHsKCiAgICB2YXIgRXZlbnRFbWl0dGVyID0gd2luZG93LnJlcXVpcmUoImFjZS9saWIvZXZlbnRfZW1pdHRlciIpLkV2ZW50RW1pdHRlcjsKICAgIHZhciBvb3AgPSB3aW5kb3cucmVxdWlyZSgiYWNlL2xpYi9vb3AiKTsKICAgIAogICAgdmFyIFNlbmRlciA9IGZ1bmN0aW9uKCkge307CiAgICAKICAgIChmdW5jdGlvbigpIHsKICAgICAgICAKICAgICAgICBvb3AuaW1wbGVtZW50KHRoaXMsIEV2ZW50RW1pdHRlcik7CiAgICAgICAgICAgICAgICAKICAgICAgICB0aGlzLmNhbGxiYWNrID0gZnVuY3Rpb24oZGF0YSwgY2FsbGJhY2tJZCkgewogICAgICAgICAgICBwb3N0TWVzc2FnZSh7CiAgICAgICAgICAgICAgICB0eXBlOiAiY2FsbCIsCiAgICAgICAgICAgICAgICBpZDogY2FsbGJhY2tJZCwKICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEKICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgIAogICAgICAgIHRoaXMuZW1pdCA9IGZ1bmN0aW9uKG5hbWUsIGRhdGEpIHsKICAgICAgICAgICAgcG9zdE1lc3NhZ2UoewogICAgICAgICAgICAgICAgdHlwZTogImV2ZW50IiwKICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUsCiAgICAgICAgICAgICAgICBkYXRhOiBkYXRhCiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgCiAgICB9KS5jYWxsKFNlbmRlci5wcm90b3R5cGUpOwogICAgCiAgICByZXR1cm4gbmV3IFNlbmRlcigpOwp9OwoKdmFyIG1haW4gPSB3aW5kb3cubWFpbiA9IG51bGw7CnZhciBzZW5kZXIgPSB3aW5kb3cuc2VuZGVyID0gbnVsbDsKCndpbmRvdy5vbm1lc3NhZ2UgPSBmdW5jdGlvbihlKSB7CiAgICB2YXIgbXNnID0gZS5kYXRhOwogICAgaWYgKG1zZy5ldmVudCAmJiBzZW5kZXIpIHsKICAgICAgICBzZW5kZXIuX3NpZ25hbChtc2cuZXZlbnQsIG1zZy5kYXRhKTsKICAgIH0KICAgIGVsc2UgaWYgKG1zZy5jb21tYW5kKSB7CiAgICAgICAgaWYgKG1haW5bbXNnLmNvbW1hbmRdKQogICAgICAgICAgICBtYWluW21zZy5jb21tYW5kXS5hcHBseShtYWluLCBtc2cuYXJncyk7CiAgICAgICAgZWxzZSBpZiAod2luZG93W21zZy5jb21tYW5kXSkKICAgICAgICAgICAgd2luZG93W21zZy5jb21tYW5kXS5hcHBseSh3aW5kb3csIG1zZy5hcmdzKTsKICAgICAgICBlbHNlCiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiVW5rbm93biBjb21tYW5kOiIgKyBtc2cuY29tbWFuZCk7CiAgICB9CiAgICBlbHNlIGlmIChtc2cuaW5pdCkgewogICAgICAgIHdpbmRvdy5pbml0QmFzZVVybHMobXNnLnRsbnMpOwogICAgICAgIHJlcXVpcmUoImFjZS9saWIvZXM1LXNoaW0iKTsKICAgICAgICBzZW5kZXIgPSB3aW5kb3cuc2VuZGVyID0gd2luZG93LmluaXRTZW5kZXIoKTsKICAgICAgICB2YXIgY2xhenogPSByZXF1aXJlKG1zZy5tb2R1bGUpW21zZy5jbGFzc25hbWVdOwogICAgICAgIG1haW4gPSB3aW5kb3cubWFpbiA9IG5ldyBjbGF6eihzZW5kZXIpOwogICAgfQp9Owp9KSh0aGlzKTsKCmFjZS5kZWZpbmUoImFjZS9saWIvb29wIixbXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7CiJ1c2Ugc3RyaWN0IjsKCmV4cG9ydHMuaW5oZXJpdHMgPSBmdW5jdGlvbihjdG9yLCBzdXBlckN0b3IpIHsKICAgIGN0b3Iuc3VwZXJfID0gc3VwZXJDdG9yOwogICAgY3Rvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ3Rvci5wcm90b3R5cGUsIHsKICAgICAgICBjb25zdHJ1Y3RvcjogewogICAgICAgICAgICB2YWx1ZTogY3RvciwKICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsCiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLAogICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUKICAgICAgICB9CiAgICB9KTsKfTsKCmV4cG9ydHMubWl4aW4gPSBmdW5jdGlvbihvYmosIG1peGluKSB7CiAgICBmb3IgKHZhciBrZXkgaW4gbWl4aW4pIHsKICAgICAgICBvYmpba2V5XSA9IG1peGluW2tleV07CiAgICB9CiAgICByZXR1cm4gb2JqOwp9OwoKZXhwb3J0cy5pbXBsZW1lbnQgPSBmdW5jdGlvbihwcm90bywgbWl4aW4pIHsKICAgIGV4cG9ydHMubWl4aW4ocHJvdG8sIG1peGluKTsKfTsKCn0pOwoKYWNlLmRlZmluZSgiYWNlL3JhbmdlIixbXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7CiJ1c2Ugc3RyaWN0IjsKdmFyIGNvbXBhcmVQb2ludHMgPSBmdW5jdGlvbihwMSwgcDIpIHsKICAgIHJldHVybiBwMS5yb3cgLSBwMi5yb3cgfHwgcDEuY29sdW1uIC0gcDIuY29sdW1uOwp9Owp2YXIgUmFuZ2UgPSBmdW5jdGlvbihzdGFydFJvdywgc3RhcnRDb2x1bW4sIGVuZFJvdywgZW5kQ29sdW1uKSB7CiAgICB0aGlzLnN0YXJ0ID0gewogICAgICAgIHJvdzogc3RhcnRSb3csCiAgICAgICAgY29sdW1uOiBzdGFydENvbHVtbgogICAgfTsKCiAgICB0aGlzLmVuZCA9IHsKICAgICAgICByb3c6IGVuZFJvdywKICAgICAgICBjb2x1bW46IGVuZENvbHVtbgogICAgfTsKfTsKCihmdW5jdGlvbigpIHsKICAgIHRoaXMuaXNFcXVhbCA9IGZ1bmN0aW9uKHJhbmdlKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnQucm93ID09PSByYW5nZS5zdGFydC5yb3cgJiYKICAgICAgICAgICAgdGhpcy5lbmQucm93ID09PSByYW5nZS5lbmQucm93ICYmCiAgICAgICAgICAgIHRoaXMuc3RhcnQuY29sdW1uID09PSByYW5nZS5zdGFydC5jb2x1bW4gJiYKICAgICAgICAgICAgdGhpcy5lbmQuY29sdW1uID09PSByYW5nZS5lbmQuY29sdW1uOwogICAgfTsKICAgIHRoaXMudG9TdHJpbmcgPSBmdW5jdGlvbigpIHsKICAgICAgICByZXR1cm4gKCJSYW5nZTogWyIgKyB0aGlzLnN0YXJ0LnJvdyArICIvIiArIHRoaXMuc3RhcnQuY29sdW1uICsKICAgICAgICAgICAgIl0gLT4gWyIgKyB0aGlzLmVuZC5yb3cgKyAiLyIgKyB0aGlzLmVuZC5jb2x1bW4gKyAiXSIpOwogICAgfTsKCiAgICB0aGlzLmNvbnRhaW5zID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHsKICAgICAgICByZXR1cm4gdGhpcy5jb21wYXJlKHJvdywgY29sdW1uKSA9PSAwOwogICAgfTsKICAgIHRoaXMuY29tcGFyZVJhbmdlID0gZnVuY3Rpb24ocmFuZ2UpIHsKICAgICAgICB2YXIgY21wLAogICAgICAgICAgICBlbmQgPSByYW5nZS5lbmQsCiAgICAgICAgICAgIHN0YXJ0ID0gcmFuZ2Uuc3RhcnQ7CgogICAgICAgIGNtcCA9IHRoaXMuY29tcGFyZShlbmQucm93LCBlbmQuY29sdW1uKTsKICAgICAgICBpZiAoY21wID09IDEpIHsKICAgICAgICAgICAgY21wID0gdGhpcy5jb21wYXJlKHN0YXJ0LnJvdywgc3RhcnQuY29sdW1uKTsKICAgICAgICAgICAgaWYgKGNtcCA9PSAxKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gMjsKICAgICAgICAgICAgfSBlbHNlIGlmIChjbXAgPT0gMCkgewogICAgICAgICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoY21wID09IC0xKSB7CiAgICAgICAgICAgIHJldHVybiAtMjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjbXAgPSB0aGlzLmNvbXBhcmUoc3RhcnQucm93LCBzdGFydC5jb2x1bW4pOwogICAgICAgICAgICBpZiAoY21wID09IC0xKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoY21wID09IDEpIHsKICAgICAgICAgICAgICAgIHJldHVybiA0MjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiAwOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuY29tcGFyZVBvaW50ID0gZnVuY3Rpb24ocCkgewogICAgICAgIHJldHVybiB0aGlzLmNvbXBhcmUocC5yb3csIHAuY29sdW1uKTsKICAgIH07CiAgICB0aGlzLmNvbnRhaW5zUmFuZ2UgPSBmdW5jdGlvbihyYW5nZSkgewogICAgICAgIHJldHVybiB0aGlzLmNvbXBhcmVQb2ludChyYW5nZS5zdGFydCkgPT0gMCAmJiB0aGlzLmNvbXBhcmVQb2ludChyYW5nZS5lbmQpID09IDA7CiAgICB9OwogICAgdGhpcy5pbnRlcnNlY3RzID0gZnVuY3Rpb24ocmFuZ2UpIHsKICAgICAgICB2YXIgY21wID0gdGhpcy5jb21wYXJlUmFuZ2UocmFuZ2UpOwogICAgICAgIHJldHVybiAoY21wID09IC0xIHx8IGNtcCA9PSAwIHx8IGNtcCA9PSAxKTsKICAgIH07CiAgICB0aGlzLmlzRW5kID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHsKICAgICAgICByZXR1cm4gdGhpcy5lbmQucm93ID09IHJvdyAmJiB0aGlzLmVuZC5jb2x1bW4gPT0gY29sdW1uOwogICAgfTsKICAgIHRoaXMuaXNTdGFydCA9IGZ1bmN0aW9uKHJvdywgY29sdW1uKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnQucm93ID09IHJvdyAmJiB0aGlzLnN0YXJ0LmNvbHVtbiA9PSBjb2x1bW47CiAgICB9OwogICAgdGhpcy5zZXRTdGFydCA9IGZ1bmN0aW9uKHJvdywgY29sdW1uKSB7CiAgICAgICAgaWYgKHR5cGVvZiByb3cgPT0gIm9iamVjdCIpIHsKICAgICAgICAgICAgdGhpcy5zdGFydC5jb2x1bW4gPSByb3cuY29sdW1uOwogICAgICAgICAgICB0aGlzLnN0YXJ0LnJvdyA9IHJvdy5yb3c7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5zdGFydC5yb3cgPSByb3c7CiAgICAgICAgICAgIHRoaXMuc3RhcnQuY29sdW1uID0gY29sdW1uOwogICAgICAgIH0KICAgIH07CiAgICB0aGlzLnNldEVuZCA9IGZ1bmN0aW9uKHJvdywgY29sdW1uKSB7CiAgICAgICAgaWYgKHR5cGVvZiByb3cgPT0gIm9iamVjdCIpIHsKICAgICAgICAgICAgdGhpcy5lbmQuY29sdW1uID0gcm93LmNvbHVtbjsKICAgICAgICAgICAgdGhpcy5lbmQucm93ID0gcm93LnJvdzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLmVuZC5yb3cgPSByb3c7CiAgICAgICAgICAgIHRoaXMuZW5kLmNvbHVtbiA9IGNvbHVtbjsKICAgICAgICB9CiAgICB9OwogICAgdGhpcy5pbnNpZGUgPSBmdW5jdGlvbihyb3csIGNvbHVtbikgewogICAgICAgIGlmICh0aGlzLmNvbXBhcmUocm93LCBjb2x1bW4pID09IDApIHsKICAgICAgICAgICAgaWYgKHRoaXMuaXNFbmQocm93LCBjb2x1bW4pIHx8IHRoaXMuaXNTdGFydChyb3csIGNvbHVtbikpIHsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH07CiAgICB0aGlzLmluc2lkZVN0YXJ0ID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAodGhpcy5jb21wYXJlKHJvdywgY29sdW1uKSA9PSAwKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmlzRW5kKHJvdywgY29sdW1uKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfTsKICAgIHRoaXMuaW5zaWRlRW5kID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAodGhpcy5jb21wYXJlKHJvdywgY29sdW1uKSA9PSAwKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmlzU3RhcnQocm93LCBjb2x1bW4pKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9OwogICAgdGhpcy5jb21wYXJlID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAoIXRoaXMuaXNNdWx0aUxpbmUoKSkgewogICAgICAgICAgICBpZiAocm93ID09PSB0aGlzLnN0YXJ0LnJvdykgewogICAgICAgICAgICAgICAgcmV0dXJuIGNvbHVtbiA8IHRoaXMuc3RhcnQuY29sdW1uID8gLTEgOiAoY29sdW1uID4gdGhpcy5lbmQuY29sdW1uID8gMSA6IDApOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAocm93IDwgdGhpcy5zdGFydC5yb3cpCiAgICAgICAgICAgIHJldHVybiAtMTsKCiAgICAgICAgaWYgKHJvdyA+IHRoaXMuZW5kLnJvdykKICAgICAgICAgICAgcmV0dXJuIDE7CgogICAgICAgIGlmICh0aGlzLnN0YXJ0LnJvdyA9PT0gcm93KQogICAgICAgICAgICByZXR1cm4gY29sdW1uID49IHRoaXMuc3RhcnQuY29sdW1uID8gMCA6IC0xOwoKICAgICAgICBpZiAodGhpcy5lbmQucm93ID09PSByb3cpCiAgICAgICAgICAgIHJldHVybiBjb2x1bW4gPD0gdGhpcy5lbmQuY29sdW1uID8gMCA6IDE7CgogICAgICAgIHJldHVybiAwOwogICAgfTsKICAgIHRoaXMuY29tcGFyZVN0YXJ0ID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAodGhpcy5zdGFydC5yb3cgPT0gcm93ICYmIHRoaXMuc3RhcnQuY29sdW1uID09IGNvbHVtbikgewogICAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29tcGFyZShyb3csIGNvbHVtbik7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuY29tcGFyZUVuZCA9IGZ1bmN0aW9uKHJvdywgY29sdW1uKSB7CiAgICAgICAgaWYgKHRoaXMuZW5kLnJvdyA9PSByb3cgJiYgdGhpcy5lbmQuY29sdW1uID09IGNvbHVtbikgewogICAgICAgICAgICByZXR1cm4gMTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gdGhpcy5jb21wYXJlKHJvdywgY29sdW1uKTsKICAgICAgICB9CiAgICB9OwogICAgdGhpcy5jb21wYXJlSW5zaWRlID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAodGhpcy5lbmQucm93ID09IHJvdyAmJiB0aGlzLmVuZC5jb2x1bW4gPT0gY29sdW1uKSB7CiAgICAgICAgICAgIHJldHVybiAxOwogICAgICAgIH0gZWxzZSBpZiAodGhpcy5zdGFydC5yb3cgPT0gcm93ICYmIHRoaXMuc3RhcnQuY29sdW1uID09IGNvbHVtbikgewogICAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29tcGFyZShyb3csIGNvbHVtbik7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuY2xpcFJvd3MgPSBmdW5jdGlvbihmaXJzdFJvdywgbGFzdFJvdykgewogICAgICAgIGlmICh0aGlzLmVuZC5yb3cgPiBsYXN0Um93KQogICAgICAgICAgICB2YXIgZW5kID0ge3JvdzogbGFzdFJvdyArIDEsIGNvbHVtbjogMH07CiAgICAgICAgZWxzZSBpZiAodGhpcy5lbmQucm93IDwgZmlyc3RSb3cpCiAgICAgICAgICAgIHZhciBlbmQgPSB7cm93OiBmaXJzdFJvdywgY29sdW1uOiAwfTsKCiAgICAgICAgaWYgKHRoaXMuc3RhcnQucm93ID4gbGFzdFJvdykKICAgICAgICAgICAgdmFyIHN0YXJ0ID0ge3JvdzogbGFzdFJvdyArIDEsIGNvbHVtbjogMH07CiAgICAgICAgZWxzZSBpZiAodGhpcy5zdGFydC5yb3cgPCBmaXJzdFJvdykKICAgICAgICAgICAgdmFyIHN0YXJ0ID0ge3JvdzogZmlyc3RSb3csIGNvbHVtbjogMH07CgogICAgICAgIHJldHVybiBSYW5nZS5mcm9tUG9pbnRzKHN0YXJ0IHx8IHRoaXMuc3RhcnQsIGVuZCB8fCB0aGlzLmVuZCk7CiAgICB9OwogICAgdGhpcy5leHRlbmQgPSBmdW5jdGlvbihyb3csIGNvbHVtbikgewogICAgICAgIHZhciBjbXAgPSB0aGlzLmNvbXBhcmUocm93LCBjb2x1bW4pOwoKICAgICAgICBpZiAoY21wID09IDApCiAgICAgICAgICAgIHJldHVybiB0aGlzOwogICAgICAgIGVsc2UgaWYgKGNtcCA9PSAtMSkKICAgICAgICAgICAgdmFyIHN0YXJ0ID0ge3Jvdzogcm93LCBjb2x1bW46IGNvbHVtbn07CiAgICAgICAgZWxzZQogICAgICAgICAgICB2YXIgZW5kID0ge3Jvdzogcm93LCBjb2x1bW46IGNvbHVtbn07CgogICAgICAgIHJldHVybiBSYW5nZS5mcm9tUG9pbnRzKHN0YXJ0IHx8IHRoaXMuc3RhcnQsIGVuZCB8fCB0aGlzLmVuZCk7CiAgICB9OwoKICAgIHRoaXMuaXNFbXB0eSA9IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiAodGhpcy5zdGFydC5yb3cgPT09IHRoaXMuZW5kLnJvdyAmJiB0aGlzLnN0YXJ0LmNvbHVtbiA9PT0gdGhpcy5lbmQuY29sdW1uKTsKICAgIH07CiAgICB0aGlzLmlzTXVsdGlMaW5lID0gZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuICh0aGlzLnN0YXJ0LnJvdyAhPT0gdGhpcy5lbmQucm93KTsKICAgIH07CiAgICB0aGlzLmNsb25lID0gZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuIFJhbmdlLmZyb21Qb2ludHModGhpcy5zdGFydCwgdGhpcy5lbmQpOwogICAgfTsKICAgIHRoaXMuY29sbGFwc2VSb3dzID0gZnVuY3Rpb24oKSB7CiAgICAgICAgaWYgKHRoaXMuZW5kLmNvbHVtbiA9PSAwKQogICAgICAgICAgICByZXR1cm4gbmV3IFJhbmdlKHRoaXMuc3RhcnQucm93LCAwLCBNYXRoLm1heCh0aGlzLnN0YXJ0LnJvdywgdGhpcy5lbmQucm93LTEpLCAwKTsKICAgICAgICBlbHNlCiAgICAgICAgICAgIHJldHVybiBuZXcgUmFuZ2UodGhpcy5zdGFydC5yb3csIDAsIHRoaXMuZW5kLnJvdywgMCk7CiAgICB9OwogICAgdGhpcy50b1NjcmVlblJhbmdlID0gZnVuY3Rpb24oc2Vzc2lvbikgewogICAgICAgIHZhciBzY3JlZW5Qb3NTdGFydCA9IHNlc3Npb24uZG9jdW1lbnRUb1NjcmVlblBvc2l0aW9uKHRoaXMuc3RhcnQpOwogICAgICAgIHZhciBzY3JlZW5Qb3NFbmQgPSBzZXNzaW9uLmRvY3VtZW50VG9TY3JlZW5Qb3NpdGlvbih0aGlzLmVuZCk7CgogICAgICAgIHJldHVybiBuZXcgUmFuZ2UoCiAgICAgICAgICAgIHNjcmVlblBvc1N0YXJ0LnJvdywgc2NyZWVuUG9zU3RhcnQuY29sdW1uLAogICAgICAgICAgICBzY3JlZW5Qb3NFbmQucm93LCBzY3JlZW5Qb3NFbmQuY29sdW1uCiAgICAgICAgKTsKICAgIH07CiAgICB0aGlzLm1vdmVCeSA9IGZ1bmN0aW9uKHJvdywgY29sdW1uKSB7CiAgICAgICAgdGhpcy5zdGFydC5yb3cgKz0gcm93OwogICAgICAgIHRoaXMuc3RhcnQuY29sdW1uICs9IGNvbHVtbjsKICAgICAgICB0aGlzLmVuZC5yb3cgKz0gcm93OwogICAgICAgIHRoaXMuZW5kLmNvbHVtbiArPSBjb2x1bW47CiAgICB9OwoKfSkuY2FsbChSYW5nZS5wcm90b3R5cGUpOwpSYW5nZS5mcm9tUG9pbnRzID0gZnVuY3Rpb24oc3RhcnQsIGVuZCkgewogICAgcmV0dXJuIG5ldyBSYW5nZShzdGFydC5yb3csIHN0YXJ0LmNvbHVtbiwgZW5kLnJvdywgZW5kLmNvbHVtbik7Cn07ClJhbmdlLmNvbXBhcmVQb2ludHMgPSBjb21wYXJlUG9pbnRzOwoKUmFuZ2UuY29tcGFyZVBvaW50cyA9IGZ1bmN0aW9uKHAxLCBwMikgewogICAgcmV0dXJuIHAxLnJvdyAtIHAyLnJvdyB8fCBwMS5jb2x1bW4gLSBwMi5jb2x1bW47Cn07CgoKZXhwb3J0cy5SYW5nZSA9IFJhbmdlOwp9KTsKCmFjZS5kZWZpbmUoImFjZS9hcHBseV9kZWx0YSIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkgewoidXNlIHN0cmljdCI7CgpmdW5jdGlvbiB0aHJvd0RlbHRhRXJyb3IoZGVsdGEsIGVycm9yVGV4dCl7CiAgICBjb25zb2xlLmxvZygiSW52YWxpZCBEZWx0YToiLCBkZWx0YSk7CiAgICB0aHJvdyAiSW52YWxpZCBEZWx0YTogIiArIGVycm9yVGV4dDsKfQoKZnVuY3Rpb24gcG9zaXRpb25JbkRvY3VtZW50KGRvY0xpbmVzLCBwb3NpdGlvbikgewogICAgcmV0dXJuIHBvc2l0aW9uLnJvdyAgICA+PSAwICYmIHBvc2l0aW9uLnJvdyAgICA8ICBkb2NMaW5lcy5sZW5ndGggJiYKICAgICAgICAgICBwb3NpdGlvbi5jb2x1bW4gPj0gMCAmJiBwb3NpdGlvbi5jb2x1bW4gPD0gZG9jTGluZXNbcG9zaXRpb24ucm93XS5sZW5ndGg7Cn0KCmZ1bmN0aW9uIHZhbGlkYXRlRGVsdGEoZG9jTGluZXMsIGRlbHRhKSB7CiAgICBpZiAoZGVsdGEuYWN0aW9uICE9ICJpbnNlcnQiICYmIGRlbHRhLmFjdGlvbiAhPSAicmVtb3ZlIikKICAgICAgICB0aHJvd0RlbHRhRXJyb3IoZGVsdGEsICJkZWx0YS5hY3Rpb24gbXVzdCBiZSAnaW5zZXJ0JyBvciAncmVtb3ZlJyIpOwogICAgaWYgKCEoZGVsdGEubGluZXMgaW5zdGFuY2VvZiBBcnJheSkpCiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEubGluZXMgbXVzdCBiZSBhbiBBcnJheSIpOwogICAgaWYgKCFkZWx0YS5zdGFydCB8fCAhZGVsdGEuZW5kKQogICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEuc3RhcnQvZW5kIG11c3QgYmUgYW4gcHJlc2VudCIpOwogICAgdmFyIHN0YXJ0ID0gZGVsdGEuc3RhcnQ7CiAgICBpZiAoIXBvc2l0aW9uSW5Eb2N1bWVudChkb2NMaW5lcywgZGVsdGEuc3RhcnQpKQogICAgICAgIHRocm93RGVsdGFFcnJvcihkZWx0YSwgImRlbHRhLnN0YXJ0IG11c3QgYmUgY29udGFpbmVkIGluIGRvY3VtZW50Iik7CiAgICB2YXIgZW5kID0gZGVsdGEuZW5kOwogICAgaWYgKGRlbHRhLmFjdGlvbiA9PSAicmVtb3ZlIiAmJiAhcG9zaXRpb25JbkRvY3VtZW50KGRvY0xpbmVzLCBlbmQpKQogICAgICAgIHRocm93RGVsdGFFcnJvcihkZWx0YSwgImRlbHRhLmVuZCBtdXN0IGNvbnRhaW5lZCBpbiBkb2N1bWVudCBmb3IgJ3JlbW92ZScgYWN0aW9ucyIpOwogICAgdmFyIG51bVJhbmdlUm93cyA9IGVuZC5yb3cgLSBzdGFydC5yb3c7CiAgICB2YXIgbnVtUmFuZ2VMYXN0TGluZUNoYXJzID0gKGVuZC5jb2x1bW4gLSAobnVtUmFuZ2VSb3dzID09IDAgPyBzdGFydC5jb2x1bW4gOiAwKSk7CiAgICBpZiAobnVtUmFuZ2VSb3dzICE9IGRlbHRhLmxpbmVzLmxlbmd0aCAtIDEgfHwgZGVsdGEubGluZXNbbnVtUmFuZ2VSb3dzXS5sZW5ndGggIT0gbnVtUmFuZ2VMYXN0TGluZUNoYXJzKQogICAgICAgIHRocm93RGVsdGFFcnJvcihkZWx0YSwgImRlbHRhLnJhbmdlIG11c3QgbWF0Y2ggZGVsdGEgbGluZXMiKTsKfQoKZXhwb3J0cy5hcHBseURlbHRhID0gZnVuY3Rpb24oZG9jTGluZXMsIGRlbHRhLCBkb05vdFZhbGlkYXRlKSB7CiAgICAKICAgIHZhciByb3cgPSBkZWx0YS5zdGFydC5yb3c7CiAgICB2YXIgc3RhcnRDb2x1bW4gPSBkZWx0YS5zdGFydC5jb2x1bW47CiAgICB2YXIgbGluZSA9IGRvY0xpbmVzW3Jvd10gfHwgIiI7CiAgICBzd2l0Y2ggKGRlbHRhLmFjdGlvbikgewogICAgICAgIGNhc2UgImluc2VydCI6CiAgICAgICAgICAgIHZhciBsaW5lcyA9IGRlbHRhLmxpbmVzOwogICAgICAgICAgICBpZiAobGluZXMubGVuZ3RoID09PSAxKSB7CiAgICAgICAgICAgICAgICBkb2NMaW5lc1tyb3ddID0gbGluZS5zdWJzdHJpbmcoMCwgc3RhcnRDb2x1bW4pICsgZGVsdGEubGluZXNbMF0gKyBsaW5lLnN1YnN0cmluZyhzdGFydENvbHVtbik7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB2YXIgYXJncyA9IFtyb3csIDFdLmNvbmNhdChkZWx0YS5saW5lcyk7CiAgICAgICAgICAgICAgICBkb2NMaW5lcy5zcGxpY2UuYXBwbHkoZG9jTGluZXMsIGFyZ3MpOwogICAgICAgICAgICAgICAgZG9jTGluZXNbcm93XSA9IGxpbmUuc3Vic3RyaW5nKDAsIHN0YXJ0Q29sdW1uKSArIGRvY0xpbmVzW3Jvd107CiAgICAgICAgICAgICAgICBkb2NMaW5lc1tyb3cgKyBkZWx0YS5saW5lcy5sZW5ndGggLSAxXSArPSBsaW5lLnN1YnN0cmluZyhzdGFydENvbHVtbik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAicmVtb3ZlIjoKICAgICAgICAgICAgdmFyIGVuZENvbHVtbiA9IGRlbHRhLmVuZC5jb2x1bW47CiAgICAgICAgICAgIHZhciBlbmRSb3cgPSBkZWx0YS5lbmQucm93OwogICAgICAgICAgICBpZiAocm93ID09PSBlbmRSb3cpIHsKICAgICAgICAgICAgICAgIGRvY0xpbmVzW3Jvd10gPSBsaW5lLnN1YnN0cmluZygwLCBzdGFydENvbHVtbikgKyBsaW5lLnN1YnN0cmluZyhlbmRDb2x1bW4pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgZG9jTGluZXMuc3BsaWNlKAogICAgICAgICAgICAgICAgICAgIHJvdywgZW5kUm93IC0gcm93ICsgMSwKICAgICAgICAgICAgICAgICAgICBsaW5lLnN1YnN0cmluZygwLCBzdGFydENvbHVtbikgKyBkb2NMaW5lc1tlbmRSb3ddLnN1YnN0cmluZyhlbmRDb2x1bW4pCiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGJyZWFrOwogICAgfQp9Owp9KTsKCmFjZS5kZWZpbmUoImFjZS9saWIvZXZlbnRfZW1pdHRlciIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkgewoidXNlIHN0cmljdCI7Cgp2YXIgRXZlbnRFbWl0dGVyID0ge307CnZhciBzdG9wUHJvcGFnYXRpb24gPSBmdW5jdGlvbigpIHsgdGhpcy5wcm9wYWdhdGlvblN0b3BwZWQgPSB0cnVlOyB9Owp2YXIgcHJldmVudERlZmF1bHQgPSBmdW5jdGlvbigpIHsgdGhpcy5kZWZhdWx0UHJldmVudGVkID0gdHJ1ZTsgfTsKCkV2ZW50RW1pdHRlci5fZW1pdCA9CkV2ZW50RW1pdHRlci5fZGlzcGF0Y2hFdmVudCA9IGZ1bmN0aW9uKGV2ZW50TmFtZSwgZSkgewogICAgdGhpcy5fZXZlbnRSZWdpc3RyeSB8fCAodGhpcy5fZXZlbnRSZWdpc3RyeSA9IHt9KTsKICAgIHRoaXMuX2RlZmF1bHRIYW5kbGVycyB8fCAodGhpcy5fZGVmYXVsdEhhbmRsZXJzID0ge30pOwoKICAgIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudFJlZ2lzdHJ5W2V2ZW50TmFtZV0gfHwgW107CiAgICB2YXIgZGVmYXVsdEhhbmRsZXIgPSB0aGlzLl9kZWZhdWx0SGFuZGxlcnNbZXZlbnROYW1lXTsKICAgIGlmICghbGlzdGVuZXJzLmxlbmd0aCAmJiAhZGVmYXVsdEhhbmRsZXIpCiAgICAgICAgcmV0dXJuOwoKICAgIGlmICh0eXBlb2YgZSAhPSAib2JqZWN0IiB8fCAhZSkKICAgICAgICBlID0ge307CgogICAgaWYgKCFlLnR5cGUpCiAgICAgICAgZS50eXBlID0gZXZlbnROYW1lOwogICAgaWYgKCFlLnN0b3BQcm9wYWdhdGlvbikKICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbiA9IHN0b3BQcm9wYWdhdGlvbjsKICAgIGlmICghZS5wcmV2ZW50RGVmYXVsdCkKICAgICAgICBlLnByZXZlbnREZWZhdWx0ID0gcHJldmVudERlZmF1bHQ7CgogICAgbGlzdGVuZXJzID0gbGlzdGVuZXJzLnNsaWNlKCk7CiAgICBmb3IgKHZhciBpPTA7IGk8bGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgbGlzdGVuZXJzW2ldKGUsIHRoaXMpOwogICAgICAgIGlmIChlLnByb3BhZ2F0aW9uU3RvcHBlZCkKICAgICAgICAgICAgYnJlYWs7CiAgICB9CiAgICAKICAgIGlmIChkZWZhdWx0SGFuZGxlciAmJiAhZS5kZWZhdWx0UHJldmVudGVkKQogICAgICAgIHJldHVybiBkZWZhdWx0SGFuZGxlcihlLCB0aGlzKTsKfTsKCgpFdmVudEVtaXR0ZXIuX3NpZ25hbCA9IGZ1bmN0aW9uKGV2ZW50TmFtZSwgZSkgewogICAgdmFyIGxpc3RlbmVycyA9ICh0aGlzLl9ldmVudFJlZ2lzdHJ5IHx8IHt9KVtldmVudE5hbWVdOwogICAgaWYgKCFsaXN0ZW5lcnMpCiAgICAgICAgcmV0dXJuOwogICAgbGlzdGVuZXJzID0gbGlzdGVuZXJzLnNsaWNlKCk7CiAgICBmb3IgKHZhciBpPTA7IGk8bGlzdGVuZXJzLmxlbmd0aDsgaSsrKQogICAgICAgIGxpc3RlbmVyc1tpXShlLCB0aGlzKTsKfTsKCkV2ZW50RW1pdHRlci5vbmNlID0gZnVuY3Rpb24oZXZlbnROYW1lLCBjYWxsYmFjaykgewogICAgdmFyIF9zZWxmID0gdGhpczsKICAgIHRoaXMub24oZXZlbnROYW1lLCBmdW5jdGlvbiBuZXdDYWxsYmFjaygpIHsKICAgICAgICBfc2VsZi5vZmYoZXZlbnROYW1lLCBuZXdDYWxsYmFjayk7CiAgICAgICAgY2FsbGJhY2suYXBwbHkobnVsbCwgYXJndW1lbnRzKTsKICAgIH0pOwogICAgaWYgKCFjYWxsYmFjaykgewogICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlKSB7CiAgICAgICAgICAgIGNhbGxiYWNrID0gcmVzb2x2ZTsKICAgICAgICB9KTsKICAgIH0KfTsKCgpFdmVudEVtaXR0ZXIuc2V0RGVmYXVsdEhhbmRsZXIgPSBmdW5jdGlvbihldmVudE5hbWUsIGNhbGxiYWNrKSB7CiAgICB2YXIgaGFuZGxlcnMgPSB0aGlzLl9kZWZhdWx0SGFuZGxlcnM7CiAgICBpZiAoIWhhbmRsZXJzKQogICAgICAgIGhhbmRsZXJzID0gdGhpcy5fZGVmYXVsdEhhbmRsZXJzID0ge19kaXNhYmxlZF86IHt9fTsKICAgIAogICAgaWYgKGhhbmRsZXJzW2V2ZW50TmFtZV0pIHsKICAgICAgICB2YXIgb2xkID0gaGFuZGxlcnNbZXZlbnROYW1lXTsKICAgICAgICB2YXIgZGlzYWJsZWQgPSBoYW5kbGVycy5fZGlzYWJsZWRfW2V2ZW50TmFtZV07CiAgICAgICAgaWYgKCFkaXNhYmxlZCkKICAgICAgICAgICAgaGFuZGxlcnMuX2Rpc2FibGVkX1tldmVudE5hbWVdID0gZGlzYWJsZWQgPSBbXTsKICAgICAgICBkaXNhYmxlZC5wdXNoKG9sZCk7CiAgICAgICAgdmFyIGkgPSBkaXNhYmxlZC5pbmRleE9mKGNhbGxiYWNrKTsKICAgICAgICBpZiAoaSAhPSAtMSkgCiAgICAgICAgICAgIGRpc2FibGVkLnNwbGljZShpLCAxKTsKICAgIH0KICAgIGhhbmRsZXJzW2V2ZW50TmFtZV0gPSBjYWxsYmFjazsKfTsKRXZlbnRFbWl0dGVyLnJlbW92ZURlZmF1bHRIYW5kbGVyID0gZnVuY3Rpb24oZXZlbnROYW1lLCBjYWxsYmFjaykgewogICAgdmFyIGhhbmRsZXJzID0gdGhpcy5fZGVmYXVsdEhhbmRsZXJzOwogICAgaWYgKCFoYW5kbGVycykKICAgICAgICByZXR1cm47CiAgICB2YXIgZGlzYWJsZWQgPSBoYW5kbGVycy5fZGlzYWJsZWRfW2V2ZW50TmFtZV07CiAgICAKICAgIGlmIChoYW5kbGVyc1tldmVudE5hbWVdID09IGNhbGxiYWNrKSB7CiAgICAgICAgaWYgKGRpc2FibGVkKQogICAgICAgICAgICB0aGlzLnNldERlZmF1bHRIYW5kbGVyKGV2ZW50TmFtZSwgZGlzYWJsZWQucG9wKCkpOwogICAgfSBlbHNlIGlmIChkaXNhYmxlZCkgewogICAgICAgIHZhciBpID0gZGlzYWJsZWQuaW5kZXhPZihjYWxsYmFjayk7CiAgICAgICAgaWYgKGkgIT0gLTEpCiAgICAgICAgICAgIGRpc2FibGVkLnNwbGljZShpLCAxKTsKICAgIH0KfTsKCkV2ZW50RW1pdHRlci5vbiA9CkV2ZW50RW1pdHRlci5hZGRFdmVudExpc3RlbmVyID0gZnVuY3Rpb24oZXZlbnROYW1lLCBjYWxsYmFjaywgY2FwdHVyaW5nKSB7CiAgICB0aGlzLl9ldmVudFJlZ2lzdHJ5ID0gdGhpcy5fZXZlbnRSZWdpc3RyeSB8fCB7fTsKCiAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRSZWdpc3RyeVtldmVudE5hbWVdOwogICAgaWYgKCFsaXN0ZW5lcnMpCiAgICAgICAgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRSZWdpc3RyeVtldmVudE5hbWVdID0gW107CgogICAgaWYgKGxpc3RlbmVycy5pbmRleE9mKGNhbGxiYWNrKSA9PSAtMSkKICAgICAgICBsaXN0ZW5lcnNbY2FwdHVyaW5nID8gInVuc2hpZnQiIDogInB1c2giXShjYWxsYmFjayk7CiAgICByZXR1cm4gY2FsbGJhY2s7Cn07CgpFdmVudEVtaXR0ZXIub2ZmID0KRXZlbnRFbWl0dGVyLnJlbW92ZUxpc3RlbmVyID0KRXZlbnRFbWl0dGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbihldmVudE5hbWUsIGNhbGxiYWNrKSB7CiAgICB0aGlzLl9ldmVudFJlZ2lzdHJ5ID0gdGhpcy5fZXZlbnRSZWdpc3RyeSB8fCB7fTsKCiAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRSZWdpc3RyeVtldmVudE5hbWVdOwogICAgaWYgKCFsaXN0ZW5lcnMpCiAgICAgICAgcmV0dXJuOwoKICAgIHZhciBpbmRleCA9IGxpc3RlbmVycy5pbmRleE9mKGNhbGxiYWNrKTsKICAgIGlmIChpbmRleCAhPT0gLTEpCiAgICAgICAgbGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7Cn07CgpFdmVudEVtaXR0ZXIucmVtb3ZlQWxsTGlzdGVuZXJzID0gZnVuY3Rpb24oZXZlbnROYW1lKSB7CiAgICBpZiAoIWV2ZW50TmFtZSkgdGhpcy5fZXZlbnRSZWdpc3RyeSA9IHRoaXMuX2RlZmF1bHRIYW5kbGVycyA9IHVuZGVmaW5lZDsKICAgIGlmICh0aGlzLl9ldmVudFJlZ2lzdHJ5KSB0aGlzLl9ldmVudFJlZ2lzdHJ5W2V2ZW50TmFtZV0gPSB1bmRlZmluZWQ7CiAgICBpZiAodGhpcy5fZGVmYXVsdEhhbmRsZXJzKSB0aGlzLl9kZWZhdWx0SGFuZGxlcnNbZXZlbnROYW1lXSA9IHVuZGVmaW5lZDsKfTsKCmV4cG9ydHMuRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyOwoKfSk7CgphY2UuZGVmaW5lKCJhY2UvYW5jaG9yIixbXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7CiJ1c2Ugc3RyaWN0IjsKCnZhciBvb3AgPSByZXF1aXJlKCIuL2xpYi9vb3AiKTsKdmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoIi4vbGliL2V2ZW50X2VtaXR0ZXIiKS5FdmVudEVtaXR0ZXI7Cgp2YXIgQW5jaG9yID0gZXhwb3J0cy5BbmNob3IgPSBmdW5jdGlvbihkb2MsIHJvdywgY29sdW1uKSB7CiAgICB0aGlzLiRvbkNoYW5nZSA9IHRoaXMub25DaGFuZ2UuYmluZCh0aGlzKTsKICAgIHRoaXMuYXR0YWNoKGRvYyk7CiAgICAKICAgIGlmICh0eXBlb2YgY29sdW1uID09ICJ1bmRlZmluZWQiKQogICAgICAgIHRoaXMuc2V0UG9zaXRpb24ocm93LnJvdywgcm93LmNvbHVtbik7CiAgICBlbHNlCiAgICAgICAgdGhpcy5zZXRQb3NpdGlvbihyb3csIGNvbHVtbik7Cn07CgooZnVuY3Rpb24oKSB7CgogICAgb29wLmltcGxlbWVudCh0aGlzLCBFdmVudEVtaXR0ZXIpOwogICAgdGhpcy5nZXRQb3NpdGlvbiA9IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiB0aGlzLiRjbGlwUG9zaXRpb25Ub0RvY3VtZW50KHRoaXMucm93LCB0aGlzLmNvbHVtbik7CiAgICB9OwogICAgdGhpcy5nZXREb2N1bWVudCA9IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiB0aGlzLmRvY3VtZW50OwogICAgfTsKICAgIHRoaXMuJGluc2VydFJpZ2h0ID0gZmFsc2U7CiAgICB0aGlzLm9uQ2hhbmdlID0gZnVuY3Rpb24oZGVsdGEpIHsKICAgICAgICBpZiAoZGVsdGEuc3RhcnQucm93ID09IGRlbHRhLmVuZC5yb3cgJiYgZGVsdGEuc3RhcnQucm93ICE9IHRoaXMucm93KQogICAgICAgICAgICByZXR1cm47CgogICAgICAgIGlmIChkZWx0YS5zdGFydC5yb3cgPiB0aGlzLnJvdykKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAKICAgICAgICB2YXIgcG9pbnQgPSAkZ2V0VHJhbnNmb3JtZWRQb2ludChkZWx0YSwge3JvdzogdGhpcy5yb3csIGNvbHVtbjogdGhpcy5jb2x1bW59LCB0aGlzLiRpbnNlcnRSaWdodCk7CiAgICAgICAgdGhpcy5zZXRQb3NpdGlvbihwb2ludC5yb3csIHBvaW50LmNvbHVtbiwgdHJ1ZSk7CiAgICB9OwogICAgCiAgICBmdW5jdGlvbiAkcG9pbnRzSW5PcmRlcihwb2ludDEsIHBvaW50MiwgZXF1YWxQb2ludHNJbk9yZGVyKSB7CiAgICAgICAgdmFyIGJDb2xJc0FmdGVyID0gZXF1YWxQb2ludHNJbk9yZGVyID8gcG9pbnQxLmNvbHVtbiA8PSBwb2ludDIuY29sdW1uIDogcG9pbnQxLmNvbHVtbiA8IHBvaW50Mi5jb2x1bW47CiAgICAgICAgcmV0dXJuIChwb2ludDEucm93IDwgcG9pbnQyLnJvdykgfHwgKHBvaW50MS5yb3cgPT0gcG9pbnQyLnJvdyAmJiBiQ29sSXNBZnRlcik7CiAgICB9CiAgICAgICAgICAgIAogICAgZnVuY3Rpb24gJGdldFRyYW5zZm9ybWVkUG9pbnQoZGVsdGEsIHBvaW50LCBtb3ZlSWZFcXVhbCkgewogICAgICAgIHZhciBkZWx0YUlzSW5zZXJ0ID0gZGVsdGEuYWN0aW9uID09ICJpbnNlcnQiOwogICAgICAgIHZhciBkZWx0YVJvd1NoaWZ0ID0gKGRlbHRhSXNJbnNlcnQgPyAxIDogLTEpICogKGRlbHRhLmVuZC5yb3cgICAgLSBkZWx0YS5zdGFydC5yb3cpOwogICAgICAgIHZhciBkZWx0YUNvbFNoaWZ0ID0gKGRlbHRhSXNJbnNlcnQgPyAxIDogLTEpICogKGRlbHRhLmVuZC5jb2x1bW4gLSBkZWx0YS5zdGFydC5jb2x1bW4pOwogICAgICAgIHZhciBkZWx0YVN0YXJ0ID0gZGVsdGEuc3RhcnQ7CiAgICAgICAgdmFyIGRlbHRhRW5kID0gZGVsdGFJc0luc2VydCA/IGRlbHRhU3RhcnQgOiBkZWx0YS5lbmQ7IC8vIENvbGxhcHNlIGluc2VydCByYW5nZS4KICAgICAgICBpZiAoJHBvaW50c0luT3JkZXIocG9pbnQsIGRlbHRhU3RhcnQsIG1vdmVJZkVxdWFsKSkgewogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgcm93OiBwb2ludC5yb3csCiAgICAgICAgICAgICAgICBjb2x1bW46IHBvaW50LmNvbHVtbgogICAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgICBpZiAoJHBvaW50c0luT3JkZXIoZGVsdGFFbmQsIHBvaW50LCAhbW92ZUlmRXF1YWwpKSB7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICByb3c6IHBvaW50LnJvdyArIGRlbHRhUm93U2hpZnQsCiAgICAgICAgICAgICAgICBjb2x1bW46IHBvaW50LmNvbHVtbiArIChwb2ludC5yb3cgPT0gZGVsdGFFbmQucm93ID8gZGVsdGFDb2xTaGlmdCA6IDApCiAgICAgICAgICAgIH07CiAgICAgICAgfQogICAgICAgIAogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHJvdzogZGVsdGFTdGFydC5yb3csCiAgICAgICAgICAgIGNvbHVtbjogZGVsdGFTdGFydC5jb2x1bW4KICAgICAgICB9OwogICAgfQogICAgdGhpcy5zZXRQb3NpdGlvbiA9IGZ1bmN0aW9uKHJvdywgY29sdW1uLCBub0NsaXApIHsKICAgICAgICB2YXIgcG9zOwogICAgICAgIGlmIChub0NsaXApIHsKICAgICAgICAgICAgcG9zID0gewogICAgICAgICAgICAgICAgcm93OiByb3csCiAgICAgICAgICAgICAgICBjb2x1bW46IGNvbHVtbgogICAgICAgICAgICB9OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHBvcyA9IHRoaXMuJGNsaXBQb3NpdGlvblRvRG9jdW1lbnQocm93LCBjb2x1bW4pOwogICAgICAgIH0KCiAgICAgICAgaWYgKHRoaXMucm93ID09IHBvcy5yb3cgJiYgdGhpcy5jb2x1bW4gPT0gcG9zLmNvbHVtbikKICAgICAgICAgICAgcmV0dXJuOwoKICAgICAgICB2YXIgb2xkID0gewogICAgICAgICAgICByb3c6IHRoaXMucm93LAogICAgICAgICAgICBjb2x1bW46IHRoaXMuY29sdW1uCiAgICAgICAgfTsKCiAgICAgICAgdGhpcy5yb3cgPSBwb3Mucm93OwogICAgICAgIHRoaXMuY29sdW1uID0gcG9zLmNvbHVtbjsKICAgICAgICB0aGlzLl9zaWduYWwoImNoYW5nZSIsIHsKICAgICAgICAgICAgb2xkOiBvbGQsCiAgICAgICAgICAgIHZhbHVlOiBwb3MKICAgICAgICB9KTsKICAgIH07CiAgICB0aGlzLmRldGFjaCA9IGZ1bmN0aW9uKCkgewogICAgICAgIHRoaXMuZG9jdW1lbnQub2ZmKCJjaGFuZ2UiLCB0aGlzLiRvbkNoYW5nZSk7CiAgICB9OwogICAgdGhpcy5hdHRhY2ggPSBmdW5jdGlvbihkb2MpIHsKICAgICAgICB0aGlzLmRvY3VtZW50ID0gZG9jIHx8IHRoaXMuZG9jdW1lbnQ7CiAgICAgICAgdGhpcy5kb2N1bWVudC5vbigiY2hhbmdlIiwgdGhpcy4kb25DaGFuZ2UpOwogICAgfTsKICAgIHRoaXMuJGNsaXBQb3NpdGlvblRvRG9jdW1lbnQgPSBmdW5jdGlvbihyb3csIGNvbHVtbikgewogICAgICAgIHZhciBwb3MgPSB7fTsKCiAgICAgICAgaWYgKHJvdyA+PSB0aGlzLmRvY3VtZW50LmdldExlbmd0aCgpKSB7CiAgICAgICAgICAgIHBvcy5yb3cgPSBNYXRoLm1heCgwLCB0aGlzLmRvY3VtZW50LmdldExlbmd0aCgpIC0gMSk7CiAgICAgICAgICAgIHBvcy5jb2x1bW4gPSB0aGlzLmRvY3VtZW50LmdldExpbmUocG9zLnJvdykubGVuZ3RoOwogICAgICAgIH0KICAgICAgICBlbHNlIGlmIChyb3cgPCAwKSB7CiAgICAgICAgICAgIHBvcy5yb3cgPSAwOwogICAgICAgICAgICBwb3MuY29sdW1uID0gMDsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHBvcy5yb3cgPSByb3c7CiAgICAgICAgICAgIHBvcy5jb2x1bW4gPSBNYXRoLm1pbih0aGlzLmRvY3VtZW50LmdldExpbmUocG9zLnJvdykubGVuZ3RoLCBNYXRoLm1heCgwLCBjb2x1bW4pKTsKICAgICAgICB9CgogICAgICAgIGlmIChjb2x1bW4gPCAwKQogICAgICAgICAgICBwb3MuY29sdW1uID0gMDsKCiAgICAgICAgcmV0dXJuIHBvczsKICAgIH07Cgp9KS5jYWxsKEFuY2hvci5wcm90b3R5cGUpOwoKfSk7CgphY2UuZGVmaW5lKCJhY2UvZG9jdW1lbnQiLFtdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHsKInVzZSBzdHJpY3QiOwoKdmFyIG9vcCA9IHJlcXVpcmUoIi4vbGliL29vcCIpOwp2YXIgYXBwbHlEZWx0YSA9IHJlcXVpcmUoIi4vYXBwbHlfZGVsdGEiKS5hcHBseURlbHRhOwp2YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgiLi9saWIvZXZlbnRfZW1pdHRlciIpLkV2ZW50RW1pdHRlcjsKdmFyIFJhbmdlID0gcmVxdWlyZSgiLi9yYW5nZSIpLlJhbmdlOwp2YXIgQW5jaG9yID0gcmVxdWlyZSgiLi9hbmNob3IiKS5BbmNob3I7Cgp2YXIgRG9jdW1lbnQgPSBmdW5jdGlvbih0ZXh0T3JMaW5lcykgewogICAgdGhpcy4kbGluZXMgPSBbIiJdOwogICAgaWYgKHRleHRPckxpbmVzLmxlbmd0aCA9PT0gMCkgewogICAgICAgIHRoaXMuJGxpbmVzID0gWyIiXTsKICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh0ZXh0T3JMaW5lcykpIHsKICAgICAgICB0aGlzLmluc2VydE1lcmdlZExpbmVzKHtyb3c6IDAsIGNvbHVtbjogMH0sIHRleHRPckxpbmVzKTsKICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5pbnNlcnQoe3JvdzogMCwgY29sdW1uOjB9LCB0ZXh0T3JMaW5lcyk7CiAgICB9Cn07CgooZnVuY3Rpb24oKSB7CgogICAgb29wLmltcGxlbWVudCh0aGlzLCBFdmVudEVtaXR0ZXIpOwogICAgdGhpcy5zZXRWYWx1ZSA9IGZ1bmN0aW9uKHRleHQpIHsKICAgICAgICB2YXIgbGVuID0gdGhpcy5nZXRMZW5ndGgoKSAtIDE7CiAgICAgICAgdGhpcy5yZW1vdmUobmV3IFJhbmdlKDAsIDAsIGxlbiwgdGhpcy5nZXRMaW5lKGxlbikubGVuZ3RoKSk7CiAgICAgICAgdGhpcy5pbnNlcnQoe3JvdzogMCwgY29sdW1uOiAwfSwgdGV4dCk7CiAgICB9OwogICAgdGhpcy5nZXRWYWx1ZSA9IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiB0aGlzLmdldEFsbExpbmVzKCkuam9pbih0aGlzLmdldE5ld0xpbmVDaGFyYWN0ZXIoKSk7CiAgICB9OwogICAgdGhpcy5jcmVhdGVBbmNob3IgPSBmdW5jdGlvbihyb3csIGNvbHVtbikgewogICAgICAgIHJldHVybiBuZXcgQW5jaG9yKHRoaXMsIHJvdywgY29sdW1uKTsKICAgIH07CiAgICBpZiAoImFhYSIuc3BsaXQoL2EvKS5sZW5ndGggPT09IDApIHsKICAgICAgICB0aGlzLiRzcGxpdCA9IGZ1bmN0aW9uKHRleHQpIHsKICAgICAgICAgICAgcmV0dXJuIHRleHQucmVwbGFjZSgvXHJcbnxcci9nLCAiXG4iKS5zcGxpdCgiXG4iKTsKICAgICAgICB9OwogICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRzcGxpdCA9IGZ1bmN0aW9uKHRleHQpIHsKICAgICAgICAgICAgcmV0dXJuIHRleHQuc3BsaXQoL1xyXG58XHJ8XG4vKTsKICAgICAgICB9OwogICAgfQoKCiAgICB0aGlzLiRkZXRlY3ROZXdMaW5lID0gZnVuY3Rpb24odGV4dCkgewogICAgICAgIHZhciBtYXRjaCA9IHRleHQubWF0Y2goL14uKj8oXHJcbnxccnxcbikvbSk7CiAgICAgICAgdGhpcy4kYXV0b05ld0xpbmUgPSBtYXRjaCA/IG1hdGNoWzFdIDogIlxuIjsKICAgICAgICB0aGlzLl9zaWduYWwoImNoYW5nZU5ld0xpbmVNb2RlIik7CiAgICB9OwogICAgdGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyID0gZnVuY3Rpb24oKSB7CiAgICAgICAgc3dpdGNoICh0aGlzLiRuZXdMaW5lTW9kZSkgewogICAgICAgICAgY2FzZSAid2luZG93cyI6CiAgICAgICAgICAgIHJldHVybiAiXHJcbiI7CiAgICAgICAgICBjYXNlICJ1bml4IjoKICAgICAgICAgICAgcmV0dXJuICJcbiI7CiAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICByZXR1cm4gdGhpcy4kYXV0b05ld0xpbmUgfHwgIlxuIjsKICAgICAgICB9CiAgICB9OwoKICAgIHRoaXMuJGF1dG9OZXdMaW5lID0gIiI7CiAgICB0aGlzLiRuZXdMaW5lTW9kZSA9ICJhdXRvIjsKICAgIHRoaXMuc2V0TmV3TGluZU1vZGUgPSBmdW5jdGlvbihuZXdMaW5lTW9kZSkgewogICAgICAgIGlmICh0aGlzLiRuZXdMaW5lTW9kZSA9PT0gbmV3TGluZU1vZGUpCiAgICAgICAgICAgIHJldHVybjsKCiAgICAgICAgdGhpcy4kbmV3TGluZU1vZGUgPSBuZXdMaW5lTW9kZTsKICAgICAgICB0aGlzLl9zaWduYWwoImNoYW5nZU5ld0xpbmVNb2RlIik7CiAgICB9OwogICAgdGhpcy5nZXROZXdMaW5lTW9kZSA9IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiB0aGlzLiRuZXdMaW5lTW9kZTsKICAgIH07CiAgICB0aGlzLmlzTmV3TGluZSA9IGZ1bmN0aW9uKHRleHQpIHsKICAgICAgICByZXR1cm4gKHRleHQgPT0gIlxyXG4iIHx8IHRleHQgPT0gIlxyIiB8fCB0ZXh0ID09ICJcbiIpOwogICAgfTsKICAgIHRoaXMuZ2V0TGluZSA9IGZ1bmN0aW9uKHJvdykgewogICAgICAgIHJldHVybiB0aGlzLiRsaW5lc1tyb3ddIHx8ICIiOwogICAgfTsKICAgIHRoaXMuZ2V0TGluZXMgPSBmdW5jdGlvbihmaXJzdFJvdywgbGFzdFJvdykgewogICAgICAgIHJldHVybiB0aGlzLiRsaW5lcy5zbGljZShmaXJzdFJvdywgbGFzdFJvdyArIDEpOwogICAgfTsKICAgIHRoaXMuZ2V0QWxsTGluZXMgPSBmdW5jdGlvbigpIHsKICAgICAgICByZXR1cm4gdGhpcy5nZXRMaW5lcygwLCB0aGlzLmdldExlbmd0aCgpKTsKICAgIH07CiAgICB0aGlzLmdldExlbmd0aCA9IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiB0aGlzLiRsaW5lcy5sZW5ndGg7CiAgICB9OwogICAgdGhpcy5nZXRUZXh0UmFuZ2UgPSBmdW5jdGlvbihyYW5nZSkgewogICAgICAgIHJldHVybiB0aGlzLmdldExpbmVzRm9yUmFuZ2UocmFuZ2UpLmpvaW4odGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyKCkpOwogICAgfTsKICAgIHRoaXMuZ2V0TGluZXNGb3JSYW5nZSA9IGZ1bmN0aW9uKHJhbmdlKSB7CiAgICAgICAgdmFyIGxpbmVzOwogICAgICAgIGlmIChyYW5nZS5zdGFydC5yb3cgPT09IHJhbmdlLmVuZC5yb3cpIHsKICAgICAgICAgICAgbGluZXMgPSBbdGhpcy5nZXRMaW5lKHJhbmdlLnN0YXJ0LnJvdykuc3Vic3RyaW5nKHJhbmdlLnN0YXJ0LmNvbHVtbiwgcmFuZ2UuZW5kLmNvbHVtbildOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGxpbmVzID0gdGhpcy5nZXRMaW5lcyhyYW5nZS5zdGFydC5yb3csIHJhbmdlLmVuZC5yb3cpOwogICAgICAgICAgICBsaW5lc1swXSA9IChsaW5lc1swXSB8fCAiIikuc3Vic3RyaW5nKHJhbmdlLnN0YXJ0LmNvbHVtbik7CiAgICAgICAgICAgIHZhciBsID0gbGluZXMubGVuZ3RoIC0gMTsKICAgICAgICAgICAgaWYgKHJhbmdlLmVuZC5yb3cgLSByYW5nZS5zdGFydC5yb3cgPT0gbCkKICAgICAgICAgICAgICAgIGxpbmVzW2xdID0gbGluZXNbbF0uc3Vic3RyaW5nKDAsIHJhbmdlLmVuZC5jb2x1bW4pOwogICAgICAgIH0KICAgICAgICByZXR1cm4gbGluZXM7CiAgICB9OwogICAgdGhpcy5pbnNlcnRMaW5lcyA9IGZ1bmN0aW9uKHJvdywgbGluZXMpIHsKICAgICAgICBjb25zb2xlLndhcm4oIlVzZSBvZiBkb2N1bWVudC5pbnNlcnRMaW5lcyBpcyBkZXByZWNhdGVkLiBVc2UgdGhlIGluc2VydEZ1bGxMaW5lcyBtZXRob2QgaW5zdGVhZC4iKTsKICAgICAgICByZXR1cm4gdGhpcy5pbnNlcnRGdWxsTGluZXMocm93LCBsaW5lcyk7CiAgICB9OwogICAgdGhpcy5yZW1vdmVMaW5lcyA9IGZ1bmN0aW9uKGZpcnN0Um93LCBsYXN0Um93KSB7CiAgICAgICAgY29uc29sZS53YXJuKCJVc2Ugb2YgZG9jdW1lbnQucmVtb3ZlTGluZXMgaXMgZGVwcmVjYXRlZC4gVXNlIHRoZSByZW1vdmVGdWxsTGluZXMgbWV0aG9kIGluc3RlYWQuIik7CiAgICAgICAgcmV0dXJuIHRoaXMucmVtb3ZlRnVsbExpbmVzKGZpcnN0Um93LCBsYXN0Um93KTsKICAgIH07CiAgICB0aGlzLmluc2VydE5ld0xpbmUgPSBmdW5jdGlvbihwb3NpdGlvbikgewogICAgICAgIGNvbnNvbGUud2FybigiVXNlIG9mIGRvY3VtZW50Lmluc2VydE5ld0xpbmUgaXMgZGVwcmVjYXRlZC4gVXNlIGluc2VydE1lcmdlZExpbmVzKHBvc2l0aW9uLCBbJycsICcnXSkgaW5zdGVhZC4iKTsKICAgICAgICByZXR1cm4gdGhpcy5pbnNlcnRNZXJnZWRMaW5lcyhwb3NpdGlvbiwgWyIiLCAiIl0pOwogICAgfTsKICAgIHRoaXMuaW5zZXJ0ID0gZnVuY3Rpb24ocG9zaXRpb24sIHRleHQpIHsKICAgICAgICBpZiAodGhpcy5nZXRMZW5ndGgoKSA8PSAxKQogICAgICAgICAgICB0aGlzLiRkZXRlY3ROZXdMaW5lKHRleHQpOwogICAgICAgIAogICAgICAgIHJldHVybiB0aGlzLmluc2VydE1lcmdlZExpbmVzKHBvc2l0aW9uLCB0aGlzLiRzcGxpdCh0ZXh0KSk7CiAgICB9OwogICAgdGhpcy5pbnNlcnRJbkxpbmUgPSBmdW5jdGlvbihwb3NpdGlvbiwgdGV4dCkgewogICAgICAgIHZhciBzdGFydCA9IHRoaXMuY2xpcHBlZFBvcyhwb3NpdGlvbi5yb3csIHBvc2l0aW9uLmNvbHVtbik7CiAgICAgICAgdmFyIGVuZCA9IHRoaXMucG9zKHBvc2l0aW9uLnJvdywgcG9zaXRpb24uY29sdW1uICsgdGV4dC5sZW5ndGgpOwogICAgICAgIAogICAgICAgIHRoaXMuYXBwbHlEZWx0YSh7CiAgICAgICAgICAgIHN0YXJ0OiBzdGFydCwKICAgICAgICAgICAgZW5kOiBlbmQsCiAgICAgICAgICAgIGFjdGlvbjogImluc2VydCIsCiAgICAgICAgICAgIGxpbmVzOiBbdGV4dF0KICAgICAgICB9LCB0cnVlKTsKICAgICAgICAKICAgICAgICByZXR1cm4gdGhpcy5jbG9uZVBvcyhlbmQpOwogICAgfTsKICAgIAogICAgdGhpcy5jbGlwcGVkUG9zID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHsKICAgICAgICB2YXIgbGVuZ3RoID0gdGhpcy5nZXRMZW5ndGgoKTsKICAgICAgICBpZiAocm93ID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgcm93ID0gbGVuZ3RoOwogICAgICAgIH0gZWxzZSBpZiAocm93IDwgMCkgewogICAgICAgICAgICByb3cgPSAwOwogICAgICAgIH0gZWxzZSBpZiAocm93ID49IGxlbmd0aCkgewogICAgICAgICAgICByb3cgPSBsZW5ndGggLSAxOwogICAgICAgICAgICBjb2x1bW4gPSB1bmRlZmluZWQ7CiAgICAgICAgfQogICAgICAgIHZhciBsaW5lID0gdGhpcy5nZXRMaW5lKHJvdyk7CiAgICAgICAgaWYgKGNvbHVtbiA9PSB1bmRlZmluZWQpCiAgICAgICAgICAgIGNvbHVtbiA9IGxpbmUubGVuZ3RoOwogICAgICAgIGNvbHVtbiA9IE1hdGgubWluKE1hdGgubWF4KGNvbHVtbiwgMCksIGxpbmUubGVuZ3RoKTsKICAgICAgICByZXR1cm4ge3Jvdzogcm93LCBjb2x1bW46IGNvbHVtbn07CiAgICB9OwogICAgCiAgICB0aGlzLmNsb25lUG9zID0gZnVuY3Rpb24ocG9zKSB7CiAgICAgICAgcmV0dXJuIHtyb3c6IHBvcy5yb3csIGNvbHVtbjogcG9zLmNvbHVtbn07CiAgICB9OwogICAgCiAgICB0aGlzLnBvcyA9IGZ1bmN0aW9uKHJvdywgY29sdW1uKSB7CiAgICAgICAgcmV0dXJuIHtyb3c6IHJvdywgY29sdW1uOiBjb2x1bW59OwogICAgfTsKICAgIAogICAgdGhpcy4kY2xpcFBvc2l0aW9uID0gZnVuY3Rpb24ocG9zaXRpb24pIHsKICAgICAgICB2YXIgbGVuZ3RoID0gdGhpcy5nZXRMZW5ndGgoKTsKICAgICAgICBpZiAocG9zaXRpb24ucm93ID49IGxlbmd0aCkgewogICAgICAgICAgICBwb3NpdGlvbi5yb3cgPSBNYXRoLm1heCgwLCBsZW5ndGggLSAxKTsKICAgICAgICAgICAgcG9zaXRpb24uY29sdW1uID0gdGhpcy5nZXRMaW5lKGxlbmd0aCAtIDEpLmxlbmd0aDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBwb3NpdGlvbi5yb3cgPSBNYXRoLm1heCgwLCBwb3NpdGlvbi5yb3cpOwogICAgICAgICAgICBwb3NpdGlvbi5jb2x1bW4gPSBNYXRoLm1pbihNYXRoLm1heChwb3NpdGlvbi5jb2x1bW4sIDApLCB0aGlzLmdldExpbmUocG9zaXRpb24ucm93KS5sZW5ndGgpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gcG9zaXRpb247CiAgICB9OwogICAgdGhpcy5pbnNlcnRGdWxsTGluZXMgPSBmdW5jdGlvbihyb3csIGxpbmVzKSB7CiAgICAgICAgcm93ID0gTWF0aC5taW4oTWF0aC5tYXgocm93LCAwKSwgdGhpcy5nZXRMZW5ndGgoKSk7CiAgICAgICAgdmFyIGNvbHVtbiA9IDA7CiAgICAgICAgaWYgKHJvdyA8IHRoaXMuZ2V0TGVuZ3RoKCkpIHsKICAgICAgICAgICAgbGluZXMgPSBsaW5lcy5jb25jYXQoWyIiXSk7CiAgICAgICAgICAgIGNvbHVtbiA9IDA7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgbGluZXMgPSBbIiJdLmNvbmNhdChsaW5lcyk7CiAgICAgICAgICAgIHJvdy0tOwogICAgICAgICAgICBjb2x1bW4gPSB0aGlzLiRsaW5lc1tyb3ddLmxlbmd0aDsKICAgICAgICB9CiAgICAgICAgdGhpcy5pbnNlcnRNZXJnZWRMaW5lcyh7cm93OiByb3csIGNvbHVtbjogY29sdW1ufSwgbGluZXMpOwogICAgfTsgICAgCiAgICB0aGlzLmluc2VydE1lcmdlZExpbmVzID0gZnVuY3Rpb24ocG9zaXRpb24sIGxpbmVzKSB7CiAgICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5jbGlwcGVkUG9zKHBvc2l0aW9uLnJvdywgcG9zaXRpb24uY29sdW1uKTsKICAgICAgICB2YXIgZW5kID0gewogICAgICAgICAgICByb3c6IHN0YXJ0LnJvdyArIGxpbmVzLmxlbmd0aCAtIDEsCiAgICAgICAgICAgIGNvbHVtbjogKGxpbmVzLmxlbmd0aCA9PSAxID8gc3RhcnQuY29sdW1uIDogMCkgKyBsaW5lc1tsaW5lcy5sZW5ndGggLSAxXS5sZW5ndGgKICAgICAgICB9OwogICAgICAgIAogICAgICAgIHRoaXMuYXBwbHlEZWx0YSh7CiAgICAgICAgICAgIHN0YXJ0OiBzdGFydCwKICAgICAgICAgICAgZW5kOiBlbmQsCiAgICAgICAgICAgIGFjdGlvbjogImluc2VydCIsCiAgICAgICAgICAgIGxpbmVzOiBsaW5lcwogICAgICAgIH0pOwogICAgICAgIAogICAgICAgIHJldHVybiB0aGlzLmNsb25lUG9zKGVuZCk7CiAgICB9OwogICAgdGhpcy5yZW1vdmUgPSBmdW5jdGlvbihyYW5nZSkgewogICAgICAgIHZhciBzdGFydCA9IHRoaXMuY2xpcHBlZFBvcyhyYW5nZS5zdGFydC5yb3csIHJhbmdlLnN0YXJ0LmNvbHVtbik7CiAgICAgICAgdmFyIGVuZCA9IHRoaXMuY2xpcHBlZFBvcyhyYW5nZS5lbmQucm93LCByYW5nZS5lbmQuY29sdW1uKTsKICAgICAgICB0aGlzLmFwcGx5RGVsdGEoewogICAgICAgICAgICBzdGFydDogc3RhcnQsCiAgICAgICAgICAgIGVuZDogZW5kLAogICAgICAgICAgICBhY3Rpb246ICJyZW1vdmUiLAogICAgICAgICAgICBsaW5lczogdGhpcy5nZXRMaW5lc0ZvclJhbmdlKHtzdGFydDogc3RhcnQsIGVuZDogZW5kfSkKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gdGhpcy5jbG9uZVBvcyhzdGFydCk7CiAgICB9OwogICAgdGhpcy5yZW1vdmVJbkxpbmUgPSBmdW5jdGlvbihyb3csIHN0YXJ0Q29sdW1uLCBlbmRDb2x1bW4pIHsKICAgICAgICB2YXIgc3RhcnQgPSB0aGlzLmNsaXBwZWRQb3Mocm93LCBzdGFydENvbHVtbik7CiAgICAgICAgdmFyIGVuZCA9IHRoaXMuY2xpcHBlZFBvcyhyb3csIGVuZENvbHVtbik7CiAgICAgICAgCiAgICAgICAgdGhpcy5hcHBseURlbHRhKHsKICAgICAgICAgICAgc3RhcnQ6IHN0YXJ0LAogICAgICAgICAgICBlbmQ6IGVuZCwKICAgICAgICAgICAgYWN0aW9uOiAicmVtb3ZlIiwKICAgICAgICAgICAgbGluZXM6IHRoaXMuZ2V0TGluZXNGb3JSYW5nZSh7c3RhcnQ6IHN0YXJ0LCBlbmQ6IGVuZH0pCiAgICAgICAgfSwgdHJ1ZSk7CiAgICAgICAgCiAgICAgICAgcmV0dXJuIHRoaXMuY2xvbmVQb3Moc3RhcnQpOwogICAgfTsKICAgIHRoaXMucmVtb3ZlRnVsbExpbmVzID0gZnVuY3Rpb24oZmlyc3RSb3csIGxhc3RSb3cpIHsKICAgICAgICBmaXJzdFJvdyA9IE1hdGgubWluKE1hdGgubWF4KDAsIGZpcnN0Um93KSwgdGhpcy5nZXRMZW5ndGgoKSAtIDEpOwogICAgICAgIGxhc3RSb3cgID0gTWF0aC5taW4oTWF0aC5tYXgoMCwgbGFzdFJvdyApLCB0aGlzLmdldExlbmd0aCgpIC0gMSk7CiAgICAgICAgdmFyIGRlbGV0ZUZpcnN0TmV3TGluZSA9IGxhc3RSb3cgPT0gdGhpcy5nZXRMZW5ndGgoKSAtIDEgJiYgZmlyc3RSb3cgPiAwOwogICAgICAgIHZhciBkZWxldGVMYXN0TmV3TGluZSAgPSBsYXN0Um93ICA8IHRoaXMuZ2V0TGVuZ3RoKCkgLSAxOwogICAgICAgIHZhciBzdGFydFJvdyA9ICggZGVsZXRlRmlyc3ROZXdMaW5lID8gZmlyc3RSb3cgLSAxICAgICAgICAgICAgICAgICAgOiBmaXJzdFJvdyAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICB2YXIgc3RhcnRDb2wgPSAoIGRlbGV0ZUZpcnN0TmV3TGluZSA/IHRoaXMuZ2V0TGluZShzdGFydFJvdykubGVuZ3RoIDogMCAgICAgICAgICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgdmFyIGVuZFJvdyAgID0gKCBkZWxldGVMYXN0TmV3TGluZSAgPyBsYXN0Um93ICsgMSAgICAgICAgICAgICAgICAgICA6IGxhc3RSb3cgICAgICAgICAgICAgICAgICAgICApOwogICAgICAgIHZhciBlbmRDb2wgICA9ICggZGVsZXRlTGFzdE5ld0xpbmUgID8gMCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB0aGlzLmdldExpbmUoZW5kUm93KS5sZW5ndGggKTsgCiAgICAgICAgdmFyIHJhbmdlID0gbmV3IFJhbmdlKHN0YXJ0Um93LCBzdGFydENvbCwgZW5kUm93LCBlbmRDb2wpOwogICAgICAgIHZhciBkZWxldGVkTGluZXMgPSB0aGlzLiRsaW5lcy5zbGljZShmaXJzdFJvdywgbGFzdFJvdyArIDEpOwogICAgICAgIAogICAgICAgIHRoaXMuYXBwbHlEZWx0YSh7CiAgICAgICAgICAgIHN0YXJ0OiByYW5nZS5zdGFydCwKICAgICAgICAgICAgZW5kOiByYW5nZS5lbmQsCiAgICAgICAgICAgIGFjdGlvbjogInJlbW92ZSIsCiAgICAgICAgICAgIGxpbmVzOiB0aGlzLmdldExpbmVzRm9yUmFuZ2UocmFuZ2UpCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIGRlbGV0ZWRMaW5lczsKICAgIH07CiAgICB0aGlzLnJlbW92ZU5ld0xpbmUgPSBmdW5jdGlvbihyb3cpIHsKICAgICAgICBpZiAocm93IDwgdGhpcy5nZXRMZW5ndGgoKSAtIDEgJiYgcm93ID49IDApIHsKICAgICAgICAgICAgdGhpcy5hcHBseURlbHRhKHsKICAgICAgICAgICAgICAgIHN0YXJ0OiB0aGlzLnBvcyhyb3csIHRoaXMuZ2V0TGluZShyb3cpLmxlbmd0aCksCiAgICAgICAgICAgICAgICBlbmQ6IHRoaXMucG9zKHJvdyArIDEsIDApLAogICAgICAgICAgICAgICAgYWN0aW9uOiAicmVtb3ZlIiwKICAgICAgICAgICAgICAgIGxpbmVzOiBbIiIsICIiXQogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9OwogICAgdGhpcy5yZXBsYWNlID0gZnVuY3Rpb24ocmFuZ2UsIHRleHQpIHsKICAgICAgICBpZiAoIShyYW5nZSBpbnN0YW5jZW9mIFJhbmdlKSkKICAgICAgICAgICAgcmFuZ2UgPSBSYW5nZS5mcm9tUG9pbnRzKHJhbmdlLnN0YXJ0LCByYW5nZS5lbmQpOwogICAgICAgIGlmICh0ZXh0Lmxlbmd0aCA9PT0gMCAmJiByYW5nZS5pc0VtcHR5KCkpCiAgICAgICAgICAgIHJldHVybiByYW5nZS5zdGFydDsKICAgICAgICBpZiAodGV4dCA9PSB0aGlzLmdldFRleHRSYW5nZShyYW5nZSkpCiAgICAgICAgICAgIHJldHVybiByYW5nZS5lbmQ7CgogICAgICAgIHRoaXMucmVtb3ZlKHJhbmdlKTsKICAgICAgICB2YXIgZW5kOwogICAgICAgIGlmICh0ZXh0KSB7CiAgICAgICAgICAgIGVuZCA9IHRoaXMuaW5zZXJ0KHJhbmdlLnN0YXJ0LCB0ZXh0KTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIGVuZCA9IHJhbmdlLnN0YXJ0OwogICAgICAgIH0KICAgICAgICAKICAgICAgICByZXR1cm4gZW5kOwogICAgfTsKICAgIHRoaXMuYXBwbHlEZWx0YXMgPSBmdW5jdGlvbihkZWx0YXMpIHsKICAgICAgICBmb3IgKHZhciBpPTA7IGk8ZGVsdGFzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHRoaXMuYXBwbHlEZWx0YShkZWx0YXNbaV0pOwogICAgICAgIH0KICAgIH07CiAgICB0aGlzLnJldmVydERlbHRhcyA9IGZ1bmN0aW9uKGRlbHRhcykgewogICAgICAgIGZvciAodmFyIGk9ZGVsdGFzLmxlbmd0aC0xOyBpPj0wOyBpLS0pIHsKICAgICAgICAgICAgdGhpcy5yZXZlcnREZWx0YShkZWx0YXNbaV0pOwogICAgICAgIH0KICAgIH07CiAgICB0aGlzLmFwcGx5RGVsdGEgPSBmdW5jdGlvbihkZWx0YSwgZG9Ob3RWYWxpZGF0ZSkgewogICAgICAgIHZhciBpc0luc2VydCA9IGRlbHRhLmFjdGlvbiA9PSAiaW5zZXJ0IjsKICAgICAgICBpZiAoaXNJbnNlcnQgPyBkZWx0YS5saW5lcy5sZW5ndGggPD0gMSAmJiAhZGVsdGEubGluZXNbMF0KICAgICAgICAgICAgOiAhUmFuZ2UuY29tcGFyZVBvaW50cyhkZWx0YS5zdGFydCwgZGVsdGEuZW5kKSkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGlmIChpc0luc2VydCAmJiBkZWx0YS5saW5lcy5sZW5ndGggPiAyMDAwMCkgewogICAgICAgICAgICB0aGlzLiRzcGxpdEFuZGFwcGx5TGFyZ2VEZWx0YShkZWx0YSwgMjAwMDApOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgYXBwbHlEZWx0YSh0aGlzLiRsaW5lcywgZGVsdGEsIGRvTm90VmFsaWRhdGUpOwogICAgICAgICAgICB0aGlzLl9zaWduYWwoImNoYW5nZSIsIGRlbHRhKTsKICAgICAgICB9CiAgICB9OwogICAgCiAgICB0aGlzLiRzYWZlQXBwbHlEZWx0YSA9IGZ1bmN0aW9uKGRlbHRhKSB7CiAgICAgICAgdmFyIGRvY0xlbmd0aCA9IHRoaXMuJGxpbmVzLmxlbmd0aDsKICAgICAgICBpZiAoCiAgICAgICAgICAgIGRlbHRhLmFjdGlvbiA9PSAicmVtb3ZlIiAmJiBkZWx0YS5zdGFydC5yb3cgPCBkb2NMZW5ndGggJiYgZGVsdGEuZW5kLnJvdyA8IGRvY0xlbmd0aAogICAgICAgICAgICB8fCBkZWx0YS5hY3Rpb24gPT0gImluc2VydCIgJiYgZGVsdGEuc3RhcnQucm93IDw9IGRvY0xlbmd0aAogICAgICAgICkgewogICAgICAgICAgICB0aGlzLmFwcGx5RGVsdGEoZGVsdGEpOwogICAgICAgIH0KICAgIH07CiAgICAKICAgIHRoaXMuJHNwbGl0QW5kYXBwbHlMYXJnZURlbHRhID0gZnVuY3Rpb24oZGVsdGEsIE1BWCkgewogICAgICAgIHZhciBsaW5lcyA9IGRlbHRhLmxpbmVzOwogICAgICAgIHZhciBsID0gbGluZXMubGVuZ3RoIC0gTUFYICsgMTsKICAgICAgICB2YXIgcm93ID0gZGVsdGEuc3RhcnQucm93OyAKICAgICAgICB2YXIgY29sdW1uID0gZGVsdGEuc3RhcnQuY29sdW1uOwogICAgICAgIGZvciAodmFyIGZyb20gPSAwLCB0byA9IDA7IGZyb20gPCBsOyBmcm9tID0gdG8pIHsKICAgICAgICAgICAgdG8gKz0gTUFYIC0gMTsKICAgICAgICAgICAgdmFyIGNodW5rID0gbGluZXMuc2xpY2UoZnJvbSwgdG8pOwogICAgICAgICAgICBjaHVuay5wdXNoKCIiKTsKICAgICAgICAgICAgdGhpcy5hcHBseURlbHRhKHsKICAgICAgICAgICAgICAgIHN0YXJ0OiB0aGlzLnBvcyhyb3cgKyBmcm9tLCBjb2x1bW4pLAogICAgICAgICAgICAgICAgZW5kOiB0aGlzLnBvcyhyb3cgKyB0bywgY29sdW1uID0gMCksCiAgICAgICAgICAgICAgICBhY3Rpb246IGRlbHRhLmFjdGlvbiwKICAgICAgICAgICAgICAgIGxpbmVzOiBjaHVuawogICAgICAgICAgICB9LCB0cnVlKTsKICAgICAgICB9CiAgICAgICAgZGVsdGEubGluZXMgPSBsaW5lcy5zbGljZShmcm9tKTsKICAgICAgICBkZWx0YS5zdGFydC5yb3cgPSByb3cgKyBmcm9tOwogICAgICAgIGRlbHRhLnN0YXJ0LmNvbHVtbiA9IGNvbHVtbjsKICAgICAgICB0aGlzLmFwcGx5RGVsdGEoZGVsdGEsIHRydWUpOwogICAgfTsKICAgIHRoaXMucmV2ZXJ0RGVsdGEgPSBmdW5jdGlvbihkZWx0YSkgewogICAgICAgIHRoaXMuJHNhZmVBcHBseURlbHRhKHsKICAgICAgICAgICAgc3RhcnQ6IHRoaXMuY2xvbmVQb3MoZGVsdGEuc3RhcnQpLAogICAgICAgICAgICBlbmQ6IHRoaXMuY2xvbmVQb3MoZGVsdGEuZW5kKSwKICAgICAgICAgICAgYWN0aW9uOiAoZGVsdGEuYWN0aW9uID09ICJpbnNlcnQiID8gInJlbW92ZSIgOiAiaW5zZXJ0IiksCiAgICAgICAgICAgIGxpbmVzOiBkZWx0YS5saW5lcy5zbGljZSgpCiAgICAgICAgfSk7CiAgICB9OwogICAgdGhpcy5pbmRleFRvUG9zaXRpb24gPSBmdW5jdGlvbihpbmRleCwgc3RhcnRSb3cpIHsKICAgICAgICB2YXIgbGluZXMgPSB0aGlzLiRsaW5lcyB8fCB0aGlzLmdldEFsbExpbmVzKCk7CiAgICAgICAgdmFyIG5ld2xpbmVMZW5ndGggPSB0aGlzLmdldE5ld0xpbmVDaGFyYWN0ZXIoKS5sZW5ndGg7CiAgICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0Um93IHx8IDAsIGwgPSBsaW5lcy5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgICAgICAgaW5kZXggLT0gbGluZXNbaV0ubGVuZ3RoICsgbmV3bGluZUxlbmd0aDsKICAgICAgICAgICAgaWYgKGluZGV4IDwgMCkKICAgICAgICAgICAgICAgIHJldHVybiB7cm93OiBpLCBjb2x1bW46IGluZGV4ICsgbGluZXNbaV0ubGVuZ3RoICsgbmV3bGluZUxlbmd0aH07CiAgICAgICAgfQogICAgICAgIHJldHVybiB7cm93OiBsLTEsIGNvbHVtbjogaW5kZXggKyBsaW5lc1tsLTFdLmxlbmd0aCArIG5ld2xpbmVMZW5ndGh9OwogICAgfTsKICAgIHRoaXMucG9zaXRpb25Ub0luZGV4ID0gZnVuY3Rpb24ocG9zLCBzdGFydFJvdykgewogICAgICAgIHZhciBsaW5lcyA9IHRoaXMuJGxpbmVzIHx8IHRoaXMuZ2V0QWxsTGluZXMoKTsKICAgICAgICB2YXIgbmV3bGluZUxlbmd0aCA9IHRoaXMuZ2V0TmV3TGluZUNoYXJhY3RlcigpLmxlbmd0aDsKICAgICAgICB2YXIgaW5kZXggPSAwOwogICAgICAgIHZhciByb3cgPSBNYXRoLm1pbihwb3Mucm93LCBsaW5lcy5sZW5ndGgpOwogICAgICAgIGZvciAodmFyIGkgPSBzdGFydFJvdyB8fCAwOyBpIDwgcm93OyArK2kpCiAgICAgICAgICAgIGluZGV4ICs9IGxpbmVzW2ldLmxlbmd0aCArIG5ld2xpbmVMZW5ndGg7CgogICAgICAgIHJldHVybiBpbmRleCArIHBvcy5jb2x1bW47CiAgICB9OwoKfSkuY2FsbChEb2N1bWVudC5wcm90b3R5cGUpOwoKZXhwb3J0cy5Eb2N1bWVudCA9IERvY3VtZW50Owp9KTsKCmFjZS5kZWZpbmUoImFjZS9saWIvbGFuZyIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkgewoidXNlIHN0cmljdCI7CgpleHBvcnRzLmxhc3QgPSBmdW5jdGlvbihhKSB7CiAgICByZXR1cm4gYVthLmxlbmd0aCAtIDFdOwp9OwoKZXhwb3J0cy5zdHJpbmdSZXZlcnNlID0gZnVuY3Rpb24oc3RyaW5nKSB7CiAgICByZXR1cm4gc3RyaW5nLnNwbGl0KCIiKS5yZXZlcnNlKCkuam9pbigiIik7Cn07CgpleHBvcnRzLnN0cmluZ1JlcGVhdCA9IGZ1bmN0aW9uIChzdHJpbmcsIGNvdW50KSB7CiAgICB2YXIgcmVzdWx0ID0gJyc7CiAgICB3aGlsZSAoY291bnQgPiAwKSB7CiAgICAgICAgaWYgKGNvdW50ICYgMSkKICAgICAgICAgICAgcmVzdWx0ICs9IHN0cmluZzsKCiAgICAgICAgaWYgKGNvdW50ID4+PSAxKQogICAgICAgICAgICBzdHJpbmcgKz0gc3RyaW5nOwogICAgfQogICAgcmV0dXJuIHJlc3VsdDsKfTsKCnZhciB0cmltQmVnaW5SZWdleHAgPSAvXlxzXHMqLzsKdmFyIHRyaW1FbmRSZWdleHAgPSAvXHNccyokLzsKCmV4cG9ydHMuc3RyaW5nVHJpbUxlZnQgPSBmdW5jdGlvbiAoc3RyaW5nKSB7CiAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UodHJpbUJlZ2luUmVnZXhwLCAnJyk7Cn07CgpleHBvcnRzLnN0cmluZ1RyaW1SaWdodCA9IGZ1bmN0aW9uIChzdHJpbmcpIHsKICAgIHJldHVybiBzdHJpbmcucmVwbGFjZSh0cmltRW5kUmVnZXhwLCAnJyk7Cn07CgpleHBvcnRzLmNvcHlPYmplY3QgPSBmdW5jdGlvbihvYmopIHsKICAgIHZhciBjb3B5ID0ge307CiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7CiAgICAgICAgY29weVtrZXldID0gb2JqW2tleV07CiAgICB9CiAgICByZXR1cm4gY29weTsKfTsKCmV4cG9ydHMuY29weUFycmF5ID0gZnVuY3Rpb24oYXJyYXkpewogICAgdmFyIGNvcHkgPSBbXTsKICAgIGZvciAodmFyIGk9MCwgbD1hcnJheS5sZW5ndGg7IGk8bDsgaSsrKSB7CiAgICAgICAgaWYgKGFycmF5W2ldICYmIHR5cGVvZiBhcnJheVtpXSA9PSAib2JqZWN0IikKICAgICAgICAgICAgY29weVtpXSA9IHRoaXMuY29weU9iamVjdChhcnJheVtpXSk7CiAgICAgICAgZWxzZSAKICAgICAgICAgICAgY29weVtpXSA9IGFycmF5W2ldOwogICAgfQogICAgcmV0dXJuIGNvcHk7Cn07CgpleHBvcnRzLmRlZXBDb3B5ID0gZnVuY3Rpb24gZGVlcENvcHkob2JqKSB7CiAgICBpZiAodHlwZW9mIG9iaiAhPT0gIm9iamVjdCIgfHwgIW9iaikKICAgICAgICByZXR1cm4gb2JqOwogICAgdmFyIGNvcHk7CiAgICBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7CiAgICAgICAgY29weSA9IFtdOwogICAgICAgIGZvciAodmFyIGtleSA9IDA7IGtleSA8IG9iai5sZW5ndGg7IGtleSsrKSB7CiAgICAgICAgICAgIGNvcHlba2V5XSA9IGRlZXBDb3B5KG9ialtrZXldKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGNvcHk7CiAgICB9CiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgIT09ICJbb2JqZWN0IE9iamVjdF0iKQogICAgICAgIHJldHVybiBvYmo7CiAgICAKICAgIGNvcHkgPSB7fTsKICAgIGZvciAodmFyIGtleSBpbiBvYmopCiAgICAgICAgY29weVtrZXldID0gZGVlcENvcHkob2JqW2tleV0pOwogICAgcmV0dXJuIGNvcHk7Cn07CgpleHBvcnRzLmFycmF5VG9NYXAgPSBmdW5jdGlvbihhcnIpIHsKICAgIHZhciBtYXAgPSB7fTsKICAgIGZvciAodmFyIGk9MDsgaTxhcnIubGVuZ3RoOyBpKyspIHsKICAgICAgICBtYXBbYXJyW2ldXSA9IDE7CiAgICB9CiAgICByZXR1cm4gbWFwOwoKfTsKCmV4cG9ydHMuY3JlYXRlTWFwID0gZnVuY3Rpb24ocHJvcHMpIHsKICAgIHZhciBtYXAgPSBPYmplY3QuY3JlYXRlKG51bGwpOwogICAgZm9yICh2YXIgaSBpbiBwcm9wcykgewogICAgICAgIG1hcFtpXSA9IHByb3BzW2ldOwogICAgfQogICAgcmV0dXJuIG1hcDsKfTsKZXhwb3J0cy5hcnJheVJlbW92ZSA9IGZ1bmN0aW9uKGFycmF5LCB2YWx1ZSkgewogIGZvciAodmFyIGkgPSAwOyBpIDw9IGFycmF5Lmxlbmd0aDsgaSsrKSB7CiAgICBpZiAodmFsdWUgPT09IGFycmF5W2ldKSB7CiAgICAgIGFycmF5LnNwbGljZShpLCAxKTsKICAgIH0KICB9Cn07CgpleHBvcnRzLmVzY2FwZVJlZ0V4cCA9IGZ1bmN0aW9uKHN0cikgewogICAgcmV0dXJuIHN0ci5yZXBsYWNlKC8oWy4qKz9eJHt9KCl8W1xdXC9cXF0pL2csICdcXCQxJyk7Cn07CgpleHBvcnRzLmVzY2FwZUhUTUwgPSBmdW5jdGlvbihzdHIpIHsKICAgIHJldHVybiAoIiIgKyBzdHIpLnJlcGxhY2UoLyYvZywgIiYjMzg7IikucmVwbGFjZSgvIi9nLCAiJiMzNDsiKS5yZXBsYWNlKC8nL2csICImIzM5OyIpLnJlcGxhY2UoLzwvZywgIiYjNjA7Iik7Cn07CgpleHBvcnRzLmdldE1hdGNoT2Zmc2V0cyA9IGZ1bmN0aW9uKHN0cmluZywgcmVnRXhwKSB7CiAgICB2YXIgbWF0Y2hlcyA9IFtdOwoKICAgIHN0cmluZy5yZXBsYWNlKHJlZ0V4cCwgZnVuY3Rpb24oc3RyKSB7CiAgICAgICAgbWF0Y2hlcy5wdXNoKHsKICAgICAgICAgICAgb2Zmc2V0OiBhcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aC0yXSwKICAgICAgICAgICAgbGVuZ3RoOiBzdHIubGVuZ3RoCiAgICAgICAgfSk7CiAgICB9KTsKCiAgICByZXR1cm4gbWF0Y2hlczsKfTsKZXhwb3J0cy5kZWZlcnJlZENhbGwgPSBmdW5jdGlvbihmY24pIHsKICAgIHZhciB0aW1lciA9IG51bGw7CiAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbigpIHsKICAgICAgICB0aW1lciA9IG51bGw7CiAgICAgICAgZmNuKCk7CiAgICB9OwoKICAgIHZhciBkZWZlcnJlZCA9IGZ1bmN0aW9uKHRpbWVvdXQpIHsKICAgICAgICBkZWZlcnJlZC5jYW5jZWwoKTsKICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoY2FsbGJhY2ssIHRpbWVvdXQgfHwgMCk7CiAgICAgICAgcmV0dXJuIGRlZmVycmVkOwogICAgfTsKCiAgICBkZWZlcnJlZC5zY2hlZHVsZSA9IGRlZmVycmVkOwoKICAgIGRlZmVycmVkLmNhbGwgPSBmdW5jdGlvbigpIHsKICAgICAgICB0aGlzLmNhbmNlbCgpOwogICAgICAgIGZjbigpOwogICAgICAgIHJldHVybiBkZWZlcnJlZDsKICAgIH07CgogICAgZGVmZXJyZWQuY2FuY2VsID0gZnVuY3Rpb24oKSB7CiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTsKICAgICAgICB0aW1lciA9IG51bGw7CiAgICAgICAgcmV0dXJuIGRlZmVycmVkOwogICAgfTsKICAgIAogICAgZGVmZXJyZWQuaXNQZW5kaW5nID0gZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuIHRpbWVyOwogICAgfTsKCiAgICByZXR1cm4gZGVmZXJyZWQ7Cn07CgoKZXhwb3J0cy5kZWxheWVkQ2FsbCA9IGZ1bmN0aW9uKGZjbiwgZGVmYXVsdFRpbWVvdXQpIHsKICAgIHZhciB0aW1lciA9IG51bGw7CiAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbigpIHsKICAgICAgICB0aW1lciA9IG51bGw7CiAgICAgICAgZmNuKCk7CiAgICB9OwoKICAgIHZhciBfc2VsZiA9IGZ1bmN0aW9uKHRpbWVvdXQpIHsKICAgICAgICBpZiAodGltZXIgPT0gbnVsbCkKICAgICAgICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KGNhbGxiYWNrLCB0aW1lb3V0IHx8IGRlZmF1bHRUaW1lb3V0KTsKICAgIH07CgogICAgX3NlbGYuZGVsYXkgPSBmdW5jdGlvbih0aW1lb3V0KSB7CiAgICAgICAgdGltZXIgJiYgY2xlYXJUaW1lb3V0KHRpbWVyKTsKICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoY2FsbGJhY2ssIHRpbWVvdXQgfHwgZGVmYXVsdFRpbWVvdXQpOwogICAgfTsKICAgIF9zZWxmLnNjaGVkdWxlID0gX3NlbGY7CgogICAgX3NlbGYuY2FsbCA9IGZ1bmN0aW9uKCkgewogICAgICAgIHRoaXMuY2FuY2VsKCk7CiAgICAgICAgZmNuKCk7CiAgICB9OwoKICAgIF9zZWxmLmNhbmNlbCA9IGZ1bmN0aW9uKCkgewogICAgICAgIHRpbWVyICYmIGNsZWFyVGltZW91dCh0aW1lcik7CiAgICAgICAgdGltZXIgPSBudWxsOwogICAgfTsKCiAgICBfc2VsZi5pc1BlbmRpbmcgPSBmdW5jdGlvbigpIHsKICAgICAgICByZXR1cm4gdGltZXI7CiAgICB9OwoKICAgIHJldHVybiBfc2VsZjsKfTsKfSk7CgphY2UuZGVmaW5lKCJhY2Uvd29ya2VyL21pcnJvciIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkgewoidXNlIHN0cmljdCI7Cgp2YXIgUmFuZ2UgPSByZXF1aXJlKCIuLi9yYW5nZSIpLlJhbmdlOwp2YXIgRG9jdW1lbnQgPSByZXF1aXJlKCIuLi9kb2N1bWVudCIpLkRvY3VtZW50Owp2YXIgbGFuZyA9IHJlcXVpcmUoIi4uL2xpYi9sYW5nIik7CiAgICAKdmFyIE1pcnJvciA9IGV4cG9ydHMuTWlycm9yID0gZnVuY3Rpb24oc2VuZGVyKSB7CiAgICB0aGlzLnNlbmRlciA9IHNlbmRlcjsKICAgIHZhciBkb2MgPSB0aGlzLmRvYyA9IG5ldyBEb2N1bWVudCgiIik7CiAgICAKICAgIHZhciBkZWZlcnJlZFVwZGF0ZSA9IHRoaXMuZGVmZXJyZWRVcGRhdGUgPSBsYW5nLmRlbGF5ZWRDYWxsKHRoaXMub25VcGRhdGUuYmluZCh0aGlzKSk7CiAgICAKICAgIHZhciBfc2VsZiA9IHRoaXM7CiAgICBzZW5kZXIub24oImNoYW5nZSIsIGZ1bmN0aW9uKGUpIHsKICAgICAgICB2YXIgZGF0YSA9IGUuZGF0YTsKICAgICAgICBpZiAoZGF0YVswXS5zdGFydCkgewogICAgICAgICAgICBkb2MuYXBwbHlEZWx0YXMoZGF0YSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSArPSAyKSB7CiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhW2krMV0pKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGQgPSB7YWN0aW9uOiAiaW5zZXJ0Iiwgc3RhcnQ6IGRhdGFbaV0sIGxpbmVzOiBkYXRhW2krMV19OwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB2YXIgZCA9IHthY3Rpb246ICJyZW1vdmUiLCBzdGFydDogZGF0YVtpXSwgZW5kOiBkYXRhW2krMV19OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZG9jLmFwcGx5RGVsdGEoZCwgdHJ1ZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKF9zZWxmLiR0aW1lb3V0KQogICAgICAgICAgICByZXR1cm4gZGVmZXJyZWRVcGRhdGUuc2NoZWR1bGUoX3NlbGYuJHRpbWVvdXQpOwogICAgICAgIF9zZWxmLm9uVXBkYXRlKCk7CiAgICB9KTsKfTsKCihmdW5jdGlvbigpIHsKICAgIAogICAgdGhpcy4kdGltZW91dCA9IDUwMDsKICAgIAogICAgdGhpcy5zZXRUaW1lb3V0ID0gZnVuY3Rpb24odGltZW91dCkgewogICAgICAgIHRoaXMuJHRpbWVvdXQgPSB0aW1lb3V0OwogICAgfTsKICAgIAogICAgdGhpcy5zZXRWYWx1ZSA9IGZ1bmN0aW9uKHZhbHVlKSB7CiAgICAgICAgdGhpcy5kb2Muc2V0VmFsdWUodmFsdWUpOwogICAgICAgIHRoaXMuZGVmZXJyZWRVcGRhdGUuc2NoZWR1bGUodGhpcy4kdGltZW91dCk7CiAgICB9OwogICAgCiAgICB0aGlzLmdldFZhbHVlID0gZnVuY3Rpb24oY2FsbGJhY2tJZCkgewogICAgICAgIHRoaXMuc2VuZGVyLmNhbGxiYWNrKHRoaXMuZG9jLmdldFZhbHVlKCksIGNhbGxiYWNrSWQpOwogICAgfTsKICAgIAogICAgdGhpcy5vblVwZGF0ZSA9IGZ1bmN0aW9uKCkgewogICAgfTsKICAgIAogICAgdGhpcy5pc1BlbmRpbmcgPSBmdW5jdGlvbigpIHsKICAgICAgICByZXR1cm4gdGhpcy5kZWZlcnJlZFVwZGF0ZS5pc1BlbmRpbmcoKTsKICAgIH07CiAgICAKfSkuY2FsbChNaXJyb3IucHJvdG90eXBlKTsKCn0pOwoKYWNlLmRlZmluZSgiYWNlL21vZGUvanNvbi9qc29uX3BhcnNlIixbXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7CiJ1c2Ugc3RyaWN0IjsKCiAgICB2YXIgYXQsICAgICAvLyBUaGUgaW5kZXggb2YgdGhlIGN1cnJlbnQgY2hhcmFjdGVyCiAgICAgICAgY2gsICAgICAvLyBUaGUgY3VycmVudCBjaGFyYWN0ZXIKICAgICAgICBlc2NhcGVlID0gewogICAgICAgICAgICAnIic6ICAnIicsCiAgICAgICAgICAgICdcXCc6ICdcXCcsCiAgICAgICAgICAgICcvJzogICcvJywKICAgICAgICAgICAgYjogICAgJ1xiJywKICAgICAgICAgICAgZjogICAgJ1xmJywKICAgICAgICAgICAgbjogICAgJ1xuJywKICAgICAgICAgICAgcjogICAgJ1xyJywKICAgICAgICAgICAgdDogICAgJ1x0JwogICAgICAgIH0sCiAgICAgICAgdGV4dCwKCiAgICAgICAgZXJyb3IgPSBmdW5jdGlvbiAobSkgewoKICAgICAgICAgICAgdGhyb3cgewogICAgICAgICAgICAgICAgbmFtZTogICAgJ1N5bnRheEVycm9yJywKICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG0sCiAgICAgICAgICAgICAgICBhdDogICAgICBhdCwKICAgICAgICAgICAgICAgIHRleHQ6ICAgIHRleHQKICAgICAgICAgICAgfTsKICAgICAgICB9LAoKICAgICAgICBuZXh0ID0gZnVuY3Rpb24gKGMpIHsKCiAgICAgICAgICAgIGlmIChjICYmIGMgIT09IGNoKSB7CiAgICAgICAgICAgICAgICBlcnJvcigiRXhwZWN0ZWQgJyIgKyBjICsgIicgaW5zdGVhZCBvZiAnIiArIGNoICsgIiciKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgY2ggPSB0ZXh0LmNoYXJBdChhdCk7CiAgICAgICAgICAgIGF0ICs9IDE7CiAgICAgICAgICAgIHJldHVybiBjaDsKICAgICAgICB9LAoKICAgICAgICBudW1iZXIgPSBmdW5jdGlvbiAoKSB7CgogICAgICAgICAgICB2YXIgbnVtYmVyLAogICAgICAgICAgICAgICAgc3RyaW5nID0gJyc7CgogICAgICAgICAgICBpZiAoY2ggPT09ICctJykgewogICAgICAgICAgICAgICAgc3RyaW5nID0gJy0nOwogICAgICAgICAgICAgICAgbmV4dCgnLScpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHdoaWxlIChjaCA+PSAnMCcgJiYgY2ggPD0gJzknKSB7CiAgICAgICAgICAgICAgICBzdHJpbmcgKz0gY2g7CiAgICAgICAgICAgICAgICBuZXh0KCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGNoID09PSAnLicpIHsKICAgICAgICAgICAgICAgIHN0cmluZyArPSAnLic7CiAgICAgICAgICAgICAgICB3aGlsZSAobmV4dCgpICYmIGNoID49ICcwJyAmJiBjaCA8PSAnOScpIHsKICAgICAgICAgICAgICAgICAgICBzdHJpbmcgKz0gY2g7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGNoID09PSAnZScgfHwgY2ggPT09ICdFJykgewogICAgICAgICAgICAgICAgc3RyaW5nICs9IGNoOwogICAgICAgICAgICAgICAgbmV4dCgpOwogICAgICAgICAgICAgICAgaWYgKGNoID09PSAnLScgfHwgY2ggPT09ICcrJykgewogICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSBjaDsKICAgICAgICAgICAgICAgICAgICBuZXh0KCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB3aGlsZSAoY2ggPj0gJzAnICYmIGNoIDw9ICc5JykgewogICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSBjaDsKICAgICAgICAgICAgICAgICAgICBuZXh0KCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgbnVtYmVyID0gK3N0cmluZzsKICAgICAgICAgICAgaWYgKGlzTmFOKG51bWJlcikpIHsKICAgICAgICAgICAgICAgIGVycm9yKCJCYWQgbnVtYmVyIik7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gbnVtYmVyOwogICAgICAgICAgICB9CiAgICAgICAgfSwKCiAgICAgICAgc3RyaW5nID0gZnVuY3Rpb24gKCkgewoKICAgICAgICAgICAgdmFyIGhleCwKICAgICAgICAgICAgICAgIGksCiAgICAgICAgICAgICAgICBzdHJpbmcgPSAnJywKICAgICAgICAgICAgICAgIHVmZmZmOwoKICAgICAgICAgICAgaWYgKGNoID09PSAnIicpIHsKICAgICAgICAgICAgICAgIHdoaWxlIChuZXh0KCkpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoY2ggPT09ICciJykgewogICAgICAgICAgICAgICAgICAgICAgICBuZXh0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdHJpbmc7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjaCA9PT0gJ1xcJykgewogICAgICAgICAgICAgICAgICAgICAgICBuZXh0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJ3UnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1ZmZmZiA9IDA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgNDsgaSArPSAxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGV4ID0gcGFyc2VJbnQobmV4dCgpLCAxNik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0Zpbml0ZShoZXgpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1ZmZmZiA9IHVmZmZmICogMTYgKyBoZXg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJpbmcgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSh1ZmZmZik7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGVzY2FwZWVbY2hdID09PSAnc3RyaW5nJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyaW5nICs9IGVzY2FwZWVbY2hdOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoID09ICJcbiIgfHwgY2ggPT0gIlxyIikgewogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBzdHJpbmcgKz0gY2g7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVycm9yKCJCYWQgc3RyaW5nIik7CiAgICAgICAgfSwKCiAgICAgICAgd2hpdGUgPSBmdW5jdGlvbiAoKSB7CgogICAgICAgICAgICB3aGlsZSAoY2ggJiYgY2ggPD0gJyAnKSB7CiAgICAgICAgICAgICAgICBuZXh0KCk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAoKICAgICAgICB3b3JkID0gZnVuY3Rpb24gKCkgewoKICAgICAgICAgICAgc3dpdGNoIChjaCkgewogICAgICAgICAgICBjYXNlICd0JzoKICAgICAgICAgICAgICAgIG5leHQoJ3QnKTsKICAgICAgICAgICAgICAgIG5leHQoJ3InKTsKICAgICAgICAgICAgICAgIG5leHQoJ3UnKTsKICAgICAgICAgICAgICAgIG5leHQoJ2UnKTsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICBjYXNlICdmJzoKICAgICAgICAgICAgICAgIG5leHQoJ2YnKTsKICAgICAgICAgICAgICAgIG5leHQoJ2EnKTsKICAgICAgICAgICAgICAgIG5leHQoJ2wnKTsKICAgICAgICAgICAgICAgIG5leHQoJ3MnKTsKICAgICAgICAgICAgICAgIG5leHQoJ2UnKTsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgY2FzZSAnbic6CiAgICAgICAgICAgICAgICBuZXh0KCduJyk7CiAgICAgICAgICAgICAgICBuZXh0KCd1Jyk7CiAgICAgICAgICAgICAgICBuZXh0KCdsJyk7CiAgICAgICAgICAgICAgICBuZXh0KCdsJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICAgICAgfQogICAgICAgICAgICBlcnJvcigiVW5leHBlY3RlZCAnIiArIGNoICsgIiciKTsKICAgICAgICB9LAoKICAgICAgICB2YWx1ZSwgIC8vIFBsYWNlIGhvbGRlciBmb3IgdGhlIHZhbHVlIGZ1bmN0aW9uLgoKICAgICAgICBhcnJheSA9IGZ1bmN0aW9uICgpIHsKCiAgICAgICAgICAgIHZhciBhcnJheSA9IFtdOwoKICAgICAgICAgICAgaWYgKGNoID09PSAnWycpIHsKICAgICAgICAgICAgICAgIG5leHQoJ1snKTsKICAgICAgICAgICAgICAgIHdoaXRlKCk7CiAgICAgICAgICAgICAgICBpZiAoY2ggPT09ICddJykgewogICAgICAgICAgICAgICAgICAgIG5leHQoJ10nKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXJyYXk7ICAgLy8gZW1wdHkgYXJyYXkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHdoaWxlIChjaCkgewogICAgICAgICAgICAgICAgICAgIGFycmF5LnB1c2godmFsdWUoKSk7CiAgICAgICAgICAgICAgICAgICAgd2hpdGUoKTsKICAgICAgICAgICAgICAgICAgICBpZiAoY2ggPT09ICddJykgewogICAgICAgICAgICAgICAgICAgICAgICBuZXh0KCddJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhcnJheTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgbmV4dCgnLCcpOwogICAgICAgICAgICAgICAgICAgIHdoaXRlKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZXJyb3IoIkJhZCBhcnJheSIpOwogICAgICAgIH0sCgogICAgICAgIG9iamVjdCA9IGZ1bmN0aW9uICgpIHsKCiAgICAgICAgICAgIHZhciBrZXksCiAgICAgICAgICAgICAgICBvYmplY3QgPSB7fTsKCiAgICAgICAgICAgIGlmIChjaCA9PT0gJ3snKSB7CiAgICAgICAgICAgICAgICBuZXh0KCd7Jyk7CiAgICAgICAgICAgICAgICB3aGl0ZSgpOwogICAgICAgICAgICAgICAgaWYgKGNoID09PSAnfScpIHsKICAgICAgICAgICAgICAgICAgICBuZXh0KCd9Jyk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDsgICAvLyBlbXB0eSBvYmplY3QKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHdoaWxlIChjaCkgewogICAgICAgICAgICAgICAgICAgIGtleSA9IHN0cmluZygpOwogICAgICAgICAgICAgICAgICAgIHdoaXRlKCk7CiAgICAgICAgICAgICAgICAgICAgbmV4dCgnOicpOwogICAgICAgICAgICAgICAgICAgIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IoJ0R1cGxpY2F0ZSBrZXkgIicgKyBrZXkgKyAnIicpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBvYmplY3Rba2V5XSA9IHZhbHVlKCk7CiAgICAgICAgICAgICAgICAgICAgd2hpdGUoKTsKICAgICAgICAgICAgICAgICAgICBpZiAoY2ggPT09ICd9JykgewogICAgICAgICAgICAgICAgICAgICAgICBuZXh0KCd9Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3Q7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIG5leHQoJywnKTsKICAgICAgICAgICAgICAgICAgICB3aGl0ZSgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVycm9yKCJCYWQgb2JqZWN0Iik7CiAgICAgICAgfTsKCiAgICB2YWx1ZSA9IGZ1bmN0aW9uICgpIHsKCiAgICAgICAgd2hpdGUoKTsKICAgICAgICBzd2l0Y2ggKGNoKSB7CiAgICAgICAgY2FzZSAneyc6CiAgICAgICAgICAgIHJldHVybiBvYmplY3QoKTsKICAgICAgICBjYXNlICdbJzoKICAgICAgICAgICAgcmV0dXJuIGFycmF5KCk7CiAgICAgICAgY2FzZSAnIic6CiAgICAgICAgICAgIHJldHVybiBzdHJpbmcoKTsKICAgICAgICBjYXNlICctJzoKICAgICAgICAgICAgcmV0dXJuIG51bWJlcigpOwogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIHJldHVybiBjaCA+PSAnMCcgJiYgY2ggPD0gJzknID8gbnVtYmVyKCkgOiB3b3JkKCk7CiAgICAgICAgfQogICAgfTsKCiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSwgcmV2aXZlcikgewogICAgICAgIHZhciByZXN1bHQ7CgogICAgICAgIHRleHQgPSBzb3VyY2U7CiAgICAgICAgYXQgPSAwOwogICAgICAgIGNoID0gJyAnOwogICAgICAgIHJlc3VsdCA9IHZhbHVlKCk7CiAgICAgICAgd2hpdGUoKTsKICAgICAgICBpZiAoY2gpIHsKICAgICAgICAgICAgZXJyb3IoIlN5bnRheCBlcnJvciIpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHR5cGVvZiByZXZpdmVyID09PSAnZnVuY3Rpb24nID8gZnVuY3Rpb24gd2Fsayhob2xkZXIsIGtleSkgewogICAgICAgICAgICB2YXIgaywgdiwgdmFsdWUgPSBob2xkZXJba2V5XTsKICAgICAgICAgICAgaWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHsKICAgICAgICAgICAgICAgIGZvciAoayBpbiB2YWx1ZSkgewogICAgICAgICAgICAgICAgICAgIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgaykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdiA9IHdhbGsodmFsdWUsIGspOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAodiAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZVtrXSA9IHY7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgdmFsdWVba107CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHJldml2ZXIuY2FsbChob2xkZXIsIGtleSwgdmFsdWUpOwogICAgICAgIH0oeycnOiByZXN1bHR9LCAnJykgOiByZXN1bHQ7CiAgICB9Owp9KTsKCmFjZS5kZWZpbmUoImFjZS9tb2RlL2pzb25fd29ya2VyIixbXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7CiJ1c2Ugc3RyaWN0IjsKCnZhciBvb3AgPSByZXF1aXJlKCIuLi9saWIvb29wIik7CnZhciBNaXJyb3IgPSByZXF1aXJlKCIuLi93b3JrZXIvbWlycm9yIikuTWlycm9yOwp2YXIgcGFyc2UgPSByZXF1aXJlKCIuL2pzb24vanNvbl9wYXJzZSIpOwoKdmFyIEpzb25Xb3JrZXIgPSBleHBvcnRzLkpzb25Xb3JrZXIgPSBmdW5jdGlvbihzZW5kZXIpIHsKICAgIE1pcnJvci5jYWxsKHRoaXMsIHNlbmRlcik7CiAgICB0aGlzLnNldFRpbWVvdXQoMjAwKTsKfTsKCm9vcC5pbmhlcml0cyhKc29uV29ya2VyLCBNaXJyb3IpOwoKKGZ1bmN0aW9uKCkgewoKICAgIHRoaXMub25VcGRhdGUgPSBmdW5jdGlvbigpIHsKICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLmRvYy5nZXRWYWx1ZSgpOwogICAgICAgIHZhciBlcnJvcnMgPSBbXTsKICAgICAgICB0cnkgewogICAgICAgICAgICBpZiAodmFsdWUpCiAgICAgICAgICAgICAgICBwYXJzZSh2YWx1ZSk7CiAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICB2YXIgcG9zID0gdGhpcy5kb2MuaW5kZXhUb1Bvc2l0aW9uKGUuYXQtMSk7CiAgICAgICAgICAgIGVycm9ycy5wdXNoKHsKICAgICAgICAgICAgICAgIHJvdzogcG9zLnJvdywKICAgICAgICAgICAgICAgIGNvbHVtbjogcG9zLmNvbHVtbiwKICAgICAgICAgICAgICAgIHRleHQ6IGUubWVzc2FnZSwKICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgIHRoaXMuc2VuZGVyLmVtaXQoImFubm90YXRlIiwgZXJyb3JzKTsKICAgIH07Cgp9KS5jYWxsKEpzb25Xb3JrZXIucHJvdG90eXBlKTsKCn0pOwoKYWNlLmRlZmluZSgiYWNlL2xpYi9lczUtc2hpbSIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkgewoKZnVuY3Rpb24gRW1wdHkoKSB7fQoKaWYgKCFGdW5jdGlvbi5wcm90b3R5cGUuYmluZCkgewogICAgRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiBiaW5kKHRoYXQpIHsgLy8gLmxlbmd0aCBpcyAxCiAgICAgICAgdmFyIHRhcmdldCA9IHRoaXM7CiAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXQgIT0gImZ1bmN0aW9uIikgewogICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCJGdW5jdGlvbi5wcm90b3R5cGUuYmluZCBjYWxsZWQgb24gaW5jb21wYXRpYmxlICIgKyB0YXJnZXQpOwogICAgICAgIH0KICAgICAgICB2YXIgYXJncyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTsgLy8gZm9yIG5vcm1hbCBjYWxsCiAgICAgICAgdmFyIGJvdW5kID0gZnVuY3Rpb24gKCkgewoKICAgICAgICAgICAgaWYgKHRoaXMgaW5zdGFuY2VvZiBib3VuZCkgewoKICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSB0YXJnZXQuYXBwbHkoCiAgICAgICAgICAgICAgICAgICAgdGhpcywKICAgICAgICAgICAgICAgICAgICBhcmdzLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cykpCiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgaWYgKE9iamVjdChyZXN1bHQpID09PSByZXN1bHQpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7CgogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldC5hcHBseSgKICAgICAgICAgICAgICAgICAgICB0aGF0LAogICAgICAgICAgICAgICAgICAgIGFyZ3MuY29uY2F0KHNsaWNlLmNhbGwoYXJndW1lbnRzKSkKICAgICAgICAgICAgICAgICk7CgogICAgICAgICAgICB9CgogICAgICAgIH07CiAgICAgICAgaWYodGFyZ2V0LnByb3RvdHlwZSkgewogICAgICAgICAgICBFbXB0eS5wcm90b3R5cGUgPSB0YXJnZXQucHJvdG90eXBlOwogICAgICAgICAgICBib3VuZC5wcm90b3R5cGUgPSBuZXcgRW1wdHkoKTsKICAgICAgICAgICAgRW1wdHkucHJvdG90eXBlID0gbnVsbDsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGJvdW5kOwogICAgfTsKfQp2YXIgY2FsbCA9IEZ1bmN0aW9uLnByb3RvdHlwZS5jYWxsOwp2YXIgcHJvdG90eXBlT2ZBcnJheSA9IEFycmF5LnByb3RvdHlwZTsKdmFyIHByb3RvdHlwZU9mT2JqZWN0ID0gT2JqZWN0LnByb3RvdHlwZTsKdmFyIHNsaWNlID0gcHJvdG90eXBlT2ZBcnJheS5zbGljZTsKdmFyIF90b1N0cmluZyA9IGNhbGwuYmluZChwcm90b3R5cGVPZk9iamVjdC50b1N0cmluZyk7CnZhciBvd25zID0gY2FsbC5iaW5kKHByb3RvdHlwZU9mT2JqZWN0Lmhhc093blByb3BlcnR5KTsKdmFyIGRlZmluZUdldHRlcjsKdmFyIGRlZmluZVNldHRlcjsKdmFyIGxvb2t1cEdldHRlcjsKdmFyIGxvb2t1cFNldHRlcjsKdmFyIHN1cHBvcnRzQWNjZXNzb3JzOwppZiAoKHN1cHBvcnRzQWNjZXNzb3JzID0gb3ducyhwcm90b3R5cGVPZk9iamVjdCwgIl9fZGVmaW5lR2V0dGVyX18iKSkpIHsKICAgIGRlZmluZUdldHRlciA9IGNhbGwuYmluZChwcm90b3R5cGVPZk9iamVjdC5fX2RlZmluZUdldHRlcl9fKTsKICAgIGRlZmluZVNldHRlciA9IGNhbGwuYmluZChwcm90b3R5cGVPZk9iamVjdC5fX2RlZmluZVNldHRlcl9fKTsKICAgIGxvb2t1cEdldHRlciA9IGNhbGwuYmluZChwcm90b3R5cGVPZk9iamVjdC5fX2xvb2t1cEdldHRlcl9fKTsKICAgIGxvb2t1cFNldHRlciA9IGNhbGwuYmluZChwcm90b3R5cGVPZk9iamVjdC5fX2xvb2t1cFNldHRlcl9fKTsKfQppZiAoWzEsMl0uc3BsaWNlKDApLmxlbmd0aCAhPSAyKSB7CiAgICBpZihmdW5jdGlvbigpIHsgLy8gdGVzdCBJRSA8IDkgdG8gc3BsaWNlIGJ1ZyAtIHNlZSBpc3N1ZSAjMTM4CiAgICAgICAgZnVuY3Rpb24gbWFrZUFycmF5KGwpIHsKICAgICAgICAgICAgdmFyIGEgPSBuZXcgQXJyYXkobCsyKTsKICAgICAgICAgICAgYVswXSA9IGFbMV0gPSAwOwogICAgICAgICAgICByZXR1cm4gYTsKICAgICAgICB9CiAgICAgICAgdmFyIGFycmF5ID0gW10sIGxlbmd0aEJlZm9yZTsKICAgICAgICAKICAgICAgICBhcnJheS5zcGxpY2UuYXBwbHkoYXJyYXksIG1ha2VBcnJheSgyMCkpOwogICAgICAgIGFycmF5LnNwbGljZS5hcHBseShhcnJheSwgbWFrZUFycmF5KDI2KSk7CgogICAgICAgIGxlbmd0aEJlZm9yZSA9IGFycmF5Lmxlbmd0aDsgLy80NgogICAgICAgIGFycmF5LnNwbGljZSg1LCAwLCAiWFhYIik7IC8vIGFkZCBvbmUgZWxlbWVudAoKICAgICAgICBsZW5ndGhCZWZvcmUgKyAxID09IGFycmF5Lmxlbmd0aAoKICAgICAgICBpZiAobGVuZ3RoQmVmb3JlICsgMSA9PSBhcnJheS5sZW5ndGgpIHsKICAgICAgICAgICAgcmV0dXJuIHRydWU7Ly8gaGFzIHJpZ2h0IHNwbGljZSBpbXBsZW1lbnRhdGlvbiB3aXRob3V0IGJ1Z3MKICAgICAgICB9CiAgICB9KCkpIHsvL0lFIDYvNwogICAgICAgIHZhciBhcnJheV9zcGxpY2UgPSBBcnJheS5wcm90b3R5cGUuc3BsaWNlOwogICAgICAgIEFycmF5LnByb3RvdHlwZS5zcGxpY2UgPSBmdW5jdGlvbihzdGFydCwgZGVsZXRlQ291bnQpIHsKICAgICAgICAgICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gW107CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gYXJyYXlfc3BsaWNlLmFwcGx5KHRoaXMsIFsKICAgICAgICAgICAgICAgICAgICBzdGFydCA9PT0gdm9pZCAwID8gMCA6IHN0YXJ0LAogICAgICAgICAgICAgICAgICAgIGRlbGV0ZUNvdW50ID09PSB2b2lkIDAgPyAodGhpcy5sZW5ndGggLSBzdGFydCkgOiBkZWxldGVDb3VudAogICAgICAgICAgICAgICAgXS5jb25jYXQoc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpKSkKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICB9IGVsc2Ugey8vSUU4CiAgICAgICAgQXJyYXkucHJvdG90eXBlLnNwbGljZSA9IGZ1bmN0aW9uKHBvcywgcmVtb3ZlQ291bnQpewogICAgICAgICAgICB2YXIgbGVuZ3RoID0gdGhpcy5sZW5ndGg7CiAgICAgICAgICAgIGlmIChwb3MgPiAwKSB7CiAgICAgICAgICAgICAgICBpZiAocG9zID4gbGVuZ3RoKQogICAgICAgICAgICAgICAgICAgIHBvcyA9IGxlbmd0aDsKICAgICAgICAgICAgfSBlbHNlIGlmIChwb3MgPT0gdm9pZCAwKSB7CiAgICAgICAgICAgICAgICBwb3MgPSAwOwogICAgICAgICAgICB9IGVsc2UgaWYgKHBvcyA8IDApIHsKICAgICAgICAgICAgICAgIHBvcyA9IE1hdGgubWF4KGxlbmd0aCArIHBvcywgMCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICghKHBvcytyZW1vdmVDb3VudCA8IGxlbmd0aCkpCiAgICAgICAgICAgICAgICByZW1vdmVDb3VudCA9IGxlbmd0aCAtIHBvczsKCiAgICAgICAgICAgIHZhciByZW1vdmVkID0gdGhpcy5zbGljZShwb3MsIHBvcytyZW1vdmVDb3VudCk7CiAgICAgICAgICAgIHZhciBpbnNlcnQgPSBzbGljZS5jYWxsKGFyZ3VtZW50cywgMik7CiAgICAgICAgICAgIHZhciBhZGQgPSBpbnNlcnQubGVuZ3RoOyAgICAgICAgICAgIAogICAgICAgICAgICBpZiAocG9zID09PSBsZW5ndGgpIHsKICAgICAgICAgICAgICAgIGlmIChhZGQpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLnB1c2guYXBwbHkodGhpcywgaW5zZXJ0KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHZhciByZW1vdmUgPSBNYXRoLm1pbihyZW1vdmVDb3VudCwgbGVuZ3RoIC0gcG9zKTsKICAgICAgICAgICAgICAgIHZhciB0YWlsT2xkUG9zID0gcG9zICsgcmVtb3ZlOwogICAgICAgICAgICAgICAgdmFyIHRhaWxOZXdQb3MgPSB0YWlsT2xkUG9zICsgYWRkIC0gcmVtb3ZlOwogICAgICAgICAgICAgICAgdmFyIHRhaWxDb3VudCA9IGxlbmd0aCAtIHRhaWxPbGRQb3M7CiAgICAgICAgICAgICAgICB2YXIgbGVuZ3RoQWZ0ZXJSZW1vdmUgPSBsZW5ndGggLSByZW1vdmU7CgogICAgICAgICAgICAgICAgaWYgKHRhaWxOZXdQb3MgPCB0YWlsT2xkUG9zKSB7IC8vIGNhc2UgQQogICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGFpbENvdW50OyArK2kpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1t0YWlsTmV3UG9zK2ldID0gdGhpc1t0YWlsT2xkUG9zK2ldOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFpbE5ld1BvcyA+IHRhaWxPbGRQb3MpIHsgLy8gY2FzZSBCCiAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gdGFpbENvdW50OyBpLS07ICkgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzW3RhaWxOZXdQb3MraV0gPSB0aGlzW3RhaWxPbGRQb3MraV07CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSAvLyBlbHNlLCBhZGQgPT0gcmVtb3ZlIChub3RoaW5nIHRvIGRvKQoKICAgICAgICAgICAgICAgIGlmIChhZGQgJiYgcG9zID09PSBsZW5ndGhBZnRlclJlbW92ZSkgewogICAgICAgICAgICAgICAgICAgIHRoaXMubGVuZ3RoID0gbGVuZ3RoQWZ0ZXJSZW1vdmU7IC8vIHRydW5jYXRlIGFycmF5CiAgICAgICAgICAgICAgICAgICAgdGhpcy5wdXNoLmFwcGx5KHRoaXMsIGluc2VydCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHRoaXMubGVuZ3RoID0gbGVuZ3RoQWZ0ZXJSZW1vdmUgKyBhZGQ7IC8vIHJlc2VydmVzIHNwYWNlCiAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGFkZDsgKytpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNbcG9zK2ldID0gaW5zZXJ0W2ldOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gcmVtb3ZlZDsKICAgICAgICB9OwogICAgfQp9CmlmICghQXJyYXkuaXNBcnJheSkgewogICAgQXJyYXkuaXNBcnJheSA9IGZ1bmN0aW9uIGlzQXJyYXkob2JqKSB7CiAgICAgICAgcmV0dXJuIF90b1N0cmluZyhvYmopID09ICJbb2JqZWN0IEFycmF5XSI7CiAgICB9Owp9CnZhciBib3hlZFN0cmluZyA9IE9iamVjdCgiYSIpLAogICAgc3BsaXRTdHJpbmcgPSBib3hlZFN0cmluZ1swXSAhPSAiYSIgfHwgISgwIGluIGJveGVkU3RyaW5nKTsKCmlmICghQXJyYXkucHJvdG90eXBlLmZvckVhY2gpIHsKICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gZm9yRWFjaChmdW4gLyosIHRoaXNwKi8pIHsKICAgICAgICB2YXIgb2JqZWN0ID0gdG9PYmplY3QodGhpcyksCiAgICAgICAgICAgIHNlbGYgPSBzcGxpdFN0cmluZyAmJiBfdG9TdHJpbmcodGhpcykgPT0gIltvYmplY3QgU3RyaW5nXSIgPwogICAgICAgICAgICAgICAgdGhpcy5zcGxpdCgiIikgOgogICAgICAgICAgICAgICAgb2JqZWN0LAogICAgICAgICAgICB0aGlzcCA9IGFyZ3VtZW50c1sxXSwKICAgICAgICAgICAgaSA9IC0xLAogICAgICAgICAgICBsZW5ndGggPSBzZWxmLmxlbmd0aCA+Pj4gMDsKICAgICAgICBpZiAoX3RvU3RyaW5nKGZ1bikgIT0gIltvYmplY3QgRnVuY3Rpb25dIikgewogICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7IC8vIFRPRE8gbWVzc2FnZQogICAgICAgIH0KCiAgICAgICAgd2hpbGUgKCsraSA8IGxlbmd0aCkgewogICAgICAgICAgICBpZiAoaSBpbiBzZWxmKSB7CiAgICAgICAgICAgICAgICBmdW4uY2FsbCh0aGlzcCwgc2VsZltpXSwgaSwgb2JqZWN0KTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH07Cn0KaWYgKCFBcnJheS5wcm90b3R5cGUubWFwKSB7CiAgICBBcnJheS5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gbWFwKGZ1biAvKiwgdGhpc3AqLykgewogICAgICAgIHZhciBvYmplY3QgPSB0b09iamVjdCh0aGlzKSwKICAgICAgICAgICAgc2VsZiA9IHNwbGl0U3RyaW5nICYmIF90b1N0cmluZyh0aGlzKSA9PSAiW29iamVjdCBTdHJpbmddIiA/CiAgICAgICAgICAgICAgICB0aGlzLnNwbGl0KCIiKSA6CiAgICAgICAgICAgICAgICBvYmplY3QsCiAgICAgICAgICAgIGxlbmd0aCA9IHNlbGYubGVuZ3RoID4+PiAwLAogICAgICAgICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpLAogICAgICAgICAgICB0aGlzcCA9IGFyZ3VtZW50c1sxXTsKICAgICAgICBpZiAoX3RvU3RyaW5nKGZ1bikgIT0gIltvYmplY3QgRnVuY3Rpb25dIikgewogICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGZ1biArICIgaXMgbm90IGEgZnVuY3Rpb24iKTsKICAgICAgICB9CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgaWYgKGkgaW4gc2VsZikKICAgICAgICAgICAgICAgIHJlc3VsdFtpXSA9IGZ1bi5jYWxsKHRoaXNwLCBzZWxmW2ldLCBpLCBvYmplY3QpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgfTsKfQppZiAoIUFycmF5LnByb3RvdHlwZS5maWx0ZXIpIHsKICAgIEFycmF5LnByb3RvdHlwZS5maWx0ZXIgPSBmdW5jdGlvbiBmaWx0ZXIoZnVuIC8qLCB0aGlzcCAqLykgewogICAgICAgIHZhciBvYmplY3QgPSB0b09iamVjdCh0aGlzKSwKICAgICAgICAgICAgc2VsZiA9IHNwbGl0U3RyaW5nICYmIF90b1N0cmluZyh0aGlzKSA9PSAiW29iamVjdCBTdHJpbmddIiA/CiAgICAgICAgICAgICAgICB0aGlzLnNwbGl0KCIiKSA6CiAgICAgICAgICAgICAgICAgICAgb2JqZWN0LAogICAgICAgICAgICBsZW5ndGggPSBzZWxmLmxlbmd0aCA+Pj4gMCwKICAgICAgICAgICAgcmVzdWx0ID0gW10sCiAgICAgICAgICAgIHZhbHVlLAogICAgICAgICAgICB0aGlzcCA9IGFyZ3VtZW50c1sxXTsKICAgICAgICBpZiAoX3RvU3RyaW5nKGZ1bikgIT0gIltvYmplY3QgRnVuY3Rpb25dIikgewogICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGZ1biArICIgaXMgbm90IGEgZnVuY3Rpb24iKTsKICAgICAgICB9CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgaWYgKGkgaW4gc2VsZikgewogICAgICAgICAgICAgICAgdmFsdWUgPSBzZWxmW2ldOwogICAgICAgICAgICAgICAgaWYgKGZ1bi5jYWxsKHRoaXNwLCB2YWx1ZSwgaSwgb2JqZWN0KSkgewogICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgfTsKfQppZiAoIUFycmF5LnByb3RvdHlwZS5ldmVyeSkgewogICAgQXJyYXkucHJvdG90eXBlLmV2ZXJ5ID0gZnVuY3Rpb24gZXZlcnkoZnVuIC8qLCB0aGlzcCAqLykgewogICAgICAgIHZhciBvYmplY3QgPSB0b09iamVjdCh0aGlzKSwKICAgICAgICAgICAgc2VsZiA9IHNwbGl0U3RyaW5nICYmIF90b1N0cmluZyh0aGlzKSA9PSAiW29iamVjdCBTdHJpbmddIiA/CiAgICAgICAgICAgICAgICB0aGlzLnNwbGl0KCIiKSA6CiAgICAgICAgICAgICAgICBvYmplY3QsCiAgICAgICAgICAgIGxlbmd0aCA9IHNlbGYubGVuZ3RoID4+PiAwLAogICAgICAgICAgICB0aGlzcCA9IGFyZ3VtZW50c1sxXTsKICAgICAgICBpZiAoX3RvU3RyaW5nKGZ1bikgIT0gIltvYmplY3QgRnVuY3Rpb25dIikgewogICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGZ1biArICIgaXMgbm90IGEgZnVuY3Rpb24iKTsKICAgICAgICB9CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgaWYgKGkgaW4gc2VsZiAmJiAhZnVuLmNhbGwodGhpc3AsIHNlbGZbaV0sIGksIG9iamVjdCkpIHsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH07Cn0KaWYgKCFBcnJheS5wcm90b3R5cGUuc29tZSkgewogICAgQXJyYXkucHJvdG90eXBlLnNvbWUgPSBmdW5jdGlvbiBzb21lKGZ1biAvKiwgdGhpc3AgKi8pIHsKICAgICAgICB2YXIgb2JqZWN0ID0gdG9PYmplY3QodGhpcyksCiAgICAgICAgICAgIHNlbGYgPSBzcGxpdFN0cmluZyAmJiBfdG9TdHJpbmcodGhpcykgPT0gIltvYmplY3QgU3RyaW5nXSIgPwogICAgICAgICAgICAgICAgdGhpcy5zcGxpdCgiIikgOgogICAgICAgICAgICAgICAgb2JqZWN0LAogICAgICAgICAgICBsZW5ndGggPSBzZWxmLmxlbmd0aCA+Pj4gMCwKICAgICAgICAgICAgdGhpc3AgPSBhcmd1bWVudHNbMV07CiAgICAgICAgaWYgKF90b1N0cmluZyhmdW4pICE9ICJbb2JqZWN0IEZ1bmN0aW9uXSIpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihmdW4gKyAiIGlzIG5vdCBhIGZ1bmN0aW9uIik7CiAgICAgICAgfQoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGlmIChpIGluIHNlbGYgJiYgZnVuLmNhbGwodGhpc3AsIHNlbGZbaV0sIGksIG9iamVjdCkpIHsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH07Cn0KaWYgKCFBcnJheS5wcm90b3R5cGUucmVkdWNlKSB7CiAgICBBcnJheS5wcm90b3R5cGUucmVkdWNlID0gZnVuY3Rpb24gcmVkdWNlKGZ1biAvKiwgaW5pdGlhbCovKSB7CiAgICAgICAgdmFyIG9iamVjdCA9IHRvT2JqZWN0KHRoaXMpLAogICAgICAgICAgICBzZWxmID0gc3BsaXRTdHJpbmcgJiYgX3RvU3RyaW5nKHRoaXMpID09ICJbb2JqZWN0IFN0cmluZ10iID8KICAgICAgICAgICAgICAgIHRoaXMuc3BsaXQoIiIpIDoKICAgICAgICAgICAgICAgIG9iamVjdCwKICAgICAgICAgICAgbGVuZ3RoID0gc2VsZi5sZW5ndGggPj4+IDA7CiAgICAgICAgaWYgKF90b1N0cmluZyhmdW4pICE9ICJbb2JqZWN0IEZ1bmN0aW9uXSIpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihmdW4gKyAiIGlzIG5vdCBhIGZ1bmN0aW9uIik7CiAgICAgICAgfQogICAgICAgIGlmICghbGVuZ3RoICYmIGFyZ3VtZW50cy5sZW5ndGggPT0gMSkgewogICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCJyZWR1Y2Ugb2YgZW1wdHkgYXJyYXkgd2l0aCBubyBpbml0aWFsIHZhbHVlIik7CiAgICAgICAgfQoKICAgICAgICB2YXIgaSA9IDA7CiAgICAgICAgdmFyIHJlc3VsdDsKICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAyKSB7CiAgICAgICAgICAgIHJlc3VsdCA9IGFyZ3VtZW50c1sxXTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBkbyB7CiAgICAgICAgICAgICAgICBpZiAoaSBpbiBzZWxmKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gc2VsZltpKytdOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKCsraSA+PSBsZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCJyZWR1Y2Ugb2YgZW1wdHkgYXJyYXkgd2l0aCBubyBpbml0aWFsIHZhbHVlIik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gd2hpbGUgKHRydWUpOwogICAgICAgIH0KCiAgICAgICAgZm9yICg7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICAgICAgICBpZiAoaSBpbiBzZWxmKSB7CiAgICAgICAgICAgICAgICByZXN1bHQgPSBmdW4uY2FsbCh2b2lkIDAsIHJlc3VsdCwgc2VsZltpXSwgaSwgb2JqZWN0KTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH07Cn0KaWYgKCFBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQpIHsKICAgIEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCA9IGZ1bmN0aW9uIHJlZHVjZVJpZ2h0KGZ1biAvKiwgaW5pdGlhbCovKSB7CiAgICAgICAgdmFyIG9iamVjdCA9IHRvT2JqZWN0KHRoaXMpLAogICAgICAgICAgICBzZWxmID0gc3BsaXRTdHJpbmcgJiYgX3RvU3RyaW5nKHRoaXMpID09ICJbb2JqZWN0IFN0cmluZ10iID8KICAgICAgICAgICAgICAgIHRoaXMuc3BsaXQoIiIpIDoKICAgICAgICAgICAgICAgIG9iamVjdCwKICAgICAgICAgICAgbGVuZ3RoID0gc2VsZi5sZW5ndGggPj4+IDA7CiAgICAgICAgaWYgKF90b1N0cmluZyhmdW4pICE9ICJbb2JqZWN0IEZ1bmN0aW9uXSIpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihmdW4gKyAiIGlzIG5vdCBhIGZ1bmN0aW9uIik7CiAgICAgICAgfQogICAgICAgIGlmICghbGVuZ3RoICYmIGFyZ3VtZW50cy5sZW5ndGggPT0gMSkgewogICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCJyZWR1Y2VSaWdodCBvZiBlbXB0eSBhcnJheSB3aXRoIG5vIGluaXRpYWwgdmFsdWUiKTsKICAgICAgICB9CgogICAgICAgIHZhciByZXN1bHQsIGkgPSBsZW5ndGggLSAxOwogICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDIpIHsKICAgICAgICAgICAgcmVzdWx0ID0gYXJndW1lbnRzWzFdOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGRvIHsKICAgICAgICAgICAgICAgIGlmIChpIGluIHNlbGYpIHsKICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBzZWxmW2ktLV07CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoLS1pIDwgMCkgewogICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoInJlZHVjZVJpZ2h0IG9mIGVtcHR5IGFycmF5IHdpdGggbm8gaW5pdGlhbCB2YWx1ZSIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IHdoaWxlICh0cnVlKTsKICAgICAgICB9CgogICAgICAgIGRvIHsKICAgICAgICAgICAgaWYgKGkgaW4gdGhpcykgewogICAgICAgICAgICAgICAgcmVzdWx0ID0gZnVuLmNhbGwodm9pZCAwLCByZXN1bHQsIHNlbGZbaV0sIGksIG9iamVjdCk7CiAgICAgICAgICAgIH0KICAgICAgICB9IHdoaWxlIChpLS0pOwoKICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgfTsKfQppZiAoIUFycmF5LnByb3RvdHlwZS5pbmRleE9mIHx8IChbMCwgMV0uaW5kZXhPZigxLCAyKSAhPSAtMSkpIHsKICAgIEFycmF5LnByb3RvdHlwZS5pbmRleE9mID0gZnVuY3Rpb24gaW5kZXhPZihzb3VnaHQgLyosIGZyb21JbmRleCAqLyApIHsKICAgICAgICB2YXIgc2VsZiA9IHNwbGl0U3RyaW5nICYmIF90b1N0cmluZyh0aGlzKSA9PSAiW29iamVjdCBTdHJpbmddIiA/CiAgICAgICAgICAgICAgICB0aGlzLnNwbGl0KCIiKSA6CiAgICAgICAgICAgICAgICB0b09iamVjdCh0aGlzKSwKICAgICAgICAgICAgbGVuZ3RoID0gc2VsZi5sZW5ndGggPj4+IDA7CgogICAgICAgIGlmICghbGVuZ3RoKSB7CiAgICAgICAgICAgIHJldHVybiAtMTsKICAgICAgICB9CgogICAgICAgIHZhciBpID0gMDsKICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHsKICAgICAgICAgICAgaSA9IHRvSW50ZWdlcihhcmd1bWVudHNbMV0pOwogICAgICAgIH0KICAgICAgICBpID0gaSA+PSAwID8gaSA6IE1hdGgubWF4KDAsIGxlbmd0aCArIGkpOwogICAgICAgIGZvciAoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgaWYgKGkgaW4gc2VsZiAmJiBzZWxmW2ldID09PSBzb3VnaHQpIHsKICAgICAgICAgICAgICAgIHJldHVybiBpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiAtMTsKICAgIH07Cn0KaWYgKCFBcnJheS5wcm90b3R5cGUubGFzdEluZGV4T2YgfHwgKFswLCAxXS5sYXN0SW5kZXhPZigwLCAtMykgIT0gLTEpKSB7CiAgICBBcnJheS5wcm90b3R5cGUubGFzdEluZGV4T2YgPSBmdW5jdGlvbiBsYXN0SW5kZXhPZihzb3VnaHQgLyosIGZyb21JbmRleCAqLykgewogICAgICAgIHZhciBzZWxmID0gc3BsaXRTdHJpbmcgJiYgX3RvU3RyaW5nKHRoaXMpID09ICJbb2JqZWN0IFN0cmluZ10iID8KICAgICAgICAgICAgICAgIHRoaXMuc3BsaXQoIiIpIDoKICAgICAgICAgICAgICAgIHRvT2JqZWN0KHRoaXMpLAogICAgICAgICAgICBsZW5ndGggPSBzZWxmLmxlbmd0aCA+Pj4gMDsKCiAgICAgICAgaWYgKCFsZW5ndGgpIHsKICAgICAgICAgICAgcmV0dXJuIC0xOwogICAgICAgIH0KICAgICAgICB2YXIgaSA9IGxlbmd0aCAtIDE7CiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7CiAgICAgICAgICAgIGkgPSBNYXRoLm1pbihpLCB0b0ludGVnZXIoYXJndW1lbnRzWzFdKSk7CiAgICAgICAgfQogICAgICAgIGkgPSBpID49IDAgPyBpIDogbGVuZ3RoIC0gTWF0aC5hYnMoaSk7CiAgICAgICAgZm9yICg7IGkgPj0gMDsgaS0tKSB7CiAgICAgICAgICAgIGlmIChpIGluIHNlbGYgJiYgc291Z2h0ID09PSBzZWxmW2ldKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gaTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gLTE7CiAgICB9Owp9CmlmICghT2JqZWN0LmdldFByb3RvdHlwZU9mKSB7CiAgICBPYmplY3QuZ2V0UHJvdG90eXBlT2YgPSBmdW5jdGlvbiBnZXRQcm90b3R5cGVPZihvYmplY3QpIHsKICAgICAgICByZXR1cm4gb2JqZWN0Ll9fcHJvdG9fXyB8fCAoCiAgICAgICAgICAgIG9iamVjdC5jb25zdHJ1Y3RvciA/CiAgICAgICAgICAgIG9iamVjdC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUgOgogICAgICAgICAgICBwcm90b3R5cGVPZk9iamVjdAogICAgICAgICk7CiAgICB9Owp9CmlmICghT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcikgewogICAgdmFyIEVSUl9OT05fT0JKRUNUID0gIk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgY2FsbGVkIG9uIGEgIiArCiAgICAgICAgICAgICAgICAgICAgICAgICAibm9uLW9iamVjdDogIjsKICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBwcm9wZXJ0eSkgewogICAgICAgIGlmICgodHlwZW9mIG9iamVjdCAhPSAib2JqZWN0IiAmJiB0eXBlb2Ygb2JqZWN0ICE9ICJmdW5jdGlvbiIpIHx8IG9iamVjdCA9PT0gbnVsbCkKICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihFUlJfTk9OX09CSkVDVCArIG9iamVjdCk7CiAgICAgICAgaWYgKCFvd25zKG9iamVjdCwgcHJvcGVydHkpKQogICAgICAgICAgICByZXR1cm47CgogICAgICAgIHZhciBkZXNjcmlwdG9yLCBnZXR0ZXIsIHNldHRlcjsKICAgICAgICBkZXNjcmlwdG9yID0gIHsgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH07CiAgICAgICAgaWYgKHN1cHBvcnRzQWNjZXNzb3JzKSB7CiAgICAgICAgICAgIHZhciBwcm90b3R5cGUgPSBvYmplY3QuX19wcm90b19fOwogICAgICAgICAgICBvYmplY3QuX19wcm90b19fID0gcHJvdG90eXBlT2ZPYmplY3Q7CgogICAgICAgICAgICB2YXIgZ2V0dGVyID0gbG9va3VwR2V0dGVyKG9iamVjdCwgcHJvcGVydHkpOwogICAgICAgICAgICB2YXIgc2V0dGVyID0gbG9va3VwU2V0dGVyKG9iamVjdCwgcHJvcGVydHkpOwogICAgICAgICAgICBvYmplY3QuX19wcm90b19fID0gcHJvdG90eXBlOwoKICAgICAgICAgICAgaWYgKGdldHRlciB8fCBzZXR0ZXIpIHsKICAgICAgICAgICAgICAgIGlmIChnZXR0ZXIpIGRlc2NyaXB0b3IuZ2V0ID0gZ2V0dGVyOwogICAgICAgICAgICAgICAgaWYgKHNldHRlcikgZGVzY3JpcHRvci5zZXQgPSBzZXR0ZXI7CiAgICAgICAgICAgICAgICByZXR1cm4gZGVzY3JpcHRvcjsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBkZXNjcmlwdG9yLnZhbHVlID0gb2JqZWN0W3Byb3BlcnR5XTsKICAgICAgICByZXR1cm4gZGVzY3JpcHRvcjsKICAgIH07Cn0KaWYgKCFPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcykgewogICAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eU5hbWVzKG9iamVjdCkgewogICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhvYmplY3QpOwogICAgfTsKfQppZiAoIU9iamVjdC5jcmVhdGUpIHsKICAgIHZhciBjcmVhdGVFbXB0eTsKICAgIGlmIChPYmplY3QucHJvdG90eXBlLl9fcHJvdG9fXyA9PT0gbnVsbCkgewogICAgICAgIGNyZWF0ZUVtcHR5ID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4geyAiX19wcm90b19fIjogbnVsbCB9OwogICAgICAgIH07CiAgICB9IGVsc2UgewogICAgICAgIGNyZWF0ZUVtcHR5ID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgZW1wdHkgPSB7fTsKICAgICAgICAgICAgZm9yICh2YXIgaSBpbiBlbXB0eSkKICAgICAgICAgICAgICAgIGVtcHR5W2ldID0gbnVsbDsKICAgICAgICAgICAgZW1wdHkuY29uc3RydWN0b3IgPQogICAgICAgICAgICBlbXB0eS5oYXNPd25Qcm9wZXJ0eSA9CiAgICAgICAgICAgIGVtcHR5LnByb3BlcnR5SXNFbnVtZXJhYmxlID0KICAgICAgICAgICAgZW1wdHkuaXNQcm90b3R5cGVPZiA9CiAgICAgICAgICAgIGVtcHR5LnRvTG9jYWxlU3RyaW5nID0KICAgICAgICAgICAgZW1wdHkudG9TdHJpbmcgPQogICAgICAgICAgICBlbXB0eS52YWx1ZU9mID0KICAgICAgICAgICAgZW1wdHkuX19wcm90b19fID0gbnVsbDsKICAgICAgICAgICAgcmV0dXJuIGVtcHR5OwogICAgICAgIH0KICAgIH0KCiAgICBPYmplY3QuY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKHByb3RvdHlwZSwgcHJvcGVydGllcykgewogICAgICAgIHZhciBvYmplY3Q7CiAgICAgICAgaWYgKHByb3RvdHlwZSA9PT0gbnVsbCkgewogICAgICAgICAgICBvYmplY3QgPSBjcmVhdGVFbXB0eSgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGlmICh0eXBlb2YgcHJvdG90eXBlICE9ICJvYmplY3QiKQogICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigidHlwZW9mIHByb3RvdHlwZVsiKyh0eXBlb2YgcHJvdG90eXBlKSsiXSAhPSAnb2JqZWN0JyIpOwogICAgICAgICAgICB2YXIgVHlwZSA9IGZ1bmN0aW9uICgpIHt9OwogICAgICAgICAgICBUeXBlLnByb3RvdHlwZSA9IHByb3RvdHlwZTsKICAgICAgICAgICAgb2JqZWN0ID0gbmV3IFR5cGUoKTsKICAgICAgICAgICAgb2JqZWN0Ll9fcHJvdG9fXyA9IHByb3RvdHlwZTsKICAgICAgICB9CiAgICAgICAgaWYgKHByb3BlcnRpZXMgIT09IHZvaWQgMCkKICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMob2JqZWN0LCBwcm9wZXJ0aWVzKTsKICAgICAgICByZXR1cm4gb2JqZWN0OwogICAgfTsKfQoKZnVuY3Rpb24gZG9lc0RlZmluZVByb3BlcnR5V29yayhvYmplY3QpIHsKICAgIHRyeSB7CiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iamVjdCwgInNlbnRpbmVsIiwge30pOwogICAgICAgIHJldHVybiAic2VudGluZWwiIGluIG9iamVjdDsKICAgIH0gY2F0Y2ggKGV4Y2VwdGlvbikgewogICAgfQp9CmlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsKICAgIHZhciBkZWZpbmVQcm9wZXJ0eVdvcmtzT25PYmplY3QgPSBkb2VzRGVmaW5lUHJvcGVydHlXb3JrKHt9KTsKICAgIHZhciBkZWZpbmVQcm9wZXJ0eVdvcmtzT25Eb20gPSB0eXBlb2YgZG9jdW1lbnQgPT0gInVuZGVmaW5lZCIgfHwKICAgICAgICBkb2VzRGVmaW5lUHJvcGVydHlXb3JrKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpKTsKICAgIGlmICghZGVmaW5lUHJvcGVydHlXb3Jrc09uT2JqZWN0IHx8ICFkZWZpbmVQcm9wZXJ0eVdvcmtzT25Eb20pIHsKICAgICAgICB2YXIgZGVmaW5lUHJvcGVydHlGYWxsYmFjayA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTsKICAgIH0KfQoKaWYgKCFPYmplY3QuZGVmaW5lUHJvcGVydHkgfHwgZGVmaW5lUHJvcGVydHlGYWxsYmFjaykgewogICAgdmFyIEVSUl9OT05fT0JKRUNUX0RFU0NSSVBUT1IgPSAiUHJvcGVydHkgZGVzY3JpcHRpb24gbXVzdCBiZSBhbiBvYmplY3Q6ICI7CiAgICB2YXIgRVJSX05PTl9PQkpFQ1RfVEFSR0VUID0gIk9iamVjdC5kZWZpbmVQcm9wZXJ0eSBjYWxsZWQgb24gbm9uLW9iamVjdDogIgogICAgdmFyIEVSUl9BQ0NFU1NPUlNfTk9UX1NVUFBPUlRFRCA9ICJnZXR0ZXJzICYgc2V0dGVycyBjYW4gbm90IGJlIGRlZmluZWQgIiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm9uIHRoaXMgamF2YXNjcmlwdCBlbmdpbmUiOwoKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KG9iamVjdCwgcHJvcGVydHksIGRlc2NyaXB0b3IpIHsKICAgICAgICBpZiAoKHR5cGVvZiBvYmplY3QgIT0gIm9iamVjdCIgJiYgdHlwZW9mIG9iamVjdCAhPSAiZnVuY3Rpb24iKSB8fCBvYmplY3QgPT09IG51bGwpCiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRVJSX05PTl9PQkpFQ1RfVEFSR0VUICsgb2JqZWN0KTsKICAgICAgICBpZiAoKHR5cGVvZiBkZXNjcmlwdG9yICE9ICJvYmplY3QiICYmIHR5cGVvZiBkZXNjcmlwdG9yICE9ICJmdW5jdGlvbiIpIHx8IGRlc2NyaXB0b3IgPT09IG51bGwpCiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRVJSX05PTl9PQkpFQ1RfREVTQ1JJUFRPUiArIGRlc2NyaXB0b3IpOwogICAgICAgIGlmIChkZWZpbmVQcm9wZXJ0eUZhbGxiYWNrKSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZGVmaW5lUHJvcGVydHlGYWxsYmFjay5jYWxsKE9iamVjdCwgb2JqZWN0LCBwcm9wZXJ0eSwgZGVzY3JpcHRvcik7CiAgICAgICAgICAgIH0gY2F0Y2ggKGV4Y2VwdGlvbikgewogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmIChvd25zKGRlc2NyaXB0b3IsICJ2YWx1ZSIpKSB7CgogICAgICAgICAgICBpZiAoc3VwcG9ydHNBY2Nlc3NvcnMgJiYgKGxvb2t1cEdldHRlcihvYmplY3QsIHByb3BlcnR5KSB8fAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvb2t1cFNldHRlcihvYmplY3QsIHByb3BlcnR5KSkpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHZhciBwcm90b3R5cGUgPSBvYmplY3QuX19wcm90b19fOwogICAgICAgICAgICAgICAgb2JqZWN0Ll9fcHJvdG9fXyA9IHByb3RvdHlwZU9mT2JqZWN0OwogICAgICAgICAgICAgICAgZGVsZXRlIG9iamVjdFtwcm9wZXJ0eV07CiAgICAgICAgICAgICAgICBvYmplY3RbcHJvcGVydHldID0gZGVzY3JpcHRvci52YWx1ZTsKICAgICAgICAgICAgICAgIG9iamVjdC5fX3Byb3RvX18gPSBwcm90b3R5cGU7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBvYmplY3RbcHJvcGVydHldID0gZGVzY3JpcHRvci52YWx1ZTsKICAgICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGlmICghc3VwcG9ydHNBY2Nlc3NvcnMpCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEVSUl9BQ0NFU1NPUlNfTk9UX1NVUFBPUlRFRCk7CiAgICAgICAgICAgIGlmIChvd25zKGRlc2NyaXB0b3IsICJnZXQiKSkKICAgICAgICAgICAgICAgIGRlZmluZUdldHRlcihvYmplY3QsIHByb3BlcnR5LCBkZXNjcmlwdG9yLmdldCk7CiAgICAgICAgICAgIGlmIChvd25zKGRlc2NyaXB0b3IsICJzZXQiKSkKICAgICAgICAgICAgICAgIGRlZmluZVNldHRlcihvYmplY3QsIHByb3BlcnR5LCBkZXNjcmlwdG9yLnNldCk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gb2JqZWN0OwogICAgfTsKfQppZiAoIU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKSB7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXMob2JqZWN0LCBwcm9wZXJ0aWVzKSB7CiAgICAgICAgZm9yICh2YXIgcHJvcGVydHkgaW4gcHJvcGVydGllcykgewogICAgICAgICAgICBpZiAob3ducyhwcm9wZXJ0aWVzLCBwcm9wZXJ0eSkpCiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqZWN0LCBwcm9wZXJ0eSwgcHJvcGVydGllc1twcm9wZXJ0eV0pOwogICAgICAgIH0KICAgICAgICByZXR1cm4gb2JqZWN0OwogICAgfTsKfQppZiAoIU9iamVjdC5zZWFsKSB7CiAgICBPYmplY3Quc2VhbCA9IGZ1bmN0aW9uIHNlYWwob2JqZWN0KSB7CiAgICAgICAgcmV0dXJuIG9iamVjdDsKICAgIH07Cn0KaWYgKCFPYmplY3QuZnJlZXplKSB7CiAgICBPYmplY3QuZnJlZXplID0gZnVuY3Rpb24gZnJlZXplKG9iamVjdCkgewogICAgICAgIHJldHVybiBvYmplY3Q7CiAgICB9Owp9CnRyeSB7CiAgICBPYmplY3QuZnJlZXplKGZ1bmN0aW9uICgpIHt9KTsKfSBjYXRjaCAoZXhjZXB0aW9uKSB7CiAgICBPYmplY3QuZnJlZXplID0gKGZ1bmN0aW9uIGZyZWV6ZShmcmVlemVPYmplY3QpIHsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gZnJlZXplKG9iamVjdCkgewogICAgICAgICAgICBpZiAodHlwZW9mIG9iamVjdCA9PSAiZnVuY3Rpb24iKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0OwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIGZyZWV6ZU9iamVjdChvYmplY3QpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgIH0pKE9iamVjdC5mcmVlemUpOwp9CmlmICghT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zKSB7CiAgICBPYmplY3QucHJldmVudEV4dGVuc2lvbnMgPSBmdW5jdGlvbiBwcmV2ZW50RXh0ZW5zaW9ucyhvYmplY3QpIHsKICAgICAgICByZXR1cm4gb2JqZWN0OwogICAgfTsKfQppZiAoIU9iamVjdC5pc1NlYWxlZCkgewogICAgT2JqZWN0LmlzU2VhbGVkID0gZnVuY3Rpb24gaXNTZWFsZWQob2JqZWN0KSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfTsKfQppZiAoIU9iamVjdC5pc0Zyb3plbikgewogICAgT2JqZWN0LmlzRnJvemVuID0gZnVuY3Rpb24gaXNGcm96ZW4ob2JqZWN0KSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfTsKfQppZiAoIU9iamVjdC5pc0V4dGVuc2libGUpIHsKICAgIE9iamVjdC5pc0V4dGVuc2libGUgPSBmdW5jdGlvbiBpc0V4dGVuc2libGUob2JqZWN0KSB7CiAgICAgICAgaWYgKE9iamVjdChvYmplY3QpID09PSBvYmplY3QpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpOyAvLyBUT0RPIG1lc3NhZ2UKICAgICAgICB9CiAgICAgICAgdmFyIG5hbWUgPSAnJzsKICAgICAgICB3aGlsZSAob3ducyhvYmplY3QsIG5hbWUpKSB7CiAgICAgICAgICAgIG5hbWUgKz0gJz8nOwogICAgICAgIH0KICAgICAgICBvYmplY3RbbmFtZV0gPSB0cnVlOwogICAgICAgIHZhciByZXR1cm5WYWx1ZSA9IG93bnMob2JqZWN0LCBuYW1lKTsKICAgICAgICBkZWxldGUgb2JqZWN0W25hbWVdOwogICAgICAgIHJldHVybiByZXR1cm5WYWx1ZTsKICAgIH07Cn0KaWYgKCFPYmplY3Qua2V5cykgewogICAgdmFyIGhhc0RvbnRFbnVtQnVnID0gdHJ1ZSwKICAgICAgICBkb250RW51bXMgPSBbCiAgICAgICAgICAgICJ0b1N0cmluZyIsCiAgICAgICAgICAgICJ0b0xvY2FsZVN0cmluZyIsCiAgICAgICAgICAgICJ2YWx1ZU9mIiwKICAgICAgICAgICAgImhhc093blByb3BlcnR5IiwKICAgICAgICAgICAgImlzUHJvdG90eXBlT2YiLAogICAgICAgICAgICAicHJvcGVydHlJc0VudW1lcmFibGUiLAogICAgICAgICAgICAiY29uc3RydWN0b3IiCiAgICAgICAgXSwKICAgICAgICBkb250RW51bXNMZW5ndGggPSBkb250RW51bXMubGVuZ3RoOwoKICAgIGZvciAodmFyIGtleSBpbiB7InRvU3RyaW5nIjogbnVsbH0pIHsKICAgICAgICBoYXNEb250RW51bUJ1ZyA9IGZhbHNlOwogICAgfQoKICAgIE9iamVjdC5rZXlzID0gZnVuY3Rpb24ga2V5cyhvYmplY3QpIHsKCiAgICAgICAgaWYgKAogICAgICAgICAgICAodHlwZW9mIG9iamVjdCAhPSAib2JqZWN0IiAmJiB0eXBlb2Ygb2JqZWN0ICE9ICJmdW5jdGlvbiIpIHx8CiAgICAgICAgICAgIG9iamVjdCA9PT0gbnVsbAogICAgICAgICkgewogICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3Qua2V5cyBjYWxsZWQgb24gYSBub24tb2JqZWN0Iik7CiAgICAgICAgfQoKICAgICAgICB2YXIga2V5cyA9IFtdOwogICAgICAgIGZvciAodmFyIG5hbWUgaW4gb2JqZWN0KSB7CiAgICAgICAgICAgIGlmIChvd25zKG9iamVjdCwgbmFtZSkpIHsKICAgICAgICAgICAgICAgIGtleXMucHVzaChuYW1lKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKGhhc0RvbnRFbnVtQnVnKSB7CiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGRvbnRFbnVtc0xlbmd0aDsgaSA8IGlpOyBpKyspIHsKICAgICAgICAgICAgICAgIHZhciBkb250RW51bSA9IGRvbnRFbnVtc1tpXTsKICAgICAgICAgICAgICAgIGlmIChvd25zKG9iamVjdCwgZG9udEVudW0pKSB7CiAgICAgICAgICAgICAgICAgICAga2V5cy5wdXNoKGRvbnRFbnVtKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4ga2V5czsKICAgIH07Cgp9CmlmICghRGF0ZS5ub3cpIHsKICAgIERhdGUubm93ID0gZnVuY3Rpb24gbm93KCkgewogICAgICAgIHJldHVybiBuZXcgRGF0ZSgpLmdldFRpbWUoKTsKICAgIH07Cn0KdmFyIHdzID0gIlx4MDlceDBBXHgwQlx4MENceDBEXHgyMFx4QTBcdTE2ODBcdTIwMDBcdTIwMDFcdTIwMDJcdTIwMDMiICsKICAgICJcdTIwMDRcdTIwMDVcdTIwMDZcdTIwMDdcdTIwMDhcdTIwMDlcdTIwMEFcdTIwMkZcdTIwNUZcdTMwMDBcdTIwMjgiICsKICAgICJcdTIwMjlcdUZFRkYiOwppZiAoIVN0cmluZy5wcm90b3R5cGUudHJpbSkgewogICAgd3MgPSAiWyIgKyB3cyArICJdIjsKICAgIHZhciB0cmltQmVnaW5SZWdleHAgPSBuZXcgUmVnRXhwKCJeIiArIHdzICsgd3MgKyAiKiIpLAogICAgICAgIHRyaW1FbmRSZWdleHAgPSBuZXcgUmVnRXhwKHdzICsgd3MgKyAiKiQiKTsKICAgIFN0cmluZy5wcm90b3R5cGUudHJpbSA9IGZ1bmN0aW9uIHRyaW0oKSB7CiAgICAgICAgcmV0dXJuIFN0cmluZyh0aGlzKS5yZXBsYWNlKHRyaW1CZWdpblJlZ2V4cCwgIiIpLnJlcGxhY2UodHJpbUVuZFJlZ2V4cCwgIiIpOwogICAgfTsKfQoKZnVuY3Rpb24gdG9JbnRlZ2VyKG4pIHsKICAgIG4gPSArbjsKICAgIGlmIChuICE9PSBuKSB7IC8vIGlzTmFOCiAgICAgICAgbiA9IDA7CiAgICB9IGVsc2UgaWYgKG4gIT09IDAgJiYgbiAhPT0gKDEvMCkgJiYgbiAhPT0gLSgxLzApKSB7CiAgICAgICAgbiA9IChuID4gMCB8fCAtMSkgKiBNYXRoLmZsb29yKE1hdGguYWJzKG4pKTsKICAgIH0KICAgIHJldHVybiBuOwp9CgpmdW5jdGlvbiBpc1ByaW1pdGl2ZShpbnB1dCkgewogICAgdmFyIHR5cGUgPSB0eXBlb2YgaW5wdXQ7CiAgICByZXR1cm4gKAogICAgICAgIGlucHV0ID09PSBudWxsIHx8CiAgICAgICAgdHlwZSA9PT0gInVuZGVmaW5lZCIgfHwKICAgICAgICB0eXBlID09PSAiYm9vbGVhbiIgfHwKICAgICAgICB0eXBlID09PSAibnVtYmVyIiB8fAogICAgICAgIHR5cGUgPT09ICJzdHJpbmciCiAgICApOwp9CgpmdW5jdGlvbiB0b1ByaW1pdGl2ZShpbnB1dCkgewogICAgdmFyIHZhbCwgdmFsdWVPZiwgdG9TdHJpbmc7CiAgICBpZiAoaXNQcmltaXRpdmUoaW5wdXQpKSB7CiAgICAgICAgcmV0dXJuIGlucHV0OwogICAgfQogICAgdmFsdWVPZiA9IGlucHV0LnZhbHVlT2Y7CiAgICBpZiAodHlwZW9mIHZhbHVlT2YgPT09ICJmdW5jdGlvbiIpIHsKICAgICAgICB2YWwgPSB2YWx1ZU9mLmNhbGwoaW5wdXQpOwogICAgICAgIGlmIChpc1ByaW1pdGl2ZSh2YWwpKSB7CiAgICAgICAgICAgIHJldHVybiB2YWw7CiAgICAgICAgfQogICAgfQogICAgdG9TdHJpbmcgPSBpbnB1dC50b1N0cmluZzsKICAgIGlmICh0eXBlb2YgdG9TdHJpbmcgPT09ICJmdW5jdGlvbiIpIHsKICAgICAgICB2YWwgPSB0b1N0cmluZy5jYWxsKGlucHV0KTsKICAgICAgICBpZiAoaXNQcmltaXRpdmUodmFsKSkgewogICAgICAgICAgICByZXR1cm4gdmFsOwogICAgICAgIH0KICAgIH0KICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTsKfQp2YXIgdG9PYmplY3QgPSBmdW5jdGlvbiAobykgewogICAgaWYgKG8gPT0gbnVsbCkgeyAvLyB0aGlzIG1hdGNoZXMgYm90aCBudWxsIGFuZCB1bmRlZmluZWQKICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCJjYW4ndCBjb252ZXJ0ICIrbysiIHRvIG9iamVjdCIpOwogICAgfQogICAgcmV0dXJuIE9iamVjdChvKTsKfTsKCn0pOwo="},function(e,t,n){
/*!
 * vanilla-picker v2.10.1
 * https://vanilla-picker.js.org
 *
 * Copyright 2017-2019 Andreas Borgen (https://github.com/Sphinxxxx), Adam Brooks (https://github.com/dissimulate)
 * Released under the ISC license.
 */
(function(t,n){e.exports=n()})(0,(function(){"use strict";var e=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},t=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),n=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0)if(n.push(a.value),t&&n.length===t)break}catch(l){i=!0,o=l}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();String.prototype.startsWith=String.prototype.startsWith||function(e){return 0===this.indexOf(e)},String.prototype.padStart=String.prototype.padStart||function(e,t){var n=this;while(n.length<e)n=t+n;return n};var r={cb:"0f8ff",tqw:"aebd7",q:"-ffff",qmrn:"7fffd4",zr:"0ffff",bg:"5f5dc",bsq:"e4c4",bck:"---",nch:"ebcd",b:"--ff",bvt:"8a2be2",brwn:"a52a2a",brw:"deb887",ctb:"5f9ea0",hrt:"7fff-",chcT:"d2691e",cr:"7f50",rnw:"6495ed",crns:"8dc",crms:"dc143c",cn:"-ffff",Db:"--8b",Dcn:"-8b8b",Dgnr:"b8860b",Dgr:"a9a9a9",Dgrn:"-64-",Dkhk:"bdb76b",Dmgn:"8b-8b",Dvgr:"556b2f",Drng:"8c-",Drch:"9932cc",Dr:"8b--",Dsmn:"e9967a",Dsgr:"8fbc8f",DsTb:"483d8b",DsTg:"2f4f4f",Dtrq:"-ced1",Dvt:"94-d3",ppnk:"1493",pskb:"-bfff",mgr:"696969",grb:"1e90ff",rbrc:"b22222",rwht:"af0",stg:"228b22",chs:"-ff",gnsb:"dcdcdc",st:"8f8ff",g:"d7-",gnr:"daa520",gr:"808080",grn:"-8-0",grnw:"adff2f",hnw:"0fff0",htpn:"69b4",nnr:"cd5c5c",ng:"4b-82",vr:"0",khk:"0e68c",vnr:"e6e6fa",nrb:"0f5",wngr:"7cfc-",mnch:"acd",Lb:"add8e6",Lcr:"08080",Lcn:"e0ffff",Lgnr:"afad2",Lgr:"d3d3d3",Lgrn:"90ee90",Lpnk:"b6c1",Lsmn:"a07a",Lsgr:"20b2aa",Lskb:"87cefa",LsTg:"778899",Lstb:"b0c4de",Lw:"e0",m:"-ff-",mgrn:"32cd32",nn:"af0e6",mgnt:"-ff",mrn:"8--0",mqm:"66cdaa",mmb:"--cd",mmrc:"ba55d3",mmpr:"9370db",msg:"3cb371",mmsT:"7b68ee","":"-fa9a",mtr:"48d1cc",mmvt:"c71585",mnLb:"191970",ntc:"5fffa",mstr:"e4e1",mccs:"e4b5",vjw:"dead",nv:"--80",c:"df5e6",v:"808-0",vrb:"6b8e23",rng:"a5-",rngr:"45-",rch:"da70d6",pgnr:"eee8aa",pgrn:"98fb98",ptrq:"afeeee",pvtr:"db7093",ppwh:"efd5",pchp:"dab9",pr:"cd853f",pnk:"c0cb",pm:"dda0dd",pwrb:"b0e0e6",prp:"8-080",cc:"663399",r:"--",sbr:"bc8f8f",rb:"4169e1",sbrw:"8b4513",smn:"a8072",nbr:"4a460",sgrn:"2e8b57",ssh:"5ee",snn:"a0522d",svr:"c0c0c0",skb:"87ceeb",sTb:"6a5acd",sTgr:"708090",snw:"afa",n:"-ff7f",stb:"4682b4",tn:"d2b48c",t:"-8080",thst:"d8bfd8",tmT:"6347",trqs:"40e0d0",vt:"ee82ee",whT:"5deb3",wht:"",hts:"5f5f5",w:"-",wgrn:"9acd32"};function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=t>0?e.toFixed(t).replace(/0+$/,"").replace(/\.$/,""):e.toString();return n||"0"}var o=function(){function o(t,r,i,a){e(this,o);var s=this;function l(e){if(e.startsWith("hsl")){var t=e.match(/([\-\d\.e]+)/g).map(Number),r=n(t,4),i=r[0],a=r[1],l=r[2],c=r[3];void 0===c&&(c=1),i/=360,a/=100,l/=100,s.hsla=[i,a,l,c]}else if(e.startsWith("rgb")){var u=e.match(/([\-\d\.e]+)/g).map(Number),d=n(u,4),f=d[0],h=d[1],p=d[2],m=d[3];void 0===m&&(m=1),s.rgba=[f,h,p,m]}else e.startsWith("#")?s.rgba=o.hexToRgb(e):s.rgba=o.nameToRgb(e)||o.hexToRgb(e)}if(void 0===t);else if(Array.isArray(t))this.rgba=t;else if(void 0===i){var c=t&&""+t;c&&l(c.toLowerCase())}else this.rgba=[t,r,i,void 0===a?1:a]}return t(o,[{key:"printRGB",value:function(e){var t=e?this.rgba:this.rgba.slice(0,3),n=t.map((function(e,t){return i(e,3===t?3:0)}));return e?"rgba("+n+")":"rgb("+n+")"}},{key:"printHSL",value:function(e){var t=[360,100,100,1],n=["","%","%",""],r=e?this.hsla:this.hsla.slice(0,3),o=r.map((function(e,r){return i(e*t[r],3===r?3:1)+n[r]}));return e?"hsla("+o+")":"hsl("+o+")"}},{key:"printHex",value:function(e){var t=this.hex;return e?t:t.substring(0,7)}},{key:"rgba",get:function(){if(this._rgba)return this._rgba;if(!this._hsla)throw new Error("No color is set");return this._rgba=o.hslToRgb(this._hsla)},set:function(e){3===e.length&&(e[3]=1),this._rgba=e,this._hsla=null}},{key:"rgbString",get:function(){return this.printRGB()}},{key:"rgbaString",get:function(){return this.printRGB(!0)}},{key:"hsla",get:function(){if(this._hsla)return this._hsla;if(!this._rgba)throw new Error("No color is set");return this._hsla=o.rgbToHsl(this._rgba)},set:function(e){3===e.length&&(e[3]=1),this._hsla=e,this._rgba=null}},{key:"hslString",get:function(){return this.printHSL()}},{key:"hslaString",get:function(){return this.printHSL(!0)}},{key:"hex",get:function(){var e=this.rgba,t=e.map((function(e,t){return t<3?e.toString(16):Math.round(255*e).toString(16)}));return"#"+t.map((function(e){return e.padStart(2,"0")})).join("")},set:function(e){this.rgba=o.hexToRgb(e)}}],[{key:"hexToRgb",value:function(e){var t=(e.startsWith("#")?e.slice(1):e).replace(/^(\w{3})$/,"$1F").replace(/^(\w)(\w)(\w)(\w)$/,"$1$1$2$2$3$3$4$4").replace(/^(\w{6})$/,"$1FF");if(!t.match(/^([0-9a-fA-F]{8})$/))throw new Error("Unknown hex color; "+e);var n=t.match(/^(\w\w)(\w\w)(\w\w)(\w\w)$/).slice(1).map((function(e){return parseInt(e,16)}));return n[3]=n[3]/255,n}},{key:"nameToRgb",value:function(e){var t=e.toLowerCase().replace("at","T").replace(/[aeiouyldf]/g,"").replace("ght","L").replace("rk","D").slice(-5,4),n=r[t];return void 0===n?n:o.hexToRgb(n.replace(/\-/g,"00").padStart(6,"f"))}},{key:"rgbToHsl",value:function(e){var t=n(e,4),r=t[0],i=t[1],o=t[2],a=t[3];r/=255,i/=255,o/=255;var s=Math.max(r,i,o),l=Math.min(r,i,o),c=void 0,u=void 0,d=(s+l)/2;if(s===l)c=u=0;else{var f=s-l;switch(u=d>.5?f/(2-s-l):f/(s+l),s){case r:c=(i-o)/f+(i<o?6:0);break;case i:c=(o-r)/f+2;break;case o:c=(r-i)/f+4;break}c/=6}return[c,u,d,a]}},{key:"hslToRgb",value:function(e){var t=n(e,4),r=t[0],i=t[1],o=t[2],a=t[3],s=void 0,l=void 0,c=void 0;if(0===i)s=l=c=o;else{var u=function(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e},d=o<.5?o*(1+i):o+i-o*i,f=2*o-d;s=u(f,d,r+1/3),l=u(f,d,r),c=u(f,d,r-1/3)}var h=[255*s,255*l,255*c].map(Math.round);return h[3]=a,h}}]),o}(),a=function(){function n(){e(this,n),this._events=[]}return t(n,[{key:"add",value:function(e,t,n){e.addEventListener(t,n,!1),this._events.push({target:e,type:t,handler:n})}},{key:"remove",value:function(e,t,r){this._events=this._events.filter((function(i){var o=!0;return e&&e!==i.target&&(o=!1),t&&t!==i.type&&(o=!1),r&&r!==i.handler&&(o=!1),o&&n._doRemove(i.target,i.type,i.handler),!o}))}},{key:"destroy",value:function(){this._events.forEach((function(e){return n._doRemove(e.target,e.type,e.handler)})),this._events=[]}}],[{key:"_doRemove",value:function(e,t,n){e.removeEventListener(t,n,!1)}}]),n}();function s(e){var t=document.createElement("div");return t.innerHTML=e,t.firstElementChild}function l(e,t,n){var r=!1;function i(e,t,n){return Math.max(t,Math.min(e,n))}function o(e,o,a){if(a&&(r=!0),r){e.preventDefault();var s=t.getBoundingClientRect(),l=s.width,c=s.height,u=o.clientX,d=o.clientY,f=i(u-s.left,0,l),h=i(d-s.top,0,c);n(f/l,h/c)}}function a(e,t){var n=void 0===e.buttons?e.which:e.buttons;1===n?o(e,e,t):r=!1}function s(e,t){1===e.touches.length?o(e,e.touches[0],t):r=!1}e.add(t,"mousedown",(function(e){a(e,!0)})),e.add(t,"touchstart",(function(e){s(e,!0)})),e.add(window,"mousemove",a),e.add(t,"touchmove",s),e.add(window,"mouseup",(function(e){r=!1})),e.add(t,"touchend",(function(e){r=!1})),e.add(t,"touchcancel",(function(e){r=!1}))}var c="url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='2' height='2'%3E%3Cpath d='M1,0H0V1H2V2H1' fill='lightgrey'/%3E%3C/svg%3E\")",u=360,d="keydown",f="mousedown",h="focusin";function p(e,t){return(t||document).querySelector(e)}function m(e){e.preventDefault(),e.stopPropagation()}function g(e,t,n,r,i){e.add(t,d,(function(e){n.indexOf(e.key)>=0&&(i&&m(e),r(e))}))}var v=document.createElement("style");v.textContent=".picker_wrapper.no_alpha .picker_alpha{display:none}.picker_wrapper.no_editor .picker_editor{position:absolute;z-index:-1;opacity:0}.picker_wrapper.no_cancel .picker_cancel{display:none}.layout_default.picker_wrapper{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-flow:row wrap;-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:stretch;align-items:stretch;font-size:10px;width:25em;padding:.5em}.layout_default.picker_wrapper input,.layout_default.picker_wrapper button{font-size:1rem}.layout_default.picker_wrapper>*{margin:.5em}.layout_default.picker_wrapper::before{content:'';display:block;width:100%;height:0;-webkit-box-ordinal-group:2;order:1}.layout_default .picker_slider,.layout_default .picker_selector{padding:1em}.layout_default .picker_hue{width:100%}.layout_default .picker_sl{-webkit-box-flex:1;flex:1 1 auto}.layout_default .picker_sl::before{content:'';display:block;padding-bottom:100%}.layout_default .picker_editor{-webkit-box-ordinal-group:2;order:1;width:6.5rem}.layout_default .picker_editor input{width:100%;height:100%}.layout_default .picker_sample{-webkit-box-ordinal-group:2;order:1;-webkit-box-flex:1;flex:1 1 auto}.layout_default .picker_done,.layout_default .picker_cancel{-webkit-box-ordinal-group:2;order:1}.picker_wrapper{box-sizing:border-box;background:#f2f2f2;box-shadow:0 0 0 1px silver;cursor:default;font-family:sans-serif;color:#444;pointer-events:auto}.picker_wrapper:focus{outline:none}.picker_wrapper button,.picker_wrapper input{box-sizing:border-box;border:none;box-shadow:0 0 0 1px silver;outline:none}.picker_wrapper button:focus,.picker_wrapper button:active,.picker_wrapper input:focus,.picker_wrapper input:active{box-shadow:0 0 2px 1px dodgerblue}.picker_wrapper button{padding:.4em .6em;cursor:pointer;background-color:whitesmoke;background-image:-webkit-gradient(linear, left bottom, left top, from(gainsboro), to(transparent));background-image:-webkit-linear-gradient(bottom, gainsboro, transparent);background-image:linear-gradient(0deg, gainsboro, transparent)}.picker_wrapper button:active{background-image:-webkit-gradient(linear, left bottom, left top, from(transparent), to(gainsboro));background-image:-webkit-linear-gradient(bottom, transparent, gainsboro);background-image:linear-gradient(0deg, transparent, gainsboro)}.picker_wrapper button:hover{background-color:white}.picker_selector{position:absolute;z-index:1;display:block;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);border:2px solid white;border-radius:100%;box-shadow:0 0 3px 1px #67b9ff;background:currentColor;cursor:pointer}.picker_slider .picker_selector{border-radius:2px}.picker_hue{position:relative;background-image:-webkit-gradient(linear, left top, right top, from(red), color-stop(yellow), color-stop(lime), color-stop(cyan), color-stop(blue), color-stop(magenta), to(red));background-image:-webkit-linear-gradient(left, red, yellow, lime, cyan, blue, magenta, red);background-image:linear-gradient(90deg, red, yellow, lime, cyan, blue, magenta, red);box-shadow:0 0 0 1px silver}.picker_sl{position:relative;box-shadow:0 0 0 1px silver;background-image:-webkit-gradient(linear, left top, left bottom, from(white), color-stop(50%, rgba(255,255,255,0))),-webkit-gradient(linear, left bottom, left top, from(black), color-stop(50%, rgba(0,0,0,0))),-webkit-gradient(linear, left top, right top, from(gray), to(rgba(128,128,128,0)));background-image:-webkit-linear-gradient(top, white, rgba(255,255,255,0) 50%),-webkit-linear-gradient(bottom, black, rgba(0,0,0,0) 50%),-webkit-linear-gradient(left, gray, rgba(128,128,128,0));background-image:linear-gradient(180deg, white, rgba(255,255,255,0) 50%),linear-gradient(0deg, black, rgba(0,0,0,0) 50%),linear-gradient(90deg, gray, rgba(128,128,128,0))}.picker_alpha,.picker_sample{position:relative;background:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='2' height='2'%3E%3Cpath d='M1,0H0V1H2V2H1' fill='lightgrey'/%3E%3C/svg%3E\") left top/contain white;box-shadow:0 0 0 1px silver}.picker_alpha .picker_selector,.picker_sample .picker_selector{background:none}.picker_editor input{font-family:monospace;padding:.2em .4em}.picker_sample::before{content:'';position:absolute;display:block;width:100%;height:100%;background:currentColor}.picker_arrow{position:absolute;z-index:-1}.picker_wrapper.popup{position:absolute;z-index:2;margin:1.5em}.picker_wrapper.popup,.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{background:#f2f2f2;box-shadow:0 0 10px 1px rgba(0,0,0,0.4)}.picker_wrapper.popup .picker_arrow{width:3em;height:3em;margin:0}.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{content:\"\";display:block;position:absolute;top:0;left:0;z-index:-99}.picker_wrapper.popup .picker_arrow::before{width:100%;height:100%;-webkit-transform:skew(45deg);transform:skew(45deg);-webkit-transform-origin:0 100%;transform-origin:0 100%}.picker_wrapper.popup .picker_arrow::after{width:150%;height:150%;box-shadow:none}.popup.popup_top{bottom:100%;left:0}.popup.popup_top .picker_arrow{bottom:0;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.popup.popup_bottom{top:100%;left:0}.popup.popup_bottom .picker_arrow{top:0;left:0;-webkit-transform:rotate(90deg) scale(1, -1);transform:rotate(90deg) scale(1, -1)}.popup.popup_left{top:0;right:100%}.popup.popup_left .picker_arrow{top:0;right:0;-webkit-transform:scale(-1, 1);transform:scale(-1, 1)}.popup.popup_right{top:0;left:100%}.popup.popup_right .picker_arrow{top:0;left:0}",document.documentElement.firstElementChild.appendChild(v);var b=function(){function n(t){e(this,n),this.settings={popup:"right",layout:"default",alpha:!0,editor:!0,editorFormat:"hex",cancelButton:!1,defaultColor:"#0cf"},this._events=new a,this.onChange=null,this.onDone=null,this.onOpen=null,this.onClose=null,this.setOptions(t)}return t(n,[{key:"setOptions",value:function(e){var t=this;if(e){var n=this.settings;if(e instanceof HTMLElement)n.parent=e;else{n.parent&&e.parent&&n.parent!==e.parent&&(this._events.remove(n.parent),this._popupInited=!1),a(e,n),e.onChange&&(this.onChange=e.onChange),e.onDone&&(this.onDone=e.onDone),e.onOpen&&(this.onOpen=e.onOpen),e.onClose&&(this.onClose=e.onClose);var r=e.color||e.colour;r&&this._setColor(r)}var i=n.parent;if(i&&n.popup&&!this._popupInited){var o=function(e){return t.openHandler(e)};this._events.add(i,"click",o),g(this._events,i,[" ","Spacebar","Enter"],o),this._popupInited=!0}else e.parent&&!n.popup&&this.show()}function a(e,t,n){for(var r in e)n&&n.indexOf(r)>=0||(t[r]=e[r])}}},{key:"openHandler",value:function(e){if(this.show()){e&&e.preventDefault(),this.settings.parent.style.pointerEvents="none";var t=e&&e.type===d?this._domEdit:this.domElement;setTimeout((function(){return t.focus()}),100),this.onOpen&&this.onOpen(this.colour)}}},{key:"closeHandler",value:function(e){var t=e&&e.type,n=!1;if(e)if(t===f||t===h){var r=(this.__containedEvent||0)+100;e.timeStamp>r&&(n=!0)}else m(e),n=!0;else n=!0;n&&this.hide()&&(this.settings.parent.style.pointerEvents="",t!==f&&this.settings.parent.focus(),this.onClose&&this.onClose(this.colour))}},{key:"movePopup",value:function(e,t){this.closeHandler(),this.setOptions(e),t&&this.openHandler()}},{key:"setColor",value:function(e,t){this._setColor(e,{silent:t})}},{key:"_setColor",value:function(e,t){if("string"===typeof e&&(e=e.trim()),e){t=t||{};var n=void 0;try{n=new o(e)}catch(i){if(t.failSilently)return;throw i}if(!this.settings.alpha){var r=n.hsla;r[3]=1,n.hsla=r}this.colour=this.color=n,this._setHSLA(null,null,null,null,t)}}},{key:"setColour",value:function(e,t){this.setColor(e,t)}},{key:"show",value:function(){var e=this.settings.parent;if(!e)return!1;if(this.domElement){var t=this._toggleDOM(!0);return this._setPosition(),t}var n=this.settings.template||'<div class="picker_wrapper" tabindex="-1"><div class="picker_arrow"></div><div class="picker_hue picker_slider"><div class="picker_selector"></div></div><div class="picker_sl"><div class="picker_selector"></div></div><div class="picker_alpha picker_slider"><div class="picker_selector"></div></div><div class="picker_editor"><input aria-label="Type a color name or hex value"/></div><div class="picker_sample"></div><div class="picker_done"><button>Ok</button></div><div class="picker_cancel"><button>Cancel</button></div></div>',r=s(n);return this.domElement=r,this._domH=p(".picker_hue",r),this._domSL=p(".picker_sl",r),this._domA=p(".picker_alpha",r),this._domEdit=p(".picker_editor input",r),this._domSample=p(".picker_sample",r),this._domOkay=p(".picker_done button",r),this._domCancel=p(".picker_cancel button",r),r.classList.add("layout_"+this.settings.layout),this.settings.alpha||r.classList.add("no_alpha"),this.settings.editor||r.classList.add("no_editor"),this.settings.cancelButton||r.classList.add("no_cancel"),this._ifPopup((function(){return r.classList.add("popup")})),this._setPosition(),this.colour?this._updateUI():this._setColor(this.settings.defaultColor),this._bindEvents(),!0}},{key:"hide",value:function(){return this._toggleDOM(!1)}},{key:"destroy",value:function(){this._events.destroy(),this.domElement&&this.settings.parent.removeChild(this.domElement)}},{key:"_bindEvents",value:function(){var e=this,t=this,n=this.domElement,r=this._events;function i(e,t,n){r.add(e,t,n)}i(n,"click",(function(e){return e.preventDefault()})),l(r,this._domH,(function(e,n){return t._setHSLA(e)})),l(r,this._domSL,(function(e,n){return t._setHSLA(null,e,1-n)})),this.settings.alpha&&l(r,this._domA,(function(e,n){return t._setHSLA(null,null,null,1-n)}));var o=this._domEdit;i(o,"input",(function(e){t._setColor(this.value,{fromEditor:!0,failSilently:!0})})),i(o,"focus",(function(e){var t=this;t.selectionStart===t.selectionEnd&&t.select()})),this._ifPopup((function(){var t=function(t){return e.closeHandler(t)};i(window,f,t),i(window,h,t),g(r,n,["Esc","Escape"],t);var o=function(t){e.__containedEvent=t.timeStamp};i(n,f,o),i(n,h,o),i(e._domCancel,"click",t)}));var a=function(t){e._ifPopup((function(){return e.closeHandler(t)})),e.onDone&&e.onDone(e.colour)};i(this._domOkay,"click",a),g(r,n,["Enter"],a)}},{key:"_setPosition",value:function(){var e=this.settings.parent,t=this.domElement;e!==t.parentNode&&e.appendChild(t),this._ifPopup((function(n){"static"===getComputedStyle(e).position&&(e.style.position="relative");var r=!0===n?"popup_right":"popup_"+n;["popup_top","popup_bottom","popup_left","popup_right"].forEach((function(e){e===r?t.classList.add(e):t.classList.remove(e)})),t.classList.add(r)}))}},{key:"_setHSLA",value:function(e,t,n,r,i){i=i||{};var o=this.colour,a=o.hsla;[e,t,n,r].forEach((function(e,t){(e||0===e)&&(a[t]=e)})),o.hsla=a,this._updateUI(i),this.onChange&&!i.silent&&this.onChange(o)}},{key:"_updateUI",value:function(e){if(this.domElement){e=e||{};var t=this.colour,n=t.hsla,r="hsl("+n[0]*u+", 100%, 50%)",i=t.hslString,o=t.hslaString,a=this._domH,s=this._domSL,l=this._domA,d=p(".picker_selector",a),f=p(".picker_selector",s),h=p(".picker_selector",l);w(a,d,n[0]),this._domSL.style.backgroundColor=this._domH.style.color=r,w(s,f,n[1]),x(s,f,1-n[2]),s.style.color=i,x(l,h,1-n[3]);var m=i,g=m.replace("hsl","hsla").replace(")",", 0)"),v="linear-gradient("+[m,g]+")";if(this._domA.style.backgroundImage=v+", "+c,!e.fromEditor){var b=this.settings.editorFormat,y=this.settings.alpha,C=void 0;switch(b){case"rgb":C=t.printRGB(y);break;case"hsl":C=t.printHSL(y);break;default:C=t.printHex(y)}this._domEdit.value=C}this._domSample.style.color=o}function w(e,t,n){t.style.left=100*n+"%"}function x(e,t,n){t.style.top=100*n+"%"}}},{key:"_ifPopup",value:function(e,t){this.settings.parent&&this.settings.popup?e&&e(this.settings.popup):t&&t()}},{key:"_toggleDOM",value:function(e){var t=this.domElement;if(!t)return!1;var n=e?"":"none",r=t.style.display!==n;return r&&(t.style.display=n),r}}],[{key:"StyleElement",get:function(){return v}}]),n}();return b}))},function(e,t){window.ace.define("ace/theme/jsoneditor",["require","exports","module","ace/lib/dom"],(function(e,t,n){t.isDark=!1,t.cssClass="ace-jsoneditor",t.cssText='.ace-jsoneditor .ace_gutter {\nbackground: #ebebeb;\ncolor: #333\n}\n\n.ace-jsoneditor.ace_editor {\nfont-family: "dejavu sans mono", "droid sans mono", consolas, monaco, "lucida console", "courier new", courier, monospace, sans-serif;\nline-height: 1.3;\nbackground-color: #fff;\n}\n.ace-jsoneditor .ace_print-margin {\nwidth: 1px;\nbackground: #e8e8e8\n}\n.ace-jsoneditor .ace_scroller {\nbackground-color: #FFFFFF\n}\n.ace-jsoneditor .ace_text-layer {\ncolor: gray\n}\n.ace-jsoneditor .ace_variable {\ncolor: #1a1a1a\n}\n.ace-jsoneditor .ace_cursor {\nborder-left: 2px solid #000000\n}\n.ace-jsoneditor .ace_overwrite-cursors .ace_cursor {\nborder-left: 0px;\nborder-bottom: 1px solid #000000\n}\n.ace-jsoneditor .ace_marker-layer .ace_selection {\nbackground: lightgray\n}\n.ace-jsoneditor.ace_multiselect .ace_selection.ace_start {\nbox-shadow: 0 0 3px 0px #FFFFFF;\nborder-radius: 2px\n}\n.ace-jsoneditor .ace_marker-layer .ace_step {\nbackground: rgb(255, 255, 0)\n}\n.ace-jsoneditor .ace_marker-layer .ace_bracket {\nmargin: -1px 0 0 -1px;\nborder: 1px solid #BFBFBF\n}\n.ace-jsoneditor .ace_marker-layer .ace_active-line {\nbackground: #FFFBD1\n}\n.ace-jsoneditor .ace_gutter-active-line {\nbackground-color : #dcdcdc\n}\n.ace-jsoneditor .ace_marker-layer .ace_selected-word {\nborder: 1px solid lightgray\n}\n.ace-jsoneditor .ace_invisible {\ncolor: #BFBFBF\n}\n.ace-jsoneditor .ace_keyword,\n.ace-jsoneditor .ace_meta,\n.ace-jsoneditor .ace_support.ace_constant.ace_property-value {\ncolor: #AF956F\n}\n.ace-jsoneditor .ace_keyword.ace_operator {\ncolor: #484848\n}\n.ace-jsoneditor .ace_keyword.ace_other.ace_unit {\ncolor: #96DC5F\n}\n.ace-jsoneditor .ace_constant.ace_language {\ncolor: darkorange\n}\n.ace-jsoneditor .ace_constant.ace_numeric {\ncolor: red\n}\n.ace-jsoneditor .ace_constant.ace_character.ace_entity {\ncolor: #BF78CC\n}\n.ace-jsoneditor .ace_invalid {\ncolor: #FFFFFF;\nbackground-color: #FF002A;\n}\n.ace-jsoneditor .ace_fold {\nbackground-color: #AF956F;\nborder-color: #000000\n}\n.ace-jsoneditor .ace_storage,\n.ace-jsoneditor .ace_support.ace_class,\n.ace-jsoneditor .ace_support.ace_function,\n.ace-jsoneditor .ace_support.ace_other,\n.ace-jsoneditor .ace_support.ace_type {\ncolor: #C52727\n}\n.ace-jsoneditor .ace_string {\ncolor: green\n}\n.ace-jsoneditor .ace_comment {\ncolor: #BCC8BA\n}\n.ace-jsoneditor .ace_entity.ace_name.ace_tag,\n.ace-jsoneditor .ace_entity.ace_other.ace_attribute-name {\ncolor: #606060\n}\n.ace-jsoneditor .ace_markup.ace_underline {\ntext-decoration: underline\n}\n.ace-jsoneditor .ace_indent-guide {\nbackground: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y\n}';var r=e("../lib/dom");r.importCssString(t.cssText,t.cssClass)}))},function(e,t,n){t.tryRequireAjv=function(){try{return n(44)}catch(e){}}},function(e,t,n){"use strict";var r=n(45),i=n(17),o=n(49),a=n(25),s=n(26),l=n(50),c=n(51),u=n(72),d=n(7);e.exports=v,v.prototype.validate=b,v.prototype.compile=y,v.prototype.addSchema=C,v.prototype.addMetaSchema=w,v.prototype.validateSchema=x,v.prototype.getSchema=A,v.prototype.removeSchema=_,v.prototype.addFormat=M,v.prototype.errorsText=B,v.prototype._addSchema=E,v.prototype._compile=O,v.prototype.compileAsync=n(73);var f=n(74);v.prototype.addKeyword=f.add,v.prototype.getKeyword=f.get,v.prototype.removeKeyword=f.remove,v.prototype.validateKeyword=f.validate;var h=n(19);v.ValidationError=h.Validation,v.MissingRefError=h.MissingRef,v.$dataMetaSchema=u;var p="http://json-schema.org/draft-07/schema",m=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],g=["/properties"];function v(e){if(!(this instanceof v))return new v(e);e=this._opts=d.copy(e)||{},V(this),this._schemas={},this._refs={},this._fragments={},this._formats=l(e.format),this._cache=e.cache||new o,this._loadingSchemas={},this._compilations=[],this.RULES=c(),this._getId=R(e),e.loopRequired=e.loopRequired||1/0,"property"==e.errorDataPath&&(e._errorDataPathProperty=!0),void 0===e.serialize&&(e.serialize=s),this._metaOpts=$(this),e.formats&&j(this),e.keywords&&H(this),P(this),"object"==typeof e.meta&&this.addMetaSchema(e.meta),e.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),F(this)}function b(e,t){var n;if("string"==typeof e){if(n=this.getSchema(e),!n)throw new Error('no schema with key or ref "'+e+'"')}else{var r=this._addSchema(e);n=r.validate||this._compile(r)}var i=n(t);return!0!==n.$async&&(this.errors=n.errors),i}function y(e,t){var n=this._addSchema(e,void 0,t);return n.validate||this._compile(n)}function C(e,t,n,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)this.addSchema(e[o],void 0,n,r);return this}var a=this._getId(e);if(void 0!==a&&"string"!=typeof a)throw new Error("schema id must be string");return t=i.normalizeId(t||a),z(this,t),this._schemas[t]=this._addSchema(e,n,r,!0),this}function w(e,t,n){return this.addSchema(e,t,n,!0),this}function x(e,t){var n=e.$schema;if(void 0!==n&&"string"!=typeof n)throw new Error("$schema must be a string");if(n=n||this._opts.defaultMeta||I(this),!n)return this.logger.warn("meta-schema not available"),this.errors=null,!0;var r=this.validate(n,e);if(!r&&t){var i="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(i);this.logger.error(i)}return r}function I(e){var t=e._opts.meta;return e._opts.defaultMeta="object"==typeof t?e._getId(t)||t:e.getSchema(p)?p:void 0,e._opts.defaultMeta}function A(e){var t=S(this,e);switch(typeof t){case"object":return t.validate||this._compile(t);case"string":return this.getSchema(t);case"undefined":return k(this,e)}}function k(e,t){var n=i.schema.call(e,{schema:{}},t);if(n){var o=n.schema,s=n.root,l=n.baseId,c=r.call(e,o,s,void 0,l);return e._fragments[t]=new a({ref:t,fragment:!0,schema:o,root:s,baseId:l,validate:c}),c}}function S(e,t){return t=i.normalizeId(t),e._schemas[t]||e._refs[t]||e._fragments[t]}function _(e){if(e instanceof RegExp)return T(this,this._schemas,e),T(this,this._refs,e),this;switch(typeof e){case"undefined":return T(this,this._schemas),T(this,this._refs),this._cache.clear(),this;case"string":var t=S(this,e);return t&&this._cache.del(t.cacheKey),delete this._schemas[e],delete this._refs[e],this;case"object":var n=this._opts.serialize,r=n?n(e):e;this._cache.del(r);var o=this._getId(e);o&&(o=i.normalizeId(o),delete this._schemas[o],delete this._refs[o])}return this}function T(e,t,n){for(var r in t){var i=t[r];i.meta||n&&!n.test(r)||(e._cache.del(i.cacheKey),delete t[r])}}function E(e,t,n,r){if("object"!=typeof e&&"boolean"!=typeof e)throw new Error("schema should be object or boolean");var o=this._opts.serialize,s=o?o(e):e,l=this._cache.get(s);if(l)return l;r=r||!1!==this._opts.addUsedSchema;var c=i.normalizeId(this._getId(e));c&&r&&z(this,c);var u,d=!1!==this._opts.validateSchema&&!t;d&&!(u=c&&c==i.normalizeId(e.$schema))&&this.validateSchema(e,!0);var f=i.ids.call(this,e),h=new a({id:c,schema:e,localRefs:f,cacheKey:s,meta:n});return"#"!=c[0]&&r&&(this._refs[c]=h),this._cache.put(s,h),d&&u&&this.validateSchema(e,!0),h}function O(e,t){if(e.compiling)return e.validate=o,o.schema=e.schema,o.errors=null,o.root=t||o,!0===e.schema.$async&&(o.$async=!0),o;var n,i;e.compiling=!0,e.meta&&(n=this._opts,this._opts=this._metaOpts);try{i=r.call(this,e.schema,t,e.localRefs)}catch(a){throw delete e.validate,a}finally{e.compiling=!1,e.meta&&(this._opts=n)}return e.validate=i,e.refs=i.refs,e.refVal=i.refVal,e.root=i.root,i;function o(){var t=e.validate,n=t.apply(this,arguments);return o.errors=t.errors,n}}function R(e){switch(e.schemaId){case"auto":return D;case"id":return N;default:return L}}function N(e){return e.$id&&this.logger.warn("schema $id ignored",e.$id),e.id}function L(e){return e.id&&this.logger.warn("schema id ignored",e.id),e.$id}function D(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error("schema $id is different from id");return e.$id||e.id}function B(e,t){if(e=e||this.errors,!e)return"No errors";t=t||{};for(var n=void 0===t.separator?", ":t.separator,r=void 0===t.dataVar?"data":t.dataVar,i="",o=0;o<e.length;o++){var a=e[o];a&&(i+=r+a.dataPath+" "+a.message+n)}return i.slice(0,-n.length)}function M(e,t){return"string"==typeof t&&(t=new RegExp(t)),this._formats[e]=t,this}function P(e){var t;if(e._opts.$data&&(t=n(77),e.addMetaSchema(t,t.$id,!0)),!1!==e._opts.meta){var r=n(32);e._opts.$data&&(r=u(r,g)),e.addMetaSchema(r,p,!0),e._refs["http://json-schema.org/schema"]=p}}function F(e){var t=e._opts.schemas;if(t)if(Array.isArray(t))e.addSchema(t);else for(var n in t)e.addSchema(t[n],n)}function j(e){for(var t in e._opts.formats){var n=e._opts.formats[t];e.addFormat(t,n)}}function H(e){for(var t in e._opts.keywords){var n=e._opts.keywords[t];e.addKeyword(t,n)}}function z(e,t){if(e._schemas[t]||e._refs[t])throw new Error('schema with key or id "'+t+'" already exists')}function $(e){for(var t=d.copy(e._opts),n=0;n<m.length;n++)delete t[m[n]];return t}function V(e){var t=e._opts.logger;if(!1===t)e.logger={log:W,warn:W,error:W};else{if(void 0===t&&(t=console),!("object"==typeof t&&t.log&&t.warn&&t.error))throw new Error("logger must implement log, warn and error methods");e.logger=t}}function W(){}},function(e,t,n){"use strict";var r=n(17),i=n(7),o=n(19),a=n(26),s=n(27),l=i.ucs2length,c=n(18),u=o.Validation;function d(e,t,n,p){var C=this,w=this._opts,x=[void 0],I={},A=[],k={},S=[],_={},T=[];t=t||{schema:e,refVal:x,refs:I};var E=f.call(this,e,t,p),O=this._compilations[E.index];if(E.compiling)return O.callValidate=B;var R=this._formats,N=this.RULES;try{var L=M(e,t,n,p);O.validate=L;var D=O.callValidate;return D&&(D.schema=L.schema,D.errors=null,D.refs=L.refs,D.refVal=L.refVal,D.root=L.root,D.$async=L.$async,w.sourceCode&&(D.source=L.source)),L}finally{h.call(this,e,t,p)}function B(){var e=O.validate,t=e.apply(this,arguments);return B.errors=e.errors,t}function M(e,n,a,f){var h=!n||n&&n.schema==e;if(n.schema!=t.schema)return d.call(C,e,n,a,f);var p,k=!0===e.$async,_=s({isTop:!0,schema:e,isRoot:h,baseId:f,root:n,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:o.MissingRef,RULES:N,validate:s,util:i,resolve:r,resolveRef:P,usePattern:$,useDefault:V,useCustomRule:W,opts:w,formats:R,logger:C.logger,self:C});_=y(x,v)+y(A,m)+y(S,g)+y(T,b)+_,w.processCode&&(_=w.processCode(_));try{var E=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",_);p=E(C,N,R,t,x,S,T,c,l,u),x[0]=p}catch(O){throw C.logger.error("Error compiling schema, function code:",_),O}return p.schema=e,p.errors=null,p.refs=I,p.refVal=x,p.root=h?p:n,k&&(p.$async=!0),!0===w.sourceCode&&(p.source={code:_,patterns:A,defaults:S}),p}function P(e,i,o){i=r.url(e,i);var a,s,l=I[i];if(void 0!==l)return a=x[l],s="refVal["+l+"]",z(a,s);if(!o&&t.refs){var c=t.refs[i];if(void 0!==c)return a=t.refVal[c],s=F(i,a),z(a,s)}s=F(i);var u=r.call(C,M,t,i);if(void 0===u){var f=n&&n[i];f&&(u=r.inlineRef(f,w.inlineRefs)?f:d.call(C,f,t,n,e))}if(void 0!==u)return H(i,u),z(u,s);j(i)}function F(e,t){var n=x.length;return x[n]=t,I[e]=n,"refVal"+n}function j(e){delete I[e]}function H(e,t){var n=I[e];x[n]=t}function z(e,t){return"object"==typeof e||"boolean"==typeof e?{code:t,schema:e,inline:!0}:{code:t,$async:e&&!!e.$async}}function $(e){var t=k[e];return void 0===t&&(t=k[e]=A.length,A[t]=e),"pattern"+t}function V(e){switch(typeof e){case"boolean":case"number":return""+e;case"string":return i.toQuotedString(e);case"object":if(null===e)return"null";var t=a(e),n=_[t];return void 0===n&&(n=_[t]=S.length,S[n]=e),"default"+n}}function W(e,t,n,r){if(!1!==C._opts.validateSchema){var i=e.definition.dependencies;if(i&&!i.every((function(e){return Object.prototype.hasOwnProperty.call(n,e)})))throw new Error("parent schema must have all required keywords: "+i.join(","));var o=e.definition.validateSchema;if(o){var a=o(t);if(!a){var s="keyword schema is invalid: "+C.errorsText(o.errors);if("log"!=C._opts.validateSchema)throw new Error(s);C.logger.error(s)}}}var l,c=e.definition.compile,u=e.definition.inline,d=e.definition.macro;if(c)l=c.call(C,t,n,r);else if(d)l=d.call(C,t,n,r),!1!==w.validateSchema&&C.validateSchema(l,!0);else if(u)l=u.call(C,r,e.keyword,t,n);else if(l=e.definition.validate,!l)return;if(void 0===l)throw new Error('custom keyword "'+e.keyword+'"failed to compile');var f=T.length;return T[f]=l,{code:"customRule"+f,validate:l}}}function f(e,t,n){var r=p.call(this,e,t,n);return r>=0?{index:r,compiling:!0}:(r=this._compilations.length,this._compilations[r]={schema:e,root:t,baseId:n},{index:r,compiling:!1})}function h(e,t,n){var r=p.call(this,e,t,n);r>=0&&this._compilations.splice(r,1)}function p(e,t,n){for(var r=0;r<this._compilations.length;r++){var i=this._compilations[r];if(i.schema==e&&i.root==t&&i.baseId==n)return r}return-1}function m(e,t){return"var pattern"+e+" = new RegExp("+i.toQuotedString(t[e])+");"}function g(e){return"var default"+e+" = defaults["+e+"];"}function v(e,t){return void 0===t[e]?"":"var refVal"+e+" = refVal["+e+"];"}function b(e){return"var customRule"+e+" = customRules["+e+"];"}function y(e,t){if(!e.length)return"";for(var n="",r=0;r<e.length;r++)n+=t(r,e);return n}e.exports=d},function(e,t,n){
/** @license URI.js v4.2.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */
(function(e,n){n(t)})(0,(function(e){"use strict";function t(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length>1){t[0]=t[0].slice(0,-1);for(var r=t.length-1,i=1;i<r;++i)t[i]=t[i].slice(1,-1);return t[r]=t[r].slice(1),t.join("")}return t[0]}function n(e){return"(?:"+e+")"}function r(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function i(e){return e.toUpperCase()}function o(e){return void 0!==e&&null!==e?e instanceof Array?e:"number"!==typeof e.length||e.split||e.setInterval||e.call?[e]:Array.prototype.slice.call(e):[]}function a(e,t){var n=e;if(t)for(var r in t)n[r]=t[r];return n}function s(e){var r="[A-Za-z]",i="[0-9]",o=t(i,"[A-Fa-f]"),a=n(n("%[EFef]"+o+"%"+o+o+"%"+o+o)+"|"+n("%[89A-Fa-f]"+o+"%"+o+o)+"|"+n("%"+o+o)),s="[\\:\\/\\?\\#\\[\\]\\@]",l="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",c=t(s,l),u=e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",d=e?"[\\uE000-\\uF8FF]":"[]",f=t(r,i,"[\\-\\.\\_\\~]",u),h=n(r+t(r,i,"[\\+\\-\\.]")+"*"),p=n(n(a+"|"+t(f,l,"[\\:]"))+"*"),m=(n(n("25[0-5]")+"|"+n("2[0-4]"+i)+"|"+n("1"+i+i)+"|"+n("[1-9]"+i)+"|"+i),n(n("25[0-5]")+"|"+n("2[0-4]"+i)+"|"+n("1"+i+i)+"|"+n("0?[1-9]"+i)+"|0?0?"+i)),g=n(m+"\\."+m+"\\."+m+"\\."+m),v=n(o+"{1,4}"),b=n(n(v+"\\:"+v)+"|"+g),y=n(n(v+"\\:")+"{6}"+b),C=n("\\:\\:"+n(v+"\\:")+"{5}"+b),w=n(n(v)+"?\\:\\:"+n(v+"\\:")+"{4}"+b),x=n(n(n(v+"\\:")+"{0,1}"+v)+"?\\:\\:"+n(v+"\\:")+"{3}"+b),I=n(n(n(v+"\\:")+"{0,2}"+v)+"?\\:\\:"+n(v+"\\:")+"{2}"+b),A=n(n(n(v+"\\:")+"{0,3}"+v)+"?\\:\\:"+v+"\\:"+b),k=n(n(n(v+"\\:")+"{0,4}"+v)+"?\\:\\:"+b),S=n(n(n(v+"\\:")+"{0,5}"+v)+"?\\:\\:"+v),_=n(n(n(v+"\\:")+"{0,6}"+v)+"?\\:\\:"),T=n([y,C,w,x,I,A,k,S,_].join("|")),E=n(n(f+"|"+a)+"+"),O=(n(T+"\\%25"+E),n(T+n("\\%25|\\%(?!"+o+"{2})")+E)),R=n("[vV]"+o+"+\\."+t(f,l,"[\\:]")+"+"),N=n("\\["+n(O+"|"+T+"|"+R)+"\\]"),L=n(n(a+"|"+t(f,l))+"*"),D=n(N+"|"+g+"(?!"+L+")|"+L),B=n(i+"*"),M=n(n(p+"@")+"?"+D+n("\\:"+B)+"?"),P=n(a+"|"+t(f,l,"[\\:\\@]")),F=n(P+"*"),j=n(P+"+"),H=n(n(a+"|"+t(f,l,"[\\@]"))+"+"),z=n(n("\\/"+F)+"*"),$=n("\\/"+n(j+z)+"?"),V=n(H+z),W=n(j+z),K="(?!"+P+")",G=(n(z+"|"+$+"|"+V+"|"+W+"|"+K),n(n(P+"|"+t("[\\/\\?]",d))+"*")),Z=n(n(P+"|[\\/\\?]")+"*"),U=n(n("\\/\\/"+M+z)+"|"+$+"|"+W+"|"+K),q=n(h+"\\:"+U+n("\\?"+G)+"?"+n("\\#"+Z)+"?"),X=n(n("\\/\\/"+M+z)+"|"+$+"|"+V+"|"+K),Y=n(X+n("\\?"+G)+"?"+n("\\#"+Z)+"?");n(q+"|"+Y),n(h+"\\:"+U+n("\\?"+G)+"?"),n(n("\\/\\/("+n("("+p+")@")+"?("+D+")"+n("\\:("+B+")")+"?)")+"?("+z+"|"+$+"|"+W+"|"+K+")"),n("\\?("+G+")"),n("\\#("+Z+")"),n(n("\\/\\/("+n("("+p+")@")+"?("+D+")"+n("\\:("+B+")")+"?)")+"?("+z+"|"+$+"|"+V+"|"+K+")"),n("\\?("+G+")"),n("\\#("+Z+")"),n(n("\\/\\/("+n("("+p+")@")+"?("+D+")"+n("\\:("+B+")")+"?)")+"?("+z+"|"+$+"|"+W+"|"+K+")"),n("\\?("+G+")"),n("\\#("+Z+")"),n("("+p+")@"),n("\\:("+B+")");return{NOT_SCHEME:new RegExp(t("[^]",r,i,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",f,l),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",f,l),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",f,l),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",f,l),"g"),NOT_QUERY:new RegExp(t("[^\\%]",f,l,"[\\:\\@\\/\\?]",d),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",f,l,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",f,l),"g"),UNRESERVED:new RegExp(f,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",f,c),"g"),PCT_ENCODED:new RegExp(a,"g"),IPV4ADDRESS:new RegExp("^("+g+")$"),IPV6ADDRESS:new RegExp("^\\[?("+T+")"+n(n("\\%25|\\%(?!"+o+"{2})")+"("+E+")")+"?\\]?$")}}var l=s(!1),c=s(!0),u=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0)if(n.push(a.value),t&&n.length===t)break}catch(l){i=!0,o=l}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},f=2147483647,h=36,p=1,m=26,g=38,v=700,b=72,y=128,C="-",w=/^xn--/,x=/[^\0-\x7E]/,I=/[\x2E\u3002\uFF0E\uFF61]/g,A={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},k=h-p,S=Math.floor,_=String.fromCharCode;function T(e){throw new RangeError(A[e])}function E(e,t){var n=[],r=e.length;while(r--)n[r]=t(e[r]);return n}function O(e,t){var n=e.split("@"),r="";n.length>1&&(r=n[0]+"@",e=n[1]),e=e.replace(I,".");var i=e.split("."),o=E(i,t).join(".");return r+o}function R(e){var t=[],n=0,r=e.length;while(n<r){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=e.charCodeAt(n++);56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),n--)}else t.push(i)}return t}var N=function(e){return String.fromCodePoint.apply(String,d(e))},L=function(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:h},D=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},B=function(e,t,n){var r=0;for(e=n?S(e/v):e>>1,e+=S(e/t);e>k*m>>1;r+=h)e=S(e/k);return S(r+(k+1)*e/(e+g))},M=function(e){var t=[],n=e.length,r=0,i=y,o=b,a=e.lastIndexOf(C);a<0&&(a=0);for(var s=0;s<a;++s)e.charCodeAt(s)>=128&&T("not-basic"),t.push(e.charCodeAt(s));for(var l=a>0?a+1:0;l<n;){for(var c=r,u=1,d=h;;d+=h){l>=n&&T("invalid-input");var g=L(e.charCodeAt(l++));(g>=h||g>S((f-r)/u))&&T("overflow"),r+=g*u;var v=d<=o?p:d>=o+m?m:d-o;if(g<v)break;var w=h-v;u>S(f/w)&&T("overflow"),u*=w}var x=t.length+1;o=B(r-c,x,0==c),S(r/x)>f-i&&T("overflow"),i+=S(r/x),r%=x,t.splice(r++,0,i)}return String.fromCodePoint.apply(String,t)},P=function(e){var t=[];e=R(e);var n=e.length,r=y,i=0,o=b,a=!0,s=!1,l=void 0;try{for(var c,u=e[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var d=c.value;d<128&&t.push(_(d))}}catch(G){s=!0,l=G}finally{try{!a&&u.return&&u.return()}finally{if(s)throw l}}var g=t.length,v=g;g&&t.push(C);while(v<n){var w=f,x=!0,I=!1,A=void 0;try{for(var k,E=e[Symbol.iterator]();!(x=(k=E.next()).done);x=!0){var O=k.value;O>=r&&O<w&&(w=O)}}catch(G){I=!0,A=G}finally{try{!x&&E.return&&E.return()}finally{if(I)throw A}}var N=v+1;w-r>S((f-i)/N)&&T("overflow"),i+=(w-r)*N,r=w;var L=!0,M=!1,P=void 0;try{for(var F,j=e[Symbol.iterator]();!(L=(F=j.next()).done);L=!0){var H=F.value;if(H<r&&++i>f&&T("overflow"),H==r){for(var z=i,$=h;;$+=h){var V=$<=o?p:$>=o+m?m:$-o;if(z<V)break;var W=z-V,K=h-V;t.push(_(D(V+W%K,0))),z=S(W/K)}t.push(_(D(z,0))),o=B(i,N,v==g),i=0,++v}}}catch(G){M=!0,P=G}finally{try{!L&&j.return&&j.return()}finally{if(M)throw P}}++i,++r}return t.join("")},F=function(e){return O(e,(function(e){return w.test(e)?M(e.slice(4).toLowerCase()):e}))},j=function(e){return O(e,(function(e){return x.test(e)?"xn--"+P(e):e}))},H={version:"2.1.0",ucs2:{decode:R,encode:N},decode:M,encode:P,toASCII:j,toUnicode:F},z={};function $(e){var t=e.charCodeAt(0),n=void 0;return n=t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase(),n}function V(e){var t="",n=0,r=e.length;while(n<r){var i=parseInt(e.substr(n+1,2),16);if(i<128)t+=String.fromCharCode(i),n+=3;else if(i>=194&&i<224){if(r-n>=6){var o=parseInt(e.substr(n+4,2),16);t+=String.fromCharCode((31&i)<<6|63&o)}else t+=e.substr(n,6);n+=6}else if(i>=224){if(r-n>=9){var a=parseInt(e.substr(n+4,2),16),s=parseInt(e.substr(n+7,2),16);t+=String.fromCharCode((15&i)<<12|(63&a)<<6|63&s)}else t+=e.substr(n,9);n+=9}else t+=e.substr(n,3),n+=3}return t}function W(e,t){function n(e){var n=V(e);return n.match(t.UNRESERVED)?n:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,n).replace(t.NOT_USERINFO,$).replace(t.PCT_ENCODED,i)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_HOST,$).replace(t.PCT_ENCODED,i)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,n).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,$).replace(t.PCT_ENCODED,i)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,n).replace(t.NOT_QUERY,$).replace(t.PCT_ENCODED,i)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,n).replace(t.NOT_FRAGMENT,$).replace(t.PCT_ENCODED,i)),e}function K(e){return e.replace(/^0*(.*)/,"$1")||"0"}function G(e,t){var n=e.match(t.IPV4ADDRESS)||[],r=u(n,2),i=r[1];return i?i.split(".").map(K).join("."):e}function Z(e,t){var n=e.match(t.IPV6ADDRESS)||[],r=u(n,3),i=r[1],o=r[2];if(i){for(var a=i.toLowerCase().split("::").reverse(),s=u(a,2),l=s[0],c=s[1],d=c?c.split(":").map(K):[],f=l.split(":").map(K),h=t.IPV4ADDRESS.test(f[f.length-1]),p=h?7:8,m=f.length-p,g=Array(p),v=0;v<p;++v)g[v]=d[v]||f[m+v]||"";h&&(g[p-1]=G(g[p-1],t));var b=g.reduce((function(e,t,n){if(!t||"0"===t){var r=e[e.length-1];r&&r.index+r.length===n?r.length++:e.push({index:n,length:1})}return e}),[]),y=b.sort((function(e,t){return t.length-e.length}))[0],C=void 0;if(y&&y.length>1){var w=g.slice(0,y.index),x=g.slice(y.index+y.length);C=w.join(":")+"::"+x.join(":")}else C=g.join(":");return o&&(C+="%"+o),C}return e}var U=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,q=void 0==="".match(/(){0}/)[1];function X(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},r=!1!==t.iri?c:l;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var i=e.match(U);if(i){q?(n.scheme=i[1],n.userinfo=i[3],n.host=i[4],n.port=parseInt(i[5],10),n.path=i[6]||"",n.query=i[7],n.fragment=i[8],isNaN(n.port)&&(n.port=i[5])):(n.scheme=i[1]||void 0,n.userinfo=-1!==e.indexOf("@")?i[3]:void 0,n.host=-1!==e.indexOf("//")?i[4]:void 0,n.port=parseInt(i[5],10),n.path=i[6]||"",n.query=-1!==e.indexOf("?")?i[7]:void 0,n.fragment=-1!==e.indexOf("#")?i[8]:void 0,isNaN(n.port)&&(n.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?i[4]:void 0)),n.host&&(n.host=Z(G(n.host,r),r)),void 0!==n.scheme||void 0!==n.userinfo||void 0!==n.host||void 0!==n.port||n.path||void 0!==n.query?void 0===n.scheme?n.reference="relative":void 0===n.fragment?n.reference="absolute":n.reference="uri":n.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==n.reference&&(n.error=n.error||"URI is not a "+t.reference+" reference.");var o=z[(t.scheme||n.scheme||"").toLowerCase()];if(t.unicodeSupport||o&&o.unicodeSupport)W(n,r);else{if(n.host&&(t.domainHost||o&&o.domainHost))try{n.host=H.toASCII(n.host.replace(r.PCT_ENCODED,V).toLowerCase())}catch(a){n.error=n.error||"Host's domain name can not be converted to ASCII via punycode: "+a}W(n,l)}o&&o.parse&&o.parse(n,t)}else n.error=n.error||"URI can not be parsed.";return n}function Y(e,t){var n=!1!==t.iri?c:l,r=[];return void 0!==e.userinfo&&(r.push(e.userinfo),r.push("@")),void 0!==e.host&&r.push(Z(G(String(e.host),n),n).replace(n.IPV6ADDRESS,(function(e,t,n){return"["+t+(n?"%25"+n:"")+"]"}))),"number"===typeof e.port&&(r.push(":"),r.push(e.port.toString(10))),r.length?r.join(""):void 0}var J=/^\.\.?\//,Q=/^\/\.(\/|$)/,ee=/^\/\.\.(\/|$)/,te=/^\/?(?:.|\n)*?(?=\/|$)/;function ne(e){var t=[];while(e.length)if(e.match(J))e=e.replace(J,"");else if(e.match(Q))e=e.replace(Q,"/");else if(e.match(ee))e=e.replace(ee,"/"),t.pop();else if("."===e||".."===e)e="";else{var n=e.match(te);if(!n)throw new Error("Unexpected dot segment condition");var r=n[0];e=e.slice(r.length),t.push(r)}return t.join("")}function re(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.iri?c:l,r=[],i=z[(t.scheme||e.scheme||"").toLowerCase()];if(i&&i.serialize&&i.serialize(e,t),e.host)if(n.IPV6ADDRESS.test(e.host));else if(t.domainHost||i&&i.domainHost)try{e.host=t.iri?H.toUnicode(e.host):H.toASCII(e.host.replace(n.PCT_ENCODED,V).toLowerCase())}catch(s){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+s}W(e,n),"suffix"!==t.reference&&e.scheme&&(r.push(e.scheme),r.push(":"));var o=Y(e,t);if(void 0!==o&&("suffix"!==t.reference&&r.push("//"),r.push(o),e.path&&"/"!==e.path.charAt(0)&&r.push("/")),void 0!==e.path){var a=e.path;t.absolutePath||i&&i.absolutePath||(a=ne(a)),void 0===o&&(a=a.replace(/^\/\//,"/%2F")),r.push(a)}return void 0!==e.query&&(r.push("?"),r.push(e.query)),void 0!==e.fragment&&(r.push("#"),r.push(e.fragment)),r.join("")}function ie(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments[3],i={};return r||(e=X(re(e,n),n),t=X(re(t,n),n)),n=n||{},!n.tolerant&&t.scheme?(i.scheme=t.scheme,i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=ne(t.path||""),i.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=ne(t.path||""),i.query=t.query):(t.path?("/"===t.path.charAt(0)?i.path=ne(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?i.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:i.path=t.path:i.path="/"+t.path,i.path=ne(i.path)),i.query=t.query):(i.path=e.path,void 0!==t.query?i.query=t.query:i.query=e.query),i.userinfo=e.userinfo,i.host=e.host,i.port=e.port),i.scheme=e.scheme),i.fragment=t.fragment,i}function oe(e,t,n){var r=a({scheme:"null"},n);return re(ie(X(e,r),X(t,r),r,!0),r)}function ae(e,t){return"string"===typeof e?e=re(X(e,t),t):"object"===r(e)&&(e=X(re(e,t),t)),e}function se(e,t,n){return"string"===typeof e?e=re(X(e,n),n):"object"===r(e)&&(e=re(e,n)),"string"===typeof t?t=re(X(t,n),n):"object"===r(t)&&(t=re(t,n)),e===t}function le(e,t){return e&&e.toString().replace(t&&t.iri?c.ESCAPE:l.ESCAPE,$)}function ce(e,t){return e&&e.toString().replace(t&&t.iri?c.PCT_ENCODED:l.PCT_ENCODED,V)}var ue={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){return e.port!==("https"!==String(e.scheme).toLowerCase()?80:443)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},de={scheme:"https",domainHost:ue.domainHost,parse:ue.parse,serialize:ue.serialize},fe={},he=!0,pe="[A-Za-z0-9\\-\\.\\_\\~"+(he?"\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF":"")+"]",me="[0-9A-Fa-f]",ge=n(n("%[EFef]"+me+"%"+me+me+"%"+me+me)+"|"+n("%[89A-Fa-f]"+me+"%"+me+me)+"|"+n("%"+me+me)),ve="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",be="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",ye=t(be,'[\\"\\\\]'),Ce="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",we=new RegExp(pe,"g"),xe=new RegExp(ge,"g"),Ie=new RegExp(t("[^]",ve,"[\\.]",'[\\"]',ye),"g"),Ae=new RegExp(t("[^]",pe,Ce),"g"),ke=Ae;function Se(e){var t=V(e);return t.match(we)?t:e}var _e={scheme:"mailto",parse:function(e,t){var n=e,r=n.to=n.path?n.path.split(","):[];if(n.path=void 0,n.query){for(var i=!1,o={},a=n.query.split("&"),s=0,l=a.length;s<l;++s){var c=a[s].split("=");switch(c[0]){case"to":for(var u=c[1].split(","),d=0,f=u.length;d<f;++d)r.push(u[d]);break;case"subject":n.subject=ce(c[1],t);break;case"body":n.body=ce(c[1],t);break;default:i=!0,o[ce(c[0],t)]=ce(c[1],t);break}}i&&(n.headers=o)}n.query=void 0;for(var h=0,p=r.length;h<p;++h){var m=r[h].split("@");if(m[0]=ce(m[0]),t.unicodeSupport)m[1]=ce(m[1],t).toLowerCase();else try{m[1]=H.toASCII(ce(m[1],t).toLowerCase())}catch(g){n.error=n.error||"Email address's domain name can not be converted to ASCII via punycode: "+g}r[h]=m.join("@")}return n},serialize:function(e,t){var n=e,r=o(e.to);if(r){for(var a=0,s=r.length;a<s;++a){var l=String(r[a]),c=l.lastIndexOf("@"),u=l.slice(0,c).replace(xe,Se).replace(xe,i).replace(Ie,$),d=l.slice(c+1);try{d=t.iri?H.toUnicode(d):H.toASCII(ce(d,t).toLowerCase())}catch(m){n.error=n.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+m}r[a]=u+"@"+d}n.path=r.join(",")}var f=e.headers=e.headers||{};e.subject&&(f["subject"]=e.subject),e.body&&(f["body"]=e.body);var h=[];for(var p in f)f[p]!==fe[p]&&h.push(p.replace(xe,Se).replace(xe,i).replace(Ae,$)+"="+f[p].replace(xe,Se).replace(xe,i).replace(ke,$));return h.length&&(n.query=h.join("&")),n}},Te=/^([^\:]+)\:(.*)/,Ee={scheme:"urn",parse:function(e,t){var n=e.path&&e.path.match(Te),r=e;if(n){var i=t.scheme||r.scheme||"urn",o=n[1].toLowerCase(),a=n[2],s=i+":"+(t.nid||o),l=z[s];r.nid=o,r.nss=a,r.path=void 0,l&&(r=l.parse(r,t))}else r.error=r.error||"URN can not be parsed.";return r},serialize:function(e,t){var n=t.scheme||e.scheme||"urn",r=e.nid,i=n+":"+(t.nid||r),o=z[i];o&&(e=o.serialize(e,t));var a=e,s=e.nss;return a.path=(r||t.nid)+":"+s,a}},Oe=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Re={scheme:"urn:uuid",parse:function(e,t){var n=e;return n.uuid=n.nss,n.nss=void 0,t.tolerant||n.uuid&&n.uuid.match(Oe)||(n.error=n.error||"UUID is not valid."),n},serialize:function(e,t){var n=e;return n.nss=(e.uuid||"").toLowerCase(),n}};z[ue.scheme]=ue,z[de.scheme]=de,z[_e.scheme]=_e,z[Ee.scheme]=Ee,z[Re.scheme]=Re,e.SCHEMES=z,e.pctEncChar=$,e.pctDecChars=V,e.parse=X,e.removeDotSegments=ne,e.serialize=re,e.resolveComponents=ie,e.resolve=oe,e.normalize=ae,e.equal=se,e.escapeComponent=le,e.unescapeComponent=ce,Object.defineProperty(e,"__esModule",{value:!0})}))},function(e,t,n){"use strict";e.exports=function(e){var t,n=0,r=e.length,i=0;while(i<r)n++,t=e.charCodeAt(i++),t>=55296&&t<=56319&&i<r&&(t=e.charCodeAt(i),56320==(64512&t)&&i++);return n}},function(e,t,n){"use strict";var r=e.exports=function(e,t,n){"function"==typeof t&&(n=t,t={}),n=t.cb||n;var r="function"==typeof n?n:n.pre||function(){},o=n.post||function(){};i(t,r,o,e,"",e)};function i(e,t,n,a,s,l,c,u,d,f){if(a&&"object"==typeof a&&!Array.isArray(a)){for(var h in t(a,s,l,c,u,d,f),a){var p=a[h];if(Array.isArray(p)){if(h in r.arrayKeywords)for(var m=0;m<p.length;m++)i(e,t,n,p[m],s+"/"+h+"/"+m,l,s,h,a,m)}else if(h in r.propsKeywords){if(p&&"object"==typeof p)for(var g in p)i(e,t,n,p[g],s+"/"+h+"/"+o(g),l,s,h,a,g)}else(h in r.keywords||e.allKeys&&!(h in r.skipKeywords))&&i(e,t,n,p,s+"/"+h,l,s,h,a)}n(a,s,l,c,u,d,f)}}function o(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}r.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},r.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},r.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},r.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},function(e,t,n){"use strict";var r=e.exports=function(){this._cache={}};r.prototype.put=function(e,t){this._cache[e]=t},r.prototype.get=function(e){return this._cache[e]},r.prototype.del=function(e){delete this._cache[e]},r.prototype.clear=function(){this._cache={}}},function(e,t,n){"use strict";var r=n(7),i=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,o=[0,31,28,31,30,31,30,31,31,30,31,30,31],a=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,s=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,l=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,c=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,u=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,d=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,f=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,h=/^(?:\/(?:[^~/]|~0|~1)*)*$/,p=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,m=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;function g(e){return e="full"==e?"full":"fast",r.copy(g[e])}function v(e){return e%4===0&&(e%100!==0||e%400===0)}function b(e){var t=e.match(i);if(!t)return!1;var n=+t[1],r=+t[2],a=+t[3];return r>=1&&r<=12&&a>=1&&a<=(2==r&&v(n)?29:o[r])}function y(e,t){var n=e.match(a);if(!n)return!1;var r=n[1],i=n[2],o=n[3],s=n[5];return(r<=23&&i<=59&&o<=59||23==r&&59==i&&60==o)&&(!t||s)}e.exports=g,g.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":u,url:d,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:s,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:k,uuid:f,"json-pointer":h,"json-pointer-uri-fragment":p,"relative-json-pointer":m},g.full={date:b,time:y,"date-time":w,uri:I,"uri-reference":c,"uri-template":u,url:d,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:s,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:k,uuid:f,"json-pointer":h,"json-pointer-uri-fragment":p,"relative-json-pointer":m};var C=/t|\s/i;function w(e){var t=e.split(C);return 2==t.length&&b(t[0])&&y(t[1],!0)}var x=/\/|:/;function I(e){return x.test(e)&&l.test(e)}var A=/[^\\]\\Z/;function k(e){if(A.test(e))return!1;try{return new RegExp(e),!0}catch(t){return!1}}},function(e,t,n){"use strict";var r=n(52),i=n(7).toHash;e.exports=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],t=["type","$comment"],n=["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"],o=["number","integer","string","array","object","boolean","null"];return e.all=i(t),e.types=i(o),e.forEach((function(n){n.rules=n.rules.map((function(n){var i;if("object"==typeof n){var o=Object.keys(n)[0];i=n[o],n=o,i.forEach((function(n){t.push(n),e.all[n]=!0}))}t.push(n);var a=e.all[n]={keyword:n,code:r[n],implements:i};return a})),e.all.$comment={keyword:"$comment",code:r.$comment},n.type&&(e.types[n.type]=n)})),e.keywords=i(t.concat(n)),e.custom={},e}},function(e,t,n){"use strict";e.exports={$ref:n(53),allOf:n(54),anyOf:n(55),$comment:n(56),const:n(57),contains:n(58),dependencies:n(59),enum:n(60),format:n(61),if:n(62),items:n(63),maximum:n(28),minimum:n(28),maxItems:n(29),minItems:n(29),maxLength:n(30),minLength:n(30),maxProperties:n(31),minProperties:n(31),multipleOf:n(64),not:n(65),oneOf:n(66),pattern:n(67),properties:n(68),propertyNames:n(69),required:n(70),uniqueItems:n(71),validate:n(27)}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i,o=" ",a=e.level,s=e.dataLevel,l=e.schema[t],c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,d="data"+(s||""),f="valid"+a;if("#"==l||"#/"==l)e.isRoot?(r=e.async,i="validate"):(r=!0===e.root.schema.$async,i="root.refVal[0]");else{var h=e.resolveRef(e.baseId,l,e.isRoot);if(void 0===h){var p=e.MissingRefError.message(e.baseId,l);if("fail"==e.opts.missingRefs){e.logger.error(p);var m=m||[];m.push(o),o="",!1!==e.createErrors?(o+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { ref: '"+e.util.escapeQuotes(l)+"' } ",!1!==e.opts.messages&&(o+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(l)+"' "),e.opts.verbose&&(o+=" , schema: "+e.util.toQuotedString(l)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),o+=" } "):o+=" {} ";var g=o;o=m.pop(),!e.compositeRule&&u?e.async?o+=" throw new ValidationError(["+g+"]); ":o+=" validate.errors = ["+g+"]; return false; ":o+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u&&(o+=" if (false) { ")}else{if("ignore"!=e.opts.missingRefs)throw new e.MissingRefError(e.baseId,l,p);e.logger.warn(p),u&&(o+=" if (true) { ")}}else if(h.inline){var v=e.util.copy(e);v.level++;var b="valid"+v.level;v.schema=h.schema,v.schemaPath="",v.errSchemaPath=l;var y=e.validate(v).replace(/validate\.schema/g,h.code);o+=" "+y+" ",u&&(o+=" if ("+b+") { ")}else r=!0===h.$async||e.async&&!1!==h.$async,i=h.code}if(i){m=m||[];m.push(o),o="",e.opts.passContext?o+=" "+i+".call(this, ":o+=" "+i+"( ",o+=" "+d+", (dataPath || '')",'""'!=e.errorPath&&(o+=" + "+e.errorPath);var C=s?"data"+(s-1||""):"parentData",w=s?e.dataPathArr[s]:"parentDataProperty";o+=" , "+C+" , "+w+", rootData)  ";var x=o;if(o=m.pop(),r){if(!e.async)throw new Error("async schema referenced by sync schema");u&&(o+=" var "+f+"; "),o+=" try { await "+x+"; ",u&&(o+=" "+f+" = true; "),o+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",u&&(o+=" "+f+" = false; "),o+=" } ",u&&(o+=" if ("+f+") { ")}else o+=" if (!"+x+") { if (vErrors === null) vErrors = "+i+".errors; else vErrors = vErrors.concat("+i+".errors); errors = vErrors.length; } ",u&&(o+=" else { ")}return o}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.schema[t],o=e.schemaPath+e.util.getProperty(t),a=e.errSchemaPath+"/"+t,s=!e.opts.allErrors,l=e.util.copy(e),c="";l.level++;var u="valid"+l.level,d=l.baseId,f=!0,h=i;if(h){var p,m=-1,g=h.length-1;while(m<g)p=h[m+=1],(e.opts.strictKeywords?"object"==typeof p&&Object.keys(p).length>0:e.util.schemaHasRules(p,e.RULES.all))&&(f=!1,l.schema=p,l.schemaPath=o+"["+m+"]",l.errSchemaPath=a+"/"+m,r+="  "+e.validate(l)+" ",l.baseId=d,s&&(r+=" if ("+u+") { ",c+="}"))}return s&&(r+=f?" if (true) { ":" "+c.slice(0,-1)+" "),r=e.util.cleanUpCode(r),r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(o||""),d="valid"+i,f="errs__"+i,h=e.util.copy(e),p="";h.level++;var m="valid"+h.level,g=a.every((function(t){return e.opts.strictKeywords?"object"==typeof t&&Object.keys(t).length>0:e.util.schemaHasRules(t,e.RULES.all)}));if(g){var v=h.baseId;r+=" var "+f+" = errors; var "+d+" = false;  ";var b=e.compositeRule;e.compositeRule=h.compositeRule=!0;var y=a;if(y){var C,w=-1,x=y.length-1;while(w<x)C=y[w+=1],h.schema=C,h.schemaPath=s+"["+w+"]",h.errSchemaPath=l+"/"+w,r+="  "+e.validate(h)+" ",h.baseId=v,r+=" "+d+" = "+d+" || "+m+"; if (!"+d+") { ",p+="}"}e.compositeRule=h.compositeRule=b,r+=" "+p+" if (!"+d+") {   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" } else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } "),r=e.util.cleanUpCode(r)}else c&&(r+=" if (true) { ");return r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.schema[t],o=e.errSchemaPath+"/"+t,a=(e.opts.allErrors,e.util.toQuotedString(i));return!0===e.opts.$comment?r+=" console.log("+a+");":"function"==typeof e.opts.$comment&&(r+=" self._opts.$comment("+a+", "+e.util.toQuotedString(o)+", validate.root.schema);"),r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(o||""),d="valid"+i,f=e.opts.$data&&a&&a.$data;f&&(r+=" var schema"+i+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; "),f||(r+=" var schema"+i+" = validate.schema"+s+";"),r+="var "+d+" = equal("+u+", schema"+i+"); if (!"+d+") {   ";var h=h||[];h.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { allowedValue: schema"+i+" } ",!1!==e.opts.messages&&(r+=" , message: 'should be equal to constant' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var p=r;return r=h.pop(),!e.compositeRule&&c?e.async?r+=" throw new ValidationError(["+p+"]); ":r+=" validate.errors = ["+p+"]; return false; ":r+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",c&&(r+=" else { "),r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(o||""),d="valid"+i,f="errs__"+i,h=e.util.copy(e),p="";h.level++;var m="valid"+h.level,g="i"+i,v=h.dataLevel=e.dataLevel+1,b="data"+v,y=e.baseId,C=e.opts.strictKeywords?"object"==typeof a&&Object.keys(a).length>0:e.util.schemaHasRules(a,e.RULES.all);if(r+="var "+f+" = errors;var "+d+";",C){var w=e.compositeRule;e.compositeRule=h.compositeRule=!0,h.schema=a,h.schemaPath=s,h.errSchemaPath=l,r+=" var "+m+" = false; for (var "+g+" = 0; "+g+" < "+u+".length; "+g+"++) { ",h.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers,!0);var x=u+"["+g+"]";h.dataPathArr[v]=g;var I=e.validate(h);h.baseId=y,e.util.varOccurences(I,b)<2?r+=" "+e.util.varReplace(I,b,x)+" ":r+=" var "+b+" = "+x+"; "+I+" ",r+=" if ("+m+") break; }  ",e.compositeRule=h.compositeRule=w,r+=" "+p+" if (!"+m+") {"}else r+=" if ("+u+".length == 0) {";var A=A||[];A.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should contain a valid item' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var k=r;return r=A.pop(),!e.compositeRule&&c?e.async?r+=" throw new ValidationError(["+k+"]); ":r+=" validate.errors = ["+k+"]; return false; ":r+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { ",C&&(r+="  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } "),e.opts.allErrors&&(r+=" } "),r=e.util.cleanUpCode(r),r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(o||""),d="errs__"+i,f=e.util.copy(e),h="";f.level++;var p="valid"+f.level,m={},g={},v=e.opts.ownProperties;for(w in a){var b=a[w],y=Array.isArray(b)?g:m;y[w]=b}r+="var "+d+" = errors;";var C=e.errorPath;for(var w in r+="var missing"+i+";",g)if(y=g[w],y.length){if(r+=" if ( "+u+e.util.getProperty(w)+" !== undefined ",v&&(r+=" && Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(w)+"') "),c){r+=" && ( ";var x=y;if(x){var I=-1,A=x.length-1;while(I<A){N=x[I+=1],I&&(r+=" || ");var k=e.util.getProperty(N),S=u+k;r+=" ( ( "+S+" === undefined ",v&&(r+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(N)+"') "),r+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?N:k)+") ) "}}r+=")) {  ";var _="missing"+i,T="' + "+_+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(C,_,!0):C+" + "+_);var E=E||[];E.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { property: '"+e.util.escapeQuotes(w)+"', missingProperty: '"+T+"', depsCount: "+y.length+", deps: '"+e.util.escapeQuotes(1==y.length?y[0]:y.join(", "))+"' } ",!1!==e.opts.messages&&(r+=" , message: 'should have ",1==y.length?r+="property "+e.util.escapeQuotes(y[0]):r+="properties "+e.util.escapeQuotes(y.join(", ")),r+=" when property "+e.util.escapeQuotes(w)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var O=r;r=E.pop(),!e.compositeRule&&c?e.async?r+=" throw new ValidationError(["+O+"]); ":r+=" validate.errors = ["+O+"]; return false; ":r+=" var err = "+O+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{r+=" ) { ";var R=y;if(R){var N,L=-1,D=R.length-1;while(L<D){N=R[L+=1];k=e.util.getProperty(N),T=e.util.escapeQuotes(N),S=u+k;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(C,N,e.opts.jsonPointers)),r+=" if ( "+S+" === undefined ",v&&(r+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(N)+"') "),r+=") {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { property: '"+e.util.escapeQuotes(w)+"', missingProperty: '"+T+"', depsCount: "+y.length+", deps: '"+e.util.escapeQuotes(1==y.length?y[0]:y.join(", "))+"' } ",!1!==e.opts.messages&&(r+=" , message: 'should have ",1==y.length?r+="property "+e.util.escapeQuotes(y[0]):r+="properties "+e.util.escapeQuotes(y.join(", ")),r+=" when property "+e.util.escapeQuotes(w)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}}r+=" }   ",c&&(h+="}",r+=" else { ")}e.errorPath=C;var B=f.baseId;for(var w in m){b=m[w];(e.opts.strictKeywords?"object"==typeof b&&Object.keys(b).length>0:e.util.schemaHasRules(b,e.RULES.all))&&(r+=" "+p+" = true; if ( "+u+e.util.getProperty(w)+" !== undefined ",v&&(r+=" && Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(w)+"') "),r+=") { ",f.schema=b,f.schemaPath=s+e.util.getProperty(w),f.errSchemaPath=l+"/"+e.util.escapeFragment(w),r+="  "+e.validate(f)+" ",f.baseId=B,r+=" }  ",c&&(r+=" if ("+p+") { ",h+="}"))}return c&&(r+="   "+h+" if ("+d+" == errors) {"),r=e.util.cleanUpCode(r),r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(o||""),d="valid"+i,f=e.opts.$data&&a&&a.$data;f&&(r+=" var schema"+i+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ");var h="i"+i,p="schema"+i;f||(r+=" var "+p+" = validate.schema"+s+";"),r+="var "+d+";",f&&(r+=" if (schema"+i+" === undefined) "+d+" = true; else if (!Array.isArray(schema"+i+")) "+d+" = false; else {"),r+=d+" = false;for (var "+h+"=0; "+h+"<"+p+".length; "+h+"++) if (equal("+u+", "+p+"["+h+"])) { "+d+" = true; break; }",f&&(r+="  }  "),r+=" if (!"+d+") {   ";var m=m||[];m.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { allowedValues: schema"+i+" } ",!1!==e.opts.messages&&(r+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var g=r;return r=m.pop(),!e.compositeRule&&c?e.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",c&&(r+=" else { "),r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(o||"");if(!1===e.opts.format)return c&&(r+=" if (true) { "),r;var d,f=e.opts.$data&&a&&a.$data;f?(r+=" var schema"+i+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ",d="schema"+i):d=a;var h=e.opts.unknownFormats,p=Array.isArray(h);if(f){var m="format"+i,g="isObject"+i,v="formatType"+i;r+=" var "+m+" = formats["+d+"]; var "+g+" = typeof "+m+" == 'object' && !("+m+" instanceof RegExp) && "+m+".validate; var "+v+" = "+g+" && "+m+".type || 'string'; if ("+g+") { ",e.async&&(r+=" var async"+i+" = "+m+".async; "),r+=" "+m+" = "+m+".validate; } if (  ",f&&(r+=" ("+d+" !== undefined && typeof "+d+" != 'string') || "),r+=" (","ignore"!=h&&(r+=" ("+d+" && !"+m+" ",p&&(r+=" && self._opts.unknownFormats.indexOf("+d+") == -1 "),r+=") || "),r+=" ("+m+" && "+v+" == '"+n+"' && !(typeof "+m+" == 'function' ? ",e.async?r+=" (async"+i+" ? await "+m+"("+u+") : "+m+"("+u+")) ":r+=" "+m+"("+u+") ",r+=" : "+m+".test("+u+"))))) {"}else{m=e.formats[a];if(!m){if("ignore"==h)return e.logger.warn('unknown format "'+a+'" ignored in schema at path "'+e.errSchemaPath+'"'),c&&(r+=" if (true) { "),r;if(p&&h.indexOf(a)>=0)return c&&(r+=" if (true) { "),r;throw new Error('unknown format "'+a+'" is used in schema at path "'+e.errSchemaPath+'"')}g="object"==typeof m&&!(m instanceof RegExp)&&m.validate,v=g&&m.type||"string";if(g){var b=!0===m.async;m=m.validate}if(v!=n)return c&&(r+=" if (true) { "),r;if(b){if(!e.async)throw new Error("async format in sync schema");var y="formats"+e.util.getProperty(a)+".validate";r+=" if (!(await "+y+"("+u+"))) { "}else{r+=" if (! ";y="formats"+e.util.getProperty(a);g&&(y+=".validate"),r+="function"==typeof m?" "+y+"("+u+") ":" "+y+".test("+u+") ",r+=") { "}}var C=C||[];C.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { format:  ",r+=f?""+d:""+e.util.toQuotedString(a),r+="  } ",!1!==e.opts.messages&&(r+=" , message: 'should match format \"",r+=f?"' + "+d+" + '":""+e.util.escapeQuotes(a),r+="\"' "),e.opts.verbose&&(r+=" , schema:  ",r+=f?"validate.schema"+s:""+e.util.toQuotedString(a),r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var w=r;return r=C.pop(),!e.compositeRule&&c?e.async?r+=" throw new ValidationError(["+w+"]); ":r+=" validate.errors = ["+w+"]; return false; ":r+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",c&&(r+=" else { "),r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(o||""),d="valid"+i,f="errs__"+i,h=e.util.copy(e);h.level++;var p="valid"+h.level,m=e.schema["then"],g=e.schema["else"],v=void 0!==m&&(e.opts.strictKeywords?"object"==typeof m&&Object.keys(m).length>0:e.util.schemaHasRules(m,e.RULES.all)),b=void 0!==g&&(e.opts.strictKeywords?"object"==typeof g&&Object.keys(g).length>0:e.util.schemaHasRules(g,e.RULES.all)),y=h.baseId;if(v||b){var C;h.createErrors=!1,h.schema=a,h.schemaPath=s,h.errSchemaPath=l,r+=" var "+f+" = errors; var "+d+" = true;  ";var w=e.compositeRule;e.compositeRule=h.compositeRule=!0,r+="  "+e.validate(h)+" ",h.baseId=y,h.createErrors=!0,r+="  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; }  ",e.compositeRule=h.compositeRule=w,v?(r+=" if ("+p+") {  ",h.schema=e.schema["then"],h.schemaPath=e.schemaPath+".then",h.errSchemaPath=e.errSchemaPath+"/then",r+="  "+e.validate(h)+" ",h.baseId=y,r+=" "+d+" = "+p+"; ",v&&b?(C="ifClause"+i,r+=" var "+C+" = 'then'; "):C="'then'",r+=" } ",b&&(r+=" else { ")):r+=" if (!"+p+") { ",b&&(h.schema=e.schema["else"],h.schemaPath=e.schemaPath+".else",h.errSchemaPath=e.errSchemaPath+"/else",r+="  "+e.validate(h)+" ",h.baseId=y,r+=" "+d+" = "+p+"; ",v&&b?(C="ifClause"+i,r+=" var "+C+" = 'else'; "):C="'else'",r+=" } "),r+=" if (!"+d+") {   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { failingKeyword: "+C+" } ",!1!==e.opts.messages&&(r+=" , message: 'should match \"' + "+C+" + '\" schema' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" }   ",c&&(r+=" else { "),r=e.util.cleanUpCode(r)}else c&&(r+=" if (true) { ");return r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(o||""),d="valid"+i,f="errs__"+i,h=e.util.copy(e),p="";h.level++;var m="valid"+h.level,g="i"+i,v=h.dataLevel=e.dataLevel+1,b="data"+v,y=e.baseId;if(r+="var "+f+" = errors;var "+d+";",Array.isArray(a)){var C=e.schema.additionalItems;if(!1===C){r+=" "+d+" = "+u+".length <= "+a.length+"; ";var w=l;l=e.errSchemaPath+"/additionalItems",r+="  if (!"+d+") {   ";var x=x||[];x.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { limit: "+a.length+" } ",!1!==e.opts.messages&&(r+=" , message: 'should NOT have more than "+a.length+" items' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var I=r;r=x.pop(),!e.compositeRule&&c?e.async?r+=" throw new ValidationError(["+I+"]); ":r+=" validate.errors = ["+I+"]; return false; ":r+=" var err = "+I+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",l=w,c&&(p+="}",r+=" else { ")}var A=a;if(A){var k,S=-1,_=A.length-1;while(S<_)if(k=A[S+=1],e.opts.strictKeywords?"object"==typeof k&&Object.keys(k).length>0:e.util.schemaHasRules(k,e.RULES.all)){r+=" "+m+" = true; if ("+u+".length > "+S+") { ";var T=u+"["+S+"]";h.schema=k,h.schemaPath=s+"["+S+"]",h.errSchemaPath=l+"/"+S,h.errorPath=e.util.getPathExpr(e.errorPath,S,e.opts.jsonPointers,!0),h.dataPathArr[v]=S;var E=e.validate(h);h.baseId=y,e.util.varOccurences(E,b)<2?r+=" "+e.util.varReplace(E,b,T)+" ":r+=" var "+b+" = "+T+"; "+E+" ",r+=" }  ",c&&(r+=" if ("+m+") { ",p+="}")}}if("object"==typeof C&&(e.opts.strictKeywords?"object"==typeof C&&Object.keys(C).length>0:e.util.schemaHasRules(C,e.RULES.all))){h.schema=C,h.schemaPath=e.schemaPath+".additionalItems",h.errSchemaPath=e.errSchemaPath+"/additionalItems",r+=" "+m+" = true; if ("+u+".length > "+a.length+") {  for (var "+g+" = "+a.length+"; "+g+" < "+u+".length; "+g+"++) { ",h.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers,!0);T=u+"["+g+"]";h.dataPathArr[v]=g;E=e.validate(h);h.baseId=y,e.util.varOccurences(E,b)<2?r+=" "+e.util.varReplace(E,b,T)+" ":r+=" var "+b+" = "+T+"; "+E+" ",c&&(r+=" if (!"+m+") break; "),r+=" } }  ",c&&(r+=" if ("+m+") { ",p+="}")}}else if(e.opts.strictKeywords?"object"==typeof a&&Object.keys(a).length>0:e.util.schemaHasRules(a,e.RULES.all)){h.schema=a,h.schemaPath=s,h.errSchemaPath=l,r+="  for (var "+g+" = 0; "+g+" < "+u+".length; "+g+"++) { ",h.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers,!0);T=u+"["+g+"]";h.dataPathArr[v]=g;E=e.validate(h);h.baseId=y,e.util.varOccurences(E,b)<2?r+=" "+e.util.varReplace(E,b,T)+" ":r+=" var "+b+" = "+T+"; "+E+" ",c&&(r+=" if (!"+m+") break; "),r+=" }"}return c&&(r+=" "+p+" if ("+f+" == errors) {"),r=e.util.cleanUpCode(r),r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,d="data"+(a||""),f=e.opts.$data&&s&&s.$data;f?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",r="schema"+o):r=s,i+="var division"+o+";if (",f&&(i+=" "+r+" !== undefined && ( typeof "+r+" != 'number' || "),i+=" (division"+o+" = "+d+" / "+r+", ",e.opts.multipleOfPrecision?i+=" Math.abs(Math.round(division"+o+") - division"+o+") > 1e-"+e.opts.multipleOfPrecision+" ":i+=" division"+o+" !== parseInt(division"+o+") ",i+=" ) ",f&&(i+="  )  "),i+=" ) {   ";var h=h||[];h.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { multipleOf: "+r+" } ",!1!==e.opts.messages&&(i+=" , message: 'should be multiple of ",i+=f?"' + "+r:r+"'"),e.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+l:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),i+=" } "):i+=" {} ";var p=i;return i=h.pop(),!e.compositeRule&&u?e.async?i+=" throw new ValidationError(["+p+"]); ":i+=" validate.errors = ["+p+"]; return false; ":i+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",u&&(i+=" else { "),i}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(o||""),d="errs__"+i,f=e.util.copy(e);f.level++;var h="valid"+f.level;if(e.opts.strictKeywords?"object"==typeof a&&Object.keys(a).length>0:e.util.schemaHasRules(a,e.RULES.all)){f.schema=a,f.schemaPath=s,f.errSchemaPath=l,r+=" var "+d+" = errors;  ";var p,m=e.compositeRule;e.compositeRule=f.compositeRule=!0,f.createErrors=!1,f.opts.allErrors&&(p=f.opts.allErrors,f.opts.allErrors=!1),r+=" "+e.validate(f)+" ",f.createErrors=!0,p&&(f.opts.allErrors=p),e.compositeRule=f.compositeRule=m,r+=" if ("+h+") {   ";var g=g||[];g.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var v=r;r=g.pop(),!e.compositeRule&&c?e.async?r+=" throw new ValidationError(["+v+"]); ":r+=" validate.errors = ["+v+"]; return false; ":r+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } ")}else r+="  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c&&(r+=" if (false) { ");return r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(o||""),d="valid"+i,f="errs__"+i,h=e.util.copy(e),p="";h.level++;var m="valid"+h.level,g=h.baseId,v="prevValid"+i,b="passingSchemas"+i;r+="var "+f+" = errors , "+v+" = false , "+d+" = false , "+b+" = null; ";var y=e.compositeRule;e.compositeRule=h.compositeRule=!0;var C=a;if(C){var w,x=-1,I=C.length-1;while(x<I)w=C[x+=1],(e.opts.strictKeywords?"object"==typeof w&&Object.keys(w).length>0:e.util.schemaHasRules(w,e.RULES.all))?(h.schema=w,h.schemaPath=s+"["+x+"]",h.errSchemaPath=l+"/"+x,r+="  "+e.validate(h)+" ",h.baseId=g):r+=" var "+m+" = true; ",x&&(r+=" if ("+m+" && "+v+") { "+d+" = false; "+b+" = ["+b+", "+x+"]; } else { ",p+="}"),r+=" if ("+m+") { "+d+" = "+v+" = true; "+b+" = "+x+"; }"}return e.compositeRule=h.compositeRule=y,r+=p+"if (!"+d+") {   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { passingSchemas: "+b+" } ",!1!==e.opts.messages&&(r+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+="} else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; }",e.opts.allErrors&&(r+=" } "),r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,d="data"+(a||""),f=e.opts.$data&&s&&s.$data;f?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",r="schema"+o):r=s;var h=f?"(new RegExp("+r+"))":e.usePattern(s);i+="if ( ",f&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'string') || "),i+=" !"+h+".test("+d+") ) {   ";var p=p||[];p.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { pattern:  ",i+=f?""+r:""+e.util.toQuotedString(s),i+="  } ",!1!==e.opts.messages&&(i+=" , message: 'should match pattern \"",i+=f?"' + "+r+" + '":""+e.util.escapeQuotes(s),i+="\"' "),e.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+l:""+e.util.toQuotedString(s),i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),i+=" } "):i+=" {} ";var m=i;return i=p.pop(),!e.compositeRule&&u?e.async?i+=" throw new ValidationError(["+m+"]); ":i+=" validate.errors = ["+m+"]; return false; ":i+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",u&&(i+=" else { "),i}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(o||""),d="errs__"+i,f=e.util.copy(e),h="";f.level++;var p="valid"+f.level,m="key"+i,g="idx"+i,v=f.dataLevel=e.dataLevel+1,b="data"+v,y="dataProperties"+i,C=Object.keys(a||{}),w=e.schema.patternProperties||{},x=Object.keys(w),I=e.schema.additionalProperties,A=C.length||x.length,k=!1===I,S="object"==typeof I&&Object.keys(I).length,_=e.opts.removeAdditional,T=k||S||_,E=e.opts.ownProperties,O=e.baseId,R=e.schema.required;if(R&&(!e.opts.$data||!R.$data)&&R.length<e.opts.loopRequired)var N=e.util.toHash(R);if(r+="var "+d+" = errors;var "+p+" = true;",E&&(r+=" var "+y+" = undefined;"),T){if(r+=E?" "+y+" = "+y+" || Object.keys("+u+"); for (var "+g+"=0; "+g+"<"+y+".length; "+g+"++) { var "+m+" = "+y+"["+g+"]; ":" for (var "+m+" in "+u+") { ",A){if(r+=" var isAdditional"+i+" = !(false ",C.length)if(C.length>8)r+=" || validate.schema"+s+".hasOwnProperty("+m+") ";else{var L=C;if(L){var D=-1,B=L.length-1;while(D<B)q=L[D+=1],r+=" || "+m+" == "+e.util.toQuotedString(q)+" "}}if(x.length){var M=x;if(M){var P=-1,F=M.length-1;while(P<F)ie=M[P+=1],r+=" || "+e.usePattern(ie)+".test("+m+") "}}r+=" ); if (isAdditional"+i+") { "}if("all"==_)r+=" delete "+u+"["+m+"]; ";else{var j=e.errorPath,H="' + "+m+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers)),k)if(_)r+=" delete "+u+"["+m+"]; ";else{r+=" "+p+" = false; ";var z=l;l=e.errSchemaPath+"/additionalProperties";var $=$||[];$.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { additionalProperty: '"+H+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is an invalid additional property":r+="should NOT have additional properties",r+="' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var V=r;r=$.pop(),!e.compositeRule&&c?e.async?r+=" throw new ValidationError(["+V+"]); ":r+=" validate.errors = ["+V+"]; return false; ":r+=" var err = "+V+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l=z,c&&(r+=" break; ")}else if(S)if("failing"==_){r+=" var "+d+" = errors;  ";var W=e.compositeRule;e.compositeRule=f.compositeRule=!0,f.schema=I,f.schemaPath=e.schemaPath+".additionalProperties",f.errSchemaPath=e.errSchemaPath+"/additionalProperties",f.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);var K=u+"["+m+"]";f.dataPathArr[v]=m;var G=e.validate(f);f.baseId=O,e.util.varOccurences(G,b)<2?r+=" "+e.util.varReplace(G,b,K)+" ":r+=" var "+b+" = "+K+"; "+G+" ",r+=" if (!"+p+") { errors = "+d+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+u+"["+m+"]; }  ",e.compositeRule=f.compositeRule=W}else{f.schema=I,f.schemaPath=e.schemaPath+".additionalProperties",f.errSchemaPath=e.errSchemaPath+"/additionalProperties",f.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);K=u+"["+m+"]";f.dataPathArr[v]=m;G=e.validate(f);f.baseId=O,e.util.varOccurences(G,b)<2?r+=" "+e.util.varReplace(G,b,K)+" ":r+=" var "+b+" = "+K+"; "+G+" ",c&&(r+=" if (!"+p+") break; ")}e.errorPath=j}A&&(r+=" } "),r+=" }  ",c&&(r+=" if ("+p+") { ",h+="}")}var Z=e.opts.useDefaults&&!e.compositeRule;if(C.length){var U=C;if(U){var q,X=-1,Y=U.length-1;while(X<Y){q=U[X+=1];var J=a[q];if(e.opts.strictKeywords?"object"==typeof J&&Object.keys(J).length>0:e.util.schemaHasRules(J,e.RULES.all)){var Q=e.util.getProperty(q),ee=(K=u+Q,Z&&void 0!==J.default);f.schema=J,f.schemaPath=s+Q,f.errSchemaPath=l+"/"+e.util.escapeFragment(q),f.errorPath=e.util.getPath(e.errorPath,q,e.opts.jsonPointers),f.dataPathArr[v]=e.util.toQuotedString(q);G=e.validate(f);if(f.baseId=O,e.util.varOccurences(G,b)<2){G=e.util.varReplace(G,b,K);var te=K}else{te=b;r+=" var "+b+" = "+K+"; "}if(ee)r+=" "+G+" ";else{if(N&&N[q]){r+=" if ( "+te+" === undefined ",E&&(r+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(q)+"') "),r+=") { "+p+" = false; ";j=e.errorPath,z=l;var ne=e.util.escapeQuotes(q);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(j,q,e.opts.jsonPointers)),l=e.errSchemaPath+"/required";$=$||[];$.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+ne+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+ne+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";V=r;r=$.pop(),!e.compositeRule&&c?e.async?r+=" throw new ValidationError(["+V+"]); ":r+=" validate.errors = ["+V+"]; return false; ":r+=" var err = "+V+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l=z,e.errorPath=j,r+=" } else { "}else c?(r+=" if ( "+te+" === undefined ",E&&(r+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(q)+"') "),r+=") { "+p+" = true; } else { "):(r+=" if ("+te+" !== undefined ",E&&(r+=" &&   Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(q)+"') "),r+=" ) { ");r+=" "+G+" } "}}c&&(r+=" if ("+p+") { ",h+="}")}}}if(x.length){var re=x;if(re){var ie,oe=-1,ae=re.length-1;while(oe<ae){ie=re[oe+=1];J=w[ie];if(e.opts.strictKeywords?"object"==typeof J&&Object.keys(J).length>0:e.util.schemaHasRules(J,e.RULES.all)){f.schema=J,f.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(ie),f.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(ie),r+=E?" "+y+" = "+y+" || Object.keys("+u+"); for (var "+g+"=0; "+g+"<"+y+".length; "+g+"++) { var "+m+" = "+y+"["+g+"]; ":" for (var "+m+" in "+u+") { ",r+=" if ("+e.usePattern(ie)+".test("+m+")) { ",f.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);K=u+"["+m+"]";f.dataPathArr[v]=m;G=e.validate(f);f.baseId=O,e.util.varOccurences(G,b)<2?r+=" "+e.util.varReplace(G,b,K)+" ":r+=" var "+b+" = "+K+"; "+G+" ",c&&(r+=" if (!"+p+") break; "),r+=" } ",c&&(r+=" else "+p+" = true; "),r+=" }  ",c&&(r+=" if ("+p+") { ",h+="}")}}}}return c&&(r+=" "+h+" if ("+d+" == errors) {"),r=e.util.cleanUpCode(r),r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(o||""),d="errs__"+i,f=e.util.copy(e),h="";f.level++;var p="valid"+f.level;if(r+="var "+d+" = errors;",e.opts.strictKeywords?"object"==typeof a&&Object.keys(a).length>0:e.util.schemaHasRules(a,e.RULES.all)){f.schema=a,f.schemaPath=s,f.errSchemaPath=l;var m="key"+i,g="idx"+i,v="i"+i,b="' + "+m+" + '",y=f.dataLevel=e.dataLevel+1,C="data"+y,w="dataProperties"+i,x=e.opts.ownProperties,I=e.baseId;x&&(r+=" var "+w+" = undefined; "),r+=x?" "+w+" = "+w+" || Object.keys("+u+"); for (var "+g+"=0; "+g+"<"+w+".length; "+g+"++) { var "+m+" = "+w+"["+g+"]; ":" for (var "+m+" in "+u+") { ",r+=" var startErrs"+i+" = errors; ";var A=m,k=e.compositeRule;e.compositeRule=f.compositeRule=!0;var S=e.validate(f);f.baseId=I,e.util.varOccurences(S,C)<2?r+=" "+e.util.varReplace(S,C,A)+" ":r+=" var "+C+" = "+A+"; "+S+" ",e.compositeRule=f.compositeRule=k,r+=" if (!"+p+") { for (var "+v+"=startErrs"+i+"; "+v+"<errors; "+v+"++) { vErrors["+v+"].propertyName = "+m+"; }   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { propertyName: '"+b+"' } ",!1!==e.opts.messages&&(r+=" , message: 'property name \\'"+b+"\\' is invalid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),c&&(r+=" break; "),r+=" } }"}return c&&(r+=" "+h+" if ("+d+" == errors) {"),r=e.util.cleanUpCode(r),r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(o||""),d="valid"+i,f=e.opts.$data&&a&&a.$data;f&&(r+=" var schema"+i+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ");var h="schema"+i;if(!f)if(a.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var p=[],m=a;if(m){var g,v=-1,b=m.length-1;while(v<b){g=m[v+=1];var y=e.schema.properties[g];y&&(e.opts.strictKeywords?"object"==typeof y&&Object.keys(y).length>0:e.util.schemaHasRules(y,e.RULES.all))||(p[p.length]=g)}}}else p=a;if(f||p.length){var C=e.errorPath,w=f||p.length>=e.opts.loopRequired,x=e.opts.ownProperties;if(c)if(r+=" var missing"+i+"; ",w){f||(r+=" var "+h+" = validate.schema"+s+"; ");var I="i"+i,A="schema"+i+"["+I+"]",k="' + "+A+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(C,A,e.opts.jsonPointers)),r+=" var "+d+" = true; ",f&&(r+=" if (schema"+i+" === undefined) "+d+" = true; else if (!Array.isArray(schema"+i+")) "+d+" = false; else {"),r+=" for (var "+I+" = 0; "+I+" < "+h+".length; "+I+"++) { "+d+" = "+u+"["+h+"["+I+"]] !== undefined ",x&&(r+=" &&   Object.prototype.hasOwnProperty.call("+u+", "+h+"["+I+"]) "),r+="; if (!"+d+") break; } ",f&&(r+="  }  "),r+="  if (!"+d+") {   ";var S=S||[];S.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+k+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+k+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var _=r;r=S.pop(),!e.compositeRule&&c?e.async?r+=" throw new ValidationError(["+_+"]); ":r+=" validate.errors = ["+_+"]; return false; ":r+=" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else{r+=" if ( ";var T=p;if(T){I=-1;var E=T.length-1;while(I<E){L=T[I+=1],I&&(r+=" || ");var O=e.util.getProperty(L),R=u+O;r+=" ( ( "+R+" === undefined ",x&&(r+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(L)+"') "),r+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?L:O)+") ) "}}r+=") {  ";A="missing"+i,k="' + "+A+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(C,A,!0):C+" + "+A);S=S||[];S.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+k+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+k+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";_=r;r=S.pop(),!e.compositeRule&&c?e.async?r+=" throw new ValidationError(["+_+"]); ":r+=" validate.errors = ["+_+"]; return false; ":r+=" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else if(w){f||(r+=" var "+h+" = validate.schema"+s+"; ");I="i"+i,A="schema"+i+"["+I+"]",k="' + "+A+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(C,A,e.opts.jsonPointers)),f&&(r+=" if ("+h+" && !Array.isArray("+h+")) {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+k+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+k+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+h+" !== undefined) { "),r+=" for (var "+I+" = 0; "+I+" < "+h+".length; "+I+"++) { if ("+u+"["+h+"["+I+"]] === undefined ",x&&(r+=" || ! Object.prototype.hasOwnProperty.call("+u+", "+h+"["+I+"]) "),r+=") {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+k+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+k+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",f&&(r+="  }  ")}else{var N=p;if(N){var L,D=-1,B=N.length-1;while(D<B){L=N[D+=1];O=e.util.getProperty(L),k=e.util.escapeQuotes(L),R=u+O;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(C,L,e.opts.jsonPointers)),r+=" if ( "+R+" === undefined ",x&&(r+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(L)+"') "),r+=") {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+k+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+k+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}}e.errorPath=C}else c&&(r+=" if (true) {");return r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,d="data"+(a||""),f="valid"+o,h=e.opts.$data&&s&&s.$data;if(h?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",r="schema"+o):r=s,(s||h)&&!1!==e.opts.uniqueItems){h&&(i+=" var "+f+"; if ("+r+" === false || "+r+" === undefined) "+f+" = true; else if (typeof "+r+" != 'boolean') "+f+" = false; else { "),i+=" var i = "+d+".length , "+f+" = true , j; if (i > 1) { ";var p=e.schema.items&&e.schema.items.type,m=Array.isArray(p);if(!p||"object"==p||"array"==p||m&&(p.indexOf("object")>=0||p.indexOf("array")>=0))i+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+d+"[i], "+d+"[j])) { "+f+" = false; break outer; } } } ";else{i+=" var itemIndices = {}, item; for (;i--;) { var item = "+d+"[i]; ";var g="checkDataType"+(m?"s":"");i+=" if ("+e.util[g](p,"item",!0)+") continue; ",m&&(i+=" if (typeof item == 'string') item = '\"' + item; "),i+=" if (typeof itemIndices[item] == 'number') { "+f+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}i+=" } ",h&&(i+="  }  "),i+=" if (!"+f+") {   ";var v=v||[];v.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { i: i, j: j } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+l:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),i+=" } "):i+=" {} ";var b=i;i=v.pop(),!e.compositeRule&&u?e.async?i+=" throw new ValidationError(["+b+"]); ":i+=" validate.errors = ["+b+"]; return false; ":i+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",u&&(i+=" else { ")}else u&&(i+=" if (true) { ");return i}},function(e,t,n){"use strict";var r=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];e.exports=function(e,t){for(var n=0;n<t.length;n++){e=JSON.parse(JSON.stringify(e));var i,o=t[n].split("/"),a=e;for(i=1;i<o.length;i++)a=a[o[i]];for(i=0;i<r.length;i++){var s=r[i],l=a[s];l&&(a[s]={anyOf:[l,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#"}]})}}return e}},function(e,t,n){"use strict";var r=n(19).MissingRef;function i(e,t,n){var o=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof t&&(n=t,t=void 0);var a=s(e).then((function(){var n=o._addSchema(e,void 0,t);return n.validate||l(n)}));return n&&a.then((function(e){n(null,e)}),n),a;function s(e){var t=e.$schema;return t&&!o.getSchema(t)?i.call(o,{$ref:t},!0):Promise.resolve()}function l(e){try{return o._compile(e)}catch(i){if(i instanceof r)return n(i);throw i}function n(n){var r=n.missingSchema;if(c(r))throw new Error("Schema "+r+" is loaded but "+n.missingRef+" cannot be resolved");var i=o._loadingSchemas[r];return i||(i=o._loadingSchemas[r]=o._opts.loadSchema(r),i.then(a,a)),i.then((function(e){if(!c(r))return s(e).then((function(){c(r)||o.addSchema(e,r,void 0,t)}))})).then((function(){return l(e)}));function a(){delete o._loadingSchemas[r]}function c(e){return o._refs[e]||o._schemas[e]}}}}e.exports=i},function(e,t,n){"use strict";var r=/^[a-z_$][a-z0-9_$-]*$/i,i=n(75),o=n(76);function a(e,t){var n=this.RULES;if(n.keywords[e])throw new Error("Keyword "+e+" is already defined");if(!r.test(e))throw new Error("Keyword "+e+" is not a valid identifier");if(t){this.validateKeyword(t,!0);var o=t.type;if(Array.isArray(o))for(var a=0;a<o.length;a++)l(e,o[a],t);else l(e,o,t);var s=t.metaSchema;s&&(t.$data&&this._opts.$data&&(s={anyOf:[s,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#"}]}),t.validateSchema=this.compile(s,!0))}function l(e,t,r){for(var o,a=0;a<n.length;a++){var s=n[a];if(s.type==t){o=s;break}}o||(o={type:t,rules:[]},n.push(o));var l={keyword:e,definition:r,custom:!0,code:i,implements:r.implements};o.rules.push(l),n.custom[e]=l}return n.keywords[e]=n.all[e]=!0,this}function s(e){var t=this.RULES.custom[e];return t?t.definition:this.RULES.keywords[e]||!1}function l(e){var t=this.RULES;delete t.keywords[e],delete t.all[e],delete t.custom[e];for(var n=0;n<t.length;n++)for(var r=t[n].rules,i=0;i<r.length;i++)if(r[i].keyword==e){r.splice(i,1);break}return this}function c(e,t){c.errors=null;var n=this._validateKeyword=this._validateKeyword||this.compile(o,!0);if(n(e))return!0;if(c.errors=n.errors,t)throw new Error("custom keyword definition is invalid: "+this.errorsText(n.errors));return!1}e.exports={add:a,get:s,remove:l,validate:c}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i,o=" ",a=e.level,s=e.dataLevel,l=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,f="data"+(s||""),h="valid"+a,p="errs__"+a,m=e.opts.$data&&l&&l.$data;m?(o+=" var schema"+a+" = "+e.util.getData(l.$data,s,e.dataPathArr)+"; ",i="schema"+a):i=l;var g,v,b,y,C,w=this,x="definition"+a,I=w.definition,A="";if(m&&I.$data){C="keywordValidate"+a;var k=I.validateSchema;o+=" var "+x+" = RULES.custom['"+t+"'].definition; var "+C+" = "+x+".validate;"}else{if(y=e.useCustomRule(w,l,e.schema,e),!y)return;i="validate.schema"+c,C=y.code,g=I.compile,v=I.inline,b=I.macro}var S=C+".errors",_="i"+a,T="ruleErr"+a,E=I.async;if(E&&!e.async)throw new Error("async keyword in sync schema");if(v||b||(o+=S+" = null;"),o+="var "+p+" = errors;var "+h+";",m&&I.$data&&(A+="}",o+=" if ("+i+" === undefined) { "+h+" = true; } else { ",k&&(A+="}",o+=" "+h+" = "+x+".validateSchema("+i+"); if ("+h+") { ")),v)I.statements?o+=" "+y.validate+" ":o+=" "+h+" = "+y.validate+"; ";else if(b){var O=e.util.copy(e);A="";O.level++;var R="valid"+O.level;O.schema=y.validate,O.schemaPath="";var N=e.compositeRule;e.compositeRule=O.compositeRule=!0;var L=e.validate(O).replace(/validate\.schema/g,C);e.compositeRule=O.compositeRule=N,o+=" "+L}else{var D=D||[];D.push(o),o="",o+="  "+C+".call( ",e.opts.passContext?o+="this":o+="self",g||!1===I.schema?o+=" , "+f+" ":o+=" , "+i+" , "+f+" , validate.schema"+e.schemaPath+" ",o+=" , (dataPath || '')",'""'!=e.errorPath&&(o+=" + "+e.errorPath);var B=s?"data"+(s-1||""):"parentData",M=s?e.dataPathArr[s]:"parentDataProperty";o+=" , "+B+" , "+M+" , rootData )  ";var P=o;o=D.pop(),!1===I.errors?(o+=" "+h+" = ",E&&(o+="await "),o+=P+"; "):E?(S="customErrors"+a,o+=" var "+S+" = null; try { "+h+" = await "+P+"; } catch (e) { "+h+" = false; if (e instanceof ValidationError) "+S+" = e.errors; else throw e; } "):o+=" "+S+" = null; "+h+" = "+P+"; "}if(I.modifying&&(o+=" if ("+B+") "+f+" = "+B+"["+M+"];"),o+=""+A,I.valid)d&&(o+=" if (true) { ");else{o+=" if ( ",void 0===I.valid?(o+=" !",o+=b?""+R:""+h):o+=" "+!I.valid+" ",o+=") { ",r=w.keyword;D=D||[];D.push(o),o="";D=D||[];D.push(o),o="",!1!==e.createErrors?(o+=" { keyword: '"+(r||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { keyword: '"+w.keyword+"' } ",!1!==e.opts.messages&&(o+=" , message: 'should pass \""+w.keyword+"\" keyword validation' "),e.opts.verbose&&(o+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),o+=" } "):o+=" {} ";var F=o;o=D.pop(),!e.compositeRule&&d?e.async?o+=" throw new ValidationError(["+F+"]); ":o+=" validate.errors = ["+F+"]; return false; ":o+=" var err = "+F+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var j=o;o=D.pop(),v?I.errors?"full"!=I.errors&&(o+="  for (var "+_+"="+p+"; "+_+"<errors; "+_+"++) { var "+T+" = vErrors["+_+"]; if ("+T+".dataPath === undefined) "+T+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+T+".schemaPath === undefined) { "+T+'.schemaPath = "'+u+'"; } ',e.opts.verbose&&(o+=" "+T+".schema = "+i+"; "+T+".data = "+f+"; "),o+=" } "):!1===I.errors?o+=" "+j+" ":(o+=" if ("+p+" == errors) { "+j+" } else {  for (var "+_+"="+p+"; "+_+"<errors; "+_+"++) { var "+T+" = vErrors["+_+"]; if ("+T+".dataPath === undefined) "+T+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+T+".schemaPath === undefined) { "+T+'.schemaPath = "'+u+'"; } ',e.opts.verbose&&(o+=" "+T+".schema = "+i+"; "+T+".data = "+f+"; "),o+=" } } "):b?(o+="   var err =   ",!1!==e.createErrors?(o+=" { keyword: '"+(r||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { keyword: '"+w.keyword+"' } ",!1!==e.opts.messages&&(o+=" , message: 'should pass \""+w.keyword+"\" keyword validation' "),e.opts.verbose&&(o+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),o+=" } "):o+=" {} ",o+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&d&&(e.async?o+=" throw new ValidationError(vErrors); ":o+=" validate.errors = vErrors; return false; ")):!1===I.errors?o+=" "+j+" ":(o+=" if (Array.isArray("+S+")) { if (vErrors === null) vErrors = "+S+"; else vErrors = vErrors.concat("+S+"); errors = vErrors.length;  for (var "+_+"="+p+"; "+_+"<errors; "+_+"++) { var "+T+" = vErrors["+_+"]; if ("+T+".dataPath === undefined) "+T+".dataPath = (dataPath || '') + "+e.errorPath+";  "+T+'.schemaPath = "'+u+'";  ',e.opts.verbose&&(o+=" "+T+".schema = "+i+"; "+T+".data = "+f+"; "),o+=" } } else { "+j+" } "),o+=" } ",d&&(o+=" else { ")}return o}},function(e,t,n){"use strict";var r=n(32);e.exports={$id:"https://github.com/epoberezkin/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:r.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:r.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}}},function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON Schema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},function(e){e.exports=JSON.parse('{"id":"http://json-schema.org/draft-04/schema#","$schema":"http://json-schema.org/draft-04/schema#","description":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"positiveInteger":{"type":"integer","minimum":0},"positiveIntegerDefault0":{"allOf":[{"$ref":"#/definitions/positiveInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"minItems":1,"uniqueItems":true}},"type":"object","properties":{"id":{"type":"string"},"$schema":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":{},"multipleOf":{"type":"number","minimum":0,"exclusiveMinimum":true},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"boolean","default":false},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"boolean","default":false},"maxLength":{"$ref":"#/definitions/positiveInteger"},"minLength":{"$ref":"#/definitions/positiveIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"anyOf":[{"type":"boolean"},{"$ref":"#"}],"default":{}},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":{}},"maxItems":{"$ref":"#/definitions/positiveInteger"},"minItems":{"$ref":"#/definitions/positiveIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"maxProperties":{"$ref":"#/definitions/positiveInteger"},"minProperties":{"$ref":"#/definitions/positiveIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"anyOf":[{"type":"boolean"},{"$ref":"#"}],"default":{}},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"enum":{"type":"array","minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"dependencies":{"exclusiveMaximum":["maximum"],"exclusiveMinimum":["minimum"]},"default":{}}')},function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-06/schema#","$id":"http://json-schema.org/draft-06/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"title":{"type":"string"},"description":{"type":"string"},"default":{},"examples":{"type":"array","items":{}},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":{}},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":{},"enum":{"type":"array","minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":{}}')},function(e,t,n){"use strict";n.r(t),n.d(t,"treeModeMixins",(function(){return X}));var r=n(13),i=n.n(r);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}var l=function(){function e(){o(this,e),this.locked=!1}return s(e,[{key:"highlight",value:function(e){this.locked||(this.node!==e&&(this.node&&this.node.setHighlight(!1),this.node=e,this.node.setHighlight(!0)),this._cancelUnhighlight())}},{key:"unhighlight",value:function(){if(!this.locked){var e=this;this.node&&(this._cancelUnhighlight(),this.unhighlightTimer=setTimeout((function(){e.node.setHighlight(!1),e.node=void 0,e.unhighlightTimer=void 0}),0))}}},{key:"_cancelUnhighlight",value:function(){this.unhighlightTimer&&(clearTimeout(this.unhighlightTimer),this.unhighlightTimer=void 0)}},{key:"lock",value:function(){this.locked=!0}},{key:"unlock",value:function(){this.locked=!1}}]),e}(),c=n(0);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}var h=function(){function e(t){function n(e){return t.node.findNodeByInternalPath(e)}u(this,e),this.editor=t,this.history=[],this.index=-1,this.clear(),this.actions={editField:{undo:function(e){var t=n(e.parentPath),r=t.childs[e.index];r.updateField(e.oldValue)},redo:function(e){var t=n(e.parentPath),r=t.childs[e.index];r.updateField(e.newValue)}},editValue:{undo:function(e){n(e.path).updateValue(e.oldValue)},redo:function(e){n(e.path).updateValue(e.newValue)}},changeType:{undo:function(e){n(e.path).changeType(e.oldType)},redo:function(e){n(e.path).changeType(e.newType)}},appendNodes:{undo:function(e){var t=n(e.parentPath);e.paths.map(n).forEach((function(e){t.removeChild(e)}))},redo:function(e){var t=n(e.parentPath);e.nodes.forEach((function(e){t.appendChild(e)}))}},insertBeforeNodes:{undo:function(e){var t=n(e.parentPath);e.paths.map(n).forEach((function(e){t.removeChild(e)}))},redo:function(e){var t=n(e.parentPath),r=n(e.beforePath);e.nodes.forEach((function(e){t.insertBefore(e,r)}))}},insertAfterNodes:{undo:function(e){var t=n(e.parentPath);e.paths.map(n).forEach((function(e){t.removeChild(e)}))},redo:function(e){var t=n(e.parentPath),r=n(e.afterPath);e.nodes.forEach((function(e){t.insertAfter(e,r),r=e}))}},removeNodes:{undo:function(e){var t=n(e.parentPath),r=t.childs[e.index]||t.append;e.nodes.forEach((function(e){t.insertBefore(e,r)}))},redo:function(e){var t=n(e.parentPath);e.paths.map(n).forEach((function(e){t.removeChild(e)}))}},duplicateNodes:{undo:function(e){var t=n(e.parentPath);e.clonePaths.map(n).forEach((function(e){t.removeChild(e)}))},redo:function(e){var t=n(e.parentPath),r=n(e.afterPath),i=e.paths.map(n);i.forEach((function(e){var n=e.clone();if("object"===t.type){var i=t.getFieldNames();n.field=Object(c["findUniqueName"])(e.field,i)}t.insertAfter(n,r),r=n}))}},moveNodes:{undo:function(e){var t=n(e.oldParentPath),r=n(e.newParentPath),i=t.childs[e.oldIndex]||t.append,o=r.childs.slice(e.newIndex,e.newIndex+e.count);o.forEach((function(n,r){n.field=e.fieldNames[r],t.moveBefore(n,i)})),null===e.newParentPathRedo&&(e.newParentPathRedo=r.getInternalPath())},redo:function(e){var t=n(e.oldParentPathRedo),r=n(e.newParentPathRedo),i=r.childs[e.newIndexRedo]||r.append,o=t.childs.slice(e.oldIndexRedo,e.oldIndexRedo+e.count);o.forEach((function(t,n){t.field=e.fieldNames[n],r.moveBefore(t,i)}))}},sort:{undo:function(e){var t=n(e.path);t.hideChilds(),t.childs=e.oldChilds,t.updateDom({updateIndexes:!0}),t.showChilds()},redo:function(e){var t=n(e.path);t.hideChilds(),t.childs=e.newChilds,t.updateDom({updateIndexes:!0}),t.showChilds()}},transform:{undo:function(e){n(e.path).setInternalValue(e.oldValue)},redo:function(e){n(e.path).setInternalValue(e.newValue)}}}}return f(e,[{key:"onChange",value:function(){}},{key:"add",value:function(e,t){this.index++,this.history[this.index]={action:e,params:t,timestamp:new Date},this.index<this.history.length-1&&this.history.splice(this.index+1,this.history.length-this.index-1),this.onChange()}},{key:"clear",value:function(){this.history=[],this.index=-1,this.onChange()}},{key:"canUndo",value:function(){return this.index>=0}},{key:"canRedo",value:function(){return this.index<this.history.length-1}},{key:"undo",value:function(){if(this.canUndo()){var e=this.history[this.index];if(e){var t=this.actions[e.action];if(t&&t.undo&&(t.undo(e.params),e.params.oldSelection))try{this.editor.setDomSelection(e.params.oldSelection)}catch(n){}}this.index--,this.onChange()}}},{key:"redo",value:function(){if(this.canRedo()){this.index++;var e=this.history[this.index];if(e){var t=this.actions[e.action];if(t&&t.redo&&(t.redo(e.params),e.params.newSelection))try{this.editor.setDomSelection(e.params.newSelection)}catch(n){}}this.onChange()}}},{key:"destroy",value:function(){this.editor=null,this.history=[],this.index=-1}}]),e}(),p=n(1);function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),e}var b=function(){function e(t,n){m(this,e);var r=this;this.editor=t,this.timeout=void 0,this.delay=200,this.lastText=void 0,this.results=null,this.dom={},this.dom.container=n;var i=document.createElement("div");this.dom.wrapper=i,i.className="jsoneditor-search",n.appendChild(i);var o=document.createElement("div");this.dom.results=o,o.className="jsoneditor-results",i.appendChild(o);var a=document.createElement("div");this.dom.input=a,a.className="jsoneditor-frame",a.title=Object(p["c"])("searchTitle"),i.appendChild(a);var s=document.createElement("button");s.type="button",s.className="jsoneditor-refresh",a.appendChild(s);var l=document.createElement("input");l.type="text",this.dom.search=l,l.oninput=function(e){r._onDelayedSearch(e)},l.onchange=function(e){r._onSearch()},l.onkeydown=function(e){r._onKeyDown(e)},l.onkeyup=function(e){r._onKeyUp(e)},s.onclick=function(e){l.select()},a.appendChild(l);var c=document.createElement("button");c.type="button",c.title=Object(p["c"])("searchNextResultTitle"),c.className="jsoneditor-next",c.onclick=function(){r.next()},a.appendChild(c);var u=document.createElement("button");u.type="button",u.title=Object(p["c"])("searchPreviousResultTitle"),u.className="jsoneditor-previous",u.onclick=function(){r.previous()},a.appendChild(u)}return v(e,[{key:"next",value:function(e){if(this.results){var t=null!==this.resultIndex?this.resultIndex+1:0;t>this.results.length-1&&(t=0),this._setActiveResult(t,e)}}},{key:"previous",value:function(e){if(this.results){var t=this.results.length-1,n=null!==this.resultIndex?this.resultIndex-1:t;n<0&&(n=t),this._setActiveResult(n,e)}}},{key:"_setActiveResult",value:function(e,t){if(this.activeResult){var n=this.activeResult.node,r=this.activeResult.elem;"field"===r?delete n.searchFieldActive:delete n.searchValueActive,n.updateDom()}if(!this.results||!this.results[e])return this.resultIndex=void 0,void(this.activeResult=void 0);this.resultIndex=e;var i=this.results[this.resultIndex].node,o=this.results[this.resultIndex].elem;"field"===o?i.searchFieldActive=!0:i.searchValueActive=!0,this.activeResult=this.results[this.resultIndex],i.updateDom(),i.scrollTo((function(){t&&i.focus(o)}))}},{key:"_clearDelay",value:function(){void 0!==this.timeout&&(clearTimeout(this.timeout),delete this.timeout)}},{key:"_onDelayedSearch",value:function(e){this._clearDelay();var t=this;this.timeout=setTimeout((function(e){t._onSearch()}),this.delay)}},{key:"_onSearch",value:function(e){this._clearDelay();var t=this.dom.search.value,n=t.length>0?t:void 0;if(n!==this.lastText||e){this.lastText=n,this.results=this.editor.search(n);var r=this.results[0]?this.results[0].node.MAX_SEARCH_RESULTS:1/0,i=0;if(this.activeResult)for(var o=0;o<this.results.length;o++)if(this.results[o].node===this.activeResult.node){i=o;break}if(this._setActiveResult(i,!1),void 0!==n){var a=this.results.length;this.dom.results.textContent=0===a?"no results":1===a?"1 result":a>r?r+"+ results":a+" results"}else this.dom.results.textContent=""}}},{key:"_onKeyDown",value:function(e){var t=e.which;27===t?(this.dom.search.value="",this._onSearch(),e.preventDefault(),e.stopPropagation()):13===t&&(e.ctrlKey?this._onSearch(!0):e.shiftKey?this.previous():this.next(),e.preventDefault(),e.stopPropagation())}},{key:"_onKeyUp",value:function(e){var t=e.keyCode;27!==t&&13!==t&&this._onDelayedSearch(e)}},{key:"clear",value:function(){this.dom.search.value="",this._onSearch()}},{key:"forceSearch",value:function(){this._onSearch(!0)}},{key:"isEmpty",value:function(){return""===this.dom.search.value}},{key:"destroy",value:function(){this.editor=null,this.dom.container.removeChild(this.dom.wrapper),this.dom=null,this.results=null,this.activeResult=null,this._clearDelay()}}]),e}(),y=n(3);function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t,n){return t&&w(e.prototype,t),n&&w(e,n),e}var I=function(){function e(t,n){C(this,e),t&&(this.root=n,this.path=document.createElement("div"),this.path.className="jsoneditor-treepath",this.path.setAttribute("tabindex",0),this.contentMenuClicked=!1,t.appendChild(this.path),this.reset())}return x(e,[{key:"reset",value:function(){this.path.textContent=Object(p["c"])("selectNode")}},{key:"setPath",value:function(e){var t=this;function n(e){t.contentMenuClicked=!1,Object(c["addClassName"])(t.path,"show-all"),t.path.style.width=t.path.parentNode.getBoundingClientRect().width-10+"px",t.path.onblur=function(){if(t.contentMenuClicked)return t.contentMenuClicked=!1,void t.path.focus();Object(c["removeClassName"])(t.path,"show-all"),t.path.onblur=void 0,t.path.style.width="",t.setPath(e)}}function r(e){this.selectionCallback&&this.selectionCallback(e)}function i(e,t){this.contextMenuCallback&&this.contextMenuCallback(e,t)}this.path.textContent="",e&&e.length&&e.forEach((function(o,a){var s,l=document.createElement("span");if(l.className="jsoneditor-treepath-element",l.innerText=o.name,l.onclick=r.bind(t,o),t.path.appendChild(l),o.children.length&&(s=document.createElement("span"),s.className="jsoneditor-treepath-seperator",s.textContent="►",s.onclick=function(){t.contentMenuClicked=!0;var n=[];o.children.forEach((function(r){n.push({text:r.name,className:"jsoneditor-type-modes"+(e[a+1]+1&&e[a+1].name===r.name?" jsoneditor-selected":""),click:i.bind(t,o,r.name)})}));var r=new y["a"](n);r.show(s,t.root,!0)},t.path.appendChild(s)),a===e.length-1){var c=(s||l).getBoundingClientRect().right;if(t.path.offsetWidth<c&&(t.path.scrollLeft=c),t.path.scrollLeft){var u=document.createElement("span");u.className="jsoneditor-treepath-show-all-btn",u.title="show all path",u.textContent="...",u.onclick=n.bind(t,e),t.path.insertBefore(u,t.path.firstChild)}}}))}},{key:"onSectionSelected",value:function(e){"function"===typeof e&&(this.selectionCallback=e)}},{key:"onContextMenuItemSelected",value:function(e){"function"===typeof e&&(this.contextMenuCallback=e)}}]),e}(),A=n(11),k=n.n(A),S=n(12);function _(e){function t(e){this.editor=e,this.dom={}}return t.prototype=new e,t.prototype.getDom=function(){var e=this.dom;if(e.tr)return e.tr;this._updateEditability();var t=document.createElement("tr");if(t.className="jsoneditor-append",t.node=this,e.tr=t,"tree"===this.editor.options.mode){e.tdDrag=document.createElement("td");var n=document.createElement("td");e.tdMenu=n;var r=document.createElement("button");r.type="button",r.className="jsoneditor-button jsoneditor-contextmenu-button",r.title="Click to open the actions menu (Ctrl+M)",e.menu=r,n.appendChild(e.menu)}var i=document.createElement("td"),o=document.createElement("div");return o.appendChild(document.createTextNode("("+Object(p["c"])("empty")+")")),o.className="jsoneditor-readonly",i.appendChild(o),e.td=i,e.text=o,this.updateDom(),t},t.prototype.getPath=function(){return null},t.prototype.getIndex=function(){return null},t.prototype.updateDom=function(e){var t=this.dom,n=t.td;n&&(n.style.paddingLeft=24*this.getLevel()+26+"px");var r=t.text;r&&(r.firstChild.nodeValue="("+Object(p["c"])("empty")+" "+this.parent.type+")");var i=t.tr;this.isVisible()?t.tr.firstChild||(t.tdDrag&&i.appendChild(t.tdDrag),t.tdMenu&&i.appendChild(t.tdMenu),i.appendChild(n)):t.tr.firstChild&&(t.tdDrag&&i.removeChild(t.tdDrag),t.tdMenu&&i.removeChild(t.tdMenu),i.removeChild(n))},t.prototype.isVisible=function(){return 0===this.parent.childs.length},t.prototype.showContextMenu=function(e,t){var n=this,r=[{text:Object(p["c"])("auto"),className:"jsoneditor-type-auto",title:Object(p["c"])("autoType"),click:function(){n._onAppend("","","auto")}},{text:Object(p["c"])("array"),className:"jsoneditor-type-array",title:Object(p["c"])("arrayType"),click:function(){n._onAppend("",[])}},{text:Object(p["c"])("object"),className:"jsoneditor-type-object",title:Object(p["c"])("objectType"),click:function(){n._onAppend("",{})}},{text:Object(p["c"])("string"),className:"jsoneditor-type-string",title:Object(p["c"])("stringType"),click:function(){n._onAppend("","","string")}}];n.addTemplates(r,!0);var i=[{text:Object(p["c"])("appendText"),title:Object(p["c"])("appendTitleAuto"),submenuTitle:Object(p["c"])("appendSubmenuTitle"),className:"jsoneditor-insert",click:function(){n._onAppend("","","auto")},submenu:r}];if(this.editor.options.onCreateMenu){var o=n.parent.getPath();i=this.editor.options.onCreateMenu(i,{type:"append",path:o,paths:[o]})}var a=new y["a"](i,{close:t});a.show(e,this.editor.getPopupAnchor())},t.prototype.onEvent=function(e){var t=e.type,n=e.target||e.srcElement,r=this.dom,i=r.menu;if(n===i&&("mouseover"===t?this.editor.highlighter.highlight(this.parent):"mouseout"===t&&this.editor.highlighter.unhighlight()),"click"===t&&n===r.menu){var o=this.editor.highlighter;o.highlight(this.parent),o.lock(),Object(c["addClassName"])(r.menu,"jsoneditor-selected"),this.showContextMenu(r.menu,(function(){Object(c["removeClassName"])(r.menu,"jsoneditor-selected"),o.unlock(),o.unhighlight()}))}"keydown"===t&&this.onKeyDown(e)},t}function T(e){function t(e,t){this.editor=e,this.parent=t,this.dom={}}return t.prototype=new e,t.prototype.getDom=function(){if(this.dom.tr)return this.dom.tr;if(this._updateEditability(),!this.dom.tr){var e=this,t=this.parent,n=document.createElement("a");n.appendChild(document.createTextNode(Object(p["c"])("showMore"))),n.href="#",n.onclick=function(n){return t.visibleChilds=Math.floor(t.visibleChilds/t.getMaxVisibleChilds()+1)*t.getMaxVisibleChilds(),e.updateDom(),t.showChilds(),n.preventDefault(),!1};var r=document.createElement("a");r.appendChild(document.createTextNode(Object(p["c"])("showAll"))),r.href="#",r.onclick=function(n){return t.visibleChilds=1/0,e.updateDom(),t.showChilds(),n.preventDefault(),!1};var i=document.createElement("div"),o=document.createTextNode(this._getShowMoreText());i.className="jsoneditor-show-more",i.appendChild(o),i.appendChild(n),i.appendChild(document.createTextNode(". ")),i.appendChild(r),i.appendChild(document.createTextNode(". "));var a=document.createElement("td");a.appendChild(i);var s=document.createElement("tr");"tree"===this.editor.options.mode&&(s.appendChild(document.createElement("td")),s.appendChild(document.createElement("td"))),s.appendChild(a),s.className="jsoneditor-show-more",this.dom.tr=s,this.dom.moreContents=i,this.dom.moreText=o}return this.updateDom(),this.dom.tr},t.prototype.updateDom=function(e){if(this.isVisible()){if(this.dom.tr.node=this.parent.childs[this.parent.visibleChilds],!this.dom.tr.parentNode){var t=this.parent._getNextTr();t&&t.parentNode.insertBefore(this.dom.tr,t)}this.dom.moreText.nodeValue=this._getShowMoreText(),this.dom.moreContents.style.marginLeft=24*(this.getLevel()+1)+"px"}else this.dom.tr&&this.dom.tr.parentNode&&this.dom.tr.parentNode.removeChild(this.dom.tr)},t.prototype._getShowMoreText=function(){return Object(p["c"])("showMoreStatus",{visibleChilds:this.parent.visibleChilds,totalChilds:this.parent.childs.length})+" "},t.prototype.isVisible=function(){return this.parent.expanded&&this.parent.childs.length>this.parent.visibleChilds},t.prototype.onEvent=function(e){var t=e.type;"keydown"===t&&this.onKeyDown(e)},t}var E=n(5),O=n(6),R=n(2),N=void 0;function L(e){return L="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(e)}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,t,n){return t&&B(e.prototype,t),n&&B(e,n),e}var P=function(){function e(t,n){D(this,e),this.editor=t,this.dom={},this.expanded=!1,n&&n instanceof Object?(this.setField(n.field,n.fieldEditable),"value"in n&&this.setValue(n.value,n.type),"internalValue"in n&&this.setInternalValue(n.internalValue)):(this.setField(""),this.setValue(null)),this._debouncedOnChangeValue=Object(c["debounce"])(this._onChangeValue.bind(this),e.prototype.DEBOUNCE_INTERVAL),this._debouncedOnChangeField=Object(c["debounce"])(this._onChangeField.bind(this),e.prototype.DEBOUNCE_INTERVAL),this.visibleChilds=this.getMaxVisibleChilds()}return M(e,[{key:"getMaxVisibleChilds",value:function(){return this.editor&&this.editor.options&&this.editor.options.maxVisibleChilds?this.editor.options.maxVisibleChilds:F}},{key:"_updateEditability",value:function(){if(this.editable={field:!0,value:!0},this.editor&&(this.editable.field="tree"===this.editor.options.mode,this.editable.value="view"!==this.editor.options.mode,("tree"===this.editor.options.mode||"form"===this.editor.options.mode)&&"function"===typeof this.editor.options.onEditable)){var e=this.editor.options.onEditable({field:this.field,value:this.value,path:this.getPath()});"boolean"===typeof e?(this.editable.field=e,this.editable.value=e):("boolean"===typeof e.field&&(this.editable.field=e.field),"boolean"===typeof e.value&&(this.editable.value=e.value))}}},{key:"getPath",value:function(){var e=this,t=[];while(e){var n=e.getName();void 0!==n&&t.unshift(n),e=e.parent}return t}},{key:"getInternalPath",value:function(){var e=this,t=[];while(e)e.parent&&t.unshift(e.getIndex()),e=e.parent;return t}},{key:"getName",value:function(){return this.parent?"array"!==this.parent.type?this.field:this.index:void 0}},{key:"findNodeByPath",value:function(e){if(e){if(0===e.length)return this;if(e.length&&this.childs&&this.childs.length)for(var t=0;t<this.childs.length;++t)if(""+e[0]===""+this.childs[t].getName())return this.childs[t].findNodeByPath(e.slice(1))}}},{key:"findNodeByInternalPath",value:function(e){if(e){for(var t=this,n=0;n<e.length&&t;n++){var r=e[n];t=t.childs[r]}return t}}},{key:"serialize",value:function(){return{value:this.getValue(),path:this.getPath()}}},{key:"findNode",value:function(e){var t=Object(c["parsePath"])(e),n=this,r=function(){var e=t.shift();if("number"===typeof e){if("array"!==n.type)throw new Error("Cannot get child node at index "+e+": node is no array");n=n.childs[e]}else{if("object"!==n.type)throw new Error("Cannot get child node "+e+": node is no object");n=n.childs.filter((function(t){return t.field===e}))[0]}};while(n&&t.length>0)r();return n}},{key:"findParents",value:function(){var e=[],t=this.parent;while(t)e.unshift(t),t=t.parent;return e}},{key:"setError",value:function(e,t){this.error=e,this.errorChild=t,this.dom&&this.dom.tr&&this.updateError()}},{key:"updateError",value:function(){var e=this,t=this.fieldError||this.valueError||this.error,n=this.dom.tdError;if(t&&this.dom&&this.dom.tr){Object(c["addClassName"])(this.dom.tr,"jsoneditor-validation-error"),n||(n=document.createElement("td"),this.dom.tdError=n,this.dom.tdValue.parentNode.appendChild(n));var r=document.createElement("button");r.type="button",r.className="jsoneditor-button jsoneditor-schema-error";var i=function(){e.dom.popupAnchor&&e.dom.popupAnchor.destroy()},o=function(){delete e.dom.popupAnchor},a=function(n){var i=e.editor.frame;e.dom.popupAnchor=Object(S["a"])(r,e.editor.getPopupAnchor(),o,n);var a=200,s=r.getBoundingClientRect(),l=i.getBoundingClientRect(),c=l.width-s.x>a/2+20?"jsoneditor-above":"jsoneditor-left",u=document.createElement("div");u.className="jsoneditor-popover "+c,u.appendChild(document.createTextNode(t.message)),e.dom.popupAnchor.appendChild(u)};r.onmouseover=function(){e.dom.popupAnchor||a(!0)},r.onfocus=function(){i(),a(!1)},r.onblur=function(){i()};var s=this.errorChild;s&&(r.onclick=function(){s.findParents().forEach((function(e){e.expand(!1)})),s.scrollTo((function(){s.focus()}))});while(n.firstChild)n.removeChild(n.firstChild);n.appendChild(r)}else this.dom.tr&&Object(c["removeClassName"])(this.dom.tr,"jsoneditor-validation-error"),n&&(this.dom.tdError.parentNode.removeChild(this.dom.tdError),delete this.dom.tdError)}},{key:"getIndex",value:function(){if(this.parent){var e=this.parent.childs.indexOf(this);return-1!==e?e:null}return-1}},{key:"setParent",value:function(e){this.parent=e}},{key:"setField",value:function(e,t){this.field=e,this.previousField=e,this.fieldEditable=!0===t}},{key:"getField",value:function(){return void 0===this.field&&this._getDomField(),this.field}},{key:"setValue",value:function(t,n){var r,i,o,a,s=!1,l=this.childs;if(this.type=this._getType(t),n&&n!==this.type){if("string"!==n||"auto"!==this.type)throw new Error('Type mismatch: cannot cast value of type "'+this.type+' to the specified type "'+n+'"');this.type=n}if("array"===this.type){for(this.childs||(this.childs=[]),o=0;o<t.length;o++)if(r=t[o],void 0!==r&&!(r instanceof Function))if(o<this.childs.length)i=this.childs[o],i.fieldEditable=!1,i.index=o,i.setValue(r);else{i=new e(this.editor,{value:r});var c=o<this.getMaxVisibleChilds();this.appendChild(i,c,s)}for(a=this.childs.length;a>=t.length;a--)this.removeChild(this.childs[a],s)}else if("object"===this.type){for(this.childs||(this.childs=[]),a=this.childs.length-1;a>=0;a--)z(t,this.childs[a].field)||this.removeChild(this.childs[a],s);for(var u in o=0,t)if(z(t,u)){if(r=t[u],void 0!==r&&!(r instanceof Function)){var d=this.findChildByProperty(u);if(d)d.setField(u,!0),d.setValue(r);else{var f=new e(this.editor,{field:u,value:r}),h=o<this.getMaxVisibleChilds();this.appendChild(f,h,s)}}o++}if(this.value="",!0===this.editor.options.sortObjectKeys){var p=!1;this.sort([],"asc",p)}}else this.hideChilds(),delete this.append,delete this.showMore,delete this.expanded,delete this.childs,this.value=t;Array.isArray(l)!==Array.isArray(this.childs)&&this.recreateDom(),this.updateDom({updateIndexes:!0}),this.previousValue=this.value}},{key:"setInternalValue",value:function(t){var n,r,i,o,a,s=!1,l=this.childs;if(this.type=t.type,"array"===t.type){for(this.childs||(this.childs=[]),o=0;o<t.childs.length;o++)n=t.childs[o],void 0===n||n instanceof Function||(o<this.childs.length?(r=this.childs[o],r.fieldEditable=!1,r.index=o,r.setInternalValue(n)):(r=new e(this.editor,{internalValue:n}),i=o<this.getMaxVisibleChilds(),this.appendChild(r,i,s)));for(a=this.childs.length;a>=t.childs.length;a--)this.removeChild(this.childs[a],s)}else if("object"===t.type){for(this.childs||(this.childs=[]),o=0;o<t.childs.length;o++)n=t.childs[o],void 0===n||n instanceof Function||(o<this.childs.length?(r=this.childs[o],delete r.index,r.setField(n.field,!0),r.setInternalValue(n.value)):(r=new e(this.editor,{field:n.field,internalValue:n.value}),i=o<this.getMaxVisibleChilds(),this.appendChild(r,i,s)));for(a=this.childs.length;a>=t.childs.length;a--)this.removeChild(this.childs[a],s)}else this.hideChilds(),delete this.append,delete this.showMore,delete this.expanded,delete this.childs,this.value=t.value;Array.isArray(l)!==Array.isArray(this.childs)&&this.recreateDom(),this.updateDom({updateIndexes:!0}),this.previousValue=this.value}},{key:"recreateDom",value:function(){if(this.dom&&this.dom.tr&&this.dom.tr.parentNode){var e=this._detachFromDom();this.clearDom(),this._attachToDom(e)}else this.clearDom()}},{key:"getValue",value:function(){if("array"===this.type){var e=[];return this.childs.forEach((function(t){e.push(t.getValue())})),e}if("object"===this.type){var t={};return this.childs.forEach((function(e){t[e.getField()]=e.getValue()})),t}return void 0===this.value&&this._getDomValue(),this.value}},{key:"getInternalValue",value:function(){return"array"===this.type?{type:this.type,childs:this.childs.map((function(e){return e.getInternalValue()}))}:"object"===this.type?{type:this.type,childs:this.childs.map((function(e){return{field:e.getField(),value:e.getInternalValue()}}))}:(void 0===this.value&&this._getDomValue(),{type:this.type,value:this.value})}},{key:"getLevel",value:function(){return this.parent?this.parent.getLevel()+1:0}},{key:"getNodePath",value:function(){var e=this.parent?this.parent.getNodePath():[];return e.push(this),e}},{key:"clone",value:function(){var t=new e(this.editor);if(t.type=this.type,t.field=this.field,t.fieldInnerText=this.fieldInnerText,t.fieldEditable=this.fieldEditable,t.previousField=this.previousField,t.value=this.value,t.valueInnerText=this.valueInnerText,t.previousValue=this.previousValue,t.expanded=this.expanded,t.visibleChilds=this.visibleChilds,this.childs){var n=[];this.childs.forEach((function(e){var r=e.clone();r.setParent(t),n.push(r)})),t.childs=n}else t.childs=void 0;return t}},{key:"expand",value:function(e){this.childs&&(this.expanded=!0,this.dom.expand&&(this.dom.expand.className="jsoneditor-button jsoneditor-expanded"),this.showChilds(),!1!==e&&this.childs.forEach((function(t){t.expand(e)})),this.updateDom({recurse:!1}))}},{key:"collapse",value:function(e){this.childs&&(this.hideChilds(),!1!==e&&this.childs.forEach((function(t){t.collapse(e)})),this.dom.expand&&(this.dom.expand.className="jsoneditor-button jsoneditor-collapsed"),this.expanded=!1,this.updateDom({recurse:!1}))}},{key:"showChilds",value:function(){var e=this.childs;if(e&&this.expanded){var t,n=this.dom.tr,r=n?n.parentNode:void 0;if(r){var i=this.getAppendDom();i.parentNode||(t=n.nextSibling,t?r.insertBefore(i,t):r.appendChild(i));var o=Math.min(this.childs.length,this.visibleChilds);t=this._getNextTr();for(var a=0;a<o;a++){var s=this.childs[a];s.getDom().parentNode||r.insertBefore(s.getDom(),t),s.showChilds()}var l=this.getShowMoreDom();t=this._getNextTr(),l.parentNode||r.insertBefore(l,t),this.showMore.updateDom()}}}},{key:"_getNextTr",value:function(){return this.showMore&&this.showMore.getDom().parentNode?this.showMore.getDom():this.append&&this.append.getDom().parentNode?this.append.getDom():void 0}},{key:"hide",value:function(e){var t=this.dom.tr,n=t?t.parentNode:void 0;n&&n.removeChild(t),this.dom.popupAnchor&&this.dom.popupAnchor.destroy(),this.hideChilds(e)}},{key:"hideChilds",value:function(e){var t=this.childs;if(t&&this.expanded){var n=this.getAppendDom();n.parentNode&&n.parentNode.removeChild(n),this.childs.forEach((function(e){e.hide()}));var r=this.getShowMoreDom();r.parentNode&&r.parentNode.removeChild(r),e&&!e.resetVisibleChilds||(this.visibleChilds=this.getMaxVisibleChilds())}}},{key:"_updateCssClassName",value:function(){if(this.dom.field&&this.editor&&this.editor.options&&"function"===typeof this.editor.options.onClassName&&this.dom.tree){Object(c["removeAllClassNames"])(this.dom.tree);var e=this.editor.options.onClassName({path:this.getPath(),field:this.field,value:this.value})||"";Object(c["addClassName"])(this.dom.tree,"jsoneditor-values "+e)}}},{key:"recursivelyUpdateCssClassesOnNodes",value:function(){if(this._updateCssClassName(),Array.isArray(this.childs))for(var e=0;e<this.childs.length;e++)this.childs[e].recursivelyUpdateCssClassesOnNodes()}},{key:"expandTo",value:function(){var e=this.parent;while(e)e.expanded||e.expand(),e=e.parent}},{key:"appendChild",value:function(e,t,n){if(this._hasChilds()){if(e.setParent(this),e.fieldEditable="object"===this.type,"array"===this.type&&(e.index=this.childs.length),"object"===this.type&&void 0===e.field&&e.setField(""),this.childs.push(e),this.expanded&&!1!==t){var r=e.getDom(),i=this._getNextTr(),o=i?i.parentNode:void 0;i&&o&&o.insertBefore(r,i),e.showChilds(),this.visibleChilds++}!1!==n&&(this.updateDom({updateIndexes:!0}),e.updateDom({recurse:!0}))}}},{key:"moveBefore",value:function(e,t,n){if(this._hasChilds()){var r=this.dom.tr?this.dom.tr.parentNode:void 0;if(r){var i=document.createElement("tr");i.style.height=r.clientHeight+"px",r.appendChild(i)}if(e.parent&&e.parent.removeChild(e),t instanceof $||!t)if(this.childs.length+1>this.visibleChilds){var o=this.childs[this.visibleChilds-1];this.insertBefore(e,o,n)}else{var a=!0;this.appendChild(e,a,n)}else this.insertBefore(e,t,n);r&&r.removeChild(i)}}},{key:"insertBefore",value:function(e,t,n){if(this._hasChilds()){if(this.visibleChilds++,"object"===this.type&&void 0===e.field&&e.setField(""),t===this.append)e.setParent(this),e.fieldEditable="object"===this.type,this.childs.push(e);else{var r=this.childs.indexOf(t);if(-1===r)throw new Error("Node not found");e.setParent(this),e.fieldEditable="object"===this.type,this.childs.splice(r,0,e)}if(this.expanded){var i=e.getDom(),o=t.getDom(),a=o?o.parentNode:void 0;o&&a&&a.insertBefore(i,o),e.showChilds(),this.showChilds()}!1!==n&&(this.updateDom({updateIndexes:!0}),e.updateDom({recurse:!0}))}}},{key:"insertAfter",value:function(e,t){if(this._hasChilds()){var n=this.childs.indexOf(t),r=this.childs[n+1];r?this.insertBefore(e,r):this.appendChild(e)}}},{key:"search",value:function(e,t){var n;Array.isArray(t)||(t=[]);var r=e?e.toLowerCase():void 0;if(delete this.searchField,delete this.searchValue,void 0!==this.field&&t.length<=this.MAX_SEARCH_RESULTS){var i=String(this.field).toLowerCase();n=i.indexOf(r),-1!==n&&(this.searchField=!0,t.push({node:this,elem:"field"})),this._updateDomField()}if(this._hasChilds())this.childs&&this.childs.forEach((function(n){n.search(e,t)}));else if(void 0!==this.value&&t.length<=this.MAX_SEARCH_RESULTS){var o=String(this.value).toLowerCase();n=o.indexOf(r),-1!==n&&(this.searchValue=!0,t.push({node:this,elem:"value"})),this._updateDomValue()}return t}},{key:"scrollTo",value:function(e){this.expandPathToNode(),this.dom.tr&&this.dom.tr.parentNode&&this.editor.scrollTo(this.dom.tr.offsetTop,e)}},{key:"expandPathToNode",value:function(){var e=this,t=!1;while(e&&e.parent){var n="array"===e.parent.type?e.index:e.parent.childs.indexOf(e);while(e.parent.visibleChilds<n+1)e.parent.visibleChilds+=this.getMaxVisibleChilds();e.parent.expand(t),e=e.parent}}},{key:"focus",value:function(t){if(e.focusElement=t,this.dom.tr&&this.dom.tr.parentNode){var n=this.dom;switch(t){case"drag":n.drag?n.drag.focus():n.menu.focus();break;case"menu":n.menu.focus();break;case"expand":this._hasChilds()?n.expand.focus():n.field&&this.fieldEditable?(n.field.focus(),Object(c["selectContentEditable"])(n.field)):n.value&&!this._hasChilds()?(n.value.focus(),Object(c["selectContentEditable"])(n.value)):n.menu.focus();break;case"field":n.field&&this.fieldEditable?(n.field.focus(),Object(c["selectContentEditable"])(n.field)):n.value&&!this._hasChilds()?(n.value.focus(),Object(c["selectContentEditable"])(n.value)):this._hasChilds()?n.expand.focus():n.menu.focus();break;case"value":default:n.select?n.select.focus():n.value&&!this._hasChilds()?(n.value.focus(),Object(c["selectContentEditable"])(n.value)):n.field&&this.fieldEditable?(n.field.focus(),Object(c["selectContentEditable"])(n.field)):this._hasChilds()?n.expand.focus():n.menu.focus();break}}}},{key:"containsNode",value:function(e){if(this===e)return!0;var t=this.childs;if(t)for(var n=0,r=t.length;n<r;n++)if(t[n].containsNode(e))return!0;return!1}},{key:"removeChild",value:function(e,t){if(this.childs){var n=this.childs.indexOf(e);if(-1!==n){n<this.visibleChilds&&this.expanded&&this.visibleChilds--,e.hide(),delete e.searchField,delete e.searchValue;var r=this.childs.splice(n,1)[0];return r.parent=null,!1!==t&&this.updateDom({updateIndexes:!0}),r}}}},{key:"_remove",value:function(e){this.removeChild(e)}},{key:"changeType",value:function(e){var t=this.type;if(t!==e){if("string"!==e&&"auto"!==e||"string"!==t&&"auto"!==t){var n=this._detachFromDom();this.clearDom(),this.type=e,"object"===e?(this.childs||(this.childs=[]),this.childs.forEach((function(e){e.clearDom(),delete e.index,e.fieldEditable=!0,void 0===e.field&&(e.field="")})),"string"!==t&&"auto"!==t||(this.expanded=!0)):"array"===e?(this.childs||(this.childs=[]),this.childs.forEach((function(e,t){e.clearDom(),e.fieldEditable=!1,e.index=t})),"string"!==t&&"auto"!==t||(this.expanded=!0)):this.expanded=!1,this._attachToDom(n)}else this.type=e;"auto"!==e&&"string"!==e||(this.value="string"===e?String(this.value):Object(c["parseString"])(String(this.value)),this.focus()),this.updateDom({updateIndexes:!0})}}},{key:"deepEqual",value:function(e){var t;if("array"===this.type){if(!Array.isArray(e))return!1;if(this.childs.length!==e.length)return!1;for(t=0;t<this.childs.length;t++)if(!this.childs[t].deepEqual(e[t]))return!1}else if("object"===this.type){if("object"!==L(e)||!e)return!1;var n=Object.keys(e);if(this.childs.length!==n.length)return!1;for(t=0;t<n.length;t++){var r=this.childs[t];if(r.field!==n[t]||!r.deepEqual(e[r.field]))return!1}}else if(this.value!==e)return!1;return!0}},{key:"_getDomValue",value:function(){if(this._clearValueError(),this.dom.value&&"array"!==this.type&&"object"!==this.type&&(this.valueInnerText=Object(c["getInnerText"])(this.dom.value),""===this.valueInnerText&&""!==this.dom.value.innerHTML&&(this.dom.value.textContent="")),void 0!==this.valueInnerText)try{var e;if("string"===this.type)e=this._unescapeHTML(this.valueInnerText);else{var t=this._unescapeHTML(this.valueInnerText);e=Object(c["parseString"])(t)}e!==this.value&&(this.value=e,this._debouncedOnChangeValue())}catch(n){this._setValueError(Object(p["c"])("cannotParseValueError"))}}},{key:"_setValueError",value:function(e){this.valueError={message:e},this.updateError()}},{key:"_clearValueError",value:function(){this.valueError&&(this.valueError=null,this.updateError())}},{key:"_setFieldError",value:function(e){this.fieldError={message:e},this.updateError()}},{key:"_clearFieldError",value:function(){this.fieldError&&(this.fieldError=null,this.updateError())}},{key:"_onChangeValue",value:function(){var e=this.editor.getDomSelection();if(e.range){var t=Object(c["textDiff"])(String(this.value),String(this.previousValue));e.range.startOffset=t.start,e.range.endOffset=t.end}var n=this.editor.getDomSelection();if(n.range){var r=Object(c["textDiff"])(String(this.previousValue),String(this.value));n.range.startOffset=r.start,n.range.endOffset=r.end}this.editor._onAction("editValue",{path:this.getInternalPath(),oldValue:this.previousValue,newValue:this.value,oldSelection:e,newSelection:n}),this.previousValue=this.value}},{key:"_onChangeField",value:function(){var e=this.editor.getDomSelection(),t=this.previousField||"";if(e.range){var n=Object(c["textDiff"])(this.field,t);e.range.startOffset=n.start,e.range.endOffset=n.end}var r=this.editor.getDomSelection();if(r.range){var i=Object(c["textDiff"])(t,this.field);r.range.startOffset=i.start,r.range.endOffset=i.end}this.editor._onAction("editField",{parentPath:this.parent.getInternalPath(),index:this.getIndex(),oldValue:this.previousField,newValue:this.field,oldSelection:e,newSelection:r}),this.previousField=this.field}},{key:"_updateDomValue",value:function(){var e=this.dom.value;if(e){var t=["jsoneditor-value"],n=this.value,r="auto"===this.type?Object(c["getType"])(n):this.type,i="string"===r&&Object(c["isUrl"])(n);t.push("jsoneditor-"+r),i&&t.push("jsoneditor-url");var o=""===String(this.value)&&"array"!==this.type&&"object"!==this.type;if(o&&t.push("jsoneditor-empty"),this.searchValueActive&&t.push("jsoneditor-highlight-active"),this.searchValue&&t.push("jsoneditor-highlight"),e.className=t.join(" "),"array"===r||"object"===r){var a=this.childs?this.childs.length:0;e.title=this.type+" containing "+a+" items"}else i&&this.editable.value?e.title=Object(p["c"])("openUrl"):e.title="";if("boolean"===r&&this.editable.value?(this.dom.checkbox||(this.dom.checkbox=document.createElement("input"),this.dom.checkbox.type="checkbox",this.dom.tdCheckbox=document.createElement("td"),this.dom.tdCheckbox.className="jsoneditor-tree",this.dom.tdCheckbox.appendChild(this.dom.checkbox),this.dom.tdValue.parentNode.insertBefore(this.dom.tdCheckbox,this.dom.tdValue)),this.dom.checkbox.checked=this.value):this.dom.tdCheckbox&&(this.dom.tdCheckbox.parentNode.removeChild(this.dom.tdCheckbox),delete this.dom.tdCheckbox,delete this.dom.checkbox),this["enum"]&&this.editable.value){if(!this.dom.select){this.dom.select=document.createElement("select"),this.id=this.field+"_"+(new Date).getUTCMilliseconds(),this.dom.select.id=this.id,this.dom.select.name=this.dom.select.id,this.dom.select.option=document.createElement("option"),this.dom.select.option.value="",this.dom.select.option.textContent="--",this.dom.select.appendChild(this.dom.select.option);for(var s=0;s<this["enum"].length;s++)this.dom.select.option=document.createElement("option"),this.dom.select.option.value=this["enum"][s],this.dom.select.option.textContent=this["enum"][s],this.dom.select.option.value===this.value&&(this.dom.select.option.selected=!0),this.dom.select.appendChild(this.dom.select.option);this.dom.tdSelect=document.createElement("td"),this.dom.tdSelect.className="jsoneditor-tree",this.dom.tdSelect.appendChild(this.dom.select),this.dom.tdValue.parentNode.insertBefore(this.dom.tdSelect,this.dom.tdValue)}!this.schema||z(this.schema,"oneOf")||z(this.schema,"anyOf")||z(this.schema,"allOf")?delete this.valueFieldHTML:(this.valueFieldHTML=this.dom.tdValue.innerHTML,this.dom.tdValue.style.visibility="hidden",this.dom.tdValue.textContent="")}else this.dom.tdSelect&&(this.dom.tdSelect.parentNode.removeChild(this.dom.tdSelect),delete this.dom.tdSelect,delete this.dom.select,this.dom.tdValue.innerHTML=this.valueFieldHTML,this.dom.tdValue.style.visibility="",delete this.valueFieldHTML);if(this.editable.value&&this.editor.options.colorPicker&&"string"===typeof n&&Object(c["isValidColor"])(n)?(this.dom.color||(this.dom.color=document.createElement("div"),this.dom.color.className="jsoneditor-color",this.dom.tdColor=document.createElement("td"),this.dom.tdColor.className="jsoneditor-tree",this.dom.tdColor.appendChild(this.dom.color),this.dom.tdValue.parentNode.insertBefore(this.dom.tdColor,this.dom.tdValue)),Object(c["addClassName"])(this.dom.value,"jsoneditor-color-value"),this.dom.color.style.backgroundColor=n):this._deleteDomColor(),this._showTimestampTag()){this.dom.date||(this.dom.date=document.createElement("div"),this.dom.date.className="jsoneditor-date",this.dom.value.parentNode.appendChild(this.dom.date));var l=null;if("function"===typeof this.editor.options.timestampFormat&&(l=this.editor.options.timestampFormat({field:this.field,value:this.value,path:this.getPath()})),l){while(this.dom.date.firstChild)this.dom.date.removeChild(this.dom.date.firstChild);this.dom.date.appendChild(document.createTextNode(l))}else this.dom.date.textContent=new Date(n).toISOString();this.dom.date.title=new Date(n).toString()}else this.dom.date&&(this.dom.date.parentNode.removeChild(this.dom.date),delete this.dom.date);Object(c["stripFormatting"])(e),this._updateDomDefault()}}},{key:"_deleteDomColor",value:function(){this.dom.color&&(this.dom.tdColor.parentNode.removeChild(this.dom.tdColor),delete this.dom.tdColor,delete this.dom.color,Object(c["removeClassName"])(this.dom.value,"jsoneditor-color-value"))}},{key:"_updateDomField",value:function(){var e=this.dom.field;if(e){var t=Object(c["makeFieldTooltip"])(this.schema,this.editor.options.language);t&&(e.title=t);var n=""===String(this.field)&&"array"!==this.parent.type;n?Object(c["addClassName"])(e,"jsoneditor-empty"):Object(c["removeClassName"])(e,"jsoneditor-empty"),this.searchFieldActive?Object(c["addClassName"])(e,"jsoneditor-highlight-active"):Object(c["removeClassName"])(e,"jsoneditor-highlight-active"),this.searchField?Object(c["addClassName"])(e,"jsoneditor-highlight"):Object(c["removeClassName"])(e,"jsoneditor-highlight"),Object(c["stripFormatting"])(e)}}},{key:"_getDomField",value:function(e){if(this._clearFieldError(),this.dom.field&&this.fieldEditable&&(this.fieldInnerText=Object(c["getInnerText"])(this.dom.field),""===this.fieldInnerText&&""!==this.dom.field.innerHTML&&(this.dom.field.textContent="")),void 0!==this.fieldInnerText)try{var t=this._unescapeHTML(this.fieldInnerText),n=this.parent.getFieldNames(this),r=-1!==n.indexOf(t);r?e?(t=Object(c["findUniqueName"])(t,n),t!==this.field&&(this.field=t,this._debouncedOnChangeField())):this._setFieldError(Object(p["c"])("duplicateFieldError")):t!==this.field&&(this.field=t,this._debouncedOnChangeField())}catch(i){this._setFieldError(Object(p["c"])("cannotParseFieldError"))}}},{key:"_updateDomDefault",value:function(){if(this.schema&&void 0!==this.schema["default"]&&!this._hasChilds()){var e=this.dom.select?this.dom.select:this.dom.value;e&&(this.value===this.schema["default"]?(e.title=Object(p["c"])("default"),Object(c["addClassName"])(e,"jsoneditor-is-default"),Object(c["removeClassName"])(e,"jsoneditor-is-not-default")):(e.removeAttribute("title"),Object(c["removeClassName"])(e,"jsoneditor-is-default"),Object(c["addClassName"])(e,"jsoneditor-is-not-default")))}}},{key:"_showTimestampTag",value:function(){if("number"!==typeof this.value)return!1;var e=this.editor.options.timestampTag;if("function"===typeof e){var t=e({field:this.field,value:this.value,path:this.getPath()});return"boolean"===typeof t?t:Object(c["isTimestamp"])(this.field,this.value)}return!0===e&&Object(c["isTimestamp"])(this.field,this.value)}},{key:"clearDom",value:function(){this.dom={}}},{key:"getDom",value:function(){var e=this.dom;if(e.tr)return e.tr;if(this._updateEditability(),e.tr=document.createElement("tr"),e.tr.node=this,"tree"===this.editor.options.mode){var t=document.createElement("td");if(this.editable.field&&this.parent){var n=document.createElement("button");n.type="button",e.drag=n,n.className="jsoneditor-button jsoneditor-dragarea",n.title=Object(p["c"])("drag"),t.appendChild(n)}e.tr.appendChild(t);var r=document.createElement("td"),i=document.createElement("button");i.type="button",e.menu=i,i.className="jsoneditor-button jsoneditor-contextmenu-button",i.title=Object(p["c"])("actionsMenu"),r.appendChild(e.menu),e.tr.appendChild(r)}var o=document.createElement("td");return e.tr.appendChild(o),e.tree=this._createDomTree(),o.appendChild(e.tree),this.updateDom({updateIndexes:!0}),e.tr}},{key:"isVisible",value:function(){return this.dom&&this.dom.tr&&this.dom.tr.parentNode||!1}},{key:"isDescendantOf",value:function(e){var t=this.parent;while(t){if(t===e)return!0;t=t.parent}return!1}},{key:"_createDomField",value:function(){return document.createElement("div")}},{key:"setHighlight",value:function(e){this.dom.tr&&(e?Object(c["addClassName"])(this.dom.tr,"jsoneditor-highlight"):Object(c["removeClassName"])(this.dom.tr,"jsoneditor-highlight"),this.append&&this.append.setHighlight(e),this.childs&&this.childs.forEach((function(t){t.setHighlight(e)})))}},{key:"setSelected",value:function(e,t){this.selected=e,this.dom.tr&&(e?Object(c["addClassName"])(this.dom.tr,"jsoneditor-selected"):Object(c["removeClassName"])(this.dom.tr,"jsoneditor-selected"),t?Object(c["addClassName"])(this.dom.tr,"jsoneditor-first"):Object(c["removeClassName"])(this.dom.tr,"jsoneditor-first"),this.append&&this.append.setSelected(e),this.showMore&&this.showMore.setSelected(e),this.childs&&this.childs.forEach((function(t){t.setSelected(e)})))}},{key:"updateValue",value:function(e){this.value=e,this.previousValue=e,this.valueError=void 0,this.updateDom()}},{key:"updateField",value:function(e){this.field=e,this.previousField=e,this.fieldError=void 0,this.updateDom()}},{key:"updateDom",value:function(t){var n=this.dom.tree;n&&(n.style.marginLeft=24*this.getLevel()+"px");var r=this.dom.field;if(r){var i;if(this.fieldEditable?(r.contentEditable=this.editable.field,r.spellcheck=!1,r.className="jsoneditor-field"):(r.contentEditable=!1,r.className="jsoneditor-readonly"),void 0!==this.index)i=this.index;else if(void 0!==this.field)i=this.field;else{var o=this.editor.options.schema?e._findSchema(this.editor.options.schema,this.editor.options.schemaRefs||{},this.getPath()):void 0;i=o&&o.title?o.title:this._hasChilds()?this.type:""}var a=this._escapeHTML(i);document.activeElement===r&&a===this._unescapeHTML(Object(c["getInnerText"])(r))||(r.innerHTML=a),this._updateSchema()}var s=this.dom.value;if(s)if("array"===this.type||"object"===this.type)this.updateNodeName();else{var l=this._escapeHTML(this.value);document.activeElement===s&&l===this._unescapeHTML(Object(c["getInnerText"])(s))||(s.innerHTML=l)}var u=this.dom.tr;u&&("array"===this.type||"object"===this.type?(Object(c["addClassName"])(u,"jsoneditor-expandable"),this.expanded?(Object(c["addClassName"])(u,"jsoneditor-expanded"),Object(c["removeClassName"])(u,"jsoneditor-collapsed")):(Object(c["addClassName"])(u,"jsoneditor-collapsed"),Object(c["removeClassName"])(u,"jsoneditor-expanded"))):(Object(c["removeClassName"])(u,"jsoneditor-expandable"),Object(c["removeClassName"])(u,"jsoneditor-expanded"),Object(c["removeClassName"])(u,"jsoneditor-collapsed"))),this._updateDomField(),this._updateDomValue(),t&&!0===t.updateIndexes&&this._updateDomIndexes(),t&&!0===t.recurse&&this.childs&&this.childs.forEach((function(e){e.updateDom(t)})),this.error&&this.updateError(),this.append&&this.append.updateDom(),this.showMore&&this.showMore.updateDom(),this._updateCssClassName()}},{key:"_updateSchema",value:function(){this.editor&&this.editor.options&&(this.schema=this.editor.options.schema?e._findSchema(this.editor.options.schema,this.editor.options.schemaRefs||{},this.getPath()):null,this.schema?this["enum"]=e._findEnum(this.schema):delete this["enum"])}},{key:"_updateDomIndexes",value:function(){var e=this.dom.value,t=this.childs;e&&t&&("array"===this.type?t.forEach((function(e,t){e.index=t;var n=e.dom.field;n&&(n.textContent=t)})):"object"===this.type&&t.forEach((function(e){void 0!==e.index&&(delete e.index,void 0===e.field&&(e.field=""))})))}},{key:"_createDomValue",value:function(){var e;return"array"===this.type?(e=document.createElement("div"),e.textContent="[...]"):"object"===this.type?(e=document.createElement("div"),e.textContent="{...}"):!this.editable.value&&Object(c["isUrl"])(this.value)?(e=document.createElement("a"),e.href=this.value,e.innerHTML=this._escapeHTML(this.value)):(e=document.createElement("div"),e.contentEditable=this.editable.value,e.spellcheck=!1,e.innerHTML=this._escapeHTML(this.value)),e}},{key:"_createDomExpandButton",value:function(){var e=document.createElement("button");return e.type="button",this._hasChilds()?(e.className=this.expanded?"jsoneditor-button jsoneditor-expanded":"jsoneditor-button jsoneditor-collapsed",e.title=Object(p["c"])("expandTitle")):(e.className="jsoneditor-button jsoneditor-invisible",e.title=""),e}},{key:"_createDomTree",value:function(){var e=this.dom,t=document.createElement("table"),n=document.createElement("tbody");t.style.borderCollapse="collapse",t.className="jsoneditor-values",t.appendChild(n);var r=document.createElement("tr");n.appendChild(r);var i=document.createElement("td");i.className="jsoneditor-tree",r.appendChild(i),e.expand=this._createDomExpandButton(),i.appendChild(e.expand),e.tdExpand=i;var o=document.createElement("td");o.className="jsoneditor-tree",r.appendChild(o),e.field=this._createDomField(),o.appendChild(e.field),e.tdField=o;var a=document.createElement("td");a.className="jsoneditor-tree",r.appendChild(a),"object"!==this.type&&"array"!==this.type&&(a.appendChild(document.createTextNode(":")),a.className="jsoneditor-separator"),e.tdSeparator=a;var s=document.createElement("td");return s.className="jsoneditor-tree",r.appendChild(s),e.value=this._createDomValue(),s.appendChild(e.value),e.tdValue=s,t}},{key:"onEvent",value:function(e){var t=e.type,n=e.target||e.srcElement,r=this.dom,i=this,o=this._hasChilds();if("function"===typeof this.editor.options.onEvent&&this._onEvent(e),n!==r.drag&&n!==r.menu||("mouseover"===t?this.editor.highlighter.highlight(this):"mouseout"===t&&this.editor.highlighter.unhighlight()),"click"===t&&n===r.menu){var a=i.editor.highlighter;a.highlight(i),a.lock(),Object(c["addClassName"])(r.menu,"jsoneditor-selected"),this.showContextMenu(r.menu,(function(){Object(c["removeClassName"])(r.menu,"jsoneditor-selected"),a.unlock(),a.unhighlight()}))}if("click"===t&&n===r.expand&&o){var s=e.ctrlKey;this._onExpand(s)}"click"!==t||e.target!==i.dom.tdColor&&e.target!==i.dom.color||this._showColorPicker(),"change"===t&&n===r.checkbox&&(this.dom.value.textContent=String(!this.value),this._getDomValue(),this._updateDomDefault()),"change"===t&&n===r.select&&(this.dom.value.innerHTML=this._escapeHTML(r.select.value),this._getDomValue(),this._updateDomValue());var l=r.value;if(n===l)switch(t){case"blur":case"change":this._getDomValue(),this._clearValueError(),this._updateDomValue();var u=this._escapeHTML(this.value);u!==this._unescapeHTML(Object(c["getInnerText"])(l))&&(l.innerHTML=u);break;case"input":this._getDomValue(),this._updateDomValue();break;case"keydown":case"mousedown":this.editor.selection=this.editor.getDomSelection();break;case"click":e.ctrlKey&&this.editable.value&&Object(c["isUrl"])(this.value)&&(e.preventDefault(),window.open(this.value,"_blank"));break;case"keyup":this._getDomValue(),this._updateDomValue();break;case"cut":case"paste":setTimeout((function(){i._getDomValue(),i._updateDomValue()}),1);break}var d=r.field;if(n===d)switch(t){case"blur":this._getDomField(!0),this._updateDomField();var f=this._escapeHTML(this.field);f!==this._unescapeHTML(Object(c["getInnerText"])(d))&&(d.innerHTML=f);break;case"input":this._getDomField(),this._updateSchema(),this._updateDomField(),this._updateDomValue();break;case"keydown":case"mousedown":this.editor.selection=this.editor.getDomSelection();break;case"keyup":this._getDomField(),this._updateDomField();break;case"cut":case"paste":setTimeout((function(){i._getDomField(),i._updateDomField()}),1);break}var h=r.tree;if(h&&n===h.parentNode&&"click"===t&&!e.hasMoved){var p=void 0!==e.offsetX?e.offsetX<24*(this.getLevel()+1):e.pageX<Object(c["getAbsoluteLeft"])(r.tdSeparator);p||o?d&&(Object(c["setEndOfContentEditable"])(d),d.focus()):l&&!this["enum"]&&(Object(c["setEndOfContentEditable"])(l),l.focus())}(n!==r.tdExpand||o)&&n!==r.tdField&&n!==r.tdSeparator||"click"!==t||e.hasMoved||d&&(Object(c["setEndOfContentEditable"])(d),d.focus()),"keydown"===t&&this.onKeyDown(e)}},{key:"_onEvent",value:function(e){var t=e.target;if(t===this.dom.field||t===this.dom.value){var n={field:this.getField(),path:this.getPath()};this._hasChilds()||t!==this.dom.value||(n.value=this.getValue()),this.editor.options.onEvent(n,e)}}},{key:"onKeyDown",value:function(t){var n,r,i,o,a,s,l,u,d,f,h,p,m,g=t.which||t.keyCode,v=t.target||t.srcElement,b=t.ctrlKey,y=t.shiftKey,C=t.altKey,w=!1,x="tree"===this.editor.options.mode,I=this.editor.multiselection.nodes.length>0?this.editor.multiselection.nodes:[this],A=I[0],k=I[I.length-1];if(13===g){if(v===this.dom.value)this.editable.value&&!t.ctrlKey||Object(c["isUrl"])(this.value)&&(window.open(this.value,"_blank"),w=!0);else if(v===this.dom.expand){var S=this._hasChilds();if(S){var _=t.ctrlKey;this._onExpand(_),v.focus(),w=!0}}}else if(68===g)b&&x&&(e.onDuplicate(I),w=!0);else if(69===g)b&&(this._onExpand(y),v.focus(),w=!0);else if(77===g&&x)b&&(this.showContextMenu(v),w=!0);else if(46===g&&x)b&&(e.onRemove(I),w=!0);else if(45===g&&x)b&&!y?(this._onInsertBefore(),w=!0):b&&y&&(this._onInsertAfter(),w=!0);else if(35===g){if(C){var T=this._lastNode();T&&T.focus(e.focusElement||this._getElementName(v)),w=!0}}else if(36===g){if(C){var E=this._firstNode();E&&E.focus(e.focusElement||this._getElementName(v)),w=!0}}else if(37===g){if(C&&!y){var O=this._previousElement(v);O&&this.focus(this._getElementName(O)),w=!0}else if(C&&y&&x){if(k.expanded){var R=k.getAppendDom();i=R?R.nextSibling:void 0}else{var N=k.getDom();i=N.nextSibling}if(i){r=e.getNodeFromTarget(i),o=i.nextSibling;var L=e.getNodeFromTarget(o);r&&r instanceof $&&1!==k.parent.childs.length&&L&&L.parent&&(a=this.editor.getDomSelection(),l=A.parent,s=l.childs[k.getIndex()+1]||l.append,u=A.getIndex(),d=L.getIndex(),f=l.getInternalPath(),h=L.parent.getInternalPath(),I.forEach((function(e){L.parent.moveBefore(e,L)})),this.focus(e.focusElement||this._getElementName(v)),this.editor._onAction("moveNodes",{count:I.length,fieldNames:I.map(H),oldParentPath:l.getInternalPath(),newParentPath:A.parent.getInternalPath(),oldIndex:s.getIndex(),newIndex:A.getIndex(),oldIndexRedo:u,newIndexRedo:d,oldParentPathRedo:f,newParentPathRedo:h,oldSelection:a,newSelection:this.editor.getDomSelection()}))}}}else if(38===g)C&&!y?(n=this._previousNode(),n&&(this.editor.deselect(!0),n.focus(e.focusElement||this._getElementName(v))),w=!0):!C&&b&&y&&x?(n=this._previousNode(),n&&(m=this.editor.multiselection,m.start=m.start||this,m.end=n,p=this.editor._findTopLevelNodes(m.start,m.end),this.editor.select(p),n.focus("field")),w=!0):C&&y&&x&&(n=A._previousNode(),n&&n.parent&&(a=this.editor.getDomSelection(),l=A.parent,s=l.childs[k.getIndex()+1]||l.append,u=A.getIndex(),d=n.getIndex(),f=l.getInternalPath(),h=n.parent.getInternalPath(),I.forEach((function(e){n.parent.moveBefore(e,n)})),this.focus(e.focusElement||this._getElementName(v)),this.editor._onAction("moveNodes",{count:I.length,fieldNames:I.map(H),oldParentPath:l.getInternalPath(),newParentPath:A.parent.getInternalPath(),oldIndex:s.getIndex(),newIndex:A.getIndex(),oldIndexRedo:u,newIndexRedo:d,oldParentPathRedo:f,newParentPathRedo:h,oldSelection:a,newSelection:this.editor.getDomSelection()})),w=!0);else if(39===g){if(C&&!y){var D=this._nextElement(v);D&&this.focus(this._getElementName(D)),w=!0}else if(C&&y&&x){N=A.getDom();var B=N.previousSibling;B&&(n=e.getNodeFromTarget(B),n&&n.parent&&!n.isVisible()&&(a=this.editor.getDomSelection(),l=A.parent,s=l.childs[k.getIndex()+1]||l.append,u=A.getIndex(),d=n.getIndex(),f=l.getInternalPath(),h=n.parent.getInternalPath(),I.forEach((function(e){n.parent.moveBefore(e,n)})),this.focus(e.focusElement||this._getElementName(v)),this.editor._onAction("moveNodes",{count:I.length,fieldNames:I.map(H),oldParentPath:l.getInternalPath(),newParentPath:A.parent.getInternalPath(),oldIndex:s.getIndex(),newIndex:A.getIndex(),oldIndexRedo:u,newIndexRedo:d,oldParentPathRedo:f,newParentPathRedo:h,oldSelection:a,newSelection:this.editor.getDomSelection()})))}}else if(40===g)if(C&&!y)r=this._nextNode(),r&&(this.editor.deselect(!0),r.focus(e.focusElement||this._getElementName(v))),w=!0;else if(!C&&b&&y&&x)r=this._nextNode(),r&&(m=this.editor.multiselection,m.start=m.start||this,m.end=r,p=this.editor._findTopLevelNodes(m.start,m.end),this.editor.select(p),r.focus("field")),w=!0;else if(C&&y&&x){r=k.expanded?k.append?k.append._nextNode():void 0:k._nextNode(),r&&!r.isVisible()&&(r=r.parent.showMore),r&&r instanceof $&&(r=k);var M=r&&(r._nextNode()||r.parent.append);M&&M.parent&&(a=this.editor.getDomSelection(),l=A.parent,s=l.childs[k.getIndex()+1]||l.append,u=A.getIndex(),d=M.getIndex(),f=l.getInternalPath(),h=M.parent.getInternalPath(),I.forEach((function(e){M.parent.moveBefore(e,M)})),this.focus(e.focusElement||this._getElementName(v)),this.editor._onAction("moveNodes",{count:I.length,fieldNames:I.map(H),oldParentPath:l.getInternalPath(),newParentPath:A.parent.getInternalPath(),oldParentPathRedo:f,newParentPathRedo:h,oldIndexRedo:u,newIndexRedo:d,oldIndex:s.getIndex(),newIndex:A.getIndex(),oldSelection:a,newSelection:this.editor.getDomSelection()})),w=!0}w&&(t.preventDefault(),t.stopPropagation())}},{key:"_onExpand",value:function(e){if(e){var t=this.dom.tr.parentNode,n=t.parentNode,r=n.scrollTop;n.removeChild(t)}this.expanded?this.collapse(e):this.expand(e),e&&(n.appendChild(t),n.scrollTop=r)}},{key:"_showColorPicker",value:function(){if("function"===typeof this.editor.options.onColorPicker&&this.dom.color){var e=this;e._deleteDomColor(),e.updateDom();var t=Object(S["a"])(this.dom.color,this.editor.getPopupAnchor());this.editor.options.onColorPicker(t,this.value,(function(t){"string"===typeof t&&t!==e.value&&(e._deleteDomColor(),e.value=t,e.updateDom(),e._debouncedOnChangeValue())}))}}},{key:"getFieldNames",value:function(e){return"object"===this.type?this.childs.filter((function(t){return t!==e})).map((function(e){return e.field})):[]}},{key:"_onInsertBefore",value:function(t,n,r){var i=this.editor.getDomSelection(),o=new e(this.editor,{field:void 0!==t?t:"",value:void 0!==n?n:"",type:r});o.expand(!0);var a=this.getInternalPath();this.parent.insertBefore(o,this),this.editor.highlighter.unhighlight(),o.focus("field");var s=this.editor.getDomSelection();this.editor._onAction("insertBeforeNodes",{nodes:[o],paths:[o.getInternalPath()],beforePath:a,parentPath:this.parent.getInternalPath(),oldSelection:i,newSelection:s})}},{key:"_onInsertAfter",value:function(t,n,r){var i=this.editor.getDomSelection(),o=new e(this.editor,{field:void 0!==t?t:"",value:void 0!==n?n:"",type:r});o.expand(!0),this.parent.insertAfter(o,this),this.editor.highlighter.unhighlight(),o.focus("field");var a=this.editor.getDomSelection();this.editor._onAction("insertAfterNodes",{nodes:[o],paths:[o.getInternalPath()],afterPath:this.getInternalPath(),parentPath:this.parent.getInternalPath(),oldSelection:i,newSelection:a})}},{key:"_onAppend",value:function(t,n,r){var i=this.editor.getDomSelection(),o=new e(this.editor,{field:void 0!==t?t:"",value:void 0!==n?n:"",type:r});o.expand(!0),this.parent.appendChild(o),this.editor.highlighter.unhighlight(),o.focus("field");var a=this.editor.getDomSelection();this.editor._onAction("appendNodes",{nodes:[o],paths:[o.getInternalPath()],parentPath:this.parent.getInternalPath(),oldSelection:i,newSelection:a})}},{key:"_onChangeType",value:function(e){var t=this.type;if(e!==t){var n=this.editor.getDomSelection();this.changeType(e);var r=this.editor.getDomSelection();this.editor._onAction("changeType",{path:this.getInternalPath(),oldType:t,newType:e,oldSelection:n,newSelection:r})}}},{key:"sort",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("string"===typeof e&&(e=Object(c["parsePath"])(e)),this._hasChilds()){this.hideChilds();var r=this.childs;this.childs=this.childs.concat();var i="desc"===t?-1:1;"object"===this.type?this.childs.sort((function(e,t){return i*k()(e.field,t.field)})):this.childs.sort((function(t,n){var r=t.getNestedChild(e),o=n.getNestedChild(e);if(!r)return i;if(!o)return-i;var a=r.value,s=o.value;return"string"!==typeof a&&"string"!==typeof s?a>s?i:a<s?-i:0:i*k()(a,s)})),this._updateDomIndexes(),this.showChilds(),!0===n&&this.editor._onAction("sort",{path:this.getInternalPath(),oldChilds:r,newChilds:this.childs})}}},{key:"update",value:function(e){var t=this.getInternalValue();this.setValue(e),this.editor._onAction("transform",{path:this.getInternalPath(),oldValue:t,newValue:this.getInternalValue()})}},{key:"_detachFromDom",value:function(){var e,t=this.dom.tr?this.dom.tr.parentNode:void 0;e=this.expanded?this.getAppendDom():this.getDom();var n=e&&e.parentNode?e.nextSibling:void 0;return this.hide({resetVisibleChilds:!1}),{table:t,nextTr:n}}},{key:"_attachToDom",value:function(e){e.table&&(e.nextTr?e.table.insertBefore(this.getDom(),e.nextTr):e.table.appendChild(this.getDom())),this.expanded&&this.showChilds()}},{key:"transform",value:function(e){if(this._hasChilds()){this.hideChilds();try{var t=this.getInternalValue(),n=this.getValue(),r=this.editor.options.executeQuery(n,e);this.setValue(r);var i=this.getInternalValue();this.editor._onAction("transform",{path:this.getInternalPath(),oldValue:t,newValue:i}),this.showChilds()}catch(o){this.showChilds(),this.editor._onError(o)}}}},{key:"extract",value:function(){this.editor.node.hideChilds(),this.hideChilds();try{var e=this.editor.node.getInternalValue();this.editor._setRoot(this);var t=this.editor.node.getInternalValue();this.editor._onAction("transform",{path:this.editor.node.getInternalPath(),oldValue:e,newValue:t})}catch(n){this.editor._onError(n)}finally{this.updateDom({recurse:!0}),this.showChilds()}}},{key:"getNestedChild",value:function(e){var t=0,n=this;while(n&&t<e.length)n=n.findChildByProperty(e[t]),t++;return n}},{key:"findChildByProperty",value:function(e){if("object"===this.type)return this.childs.find((function(t){return t.field===e}))}},{key:"getAppendDom",value:function(){return this.append||(this.append=new $(this.editor),this.append.setParent(this)),this.append.getDom()}},{key:"getShowMoreDom",value:function(){return this.showMore||(this.showMore=new V(this.editor,this)),this.showMore.getDom()}},{key:"nextSibling",value:function(){var e=this.parent.childs.indexOf(this);return this.parent.childs[e+1]||this.parent.append}},{key:"_previousNode",value:function(){var t=null,n=this.getDom();if(n&&n.parentNode){var r=n;do{r=r.previousSibling,t=e.getNodeFromTarget(r)}while(r&&t&&t instanceof $&&!t.isVisible())}return t}},{key:"_nextNode",value:function(){var t=null,n=this.getDom();if(n&&n.parentNode){var r=n;do{r=r.nextSibling,t=e.getNodeFromTarget(r)}while(r&&t&&t instanceof $&&!t.isVisible())}return t}},{key:"_firstNode",value:function(){var t=null,n=this.getDom();if(n&&n.parentNode){var r=n.parentNode.firstChild;t=e.getNodeFromTarget(r)}return t}},{key:"_lastNode",value:function(){var t=null,n=this.getDom();if(n&&n.parentNode){var r=n.parentNode.lastChild;t=e.getNodeFromTarget(r);while(r&&t&&!t.isVisible())r=r.previousSibling,t=e.getNodeFromTarget(r)}return t}},{key:"_previousElement",value:function(e){var t=this.dom;switch(e){case t.value:if(this.fieldEditable)return t.field;case t.field:if(this._hasChilds())return t.expand;case t.expand:return t.menu;case t.menu:if(t.drag)return t.drag;default:return null}}},{key:"_nextElement",value:function(e){var t=this.dom;switch(e){case t.drag:return t.menu;case t.menu:if(this._hasChilds())return t.expand;case t.expand:if(this.fieldEditable)return t.field;case t.field:if(!this._hasChilds())return t.value;default:return null}}},{key:"_getElementName",value:function(e){var t=this;return Object.keys(this.dom).find((function(n){return t.dom[n]===e}))}},{key:"_hasChilds",value:function(){return"array"===this.type||"object"===this.type}},{key:"addTemplates",value:function(e,t){var n=this,r=n.editor.options.templates;if(null!=r){r.length&&e.push({type:"separator"});var i=function(e,t){n._onAppend(e,t)},o=function(e,t){n._onInsertBefore(e,t)};r.forEach((function(n){e.push({text:n.text,className:n.className||"jsoneditor-type-object",title:n.title,click:t?i.bind(this,n.field,n.value):o.bind(this,n.field,n.value)})}))}}},{key:"showContextMenu",value:function(t,n){var r=this,i=[];if(this.editable.value&&i.push({text:Object(p["c"])("type"),title:Object(p["c"])("typeTitle"),className:"jsoneditor-type-"+this.type,submenu:[{text:Object(p["c"])("auto"),className:"jsoneditor-type-auto"+("auto"===this.type?" jsoneditor-selected":""),title:Object(p["c"])("autoType"),click:function(){r._onChangeType("auto")}},{text:Object(p["c"])("array"),className:"jsoneditor-type-array"+("array"===this.type?" jsoneditor-selected":""),title:Object(p["c"])("arrayType"),click:function(){r._onChangeType("array")}},{text:Object(p["c"])("object"),className:"jsoneditor-type-object"+("object"===this.type?" jsoneditor-selected":""),title:Object(p["c"])("objectType"),click:function(){r._onChangeType("object")}},{text:Object(p["c"])("string"),className:"jsoneditor-type-string"+("string"===this.type?" jsoneditor-selected":""),title:Object(p["c"])("stringType"),click:function(){r._onChangeType("string")}}]}),this._hasChilds()&&(this.editor.options.enableSort&&i.push({text:Object(p["c"])("sort"),title:Object(p["c"])("sortTitle",{type:this.type}),className:"jsoneditor-sort-asc",click:function(){r.showSortModal()}}),this.editor.options.enableTransform&&i.push({text:Object(p["c"])("transform"),title:Object(p["c"])("transformTitle",{type:this.type}),className:"jsoneditor-transform",click:function(){r.showTransformModal()}}),this.parent&&i.push({text:Object(p["c"])("extract"),title:Object(p["c"])("extractTitle",{type:this.type}),className:"jsoneditor-extract",click:function(){r.extract()}})),this.parent&&this.parent._hasChilds()){i.length&&i.push({type:"separator"});var o=r.parent.childs;if(r===o[o.length-1]){var a=[{text:Object(p["c"])("auto"),className:"jsoneditor-type-auto",title:Object(p["c"])("autoType"),click:function(){r._onAppend("","","auto")}},{text:Object(p["c"])("array"),className:"jsoneditor-type-array",title:Object(p["c"])("arrayType"),click:function(){r._onAppend("",[])}},{text:Object(p["c"])("object"),className:"jsoneditor-type-object",title:Object(p["c"])("objectType"),click:function(){r._onAppend("",{})}},{text:Object(p["c"])("string"),className:"jsoneditor-type-string",title:Object(p["c"])("stringType"),click:function(){r._onAppend("","","string")}}];r.addTemplates(a,!0),i.push({text:Object(p["c"])("appendText"),title:Object(p["c"])("appendTitle"),submenuTitle:Object(p["c"])("appendSubmenuTitle"),className:"jsoneditor-append",click:function(){r._onAppend("","","auto")},submenu:a})}var s=[{text:Object(p["c"])("auto"),className:"jsoneditor-type-auto",title:Object(p["c"])("autoType"),click:function(){r._onInsertBefore("","","auto")}},{text:Object(p["c"])("array"),className:"jsoneditor-type-array",title:Object(p["c"])("arrayType"),click:function(){r._onInsertBefore("",[])}},{text:Object(p["c"])("object"),className:"jsoneditor-type-object",title:Object(p["c"])("objectType"),click:function(){r._onInsertBefore("",{})}},{text:Object(p["c"])("string"),className:"jsoneditor-type-string",title:Object(p["c"])("stringType"),click:function(){r._onInsertBefore("","","string")}}];r.addTemplates(s,!1),i.push({text:Object(p["c"])("insert"),title:Object(p["c"])("insertTitle"),submenuTitle:Object(p["c"])("insertSub"),className:"jsoneditor-insert",click:function(){r._onInsertBefore("","","auto")},submenu:s}),this.editable.field&&(i.push({text:Object(p["c"])("duplicateText"),title:Object(p["c"])("duplicateField"),className:"jsoneditor-duplicate",click:function(){e.onDuplicate(r)}}),i.push({text:Object(p["c"])("removeText"),title:Object(p["c"])("removeField"),className:"jsoneditor-remove",click:function(){e.onRemove(r)}}))}if(this.editor.options.onCreateMenu){var l=r.getPath();i=this.editor.options.onCreateMenu(i,{type:"single",path:l,paths:[l]})}var c=new y["a"](i,{close:n});c.show(t,this.editor.getPopupAnchor())}},{key:"showSortModal",value:function(){var e=this,t=this.editor.options.modalAnchor||R["a"],n=this.getValue();function r(t){var n=t.path,r=Object(c["parsePath"])(n);e.sortedBy=t,e.sort(r,t.direction)}Object(E["showSortModal"])(t,n,r,e.sortedBy)}},{key:"showTransformModal",value:function(){var e=this,t=this.editor.options,n=t.modalAnchor,r=t.createQuery,i=t.executeQuery,o=t.queryDescription,a=this.getValue();Object(O["showTransformModal"])({anchor:n||R["a"],json:a,queryDescription:o,createQuery:r,executeQuery:i,onTransform:function(t){e.transform(t)}})}},{key:"_getType",value:function(e){return e instanceof Array?"array":e instanceof Object?"object":"string"===typeof e&&"string"!==typeof Object(c["parseString"])(e)?"string":"auto"}},{key:"_escapeHTML",value:function(e){if("string"!==typeof e)return String(e);var t=String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/ {2}/g," &nbsp;").replace(/^ /,"&nbsp;").replace(/ $/,"&nbsp;"),n=JSON.stringify(t),r=n.substring(1,n.length-1);return!0===this.editor.options.escapeUnicode&&(r=Object(c["escapeUnicodeChars"])(r)),r}},{key:"_unescapeHTML",value:function(e){var t='"'+this._escapeJSON(e)+'"',n=Object(c["parse"])(t);return n.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&nbsp;|\u00A0/g," ").replace(/&amp;/g,"&")}},{key:"_escapeJSON",value:function(e){var t="",n=0;while(n<e.length){var r=e.charAt(n);"\n"===r?t+="\\n":"\\"===r?(t+=r,n++,r=e.charAt(n),""!==r&&-1!=='"\\/bfnrtu'.indexOf(r)||(t+="\\"),t+=r):t+='"'===r?'\\"':r,n++}return t}},{key:"updateNodeName",value:function(){var e,t=this.childs?this.childs.length:0;if("object"===this.type||"array"===this.type){if(this.editor.options.onNodeName)try{e=this.editor.options.onNodeName({path:this.getPath(),size:t,type:this.type})}catch(n){}this.dom.value.textContent="object"===this.type?"{"+(e||t)+"}":"["+(e||t)+"]"}}},{key:"recursivelyUpdateNodeName",value:function(){var e;if(this.expanded&&(this.updateNodeName(),"undefined"!==this.childs))for(e in this.childs)this.childs[e].recursivelyUpdateNodeName()}}]),e}();P.prototype.DEBOUNCE_INTERVAL=150,P.prototype.MAX_SEARCH_RESULTS=999;var F=100;function j(e){return e.getInternalPath()}function H(e){return e.getField()}function z(e,t){return Object.prototype.hasOwnProperty.call(e,t)}P.focusElement=void 0,P.select=function(e){setTimeout((function(){Object(c["selectContentEditable"])(e)}),0)},P.onDragStart=function(e,t){if(!Array.isArray(e))return P.onDragStart([e],t);if(0!==e.length){var n=e[0],r=e[e.length-1],i=n.parent,o=P.getNodeFromTarget(t.target),a=n.editor,s=Object(c["getAbsoluteTop"])(o.dom.tr)-Object(c["getAbsoluteTop"])(n.dom.tr);a.mousemove||(a.mousemove=Object(c["addEventListener"])(window,"mousemove",(function(t){P.onDrag(e,t)}))),a.mouseup||(a.mouseup=Object(c["addEventListener"])(window,"mouseup",(function(t){P.onDragEnd(e,t)}))),a.highlighter.lock(),a.drag={oldCursor:document.body.style.cursor,oldSelection:a.getDomSelection(),oldPaths:e.map(j),oldParent:i,oldNextNode:i.childs[r.getIndex()+1]||i.append,oldParentPathRedo:i.getInternalPath(),oldIndexRedo:n.getIndex(),mouseX:t.pageX,offsetY:s,level:n.getLevel()},document.body.style.cursor="move",t.preventDefault()}},P.onDrag=function(e,t){if(!Array.isArray(e))return P.onDrag([e],t);if(0!==e.length){var n,r,i,o,a,s,l,u,d,f,h,p=e[0].editor,m=t.pageY-p.drag.offsetY,g=t.pageX,v=!1,b=e[0],y=b.dom.tr,C=Object(c["getAbsoluteTop"])(y),w=y.offsetHeight;if(m<C){n=y;do{n=n.previousSibling,s=P.getNodeFromTarget(n),u=n?Object(c["getAbsoluteTop"])(n):0}while(n&&m<u);s&&!s.parent&&(s=void 0),s||(a=y.parentNode.firstChild,n=a?a.nextSibling:void 0,s=P.getNodeFromTarget(n),s===b&&(s=void 0)),s&&s.isVisible()&&(n=s.dom.tr,u=n?Object(c["getAbsoluteTop"])(n):0,m>u+w&&(s=void 0)),!s||!1!==p.options.limitDragging&&s.parent!==e[0].parent||(e.forEach((function(e){s.parent.moveBefore(e,s)})),v=!0)}else{var x=e[e.length-1];if(o=x.expanded&&x.append?x.append.getDom():x.dom.tr,i=o?o.nextSibling:void 0,i){d=Object(c["getAbsoluteTop"])(i),r=i;do{l=P.getNodeFromTarget(r),r&&(f=r.nextSibling?Object(c["getAbsoluteTop"])(r.nextSibling):0,h=r?f-d:0,l&&l.parent.childs.length===e.length&&l.parent.childs[e.length-1]===x&&(C+=27),r=r.nextSibling)}while(r&&m>C+h);if(l&&l.parent){var I=g-p.drag.mouseX,A=Math.round(I/24/2),k=p.drag.level+A,S=l.getLevel();n=l.dom.tr&&l.dom.tr.previousSibling;while(S<k&&n){s=P.getNodeFromTarget(n);var _=e.some((function(e){return e===s||s.isDescendantOf(e)}));if(_);else{if(!(s instanceof $))break;var T=s.parent.childs;if(T.length===e.length&&T[e.length-1]===x)break;l=P.getNodeFromTarget(n),S=l.getLevel()}n=n.previousSibling}l instanceof $&&!l.isVisible()&&l.parent.showMore.isVisible()&&(l=l._nextNode()),l&&(!1===p.options.limitDragging||l.parent===e[0].parent)&&l.dom.tr&&l.dom.tr!==o.nextSibling&&(e.forEach((function(e){l.parent.moveBefore(e,l)})),v=!0)}}}v&&(p.drag.mouseX=g,p.drag.level=b.getLevel()),p.startAutoScroll(m),t.preventDefault()}},P.onDragEnd=function(e,t){if(!Array.isArray(e))return P.onDrag([e],t);if(0!==e.length){var n=e[0],r=n.editor;e[0]&&e[0].dom.menu.focus();var i=r.drag.oldParent.getInternalPath(),o=n.parent.getInternalPath(),a=r.drag.oldParent===n.parent,s=r.drag.oldNextNode.getIndex(),l=n.getIndex(),u=r.drag.oldParentPathRedo,d=r.drag.oldIndexRedo,f=a&&d<l?l+e.length:l;a&&d===l||r._onAction("moveNodes",{count:e.length,fieldNames:e.map(H),oldParentPath:i,newParentPath:o,oldIndex:s,newIndex:l,oldIndexRedo:d,newIndexRedo:f,oldParentPathRedo:u,newParentPathRedo:null,oldSelection:r.drag.oldSelection,newSelection:r.getDomSelection()}),document.body.style.cursor=r.drag.oldCursor,r.highlighter.unlock(),e.forEach((function(e){e.updateDom(),t.target!==e.dom.drag&&t.target!==e.dom.menu&&r.highlighter.unhighlight()})),delete r.drag,r.mousemove&&(Object(c["removeEventListener"])(window,"mousemove",r.mousemove),delete r.mousemove),r.mouseup&&(Object(c["removeEventListener"])(window,"mouseup",r.mouseup),delete r.mouseup),r.stopAutoScroll(),t.preventDefault()}},P._findEnum=function(e){if(e["enum"])return e["enum"];var t=e.oneOf||e.anyOf||e.allOf;if(t){var n=t.filter((function(e){return e["enum"]}));if(n.length>0)return n[0]["enum"]}return null},P._findSchema=function(e,t,n){var r=e,i=r,o=e.oneOf||e.anyOf||e.allOf;o||(o=[e]);for(var a=0;a<o.length;a++){r=o[a],"$ref"in r&&"string"===typeof r.$ref&&(r=t[r.$ref],r&&(i=P._findSchema(r,t,n)));for(var s=0;s<n.length&&r;s++){var l=n.slice(s+1,n.length),c=n[s];if("string"!==typeof c||!r.patternProperties||r.properties&&c in r.properties)"string"===typeof c&&r.properties?c in r.properties?(r=r.properties[c],r&&(i=P._findSchema(r,t,l))):i=null:"number"===typeof c&&r.items&&(r=r.items,r&&(i=P._findSchema(r,t,l)));else for(var u in r.patternProperties)c.match(u)&&(i=P._findSchema(r.patternProperties[u],t,l))}}return i===e&&n.length>0?null:i},P.onRemove=function(e){if(!Array.isArray(e))return P.onRemove([e]);if(e&&e.length>0){var t=e[0],n=t.parent,r=t.editor,i=t.getIndex();r.highlighter.unhighlight();var o=r.getDomSelection();P.blurNodes(e);var a=r.getDomSelection(),s=e.map(j);e.forEach((function(e){e.parent._remove(e)})),r._onAction("removeNodes",{nodes:e,paths:s,parentPath:n.getInternalPath(),index:i,oldSelection:o,newSelection:a})}},P.onDuplicate=function(e){if(!Array.isArray(e))return P.onDuplicate([e]);if(e&&e.length>0){var t=e[e.length-1],n=t.parent,r=t.editor;r.deselect(r.multiselection.nodes);var i=r.getDomSelection(),o=t,a=e.map((function(e){var t=e.clone();if("object"===e.parent.type){var r=e.parent.getFieldNames();t.field=Object(c["findUniqueName"])(e.field,r)}return n.insertAfter(t,o),o=t,t}));1===e.length?"object"===a[0].parent.type?(a[0].dom.field.innerHTML=N._escapeHTML(e[0].field),a[0].focus("field")):a[0].focus():r.select(a);var s=r.getDomSelection();r._onAction("duplicateNodes",{paths:e.map(j),clonePaths:a.map(j),afterPath:t.getInternalPath(),parentPath:n.getInternalPath(),oldSelection:i,newSelection:s})}},P.getNodeFromTarget=function(e){while(e){if(e.node)return e.node;e=e.parentNode}},P.targetIsColorPicker=function(e){var t=P.getNodeFromTarget(e);if(t){var n=e&&e.parentNode;while(n){if(n===t.dom.color)return!0;n=n.parentNode}}return!1},P.blurNodes=function(e){if(Array.isArray(e)){var t=e[0],n=t.parent,r=t.getIndex();n.childs[r+e.length]?n.childs[r+e.length].focus():n.childs[r-1]?n.childs[r-1].focus():n.focus()}else P.blurNodes([e])};var $=_(P),V=T(P),W=n(8),K=n(9),G={start:function(e,t,n){return 0===t.indexOf(e)},contain:function(e,t,n){return t.indexOf(e)>-1}};function Z(e){e=e||{},e.filter=e.filter||"start",e.trigger=e.trigger||"keydown",e.confirmKeys=e.confirmKeys||[39,35,9],e.caseSensitive=e.caseSensitive||!1;var t="",n="",r=document.createElement("div");r.style.position="relative",r.style.outline="0",r.style.border="0",r.style.margin="0",r.style.padding="0";var i,o,a=document.createElement("div");a.className="autocomplete dropdown",a.style.position="absolute",a.style.visibility="hidden";var s=function(t,n){var r=[],i=0,o=-1,a=function(){this.style.backgroundColor="#ddd"},s=function(){this.style.backgroundColor=""},l=function(){c.hide(),c.onmouseselection(this.__hint,c.rs)},c={rs:n,hide:function(){t.style.visibility="hidden"},refresh:function(n,o){t.style.visibility="hidden",i=0,t.textContent="";var u=window.innerHeight||document.documentElement.clientHeight,d=t.parentNode.getBoundingClientRect(),f=d.top-6,h=u-d.bottom-6;r=[];var p="function"===typeof e.filter?e.filter:G[e.filter],m=p?o.filter((function(t){return p(e.caseSensitive?n:n.toLowerCase(),e.caseSensitive?t:t.toLowerCase(),e)})):[];r=m.map((function(e){var r=document.createElement("div");r.className="item",r.onmouseover=a,r.onmouseout=s,r.onmousedown=l,r.__hint=e,r.textContent="",r.appendChild(document.createTextNode(e.substring(0,n.length)));var i=document.createElement("b");return i.appendChild(document.createTextNode(e.substring(n.length))),r.appendChild(i),t.appendChild(r),r})),0!==r.length&&(1===r.length&&(n.toLowerCase()===r[0].__hint.toLowerCase()&&!e.caseSensitive||n===r[0].__hint&&e.caseSensitive)||r.length<2||(c.highlight(0),f>3*h?(t.style.maxHeight=f+"px",t.style.top="",t.style.bottom="100%"):(t.style.top="100%",t.style.bottom="",t.style.maxHeight=h+"px"),t.style.visibility="visible"))},highlight:function(e){-1!==o&&r[o]&&(r[o].className="item"),r[e].className="item hover",o=e},move:function(e){return"hidden"===t.style.visibility?"":(i+e===-1||i+e===r.length||(i+=e,c.highlight(i)),r[i].__hint)},onmouseselection:function(){}};return c};function l(e){var t,n;document.createRange?(t=document.createRange(),t.selectNodeContents(e),t.collapse(!1),n=window.getSelection(),n.removeAllRanges(),n.addRange(t)):document.selection&&(t=document.body.createTextRange(),t.moveToElementText(e),t.collapse(!1),t.select())}function c(e){return void 0===i&&(i=document.createElement("span"),i.style.visibility="hidden",i.style.position="fixed",i.style.outline="0",i.style.margin="0",i.style.padding="0",i.style.border="0",i.style.left="0",i.style.whiteSpace="pre",i.style.fontSize=t,i.style.fontFamily=n,i.style.fontWeight="normal",document.body.appendChild(i)),i.textContent=e,i.getBoundingClientRect().right}var u={onArrowDown:function(){},onArrowUp:function(){},onEnter:function(){},onTab:function(){},startFrom:0,options:[],element:null,elementHint:null,elementStyle:null,wrapper:r,show:function(e,i,o){var s=this;this.startFrom=i,this.wrapper.remove(),this.elementHint&&(this.elementHint.remove(),this.elementHint=null),""===t&&(t=window.getComputedStyle(e).getPropertyValue("font-size")),""===n&&(n=window.getComputedStyle(e).getPropertyValue("font-family")),a.style.marginLeft="0",a.style.marginTop=e.getBoundingClientRect().height+"px",this.options=o.map(String),this.element!==e&&(this.element=e,this.elementStyle={zIndex:this.element.style.zIndex,position:this.element.style.position,backgroundColor:this.element.style.backgroundColor,borderColor:this.element.style.borderColor}),this.element.style.zIndex=3,this.element.style.position="relative",this.element.style.backgroundColor="transparent",this.element.style.borderColor="transparent",this.elementHint=e.cloneNode(),this.elementHint.className="autocomplete hint",this.elementHint.style.zIndex=2,this.elementHint.style.position="absolute",this.elementHint.onfocus=function(){s.element.focus()},this.element.addEventListener&&(this.element.removeEventListener("keydown",f),this.element.addEventListener("keydown",f,!1),this.element.removeEventListener("blur",h),this.element.addEventListener("blur",h,!1)),r.appendChild(this.elementHint),r.appendChild(a),e.parentElement.appendChild(r),this.repaint(e)},setText:function(e){this.element.innerText=e},getText:function(){return this.element.innerText},hideDropDown:function(){this.wrapper.remove(),this.elementHint&&(this.elementHint.remove(),this.elementHint=null,d.hide(),this.element.style.zIndex=this.elementStyle.zIndex,this.element.style.position=this.elementStyle.position,this.element.style.backgroundColor=this.elementStyle.backgroundColor,this.element.style.borderColor=this.elementStyle.borderColor)},repaint:function(t){var n=t.innerText;n=n.replace("\n","");var r=this.options.length,i=n.substring(this.startFrom);o=n.substring(0,this.startFrom);for(var s=0;s<r;s++){var l=this.options[s];if(!e.caseSensitive&&0===l.toLowerCase().indexOf(i.toLowerCase())||e.caseSensitive&&0===l.indexOf(i)){this.elementHint.innerText=o+i+l.substring(i.length),this.elementHint.realInnerText=o+l;break}}a.style.left=c(o)+"px",d.refresh(i,this.options),this.elementHint.style.width=c(this.elementHint.innerText)+10+"px";var u="hidden"===a.style.visibility;u||(this.elementHint.style.width=c(this.elementHint.innerText)+a.clientWidth+"px")}},d=s(a,u),f=function(t){t=t||window.event;var n=t.keyCode;if(null!=this.elementHint&&33!==n&&34!==n){if(27===n)return u.hideDropDown(),u.element.focus(),t.preventDefault(),void t.stopPropagation();var r=this.element.innerText;if(r=r.replace("\n",""),e.confirmKeys.indexOf(n)>=0)return 9===n&&0===this.elementHint.innerText.length&&u.onTab(),void(this.elementHint.innerText.length>0&&this.element.innerText!==this.elementHint.realInnerText&&(this.element.innerText=this.elementHint.realInnerText,u.hideDropDown(),l(this.element),9===n&&(u.element.focus(),t.preventDefault(),t.stopPropagation())));if(13!==n){if(40===n){var i=r.substring(this.startFrom),s=d.move(1);return""===s&&u.onArrowDown(),this.elementHint.innerText=o+i+s.substring(i.length),this.elementHint.realInnerText=o+s,t.preventDefault(),void t.stopPropagation()}if(38===n){var c=r.substring(this.startFrom),f=d.move(-1);""===f&&u.onArrowUp(),this.elementHint.innerText=o+c+f.substring(c.length),this.elementHint.realInnerText=o+f,t.preventDefault(),t.stopPropagation()}}else if(0===this.elementHint.innerText.length)u.onEnter();else{var h="hidden"===a.style.visibility;if(d.hide(),h)return u.hideDropDown(),u.element.focus(),void u.onEnter();this.element.innerText=this.elementHint.realInnerText,u.hideDropDown(),l(this.element),t.preventDefault(),t.stopPropagation()}}}.bind(u),h=function(e){u.hideDropDown()};return d.onmouseselection=function(e,t){t.element.innerText=t.elementHint.innerText=o+e,t.hideDropDown(),window.setTimeout((function(){t.element.focus(),l(t.element)}),1)},u}var U=n(4),q={create:function(e,t){if(!e)throw new Error("No container element provided.");this.container=e,this.dom={},this.highlighter=new l,this.selection=void 0,this.multiselection={nodes:[]},this.validateSchema=null,this.validationSequence=0,this.errorNodes=[],this.lastSchemaErrors=void 0,this.node=null,this.focusTarget=null,this._setOptions(t),t.autocomplete&&(this.autocomplete=Z(t.autocomplete)),this.options.history&&"view"!==this.options.mode&&(this.history=new h(this)),this._createFrame(),this._createTable()},destroy:function(){this.frame&&this.container&&this.frame.parentNode===this.container&&(this.container.removeChild(this.frame),this.frame=null),this.container=null,this.dom=null,this.clear(),this.node=null,this.focusTarget=null,this.selection=null,this.multiselection=null,this.errorNodes=null,this.validateSchema=null,this._debouncedValidate=null,this.history&&(this.history.destroy(),this.history=null),this.searchBox&&(this.searchBox.destroy(),this.searchBox=null),this.modeSwitcher&&(this.modeSwitcher.destroy(),this.modeSwitcher=null),this.frameFocusTracker.destroy()},_setOptions:function(e){var t=this;this.options={search:!0,history:!0,mode:"tree",name:void 0,schema:null,schemaRefs:null,autocomplete:null,navigationBar:!0,mainMenuBar:!0,limitDragging:!1,onSelectionChange:null,colorPicker:!0,onColorPicker:function(e,t,n){if(i.a){var r=300,o=e.getBoundingClientRect().top,a=window.innerHeight,s=a-o<r&&o>r;new i.a({parent:e,color:t,popup:s?"top":"bottom",onDone:function(e){var t=e.rgba[3],r=1===t?e.hex.substr(0,7):e.hex;n(r)}}).show()}},timestampTag:!0,timestampFormat:null,createQuery:U["a"],executeQuery:U["b"],onEvent:null,enableSort:!0,enableTransform:!0},e&&(Object.keys(e).forEach((function(n){t.options[n]=e[n]})),null==e.limitDragging&&null!=e.schema&&(this.options.limitDragging=!0)),this.setSchema(this.options.schema,this.options.schemaRefs),this._debouncedValidate=Object(c["debounce"])(this.validate.bind(this),this.DEBOUNCE_INTERVAL),e.onSelectionChange&&this.onSelectionChange(e.onSelectionChange),Object(p["b"])(this.options.languages),Object(p["a"])(this.options.language)},set:function(e){if(e instanceof Function||void 0===e)this.clear();else{this.content.removeChild(this.table);var t={field:this.options.name,value:e},n=new P(this,t);this._setRoot(n),this.validate();var r=!1;this.node.expand(r),this.content.appendChild(this.table)}this.history&&this.history.clear(),this.searchBox&&this.searchBox.clear()},update:function(e){if(!this.node.deepEqual(e)){var t=this.getSelection();if(this.onChangeDisabled=!0,this.node.update(e),this.onChangeDisabled=!1,this.validate(),this.searchBox&&!this.searchBox.isEmpty()&&this.searchBox.forceSearch(),t&&t.start&&t.end){var n=this.node.findNodeByPath(t.start.path),r=this.node.findNodeByPath(t.end.path);n&&r?this.setSelection(t.start,t.end):this.setSelection({},{})}else this.setSelection({},{})}},get:function(){return this.node?this.node.getValue():void 0},getText:function(){return JSON.stringify(this.get())},setText:function(e){try{this.set(Object(c["parse"])(e))}catch(n){var t=Object(c["repair"])(e);this.set(Object(c["parse"])(t))}},updateText:function(e){try{this.update(Object(c["parse"])(e))}catch(n){var t=Object(c["repair"])(e);this.update(Object(c["parse"])(t))}},setName:function(e){this.options.name=e,this.node&&this.node.updateField(this.options.name)},getName:function(){return this.options.name},focus:function(){var e=this.scrollableContent.querySelector("[contenteditable=true]");e?e.focus():this.node.dom.expand?this.node.dom.expand.focus():this.node.dom.menu?this.node.dom.menu.focus():(e=this.frame.querySelector("button"),e&&e.focus())},clear:function(){this.node&&(this.node.hide(),delete this.node),this.treePath&&this.treePath.reset()},_setRoot:function(e){this.clear(),this.node=e,e.setParent(null),e.setField(this.getName(),!1),delete e.index,this.tbody.appendChild(e.getDom())},search:function(e){var t;return this.node?(this.content.removeChild(this.table),t=this.node.search(e),this.content.appendChild(this.table)):t=[],t},expandAll:function(){this.node&&(this.content.removeChild(this.table),this.node.expand(),this.content.appendChild(this.table))},collapseAll:function(){this.node&&(this.content.removeChild(this.table),this.node.collapse(),this.content.appendChild(this.table))},_onAction:function(e,t){this.history&&this.history.add(e,t),this._onChange()},_onChange:function(){if(!this.onChangeDisabled){if(this.selection=this.getDomSelection(),this._debouncedValidate(),this.treePath){var e=this.node&&this.selection?this.node.findNodeByInternalPath(this.selection.path):this.multiselection?this.multiselection.nodes[0]:void 0;e?this._updateTreePath(e.getNodePath()):this.treePath.reset()}if(this.options.onChange)try{this.options.onChange()}catch(t){}if(this.options.onChangeJSON)try{this.options.onChangeJSON(this.get())}catch(t){}if(this.options.onChangeText)try{this.options.onChangeText(this.getText())}catch(t){}if(this.options.onClassName&&this.node.recursivelyUpdateCssClassesOnNodes(),this.options.onNodeName&&this.node.childs)try{this.node.recursivelyUpdateNodeName()}catch(t){}}},validate:function(){var e=this,t=this.node;if(t){var n=t.getValue(),r=[];if(this.validateSchema){var i=this.validateSchema(n);i||(r=this.validateSchema.errors.map((function(e){return Object(c["improveSchemaError"])(e)})).map((function(e){return{node:t.findNode(e.dataPath),error:e,type:"validation"}})).filter((function(e){return null!=e.node})))}try{this.validationSequence++;var o=this,a=this.validationSequence;this._validateCustom(n).then((function(t){if(a===o.validationSequence){var n=[].concat(r,t||[]);o._renderValidationErrors(n),"function"===typeof e.options.onValidationError&&(Object(c["isValidationErrorChanged"])(n,e.lastSchemaErrors)&&e.options.onValidationError.call(e,n),e.lastSchemaErrors=n)}}))["catch"]((function(e){}))}catch(s){}}},_renderValidationErrors:function(e){this.errorNodes&&this.errorNodes.forEach((function(e){e.setError(null)}));var t=e.reduce((function(e,t){return t.node.findParents().filter((function(t){return!e.some((function(e){return e[0]===t}))})).map((function(e){return[e,t.node]})).concat(e)}),[]);this.errorNodes=t.map((function(e){return{node:e[0],child:e[1],error:{message:"object"===e[0].type?"Contains invalid properties":"Contains invalid items"}}})).concat(e).map((function(e){return e.node.setError(e.error,e.child),e.node}))},_validateCustom:function(e){try{if(this.options.onValidate){var t=this.node,n=this.options.onValidate(e),r=Object(c["isPromise"])(n)?n:Promise.resolve(n);return r.then((function(e){return Array.isArray(e)?e.filter((function(e){var t=Object(c["isValidValidationError"])(e);return t})).map((function(e){var n;try{n=e&&e.path?t.findNodeByPath(e.path):null}catch(r){}return{node:n,error:e,type:"customValidation"}})).filter((function(e){return e&&e.node&&e.error&&e.error.message})):null}))}}catch(i){return Promise.reject(i)}return Promise.resolve(null)},refresh:function(){this.node&&this.node.updateDom({recurse:!0})},startAutoScroll:function(e){var t=this,n=this.scrollableContent,r=Object(c["getAbsoluteTop"])(n),i=n.clientHeight,o=r+i,a=24,s=50;e<r+a&&n.scrollTop>0?this.autoScrollStep=(r+a-e)/3:e>o-a&&i+n.scrollTop<n.scrollHeight?this.autoScrollStep=(o-a-e)/3:this.autoScrollStep=void 0,this.autoScrollStep?this.autoScrollTimer||(this.autoScrollTimer=setInterval((function(){t.autoScrollStep?n.scrollTop-=t.autoScrollStep:t.stopAutoScroll()}),s)):this.stopAutoScroll()},stopAutoScroll:function(){this.autoScrollTimer&&(clearTimeout(this.autoScrollTimer),delete this.autoScrollTimer),this.autoScrollStep&&delete this.autoScrollStep},setDomSelection:function(e){if(e)if("scrollTop"in e&&this.scrollableContent&&(this.scrollableContent.scrollTop=e.scrollTop),e.paths){var t=this,n=e.paths.map((function(e){return t.node.findNodeByInternalPath(e)}));this.select(n)}else{var r=e.path?this.node.findNodeByInternalPath(e.path):null,i=r&&e.domName?r.dom[e.domName]:null;if(e.range&&i){var o=Object.assign({},e.range,{container:i});Object(c["setSelectionOffset"])(o)}else r&&r.focus()}},getDomSelection:function(){var e=P.getNodeFromTarget(this.focusTarget),t=this.focusTarget,n=e?Object.keys(e.dom).find((function(n){return e.dom[n]===t})):null,r=Object(c["getSelectionOffset"])();return r&&"DIV"!==r.container.nodeName&&(r=null),r&&r.container!==t&&(r=null),r&&delete r.container,{path:e?e.getInternalPath():null,domName:n,range:r,paths:this.multiselection.length>0?this.multiselection.nodes.map((function(e){return e.getInternalPath()})):null,scrollTop:this.scrollableContent?this.scrollableContent.scrollTop:0}},scrollTo:function(e,t){var n=this.scrollableContent;if(n){var r=this;r.animateTimeout&&(clearTimeout(r.animateTimeout),delete r.animateTimeout),r.animateCallback&&(r.animateCallback(!1),delete r.animateCallback);var i=n.clientHeight,o=n.scrollHeight-i,a=Math.min(Math.max(e-i/4,0),o),s=function e(){var i=n.scrollTop,o=a-i;Math.abs(o)>3?(n.scrollTop+=o/3,r.animateCallback=t,r.animateTimeout=setTimeout(e,50)):(t&&t(!0),n.scrollTop=a,delete r.animateTimeout,delete r.animateCallback)};s()}else t&&t(!1)},_createFrame:function(){this.frame=document.createElement("div"),this.frame.className="jsoneditor jsoneditor-mode-"+this.options.mode,this.container.appendChild(this.frame),this.contentOuter=document.createElement("div"),this.contentOuter.className="jsoneditor-outer";var e=this;function t(t){e._onEvent&&e._onEvent(t)}var n={target:this.frame,onFocus:this.options.onFocus||null,onBlur:this.options.onBlur||null};if(this.frameFocusTracker=new K["a"](n),this.frame.onclick=function(e){var n=e.target;t(e),"BUTTON"===n.nodeName&&e.preventDefault()},this.frame.oninput=t,this.frame.onchange=t,this.frame.onkeydown=t,this.frame.onkeyup=t,this.frame.oncut=t,this.frame.onpaste=t,this.frame.onmousedown=t,this.frame.onmouseup=t,this.frame.onmouseover=t,this.frame.onmouseout=t,Object(c["addEventListener"])(this.frame,"focus",t,!0),Object(c["addEventListener"])(this.frame,"blur",t,!0),this.frame.onfocusin=t,this.frame.onfocusout=t,this.options.mainMenuBar){Object(c["addClassName"])(this.contentOuter,"has-main-menu-bar"),this.menu=document.createElement("div"),this.menu.className="jsoneditor-menu",this.frame.appendChild(this.menu);var r=document.createElement("button");r.type="button",r.className="jsoneditor-expand-all",r.title=Object(p["c"])("expandAll"),r.onclick=function(){e.expandAll()},this.menu.appendChild(r);var i=document.createElement("button");if(i.type="button",i.title=Object(p["c"])("collapseAll"),i.className="jsoneditor-collapse-all",i.onclick=function(){e.collapseAll()},this.menu.appendChild(i),this.options.enableSort){var o=document.createElement("button");o.type="button",o.className="jsoneditor-sort",o.title=Object(p["c"])("sortTitleShort"),o.onclick=function(){e.node.showSortModal()},this.menu.appendChild(o)}if(this.options.enableTransform){var a=document.createElement("button");a.type="button",a.title=Object(p["c"])("transformTitleShort"),a.className="jsoneditor-transform",a.onclick=function(){e.node.showTransformModal()},this.menu.appendChild(a)}if(this.history){var s=document.createElement("button");s.type="button",s.className="jsoneditor-undo jsoneditor-separator",s.title=Object(p["c"])("undo"),s.onclick=function(){e._onUndo()},this.menu.appendChild(s),this.dom.undo=s;var l=document.createElement("button");l.type="button",l.className="jsoneditor-redo",l.title=Object(p["c"])("redo"),l.onclick=function(){e._onRedo()},this.menu.appendChild(l),this.dom.redo=l,this.history.onChange=function(){s.disabled=!e.history.canUndo(),l.disabled=!e.history.canRedo()},this.history.onChange()}if(this.options&&this.options.modes&&this.options.modes.length){var u=this;this.modeSwitcher=new W["a"](this.menu,this.options.modes,this.options.mode,(function(e){u.setMode(e),u.modeSwitcher.focus()}))}this.options.search&&(this.searchBox=new b(this,this.menu))}this.options.navigationBar&&(this.navBar=document.createElement("div"),this.navBar.className="jsoneditor-navigation-bar nav-bar-empty",this.frame.appendChild(this.navBar),this.treePath=new I(this.navBar,this.getPopupAnchor()),this.treePath.onSectionSelected(this._onTreePathSectionSelected.bind(this)),this.treePath.onContextMenuItemSelected(this._onTreePathMenuItemSelected.bind(this)))},_onUndo:function(){this.history&&(this.history.undo(),this._onChange())},_onRedo:function(){this.history&&(this.history.redo(),this._onChange())},_onEvent:function(e){if(!P.targetIsColorPicker(e.target)){var t=P.getNodeFromTarget(e.target);if("keydown"===e.type&&this._onKeyDown(e),t&&"focus"===e.type&&(this.focusTarget=e.target,this.options.autocomplete&&"focus"===this.options.autocomplete.trigger&&this._showAutoComplete(e.target)),"mousedown"===e.type&&this._startDragDistance(e),"mousemove"!==e.type&&"mouseup"!==e.type&&"click"!==e.type||this._updateDragDistance(e),t&&this.options&&this.options.navigationBar&&t&&("keydown"===e.type||"mousedown"===e.type)){var n=this;setTimeout((function(){n._updateTreePath(t.getNodePath())}))}if(t&&t.selected){if("click"===e.type){if(e.target===t.dom.menu)return void this.showContextMenu(e.target);e.hasMoved||this.deselect()}"mousedown"===e.type&&P.onDragStart(this.multiselection.nodes,e)}else"mousedown"===e.type&&Object(c["hasParentNode"])(e.target,this.content)&&(this.deselect(),t&&e.target===t.dom.drag?P.onDragStart(t,e):(!t||e.target!==t.dom.field&&e.target!==t.dom.value&&e.target!==t.dom.select)&&this._onMultiSelectStart(e));t&&t.onEvent(e)}},_updateTreePath:function(e){if(e&&e.length){Object(c["removeClassName"])(this.navBar,"nav-bar-empty");var t=[];e.forEach((function(e){var r={name:n(e),node:e,children:[]};e.childs&&e.childs.length&&e.childs.forEach((function(e){r.children.push({name:n(e),node:e})})),t.push(r)})),this.treePath.setPath(t)}else Object(c["addClassName"])(this.navBar,"nav-bar-empty");function n(e){return e.parent?"array"===e.parent.type?e.index:e.field:e.field||e.type}},_onTreePathSectionSelected:function(e){e&&e.node&&(e.node.expandTo(),e.node.focus())},_onTreePathMenuItemSelected:function(e,t){if(e&&e.children.length){var n=e.children.find((function(e){return e.name===t}));n&&n.node&&(this._updateTreePath(n.node.getNodePath()),n.node.expandTo(),n.node.focus())}},_startDragDistance:function(e){this.dragDistanceEvent={initialTarget:e.target,initialPageX:e.pageX,initialPageY:e.pageY,dragDistance:0,hasMoved:!1}},_updateDragDistance:function(e){this.dragDistanceEvent||this._startDragDistance(e);var t=e.pageX-this.dragDistanceEvent.initialPageX,n=e.pageY-this.dragDistanceEvent.initialPageY;return this.dragDistanceEvent.dragDistance=Math.sqrt(t*t+n*n),this.dragDistanceEvent.hasMoved=this.dragDistanceEvent.hasMoved||this.dragDistanceEvent.dragDistance>10,e.dragDistance=this.dragDistanceEvent.dragDistance,e.hasMoved=this.dragDistanceEvent.hasMoved,e.dragDistance},_onMultiSelectStart:function(e){var t=P.getNodeFromTarget(e.target);if("tree"===this.options.mode&&void 0===this.options.onEditable){this.multiselection={start:t||null,end:null,nodes:[]},this._startDragDistance(e);var n=this;this.mousemove||(this.mousemove=Object(c["addEventListener"])(window,"mousemove",(function(e){n._onMultiSelect(e)}))),this.mouseup||(this.mouseup=Object(c["addEventListener"])(window,"mouseup",(function(e){n._onMultiSelectEnd(e)}))),e.preventDefault()}},_onMultiSelect:function(e){if(e.preventDefault(),this._updateDragDistance(e),e.hasMoved){var t=P.getNodeFromTarget(e.target);t&&(null==this.multiselection.start&&(this.multiselection.start=t),this.multiselection.end=t),this.deselect();var n=this.multiselection.start,r=this.multiselection.end||this.multiselection.start;if(n&&r){if(this.multiselection.nodes=this._findTopLevelNodes(n,r),this.multiselection.nodes&&this.multiselection.nodes.length){var i=this.multiselection.nodes[0];this.multiselection.start===i||this.multiselection.start.isDescendantOf(i)?this.multiselection.direction="down":this.multiselection.direction="up"}this.select(this.multiselection.nodes)}}},_onMultiSelectEnd:function(){this.multiselection.nodes[0]&&this.multiselection.nodes[0].dom.menu.focus(),this.multiselection.start=null,this.multiselection.end=null,this.mousemove&&(Object(c["removeEventListener"])(window,"mousemove",this.mousemove),delete this.mousemove),this.mouseup&&(Object(c["removeEventListener"])(window,"mouseup",this.mouseup),delete this.mouseup)},deselect:function(e){var t=!!this.multiselection.nodes.length;this.multiselection.nodes.forEach((function(e){e.setSelected(!1)})),this.multiselection.nodes=[],e&&(this.multiselection.start=null,this.multiselection.end=null),t&&this._selectionChangedHandler&&this._selectionChangedHandler()},select:function(e){if(!Array.isArray(e))return this.select([e]);if(e){this.deselect(),this.multiselection.nodes=e.slice(0);var t=e[0];if(e.forEach((function(e){e.expandPathToNode(),e.setSelected(!0,e===t)})),this._selectionChangedHandler){var n=this.getSelection();this._selectionChangedHandler(n.start,n.end)}}},_findTopLevelNodes:function(e,t){var n=e.getNodePath(),r=t.getNodePath(),i=0;while(i<n.length&&n[i]===r[i])i++;var o=n[i-1],a=n[i],s=r[i];if(a&&s||(o.parent?(a=o,s=o,o=o.parent):(a=o.childs[0],s=o.childs[o.childs.length-1])),o&&a&&s){var l=o.childs.indexOf(a),c=o.childs.indexOf(s),u=Math.min(l,c),d=Math.max(l,c);return o.childs.slice(u,d+1)}return[]},_showAutoComplete:function(e){var t=P.getNodeFromTarget(e),n="";e.className.indexOf("jsoneditor-value")>=0&&(n="value"),e.className.indexOf("jsoneditor-field")>=0&&(n="field");var r=this;setTimeout((function(){if(t&&("focus"===r.options.autocomplete.trigger||e.innerText.length>0)){var i=r.options.autocomplete.getOptions(e.innerText,t.getPath(),n,t.editor);null===i?r.autocomplete.hideDropDown():"function"===typeof i.then?i.then((function(t){null===t?r.autocomplete.hideDropDown():t.options?r.autocomplete.show(e,t.startFrom,t.options):r.autocomplete.show(e,0,t)}))["catch"]((function(e){})):i.options?r.autocomplete.show(e,i.startFrom,i.options):r.autocomplete.show(e,0,i)}else r.autocomplete.hideDropDown()}),50)},_onKeyDown:function(e){var t=e.which||e.keyCode,n=e.altKey,r=e.ctrlKey,i=e.metaKey,o=e.shiftKey,a=!1,s=this.focusTarget;if(9===t){var l=this;setTimeout((function(){l.focusTarget!==s&&Object(c["selectContentEditable"])(l.focusTarget)}),0)}if(this.searchBox)if(r&&70===t)this.searchBox.dom.search.focus(),this.searchBox.dom.search.select(),a=!0;else if(114===t||r&&71===t){var u=!0;o?this.searchBox.previous(u):this.searchBox.next(u),a=!0}this.history&&(r&&!o&&90===t?(this._onUndo(),a=!0):r&&o&&90===t&&(this._onRedo(),a=!0)),this.options.autocomplete&&!a&&(r||n||i||1!==e.key.length&&8!==t&&46!==t||(a=!1,this._showAutoComplete(e.target))),a&&(e.preventDefault(),e.stopPropagation())},_createTable:function(){var e;this.options.navigationBar&&Object(c["addClassName"])(this.contentOuter,"has-nav-bar"),this.scrollableContent=document.createElement("div"),this.scrollableContent.className="jsoneditor-tree",this.contentOuter.appendChild(this.scrollableContent),this.content=document.createElement("div"),this.content.className="jsoneditor-tree-inner",this.scrollableContent.appendChild(this.content),this.table=document.createElement("table"),this.table.className="jsoneditor-tree",this.content.appendChild(this.table),this.colgroupContent=document.createElement("colgroup"),"tree"===this.options.mode&&(e=document.createElement("col"),e.width="24px",this.colgroupContent.appendChild(e)),e=document.createElement("col"),e.width="24px",this.colgroupContent.appendChild(e),e=document.createElement("col"),this.colgroupContent.appendChild(e),this.table.appendChild(this.colgroupContent),this.tbody=document.createElement("tbody"),this.table.appendChild(this.tbody),this.frame.appendChild(this.contentOuter)},showContextMenu:function(e,t){var n=[],r=this.multiselection.nodes.slice();if(n.push({text:Object(p["c"])("duplicateText"),title:Object(p["c"])("duplicateTitle"),className:"jsoneditor-duplicate",click:function(){P.onDuplicate(r)}}),n.push({text:Object(p["c"])("remove"),title:Object(p["c"])("removeTitle"),className:"jsoneditor-remove",click:function(){P.onRemove(r)}}),this.options.onCreateMenu){var i=r.map((function(e){return e.getPath()}));n=this.options.onCreateMenu(n,{type:"multiple",path:i[0],paths:i})}var o=new y["a"](n,{close:t});o.show(e,this.getPopupAnchor())},getPopupAnchor:function(){return this.options.popupAnchor||this.frame},getSelection:function(){var e={start:null,end:null};if(this.multiselection.nodes&&this.multiselection.nodes.length&&this.multiselection.nodes.length){var t=this.multiselection.nodes[0],n=this.multiselection.nodes[this.multiselection.nodes.length-1];"down"===this.multiselection.direction?(e.start=t.serialize(),e.end=n.serialize()):(e.start=n.serialize(),e.end=t.serialize())}return e},onSelectionChange:function(e){"function"===typeof e&&(this._selectionChangedHandler=Object(c["debounce"])(e,this.DEBOUNCE_INTERVAL))},setSelection:function(e,t){e&&e.dom&&e.range&&this.setDomSelection(e);var n=this._getNodeInstancesByRange(e,t);n.forEach((function(e){e.expandTo()})),this.select(n)},_getNodeInstancesByRange:function(e,t){var n,r;e&&e.path&&(n=this.node.findNodeByPath(e.path),t&&t.path&&(r=this.node.findNodeByPath(t.path)));var i=[];if(n instanceof P)if(r instanceof P&&r!==n)if(n.parent===r.parent){n.getIndex()<r.getIndex()?(e=n,t=r):(e=r,t=n);var o=e;i.push(o);do{o=o.nextSibling(),i.push(o)}while(o&&o!==t)}else i=this._findTopLevelNodes(n,r);else i.push(n);return i},getNodesByRange:function(e,t){var n=this._getNodeInstancesByRange(e,t),r=[];return n.forEach((function(e){r.push(e.serialize())})),r}},X=[{mode:"tree",mixin:q,data:"json"},{mode:"view",mixin:q,data:"json"},{mode:"form",mixin:q,data:"json"}]},function(e,t,n){"use strict";n.r(t),n.d(t,"previewModeMixins",(function(){return y}));var r=n(1),i=n(8),o=n(15),a=n(5),s=n(6),l=n(21),c=n(2),u=n(9),d=n(0);function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),e}var m=function(){function e(t,n,r){f(this,e),this.onChange=t,this.calculateItemSize=n||function(){return 1},this.limit=r,this.items=[],this.index=-1}return p(e,[{key:"add",value:function(e){while(this._calculateHistorySize()>this.limit&&this.items.length>1)this.items.shift(),this.index--;this.items=this.items.slice(0,this.index+1),this.items.push(e),this.index++,this.onChange()}},{key:"_calculateHistorySize",value:function(){var e=this.calculateItemSize,t=0;return this.items.forEach((function(n){t+=e(n)})),t}},{key:"undo",value:function(){if(this.canUndo())return this.index--,this.onChange(),this.items[this.index]}},{key:"redo",value:function(){if(this.canRedo())return this.index++,this.onChange(),this.items[this.index]}},{key:"canUndo",value:function(){return this.index>0}},{key:"canRedo",value:function(){return this.index<this.items.length-1}},{key:"clear",value:function(){this.items=[],this.index=-1,this.onChange()}}]),e}(),g=n(4),v=l["textModeMixins"][0].mixin,b={create:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"undefined"===typeof t.statusBar&&(t.statusBar=!0),t.mainMenuBar=!1!==t.mainMenuBar,t.enableSort=!1!==t.enableSort,t.enableTransform=!1!==t.enableTransform,t.createQuery=t.createQuery||g["a"],t.executeQuery=t.executeQuery||g["b"],this.options=t,"number"===typeof t.indentation?this.indentation=Number(t.indentation):this.indentation=2,Object(r["b"])(this.options.languages),Object(r["a"])(this.options.language),this.mode="preview";var n=this;this.container=e,this.dom={},this.json=void 0,this.text="",this._debouncedValidate=Object(d["debounce"])(this.validate.bind(this),this.DEBOUNCE_INTERVAL),this.width=e.clientWidth,this.height=e.clientHeight,this.frame=document.createElement("div"),this.frame.className="jsoneditor jsoneditor-mode-preview",this.frame.onclick=function(e){e.preventDefault()};var a={target:this.frame,onFocus:this.options.onFocus||null,onBlur:this.options.onBlur||null};if(this.frameFocusTracker=new u["a"](a),this.content=document.createElement("div"),this.content.className="jsoneditor-outer",this.dom.busy=document.createElement("div"),this.dom.busy.className="jsoneditor-busy",this.dom.busyContent=document.createElement("span"),this.dom.busyContent.textContent="busy...",this.dom.busy.appendChild(this.dom.busyContent),this.content.appendChild(this.dom.busy),this.dom.previewContent=document.createElement("pre"),this.dom.previewContent.className="jsoneditor-preview",this.dom.previewText=document.createTextNode(""),this.dom.previewContent.appendChild(this.dom.previewText),this.content.appendChild(this.dom.previewContent),this.options.mainMenuBar){Object(d["addClassName"])(this.content,"has-main-menu-bar"),this.menu=document.createElement("div"),this.menu.className="jsoneditor-menu",this.frame.appendChild(this.menu);var s=document.createElement("button");s.type="button",s.className="jsoneditor-format",s.title=Object(r["c"])("formatTitle"),this.menu.appendChild(s),s.onclick=function(){n.executeWithBusyMessage((function(){try{n.format()}catch(e){n._onError(e)}}),"formatting...")};var l=document.createElement("button");if(l.type="button",l.className="jsoneditor-compact",l.title=Object(r["c"])("compactTitle"),this.menu.appendChild(l),l.onclick=function(){n.executeWithBusyMessage((function(){try{n.compact()}catch(e){n._onError(e)}}),"compacting...")},this.options.enableSort){var f=document.createElement("button");f.type="button",f.className="jsoneditor-sort",f.title=Object(r["c"])("sortTitleShort"),f.onclick=function(){n._showSortModal()},this.menu.appendChild(f)}if(this.options.enableTransform){var h=document.createElement("button");h.type="button",h.title=Object(r["c"])("transformTitleShort"),h.className="jsoneditor-transform",h.onclick=function(){n._showTransformModal()},this.dom.transform=h,this.menu.appendChild(h)}var p=document.createElement("button");if(p.type="button",p.className="jsoneditor-repair",p.title=Object(r["c"])("repairTitle"),this.menu.appendChild(p),p.onclick=function(){void 0===n.json&&n.executeWithBusyMessage((function(){try{n.repair()}catch(e){n._onError(e)}}),"repairing...")},!1!==this.options.history){var v=function(){n.dom.undo.disabled=!n.history.canUndo(),n.dom.redo.disabled=!n.history.canRedo()},b=function(e){return 2*e.text.length};this.history=new m(v,b,c["c"]);var y=document.createElement("button");y.type="button",y.className="jsoneditor-undo jsoneditor-separator",y.title=Object(r["c"])("undo"),y.onclick=function(){var e=n.history.undo();e&&n._applyHistory(e)},this.menu.appendChild(y),this.dom.undo=y;var C=document.createElement("button");C.type="button",C.className="jsoneditor-redo",C.title=Object(r["c"])("redo"),C.onclick=function(){var e=n.history.redo();e&&n._applyHistory(e)},this.menu.appendChild(C),this.dom.redo=C,this.history.onChange()}this.options&&this.options.modes&&this.options.modes.length&&(this.modeSwitcher=new i["a"](this.menu,this.options.modes,this.options.mode,(function(e){n.setMode(e),n.modeSwitcher.focus()})))}if(this.errorTable=new o["a"]({errorTableVisible:!0,onToggleVisibility:function(){n.validate()},onFocusLine:null,onChangeHeight:function(e){var t=n.dom.statusBar?n.dom.statusBar.clientHeight:0,r=e+t+1;n.content.style.marginBottom=-r+"px",n.content.style.paddingBottom=r+"px"}}),this.frame.appendChild(this.content),this.frame.appendChild(this.errorTable.getErrorTable()),this.container.appendChild(this.frame),t.statusBar){Object(d["addClassName"])(this.content,"has-status-bar");var w=document.createElement("div");this.dom.statusBar=w,w.className="jsoneditor-statusbar",this.frame.appendChild(w),this.dom.fileSizeInfo=document.createElement("span"),this.dom.fileSizeInfo.className="jsoneditor-size-info",this.dom.fileSizeInfo.innerText="",w.appendChild(this.dom.fileSizeInfo),this.dom.arrayInfo=document.createElement("span"),this.dom.arrayInfo.className="jsoneditor-size-info",this.dom.arrayInfo.innerText="",w.appendChild(this.dom.arrayInfo),w.appendChild(this.errorTable.getErrorCounter()),w.appendChild(this.errorTable.getWarningIcon()),w.appendChild(this.errorTable.getErrorIcon())}this._renderPreview(),this.setSchema(this.options.schema,this.options.schemaRefs)},_renderPreview:function(){var e=this.getText();this.dom.previewText.nodeValue=Object(d["limitCharacters"])(e,c["b"]),this.dom.fileSizeInfo&&(this.dom.fileSizeInfo.innerText="Size: "+Object(d["formatSize"])(e.length)),this.dom.arrayInfo&&(Array.isArray(this.json)?this.dom.arrayInfo.innerText="Array: "+this.json.length+" items":this.dom.arrayInfo.innerText="")},_onChange:function(){if(this._debouncedValidate(),this.options.onChange)try{this.options.onChange()}catch(e){}if(this.options.onChangeJSON)try{this.options.onChangeJSON(this.get())}catch(e){}if(this.options.onChangeText)try{this.options.onChangeText(this.getText())}catch(e){}},_showSortModal:function(){var e=this;function t(t,n){if(Array.isArray(t)){var r=Object(d["sort"])(t,n.path,n.direction);e.sortedBy=n,e._setAndFireOnChange(r)}if(Object(d["isObject"])(t)){var i=Object(d["sortObjectKeys"])(t,n.direction);e.sortedBy=n,e._setAndFireOnChange(i)}}this.executeWithBusyMessage((function(){var n=e.options.modalAnchor||c["a"],r=e.get();e._renderPreview(),Object(a["showSortModal"])(n,r,(function(n){e.executeWithBusyMessage((function(){t(r,n)}),"sorting...")}),e.sortedBy)}),"parsing...")},_showTransformModal:function(){var e=this;this.executeWithBusyMessage((function(){var t=e.options,n=t.createQuery,r=t.executeQuery,i=t.modalAnchor,o=t.queryDescription,a=e.get();e._renderPreview(),Object(s["showTransformModal"])({anchor:i||c["a"],json:a,queryDescription:o,createQuery:n,executeQuery:r,onTransform:function(t){e.executeWithBusyMessage((function(){var n=r(a,t);e._setAndFireOnChange(n)}),"transforming...")}})}),"parsing...")},destroy:function(){this.frame&&this.container&&this.frame.parentNode===this.container&&this.container.removeChild(this.frame),this.modeSwitcher&&(this.modeSwitcher.destroy(),this.modeSwitcher=null),this._debouncedValidate=null,this.history&&(this.history.clear(),this.history=null),this.frameFocusTracker.destroy()},compact:function(){var e=this.get(),t=JSON.stringify(e);this._setTextAndFireOnChange(t,e)},format:function(){var e=this.get(),t=JSON.stringify(e,null,this.indentation);this._setTextAndFireOnChange(t,e)},repair:function(){var e=this.getText(),t=Object(d["repair"])(e);this._setTextAndFireOnChange(t)},focus:function(){this.dom.transform.focus()},set:function(e){this.history&&this.history.clear(),this._set(e)},update:function(e){this._set(e)},_set:function(e){this.text=void 0,this.json=e,this._renderPreview(),this._pushHistory(),this._debouncedValidate()},_setAndFireOnChange:function(e){this._set(e),this._onChange()},get:function(){if(void 0===this.json){var e=this.getText();this.json=Object(d["parse"])(e)}return this.json},getText:function(){return void 0===this.text&&(this.text=JSON.stringify(this.json,null,this.indentation),!0===this.options.escapeUnicode&&(this.text=Object(d["escapeUnicodeChars"])(this.text))),this.text},setText:function(e){this.history&&this.history.clear(),this._setText(e)},updateText:function(e){this.getText()!==e&&this._setText(e)},_setText:function(e,t){if(!0===this.options.escapeUnicode?this.text=Object(d["escapeUnicodeChars"])(e):this.text=e,this.json=t,this._renderPreview(),void 0===this.json){var n=this;this.executeWithBusyMessage((function(){try{n.json=n.get(),n._renderPreview(),n._pushHistory()}catch(e){}}),"parsing...")}else this._pushHistory();this._debouncedValidate()},_setTextAndFireOnChange:function(e,t){this._setText(e,t),this._onChange()},_applyHistory:function(e){this.json=e.json,this.text=e.text,this._renderPreview(),this._debouncedValidate()},_pushHistory:function(){if(this.history){var e={text:this.text,json:this.json};this.history.add(e)}},executeWithBusyMessage:function(e,t){var n=this.getText().length;if(n>c["d"]){var r=this;Object(d["addClassName"])(r.frame,"busy"),r.dom.busyContent.innerText=t,setTimeout((function(){e(),Object(d["removeClassName"])(r.frame,"busy"),r.dom.busyContent.innerText=""}),100)}else e()}};b.validate=v.validate,b._renderErrors=v._renderErrors;var y=[{mode:"preview",mixin:b,data:"json"}]}])}))},be7f:function(e,t){(function(e){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=tinymce.util.Tools.resolve("tinymce.util.VK"),r=function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},i=function(e){return function(t){return r(t)===e}},o=function(e){return function(t){return typeof t===e}},a=function(e){return function(t){return e===t}},s=i("string"),l=i("array"),c=a(null),u=o("boolean"),d=o("function"),f=function(e){var t=e.getParam("link_assume_external_targets",!1);return u(t)&&t?1:!s(t)||"http"!==t&&"https"!==t?0:t},h=function(e){return e.getParam("link_context_toolbar",!1,"boolean")},p=function(e){return e.getParam("link_list")},m=function(e){return e.getParam("default_link_target")},g=function(e){return e.getParam("target_list",!0)},v=function(e){return e.getParam("rel_list",[],"array")},b=function(e){return e.getParam("link_class_list",[],"array")},y=function(e){return e.getParam("link_title",!0,"boolean")},C=function(e){return e.getParam("allow_unsafe_link_target",!1,"boolean")},w=function(e){return e.getParam("link_quicklink",!1,"boolean")},x=function(e){return e.getParam("link_default_protocol","http","string")},I=function(){},A=function(e){return function(){return e}},k=A(!1),S=A(!0),_=function(){return T},T=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e},r={fold:function(e,t){return e()},is:k,isSome:k,isNone:S,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:A(null),getOrUndefined:A(void 0),or:n,orThunk:t,map:_,each:I,bind:_,exists:k,forall:S,filter:_,equals:e,equals_:e,toArray:function(){return[]},toString:A("none()")};return r}(),E=function(e){var t=A(e),n=function(){return i},r=function(t){return t(e)},i={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:S,isNone:k,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return E(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?i:T},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(k,(function(t){return n(e,t)}))}};return i},O=function(e){return null===e||void 0===e?T:E(e)},R={some:E,none:_,from:O},N=Array.prototype.indexOf,L=Array.prototype.push,D=function(e,t){return N.call(e,t)},B=function(e,t){return D(e,t)>-1},M=function(e,t){for(var n=e.length,r=new Array(n),i=0;i<n;i++){var o=e[i];r[i]=t(o,i)}return r},P=function(e,t){for(var n=0,r=e.length;n<r;n++){var i=e[n];t(i,n)}},F=function(e,t,n){return P(e,(function(e){n=t(n,e)})),n},j=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!l(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);L.apply(t,e[n])}return t},H=function(e,t){return j(M(e,t))},z=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return R.none()},$=function(e){for(var t=[],n=function(e){t.push(e)},r=0;r<e.length;r++)e[r].each(n);return t},V=tinymce.util.Tools.resolve("tinymce.util.Tools"),W=function(e){return s(e.value)?e.value:""},K=function(e,t){var n=[];return V.each(e,(function(e){var r=s(e.text)?e.text:s(e.title)?e.title:"";if(void 0!==e.menu);else{var i=t(e);n.push({text:r,value:i})}})),n},G=function(e){return void 0===e&&(e=W),function(t){return R.from(t).map((function(t){return K(t,e)}))}},Z=function(e){return G(W)(e)},U=function(e,t){return function(n){return{name:e,type:"selectbox",label:t,items:n}}},q={sanitize:Z,sanitizeWith:G,createUi:U,getValue:W},X=function(){return X=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},X.apply(this,arguments)},Y=Object.keys,J=function(e,t){for(var n=Y(e),r=0,i=n.length;r<i;r++){var o=n[r],a=e[o];t(a,o)}},Q=function(e){return function(t,n){e[n]=t}},ee=function(e,t,n,r){var i={};return J(e,(function(e,i){(t(e,i)?n:r)(e,i)})),i},te=function(e,t){var n={};return ee(e,t,Q(n),I),n},ne=function(e){return!(!/(^|[ ,])rtc([, ]|$)/.test(e.getParam("plugins","","string"))||!t.get("rtc"))},re=function(e){return/^\w+:/i.test(e)},ie=function(e){var t=e.getAttribute("data-mce-href");return t||e.getAttribute("href")},oe=function(e,t){var n=["noopener"],r=e?e.split(/\s+/):[],i=function(e){return V.trim(e.sort().join(" "))},o=function(e){return e=a(e),e.length>0?e.concat(n):n},a=function(e){return e.filter((function(e){return-1===V.inArray(n,e)}))},s=t?o(r):a(r);return s.length>0?i(s):""},ae=function(e){return e.replace(/\uFEFF/g,"")},se=function(e,t){return t=t||e.selection.getNode(),fe(t)?e.dom.select("a[href]",t)[0]:e.dom.getParent(t,"a[href]")},le=function(e,t){var n=t?t.innerText||t.textContent:e.getContent({format:"text"});return ae(n)},ce=function(e){return e&&"A"===e.nodeName&&!!ie(e)},ue=function(e){return V.grep(e,ce).length>0},de=function(e){return!(/</.test(e)&&(!/^<a [^>]+>[^<]+<\/a>$/.test(e)||-1===e.indexOf("href=")))},fe=function(e){return e&&"FIGURE"===e.nodeName&&/\bimage\b/i.test(e.className)},he=function(e){return F(["title","rel","class","target"],(function(t,n){return e[n].each((function(e){t[n]=e.length>0?e:null})),t}),{href:e.href})},pe=function(e,t){return"http"!==t&&"https"!==t||re(e)?e:t+"://"+e},me=function(e,t){var n=X({},t);if(!(v(e).length>0)&&!1===C(e)){var r=oe(n.rel,"_blank"===n.target);n.rel=r||null}return R.from(n.target).isNone()&&!1===g(e)&&(n.target=m(e)),n.href=pe(n.href,f(e)),n},ge=function(e,t,n,r){n.each((function(e){t.hasOwnProperty("innerText")?t.innerText=e:t.textContent=e})),e.dom.setAttribs(t,r),e.selection.select(t)},ve=function(e,t,n,r){fe(t)?Ae(e,t,r):n.fold((function(){e.execCommand("mceInsertLink",!1,r)}),(function(t){e.insertContent(e.dom.createHTML("a",r,e.dom.encode(t)))}))},be=function(e,t,n){var r=e.selection.getNode(),i=se(e,r),o=me(e,he(n));e.undoManager.transact((function(){n.href===t.href&&t.attach(),i?(e.focus(),ge(e,i,n.text,o)):ve(e,r,n.text,o)}))},ye=function(e){e.undoManager.transact((function(){var t=e.selection.getNode();if(fe(t))Ie(e,t);else{var n=e.dom.getParent(t,"a[href]",e.getBody());n&&e.dom.remove(n,!0)}e.focus()}))},Ce=function(e){var t=e.class,n=e.href,r=e.rel,i=e.target,o=e.text,a=e.title;return te({class:t.getOrNull(),href:n,rel:r.getOrNull(),target:i.getOrNull(),text:o.getOrNull(),title:a.getOrNull()},(function(e,t){return!1===c(e)}))},we=function(e,t,n){ne(e)?e.execCommand("createlink",!1,Ce(n)):be(e,t,n)},xe=function(e){ne(e)?e.execCommand("unlink"):ye(e)},Ie=function(e,t){var n=e.dom.select("img",t)[0];if(n){var r=e.dom.getParents(n,"a[href]",t)[0];r&&(r.parentNode.insertBefore(n,r),e.dom.remove(r))}},Ae=function(e,t,n){var r=e.dom.select("img",t)[0];if(r){var i=e.dom.create("a",n);r.parentNode.insertBefore(i,r),i.appendChild(r)}},ke=function(e){var t=e,n=function(){return t},r=function(e){t=e};return{get:n,set:r}},Se=function(e,t){return z(t,(function(t){return R.some(t).filter((function(t){return t.value===e}))}))},_e=function(e,t,n,r){var i=r[t],o=e.length>0;return void 0!==i?Se(i,n).map((function(t){return{url:{value:t.value,meta:{text:o?e:t.text,attach:I}},text:o?e:t.text}})):R.none()},Te=function(e,t){return"link"===t?e.catalogs.link:"anchor"===t?e.catalogs.anchor:R.none()},Ee=function(e,t){var n=ke(e.text),r=function(e){if(n.get().length<=0){var t=void 0!==e.url.meta.text?e.url.meta.text:e.url.value,r=void 0!==e.url.meta.title?e.url.meta.title:"";return R.some({text:t,title:r})}return R.none()},i=function(e,r){var i=Te(t,r.name).getOr([]);return _e(n.get(),r.name,i,e)},o=function(e,t){return"url"===t.name?r(e()):B(["anchor","link"],t.name)?i(e(),t):"text"===t.name?(n.set(e().text),R.none()):R.none()};return{onChange:o}},Oe={init:Ee,getDelta:_e},Re=tinymce.util.Tools.resolve("tinymce.util.Delay"),Ne=tinymce.util.Tools.resolve("tinymce.util.Promise"),Le=function(e,t,n){var r=e.selection.getRng();Re.setEditorTimeout(e,(function(){e.windowManager.confirm(t,(function(t){e.selection.setRng(r),n(t)}))}))},De=function(e){var t=e.href,n=t.indexOf("@")>0&&-1===t.indexOf("/")&&-1===t.indexOf("mailto:");return n?R.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:function(e){return X(X({},e),{href:"mailto:"+t})}}):R.none()},Be=function(e,t){return function(n){var r=n.href,i=1===e&&!re(r)||0===e&&/^\s*www[\.|\d\.]/i.test(r);return i?R.some({message:"The URL you entered seems to be an external link. Do you want to add the required "+t+":// prefix?",preprocess:function(e){return X(X({},e),{href:t+"://"+r})}}):R.none()}},Me=function(e,t){return z([De,Be(f(e),x(e))],(function(e){return e(t)})).fold((function(){return Ne.resolve(t)}),(function(n){return new Ne((function(r){Le(e,n.message,(function(e){r(e?n.preprocess(t):t)}))}))}))},Pe={preprocess:Me},Fe=function(e){var t=e.dom.select("a:not([href])"),n=H(t,(function(e){var t=e.name||e.id;return t?[{text:t,value:"#"+t}]:[]}));return n.length>0?R.some([{text:"None",value:""}].concat(n)):R.none()},je={getAnchors:Fe},He=function(e){var t=b(e);return t.length>0?q.sanitize(t):R.none()},ze={getClasses:He},$e=tinymce.util.Tools.resolve("tinymce.util.XHR"),Ve=function(e){try{return R.some(JSON.parse(e))}catch(t){return R.none()}},We=function(e){var t=function(t){return e.convertURL(t.value||t.url,"href")},n=p(e);return new Ne((function(e){s(n)?$e.send({url:n,success:function(t){return e(Ve(t))},error:function(t){return e(R.none())}}):d(n)?n((function(t){return e(R.some(t))})):e(R.from(n))})).then((function(e){return e.bind(q.sanitizeWith(t)).map((function(e){return e.length>0?[{text:"None",value:""}].concat(e):e}))}))},Ke={getLinks:We},Ge=function(e,t){var n=v(e);if(n.length>0){var r=t.is("_blank"),i=!1===C(e),o=function(e){return oe(q.getValue(e),r)},a=i?q.sanitizeWith(o):q.sanitize;return a(n)}return R.none()},Ze={getRels:Ge},Ue=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],qe=function(e){var t=g(e);return l(t)?q.sanitize(t).orThunk((function(){return R.some(Ue)})):!1===t?R.none():R.some(Ue)},Xe={getTargets:qe},Ye=function(e,t,n){var r=e.getAttrib(t,n);return null!==r&&r.length>0?R.some(r):R.none()},Je=function(e,t){var n=e.dom,r=de(e.selection.getContent()),i=r?R.some(le(e.selection,t)):R.none(),o=t?R.some(n.getAttrib(t,"href")):R.none(),a=t?R.from(n.getAttrib(t,"target")):R.none(),s=Ye(n,t,"rel"),l=Ye(n,t,"class"),c=Ye(n,t,"title");return{url:o,text:i,title:c,target:a,rel:s,linkClass:l}},Qe=function(e,t){return Ke.getLinks(e).then((function(n){var r=Je(e,t);return{anchor:r,catalogs:{targets:Xe.getTargets(e),rels:Ze.getRels(e,r.target),classes:ze.getClasses(e),anchor:je.getAnchors(e),link:n},optNode:R.from(t),flags:{titleEnabled:y(e)}}}))},et={collect:Qe},tt=function(e,t){return function(n){var r=n.getData();if(!r.url.value)return xe(e),void n.close();var i=function(e){return R.from(r[e]).filter((function(n){return!t.anchor[e].is(n)}))},o={href:r.url.value,text:i("text"),target:i("target"),rel:i("rel"),class:i("linkClass"),title:i("title")},a={href:r.url.value,attach:void 0!==r.url.meta&&r.url.meta.attach?r.url.meta.attach:function(){}};Pe.preprocess(e,o).then((function(t){we(e,a,t)})),n.close()}},nt=function(e){var t=se(e);return et.collect(e,t)},rt=function(e,t){return{url:{value:e.anchor.url.getOr(""),meta:{attach:function(){},text:e.anchor.url.fold((function(){return""}),(function(){return e.anchor.text.getOr("")})),original:{value:e.anchor.url.getOr("")}}},text:e.anchor.text.getOr(""),title:e.anchor.title.getOr(""),anchor:e.anchor.url.getOr(""),link:e.anchor.url.getOr(""),rel:e.anchor.rel.getOr(""),target:e.anchor.target.or(t).getOr(""),linkClass:e.anchor.linkClass.getOr("")}},it=function(e,t,n){var r=[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],i=e.anchor.text.map((function(){return{name:"text",type:"input",label:"Text to display"}})).toArray(),o=e.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],a=R.from(m(n)),s=rt(e,a),l=Oe.init(s,e),c=e.catalogs,u={type:"panel",items:j([r,i,o,$([c.anchor.map(q.createUi("anchor","Anchors")),c.rels.map(q.createUi("rel","Rel")),c.targets.map(q.createUi("target","Open link in...")),c.link.map(q.createUi("link","Link list")),c.classes.map(q.createUi("linkClass","Class"))])])};return{title:"Insert/Edit Link",size:"normal",body:u,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:s,onChange:function(e,t){var n=t.name;l.onChange(e.getData,{name:n}).each((function(t){e.setData(t)}))},onSubmit:t}},ot=function(e){var t=nt(e);t.then((function(t){var n=tt(e,t);return it(t,n,e)})).then((function(t){e.windowManager.open(t)}))},at=function(t,n){e.document.body.appendChild(t),t.dispatchEvent(n),e.document.body.removeChild(t)},st=function(t){var n=e.document.createElement("a");n.target="_blank",n.href=t,n.rel="noreferrer noopener";var r=e.document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,e.window,0,0,0,0,0,!1,!1,!1,!1,0,null),at(n,r)},lt=function(e,t){return e.dom.getParent(t,"a[href]")},ct=function(e){return lt(e,e.selection.getStart())},ut=function(e){return!0===e.altKey&&!1===e.shiftKey&&!1===e.ctrlKey&&!1===e.metaKey},dt=function(e,t){if(t){var n=ie(t);if(/^#/.test(n)){var r=e.$(n);r.length&&e.selection.scrollIntoView(r[0],!0)}else st(t.href)}},ft=function(e){return function(){ot(e)}},ht=function(e){return function(){dt(e,ct(e))}},pt=function(e){e.on("click",(function(t){var r=lt(e,t.target);r&&n.metaKeyPressed(t)&&(t.preventDefault(),dt(e,r))})),e.on("keydown",(function(t){var n=ct(e);n&&13===t.keyCode&&ut(t)&&(t.preventDefault(),dt(e,n))}))},mt=function(e){return function(t){var n=function(n){return t.setActive(!e.mode.isReadOnly()&&!!se(e,n.element))};return e.on("NodeChange",n),function(){return e.off("NodeChange",n)}}},gt=function(e){return function(t){var n=e.dom.getParents(e.selection.getStart());t.setDisabled(!ue(n));var r=function(e){return t.setDisabled(!ue(e.parents))};return e.on("NodeChange",r),function(){return e.off("NodeChange",r)}}},vt=function(e){e.addCommand("mceLink",(function(){w(e)?e.fire("contexttoolbar-show",{toolbarKey:"quicklink"}):ft(e)()}))},bt=function(e){e.addShortcut("Meta+K","",(function(){e.execCommand("mceLink")}))},yt=function(e){e.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:ft(e),onSetup:mt(e)}),e.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:ht(e),onSetup:gt(e)}),e.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:function(){return xe(e)},onSetup:gt(e)})},Ct=function(e){e.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:ht(e),onSetup:gt(e)}),e.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:ft(e)}),e.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:function(){return xe(e)},onSetup:gt(e)})},wt=function(e){var t="link unlink openlink",n="link";e.ui.registry.addContextMenu("link",{update:function(r){return ue(e.dom.getParents(r,"a"))?t:n}})},xt=function(e){var t=function(e){e.selection.collapse(!1)},n=function(t){var n=e.selection.getNode();return t.setDisabled(!se(e,n)),function(){}};e.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:mt(e)},label:"Link",predicate:function(t){return!!se(e,t)&&h(e)},initValue:function(){var t=se(e);return t?ie(t):""},commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:function(t){var n=e.selection.getNode();return t.setActive(!!se(e,n)),mt(e)(t)},onAction:function(n){var r=se(e),i=n.getValue();if(r)e.undoManager.transact((function(){e.dom.setAttrib(r,"href",i),t(e),n.hide()}));else{var o={href:i,attach:function(){}},a=de(e.selection.getContent()),s=a?R.some(le(e.selection,r)).filter((function(e){return e.length>0})).or(R.from(i)):R.none();we(e,o,{href:i,text:s,title:R.none(),rel:R.none(),target:R.none(),class:R.none()}),n.hide()}}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:n,onAction:function(t){xe(e),t.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:n,onAction:function(t){ht(e)(),t.hide()}}]})};function It(){t.add("link",(function(e){yt(e),Ct(e),wt(e),xt(e),pt(e),vt(e),bt(e)}))}It()})(window)},bf13:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"chart-mini-progress"},[n("div",{staticClass:"target",style:{left:e.target+"%"}},[n("span",{style:{backgroundColor:e.color}}),n("span",{style:{backgroundColor:e.color}})]),n("div",{staticClass:"progress-wrapper"},[n("div",{staticClass:"progress",style:{backgroundColor:e.color,width:e.percentage+"%",height:e.height+"px"}})])])},i=[],o={name:"MiniProgress",props:{target:{type:Number,default:0},height:{type:Number,default:10},color:{type:String,default:"#13C2C2"},percentage:{type:Number,default:0}}},a=o,s=(n("fca0"),n("2877")),l=Object(s["a"])(a,r,i,!1,null,"51cc711b",null);t["default"]=l.exports},bf8e:function(e,t,n){"use strict";var r=n("0a14"),i=n.n(r);i.a},bf93:function(e,t,n){"use strict";var r=n("f97e"),i=n.n(r);i.a},bfa9:function(e,t){e.exports={86:{11e4:"北京市",12e4:"天津市",13e4:"河北省",14e4:"山西省",15e4:"内蒙古自治区",21e4:"辽宁省",22e4:"吉林省",23e4:"黑龙江省",31e4:"上海市",32e4:"江苏省",33e4:"浙江省",34e4:"安徽省",35e4:"福建省",36e4:"江西省",37e4:"山东省",41e4:"河南省",42e4:"湖北省",43e4:"湖南省",44e4:"广东省",45e4:"广西壮族自治区",46e4:"海南省",5e5:"重庆市",51e4:"四川省",52e4:"贵州省",53e4:"云南省",54e4:"西藏自治区",61e4:"陕西省",62e4:"甘肃省",63e4:"青海省",64e4:"宁夏回族自治区",65e4:"新疆维吾尔自治区",71e4:"台湾省",81e4:"香港特别行政区",82e4:"澳门特别行政区"},11e4:{110101:"东城区",110102:"西城区",110105:"朝阳区",110106:"丰台区",110107:"石景山区",110108:"海淀区",110109:"门头沟区",110111:"房山区",110112:"通州区",110113:"顺义区",110114:"昌平区",110115:"大兴区",110116:"怀柔区",110117:"平谷区",110118:"密云区",110119:"延庆区"},12e4:{120101:"和平区",120102:"河东区",120103:"河西区",120104:"南开区",120105:"河北区",120106:"红桥区",120110:"东丽区",120111:"西青区",120112:"津南区",120113:"北辰区",120114:"武清区",120115:"宝坻区",120116:"滨海新区",120117:"宁河区",120118:"静海区",120119:"蓟州区"},13e4:{130100:"石家庄市",130200:"唐山市",130300:"秦皇岛市",130400:"邯郸市",130500:"邢台市",130600:"保定市",130700:"张家口市",130800:"承德市",130900:"沧州市",131e3:"廊坊市",131100:"衡水市",139001:"定州市",139002:"辛集市"},14e4:{140100:"太原市",140200:"大同市",140300:"阳泉市",140400:"长治市",140500:"晋城市",140600:"朔州市",140700:"晋中市",140800:"运城市",140900:"忻州市",141e3:"临汾市",141100:"吕梁市"},15e4:{150100:"呼和浩特市",150200:"包头市",150300:"乌海市",150400:"赤峰市",150500:"通辽市",150600:"鄂尔多斯市",150700:"呼伦贝尔市",150800:"巴彦淖尔市",150900:"乌兰察布市",152200:"兴安盟",152500:"锡林郭勒盟",152900:"阿拉善盟"},21e4:{210100:"沈阳市",210200:"大连市",210300:"鞍山市",210400:"抚顺市",210500:"本溪市",210600:"丹东市",210700:"锦州市",210800:"营口市",210900:"阜新市",211e3:"辽阳市",211100:"盘锦市",211200:"铁岭市",211300:"朝阳市",211400:"葫芦岛市"},22e4:{220100:"长春市",220200:"吉林市",220300:"四平市",220400:"辽源市",220500:"通化市",220600:"白山市",220700:"松原市",220800:"白城市",222400:"延边朝鲜族自治州"},23e4:{230100:"哈尔滨市",230200:"齐齐哈尔市",230300:"鸡西市",230400:"鹤岗市",230500:"双鸭山市",230600:"大庆市",230700:"伊春市",230800:"佳木斯市",230900:"七台河市",231e3:"牡丹江市",231100:"黑河市",231200:"绥化市",232700:"大兴安岭地区"},31e4:{310101:"黄浦区",310104:"徐汇区",310105:"长宁区",310106:"静安区",310107:"普陀区",310109:"虹口区",310110:"杨浦区",310112:"闵行区",310113:"宝山区",310114:"嘉定区",310115:"浦东新区",310116:"金山区",310117:"松江区",310118:"青浦区",310120:"奉贤区",310151:"崇明区"},32e4:{320100:"南京市",320200:"无锡市",320300:"徐州市",320400:"常州市",320500:"苏州市",320600:"南通市",320700:"连云港市",320800:"淮安市",320900:"盐城市",321e3:"扬州市",321100:"镇江市",321200:"泰州市",321300:"宿迁市"},33e4:{330100:"杭州市",330200:"宁波市",330300:"温州市",330400:"嘉兴市",330500:"湖州市",330600:"绍兴市",330700:"金华市",330800:"衢州市",330900:"舟山市",331e3:"台州市",331100:"丽水市"},34e4:{340100:"合肥市",340200:"芜湖市",340300:"蚌埠市",340400:"淮南市",340500:"马鞍山市",340600:"淮北市",340700:"铜陵市",340800:"安庆市",341e3:"黄山市",341100:"滁州市",341200:"阜阳市",341300:"宿州市",341500:"六安市",341600:"亳州市",341700:"池州市",341800:"宣城市"},35e4:{350100:"福州市",350200:"厦门市",350300:"莆田市",350400:"三明市",350500:"泉州市",350600:"漳州市",350700:"南平市",350800:"龙岩市",350900:"宁德市"},36e4:{360100:"南昌市",360200:"景德镇市",360300:"萍乡市",360400:"九江市",360500:"新余市",360600:"鹰潭市",360700:"赣州市",360800:"吉安市",360900:"宜春市",361e3:"抚州市",361100:"上饶市"},37e4:{370100:"济南市",370200:"青岛市",370300:"淄博市",370400:"枣庄市",370500:"东营市",370600:"烟台市",370700:"潍坊市",370800:"济宁市",370900:"泰安市",371e3:"威海市",371100:"日照市",371200:"莱芜市",371300:"临沂市",371400:"德州市",371500:"聊城市",371600:"滨州市",371700:"菏泽市"},41e4:{410100:"郑州市",410200:"开封市",410300:"洛阳市",410400:"平顶山市",410500:"安阳市",410600:"鹤壁市",410700:"新乡市",410800:"焦作市",410900:"濮阳市",411e3:"许昌市",411100:"漯河市",411200:"三门峡市",411300:"南阳市",411400:"商丘市",411500:"信阳市",411600:"周口市",411700:"驻马店市",419001:"济源市"},42e4:{420100:"武汉市",420200:"黄石市",420300:"十堰市",420500:"宜昌市",420600:"襄阳市",420700:"鄂州市",420800:"荆门市",420900:"孝感市",421e3:"荆州市",421100:"黄冈市",421200:"咸宁市",421300:"随州市",422800:"恩施土家族苗族自治州",429004:"仙桃市",429005:"潜江市",429006:"天门市",429021:"神农架林区"},43e4:{430100:"长沙市",430200:"株洲市",430300:"湘潭市",430400:"衡阳市",430500:"邵阳市",430600:"岳阳市",430700:"常德市",430800:"张家界市",430900:"益阳市",431e3:"郴州市",431100:"永州市",431200:"怀化市",431300:"娄底市",433100:"湘西土家族苗族自治州"},44e4:{440100:"广州市",440200:"韶关市",440300:"深圳市",440400:"珠海市",440500:"汕头市",440600:"佛山市",440700:"江门市",440800:"湛江市",440900:"茂名市",441200:"肇庆市",441300:"惠州市",441400:"梅州市",441500:"汕尾市",441600:"河源市",441700:"阳江市",441800:"清远市",441900:"东莞市",442e3:"中山市",445100:"潮州市",445200:"揭阳市",445300:"云浮市"},45e4:{450100:"南宁市",450200:"柳州市",450300:"桂林市",450400:"梧州市",450500:"北海市",450600:"防城港市",450700:"钦州市",450800:"贵港市",450900:"玉林市",451e3:"百色市",451100:"贺州市",451200:"河池市",451300:"来宾市",451400:"崇左市"},46e4:{460100:"海口市",460200:"三亚市",460300:"三沙市",460400:"儋州市",469001:"五指山市",469002:"琼海市",469005:"文昌市",469006:"万宁市",469007:"东方市",469021:"定安县",469022:"屯昌县",469023:"澄迈县",469024:"临高县",469025:"白沙黎族自治县",469026:"昌江黎族自治县",469027:"乐东黎族自治县",469028:"陵水黎族自治县",469029:"保亭黎族苗族自治县",469030:"琼中黎族苗族自治县"},5e5:{500101:"万州区",500102:"涪陵区",500103:"渝中区",500104:"大渡口区",500105:"江北区",500106:"沙坪坝区",500107:"九龙坡区",500108:"南岸区",500109:"北碚区",500110:"綦江区",500111:"大足区",500112:"渝北区",500113:"巴南区",500114:"黔江区",500115:"长寿区",500116:"江津区",500117:"合川区",500118:"永川区",500119:"南川区",500120:"璧山区",500151:"铜梁区",500152:"潼南区",500153:"荣昌区",500154:"开州区",500228:"梁平县",500229:"城口县",500230:"丰都县",500231:"垫江县",500232:"武隆县",500233:"忠县",500235:"云阳县",500236:"奉节县",500237:"巫山县",500238:"巫溪县",500240:"石柱土家族自治县",500241:"秀山土家族苗族自治县",500242:"酉阳土家族苗族自治县",500243:"彭水苗族土家族自治县"},51e4:{510100:"成都市",510300:"自贡市",510400:"攀枝花市",510500:"泸州市",510600:"德阳市",510700:"绵阳市",510800:"广元市",510900:"遂宁市",511e3:"内江市",511100:"乐山市",511300:"南充市",511400:"眉山市",511500:"宜宾市",511600:"广安市",511700:"达州市",511800:"雅安市",511900:"巴中市",512e3:"资阳市",513200:"阿坝藏族羌族自治州",513300:"甘孜藏族自治州",513400:"凉山彝族自治州"},52e4:{520100:"贵阳市",520200:"六盘水市",520300:"遵义市",520400:"安顺市",520500:"毕节市",520600:"铜仁市",522300:"黔西南布依族苗族自治州",522600:"黔东南苗族侗族自治州",522700:"黔南布依族苗族自治州"},53e4:{530100:"昆明市",530300:"曲靖市",530400:"玉溪市",530500:"保山市",530600:"昭通市",530700:"丽江市",530800:"普洱市",530900:"临沧市",532300:"楚雄彝族自治州",532500:"红河哈尼族彝族自治州",532600:"文山壮族苗族自治州",532800:"西双版纳傣族自治州",532900:"大理白族自治州",533100:"德宏傣族景颇族自治州",533300:"怒江傈僳族自治州",533400:"迪庆藏族自治州"},54e4:{540100:"拉萨市",540200:"日喀则市",540300:"昌都市",540400:"林芝市",540500:"山南市",542400:"那曲地区",542500:"阿里地区"},61e4:{610100:"西安市",610200:"铜川市",610300:"宝鸡市",610400:"咸阳市",610500:"渭南市",610600:"延安市",610700:"汉中市",610800:"榆林市",610900:"安康市",611e3:"商洛市"},62e4:{620100:"兰州市",620200:"嘉峪关市",620300:"金昌市",620400:"白银市",620500:"天水市",620600:"武威市",620700:"张掖市",620800:"平凉市",620900:"酒泉市",621e3:"庆阳市",621100:"定西市",621200:"陇南市",622900:"临夏回族自治州",623e3:"甘南藏族自治州"},63e4:{630100:"西宁市",630200:"海东市",632200:"海北藏族自治州",632300:"黄南藏族自治州",632500:"海南藏族自治州",632600:"果洛藏族自治州",632700:"玉树藏族自治州",632800:"海西蒙古族藏族自治州"},64e4:{640100:"银川市",640200:"石嘴山市",640300:"吴忠市",640400:"固原市",640500:"中卫市"},65e4:{650100:"乌鲁木齐市",650200:"克拉玛依市",650400:"吐鲁番市",650500:"哈密市",652300:"昌吉回族自治州",652700:"博尔塔拉蒙古自治州",652800:"巴音郭楞蒙古自治州",652900:"阿克苏地区",653e3:"克孜勒苏柯尔克孜自治州",653100:"喀什地区",653200:"和田地区",654e3:"伊犁哈萨克自治州",654200:"塔城地区",654300:"阿勒泰地区",659001:"石河子市",659002:"阿拉尔市",659003:"图木舒克市",659004:"五家渠市",659006:"铁门关市"},71e4:{710101:"金门",710102:"连江",710103:"苗栗",710104:"南投",710105:"澎湖",710106:"屏东",710107:"台东",710108:"台中",710109:"台南",710110:"台北",710111:"桃园",710112:"云林",710113:"新北",710114:"彰化",710115:"嘉义",710116:"新竹",710117:"花莲",710118:"宜兰",710119:"高雄",710120:"基隆"},81e4:{810101:"中西区",810102:"东区",810103:"九龙城区",810104:"观塘区",810105:"深水埗区",810106:"湾仔区",810107:"黄大仙区",810108:"油尖旺区",810109:"离岛区",810110:"葵青区",810111:"北区",810112:"西贡区",810113:"沙田区",810114:"屯门区",810115:"大埔区",810116:"荃湾区",810117:"元朗区",810118:"香港",810119:"九龙",810120:"新界"},82e4:{820101:"离岛",820102:"澳门半岛",820103:"凼仔",820104:"路凼城",820105:"路环"}}},c010:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.async?n("a-select",{staticStyle:{width:"100%"},attrs:{showSearch:"",labelInValue:"",disabled:e.disabled,getPopupContainer:function(e){return e.parentNode},placeholder:e.placeholder,filterOption:!1,allowClear:"",notFoundContent:e.loading?void 0:null},on:{search:e.loadData,change:e.handleAsyncChange},model:{value:e.selectedAsyncValue,callback:function(t){e.selectedAsyncValue=t},expression:"selectedAsyncValue"}},[e.loading?n("a-spin",{attrs:{slot:"notFoundContent",size:"small"},slot:"notFoundContent"}):e._e(),e._l(e.options,(function(t){return n("a-select-option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.text))])}))],2):n("a-select",{staticStyle:{width:"100%"},attrs:{getPopupContainer:function(e){return e.parentNode},showSearch:"",disabled:e.disabled,placeholder:e.placeholder,optionFilterProp:"children",filterOption:e.filterOption,allowClear:"",notFoundContent:e.loading?void 0:null},on:{change:e.handleChange},model:{value:e.selectedValue,callback:function(t){e.selectedValue=t},expression:"selectedValue"}},[e.loading?n("a-spin",{attrs:{slot:"notFoundContent",size:"small"},slot:"notFoundContent"}):e._e(),e._l(e.options,(function(t){return n("a-select-option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.text))])}))],2)},i=[],o=n("4ec3"),a=n("b047"),s=n.n(a),l=n("0fea");function c(e){return h(e)||f(e)||d(e)||u()}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(e,t){if(e){if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function f(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function h(e){if(Array.isArray(e))return p(e)}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b={name:"JSearchSelectTag",props:{disabled:Boolean,value:[String,Number],dict:String,dictOptions:Array,async:Boolean,placeholder:{type:String,default:"请选择",required:!1}},data:function(){return this.loadData=s()(this.loadData,800),this.lastLoad=0,{loading:!1,selectedValue:[],selectedAsyncValue:[],options:[]}},created:function(){this.initDictData()},watch:{value:{immediate:!0,handler:function(e){e||0==e?this.initSelectValue():(this.selectedValue=[],this.selectedAsyncValue=[])}},dict:{handler:function(){this.initDictData()}}},methods:{initSelectValue:function(){var e=this;this.async?this.selectedAsyncValue&&this.selectedAsyncValue.key&&this.selectedAsyncValue.key==this.value||Object(l["c"])("/sys/dict/loadDictItem/".concat(this.dict),{key:this.value}).then((function(t){if(t.success){var n={key:e.value,label:t.result};e.selectedAsyncValue=g({},n)}})):this.selectedValue=this.value.toString()},loadData:function(e){var t=this;this.lastLoad+=1;var n=this.lastLoad;this.options=[],this.loading=!0,Object(l["c"])("/sys/dict/loadDict/".concat(this.dict),{keyword:e}).then((function(e){if(t.loading=!1,e.success){if(n!=t.lastLoad)return;t.options=e.result}else t.$message.warning(e.message)}))},initDictData:function(){var e=this;if(!this.async)if(this.dictOptions&&this.dictOptions.length>0)this.options=c(this.dictOptions);else{var t="";if(this.dict){var n=this.dict.split(",");if(n[0].indexOf("where")>0){var r=n[0].split("where");t=r[0].trim()+","+n[1]+","+n[2]+","+encodeURIComponent(r[1])}else t=this.dict;if(-1==this.dict.indexOf(",")&&Object(o["t"])(this.dictCode))return void(this.options=Object(o["t"])(this.dictCode));Object(o["f"])(t,null).then((function(t){t.success&&(e.options=t.result)}))}}},filterOption:function(e,t){return t.componentOptions.children[0].text.toLowerCase().indexOf(e.toLowerCase())>=0},handleChange:function(e){this.selectedValue=e,this.callback()},handleAsyncChange:function(e){this.selectedAsyncValue=e,this.selectedValue=e.key,this.callback()},callback:function(){this.$emit("change",this.selectedValue)},setCurrentDictOptions:function(e){this.options=e},getCurrentDictOptions:function(){return this.options}},model:{prop:"value",event:"change"}},y=b,C=n("2877"),w=Object(C["a"])(y,r,i,!1,null,"3630613a",null);t["default"]=w.exports},c09e:function(e,t,n){},c0e2:function(e,t,n){(function(e){e(n("56b3"))})((function(e){"use strict";function t(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!0;return t}var n=t(["_","var","let","class","enum","extension","import","protocol","struct","func","typealias","associatedtype","open","public","internal","fileprivate","private","deinit","init","new","override","self","subscript","super","convenience","dynamic","final","indirect","lazy","required","static","unowned","unowned(safe)","unowned(unsafe)","weak","as","is","break","case","continue","default","else","fallthrough","for","guard","if","in","repeat","switch","where","while","defer","return","inout","mutating","nonmutating","catch","do","rethrows","throw","throws","try","didSet","get","set","willSet","assignment","associativity","infix","left","none","operator","postfix","precedence","precedencegroup","prefix","right","Any","AnyObject","Type","dynamicType","Self","Protocol","__COLUMN__","__FILE__","__FUNCTION__","__LINE__"]),r=t(["var","let","class","enum","extension","import","protocol","struct","func","typealias","associatedtype","for"]),i=t(["true","false","nil","self","super","_"]),o=t(["Array","Bool","Character","Dictionary","Double","Float","Int","Int8","Int16","Int32","Int64","Never","Optional","Set","String","UInt8","UInt16","UInt32","UInt64","Void"]),a="+-/*%=|&<>~^?!",s=":;,.(){}[]",l=/^\-?0b[01][01_]*/,c=/^\-?0o[0-7][0-7_]*/,u=/^\-?0x[\dA-Fa-f][\dA-Fa-f_]*(?:(?:\.[\dA-Fa-f][\dA-Fa-f_]*)?[Pp]\-?\d[\d_]*)?/,d=/^\-?\d[\d_]*(?:\.\d[\d_]*)?(?:[Ee]\-?\d[\d_]*)?/,f=/^\$\d+|(`?)[_A-Za-z][_A-Za-z$0-9]*\1/,h=/^\.(?:\$\d+|(`?)[_A-Za-z][_A-Za-z$0-9]*\1)/,p=/^\#[A-Za-z]+/,m=/^@(?:\$\d+|(`?)[_A-Za-z][_A-Za-z$0-9]*\1)/;function g(e,t,g){if(e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;var v,C=e.peek();if("/"==C){if(e.match("//"))return e.skipToEnd(),"comment";if(e.match("/*"))return t.tokenize.push(y),y(e,t)}if(e.match(p))return"builtin";if(e.match(m))return"attribute";if(e.match(l))return"number";if(e.match(c))return"number";if(e.match(u))return"number";if(e.match(d))return"number";if(e.match(h))return"property";if(a.indexOf(C)>-1)return e.next(),"operator";if(s.indexOf(C)>-1)return e.next(),e.match(".."),"punctuation";if(v=e.match(/("""|"|')/)){var w=b.bind(null,v[0]);return t.tokenize.push(w),w(e,t)}if(e.match(f)){var x=e.current();return o.hasOwnProperty(x)?"variable-2":i.hasOwnProperty(x)?"atom":n.hasOwnProperty(x)?(r.hasOwnProperty(x)&&(t.prev="define"),"keyword"):"define"==g?"def":"variable"}return e.next(),null}function v(){var e=0;return function(t,n,r){var i=g(t,n,r);if("punctuation"==i)if("("==t.current())++e;else if(")"==t.current()){if(0==e)return t.backUp(1),n.tokenize.pop(),n.tokenize[n.tokenize.length-1](t,n);--e}return i}}function b(e,t,n){var r,i=1==e.length,o=!1;while(r=t.peek())if(o){if(t.next(),"("==r)return n.tokenize.push(v()),"string";o=!1}else{if(t.match(e))return n.tokenize.pop(),"string";t.next(),o="\\"==r}return i&&n.tokenize.pop(),"string"}function y(e,t){var n;while(1){if(e.match(/^[^/*]+/,!0),n=e.next(),!n)break;"/"===n&&e.eat("*")?t.tokenize.push(y):"*"===n&&e.eat("/")&&t.tokenize.pop()}return"comment"}function C(e,t,n){this.prev=e,this.align=t,this.indented=n}function w(e,t){var n=t.match(/^\s*($|\/[\/\*])/,!1)?null:t.column()+1;e.context=new C(e.context,n,e.indented)}function x(e){e.context&&(e.indented=e.context.indented,e.context=e.context.prev)}e.defineMode("swift",(function(e){return{startState:function(){return{prev:null,context:null,indented:0,tokenize:[]}},token:function(e,t){var n=t.prev;t.prev=null;var r=t.tokenize[t.tokenize.length-1]||g,i=r(e,t,n);if(i&&"comment"!=i?t.prev||(t.prev=i):t.prev=n,"punctuation"==i){var o=/[\(\[\{]|([\]\)\}])/.exec(e.current());o&&(o[1]?x:w)(t,e)}return i},indent:function(t,n){var r=t.context;if(!r)return 0;var i=/^[\]\}\)]/.test(n);return null!=r.align?r.align-(i?1:0):r.indented+(i?0:e.indentUnit)},electricInput:/^\s*[\)\}\]]$/,lineComment:"//",blockCommentStart:"/*",blockCommentEnd:"*/",fold:"brace",closeBrackets:"()[]{}''\"\"``"}})),e.defineMIME("text/x-swift","swift")}))},c14a:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-input-search",{attrs:{placeholder:"请先选择用户",readOnly:"",unselectable:"on"},on:{search:e.onSearchDepUser},model:{value:e.userNames,callback:function(t){e.userNames=t},expression:"userNames"}},[n("a-button",{attrs:{slot:"enterButton",disabled:e.disabled},slot:"enterButton"},[e._v("选择用户")])],1),n("j-select-user-by-dep-modal",{ref:"selectModal",attrs:{"modal-width":e.modalWidth,multi:e.multi,"user-ids":e.value},on:{ok:e.selectOK,initComp:e.initComp}})],1)},i=[],o=n("a505");function a(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}function s(e,t){if(e){if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c={name:"JSelectUserByDep",components:{JSelectUserByDepModal:o["default"]},props:{modalWidth:{type:Number,default:1250,required:!1},value:{type:String,required:!1},disabled:{type:Boolean,required:!1,default:!1},multi:{type:Boolean,default:!0,required:!1}},data:function(){return{userIds:"",userNames:""}},mounted:function(){this.userIds=this.value},watch:{value:function(e){this.userIds=e}},model:{prop:"value",event:"change"},methods:{initComp:function(e){this.userNames=e},onSearchDepUser:function(){this.$refs.selectModal.showModal()},selectOK:function(e,t){if(e){var n,r="",i=a(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;r+=","+o.realname}}catch(s){i.e(s)}finally{i.f()}this.userNames=r.substring(1),this.userIds=t}else this.userNames="",this.userIds="";this.$emit("change",this.userIds)}}},u=c,d=n("2877"),f=Object(d["a"])(u,r,i,!1,null,"bd3f15c8",null);t["default"]=f.exports},c19a:function(e,t,n){"use strict";var r=n("658e"),i=n.n(r);i.a},c1af:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:e.title,width:800,ok:!1,visible:e.visible,confirmLoading:e.confirmLoading,okButtonProps:{props:{disabled:e.disableSubmit}},cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"机构名称",hidden:!1,hasFeedback:""}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["departName",e.validatorRules.departName],expression:"['departName', validatorRules.departName ]"}],attrs:{id:"departName",placeholder:"请输入机构/部门名称"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,hidden:e.seen,label:"上级部门",hasFeedback:""}},[n("a-tree-select",{staticStyle:{width:"100%"},attrs:{dropdownStyle:{maxHeight:"200px",overflow:"auto"},treeData:e.departTree,placeholder:"请选择上级部门",disabled:e.condition},model:{value:e.model.parentId,callback:function(t){e.$set(e.model,"parentId",t)},expression:"model.parentId"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"机构类型"}},[e.seen?[n("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["orgCategory",e.validatorRules.orgCategory],expression:"['orgCategory',validatorRules.orgCategory]"}],attrs:{placeholder:"请选择机构类型"}},[n("a-radio",{attrs:{value:"1"}},[e._v("\n            公司\n          ")])],1)]:[n("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["orgCategory",e.validatorRules.orgCategory],expression:"['orgCategory',validatorRules.orgCategory]"}],attrs:{placeholder:"请选择机构类型"}},[n("a-radio",{attrs:{value:"2"}},[e._v("\n              部门\n            ")]),n("a-radio",{attrs:{value:"3"}},[e._v("\n              岗位\n            ")])],1)]],2),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"电话"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["mobile",e.validatorRules.mobile],expression:"['mobile',validatorRules.mobile]"}],attrs:{placeholder:"请输入电话"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"传真"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["fax",{}],expression:"['fax', {}]"}],attrs:{placeholder:"请输入传真"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"地址"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["address",{}],expression:"['address', {}]"}],attrs:{placeholder:"请输入地址"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"排序"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["departOrder",{initialValue:0}],expression:"[ 'departOrder',{'initialValue':0}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"备注"}},[n("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["memo",{}],expression:"['memo', {}]"}],attrs:{placeholder:"请输入备注"}})],1)],1)],1)],1)},i=[],o=n("0fea"),a=n("4ec3"),s=n("88bc"),l=n.n(s),c=n("261e"),u={name:"SysDepartModal",components:{ATextarea:c["a"]},data:function(){return{departTree:[],orgTypeData:[],phoneWarning:"",departName:"",title:"操作",seen:!1,visible:!1,condition:!0,disableSubmit:!1,model:{},menuhidden:!1,menuusing:!0,labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{departName:{rules:[{required:!0,message:"请输入机构/部门名称!"}]},orgCode:{rules:[{required:!0,message:"请输入机构编码!"}]},mobile:{rules:[{validator:this.validateMobile}]}},url:{add:"/sys/sysDepart/add"},dictDisabled:!0}},created:function(){},methods:{loadTreeData:function(){var e=this;Object(a["F"])().then((function(t){if(t.success){e.departTree=[];for(var n=0;n<t.result.length;n++){var r=t.result[n];e.departTree.push(r)}}}))},add:function(e){e?(this.seen=!1,this.dictDisabled=!1):(this.seen=!0,this.dictDisabled=!0),this.edit(e)},edit:function(e){var t=this;this.form.resetFields(),this.model=Object.assign({},{}),this.visible=!0,this.loadTreeData(),this.model.parentId=null!=e?e.toString():null,this.seen?this.model.orgCategory="1":this.model.orgCategory="2",this.$nextTick((function(){t.form.setFieldsValue(l()(t.model,"orgCategory","departName","departNameEn","departNameAbbr","departOrder","description","orgType","orgCode","mobile","fax","address","memo","status","delFlag"))}))},close:function(){this.$emit("close"),this.disableSubmit=!1,this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields((function(n,r){if(!n){t.confirmLoading=!0;var i=Object.assign(e.model,r);Object(o["h"])(e.url.add,i,"post").then((function(e){e.success?(t.$message.success(e.message),t.loadTreeData(),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}}))},handleCancel:function(){this.close()},validateMobile:function(e,t,n){!t||new RegExp(/^1([38][0-9]|4[579]|5[0-3,5-9]|6[6]|7[0135678]|9[89])\d{8}$/).test(t)?n():n("您的手机号码格式不正确!")}}},d=u,f=n("2877"),h=Object(f["a"])(d,r,i,!1,null,"156ea8f3",null);t["default"]=h.exports},c3e2:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-skeleton",{attrs:{active:"",loading:e.loading,paragraph:{rows:17}}},[n("a-card",{attrs:{bordered:!1}},[n("a-alert",{attrs:{type:"info",showIcon:!0}},[n("div",{attrs:{slot:"message"},slot:"message"},[e._v("\n        上次更新时间："+e._s(this.time)+"\n        "),n("a-divider",{attrs:{type:"vertical"}}),n("a",{on:{click:e.handleClickUpdate}},[e._v("立即更新")])],1)]),n("a-table",{staticStyle:{"margin-top":"20px"},attrs:{rowKey:"id",size:"middle",columns:e.columns,dataSource:e.dataSource,pagination:!1,loading:e.tableLoading},scopedSlots:e._u([{key:"param",fn:function(t,r){return[n("a-tag",{attrs:{color:e.textInfo[r.param].color}},[e._v(e._s(t))])]}},{key:"text",fn:function(t,n){return[e._v("\n        "+e._s(e.textInfo[n.param].text)+"\n      ")]}},{key:"value",fn:function(t,n){return[e._v("\n        "+e._s(t)+" "+e._s(e.textInfo[n.param].unit)+"\n      ")]}}])})],1)],1)},i=[],o=n("c1df"),a=n.n(o),s=n("0fea");a.a.locale("zh-cn");var l={data:function(){return{time:"",loading:!0,tableLoading:!0,columns:[{title:"参数",width:"30%",dataIndex:"param",scopedSlots:{customRender:"param"}},{title:"描述",width:"40%",dataIndex:"text",scopedSlots:{customRender:"text"}},{title:"当前值",width:"30%",dataIndex:"value",scopedSlots:{customRender:"value"}}],dataSource:[],textInfo:{"tomcat.sessions.created":{color:"green",text:"tomcat 已创建 session 数",unit:"个"},"tomcat.sessions.expired":{color:"green",text:"tomcat 已过期 session 数",unit:"个"},"tomcat.sessions.active.current":{color:"green",text:"tomcat 当前活跃 session 数",unit:"个"},"tomcat.sessions.active.max":{color:"green",text:"tomcat 活跃 session 数峰值",unit:"个"},"tomcat.sessions.rejected":{color:"green",text:"超过session 最大配置后，拒绝的 session 个数",unit:"个"},"tomcat.global.sent":{color:"purple",text:"发送的字节数",unit:"bytes"},"tomcat.global.request.max":{color:"purple",text:"request 请求最长耗时",unit:"秒"},"tomcat.global.request.count":{color:"purple",text:"全局 request 请求次数",unit:"次"},"tomcat.global.request.totalTime":{color:"purple",text:"全局 request 请求总耗时",unit:"秒"},"tomcat.servlet.request.max":{color:"cyan",text:"servlet 请求最长耗时",unit:"秒"},"tomcat.servlet.request.count":{color:"cyan",text:"servlet 总请求次数",unit:"次"},"tomcat.servlet.request.totalTime":{color:"cyan",text:"servlet 请求总耗时",unit:"秒"},"tomcat.threads.current":{color:"pink",text:"tomcat 当前线程数（包括守护线程）",unit:"个"},"tomcat.threads.config.max":{color:"pink",text:"tomcat 配置的线程最大数",unit:"个"}},moreInfo:{"tomcat.global.request":[".count",".totalTime"],"tomcat.servlet.request":[".count",".totalTime"]}}},mounted:function(){this.loadTomcatInfo()},methods:{handleClickUpdate:function(){this.loadTomcatInfo()},loadTomcatInfo:function(){var e=this;this.tableLoading=!0,this.time=a()().format("YYYY年MM月DD日 HH时mm分ss秒"),Promise.all([Object(s["c"])("actuator/metrics/tomcat.sessions.created"),Object(s["c"])("actuator/metrics/tomcat.sessions.expired"),Object(s["c"])("actuator/metrics/tomcat.sessions.active.current"),Object(s["c"])("actuator/metrics/tomcat.sessions.active.max"),Object(s["c"])("actuator/metrics/tomcat.sessions.rejected"),Object(s["c"])("actuator/metrics/tomcat.global.sent"),Object(s["c"])("actuator/metrics/tomcat.global.request.max"),Object(s["c"])("actuator/metrics/tomcat.global.request"),Object(s["c"])("actuator/metrics/tomcat.threads.current"),Object(s["c"])("actuator/metrics/tomcat.threads.config.max")]).then((function(t){var n=[];t.forEach((function(t,r){var i=e.moreInfo[t.name];i instanceof Array||(i=[""]),i.forEach((function(e,i){var o=t.name+e;n.push({id:o+r,param:o,text:"false value",value:t.measurements[i].value})}))})),e.dataSource=n})).catch((function(t){e.$message.error("获取Tomcat信息失败")})).finally((function(){e.loading=!1,e.tableLoading=!1}))}}},c=l,u=n("2877"),d=Object(u["a"])(c,r,i,!1,null,null,null);t["default"]=d.exports},c556:function(e,t,n){"use strict";var r=n("3aee"),i=n.n(r);i.a},c5ab:function(e,t,n){"use strict";var r=n("0bbe"),i=n.n(r);i.a},c5e1:function(e,t,n){},c612:function(e,t,n){e.exports=n.p+"img/zaiban.6fd68faa.png"},c63e:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{width:e.modalWidth,visible:e.visible,title:"部门搜索",confirmLoading:e.confirmLoading,cancelText:"关闭",wrapClassName:"ant-modal-cust-warp"},on:{ok:e.handleSubmit,cancel:e.handleCancel}},[[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"上级部门"}},[n("a-tree",{attrs:{multiple:"",treeCheckable:"tree",checkable:"",expandedKeys:e.expandedKeysss,checkedKeys:e.checkedKeys,allowClear:"true",checkStrictly:!0,dropdownStyle:{maxHeight:"200px",overflow:"auto"},treeData:e.departTree,placeholder:"请选择上级部门"},on:{expand:e.onExpand,check:e.onCheck}})],1)],1)]],2)},i=[],o=n("88bc"),a=n.n(o),s=n("0fea"),l=n("4ec3"),c=n("418f"),u={name:"DepartWindow",components:{userModal:c["default"]},data:function(){return{checkedKeys:[],expandedKeysss:[],userId:"",model:{},userDepartModel:{userId:"",departIdList:[]},departList:[],modalWidth:400,departTree:[],title:"操作",visible:!1,labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,headers:{},form:this.$form.createForm(this),url:{userId:"/sys/user/generateUserId"}}},methods:{add:function(e,t){this.checkedKeys=e,this.userId=t,this.edit({})},edit:function(e){var t=this;this.departList=[],this.queryDepartTree(),this.form.resetFields(),this.visible=!0,this.model=Object.assign({},e);var n=a()(this.model,"id","userId","departIdList");this.$nextTick((function(){t.form.setFieldsValue(n)}))},close:function(){this.$emit("close"),this.visible=!1,this.departList=[],this.checkedKeys=[]},handleSubmit:function(){var e=this,t=this;this.form.validateFields((function(n){if(!n)if(t.confirmLoading=!0,null==e.userId)Object(s["c"])(e.url.userId).then((function(n){if(n.success){var r={userId:n.result,departIdList:e.departList};t.$emit("ok",r)}})).finally((function(){t.departList=[],t.confirmLoading=!1,t.close()}));else{var r={userId:e.userId,departIdList:e.departList};t.departList=[],t.$emit("ok",r),t.confirmLoading=!1,t.close()}}))},handleCancel:function(){this.close()},onCheck:function(e,t){this.departList=[],this.checkedKeys=e.checked;for(var n=t.checkedNodes,r=0;r<n.length;r++){var i=n[r].data.props,o={key:"",value:"",title:""};o.key=i.value,o.value=i.value,o.title=i.title,this.departList.push(o)}},queryDepartTree:function(){var e=this;Object(l["F"])().then((function(t){if(t.success&&(e.departTree=t.result,e.checkedKeys&&e.checkedKeys.length>0)){var n=[],r=t.result;r&&r.length>0&&(r.forEach((function(e){n.push(e.key)})),e.expandedKeysss=n)}}))},onExpand:function(e){this.expandedKeysss=e},modalFormOk:function(){}}},d=u,f=(n("0b41"),n("2877")),h=Object(f["a"])(d,r,i,!1,null,"54668a37",null);t["default"]=h.exports},c6cf8:function(e,t,n){e.exports=n.p+"img/pdf4.a7783614.jpg"},c708:function(e,t,n){},c7af:function(e,t,n){"use strict";var r=n("3161"),i=n.n(r);i.a},c832:function(e,t,n){(function(t){var n="Expected a function",r="__lodash_hash_undefined__",i=1/0,o="[object Function]",a="[object GeneratorFunction]",s="[object Symbol]",l=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,c=/^\w*$/,u=/^\./,d=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,f=/[\\^$.*+?()[\]{}|]/g,h=/\\(\\)?/g,p=/^\[object .+?Constructor\]$/,m="object"==typeof t&&t&&t.Object===Object&&t,g="object"==typeof self&&self&&self.Object===Object&&self,v=m||g||Function("return this")();function b(e,t){return null==e?void 0:e[t]}function y(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}var C=Array.prototype,w=Function.prototype,x=Object.prototype,I=v["__core-js_shared__"],A=function(){var e=/[^.]+$/.exec(I&&I.keys&&I.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),k=w.toString,S=x.hasOwnProperty,_=x.toString,T=RegExp("^"+k.call(S).replace(f,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),E=v.Symbol,O=C.splice,R=oe(v,"Map"),N=oe(Object,"create"),L=E?E.prototype:void 0,D=L?L.toString:void 0;function B(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function M(){this.__data__=N?N(null):{}}function P(e){return this.has(e)&&delete this.__data__[e]}function F(e){var t=this.__data__;if(N){var n=t[e];return n===r?void 0:n}return S.call(t,e)?t[e]:void 0}function j(e){var t=this.__data__;return N?void 0!==t[e]:S.call(t,e)}function H(e,t){var n=this.__data__;return n[e]=N&&void 0===t?r:t,this}function z(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function $(){this.__data__=[]}function V(e){var t=this.__data__,n=Q(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():O.call(t,n,1),!0}function W(e){var t=this.__data__,n=Q(t,e);return n<0?void 0:t[n][1]}function K(e){return Q(this.__data__,e)>-1}function G(e,t){var n=this.__data__,r=Q(n,e);return r<0?n.push([e,t]):n[r][1]=t,this}function Z(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function U(){this.__data__={hash:new B,map:new(R||z),string:new B}}function q(e){return ie(this,e)["delete"](e)}function X(e){return ie(this,e).get(e)}function Y(e){return ie(this,e).has(e)}function J(e,t){return ie(this,e).set(e,t),this}function Q(e,t){var n=e.length;while(n--)if(he(e[n][0],t))return n;return-1}function ee(e,t){t=ae(t,e)?[t]:re(t);var n=0,r=t.length;while(null!=e&&n<r)e=e[ue(t[n++])];return n&&n==r?e:void 0}function te(e){if(!ge(e)||le(e))return!1;var t=me(e)||y(e)?T:p;return t.test(de(e))}function ne(e){if("string"==typeof e)return e;if(be(e))return D?D.call(e):"";var t=e+"";return"0"==t&&1/e==-i?"-0":t}function re(e){return pe(e)?e:ce(e)}function ie(e,t){var n=e.__data__;return se(t)?n["string"==typeof t?"string":"hash"]:n.map}function oe(e,t){var n=b(e,t);return te(n)?n:void 0}function ae(e,t){if(pe(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!be(e))||(c.test(e)||!l.test(e)||null!=t&&e in Object(t))}function se(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function le(e){return!!A&&A in e}B.prototype.clear=M,B.prototype["delete"]=P,B.prototype.get=F,B.prototype.has=j,B.prototype.set=H,z.prototype.clear=$,z.prototype["delete"]=V,z.prototype.get=W,z.prototype.has=K,z.prototype.set=G,Z.prototype.clear=U,Z.prototype["delete"]=q,Z.prototype.get=X,Z.prototype.has=Y,Z.prototype.set=J;var ce=fe((function(e){e=ye(e);var t=[];return u.test(e)&&t.push(""),e.replace(d,(function(e,n,r,i){t.push(r?i.replace(h,"$1"):n||e)})),t}));function ue(e){if("string"==typeof e||be(e))return e;var t=e+"";return"0"==t&&1/e==-i?"-0":t}function de(e){if(null!=e){try{return k.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function fe(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(n);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=e.apply(this,n);return r.cache=o.set(i,a),a};return r.cache=new(fe.Cache||Z),r}function he(e,t){return e===t||e!==e&&t!==t}fe.Cache=Z;var pe=Array.isArray;function me(e){var t=ge(e)?_.call(e):"";return t==o||t==a}function ge(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function ve(e){return!!e&&"object"==typeof e}function be(e){return"symbol"==typeof e||ve(e)&&_.call(e)==s}function ye(e){return null==e?"":ne(e)}function Ce(e,t,n){var r=null==e?void 0:ee(e,t);return void 0===r?n:r}e.exports=Ce}).call(this,n("c8ba"))},c8be:function(e,t,n){"use strict";var r=n("64b2"),i=n.n(r);i.a},c917:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={methods:{handleClick:function(e,t){this.handleEvent("click",e,t)},handleEvent:function(e,t,n){this.$emit(e,t,n)}}}},c943:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:e.title,width:800,visible:e.visible,confirmLoading:e.confirmLoading,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"姓名",hasFeedback:""}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{}],expression:"['name', {}]"}],attrs:{placeholder:"请输入姓名"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"关键词",hasFeedback:""}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["keyWord",{}],expression:"['keyWord', {}]"}],attrs:{placeholder:"请输入关键词"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"打卡时间",hasFeedback:""}},[n("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["punchTime",{}],expression:"[ 'punchTime', {}]"}],attrs:{showTime:"",format:"YYYY-MM-DD HH:mm:ss"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"性别"}},[n("j-dict-select-tag",{directives:[{name:"decorator",rawName:"v-decorator",value:["sex",{}],expression:"['sex', {}]"}],attrs:{type:"radio","trigger-change":!0,dictCode:"sex"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"年龄",hasFeedback:""}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["age",{}],expression:"['age', {}]"}],attrs:{placeholder:"请输入年龄"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"生日",hasFeedback:""}},[n("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["birthday",{}],expression:"[ 'birthday', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"邮箱",hasFeedback:""}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["email",{}],expression:"['email', {}]"}],attrs:{placeholder:"请输入邮箱"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"个人简介",hasFeedback:""}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["content",{}],expression:"['content', {}]"}],attrs:{placeholder:"请输入个人简介"}})],1)],1)],1)],1)},i=[],o=n("0fea"),a=n("88bc"),s=n.n(a),l=n("c1df"),c=n.n(l),u={name:"JeecgDemoModal",data:function(){return{title:"操作",visible:!1,model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{},url:{add:"/test/jeecgDemo/add",edit:"/test/jeecgDemo/edit"}}},created:function(){},methods:{add:function(){this.edit({})},edit:function(e){var t=this;this.form.resetFields(),this.model=Object.assign({},e),this.visible=!0,this.$nextTick((function(){t.form.setFieldsValue(s()(t.model,"name","keyWord","sex","age","email","content")),t.form.setFieldsValue({punchTime:t.model.punchTime?c()(t.model.punchTime,"YYYY-MM-DD HH:mm:ss"):null}),t.form.setFieldsValue({birthday:t.model.birthday?c()(t.model.birthday):null})}))},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields((function(n,r){if(!n){t.confirmLoading=!0;var i="",a="";e.model.id?(i+=e.url.edit,a="put"):(i+=e.url.add,a="post");var s=Object.assign(e.model,r);s.punchTime=s.punchTime?s.punchTime.format("YYYY-MM-DD HH:mm:ss"):null,s.birthday=s.birthday?s.birthday.format():null,Object(o["h"])(i,s,a).then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}}))},handleCancel:function(){this.close()}}},d=u,f=n("2877"),h=Object(f["a"])(d,r,i,!1,null,"05fa93ee",null);t["default"]=h.exports},c984:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"toolbar"},[n("div",{staticStyle:{float:"left"}},[e._t("extra")],2),n("div",{staticStyle:{float:"right"}},[e._t("default")],2)])},i=[],o={name:"FooterToolBar"},a=o,s=(n("e09c"),n("2877")),l=Object(s["a"])(a,r,i,!1,null,"d1fc93aa",null);t["default"]=l.exports},c98f:function(e,t,n){"use strict";var r=n("64f5"),i=n.n(r);i.a},c9c2:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-row",{attrs:{gutter:10}},[n("a-col",{attrs:{md:12,sm:24}},[n("a-card",{attrs:{bordered:!1}},[n("a-row",{staticStyle:{"margin-left":"14px"}},[n("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleAdd(1)}}},[e._v("添加部门")]),n("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleAdd(2)}}},[e._v("添加下级")]),n("a-button",{attrs:{type:"primary",icon:"download"},on:{click:function(t){return e.handleExportXls("部门信息")}}},[e._v("导出")]),n("a-upload",{attrs:{name:"file",showUploadList:!1,multiple:!1,headers:e.tokenHeader,action:e.importExcelUrl},on:{change:e.handleImportExcel}},[n("a-button",{attrs:{type:"primary",icon:"import"}},[e._v("导入")])],1),n("a-button",{attrs:{title:"删除多条数据",type:"default"},on:{click:e.batchDel}},[e._v("批量删除")])],1),n("div",{staticStyle:{background:"#fff","padding-left":"16px",height:"100%","margin-top":"5px"}},[n("a-alert",{attrs:{type:"info",showIcon:!0}},[n("div",{attrs:{slot:"message"},slot:"message"},[e._v("\n            当前选择："),this.currSelected.title?n("span",[e._v(e._s(e.getCurrSelectedTitle()))]):e._e(),this.currSelected.title?n("a",{staticStyle:{"margin-left":"10px"},on:{click:e.onClearSelected}},[e._v("取消选择")]):e._e()])]),n("a-input-search",{staticStyle:{width:"100%","margin-top":"10px"},attrs:{placeholder:"请输入部门名称"},on:{search:e.onSearch}}),n("a-col",{attrs:{md:10,sm:24}},[[n("a-dropdown",{attrs:{trigger:[this.dropTrigger]},on:{visibleChange:e.dropStatus}},[n("span",{staticStyle:{"user-select":"none"}},[n("a-tree",{attrs:{checkable:"",multiple:"",selectedKeys:e.selectedKeys,checkedKeys:e.checkedKeys,treeData:e.departTree,checkStrictly:e.checkStrictly,expandedKeys:e.iExpandedKeys,autoExpandParent:e.autoExpandParent},on:{select:e.onSelect,check:e.onCheck,rightClick:e.rightHandle,expand:e.onExpand}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:function(t){return e.handleAdd(3)}}},[e._v("添加")]),n("a-menu-item",{key:"2",on:{click:e.handleDelete}},[e._v("删除")]),n("a-menu-item",{key:"3",on:{click:e.closeDrop}},[e._v("取消")])],1)],1)]],2)],1)],1),n("div",{staticClass:"drawer-bootom-button"},[n("a-dropdown",{attrs:{trigger:["click"],placement:"topCenter"}},[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:function(t){return e.switchCheckStrictly(1)}}},[e._v("父子关联")]),n("a-menu-item",{key:"2",on:{click:function(t){return e.switchCheckStrictly(2)}}},[e._v("取消关联")]),n("a-menu-item",{key:"3",on:{click:e.checkALL}},[e._v("全部勾选")]),n("a-menu-item",{key:"4",on:{click:e.cancelCheckALL}},[e._v("取消全选")]),n("a-menu-item",{key:"5",on:{click:e.expandAll}},[e._v("展开所有")]),n("a-menu-item",{key:"6",on:{click:e.closeAll}},[e._v("合并所有")])],1),n("a-button",[e._v("\n          树操作 "),n("a-icon",{attrs:{type:"up"}})],1)],1)],1)],1),n("a-col",{attrs:{md:12,sm:24}},[n("a-tabs",{attrs:{defaultActiveKey:"1"}},[n("a-tab-pane",{key:"1",attrs:{tab:"基本信息"}},[e.selectedKeys.length>0?n("a-card",{attrs:{bordered:!1}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"机构名称"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["departName",e.validatorRules.departName],expression:"['departName', validatorRules.departName ]"}],attrs:{placeholder:"请输入机构/部门名称"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"上级部门"}},[n("a-tree-select",{staticStyle:{width:"100%"},attrs:{dropdownStyle:{maxHeight:"200px",overflow:"auto"},treeData:e.treeData,disabled:e.disable,placeholder:"无"},model:{value:e.model.parentId,callback:function(t){e.$set(e.model,"parentId",t)},expression:"model.parentId"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"机构编码"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["orgCode",e.validatorRules.orgCode],expression:"['orgCode', validatorRules.orgCode ]"}],attrs:{disabled:"",placeholder:"请输入机构编码"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"机构类型"}},[e.orgCategoryDisabled?[n("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["orgCategory",e.validatorRules.orgCategory],expression:"['orgCategory',validatorRules.orgCategory]"}],attrs:{placeholder:"请选择机构类型"}},[n("a-radio",{attrs:{value:"1"}},[e._v("\n                    公司\n                  ")])],1)]:[n("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["orgCategory",e.validatorRules.orgCategory],expression:"['orgCategory',validatorRules.orgCategory]"}],attrs:{placeholder:"请选择机构类型"}},[n("a-radio",{attrs:{value:"2"}},[e._v("\n                    部门\n                  ")]),n("a-radio",{attrs:{value:"3"}},[e._v("\n                    岗位\n                  ")])],1)]],2),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"排序"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["departOrder",{initialValue:0}],expression:"[ 'departOrder',{'initialValue':0}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"手机号"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["mobile",{initialValue:""}],expression:"['mobile', {'initialValue':''}]"}],attrs:{placeholder:"请输入手机号"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"地址"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["address",{initialValue:""}],expression:"['address', {'initialValue':''}]"}],attrs:{placeholder:"请输入地址"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"备注"}},[n("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["memo",{initialValue:""}],expression:"['memo', {'initialValue':''}]"}],attrs:{placeholder:"请输入备注"}})],1)],1),n("div",{staticClass:"anty-form-btn"},[n("a-button",{attrs:{type:"default",htmlType:"button",icon:"sync"},on:{click:e.emptyCurrForm}},[e._v("重置")]),n("a-button",{attrs:{type:"primary",htmlType:"button",icon:"form"},on:{click:e.submitCurrForm}},[e._v("保存")])],1)],1):n("a-card",[n("a-empty",[n("span",{attrs:{slot:"description"},slot:"description"},[e._v(" 请先选择一个部门! ")])])],1)],1),n("a-tab-pane",{key:"2",attrs:{tab:"部门权限",forceRender:""}},[n("depart-auth-modal",{ref:"departAuth"})],1)],1)],1),n("depart-modal",{ref:"departModal",on:{ok:e.loadTree}})],1)},i=[],o=n("c1af"),a=n("88bc"),s=n.n(a),l=n("4ec3"),c=n("0fea"),u=n("b65a"),d=n("1be7"),f=[{title:"机构名称",dataIndex:"departName"},{title:"机构类型",align:"center",dataIndex:"orgType"},{title:"机构编码",dataIndex:"orgCode"},{title:"手机号",dataIndex:"mobile"},{title:"传真",dataIndex:"fax"},{title:"地址",dataIndex:"address"},{title:"排序",align:"center",dataIndex:"departOrder"},{title:"操作",align:"center",dataIndex:"action",scopedSlots:{customRender:"action"}}],h={name:"DepartList",mixins:[u["a"]],components:{DepartAuthModal:d["default"],DepartModal:o["default"]},data:function(){return{iExpandedKeys:[],loading:!1,autoExpandParent:!0,currFlowId:"",currFlowName:"",disable:!0,treeData:[],visible:!1,departTree:[],rightClickSelectedKey:"",rightClickSelectedOrgCode:"",hiding:!0,model:{},dropTrigger:"",depart:{},columns:f,disableSubmit:!1,checkedKeys:[],selectedKeys:[],autoIncr:1,currSelected:{},allTreeKeys:[],checkStrictly:!0,form:this.$form.createForm(this),labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},graphDatasource:{nodes:[],edges:[]},validatorRules:{departName:{rules:[{required:!0,message:"请输入机构/部门名称!"}]},orgCode:{rules:[{required:!0,message:"请输入机构编码!"}]},orgCategory:{rules:[{required:!0,message:"请输入机构类型!"}]},mobile:{rules:[{validator:this.validateMobile}]}},url:{delete:"/sys/sysDepart/delete",edit:"/sys/sysDepart/edit",deleteBatch:"/sys/sysDepart/deleteBatch",exportXlsUrl:"sys/sysDepart/exportXls",importExcelUrl:"sys/sysDepart/importExcel"},orgCategoryDisabled:!1}},computed:{importExcelUrl:function(){return"".concat(window._CONFIG["domianURL"],"/").concat(this.url.importExcelUrl)}},methods:{loadData:function(){this.refresh()},loadTree:function(){var e=this,t=this;t.treeData=[],t.departTree=[],Object(l["D"])().then((function(n){if(n.success){e.allTreeKeys=[];for(var r=0;r<n.result.length;r++){var i=n.result[r];t.treeData.push(i),t.departTree.push(i),t.setThisExpandedKeys(i),t.getAllKeys(i)}e.loading=!1}}))},setThisExpandedKeys:function(e){if(e.children&&e.children.length>0){this.iExpandedKeys.push(e.key);for(var t=0;t<e.children.length;t++)this.setThisExpandedKeys(e.children[t])}},refresh:function(){this.loading=!0,this.loadTree()},rightHandle:function(e){this.dropTrigger="contextmenu",this.rightClickSelectedKey=e.node.eventKey,this.rightClickSelectedOrgCode=e.node.dataRef.orgCode},onExpand:function(e){this.iExpandedKeys=e,this.autoExpandParent=!1},backFlowList:function(){this.$router.back(-1)},dropStatus:function(e){0==e&&(this.dropTrigger="")},closeDrop:function(){this.dropTrigger=""},addRootNode:function(){this.$refs.nodeModal.add(this.currFlowId,"")},batchDel:function(){if(this.checkedKeys.length<=0)this.$message.warning("请选择一条记录！");else{for(var e="",t=0;t<this.checkedKeys.length;t++)e+=this.checkedKeys[t]+",";var n=this;this.$confirm({title:"确认删除",content:"确定要删除所选中的 "+this.checkedKeys.length+" 条数据，以及子节点数据吗?",onOk:function(){Object(c["a"])(n.url.deleteBatch,{ids:e}).then((function(e){e.success?(n.$message.success(e.message),n.loadTree(),n.onClearSelected()):n.$message.warning(e.message)}))}})}},onSearch:function(e){var t=this;e?Object(l["T"])({keyWord:e}).then((function(e){if(e.success){t.departTree=[];for(var n=0;n<e.result.length;n++){var r=e.result[n];t.departTree.push(r)}}else t.$message.warning(e.message)})):t.loadTree()},nodeModalOk:function(){this.loadTree()},nodeModalClose:function(){},hide:function(){this.visible=!1},onCheck:function(e,t){this.hiding=!1,this.checkStrictly?this.checkedKeys=e.checked:this.checkedKeys=e},onSelect:function(e,t){this.hiding=!1;var n=t.node.dataRef;this.currSelected=Object.assign({},n),this.model=this.currSelected,this.selectedKeys=[n.key],this.model.parentId=n.parentId,this.setValuesToForm(n),this.$refs.departAuth.show(n.id)},setValuesToForm:function(e){var t=this;"1"==e.orgCategory?this.orgCategoryDisabled=!0:this.orgCategoryDisabled=!1,this.$nextTick((function(){t.form.getFieldDecorator("fax",{initialValue:""}),t.form.setFieldsValue(s()(e,"departName","orgCategory","orgCode","departOrder","mobile","fax","address","memo"))}))},getCurrSelectedTitle:function(){return this.currSelected.title?this.currSelected.title:""},onClearSelected:function(){this.hiding=!0,this.checkedKeys=[],this.currSelected={},this.form.resetFields(),this.selectedKeys=[],this.$refs.departAuth.departId=""},handleNodeTypeChange:function(e){this.currSelected.nodeType=e},notifyTriggerTypeChange:function(e){this.currSelected.notifyTriggerType=e},receiptTriggerTypeChange:function(e){this.currSelected.receiptTriggerType=e},submitCurrForm:function(){var e=this;this.form.validateFields((function(t,n){if(!t){if(!e.currSelected.id)return void e.$message.warning("请点击选择要修改部门!");var r=Object.assign(e.currSelected,n);Object(c["h"])(e.url.edit,r,"put").then((function(t){t.success?(e.$message.success("保存成功!"),e.loadTree()):e.$message.error(t.message)}))}}))},emptyCurrForm:function(){this.form.resetFields()},nodeSettingFormSubmit:function(){this.form.validateFields((function(e,t){}))},openSelect:function(){this.$refs.sysDirectiveModal.show()},handleAdd:function(e){if(1==e)this.$refs.departModal.add(),this.$refs.departModal.title="新增";else if(2==e){var t=this.currSelected.key;if(!t)return this.$message.warning("请先点击选中上级部门！"),!1;this.$refs.departModal.add(this.selectedKeys),this.$refs.departModal.title="新增"}else this.$refs.departModal.add(this.rightClickSelectedKey),this.$refs.departModal.title="新增"},handleDelete:function(){var e=this;this.$confirm({title:"确认删除",content:"确定要删除此部门以及子节点数据吗?",onOk:function(){Object(l["j"])({id:e.rightClickSelectedKey}).then((function(t){if(t.success){e.checkedKeys.splice(e.checkedKeys.findIndex((function(t){return t===e.rightClickSelectedKey})),1),e.$message.success("删除成功!"),e.loadTree();var n=e.form.getFieldValue("orgCode");n&&n===e.rightClickSelectedOrgCode&&e.onClearSelected()}else e.$message.warning("删除失败!")}))}})},selectDirectiveOk:function(e){this.nodeSettingForm.setFieldsValue({directiveCode:e.directiveCode}),this.currSelected.sysCode=e.sysCode},getFlowGraphData:function(e){if(this.graphDatasource.nodes.push({id:e.id,text:e.flowNodeName}),e.children.length>0)for(var t=0;t<e.children.length;t++){var n=e.children[t];this.graphDatasource.edges.push({source:e.id,target:n.id}),this.getFlowGraphData(n)}},expandAll:function(){this.iExpandedKeys=this.allTreeKeys},closeAll:function(){this.iExpandedKeys=[]},checkALL:function(){this.checkStriccheckStrictlytly=!1,this.checkedKeys=this.allTreeKeys},cancelCheckALL:function(){this.checkedKeys=[]},switchCheckStrictly:function(e){1==e?this.checkStrictly=!1:2==e&&(this.checkStrictly=!0)},getAllKeys:function(e){if(this.allTreeKeys.push(e.key),e.children&&e.children.length>0)for(var t=0;t<e.children.length;t++)this.getAllKeys(e.children[t])}},created:function(){this.currFlowId=this.$route.params.id,this.currFlowName=this.$route.params.name}},p=h,m=(n("12c3"),n("2877")),g=Object(m["a"])(p,r,i,!1,null,"66ef2978",null);t["default"]=g.exports},ca0f:function(e,t,n){},cb6b:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{staticClass:"j-address-list-right-card-box",attrs:{loading:e.cardLoading,bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:10}},[n("a-col",{attrs:{md:6,sm:12}},[n("a-form-item",{staticStyle:{"margin-left":"8px"},attrs:{label:"姓名"}},[n("a-input",{attrs:{placeholder:"请输入姓名查询"},model:{value:e.queryParam.realname,callback:function(t){e.$set(e.queryParam,"realname",t)},expression:"queryParam.realname"}})],1)],1),n("a-col",{attrs:{md:6,sm:12}},[n("a-form-item",{staticStyle:{"margin-left":"8px"},attrs:{label:"工号"}},[n("a-input",{attrs:{placeholder:"请输入工号查询"},model:{value:e.queryParam.workNo,callback:function(t){e.$set(e.queryParam,"workNo",t)},expression:"queryParam.workNo"}})],1)],1),n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-col",{attrs:{md:6,sm:24}},[n("a-button",{staticStyle:{"margin-left":"18px"},attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")])],1)],1)],1)],1)],1),n("a-table",{ref:"table",attrs:{size:"middle",bordered:"",rowKey:"userId",pagination:e.ipagination,columns:e.columns,dataSource:e.dataSource,loading:e.loading},on:{change:e.handleTableChange}})],1)},i=[],o=n("0fea"),a=n("b65a");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={name:"AddressListRight",mixins:[a["a"]],components:{},props:["value"],data:function(){var e=this;return{description:"用户信息",cardLoading:!0,positionInfo:{},columns:[{title:"#",key:"rowIndex",dataIndex:"",width:60,align:"center",customRender:function(e,t,n){return parseInt(n)+1}},{title:"姓名",width:"15%",align:"center",dataIndex:"realname"},{title:"工号",width:"15%",align:"center",dataIndex:"workNo"},{title:"部门",width:"20%",align:"center",dataIndex:"departName"},{title:"职务",width:"15%",align:"center",dataIndex:"post",customRender:function(t){return(t||"").split(",").map((function(t){return e.positionInfo[t]?e.positionInfo[t]:t})).join(",")}},{title:"手机",width:"15%",align:"center",dataIndex:"telephone"},{title:"公司邮箱",width:"15%",align:"center",dataIndex:"email"}],url:{list:"/sys/user/queryByOrgCodeForAddressList",listByPosition:"/sys/position/list"}}},watch:{value:{immediate:!0,handler:function(e){this.dataSource=[],this.loadData(1,e)}}},created:function(){this.queryPositionInfo()},methods:{loadData:function(e,t){var n=this;this.loading=!0,1===e&&(this.ipagination.current=1),t?Object(o["c"])(this.url.list,l({orgCode:t},this.getQueryParams())).then((function(e){e.success&&(n.dataSource=e.result.records,n.ipagination.total=e.result.total)})).finally((function(){n.loading=!1,n.cardLoading=!1})):Object(o["c"])(this.url.list,l({},this.getQueryParams())).then((function(e){e.success&&(n.dataSource=e.result.records,n.ipagination.total=e.result.total)})).finally((function(){n.loading=!1,n.cardLoading=!1}))},searchQuery:function(){this.loadData(1,this.value)},searchReset:function(){this.queryParam={},this.loadData(1,this.value)},handleTableChange:function(e,t,n){Object.keys(n).length>0&&(this.isorter.column=n.field,this.isorter.order="ascend"===n.order?"asc":"desc"),this.ipagination=e,this.loadData(null,this.value)},queryPositionInfo:function(){var e=this;Object(o["c"])(this.url.listByPosition,{pageSize:99999}).then((function(t){if(t.success){var n={};t.result.records.forEach((function(e){n[e["code"]]=e["name"]})),e.positionInfo=n}}))}}},d=u,f=(n("d5e7"),n("dd84"),n("2877")),h=Object(f["a"])(d,r,i,!1,null,"e1994f02",null);t["default"]=h.exports},cb82:function(e,t,n){},cc89:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("exception-page",{attrs:{type:"404"}})},i=[],o=n("0673"),a={components:{ExceptionPage:o["default"]}},s=a,l=n("2877"),c=Object(l["a"])(s,r,i,!1,null,"b5dd89e6",null);t["default"]=c.exports},cd07:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-header-index-wide"},[n("a-card",{style:{height:"100%"},attrs:{bordered:!1,bodyStyle:{padding:"16px 0",height:"100%"}}},[n("div",{staticClass:"account-settings-info-main",class:e.device,style:"min-height:"+e.mainInfoHeight},[n("div",{staticClass:"account-settings-info-left"},[n("a-menu",{style:{border:"0",width:"mobile"==e.device?"560px":"auto"},attrs:{mode:"mobile"==e.device?"horizontal":"inline",defaultSelectedKeys:e.defaultSelectedKeys,type:"inner"},on:{openChange:e.onOpenChange}},[n("a-menu-item",{key:"/account/settings/base"},[n("router-link",{attrs:{to:{name:"account-settings-base"}}},[e._v("\n              基本设置\n            ")])],1),n("a-menu-item",{key:"/account/settings/security"},[n("router-link",{attrs:{to:{name:"account-settings-security"}}},[e._v("\n              安全设置\n            ")])],1),n("a-menu-item",{key:"/account/settings/custom"},[n("router-link",{attrs:{to:{name:"account-settings-custom"}}},[e._v("\n              个性化\n            ")])],1),n("a-menu-item",{key:"/account/settings/binding"},[n("router-link",{attrs:{to:{name:"account-settings-binding"}}},[e._v("\n              账户绑定\n            ")])],1),n("a-menu-item",{key:"/account/settings/notification"},[n("router-link",{attrs:{to:{name:"account-settings-notification"}}},[e._v("\n              新消息通知\n            ")])],1)],1)],1),n("div",{staticClass:"account-settings-info-right"},[n("div",{staticClass:"account-settings-info-title"},[n("span",[e._v(e._s(e.$route.meta.title))])]),n("route-view")],1)])])],1)},i=[],o=n("b445"),a=n("501f"),s=n("ac0d"),l={components:{RouteView:a["default"],PageLayout:o["default"]},mixins:[s["b"]],data:function(){return{mode:"inline",mainInfoHeight:"100%",openKeys:[],defaultSelectedKeys:[],preview:{},option:{img:"/avatar2.jpg",info:!0,size:1,outputType:"jpeg",canScale:!1,autoCrop:!0,autoCropWidth:180,autoCropHeight:180,fixedBox:!0,fixed:!0,fixedNumber:[1,1]},pageTitle:""}},created:function(){this.updateMenu()},mounted:function(){this.mainInfoHeight=window.innerHeight-285+"px"},methods:{onOpenChange:function(e){this.openKeys=e},updateMenu:function(){var e=this.$route.matched.concat();this.defaultSelectedKeys=[e.pop().path]}}},c=l,u=(n("3811"),n("2877")),d=Object(u["a"])(c,r,i,!1,null,"09e4af8b",null);t["default"]=d.exports},cd43:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-form",{staticClass:"form",attrs:{form:e.form},on:{submit:e.handleSubmit}},[n("a-row",{staticClass:"form-row",attrs:{gutter:16}},[n("a-col",{attrs:{lg:6,md:12,sm:24}},[n("a-form-item",{attrs:{label:"仓库名"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["repository.name",{rules:[{required:!0,message:"请输入仓库名称",whitespace:!0}]}],expression:"[\n            'repository.name',\n            {rules: [{ required: true, message: '请输入仓库名称', whitespace: true}]}\n          ]"}],attrs:{placeholder:"请输入仓库名称"}})],1)],1),n("a-col",{attrs:{xl:{span:7,offset:1},lg:{span:8},md:{span:12},sm:24}},[n("a-form-item",{attrs:{label:"仓库域名"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["repository.domain",{rules:[{required:!0,message:"请输入仓库域名",whitespace:!0},{validator:e.validate}]}],expression:"[\n            'repository.domain',\n            {rules: [{ required: true, message: '请输入仓库域名', whitespace: true}, {validator: validate}]}\n          ]"}],attrs:{addonBefore:"http://",addonAfter:".com",placeholder:"请输入"}})],1)],1),n("a-col",{attrs:{xl:{span:9,offset:1},lg:{span:10},md:{span:24},sm:24}},[n("a-form-item",{attrs:{label:"仓库管理员"}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["repository.manager",{rules:[{required:!0,message:"请选择管理员"}]}],expression:"[ 'repository.manager', {rules: [{ required: true, message: '请选择管理员'}]} ]"}],attrs:{placeholder:"请选择管理员"}},[n("a-select-option",{attrs:{value:"王同学"}},[e._v("王同学")]),n("a-select-option",{attrs:{value:"李同学"}},[e._v("李同学")]),n("a-select-option",{attrs:{value:"黄同学"}},[e._v("黄同学")])],1)],1)],1)],1),n("a-row",{staticClass:"form-row",attrs:{gutter:16}},[n("a-col",{attrs:{lg:6,md:12,sm:24}},[n("a-form-item",{attrs:{label:"审批人"}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["repository.auditor",{rules:[{required:!0,message:"请选择审批员"}]}],expression:"[ 'repository.auditor', {rules: [{ required: true, message: '请选择审批员'}]} ]"}],attrs:{placeholder:"请选择审批员"}},[n("a-select-option",{attrs:{value:"王晓丽"}},[e._v("王晓丽")]),n("a-select-option",{attrs:{value:"李军"}},[e._v("李军")])],1)],1)],1),n("a-col",{attrs:{xl:{span:7,offset:1},lg:{span:8},md:{span:12},sm:24}},[n("a-form-item",{attrs:{label:"生效日期"}},[n("a-range-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["repository.effectiveDate",{rules:[{required:!0,message:"请选择生效日期"}]}],expression:"[\n            'repository.effectiveDate',\n            {rules: [{ required: true, message: '请选择生效日期'}]}\n          ]"}],staticStyle:{width:"100%"}})],1)],1),n("a-col",{attrs:{xl:{span:9,offset:1},lg:{span:10},md:{span:24},sm:24}},[n("a-form-item",{attrs:{label:"仓库类型"}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["repository.type",{rules:[{required:!0,message:"请选择仓库类型"}]}],expression:"[\n            'repository.type',\n            {rules: [{ required: true, message: '请选择仓库类型'}]}\n          ]"}],attrs:{placeholder:"请选择仓库类型"}},[n("a-select-option",{attrs:{value:"公开"}},[e._v("公开")]),n("a-select-option",{attrs:{value:"私密"}},[e._v("私密")])],1)],1)],1)],1),e.showSubmit?n("a-form-item",[n("a-button",{attrs:{htmlType:"submit"}},[e._v("Submit")])],1):e._e()],1)},i=[],o={name:"RepositoryForm",props:{showSubmit:{type:Boolean,default:!1}},data:function(){return{form:this.$form.createForm(this)}},methods:{handleSubmit:function(e){var t=this;e.preventDefault(),this.form.validateFields((function(e,n){e||t.$notification["error"]({message:"Received values of form:",description:n})}))},validate:function(e,t,n){var r=/^user-(.*)$/;r.test(t)||n("需要以 user- 开头"),n()}}},a=o,s=n("2877"),l=Object(s["a"])(a,r,i,!1,null,"e8006a9e",null);t["default"]=l.exports},cd6d:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-operator"},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("新增")]),e.selectedRowKeys.length>0?n("a-button",{attrs:{ghost:"",type:"primary",icon:"delete"},on:{click:e.batchDel}},[e._v("批量删除\n    ")]):e._e()],1),n("div",[n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),e._v("已选择 "),n("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRowKeys.length))]),e._v("项  \n      "),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])]),n("a-table",{attrs:{columns:e.columns,size:"middle",pagination:!1,dataSource:e.dataSource,loading:e.loading,expandedRowKeys:e.expandedRowKeys,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{expand:e.expandSubmenu,expandedRowsChange:e.handleExpandedRowsChange},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link"},[e._v("\n            更多 "),n("a-icon",{attrs:{type:"down"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.handleDetail(r)}}},[e._v("详情")])]),n("a-menu-item",[n("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.handleAddSub(r)}}},[e._v("添加下级")])]),n("a-menu-item",[n("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.handleDataRule(r)}}},[e._v("数据规则")])]),n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete(r.id)}}},[n("a",[e._v("删除")])])],1)],1)],1)],1)}},{key:"url",fn:function(e){return n("span",{},[n("j-ellipsis",{attrs:{value:e,length:25}})],1)}},{key:"component",fn:function(e){return n("span",{},[n("j-ellipsis",{attrs:{value:e}})],1)}}])})],1),n("permission-modal",{ref:"modalForm",on:{ok:e.modalFormOk}}),n("permission-data-rule-list",{ref:"PermissionDataRuleList",on:{ok:e.modalFormOk}})],1)},i=[],o=n("b90e"),a=n("4ec3"),s=n("b65a"),l=n("56cd1"),c=n("d579"),u=[{title:"菜单名称",dataIndex:"name",key:"name"},{title:"菜单类型",dataIndex:"menuType",key:"menuType",customRender:function(e){return 0==e||1==e?"菜单":2==e?"按钮/权限":e}},{title:"icon",dataIndex:"icon",key:"icon"},{title:"组件",dataIndex:"component",key:"component",scopedSlots:{customRender:"component"}},{title:"路径",dataIndex:"url",key:"url",scopedSlots:{customRender:"url"}},{title:"排序",dataIndex:"sortNo",key:"sortNo"},{title:"操作",dataIndex:"action",scopedSlots:{customRender:"action"},align:"center",width:150}],d={name:"PermissionListAsync",mixins:[s["a"]],components:{PermissionDataRuleList:l["default"],PermissionModal:o["default"],JEllipsis:c["default"]},data:function(){return{description:"这是菜单管理页面",columns:u,loading:!1,expandedRowKeys:[],url:{list:"/sys/permission/list",delete:"/sys/permission/delete",deleteBatch:"/sys/permission/deleteBatch"}}},methods:{loadData:function(){var e=this;this.loading=!0,Object(a["x"])().then((function(t){if(t.success)return e.dataSource=t.result,e.loadDataByExpandedRows(e.dataSource)})).finally((function(){e.loading=!1}))},expandSubmenu:function(e,t){!e||t.children&&0!==t.children.length||Object(a["y"])({parentId:t.id}).then((function(e){e.success&&(t.children=e.result)}))},loadDataByExpandedRows:function(e){var t=this;return this.expandedRowKeys.length>0?Object(a["z"])({parentIds:this.expandedRowKeys.join(",")}).then((function(n){if(n.success){var r=n.result,i=function e(n){n.forEach((function(n){t.expandedRowKeys.includes(n.id)&&(n.children=r[n.id],e(n.children))}))};i(e)}})):Promise.resolve()},handleDataRule:function(e){this.$refs.PermissionDataRuleList.edit(e)},handleAddSub:function(e){this.$refs.modalForm.title="添加子菜单",this.$refs.modalForm.localMenuType=1,this.$refs.modalForm.disableSubmit=!1,this.$refs.modalForm.edit({status:"1",permsType:"1",route:!0,parentId:e.id})},handleExpandedRowsChange:function(e){this.expandedRowKeys=e}}},f=d,h=(n("73c0"),n("2877")),p=Object(h["a"])(f,r,i,!1,null,"19a5c1ea",null);t["default"]=p.exports},cd8b:function(e,t,n){},cdd9:function(e,t){(function(e){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=function(){},r=function(e){return function(){return e}},i=r(!1),o=r(!0),a=function(){return s},s=function(){var e=function(e){return e.isNone()},t=function(e){return e()},s=function(e){return e},l={fold:function(e,t){return e()},is:i,isSome:i,isNone:o,getOr:s,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:r(null),getOrUndefined:r(void 0),or:s,orThunk:t,map:a,each:n,bind:a,exists:i,forall:o,filter:a,equals:e,equals_:e,toArray:function(){return[]},toString:r("none()")};return l}(),l=function(e){var t=r(e),n=function(){return c},a=function(t){return t(e)},c={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:o,isNone:i,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return l(t(e))},each:function(t){t(e)},bind:a,exists:a,forall:a,filter:function(t){return t(e)?c:s},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(i,(function(t){return n(e,t)}))}};return c},c=function(e){return null===e||void 0===e?s:l(e)},u={some:l,none:a,from:c},d=function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},f=function(e){return function(t){return d(t)===e}},h=function(e){return function(t){return typeof t===e}},p=function(e){return function(t){return e===t}},m=f("string"),g=f("object"),v=f("array"),b=p(null),y=h("boolean"),C=h("number"),w=Array.prototype.push,x=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!v(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);w.apply(t,e[n])}return t},I=function(e){return 0===e.length?u.none():u.some(e[0])},A=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return u.none()},k=Object.prototype.hasOwnProperty,S=function(e,t){var n=g(e)&&g(t);return n?T(e,t):t},_=function(e){return function(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];if(0===t.length)throw new Error("Can't merge zero objects");for(var r={},i=0;i<t.length;i++){var o=t[i];for(var a in o)k.call(o,a)&&(r[a]=e(r[a],o[a]))}return r}},T=_(S),E=function(){return E=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},E.apply(this,arguments)},O=("undefined"!==typeof e.window?e.window:Function("return this;")(),function(t,n,r){if(!(m(r)||y(r)||C(r)))throw e.console.error("Invalid call to Attr.set. Key ",n,":: Value ",r,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(n,r+"")}),R=function(e,t,n){O(e.dom(),t,n)},N=function(e,t){e.dom().removeAttribute(t)},L=function(t,n){var r=n||e.document,i=r.createElement("div");if(i.innerHTML=t,!i.hasChildNodes()||i.childNodes.length>1)throw e.console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return M(i.childNodes[0])},D=function(t,n){var r=n||e.document,i=r.createElement(t);return M(i)},B=function(t,n){var r=n||e.document,i=r.createTextNode(t);return M(i)},M=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:r(e)}},P=function(e,t,n){var r=e.dom();return u.from(r.elementFromPoint(t,n)).map(M)},F={fromHtml:L,fromTag:D,fromText:B,fromDom:M,fromPoint:P},j=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),H=tinymce.util.Tools.resolve("tinymce.util.Promise"),z=tinymce.util.Tools.resolve("tinymce.util.XHR"),$=function(e){return e.getParam("image_dimensions",!0,"boolean")},V=function(e){return e.getParam("image_advtab",!1,"boolean")},W=function(e){return e.getParam("image_uploadtab",!0,"boolean")},K=function(e){return e.getParam("image_prepend_url","","string")},G=function(e){return e.getParam("image_class_list")},Z=function(e){return e.getParam("image_description",!0,"boolean")},U=function(e){return e.getParam("image_title",!1,"boolean")},q=function(e){return e.getParam("image_caption",!1,"boolean")},X=function(e){return e.getParam("image_list",!1)},Y=function(e){return!!Q(e)},J=function(e){return!!ee(e)},Q=function(e){return e.getParam("images_upload_url","","string")},ee=function(e){return e.getParam("images_upload_handler",void 0,"function")},te=function(e){return e.getParam("images_upload_base_path",void 0,"string")},ne=function(e){return e.getParam("images_upload_credentials",!1,"boolean")},re=function(e){return e.getParam("a11y_advanced_options",!1,"boolean")},ie=function(e){return e.getParam("automatic_uploads",!0,"boolean")},oe=function(e,t){return Math.max(parseInt(e,10),parseInt(t,10))},ae=function(t){return new H((function(n){var r=e.document.createElement("img"),i=function(e){r.parentNode&&r.parentNode.removeChild(r),n(e)};r.onload=function(){var e=oe(r.width,r.clientWidth),t=oe(r.height,r.clientHeight),n={width:e,height:t};i(H.resolve(n))},r.onerror=function(){i(H.reject("Failed to get image dimensions for: "+t))};var o=r.style;o.visibility="hidden",o.position="fixed",o.bottom=o.left="0px",o.width=o.height="auto",e.document.body.appendChild(r),r.src=t}))},se=function(e){return e&&(e=e.replace(/px$/,"")),e},le=function(e){return e.length>0&&/^[0-9]+$/.test(e)&&(e+="px"),e},ce=function(e){if(e.margin){var t=String(e.margin).split(" ");switch(t.length){case 1:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[0],e["margin-bottom"]=e["margin-bottom"]||t[0],e["margin-left"]=e["margin-left"]||t[0];break;case 2:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[0],e["margin-left"]=e["margin-left"]||t[1];break;case 3:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["margin-left"]||t[1];break;case 4:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["margin-left"]||t[3]}delete e.margin}return e},ue=function(e,t){var n=X(e);"string"===typeof n?z.send({url:n,success:function(e){t(JSON.parse(e))}}):"function"===typeof n?n(t):t(n)},de=function(e,t,n){var r=function(){n.onload=n.onerror=null,e.selection&&(e.selection.select(n),e.nodeChanged())};n.onload=function(){t.width||t.height||!$(e)||e.dom.setAttribs(n,{width:String(n.clientWidth),height:String(n.clientHeight)}),r()},n.onerror=r},fe=function(t){return new H((function(n,r){var i=new e.FileReader;i.onload=function(){n(i.result)},i.onerror=function(){r(i.error.message)},i.readAsDataURL(t)}))},he=function(e){return"IMG"===e.nodeName&&(e.hasAttribute("data-mce-object")||e.hasAttribute("data-mce-placeholder"))},pe=j.DOM,me=function(e){return e.style.marginLeft&&e.style.marginRight&&e.style.marginLeft===e.style.marginRight?se(e.style.marginLeft):""},ge=function(e){return e.style.marginTop&&e.style.marginBottom&&e.style.marginTop===e.style.marginBottom?se(e.style.marginTop):""},ve=function(e){return e.style.borderWidth?se(e.style.borderWidth):""},be=function(e,t){return e.hasAttribute(t)?e.getAttribute(t):""},ye=function(e,t){return e.style[t]?e.style[t]:""},Ce=function(e){return null!==e.parentNode&&"FIGURE"===e.parentNode.nodeName},we=function(e,t,n){""===n?e.removeAttribute(t):e.setAttribute(t,n)},xe=function(e){var t=pe.create("figure",{class:"image"});pe.insertAfter(t,e),t.appendChild(e),t.appendChild(pe.create("figcaption",{contentEditable:"true"},"Caption")),t.contentEditable="false"},Ie=function(e){var t=e.parentNode;pe.insertAfter(e,t),pe.remove(t)},Ae=function(e){Ce(e)?Ie(e):xe(e)},ke=function(e,t){var n=e.getAttribute("style"),r=t(null!==n?n:"");r.length>0?(e.setAttribute("style",r),e.setAttribute("data-mce-style",r)):e.removeAttribute("style")},Se=function(e,t){return function(e,n,r){e.style[n]?(e.style[n]=le(r),ke(e,t)):we(e,n,r)}},_e=function(e,t){return e.style[t]?se(e.style[t]):be(e,t)},Te=function(e,t){var n=le(t);e.style.marginLeft=n,e.style.marginRight=n},Ee=function(e,t){var n=le(t);e.style.marginTop=n,e.style.marginBottom=n},Oe=function(e,t){var n=le(t);e.style.borderWidth=n},Re=function(e,t){e.style.borderStyle=t},Ne=function(e){return ye(e,"borderStyle")},Le=function(e){return"FIGURE"===e.nodeName},De=function(e){return"IMG"===e.nodeName},Be=function(e){return 0===pe.getAttrib(e,"alt").length&&"presentation"===pe.getAttrib(e,"role")},Me=function(e){return Be(e)?"":be(e,"alt")},Pe=function(){return{src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}},Fe=function(t,n){var r=e.document.createElement("img");return we(r,"style",n.style),(me(r)||""!==n.hspace)&&Te(r,n.hspace),(ge(r)||""!==n.vspace)&&Ee(r,n.vspace),(ve(r)||""!==n.border)&&Oe(r,n.border),(Ne(r)||""!==n.borderStyle)&&Re(r,n.borderStyle),t(r.getAttribute("style"))},je=function(t,n){var r=e.document.createElement("img");if(Ke(t,E(E({},n),{caption:!1}),r),$e(r,n.alt,n.isDecorative),n.caption){var i=pe.create("figure",{class:"image"});return i.appendChild(r),i.appendChild(pe.create("figcaption",{contentEditable:"true"},"Caption")),i.contentEditable="false",i}return r},He=function(e,t){return{src:be(t,"src"),alt:Me(t),title:be(t,"title"),width:_e(t,"width"),height:_e(t,"height"),class:be(t,"class"),style:e(be(t,"style")),caption:Ce(t),hspace:me(t),vspace:ge(t),border:ve(t),borderStyle:ye(t,"borderStyle"),isDecorative:Be(t)}},ze=function(e,t,n,r,i){n[r]!==t[r]&&i(e,r,n[r])},$e=function(e,t,n){if(n){pe.setAttrib(e,"role","presentation");var r=F.fromDom(e);R(r,"alt","")}else{if(b(t)){r=F.fromDom(e);N(r,"alt")}else{r=F.fromDom(e);R(r,"alt",t)}"presentation"===pe.getAttrib(e,"role")&&pe.setAttrib(e,"role","")}},Ve=function(e,t,n){n.alt===t.alt&&n.isDecorative===t.isDecorative||$e(e,n.alt,n.isDecorative)},We=function(e,t){return function(n,r,i){e(n,i),ke(n,t)}},Ke=function(e,t,n){var r=He(e,n);ze(n,r,t,"caption",(function(e,t,n){return Ae(e)})),ze(n,r,t,"src",we),ze(n,r,t,"title",we),ze(n,r,t,"width",Se("width",e)),ze(n,r,t,"height",Se("height",e)),ze(n,r,t,"class",we),ze(n,r,t,"style",We((function(e,t){return we(e,"style",t)}),e)),ze(n,r,t,"hspace",We(Te,e)),ze(n,r,t,"vspace",We(Ee,e)),ze(n,r,t,"border",We(Oe,e)),ze(n,r,t,"borderStyle",We(Re,e)),Ve(n,r,t)},Ge=function(e,t){var n=e.dom.styles.parse(t),r=ce(n),i=e.dom.styles.parse(e.dom.styles.serialize(r));return e.dom.styles.serialize(i)},Ze=function(e){var t=e.selection.getNode(),n=e.dom.getParent(t,"figure.image");return n?e.dom.select("img",n)[0]:t&&("IMG"!==t.nodeName||he(t))?null:t},Ue=function(e,t){var n=e.dom,r=n.getParent(t.parentNode,(function(t){return!!e.schema.getTextBlockElements()[t.nodeName]}),e.getBody());return r?n.split(r,t):t},qe=function(e){var t=Ze(e);return t?He((function(t){return Ge(e,t)}),t):Pe()},Xe=function(e,t){var n=je((function(t){return Ge(e,t)}),t);e.dom.setAttrib(n,"data-mce-id","__mcenew"),e.focus(),e.selection.setContent(n.outerHTML);var r=e.dom.select('*[data-mce-id="__mcenew"]')[0];if(e.dom.setAttrib(r,"data-mce-id",null),Le(r)){var i=Ue(e,r);e.selection.select(i)}else e.selection.select(r)},Ye=function(e,t){e.dom.setAttrib(t,"src",t.getAttribute("src"))},Je=function(e,t){if(t){var n=e.dom.is(t.parentNode,"figure.image")?t.parentNode:t;e.dom.remove(n),e.focus(),e.nodeChanged(),e.dom.isEmpty(e.getBody())&&(e.setContent(""),e.selection.setCursorLocation())}},Qe=function(e,t){var n=Ze(e);if(Ke((function(t){return Ge(e,t)}),t,n),Ye(e,n),Le(n.parentNode)){var r=n.parentNode;Ue(e,r),e.selection.select(n.parentNode)}else e.selection.select(n),de(e,t,n)},et=function(e,t){var n=Ze(e);if(n){var r=He((function(t){return Ge(e,t)}),n),i=E(E({},r),t);i.src?Qe(e,i):Je(e,n)}else t.src&&Xe(e,E(E({},Pe()),t))},tt=tinymce.util.Tools.resolve("tinymce.util.Tools"),nt=function(e){return m(e.value)?e.value:""},rt=function(e,t){var n=[];return tt.each(e,(function(e){var r=m(e.text)?e.text:m(e.title)?e.title:"";if(void 0!==e.menu){var i=rt(e.menu,t);n.push({text:r,items:i})}else{var o=t(e);n.push({text:r,value:o})}})),n},it=function(e){return void 0===e&&(e=nt),function(t){return t?u.from(t).map((function(t){return rt(t,e)})):u.none()}},ot=function(e){return it(nt)(e)},at=function(e){return Object.prototype.hasOwnProperty.call(e,"items")},st=function(e,t){return A(e,(function(e){return at(e)?st(e.items,t):e.value===t?u.some(e):u.none()}))},lt=function(e,t){return e.bind((function(e){return st(e,t)}))},ct={sanitizer:it,sanitize:ot,findEntry:lt},ut=function(e,t){return e?e.replace(/\/$/,"")+"/"+t.replace(/^\//,""):t};function dt(t){var r=function(n,r,i,o){var a=new e.XMLHttpRequest;a.open("POST",t.url),a.withCredentials=t.credentials,a.upload.onprogress=function(e){o(e.loaded/e.total*100)},a.onerror=function(){i("Image upload failed due to a XHR Transport error. Code: "+a.status)},a.onload=function(){if(a.status<200||a.status>=300)i("HTTP Error: "+a.status);else{var e=JSON.parse(a.responseText);e&&"string"===typeof e.location?r(ut(t.basePath,e.location)):i("Invalid JSON: "+a.responseText)}};var s=new e.FormData;s.append("file",n.blob(),n.filename()),a.send(s)},i=function(e,t){return new H((function(r,i){try{t(e,r,i,n)}catch(o){i(o.message)}}))},o=function(e){return e===r},a=function(e){return!t.url&&o(t.handler)?H.reject("Upload url missing from the settings."):i(e,t.handler)};return t=tt.extend({credentials:!1,handler:r},t),{upload:a}}var ft=function(e){return{title:"Advanced",name:"advanced",items:[{type:"input",label:"Style",name:"style"},{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"selectbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]}},ht={makeTab:ft},pt=function(e){var t=ct.sanitizer((function(t){return e.convertURL(t.value||t.url,"src")})),n=new H((function(n){ue(e,(function(e){n(t(e).map((function(e){return x([[{text:"None",value:""}],e])})))}))})),r=ct.sanitize(G(e)),i=V(e),o=W(e),a=Y(e),s=J(e),l=qe(e),c=Z(e),d=U(e),f=$(e),h=q(e),p=re(e),g=Q(e),v=te(e),b=ne(e),y=ee(e),C=ie(e),w=u.some(K(e)).filter((function(e){return m(e)&&e.length>0}));return n.then((function(e){return{image:l,imageList:e,classList:r,hasAdvTab:i,hasUploadTab:o,hasUploadUrl:a,hasUploadHandler:s,hasDescription:c,hasImageTitle:d,hasDimensions:f,hasImageCaption:h,url:g,basePath:v,credentials:b,handler:y,prependURL:w,hasAccessibilityOptions:p,automaticUploads:C}}))},mt=function(e){var t={name:"src",type:"urlinput",filetype:"image",label:"Source"},n=e.imageList.map((function(e){return{name:"images",type:"selectbox",label:"Image list",items:e}})),r={name:"alt",type:"input",label:"Alternative description",disabled:e.hasAccessibilityOptions&&e.image.isDecorative},i={name:"title",type:"input",label:"Image title"},o={name:"dimensions",type:"sizeinput"},a={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},s=e.classList.map((function(e){return{name:"classes",type:"selectbox",label:"Class",items:e}})),l={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]};return x([[t],n.toArray(),e.hasAccessibilityOptions&&e.hasDescription?[a]:[],e.hasDescription?[r]:[],e.hasImageTitle?[i]:[],e.hasDimensions?[o]:[],[{type:"grid",columns:2,items:x([s.toArray(),e.hasImageCaption?[l]:[]])}]])},gt=function(e){return{title:"General",name:"general",items:mt(e)}},vt={makeTab:gt,makeItems:mt},bt=function(e){var t=[{type:"dropzone",name:"fileinput"}];return{title:"Upload",name:"upload",items:t}},yt={makeTab:bt},Ct=function(e){return{prevImage:ct.findEntry(e.imageList,e.image.src),prevAlt:e.image.alt,open:!0}},wt=function(e){return{src:{value:e.src,meta:{}},images:e.src,alt:e.alt,title:e.title,dimensions:{width:e.width,height:e.height},classes:e.class,caption:e.caption,style:e.style,vspace:e.vspace,border:e.border,hspace:e.hspace,borderstyle:e.borderStyle,fileinput:[],isDecorative:e.isDecorative}},xt=function(e,t){return{src:e.src.value,alt:0===e.alt.length&&t?null:e.alt,title:e.title,width:e.dimensions.width,height:e.dimensions.height,class:e.classes,style:e.style,caption:e.caption,hspace:e.hspace,vspace:e.vspace,border:e.border,borderStyle:e.borderstyle,isDecorative:e.isDecorative}},It=function(e,t){return/^(?:[a-zA-Z]+:)?\/\//.test(t)?u.none():e.prependURL.bind((function(e){return t.substring(0,e.length)!==e?u.some(e+t):u.none()}))},At=function(e,t){var n=t.getData();It(e,n.src.value).each((function(e){t.setData({src:{value:e,meta:n.src.meta}})}))},kt=function(e,t,n){e.hasDescription&&m(n.alt)&&(t.alt=n.alt),e.hasAccessibilityOptions&&(t.isDecorative=n.isDecorative||t.isDecorative||!1),e.hasImageTitle&&m(n.title)&&(t.title=n.title),e.hasDimensions&&(m(n.width)&&(t.dimensions.width=n.width),m(n.height)&&(t.dimensions.height=n.height)),m(n.class)&&ct.findEntry(e.classList,n.class).each((function(e){t.classes=e.value})),e.hasImageCaption&&y(n.caption)&&(t.caption=n.caption),e.hasAdvTab&&(m(n.style)&&(t.style=n.style),m(n.vspace)&&(t.vspace=n.vspace),m(n.border)&&(t.border=n.border),m(n.hspace)&&(t.hspace=n.hspace),m(n.borderstyle)&&(t.borderstyle=n.borderstyle))},St=function(e,t){var n=t.getData(),r=n.src.meta;if(void 0!==r){var i=T({},n);kt(e,i,r),t.setData(i)}},_t=function(e,t,n,r){var i=r.getData(),o=i.src.value,a=i.src.meta||{};a.width||a.height||!t.hasDimensions||e.imageSize(o).then((function(e){n.open&&r.setData({dimensions:e})}))},Tt=function(e,t,n){var r=n.getData(),i=ct.findEntry(e.imageList,r.src.value);t.prevImage=i,n.setData({images:i.map((function(e){return e.value})).getOr("")})},Et=function(e,t,n,r){At(t,r),St(t,r),_t(e,t,n,r),Tt(t,n,r)},Ot=function(e,t,n,r){var i=r.getData(),o=ct.findEntry(t.imageList,i.images);o.each((function(e){var t=""===i.alt||n.prevImage.map((function(e){return e.text===i.alt})).getOr(!1);t?""===e.value?r.setData({src:e,alt:n.prevAlt}):r.setData({src:e,alt:e.text}):r.setData({src:e})})),n.prevImage=o,Et(e,t,n,r)},Rt=function(e){var t=e["margin-top"]&&e["margin-bottom"]&&e["margin-top"]===e["margin-bottom"];return t?se(String(e["margin-top"])):""},Nt=function(e){var t=e["margin-right"]&&e["margin-left"]&&e["margin-right"]===e["margin-left"];return t?se(String(e["margin-right"])):""},Lt=function(e){return e["border-width"]?se(String(e["border-width"])):""},Dt=function(e){return e["border-style"]?String(e["border-style"]):""},Bt=function(e,t,n){return t(e(t(n)))},Mt=function(e,t,n){var r=ce(e(n.style)),i=T({},n);return i.vspace=Rt(r),i.hspace=Nt(r),i.border=Lt(r),i.borderstyle=Dt(r),i.style=Bt(e,t,r),i},Pt=function(e,t){var n=t.getData(),r=Mt(e.parseStyle,e.serializeStyle,n);t.setData(r)},Ft=function(e,t,n){var r=T(wt(t.image),n.getData()),i=Fe(e.normalizeCss,xt(r,!1));n.setData({style:i})},jt=function(t,n,r,i){var o=i.getData();i.block("Uploading image"),I(o.fileinput).fold((function(){i.unblock()}),(function(o){var a=e.URL.createObjectURL(o),s=dt({url:n.url,basePath:n.basePath,credentials:n.credentials,handler:n.handler}),l=function(){i.unblock(),e.URL.revokeObjectURL(a)},c=function(e){i.setData({src:{value:e,meta:{}}}),i.showTab("general"),Et(t,n,r,i)};fe(o).then((function(e){var r=t.createBlobCache(o,a,e);n.automaticUploads?s.upload(r).then((function(e){c(e),l()})).catch((function(e){l(),t.alertErr(e)})):(t.addToBlobCache(r),c(r.blobUri()),i.unblock())}))}))},Ht=function(e,t,n){return function(r,i){"src"===i.name?Et(e,t,n,r):"images"===i.name?Ot(e,t,n,r):"alt"===i.name?n.prevAlt=r.getData().alt:"style"===i.name?Pt(e,r):"vspace"===i.name||"hspace"===i.name||"border"===i.name||"borderstyle"===i.name?Ft(e,t,r):"fileinput"===i.name?jt(e,t,n,r):"isDecorative"===i.name&&(r.getData().isDecorative?r.disable("alt"):r.enable("alt"))}},zt=function(e){return function(){e.open=!1}},$t=function(e){if(e.hasAdvTab||e.hasUploadUrl||e.hasUploadHandler){var t={type:"tabpanel",tabs:x([[vt.makeTab(e)],e.hasAdvTab?[ht.makeTab(e)]:[],e.hasUploadTab&&(e.hasUploadUrl||e.hasUploadHandler)?[yt.makeTab(e)]:[]])};return t}var n={type:"panel",items:vt.makeItems(e)};return n},Vt=function(e){return function(t){var n=Ct(t);return{title:"Insert/Edit Image",size:"normal",body:$t(t),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:wt(t.image),onSubmit:e.onSubmit(t),onChange:Ht(e,t,n),onClose:zt(n)}}},Wt=function(e){return function(t){return function(n){var r=T(wt(t.image),n.getData());e.execCommand("mceUpdateImage",!1,xt(r,t.hasAccessibilityOptions)),e.editorUpload.uploadImagesAuto(),n.close()}}},Kt=function(e){return function(t){return ae(e.documentBaseURI.toAbsolute(t)).then((function(e){return{width:String(e.width),height:String(e.height)}}))}},Gt=function(e){return function(t,n,r){return e.editorUpload.blobCache.create({blob:t,blobUri:n,name:t.name?t.name.replace(/\.[^\.]+$/,""):null,base64:r.split(",")[1]})}},Zt=function(e){return function(t){e.editorUpload.blobCache.add(t)}},Ut=function(e){return function(t){e.windowManager.alert(t)}},qt=function(e){return function(t){return Ge(e,t)}},Xt=function(e){return function(t){return e.dom.parseStyle(t)}},Yt=function(e){return function(t,n){return e.dom.serializeStyle(t,n)}},Jt=function(e){var t={onSubmit:Wt(e),imageSize:Kt(e),addToBlobCache:Zt(e),createBlobCache:Gt(e),alertErr:Ut(e),normalizeCss:qt(e),parseStyle:Xt(e),serializeStyle:Yt(e)},n=function(){return pt(e).then(Vt(t)).then((function(t){return e.windowManager.open(t)}))},r=function(){n()};return{open:n,openLater:r}},Qt=function(e){e.addCommand("mceImage",Jt(e).openLater),e.addCommand("mceUpdateImage",(function(t,n){e.undoManager.transact((function(){return et(e,n)}))}))},en=function(e){var t=e.attr("class");return t&&/\bimage\b/.test(t)},tn=function(e){return function(t){var n=t.length,r=function(t){t.attr("contenteditable",e?"true":null)};while(n--){var i=t[n];en(i)&&(i.attr("contenteditable",e?"false":null),tt.each(i.getAll("figcaption"),r))}}},nn=function(e){e.on("PreInit",(function(){e.parser.addNodeFilter("figure",tn(!0)),e.serializer.addNodeFilter("figure",tn(!1))}))},rn=function(e){e.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:Jt(e).openLater,onSetup:function(t){return e.selection.selectorChangedWithUnbind("img:not([data-mce-object],[data-mce-placeholder]),figure.image",t.setActive).unbind}}),e.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:Jt(e).openLater}),e.ui.registry.addContextMenu("image",{update:function(e){return Le(e)||De(e)&&!he(e)?["image"]:[]}})};function on(){t.add("image",(function(e){nn(e),rn(e),Qt(e)}))}on()})(window)},ce8e:function(e,t,n){"use strict";var r=n("1120"),i=n.n(r);i.a},cf05:function(e,t,n){e.exports=n.p+"img/logo.dc7a0b69.png"},d039:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"content",staticClass:"card-list"},[n("a-list",{attrs:{grid:{gutter:24,lg:3,md:2,sm:1,xs:1},dataSource:e.dataSource},scopedSlots:e._u([{key:"renderItem",fn:function(t,r){return n("a-list-item",{},[null===t?[n("a-button",{staticClass:"new-btn",attrs:{type:"dashed"}},[n("a-icon",{attrs:{type:"plus"}}),e._v("\n          新增产品\n        ")],1)]:[n("a-card",{attrs:{hoverable:!0}},[n("a-card-meta",[n("div",{staticStyle:{"margin-bottom":"3px"},attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.title))]),n("a-avatar",{staticClass:"card-avatar",attrs:{slot:"avatar",src:t.avatar,size:"large"},slot:"avatar"}),n("div",{staticClass:"meta-content",attrs:{slot:"description"},slot:"description"},[e._v(e._s(t.content))])],1),n("template",{staticClass:"ant-card-actions",slot:"actions"},[n("a",[e._v("操作一")]),n("a",[e._v("操作二")])])],2)]],2)}}])})],1)},i=[],o=[];o.push(null);for(var a=0;a<11;a++)o.push({title:"Alipay",avatar:"https://gw.alipayobjects.com/zos/rmsportal/WdGqmHpayyMjiEhcKoVE.png",content:"在中台产品的研发过程中，会出现不同的设计规范和实现方式，但其中往往存在很多类似的页面和组件，这些类似的组件会被抽离成一套标准规范。"});var s={name:"CardList",data:function(){return{description:"段落示意：蚂蚁金服务设计平台 ant.design，用最小的工作量，无缝接入蚂蚁金服生态， 提供跨越设计与开发的体验解决方案。",linkList:[{icon:"rocket",href:"#",title:"快速开始"},{icon:"info-circle-o",href:"#",title:"产品简介"},{icon:"file-text",href:"#",title:"产品文档"}],extraImage:"https://gw.alipayobjects.com/zos/rmsportal/RzwpdLnhmvDJToTdfDPe.png",dataSource:o}}},l=s,c=(n("4f0c"),n("2877")),u=Object(c["a"])(l,r,i,!1,null,"7841cc28",null);t["default"]=u.exports},d054:function(e,t,n){},d18f:function(e,t,n){"use strict";var r=n("c708"),i=n.n(r);i.a},d1ff:function(e,t,n){"use strict";var r=n("3c48"),i=n.n(r);i.a},d270:function(e,t,n){"use strict";var r=n("99ce"),i=n.n(r);i.a},d28b:function(e,t,n){"use strict";var r=n("f73f"),i=n.n(r);i.a},d2b5:function(e,t,n){"use strict";var r=n("2585"),i=n.n(r);i.a},d387:function(e,t,n){},d456:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-drawer",{attrs:{title:"数据规则/按钮权限配置",width:"365",closable:!1,visible:e.visible},on:{close:e.onClose}},[n("a-tabs",{attrs:{defaultActiveKey:"1"}},[n("a-tab-pane",{key:"1",attrs:{tab:"数据规则"}},[e.dataruleList.length>0?n("a-checkbox-group",{model:{value:e.dataruleChecked,callback:function(t){e.dataruleChecked=t},expression:"dataruleChecked"}},[n("a-row",[e._l(e.dataruleList,(function(t,r){return n("a-col",{key:"dr"+r,attrs:{span:24}},[n("a-checkbox",{attrs:{value:t.id}},[e._v(e._s(t.ruleName))])],1)})),n("a-col",{attrs:{span:24}},[n("div",{staticStyle:{width:"100%","margin-top":"15px"}},[n("a-button",{attrs:{type:"primary",size:"small",icon:"save"},on:{click:e.saveDataruleForRole}},[e._v("点击保存")])],1)])],2)],1):n("div",[n("h3",[e._v("无配置信息!")])])],1)],1)],1)},i=[],o=n("290c"),a=n("da05"),s=n("0fea"),l={name:"DeptRoleDataruleModal",components:{ACol:a["b"],ARow:o["a"]},data:function(){return{departId:"",functionId:"",roleId:"",visible:!1,tabList:[{key:"1",tab:"数据规则"},{key:"2",tab:"按钮权限"}],activeTabKey:"1",url:{datarule:"/sys/sysDepartRole/datarule"},dataruleList:[],dataruleChecked:[]}},methods:{loadData:function(){var e=this;Object(s["c"])("".concat(this.url.datarule,"/").concat(this.functionId,"/").concat(this.departId,"/").concat(this.roleId)).then((function(t){if(t.success){e.dataruleList=t.result.datarule;var n=t.result.drChecked;n&&(e.dataruleChecked=n.split(","))}}))},saveDataruleForRole:function(){var e=this;this.dataruleChecked&&0!=this.dataruleChecked.length||this.$message.warning("请注意，现未勾选任何数据权限!");var t={permissionId:this.functionId,roleId:this.roleId,dataRuleIds:this.dataruleChecked.join(",")};Object(s["i"])(this.url.datarule,t).then((function(t){t.success?e.$message.success(t.message):e.$message.error(t.message)}))},show:function(e,t,n){this.onReset(),this.departId=t,this.functionId=e,this.roleId=n,this.visible=!0,this.loadData()},onClose:function(){this.visible=!1,this.onReset()},onTabChange:function(e){this.activeTabKey=e},onReset:function(){this.functionId="",this.roleId="",this.dataruleList=[],this.dataruleChecked=[]}}},c=l,u=n("2877"),d=Object(u["a"])(c,r,i,!1,null,"369854a2",null);t["default"]=d.exports},d544:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-operator",staticStyle:{margin:"-25px 0px 10px 0px"},attrs:{md:24,sm:24}},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("新增")]),e.selectedRowKeys.length>0?n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:e.batchDel}},[n("a-icon",{attrs:{type:"delete"}}),e._v("\n          删除\n        ")],1)],1),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v(" 批量操作\n        "),n("a-icon",{attrs:{type:"down"}})],1)],1):e._e()],1),n("div",[n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),e._v(" 已选择 "),n("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRowKeys.length))]),e._v("项\n      "),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])]),n("a-table",{ref:"table",attrs:{size:"middle",bordered:"",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link"},[e._v("\n            更多 "),n("a-icon",{attrs:{type:"down"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.handleDetail(r)}}},[e._v("详情")])]),n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete(r.id)}}},[n("a",[e._v("删除")])])],1)],1)],1)],1)}}])})],1),n("jeecgOrderCustomer-modal",{ref:"modalForm",on:{ok:e.modalFormOk}})],1)},i=[],o=n("39a5"),a=n("6620"),s=n("b65a"),l=n("0fea"),c={name:"JeecgOrderCustomerList",mixins:[s["a"]],components:{JeecgOrderDMainList:a["default"],JeecgOrderCustomerModal:o["default"]},data:function(){return{description:"订单客户信息",columns:[{title:"客户名",align:"center",width:100,dataIndex:"name",key:"name"},{title:"性别",align:"center",dataIndex:"sex",customRender:function(e){return 1==e?"男":2==e?"女":e}},{title:"身份证号码",align:"center",dataIndex:"idcard"},{title:"电话",dataIndex:"telphone",align:"center"},{title:"操作",key:"operation",align:"center",width:130,scopedSlots:{customRender:"action"}}],url:{list:"/test/order/listOrderCustomerByMainId",delete:"/test/order/deleteCustomer",deleteBatch:"/test/order/deleteBatchCustomer"}}},methods:{loadData:function(e){var t=this;1===e&&(this.ipagination.current=1);var n=this.getQueryParams();Object(l["c"])(this.url.list,{orderId:n.mainId,pageNo:this.ipagination.current,pageSize:this.ipagination.pageSize}).then((function(e){e.success?(t.dataSource=e.result.records,t.ipagination.total=e.result.total):t.dataSource=null}))},getOrderMain:function(e){this.queryParam.mainId=e,this.loadData(1)},handleAdd:function(){this.$refs.modalForm.add(this.queryParam.mainId),this.$refs.modalForm.title="添加客户信息"}}},u=c,d=(n("e431"),n("2877")),f=Object(d["a"])(u,r,i,!1,null,"1f6da618",null);t["default"]=f.exports},d579:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-tooltip",{attrs:{placement:"topLeft"}},[n("template",{slot:"title"},[n("span",[e._v(e._s(e.value))])]),e._v("\n  "+e._s(e._f("ellipsis")(e.value,e.length))+"\n")],2)},i=[],o={name:"JEllipsis",props:{value:{type:String,required:!1},length:{type:Number,required:!1,default:25}}},a=o,s=n("2877"),l=Object(s["a"])(a,r,i,!1,null,"51aeca46",null);t["default"]=l.exports},d57c:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:e.title,width:800,visible:e.visible,confirmLoading:e.confirmLoading,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"数据源编码"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["code",e.validatorRules.code],expression:"['code', validatorRules.code]"}],attrs:{placeholder:"请输入数据源编码",disabled:!!e.model.id}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"数据源名称"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",e.validatorRules.name],expression:"['name', validatorRules.name]"}],attrs:{placeholder:"请输入数据源名称"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"数据库类型"}},[n("j-dict-select-tag",{directives:[{name:"decorator",rawName:"v-decorator",value:["dbType",e.validatorRules.dbType],expression:"['dbType', validatorRules.dbType]"}],attrs:{placeholder:"请选择数据库类型","dict-code":"database_type",triggerChange:""},on:{change:e.handleDbTypeChange}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"驱动类"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["dbDriver",e.validatorRules.dbDriver],expression:"['dbDriver', validatorRules.dbDriver]"}],attrs:{placeholder:"请输入驱动类"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"数据源地址"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["dbUrl",e.validatorRules.dbUrl],expression:"['dbUrl', validatorRules.dbUrl]"}],attrs:{placeholder:"请输入数据源地址"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"数据库名称"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["dbName",e.validatorRules.dbName],expression:"['dbName', validatorRules.dbName]"}],attrs:{placeholder:"请输入数据库名称"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"用户名"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["dbUsername",e.validatorRules.dbUsername],expression:"['dbUsername', validatorRules.dbUsername]"}],attrs:{placeholder:"请输入用户名"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"密码"}},[n("a-row",{attrs:{gutter:8}},[n("a-col",{attrs:{span:21}},[n("a-input-password",{directives:[{name:"decorator",rawName:"v-decorator",value:["dbPassword",e.validatorRules.dbPassword],expression:"['dbPassword', validatorRules.dbPassword]"}],attrs:{placeholder:"请输入密码"}})],1),n("a-col",{attrs:{span:3}},[n("a-button",{staticStyle:{width:"100%"},attrs:{type:"primary",size:"small"},on:{click:e.handleTest}},[e._v("测试")])],1)],1)],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"备注"}},[n("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["remark",{}],expression:"['remark', {}]"}],attrs:{placeholder:"请输入备注"}})],1)],1)],1)],1)},i=[],o=n("88bc"),a=n.n(o),s=n("0fea"),l=n("ca00"),c={name:"SysDataSourceModal",components:{},data:function(){var e=this;return{title:"操作",visible:!1,model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{code:{validateFirst:!0,rules:[{required:!0,message:"请输入数据源编码!"},{validator:function(t,n,r){var i=/^[a-z|A-Z][a-z|A-Z\d_-]{0,}$/;i.test(n)?Object(l["o"])("sys_data_source","code",n,e.model.id,r):r("编码必须以字母开头，可包含数字、下划线、横杠")}}]},name:{rules:[{required:!0,message:"请输入数据源名称!"}]},dbType:{rules:[{required:!0,message:"请选择数据库类型!"}]},dbDriver:{rules:[{required:!0,message:"请输入驱动类!"}]},dbUrl:{rules:[{required:!0,message:"请输入数据源地址!"}]},dbName:{rules:[{required:!0,message:"请输入数据库名称!"}]},dbUsername:{rules:[{required:!0,message:"请输入用户名!"}]},dbPassword:{rules:[{required:!0,message:"请输入密码!"}]}},url:{add:"/sys/dataSource/add",edit:"/sys/dataSource/edit"},dbDriverMap:{1:{dbDriver:"com.mysql.jdbc.Driver"},2:{dbDriver:"oracle.jdbc.OracleDriver"},3:{dbDriver:"com.microsoft.sqlserver.jdbc.SQLServerDriver"}},dbUrlMap:{1:{dbUrl:"jdbc:mysql://127.0.0.1:3306/jeecg-boot?characterEncoding=UTF-8&useUnicode=true&useSSL=false"},2:{dbUrl:"jdbc:oracle:thin:@127.0.0.1:1521:ORCL"},3:{dbUrl:"jdbc:sqlserver://127.0.0.1:1433;SelectMethod=cursor;DatabaseName=jeecgboot"}}}},created:function(){},methods:{add:function(){this.edit({})},edit:function(e){var t=this;this.form.resetFields(),this.model=Object.assign({},e),this.visible=!0,this.$nextTick((function(){t.form.setFieldsValue(a()(t.model,"code","name","remark","dbType","dbDriver","dbUrl","dbName","dbUsername","dbPassword"))}))},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this;this.form.validateFields((function(t,n){if(!t){e.confirmLoading=!0;var r=Object.assign(e.model,n),i=e.url.add,o="post";e.model.id&&(i=e.url.edit,o="put",r["code"]=void 0),Object(s["h"])(i,r,o).then((function(t){t.success?(e.$message.success(t.message),e.$emit("ok"),e.close()):e.$message.warning(t.message)})).finally((function(){e.confirmLoading=!1}))}}))},handleCancel:function(){this.close()},handleTest:function(){var e=this,t=["dbType","dbDriver","dbUrl","dbName","dbUsername","dbPassword"],n=this.form.getFieldsValue(t),r={};t.forEach((function(e){return r[e]={value:n[e],errors:null}})),this.form.setFields(r),this.$nextTick((function(){e.form.validateFields(t,(function(t,r){if(!t){var i=e.$message.loading("连接中……",0);Object(s["i"])("/online/cgreport/api/testConnection",n).then((function(t){if(!t.success)throw new Error(t.message);e.$message.success("连接成功")})).catch((function(t){e.$warning({title:"连接失败",content:t.message||t})})).finally((function(){return i()}))}}))}))},handleDbTypeChange:function(e){var t=this.dbDriverMap[e],n=this.dbUrlMap[e];t&&this.form.setFieldsValue(t),n&&this.form.setFieldsValue(n)}}},u=c,d=n("2877"),f=Object(d["a"])(u,r,i,!1,null,"3410adfb",null);t["default"]=f.exports},d5ac:function(e,t){e.exports="data:image/png;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAEAAAAAAAD/2wBDAAIBAQIBAQICAgICAgICAwUDAwMDAwYEBAMFBwYHBwcGBwcICQsJCAgKCAcHCg0KCgsMDAwMBwkODw0MDgsMDAz/2wBDAQICAgMDAwYDAwYMCAcIDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAz/wAARCAAjAGkDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD99oSWft8pJJAyO/HXr61NVXSLF7C02yTNcSM7uZGRVbDOzBTtGPlDYz3xnqTVpjgUARXlnHfweXJu27lb5XKnKkMOQQeoFK1tG27citu4ORnNeB/B39s24+Lf7W/jvwRDa6fB4a8H2HmJeFW+0TzpIiSMW3lPK+Y7cLnChiecDzu7/wCClOs6x8L/ABt8QtD0vRZvCXhHX7TS4bO4imF7qVu5w83mhwsTNvRlUxttAYHdkEJSuvVJ/Juy/ELNO3nb52v+R9hNGrjDKpGQeR6dKdXI23xl0e7+DUfjqOWRtDm0oavGSoWRojH5gXBP3yOMZ68Vz/7IX7SEH7VHwP0/xZHZppt3JNNa3tmjtItvLG5HDFVyGTY/GQu/buJUmn9px6rcE7xUujOu+IPj6LwHZWP+gX+q3urXX2KxsbLyvPupfLklKqZXSMYjikclnUYQ9TgHD/4W74g/6Jd46/8AAvRv/k+l+Lv/ACP/AMLf+xnm/wDTNqlcxrfxyvvFfh2aP/hH/FXh6xuNZTQTrNtd2LS2Nyb5bNXEZkclfOKjlGBU5wQaAOlj+Levxxqv/Cr/AB3xxzd6MT/6X0n/AAtnXhPu/wCFXeOs9B/pWi+3/T/WnDofi5fCLWbeJNHbWPO+W/8A7EYKIfQxfaMGT/byFz/yz7Vyd78VdQ+F9rrFgdG8SeLl8MW/2zVdXkubOHcXRpmwrOmAq9FRQFGAM9SAdx4B8fw+PLW+P2G/0q80u6+xXtle+V51pL5ccoVjE7xndHLG4Kuww46HIG/Xm3wE1OTXPEXxEvJLWaxkvNftZntpivmW5bRNLJRipI3LnBwSMjg16PG+4sP7px0xQBBqzXC2J+zxxySb0yruUG3cN2CAfmC5IB4JwCQCSLNQ3pYW/wAoydy/w7uNwzxkdu/brz0qagBEOVHbjoa4f47eFfEfizw9Z23h9bG6SS48vVLK81GTT4ry0KksgmjgmdWLrGpwvMbyjIJVh12n3NxNczLJFGsCBfKcPlmPO4EdsYHOeSSMfKC1uk1dWGnY/Ov9j/xDD4o/4KBfFix0268PyWfimO9tUlXVNqmMyhi1oFjYXBAGQuUGwFsjGDxGkfDLV/hv+xp8VPhxqNuy+M5PFun29rpSHddahlo9jwR/ekR1jdlZQQQrHscfqWRmmmLg4Zh+XFJRskvJJ+dncV3dvzuvK6sfJ3iT4Z+J/g3+y9Z2PiBfDK+GfCvgp7VnudbkgmtNRltpI5H8vyGjmbdIsUQMqAb2wCWXan/BGebzf2Tb5f3f7rxDcp8r7j/qYD8wx8p56c8YPfA+sTFkdaeBgVV3zSl3J5fdjHt/lY4P4vnHj/4W+n/CTz9/+oNqdcXbyJD4F0+Obatva/EaVdVGPvSSarK9sep6zy2bDk4GB2wPUvH3gO38eWdmk11fWFzptz9ss7yzdUntZfLeIspYMvMcsiEMpBDn615Po37MVvZeJ5NL1T7ZfSXgl1e18S2c1xb3kNzFPC6/aVLvBJLudJEO0I3kN+6AQUFHoV/8T9R03V5Fbwb4lk0qO4Nqb6FYJGJDFfNECyGUw5GNwXceDs2fPXL+M7mzs/FPxVubiNpNJh8KWx1KNV/1kqpfM4Hq3kGIH22Y71k2vgnxpo/gfXGvvFXjzUtc0W5Npai2+yxQ6vuWNoZVH2ZiifvVWQjcEaOXGQtV/EP7NEs1pY2Oo+Z4y8SeIImh1XXdXM/2GCONOhtbd40bO7aillJG7dIcAEA6z9nC1urG/wDHkF9/x+Q63Zx3GTn94NC0oNz9c16RbRsskjFmIY4AI9M89M98d+APfPN/Cr4aQ/DDw41mt9fate3TrPf6hePvnvphFHD5jH/rnFGoHOAgySck9UpyKAKeqi6aS1FvNHFH5pa4DQtI0kYRvlQgjY27YdxDcBgBkhluVi6rfXb+LbOzjtz9l8hpZJZI2MbHIxtdSQHQquUdV3CQMj/u5FO1QAUUUUAFFFFABRRRQBW1H92FkUsGwV68YIz06dhzUUnJK7nxsR+GI53Z/wAjpjjpxRRQA91xCZNzbk34+Y46nqOh/GrdFFABUMsjJNGo6M2D+RP9KKKAJqKKKAP/2Q=="},d5d2:function(e,t,n){"use strict";var r=n("f337"),i=n.n(r);i.a},d5e0:function(e,t,n){(function(e){e(n("56b3"))})((function(e){"use strict";var t={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},n={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};e.defineMode("xml",(function(r,i){var o,a,s=r.indentUnit,l={},c=i.htmlMode?t:n;for(var u in c)l[u]=c[u];for(var u in i)l[u]=i[u];function d(e,t){function n(n){return t.tokenize=n,n(e,t)}var r,i=e.next();return"<"==i?e.eat("!")?e.eat("[")?e.match("CDATA[")?n(p("atom","]]>")):null:e.match("--")?n(p("comment","--\x3e")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),n(m(1))):null:e.eat("?")?(e.eatWhile(/[\w\._\-]/),t.tokenize=p("meta","?>"),"meta"):(o=e.eat("/")?"closeTag":"openTag",t.tokenize=f,"tag bracket"):"&"==i?(r=e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"),r?"atom":"error"):(e.eatWhile(/[^&<]/),null)}function f(e,t){var n=e.next();if(">"==n||"/"==n&&e.eat(">"))return t.tokenize=d,o=">"==n?"endTag":"selfcloseTag","tag bracket";if("="==n)return o="equals",null;if("<"==n){t.tokenize=d,t.state=y,t.tagName=t.tagStart=null;var r=t.tokenize(e,t);return r?r+" tag error":"tag error"}return/[\'\"]/.test(n)?(t.tokenize=h(n),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function h(e){var t=function(t,n){while(!t.eol())if(t.next()==e){n.tokenize=f;break}return"string"};return t.isInAttribute=!0,t}function p(e,t){return function(n,r){while(!n.eol()){if(n.match(t)){r.tokenize=d;break}n.next()}return e}}function m(e){return function(t,n){var r;while(null!=(r=t.next())){if("<"==r)return n.tokenize=m(e+1),n.tokenize(t,n);if(">"==r){if(1==e){n.tokenize=d;break}return n.tokenize=m(e-1),n.tokenize(t,n)}}return"meta"}}function g(e,t,n){this.prev=e.context,this.tagName=t,this.indent=e.indented,this.startOfLine=n,(l.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}function v(e){e.context&&(e.context=e.context.prev)}function b(e,t){var n;while(1){if(!e.context)return;if(n=e.context.tagName,!l.contextGrabbers.hasOwnProperty(n)||!l.contextGrabbers[n].hasOwnProperty(t))return;v(e)}}function y(e,t,n){return"openTag"==e?(n.tagStart=t.column(),C):"closeTag"==e?w:y}function C(e,t,n){return"word"==e?(n.tagName=t.current(),a="tag",A):l.allowMissingTagName&&"endTag"==e?(a="tag bracket",A(e,t,n)):(a="error",C)}function w(e,t,n){if("word"==e){var r=t.current();return n.context&&n.context.tagName!=r&&l.implicitlyClosed.hasOwnProperty(n.context.tagName)&&v(n),n.context&&n.context.tagName==r||!1===l.matchClosing?(a="tag",x):(a="tag error",I)}return l.allowMissingTagName&&"endTag"==e?(a="tag bracket",x(e,t,n)):(a="error",I)}function x(e,t,n){return"endTag"!=e?(a="error",x):(v(n),y)}function I(e,t,n){return a="error",x(e,t,n)}function A(e,t,n){if("word"==e)return a="attribute",k;if("endTag"==e||"selfcloseTag"==e){var r=n.tagName,i=n.tagStart;return n.tagName=n.tagStart=null,"selfcloseTag"==e||l.autoSelfClosers.hasOwnProperty(r)?b(n,r):(b(n,r),n.context=new g(n,r,i==n.indented)),y}return a="error",A}function k(e,t,n){return"equals"==e?S:(l.allowMissing||(a="error"),A(e,t,n))}function S(e,t,n){return"string"==e?_:"word"==e&&l.allowUnquoted?(a="string",A):(a="error",A(e,t,n))}function _(e,t,n){return"string"==e?_:A(e,t,n)}return d.isInText=!0,{startState:function(e){var t={tokenize:d,state:y,indented:e||0,tagName:null,tagStart:null,context:null};return null!=e&&(t.baseIndent=e),t},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;o=null;var n=t.tokenize(e,t);return(n||o)&&"comment"!=n&&(a=null,t.state=t.state(o||n,e,t),a&&(n="error"==a?n+" error":a)),n},indent:function(t,n,r){var i=t.context;if(t.tokenize.isInAttribute)return t.tagStart==t.indented?t.stringStartCol+1:t.indented+s;if(i&&i.noIndent)return e.Pass;if(t.tokenize!=f&&t.tokenize!=d)return r?r.match(/^(\s*)/)[0].length:0;if(t.tagName)return!1!==l.multilineTagIndentPastTag?t.tagStart+t.tagName.length+2:t.tagStart+s*(l.multilineTagIndentFactor||1);if(l.alignCDATA&&/<!\[CDATA\[/.test(n))return 0;var o=n&&/^<(\/)?([\w_:\.-]*)/.exec(n);if(o&&o[1])while(i){if(i.tagName==o[2]){i=i.prev;break}if(!l.implicitlyClosed.hasOwnProperty(i.tagName))break;i=i.prev}else if(o)while(i){var a=l.contextGrabbers[i.tagName];if(!a||!a.hasOwnProperty(o[2]))break;i=i.prev}while(i&&i.prev&&!i.startOfLine)i=i.prev;return i?i.indent+s:t.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:l.htmlMode?"html":"xml",helperType:l.htmlMode?"html":"xml",skipAttribute:function(e){e.state==S&&(e.state=A)},xmlCurrentTag:function(e){return e.tagName?{name:e.tagName,close:"closeTag"==e.type}:null},xmlCurrentContext:function(e){for(var t=[],n=e.context;n;n=n.prev)n.tagName&&t.push(n.tagName);return t.reverse()}}})),e.defineMIME("text/xml","xml"),e.defineMIME("application/xml","xml"),e.mimeModes.hasOwnProperty("text/html")||e.defineMIME("text/html",{name:"xml",htmlMode:!0})}))},d5e7:function(e,t,n){"use strict";var r=n("062f"),i=n.n(r);i.a},d5ea:function(e,t,n){"use strict";var r=n("af43"),i=n.n(r);i.a},d60a:function(e,t,n){},d60c:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:e.title,width:450,visible:e.visible,closable:!1,maskClosable:!1}},[n("template",{slot:"footer"},[n("a-button",{attrs:{type:"primary"},on:{click:e.selectOk}},[e._v("确认")])],1),n("a-form",[e.isMultiTenant?n("a-form-item",{staticStyle:{"margin-bottom":"10px"},attrs:{labelCol:{span:4},wrapperCol:{span:20},"validate-status":e.validate_status1}},[n("a-tooltip",{attrs:{placement:"topLeft"}},[n("template",{slot:"title"},[n("span",[e._v("您有多个租户，请选择登录租户")])]),n("a-avatar",{staticStyle:{backgroundColor:"#87d068"},attrs:{icon:"gold"}})],2),n("a-select",{class:{"valid-error":"error"==e.validate_status1},staticStyle:{"margin-left":"10px",width:"80%"},attrs:{placeholder:"请选择登录租户"},on:{change:e.handleTenantChange}},[n("a-icon",{attrs:{slot:"suffixIcon",type:"gold"},slot:"suffixIcon"}),e._l(e.tenantList,(function(t){return n("a-select-option",{key:t.id,attrs:{value:t.id}},[e._v("\n          "+e._s(t.name)+"\n        ")])}))],2)],1):e._e(),e.isMultiDepart?n("a-form-item",{staticStyle:{"margin-bottom":"10px"},attrs:{labelCol:{span:4},wrapperCol:{span:20},"validate-status":e.validate_status2}},[n("a-tooltip",{attrs:{placement:"topLeft"}},[n("template",{slot:"title"},[n("span",[e._v("您有多个部门，请选择登录部门")])]),n("a-avatar",{staticStyle:{backgroundColor:"rgb(104, 208, 203)"},attrs:{icon:"gold"}})],2),n("a-select",{class:{"valid-error":"error"==e.validate_status2},staticStyle:{"margin-left":"10px",width:"80%"},attrs:{placeholder:"请选择登录部门"},on:{change:e.handleDepartChange}},[n("a-icon",{attrs:{slot:"suffixIcon",type:"gold"},slot:"suffixIcon"}),e._l(e.departList,(function(t){return n("a-select-option",{key:t.id,attrs:{value:t.orgCode}},[e._v("\n          "+e._s(t.departName)+"\n        ")])}))],2)],1):e._e()],1)],2)},i=[],o=n("2b0e"),a=n("0fea"),s=n("9fb0"),l=(n("ac2a"),{name:"LoginSelectModal",data:function(){return{visible:!1,isMultiDepart:!1,departList:[],isMultiTenant:!1,tenantList:[],username:"",orgCode:"",tenant_id:"",validate_status1:"",validate_status2:""}},computed:{title:function(){return this.isMultiDepart&&this.isMultiTenant?"请选择租户和部门":this.isMultiDepart&&!this.isMultiTenant?"请选择部门":!this.isMultiDepart&&this.isMultiTenant?"请选择租户":void 0}},methods:{clear:function(){this.departList=[],this.tenantList=[],this.visible=!1,this.validate_status1="",this.validate_status2=""},bizDepart:function(e){var t=e.multi_depart;0==t?(this.$notification.warn({message:"提示",description:"您尚未归属部门,请确认账号信息",duration:3}),this.isMultiDepart=!1):2==t?(this.visible=!0,this.isMultiDepart=!0,this.departList=e.departs):this.isMultiDepart=!1},bizTenant:function(e){var t=this;e&&0!=e.length?e.indexOf(",")<0?(this.tenant_id=e,this.isMultiTenant=!1):(this.visible=!0,this.isMultiTenant=!0,Object(a["c"])("/sys/tenant/queryList",{ids:e}).then((function(e){t.tenantList=e.result}))):this.isMultiTenant=!1},show:function(e){this.clear(),this.bizDepart(e);var t=o["default"].ls.get(s["s"]);this.username=t.username;var n=t.relTenantIds;this.bizTenant(n),!1===this.visible&&(this.$store.dispatch("saveTenant",this.tenant_id),this.$emit("success"))},requestFailed:function(e){this.$notification["error"]({message:"登录失败",description:((e.response||{}).data||{}).message||e.message||"请求出现错误，请稍后再试",duration:4}),this.loginBtn=!1},departResolve:function(){var e=this;return new Promise((function(t,n){if(!1===e.isMultiDepart)t();else{var r={orgCode:e.orgCode,username:e.username};Object(a["j"])("/sys/selectDepart",r).then((function(r){if(r.success){var i=r.result.userInfo;o["default"].ls.set(s["s"],i,6048e5),e.$store.commit("SET_INFO",i),t()}else e.requestFailed(r),e.$store.dispatch("Logout"),n()}))}}))},selectOk:function(){var e=this;return this.isMultiTenant&&!this.tenant_id?(this.validate_status1="error",!1):this.isMultiDepart&&!this.orgCode?(this.validate_status2="error",!1):void this.departResolve().then((function(){e.isMultiTenant?(e.$store.dispatch("saveTenant",e.tenant_id),e.$emit("success")):e.$emit("success")})).catch((function(){}))},handleTenantChange:function(e){this.validate_status1="",this.tenant_id=e},handleDepartChange:function(e){this.validate_status2="",this.orgCode=e}}}),c=l,u=n("2877"),d=Object(u["a"])(c,r,i,!1,null,"0ea14567",null);t["default"]=d.exports},d69f:function(e,t,n){(function(e){e(n("56b3"),n("d5e0"),n("f9d4"),n("7b00"))})((function(e){"use strict";var t={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};function n(e,t,n){var r=e.current(),i=r.search(t);return i>-1?e.backUp(r.length-i):r.match(/<\/?$/)&&(e.backUp(r.length),e.match(t,!1)||e.match(r)),n}var r={};function i(e){var t=r[e];return t||(r[e]=new RegExp("\\s+"+e+"\\s*=\\s*('|\")?([^'\"]+)('|\")?\\s*"))}function o(e,t){var n=e.match(i(t));return n?/^\s*(.*?)\s*$/.exec(n[2])[1]:""}function a(e,t){return new RegExp((t?"^":"")+"</s*"+e+"s*>","i")}function s(e,t){for(var n in e)for(var r=t[n]||(t[n]=[]),i=e[n],o=i.length-1;o>=0;o--)r.unshift(i[o])}function l(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(!r[0]||r[1].test(o(t,r[0])))return r[2]}}e.defineMode("htmlmixed",(function(r,i){var o=e.getMode(r,{name:"xml",htmlMode:!0,multilineTagIndentFactor:i.multilineTagIndentFactor,multilineTagIndentPastTag:i.multilineTagIndentPastTag}),c={},u=i&&i.tags,d=i&&i.scriptTypes;if(s(t,c),u&&s(u,c),d)for(var f=d.length-1;f>=0;f--)c.script.unshift(["type",d[f].matches,d[f].mode]);function h(t,i){var s,u=o.token(t,i.htmlState),d=/\btag\b/.test(u);if(d&&!/[<>\s\/]/.test(t.current())&&(s=i.htmlState.tagName&&i.htmlState.tagName.toLowerCase())&&c.hasOwnProperty(s))i.inTag=s+" ";else if(i.inTag&&d&&/>$/.test(t.current())){var f=/^([\S]+) (.*)/.exec(i.inTag);i.inTag=null;var p=">"==t.current()&&l(c[f[1]],f[2]),m=e.getMode(r,p),g=a(f[1],!0),v=a(f[1],!1);i.token=function(e,t){return e.match(g,!1)?(t.token=h,t.localState=t.localMode=null,null):n(e,v,t.localMode.token(e,t.localState))},i.localMode=m,i.localState=e.startState(m,o.indent(i.htmlState,"",""))}else i.inTag&&(i.inTag+=t.current(),t.eol()&&(i.inTag+=" "));return u}return{startState:function(){var t=e.startState(o);return{token:h,inTag:null,localMode:null,localState:null,htmlState:t}},copyState:function(t){var n;return t.localState&&(n=e.copyState(t.localMode,t.localState)),{token:t.token,inTag:t.inTag,localMode:t.localMode,localState:n,htmlState:e.copyState(o,t.htmlState)}},token:function(e,t){return t.token(e,t)},indent:function(t,n,r){return!t.localMode||/^\s*<\//.test(n)?o.indent(t.htmlState,n,r):t.localMode.indent?t.localMode.indent(t.localState,n,r):e.Pass},innerMode:function(e){return{state:e.localState||e.htmlState,mode:e.localMode||o}}}}),"xml","javascript","css"),e.defineMIME("text/html","htmlmixed")}))},d74e:function(e,t,n){"use strict";var r=n("4f05"),i=n.n(r);i.a},d7ca:function(e,t,n){},d83b:function(e,t,n){},d8bb:function(e,t,n){},d90d:function(e,t,n){},da9b:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("j-tree-table",{attrs:{url:e.url,topValue:"0",queryKey:"id",columns:e.columns,tableProps:e.tableProps},scopedSlots:e._u([{key:"action",fn:function(t){return[n("a",{on:{click:function(){return e.handleEdit(t.record)}}},[e._v("编辑")])]}}])})],1)},i=[],o=n("6b87"),a={name:"JeecgTreeTable",components:{JTreeTable:o["default"]},data:function(){return{url:"/api/asynTreeList",columns:[{title:"菜单名称",dataIndex:"name"},{title:"组件",dataIndex:"component"},{title:"排序",dataIndex:"orderNum"},{title:"操作",dataIndex:"action",scopedSlots:{customRender:"action"}}],selectedRowKeys:[]}},computed:{tableProps:function(){var e=this;return{rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:function(t){return e.selectedRowKeys=t}}}}},methods:{handleEdit:function(e){this.$info({width:600,title:"编辑",content:"编辑ID："+e.id+"；名称："+e.name,okText:"确定",maskClosable:!0})}}},s=a,l=n("2877"),c=Object(l["a"])(s,r,i,!1,null,"ea67cc3e",null);t["default"]=c.exports},db55:function(e,t,n){"use strict";var r=n("a10d"),i=n.n(r);i.a},db91:function(e,t,n){(function(e){e(n("56b3"))})((function(e){"use strict";function t(e){return new RegExp("^(("+e.join(")|(")+"))\\b")}var n=t(["and","or","not","is"]),r=["as","assert","break","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","lambda","pass","raise","return","try","while","with","yield","in"],i=["abs","all","any","bin","bool","bytearray","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip","__import__","NotImplemented","Ellipsis","__debug__"];function o(e){return e.scopes[e.scopes.length-1]}e.registerHelper("hintWords","python",r.concat(i)),e.defineMode("python",(function(a,s){for(var l="error",c=s.delimiters||s.singleDelimiters||/^[\(\)\[\]\{\}@,:`=;\.\\]/,u=[s.singleOperators,s.doubleOperators,s.doubleDelimiters,s.tripleDelimiters,s.operators||/^([-+*/%\/&|^]=?|[<>=]+|\/\/=?|\*\*=?|!=|[~!@]|\.\.\.)/],d=0;d<u.length;d++)u[d]||u.splice(d--,1);var f=s.hangingIndent||a.indentUnit,h=r,p=i;void 0!=s.extra_keywords&&(h=h.concat(s.extra_keywords)),void 0!=s.extra_builtins&&(p=p.concat(s.extra_builtins));var m=!(s.version&&Number(s.version)<3);if(m){var g=s.identifiers||/^[_A-Za-z\u00A1-\uFFFF][_A-Za-z0-9\u00A1-\uFFFF]*/;h=h.concat(["nonlocal","False","True","None","async","await"]),p=p.concat(["ascii","bytes","exec","print"]);var v=new RegExp("^(([rbuf]|(br)|(fr))?('{3}|\"{3}|['\"]))","i")}else{g=s.identifiers||/^[_A-Za-z][_A-Za-z0-9]*/;h=h.concat(["exec","print"]),p=p.concat(["apply","basestring","buffer","cmp","coerce","execfile","file","intern","long","raw_input","reduce","reload","unichr","unicode","xrange","False","True","None"]);v=new RegExp("^(([rubf]|(ur)|(br))?('{3}|\"{3}|['\"]))","i")}var b=t(h),y=t(p);function C(e,t){var n=e.sol()&&"\\"!=t.lastToken;if(n&&(t.indent=e.indentation()),n&&"py"==o(t).type){var r=o(t).offset;if(e.eatSpace()){var i=e.indentation();return i>r?A(t):i<r&&S(e,t)&&"#"!=e.peek()&&(t.errorToken=!0),null}var a=w(e,t);return r>0&&S(e,t)&&(a+=" "+l),a}return w(e,t)}function w(e,t,r){if(e.eatSpace())return null;if(!r&&e.match(/^#.*/))return"comment";if(e.match(/^[0-9\.]/,!1)){var i=!1;if(e.match(/^[\d_]*\.\d+(e[\+\-]?\d+)?/i)&&(i=!0),e.match(/^[\d_]+\.\d*/)&&(i=!0),e.match(/^\.\d+/)&&(i=!0),i)return e.eat(/J/i),"number";var o=!1;if(e.match(/^0x[0-9a-f_]+/i)&&(o=!0),e.match(/^0b[01_]+/i)&&(o=!0),e.match(/^0o[0-7_]+/i)&&(o=!0),e.match(/^[1-9][\d_]*(e[\+\-]?[\d_]+)?/)&&(e.eat(/J/i),o=!0),e.match(/^0(?![\dx])/i)&&(o=!0),o)return e.eat(/L/i),"number"}if(e.match(v)){var a=-1!==e.current().toLowerCase().indexOf("f");return a?(t.tokenize=x(e.current(),t.tokenize),t.tokenize(e,t)):(t.tokenize=I(e.current(),t.tokenize),t.tokenize(e,t))}for(var s=0;s<u.length;s++)if(e.match(u[s]))return"operator";return e.match(c)?"punctuation":"."==t.lastToken&&e.match(g)?"property":e.match(b)||e.match(n)?"keyword":e.match(y)?"builtin":e.match(/^(self|cls)\b/)?"variable-2":e.match(g)?"def"==t.lastToken||"class"==t.lastToken?"def":"variable":(e.next(),r?null:l)}function x(e,t){while("rubf".indexOf(e.charAt(0).toLowerCase())>=0)e=e.substr(1);var n=1==e.length,r="string";function i(e){return function(t,n){var r=w(t,n,!0);return"punctuation"==r&&("{"==t.current()?n.tokenize=i(e+1):"}"==t.current()&&(n.tokenize=e>1?i(e-1):o)),r}}function o(o,a){while(!o.eol())if(o.eatWhile(/[^'"\{\}\\]/),o.eat("\\")){if(o.next(),n&&o.eol())return r}else{if(o.match(e))return a.tokenize=t,r;if(o.match("{{"))return r;if(o.match("{",!1))return a.tokenize=i(0),o.current()?r:a.tokenize(o,a);if(o.match("}}"))return r;if(o.match("}"))return l;o.eat(/['"]/)}if(n){if(s.singleLineStringErrors)return l;a.tokenize=t}return r}return o.isString=!0,o}function I(e,t){while("rubf".indexOf(e.charAt(0).toLowerCase())>=0)e=e.substr(1);var n=1==e.length,r="string";function i(i,o){while(!i.eol())if(i.eatWhile(/[^'"\\]/),i.eat("\\")){if(i.next(),n&&i.eol())return r}else{if(i.match(e))return o.tokenize=t,r;i.eat(/['"]/)}if(n){if(s.singleLineStringErrors)return l;o.tokenize=t}return r}return i.isString=!0,i}function A(e){while("py"!=o(e).type)e.scopes.pop();e.scopes.push({offset:o(e).offset+a.indentUnit,type:"py",align:null})}function k(e,t,n){var r=e.match(/^([\s\[\{\(]|#.*)*$/,!1)?null:e.column()+1;t.scopes.push({offset:t.indent+f,type:n,align:r})}function S(e,t){var n=e.indentation();while(t.scopes.length>1&&o(t).offset>n){if("py"!=o(t).type)return!0;t.scopes.pop()}return o(t).offset!=n}function _(e,t){e.sol()&&(t.beginningOfLine=!0);var n=t.tokenize(e,t),r=e.current();if(t.beginningOfLine&&"@"==r)return e.match(g,!1)?"meta":m?"operator":l;if(/\S/.test(r)&&(t.beginningOfLine=!1),"variable"!=n&&"builtin"!=n||"meta"!=t.lastToken||(n="meta"),"pass"!=r&&"return"!=r||(t.dedent+=1),"lambda"==r&&(t.lambda=!0),":"!=r||t.lambda||"py"!=o(t).type||A(t),1==r.length&&!/string|comment/.test(n)){var i="[({".indexOf(r);if(-1!=i&&k(e,t,"])}".slice(i,i+1)),i="])}".indexOf(r),-1!=i){if(o(t).type!=r)return l;t.indent=t.scopes.pop().offset-f}}return t.dedent>0&&e.eol()&&"py"==o(t).type&&(t.scopes.length>1&&t.scopes.pop(),t.dedent-=1),n}var T={startState:function(e){return{tokenize:C,scopes:[{offset:e||0,type:"py",align:null}],indent:e||0,lastToken:null,lambda:!1,dedent:0}},token:function(e,t){var n=t.errorToken;n&&(t.errorToken=!1);var r=_(e,t);return r&&"comment"!=r&&(t.lastToken="keyword"==r||"punctuation"==r?e.current():r),"punctuation"==r&&(r=null),e.eol()&&t.lambda&&(t.lambda=!1),n?r+" "+l:r},indent:function(t,n){if(t.tokenize!=C)return t.tokenize.isString?e.Pass:0;var r=o(t),i=r.type==n.charAt(0);return null!=r.align?r.align-(i?1:0):r.offset-(i?f:0)},electricInput:/^\s*[\}\]\)]$/,closeBrackets:{triples:"'\""},lineComment:"#",fold:"indent"};return T})),e.defineMIME("text/x-python","python");var a=function(e){return e.split(" ")};e.defineMIME("text/x-cython",{name:"python",extra_keywords:a("by cdef cimport cpdef ctypedef enum except extern gil include nogil property public readonly struct union DEF IF ELIF ELSE")})}))},dba9:function(e,t,n){"use strict";var r=n("7723"),i=n.n(r);i.a},dc4b:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-drawer",{staticStyle:{overflow:"auto","padding-bottom":"53px"},attrs:{title:e.title,maskClosable:!0,width:"650",placement:"right",closable:!0,visible:e.visible},on:{close:e.close}},[n("a-form",[n("a-form-item",{attrs:{label:"所拥有的部门权限"}},[e.treeData.length>0?n("a-tree",{attrs:{checkable:"",checkedKeys:e.checkedKeys,treeData:e.treeData,selectedKeys:e.selectedKeys,expandedKeys:e.expandedKeysss,checkStrictly:e.checkStrictly},on:{check:e.onCheck,expand:e.onExpand,select:e.onTreeNodeSelect},scopedSlots:e._u([{key:"hasDatarule",fn:function(t){var r=t.slotTitle,i=t.ruleFlag;return n("span",{},[e._v("\n          "+e._s(r)),i?n("a-icon",{staticStyle:{"margin-left":"5px",color:"red"},attrs:{type:"align-left"}}):e._e()],1)}}],null,!1,2869785871)}):n("div",[n("h3",[e._v("无可配置部门权限!")])])],1)],1),n("div",{staticClass:"drawer-bootom-button"},[n("a-dropdown",{staticStyle:{float:"left"},attrs:{trigger:["click"],placement:"topCenter"}},[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:function(t){return e.switchCheckStrictly(1)}}},[e._v("父子关联")]),n("a-menu-item",{key:"2",on:{click:function(t){return e.switchCheckStrictly(2)}}},[e._v("取消关联")]),n("a-menu-item",{key:"3",on:{click:e.checkALL}},[e._v("全部勾选")]),n("a-menu-item",{key:"4",on:{click:e.cancelCheckALL}},[e._v("取消全选")]),n("a-menu-item",{key:"5",on:{click:e.expandAll}},[e._v("展开所有")]),n("a-menu-item",{key:"6",on:{click:e.closeAll}},[e._v("合并所有")])],1),n("a-button",[e._v("\n        树操作 "),n("a-icon",{attrs:{type:"up"}})],1)],1),n("a-popconfirm",{attrs:{title:"确定放弃编辑？",okText:"确定",cancelText:"取消"},on:{confirm:e.close}},[n("a-button",{staticStyle:{"margin-right":".8rem"}},[e._v("取消")])],1),n("a-button",{staticStyle:{"margin-right":"0.8rem"},attrs:{type:"primary",loading:e.loading,ghost:""},on:{click:function(t){return e.handleSubmit(!1)}}},[e._v("仅保存")]),n("a-button",{attrs:{type:"primary",loading:e.loading},on:{click:function(t){return e.handleSubmit(!0)}}},[e._v("保存并关闭")])],1),n("dept-role-datarule-modal",{ref:"datarule"})],1)},i=[],o=n("4ec3"),a=n("2285"),s=n("d456");function l(e){return d(e)||u(e)||h(e)||c()}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function d(e){if(Array.isArray(e))return p(e)}function f(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=h(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function h(e,t){if(e){if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m={name:"DeptRoleAuthModal",components:{DeptRoleDataruleModal:s["default"],RoleDataruleModal:a["default"]},data:function(){return{departId:"",roleId:"",treeData:[],defaultCheckedKeys:[],checkedKeys:[],halfCheckedKeys:[],expandedKeysss:[],allTreeKeys:[],autoExpandParent:!0,checkStrictly:!0,title:"部门角色权限配置",visible:!1,loading:!1,selectedKeys:[]}},methods:{switchCheckStrictly:function(e){1==e?this.checkStrictly=!1:2==e&&(this.checkStrictly=!0)},onTreeNodeSelect:function(e){e&&e.length>0&&(this.selectedKeys=e),this.$refs.datarule.show(this.selectedKeys[0],this.departId,this.roleId)},onCheck:function(e){this.checkStrictly?this.checkedKeys=e.checked:this.checkedKeys=e},show:function(e,t){this.departId=t,this.roleId=e,this.visible=!0},close:function(){this.reset(),this.$emit("close"),this.visible=!1},onExpand:function(e){this.expandedKeysss=e,this.autoExpandParent=!1},reset:function(){this.expandedKeysss=[],this.checkedKeys=[],this.defaultCheckedKeys=[],this.loading=!1},expandAll:function(){this.expandedKeysss=this.allTreeKeys},closeAll:function(){this.expandedKeysss=[]},checkALL:function(){this.checkedKeys=this.allTreeKeys},cancelCheckALL:function(){this.checkedKeys=[]},handleCancel:function(){this.close()},handleSubmit:function(e){var t=this,n=this,r={roleId:n.roleId,permissionIds:n.checkedKeys.join(","),lastpermissionIds:n.defaultCheckedKeys.join(",")};n.loading=!0,Object(o["R"])(r).then((function(r){r.success?(n.$message.success(r.message),n.loading=!1,e&&n.close()):(n.$message.error(r.message),n.loading=!1,e&&n.close()),t.loadData()}))},convertTreeListToKeyLeafPairs:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=f(e);try{for(r.s();!(t=r.n()).done;){var i=t.value,o=i.key,a=i.isLeaf,s=i.children;n.push({key:o,isLeaf:a}),s&&s.length>0&&this.convertTreeListToKeyLeafPairs(s,n)}}catch(l){r.e(l)}finally{r.f()}return n},loadData:function(){var e=this;Object(o["L"])({departId:this.departId}).then((function(t){e.treeData=t.result.treeList,e.allTreeKeys=t.result.ids,Object(o["E"])({roleId:e.roleId}).then((function(t){e.checkedKeys=l(t.result),e.defaultCheckedKeys=l(t.result),e.expandedKeysss=e.allTreeKeys}))}))}},watch:{visible:function(){this.visible&&this.loadData()}}},g=m,v=(n("43e8"),n("2877")),b=Object(v["a"])(g,r,i,!1,null,"3c4da6d8",null);t["default"]=b.exports},dcf5:function(e,t,n){e.exports=n("be36")},dd84:function(e,t,n){"use strict";var r=n("05f5"),i=n.n(r);i.a},dd86:function(e,t,n){"use strict";var r=n("f101"),i=n.n(r);i.a},dd9d:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:e.title,width:1e3,visible:e.visible,confirmLoading:e.confirmLoading},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"订单号",hasFeedback:""}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["orderCode",{rules:[{required:!0,message:"请输入订单号!"}]}],expression:"['orderCode', {rules: [{ required: true, message: '请输入订单号!' }]}]"}],attrs:{placeholder:"请输入订单号"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"订单类型"}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["ctype",{}],expression:"['ctype',{}]"}],attrs:{placeholder:"请输入订单类型"}},[n("a-select-option",{attrs:{value:"1"}},[e._v("国内订单")]),n("a-select-option",{attrs:{value:"2"}},[e._v("国际订单")])],1)],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"订单日期"}},[n("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["orderDate",{}],expression:"[ 'orderDate',{}]"}],attrs:{showTime:"",format:"YYYY-MM-DD HH:mm:ss"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"订单金额"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["orderMoney",{}],expression:"[ 'orderMoney', {}]"}],staticStyle:{width:"200px"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"订单备注"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["content",{}],expression:"['content', {}]"}],attrs:{placeholder:"请输入订单备注"}})],1)],1)],1)],1)},i=[],o=n("0fea"),a=n("2dab"),s=n("88bc"),l=n.n(s),c=n("c1df"),u=n.n(c);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p={name:"JeecgOrderDMainModal",components:{JDate:a["default"]},data:function(){return{title:"操作",visible:!1,orderMainModel:{jeecgOrderCustomerList:[{}],jeecgOrderTicketList:[{}]},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{},url:{add:"/test/order/add",edit:"/test/order/edit",orderCustomerList:"/test/order/listOrderCustomerByMainId",orderTicketList:"/test/order/listOrderTicketByMainId"}}},methods:{add:function(){this.edit({})},edit:function(e){var t=this;this.form.resetFields(),this.orderMainModel=Object.assign({},e),this.visible=!0,this.$nextTick((function(){t.form.setFieldsValue(l()(t.orderMainModel,"orderCode","ctype","orderMoney","content")),t.form.setFieldsValue({orderDate:t.orderMainModel.orderDate?u()(t.orderMainModel.orderDate):null})}))},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields((function(n,r){if(!n){t.confirmLoading=!0;var i="",a="";e.orderMainModel.id?(i+=e.url.edit,a="put"):(i+=e.url.add,a="post");var s=Object.assign(e.orderMainModel,r);s.orderDate=s.orderDate?s.orderDate.format("YYYY-MM-DD HH:mm:ss"):null;var l=f({},s);Object(o["h"])(i,l,a).then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}}))},handleCancel:function(){this.close()}}},m=p,g=(n("2456"),n("2877")),v=Object(g["a"])(m,r,i,!1,null,"f597bb6a",null);t["default"]=v.exports},ddf2:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-operator"},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("新增")]),n("a-button",{attrs:{type:"primary",icon:"download"},on:{click:function(t){return e.handleExportXls("分类字典")}}},[e._v("导出")]),n("a-upload",{attrs:{name:"file",showUploadList:!1,multiple:!1,headers:e.tokenHeader,action:e.importExcelUrl},on:{change:e.handleImportExcel}},[n("a-button",{attrs:{type:"primary",icon:"import"}},[e._v("导入")])],1),e.selectedRowKeys.length>0?n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:e.batchDel}},[n("a-icon",{attrs:{type:"delete"}}),e._v("删除")],1)],1),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v(" 批量操作 "),n("a-icon",{attrs:{type:"down"}})],1)],1):e._e()],1),n("div",[n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),e._v(" 已选择 "),n("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRowKeys.length))]),e._v("项\n      "),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])]),n("a-table",e._b({ref:"table",attrs:{size:"middle",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,expandedRowKeys:e.expandedRowKeys},on:{change:e.handleTableChange,expand:e.handleExpand},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete(r)}}},[n("a",[e._v("删除")])]),n("a-divider",{attrs:{type:"vertical"}}),n("a",{on:{click:function(t){return e.handleAddSub(r)}}},[e._v("添加下级")])],1)}}])},"a-table",e.tableProps,!1))],1),n("sysCategory-modal",{ref:"modalForm",on:{ok:e.modalFormOk}})],1)},i=[],o=n("a34a"),a=n.n(o),s=n("0fea"),l=n("b65a"),c=n("f1cf");function u(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=m(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function d(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(r,i)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){d(o,r,i,a,s,"next",e)}function s(e){d(o,r,i,a,s,"throw",e)}a(void 0)}))}}function h(e){return v(e)||g(e)||m(e)||p()}function p(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e,t){if(e){if("string"===typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}function g(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function v(e){if(Array.isArray(e))return b(e)}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y={name:"SysCategoryList",mixins:[l["a"]],components:{SysCategoryModal:c["default"]},data:function(){return{description:"分类字典管理页面",columns:[{title:"分类名称",align:"left",dataIndex:"name"},{title:"分类编码",align:"left",dataIndex:"code"},{title:"操作",dataIndex:"action",align:"center",scopedSlots:{customRender:"action"}}],url:{list:"/sys/category/rootList",childList:"/sys/category/childList",delete:"/sys/category/delete",deleteBatch:"/sys/category/deleteBatch",exportXlsUrl:"/sys/category/exportXls",importExcelUrl:"sys/category/importExcel"},expandedRowKeys:[],hasChildrenField:"hasChild",pidField:"pid",dictOptions:{},subExpandedKeys:[]}},computed:{importExcelUrl:function(){return"".concat(window._CONFIG["domianURL"],"/").concat(this.url.importExcelUrl)},tableProps:function(){var e=this;return{rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:function(t){return e.selectedRowKeys=t}}}}},methods:{loadData:function(e){var t=this;1==e&&(this.ipagination.current=1),this.loading=!0,this.expandedRowKeys=[];var n=this.getQueryParams();return new Promise((function(e){Object(s["c"])(t.url.list,n).then((function(n){if(n.success){var r=n.result;Number(r.total)>0?(t.ipagination.total=Number(r.total),t.dataSource=t.getDataByResult(n.result.records),e()):(t.ipagination.total=0,t.dataSource=[])}else t.$message.warning(n.message);t.loading=!1}))}))},getDataByResult:function(e){var t=this;return e.map((function(e){if("1"==e[t.hasChildrenField]){var n={id:e.id+"_loadChild",name:"loading...",isLoading:!0};e.children=[n]}return e}))},handleExpand:function(e,t){var n=this;if(e){if(this.expandedRowKeys.push(t.id),t.children.length>0&&!0===t.children[0].isLoading){var r=this.getQueryParams();r[this.pidField]=t.id,Object(s["c"])(this.url.childList,r).then((function(e){e.success?e.result&&e.result.length>0?(t.children=n.getDataByResult(e.result),n.dataSource=h(n.dataSource)):(t.children="",t.hasChildrenField="0"):n.$message.warning(e.message)}))}}else{var i=this.expandedRowKeys.indexOf(t.id);i>=0&&this.expandedRowKeys.splice(i,1)}},initDictConfig:function(){},modalFormOk:function(e,t){e.id?(this.editOk(e,this.dataSource),this.dataSource=h(this.dataSource)):this.addOk(e,t)},editOk:function(e,t){if(t&&t.length>0)for(var n=0;n<t.length;n++){if(t[n].id==e.id){t[n]=e;break}this.editOk(e,t[n].children)}},addOk:function(){var e=f(a.a.mark((function e(t,n){var r,i,o;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t[this.pidField]){e.next=4;break}this.loadData(),e.next=23;break;case 4:this.expandedRowKeys=[],r=u(n),e.prev=7,r.s();case 9:if((i=r.n()).done){e.next=15;break}return o=i.value,e.next=13,this.expandTreeNode(o);case 13:e.next=9;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](7),r.e(e.t0);case 20:return e.prev=20,r.f(),e.finish(20);case 23:case"end":return e.stop()}}),e,this,[[7,17,20,23]])})));function t(t,n){return e.apply(this,arguments)}return t}(),expandTreeNode:function(e){var t=this;return new Promise((function(n,r){t.getFormDataById(e,t.dataSource);var i=t.parentFormData;t.expandedRowKeys.push(e);var o=t.getQueryParams();o[t.pidField]=e,Object(s["c"])(t.url.childList,o).then((function(e){e.success?e.result&&e.result.length>0?(i.children=t.getDataByResult(e.result),t.dataSource=h(t.dataSource),n()):(i.children="",i.hasChildrenField="0",r()):r()}))}))},getFormDataById:function(e,t){if(t&&t.length>0)for(var n=0;n<t.length;n++)t[n].id==e?this.parentFormData=t[n]:this.getFormDataById(e,t[n].children)},handleAddSub:function(e){this.subExpandedKeys=[],this.getExpandKeysByPid(e.id,this.dataSource,this.dataSource),this.$refs.modalForm.subExpandedKeys=this.subExpandedKeys,this.$refs.modalForm.title="添加子分类",this.$refs.modalForm.edit({pid:e.id}),this.$refs.modalForm.disableSubmit=!1},handleDelete:function(e){var t=this,n=this;Object(s["a"])(n.url.delete,{id:e.id}).then((function(r){if(r.success)if(e.pid&&"0"!=e.pid){var i={pid:e.pid};n.$message.success(r.message),n.subExpandedKeys=[],n.getExpandKeysByPid(e.pid,t.dataSource,t.dataSource),n.addOk(i,t.subExpandedKeys.reverse())}else n.loadData();else n.$message.warning(r.message)}))},getExpandKeysByPid:function(e,t,n){if(e&&t&&t.length>0)for(var r=0;r<t.length;r++)t[r].id==e?(this.subExpandedKeys.push(t[r].id),this.getExpandKeysByPid(t[r]["pid"],n,n)):this.getExpandKeysByPid(e,t[r].children,n)}}},C=y,w=(n("1a5e"),n("2877")),x=Object(w["a"])(C,r,i,!1,null,"40547fd4",null);t["default"]=x.exports},ddf9:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{staticStyle:{top:"20px"},attrs:{title:"重新设定密码",width:800,visible:e.visible,confirmLoading:e.confirmLoading,cancelText:"关闭"},on:{ok:e.handleSubmit,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{label:"用户账号",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["username",{}],expression:"[ 'username', {}]"}],attrs:{placeholder:"请输入用户账号",readOnly:!0}})],1),n("a-form-item",{attrs:{label:"登陆密码",labelCol:e.labelCol,wrapperCol:e.wrapperCol,hasFeedback:""}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",e.validatorRules.password],expression:"[ 'password', validatorRules.password]"}],attrs:{type:"password",placeholder:"请输入登陆密码"}})],1),n("a-form-item",{attrs:{label:"确认密码",labelCol:e.labelCol,wrapperCol:e.wrapperCol,hasFeedback:""}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["confirmpassword",e.validatorRules.confirmpassword],expression:"[ 'confirmpassword', validatorRules.confirmpassword]"}],attrs:{type:"password",placeholder:"请重新输入登陆密码"},on:{blur:e.handleConfirmBlur}})],1)],1)],1)],1)},i=[],o=n("4ec3"),a={name:"PasswordModal",data:function(){return{visible:!1,confirmLoading:!1,confirmDirty:!1,validatorRules:{password:{rules:[{required:!0,pattern:/^(?=.*[a-zA-Z])(?=.*\d)(?=.*[~!@#$%^&*()_+`\-={}:";'<>?,./]).{8,}$/,message:"密码由8位数字、大小写字母和特殊符号组成!"},{validator:this.validateToNextPassword}]},confirmpassword:{rules:[{required:!0,message:"请重新输入登陆密码!"},{validator:this.compareToFirstPassword}]}},model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},form:this.$form.createForm(this)}},created:function(){},methods:{show:function(e){var t=this;this.form.resetFields(),this.visible=!0,this.model.username=e,this.$nextTick((function(){t.form.setFieldsValue({username:e})}))},close:function(){this.$emit("close"),this.visible=!1,this.disableSubmit=!1,this.selectedRole=[]},handleSubmit:function(){var e=this;this.form.validateFields((function(t,n){if(!t){e.confirmLoading=!0;var r=Object.assign(e.model,n);Object(o["g"])(r).then((function(t){t.success?(e.$message.success(t.message),e.$emit("ok")):e.$message.warning(t.message)})).finally((function(){e.confirmLoading=!1,e.close()}))}}))},handleCancel:function(){this.close()},validateToNextPassword:function(e,t,n){var r=this.form,i=r.getFieldValue("confirmpassword");t&&i&&t!==i&&n("两次输入的密码不一样！"),t&&this.confirmDirty&&r.validateFields(["confirm"],{force:!0}),n()},compareToFirstPassword:function(e,t,n){var r=this.form;t&&t!==r.getFieldValue("password")?n("两次输入的密码不一样！"):n()},handleConfirmBlur:function(e){var t=e.target.value;this.confirmDirty=this.confirmDirty||!!t}}},s=a,l=n("2877"),c=Object(l["a"])(s,r,i,!1,null,null,null);t["default"]=c.exports},df34:function(e,t,n){},df55:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("page-layout",{attrs:{title:e.title}},[n("a-card",{attrs:{bordered:!1}},[n("detail-list",{attrs:{title:"退款申请"}},[n("detail-list-item",{attrs:{term:"取货单号"}},[e._v("1000000000")]),n("detail-list-item",{attrs:{term:"状态"}},[e._v("已取货")]),n("detail-list-item",{attrs:{term:"销售单号"}},[e._v("1234123421")]),n("detail-list-item",{attrs:{term:"子订单"}},[e._v("3214321432")])],1),n("a-divider",{staticStyle:{"margin-bottom":"32px"}}),n("detail-list",{attrs:{title:"用户信息"}},[n("detail-list-item",{attrs:{term:"用户姓名"}},[e._v("付小小")]),n("detail-list-item",{attrs:{term:"联系电话"}},[e._v("18100000000")]),n("detail-list-item",{attrs:{term:"常用快递"}},[e._v("菜鸟仓储")]),n("detail-list-item",{attrs:{term:"取货地址"}},[e._v("浙江省杭州市西湖区万塘路18号")]),n("detail-list-item",{attrs:{term:"备注"}},[e._v("\t无")])],1),n("a-divider",{staticStyle:{"margin-bottom":"32px"}}),n("div",{staticClass:"title"},[e._v("退货商品")]),n("s-table",{staticStyle:{"margin-bottom":"24px"},attrs:{columns:e.goodsColumns,data:e.loadGoodsData}}),n("div",{staticClass:"title"},[e._v("退货进度")]),n("s-table",{staticStyle:{"margin-bottom":"24px"},attrs:{columns:e.scheduleColumns,data:e.loadScheduleData},scopedSlots:e._u([{key:"status",fn:function(t){return[n("a-badge",{attrs:{status:t,text:e._f("statusFilter")(t)}})]}}])})],1)],1)},i=[],o=n("b445"),a=n("e8c4"),s=n("c16f"),l=n("2985"),c=s["default"].Item,u={components:{PageLayout:o["default"],ABadge:l["a"],DetailList:s["default"],DetailListItem:c,STable:a["a"]},data:function(){return{goodsColumns:[{title:"商品编号",dataIndex:"id",key:"id"},{title:"商品名称",dataIndex:"name",key:"name"},{title:"商品条码",dataIndex:"barcode",key:"barcode"},{title:"单价",dataIndex:"price",key:"price",align:"right"},{title:"数量（件）",dataIndex:"num",key:"num",align:"right"},{title:"金额",dataIndex:"amount",key:"amount",align:"right"}],loadGoodsData:function(){return new Promise((function(e){e({data:[{id:"1234561",name:"矿泉水 550ml",barcode:"12421432143214321",price:"2.00",num:"1",amount:"2.00"},{id:"1234562",name:"凉茶 300ml",barcode:"12421432143214322",price:"3.00",num:"2",amount:"6.00"},{id:"1234563",name:"好吃的薯片",barcode:"12421432143214323",price:"7.00",num:"4",amount:"28.00"},{id:"1234564",name:"特别好吃的蛋卷",barcode:"12421432143214324",price:"8.50",num:"3",amount:"25.50"}],pageSize:10,pageNo:1,totalPage:1,totalCount:10})})).then((function(e){return e}))},scheduleColumns:[{title:"时间",dataIndex:"time",key:"time"},{title:"当前进度",dataIndex:"rate",key:"rate"},{title:"状态",dataIndex:"status",key:"status",scopedSlots:{customRender:"status"}},{title:"操作员ID",dataIndex:"operator",key:"operator"},{title:"耗时",dataIndex:"cost",key:"cost"}],loadScheduleData:function(){return new Promise((function(e){e({data:[{key:"1",time:"2017-10-01 14:10",rate:"联系客户",status:"processing",operator:"取货员 ID1234",cost:"5mins"},{key:"2",time:"2017-10-01 14:05",rate:"取货员出发",status:"success",operator:"取货员 ID1234",cost:"1h"},{key:"3",time:"2017-10-01 13:05",rate:"取货员接单",status:"success",operator:"取货员 ID1234",cost:"5mins"},{key:"4",time:"2017-10-01 13:00",rate:"申请审批通过",status:"success",operator:"系统",cost:"1h"},{key:"5",time:"2017-10-01 12:00",rate:"发起退货申请",status:"success",operator:"用户",cost:"5mins"}],pageSize:10,pageNo:1,totalPage:1,totalCount:10})})).then((function(e){return e}))}}},filters:{statusFilter:function(e){var t={processing:"进行中",success:"完成",failed:"失败"};return t[e]}},computed:{title:function(){return this.$route.meta.title}}},d=u,f=(n("8d85"),n("2877")),h=Object(f["a"])(d,r,i,!1,null,"01e90395",null);t["default"]=h.exports},e044:function(e,t,n){"use strict";var r=n("0d93"),i=n.n(r);i.a},e06f:function(e,t,n){},e09c:function(e,t,n){"use strict";var r=n("1011"),i=n.n(r);i.a},e1de:function(e,t,n){(function(e){e(n("56b3"),n("76ae"),n("eb0c"))})((function(e){"use strict";e.defineSimpleMode("handlebars-tags",{start:[{regex:/\{\{\{/,push:"handlebars_raw",token:"tag"},{regex:/\{\{!--/,push:"dash_comment",token:"comment"},{regex:/\{\{!/,push:"comment",token:"comment"},{regex:/\{\{/,push:"handlebars",token:"tag"}],handlebars_raw:[{regex:/\}\}\}/,pop:!0,token:"tag"}],handlebars:[{regex:/\}\}/,pop:!0,token:"tag"},{regex:/"(?:[^\\"]|\\.)*"?/,token:"string"},{regex:/'(?:[^\\']|\\.)*'?/,token:"string"},{regex:/>|[#\/]([A-Za-z_]\w*)/,token:"keyword"},{regex:/(?:else|this)\b/,token:"keyword"},{regex:/\d+/i,token:"number"},{regex:/=|~|@|true|false/,token:"atom"},{regex:/(?:\.\.\/)*(?:[A-Za-z_][\w\.]*)+/,token:"variable-2"}],dash_comment:[{regex:/--\}\}/,pop:!0,token:"comment"},{regex:/./,token:"comment"}],comment:[{regex:/\}\}/,pop:!0,token:"comment"},{regex:/./,token:"comment"}],meta:{blockCommentStart:"{{--",blockCommentEnd:"--}}"}}),e.defineMode("handlebars",(function(t,n){var r=e.getMode(t,"handlebars-tags");return n&&n.base?e.multiplexingMode(e.getMode(t,n.base),{open:"{{",close:/\}\}\}?/,mode:r,parseDelimiters:!0}):r})),e.defineMIME("text/x-handlebars-template","handlebars")}))},e236:function(e,t,n){},e326:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{visible:e.visible}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"机构名称"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["departName",{}],expression:"['departName', {}]"}],staticStyle:{border:"0px"},attrs:{placeholder:""}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"上级部门"}},[n("a-tree-select",{staticStyle:{width:"100%",border:"none",outline:"none"},attrs:{disabled:"",dropdownStyle:{maxHeight:"200px",overflow:"auto"},treeData:e.treeData,placeholder:"无"},model:{value:e.model.parentId,callback:function(t){e.$set(e.model,"parentId",t)},expression:"model.parentId"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"机构编码"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["orgCode",{}],expression:"['orgCode', {}]"}],staticStyle:{border:"0px"},attrs:{placeholder:""}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"机构类型"}},[n("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["orgCategory",{}],expression:"['orgCategory',{}]"}],attrs:{disabled:!0,placeholder:"请选择机构类型"}},[n("a-radio",{attrs:{value:"1"}},[e._v("\n            公司\n          ")]),n("a-radio",{attrs:{value:"2"}},[e._v("\n            部门\n          ")]),n("a-radio",{attrs:{value:"3"}},[e._v("\n            岗位\n          ")])],1)],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"排序"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["departOrder",{}],expression:"[ 'departOrder',{}]"}],staticStyle:{border:"0px"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"手机号"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["mobile",{}],expression:"['mobile', {}]"}],staticStyle:{border:"0px"},attrs:{placeholder:""}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"地址"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["address",{}],expression:"['address', {}]"}],staticStyle:{border:"0px"},attrs:{placeholder:""}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"备注"}},[n("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["memo",{}],expression:"['memo', {}]"}],staticStyle:{border:"0px"},attrs:{placeholder:""}})],1)],1)],1)},i=[],o=n("88bc"),a=n.n(o),s=n("4ec3"),l={name:"DeptBaseInfo",components:{},data:function(){return{departTree:[],id:"",model:{},visible:!1,disable:!0,treeData:[],form:this.$form.createForm(this),labelCol:{xs:{span:24},sm:{span:3}},wrapperCol:{xs:{span:24},sm:{span:16}}}},created:function(){this.loadTreeData()},methods:{loadTreeData:function(){var e=this;Object(s["F"])().then((function(t){if(t.success)for(var n=0;n<t.result.length;n++){var r=t.result[n];e.treeData.push(r)}}))},open:function(e){var t=this;this.form.resetFields(),this.model=Object.assign({},e),this.visible=!0,this.$nextTick((function(){t.form.setFieldsValue(a()(e,"orgCategory","departName","parentId","orgCode","departOrder","mobile","fax","address","memo"))}))},clearForm:function(){this.form.resetFields(),this.treeData=[]}}},c=l,u=(n("d28b"),n("2877")),d=Object(u["a"])(c,r,i,!1,null,"08f3ab94",null);t["default"]=d.exports},e409:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("exception-page",{attrs:{type:"403"}})},i=[],o=n("0673"),a={components:{ExceptionPage:o["default"]}},s=a,l=n("2877"),c=Object(l["a"])(s,r,i,!1,null,"c4dfb462",null);t["default"]=c.exports},e431:function(e,t,n){"use strict";var r=n("50d8f"),i=n.n(r);i.a},e562:function(e,t,n){(function(t){(function(n){"use strict";var r=function(e){if(null===e)return"null";if(void 0===e)return"undefined";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},i=function(e){return-1!==["undefined","boolean","number","string","function","xml","null"].indexOf(e)},o=function(e,t){var n=Array.prototype.slice.call(e);return n.sort(t)},a=function(e,t){return s((function(n,r){return e.eq(t(n),t(r))}))},s=function(e){return{eq:e}},l=s((function(e,t){return e===t})),c=l,u=function(e){return s((function(t,n){if(t.length!==n.length)return!1;for(var r=t.length,i=0;i<r;i++)if(!e.eq(t[i],n[i]))return!1;return!0}))},d=function(e,t){return a(u(e),(function(e){return o(e,t)}))},f=function(e){return s((function(t,n){var r=Object.keys(t),i=Object.keys(n);if(!d(c).eq(r,i))return!1;for(var o=r.length,a=0;a<o;a++){var s=r[a];if(!e.eq(t[s],n[s]))return!1}return!0}))},h=s((function(e,t){if(e===t)return!0;var n=r(e),o=r(t);return n===o&&(i(n)?e===t:"array"===n?u(h).eq(e,t):"object"===n&&f(h).eq(e,t))})),p=function(){},m=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e(t.apply(null,n))}},g=function(e,t){return function(n){return e(t(n))}},v=function(e){return function(){return e}},b=function(e){return e};function y(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.concat(n);return e.apply(null,i)}}var C=function(e){return function(t){return!e(t)}},w=function(e){return function(){throw new Error(e)}},x=v(!1),I=v(!0),A=function(){return k},k=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e},r={fold:function(e,t){return e()},is:x,isSome:x,isNone:I,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:v(null),getOrUndefined:v(void 0),or:n,orThunk:t,map:A,each:p,bind:A,exists:x,forall:I,filter:A,equals:e,equals_:e,toArray:function(){return[]},toString:v("none()")};return r}(),S=function(e){var t=v(e),n=function(){return i},r=function(t){return t(e)},i={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:I,isNone:x,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return S(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?i:k},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(x,(function(t){return n(e,t)}))}};return i},_=function(e){return null===e||void 0===e?k:S(e)},T={some:S,none:A,from:_},E=function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},O=function(e){return function(t){return E(t)===e}},R=function(e){return function(t){return typeof t===e}},N=function(e){return function(t){return e===t}},L=O("string"),D=O("object"),B=O("array"),M=N(null),P=R("boolean"),F=N(void 0),j=R("function"),H=R("number"),z=Array.prototype.slice,$=Array.prototype.indexOf,V=Array.prototype.push,W=function(e,t){return $.call(e,t)},K=function(e,t){var n=W(e,t);return-1===n?T.none():T.some(n)},G=function(e,t){return W(e,t)>-1},Z=function(e,t){for(var n=0,r=e.length;n<r;n++){var i=e[n];if(t(i,n))return!0}return!1},U=function(e,t){for(var n=e.length,r=new Array(n),i=0;i<n;i++){var o=e[i];r[i]=t(o,i)}return r},q=function(e,t){for(var n=0,r=e.length;n<r;n++){var i=e[n];t(i,n)}},X=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];t(r,n)}},Y=function(e,t){for(var n=[],r=[],i=0,o=e.length;i<o;i++){var a=e[i],s=t(a,i)?n:r;s.push(a)}return{pass:n,fail:r}},J=function(e,t){for(var n=[],r=0,i=e.length;r<i;r++){var o=e[r];t(o,r)&&n.push(o)}return n},Q=function(e,t,n){return X(e,(function(e){n=t(n,e)})),n},ee=function(e,t,n){return q(e,(function(e){n=t(n,e)})),n},te=function(e,t,n){for(var r=0,i=e.length;r<i;r++){var o=e[r];if(t(o,r))return T.some(o);if(n(o,r))break}return T.none()},ne=function(e,t){return te(e,t,x)},re=function(e,t){for(var n=0,r=e.length;n<r;n++){var i=e[n];if(t(i,n))return T.some(n)}return T.none()},ie=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!B(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);V.apply(t,e[n])}return t},oe=function(e,t){return ie(U(e,t))},ae=function(e,t){for(var n=0,r=e.length;n<r;++n){var i=e[n];if(!0!==t(i,n))return!1}return!0},se=function(e){var t=z.call(e,0);return t.reverse(),t},le=function(e,t){return J(e,(function(e){return!G(t,e)}))},ce=function(e,t){for(var n={},r=0,i=e.length;r<i;r++){var o=e[r];n[String(o)]=t(o,r)}return n},ue=function(e,t){var n=z.call(e,0);return n.sort(t),n},de=function(e){return 0===e.length?T.none():T.some(e[0])},fe=function(e){return 0===e.length?T.none():T.some(e[e.length-1])},he=j(Array.from)?Array.from:function(e){return z.call(e)},pe=Object.keys,me=Object.hasOwnProperty,ge=function(e,t){for(var n=pe(e),r=0,i=n.length;r<i;r++){var o=n[r],a=e[o];t(a,o)}},ve=function(e,t){return be(e,(function(e,n){return{k:n,v:t(e,n)}}))},be=function(e,t){var n={};return ge(e,(function(e,r){var i=t(e,r);n[i.k]=i.v})),n},ye=function(e){return function(t,n){e[n]=t}},Ce=function(e,t,n,r){var i={};return ge(e,(function(e,i){(t(e,i)?n:r)(e,i)})),i},we=function(e,t){var n={},r={};return Ce(e,t,ye(n),ye(r)),{t:n,f:r}},xe=function(e,t){var n={};return Ce(e,t,ye(n),p),n},Ie=function(e,t){var n=[];return ge(e,(function(e,r){n.push(t(e,r))})),n},Ae=function(e){return Ie(e,(function(e){return e}))},ke=function(e,t){return Se(e,t)?T.from(e[t]):T.none()},Se=function(e,t){return me.call(e,t)},_e=function(e,t,n){return void 0===n&&(n=h),f(n).eq(e,t)},Te=Array.isArray,Ee=function(e){var t,n,r=e;if(!Te(e))for(r=[],t=0,n=e.length;t<n;t++)r[t]=e[t];return r},Oe=function(e,t,n){var r,i;if(!e)return 0;if(n=n||e,void 0!==e.length){for(r=0,i=e.length;r<i;r++)if(!1===t.call(n,e[r],r,e))return 0}else for(r in e)if(e.hasOwnProperty(r)&&!1===t.call(n,e[r],r,e))return 0;return 1},Re=function(e,t){var n=[];return Oe(e,(function(r,i){n.push(t(r,i,e))})),n},Ne=function(e,t){var n=[];return Oe(e,(function(r,i){t&&!t(r,i,e)||n.push(r)})),n},Le=function(e,t){var n,r;if(e)for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},De=function(e,t,n,r){var i=0;for(arguments.length<3&&(n=e[0]);i<e.length;i++)n=t.call(r,n,e[i],i);return n},Be=function(e,t,n){var r,i;for(r=0,i=e.length;r<i;r++)if(t.call(n,e[r],r,e))return r;return-1},Me=function(e){return e[e.length-1]},Pe=function(){return Pe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Pe.apply(this,arguments)};function Fe(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function je(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var He=function(e){var t,n=!1;return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return n||(n=!0,t=e.apply(null,r)),t}},ze=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}},$e=function(e,t){var n=ze(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return Ke(r(1),r(2))},Ve=function(e,t){var n=String(t).toLowerCase();return 0===e.length?We():$e(e,n)},We=function(){return Ke(0,0)},Ke=function(e,t){return{major:e,minor:t}},Ge={nu:Ke,detect:Ve,unknown:We},Ze="Edge",Ue="Chrome",qe="IE",Xe="Opera",Ye="Firefox",Je="Safari",Qe=function(){return et({current:void 0,version:Ge.unknown()})},et=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isEdge:r(Ze),isChrome:r(Ue),isIE:r(qe),isOpera:r(Xe),isFirefox:r(Ye),isSafari:r(Je)}},tt={unknown:Qe,nu:et,edge:v(Ze),chrome:v(Ue),ie:v(qe),opera:v(Xe),firefox:v(Ye),safari:v(Je)},nt="Windows",rt="iOS",it="Android",ot="Linux",at="OSX",st="Solaris",lt="FreeBSD",ct="ChromeOS",ut=function(){return dt({current:void 0,version:Ge.unknown()})},dt=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isWindows:r(nt),isiOS:r(rt),isAndroid:r(it),isOSX:r(at),isLinux:r(ot),isSolaris:r(st),isFreeBSD:r(lt),isChromeOS:r(ct)}},ft={unknown:ut,nu:dt,windows:v(nt),ios:v(rt),android:v(it),linux:v(ot),osx:v(at),solaris:v(st),freebsd:v(lt),chromeos:v(ct)},ht=function(e,t,n,r){var i=e.isiOS()&&!0===/ipad/i.test(n),o=e.isiOS()&&!i,a=e.isiOS()||e.isAndroid(),s=a||r("(pointer:coarse)"),l=i||!o&&a&&r("(min-device-width:768px)"),c=o||a&&!l,u=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),d=!c&&!l&&!u;return{isiPad:v(i),isiPhone:v(o),isTablet:v(l),isPhone:v(c),isTouch:v(s),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:v(u),isDesktop:v(d)}},pt=function(e,t){var n=String(t).toLowerCase();return ne(e,(function(e){return e.search(n)}))},mt=function(e,t){return pt(e,t).map((function(e){var n=Ge.detect(e.versionRegexes,t);return{current:e.name,version:n}}))},gt=function(e,t){return pt(e,t).map((function(e){var n=Ge.detect(e.versionRegexes,t);return{current:e.name,version:n}}))},vt={detectBrowser:mt,detectOs:gt},bt=function(e,t,n){return""===t||e.length>=t.length&&e.substr(n,n+t.length)===t},yt=function(e,t){return-1!==e.indexOf(t)},Ct=function(e,t){return bt(e,t,0)},wt=function(e){return function(t){return t.replace(e,"")}},xt=wt(/^\s+|\s+$/g),It=wt(/^\s+/g),At=wt(/\s+$/g),kt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,St=function(e){return function(t){return yt(t,e)}},_t=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return yt(e,"edge/")&&yt(e,"chrome")&&yt(e,"safari")&&yt(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,kt],search:function(e){return yt(e,"chrome")&&!yt(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return yt(e,"msie")||yt(e,"trident")}},{name:"Opera",versionRegexes:[kt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:St("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:St("firefox")},{name:"Safari",versionRegexes:[kt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(yt(e,"safari")||yt(e,"mobile/"))&&yt(e,"applewebkit")}}],Tt=[{name:"Windows",search:St("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return yt(e,"iphone")||yt(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:St("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:St("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:St("linux"),versionRegexes:[]},{name:"Solaris",search:St("sunos"),versionRegexes:[]},{name:"FreeBSD",search:St("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:St("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Et={browsers:v(_t),oses:v(Tt)},Ot=function(e,t){var n=Et.browsers(),r=Et.oses(),i=vt.detectBrowser(n,e).fold(tt.unknown,tt.nu),o=vt.detectOs(r,e).fold(ft.unknown,ft.nu),a=ht(o,i,e,t);return{browser:i,os:o,deviceType:a}},Rt={detect:Ot},Nt=function(e){return n.window.matchMedia(e).matches},Lt=He((function(){return Rt.detect(n.navigator.userAgent,Nt)})),Dt=function(){return Lt()},Bt=n.navigator.userAgent,Mt=Dt(),Pt=Mt.browser,Ft=Mt.os,jt=Mt.deviceType,Ht=/WebKit/.test(Bt)&&!Pt.isEdge(),zt="FormData"in n.window&&"FileReader"in n.window&&"URL"in n.window&&!!n.URL.createObjectURL,$t=-1!==Bt.indexOf("Windows Phone"),Vt={opera:Pt.isOpera(),webkit:Ht,ie:!(!Pt.isIE()&&!Pt.isEdge())&&Pt.version.major,gecko:Pt.isFirefox(),mac:Ft.isOSX()||Ft.isiOS(),iOS:jt.isiPad()||jt.isiPhone(),android:Ft.isAndroid(),contentEditable:!0,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:!0,range:n.window.getSelection&&"Range"in n.window,documentMode:Pt.isIE()?n.document.documentMode||7:10,fileApi:zt,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!Pt.isIE(),desktop:jt.isDesktop(),windowsPhone:$t,browser:{current:Pt.current,version:Pt.version,isChrome:Pt.isChrome,isEdge:Pt.isEdge,isFirefox:Pt.isFirefox,isIE:Pt.isIE,isOpera:Pt.isOpera,isSafari:Pt.isSafari},os:{current:Ft.current,version:Ft.version,isAndroid:Ft.isAndroid,isChromeOS:Ft.isChromeOS,isFreeBSD:Ft.isFreeBSD,isiOS:Ft.isiOS,isLinux:Ft.isLinux,isOSX:Ft.isOSX,isSolaris:Ft.isSolaris,isWindows:Ft.isWindows},deviceType:{isDesktop:jt.isDesktop,isiPad:jt.isiPad,isiPhone:jt.isiPhone,isPhone:jt.isPhone,isTablet:jt.isTablet,isTouch:jt.isTouch,isWebView:jt.isWebView}},Wt=/^\s*|\s*$/g,Kt=function(e){return null===e||void 0===e?"":(""+e).replace(Wt,"")},Gt=function(e,t){return t?!("array"!==t||!Te(e))||typeof e===t:void 0!==e},Zt=function(e,t,n){var r;e=e||[],t=t||",","string"===typeof e&&(e=e.split(t)),n=n||{},r=e.length;while(r--)n[e[r]]={};return n},Ut=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},qt=function(e,t,n){var r,i,o,a=this,s=0;e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e);var l=e[3].match(/(^|\.)(\w+)$/i)[2],c=a.createNS(e[3].replace(/\.\w+$/,""),n);if(!c[l]){if("static"===e[2])return c[l]=t,void(this.onCreate&&this.onCreate(e[2],e[3],c[l]));t[l]||(t[l]=function(){},s=1),c[l]=t[l],a.extend(c[l].prototype,t),e[5]&&(r=a.resolve(e[5]).prototype,i=e[5].match(/\.(\w+)$/i)[1],o=c[l],c[l]=s?function(){return r[i].apply(this,arguments)}:function(){return this.parent=r[i],o.apply(this,arguments)},c[l].prototype[l]=c[l],a.each(r,(function(e,t){c[l].prototype[t]=r[t]})),a.each(t,(function(e,t){r[t]?c[l].prototype[t]=function(){return this.parent=r[t],e.apply(this,arguments)}:t!==l&&(c[l].prototype[t]=e)}))),a.each(t.static,(function(e,t){c[l][t]=e}))}},Xt=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++){var i=t[r];for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];void 0!==a&&(e[o]=a)}}return e},Yt=function(e,t,n,r){r=r||this,e&&(n&&(e=e[n]),Oe(e,(function(e,i){if(!1===t.call(r,e,i,n))return!1;Yt(e,t,n,r)})))},Jt=function(e,t){var r,i;for(t=t||n.window,e=e.split("."),r=0;r<e.length;r++)i=e[r],t[i]||(t[i]={}),t=t[i];return t},Qt=function(e,t){var r,i;for(t=t||n.window,e=e.split("."),r=0,i=e.length;r<i;r++)if(t=t[e[r]],!t)break;return t},en=function(e,t){return!e||Gt(e,"array")?e:Re(e.split(t||","),Kt)},tn=function(e){var t=Vt.cacheSuffix;return t&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e},nn={trim:Kt,isArray:Te,is:Gt,toArray:Ee,makeMap:Zt,each:Oe,map:Re,grep:Ne,inArray:Le,hasOwn:Ut,extend:Xt,create:qt,walk:Yt,createNS:Jt,resolve:Qt,explode:en,_addCacheSuffix:tn},rn=function(e,t){var r=t||n.document,i=r.createElement("div");if(i.innerHTML=e,!i.hasChildNodes()||i.childNodes.length>1)throw n.console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return sn(i.childNodes[0])},on=function(e,t){var r=t||n.document,i=r.createElement(e);return sn(i)},an=function(e,t){var r=t||n.document,i=r.createTextNode(e);return sn(i)},sn=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:v(e)}},ln=function(e,t,n){var r=e.dom();return T.from(r.elementFromPoint(t,n)).map(sn)},cn={fromHtml:rn,fromTag:on,fromText:an,fromDom:sn,fromPoint:ln},un=("undefined"!==typeof n.window?n.window:Function("return this;")(),8),dn=9,fn=11,hn=1,pn=3,mn=function(e){var t=e.dom().nodeName;return t.toLowerCase()},gn=function(e){return e.dom().nodeType},vn=function(e){return function(t){return gn(t)===e}},bn=function(e){return gn(e)===un||"#comment"===mn(e)},yn=vn(hn),Cn=vn(pn),wn=vn(dn),xn=vn(fn),In=function(e){var t=e.dom().head;if(null===t||void 0===t)throw new Error("Head is not available yet");return cn.fromDom(t)},An=function(e,t){var n=[],r=function(e){return n.push(e),t(e)},i=t(e);do{i=i.bind(r)}while(i.isSome());return n},kn=function(e,t,n){return 0!==(e.compareDocumentPosition(t)&n)},Sn=function(e,t){return kn(e,t,n.Node.DOCUMENT_POSITION_CONTAINED_BY)},_n=function(e,t){var n=e.dom();if(n.nodeType!==hn)return!1;var r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},Tn=function(e){return e.nodeType!==hn&&e.nodeType!==dn&&e.nodeType!==fn||0===e.childElementCount},En=function(e,t){var r=void 0===t?n.document:t.dom();return Tn(r)?[]:U(r.querySelectorAll(e),cn.fromDom)},On=function(e,t){var r=void 0===t?n.document:t.dom();return Tn(r)?T.none():T.from(r.querySelector(e)).map(cn.fromDom)},Rn=function(e,t){return e.dom()===t.dom()},Nn=function(e,t){var n=e.dom(),r=t.dom();return n!==r&&n.contains(r)},Ln=function(e,t){return Sn(e.dom(),t.dom())},Dn=function(e,t){return Dt().browser.isIE()?Ln(e,t):Nn(e,t)},Bn=function(e){return cn.fromDom(e.dom().ownerDocument)},Mn=function(e){return wn(e)?e:Bn(e)},Pn=function(e){return cn.fromDom(e.dom().ownerDocument.documentElement)},Fn=function(e){return cn.fromDom(e.dom().ownerDocument.defaultView)},jn=function(e){return T.from(e.dom().parentNode).map(cn.fromDom)},Hn=function(e,t){var n=j(t)?t:x,r=e.dom(),i=[];while(null!==r.parentNode&&void 0!==r.parentNode){var o=r.parentNode,a=cn.fromDom(o);if(i.push(a),!0===n(a))break;r=o}return i},zn=function(e){var t=function(t){return J(t,(function(t){return!Rn(e,t)}))};return jn(e).map(Gn).map(t).getOr([])},$n=function(e){return T.from(e.dom().previousSibling).map(cn.fromDom)},Vn=function(e){return T.from(e.dom().nextSibling).map(cn.fromDom)},Wn=function(e){return se(An(e,$n))},Kn=function(e){return An(e,Vn)},Gn=function(e){return U(e.dom().childNodes,cn.fromDom)},Zn=function(e,t){var n=e.dom().childNodes;return T.from(n[t]).map(cn.fromDom)},Un=function(e){return Zn(e,0)},qn=function(e){return Zn(e,e.dom().childNodes.length-1)},Xn=function(e){return e.dom().childNodes.length},Yn=function(e){return xn(e)},Jn=j(n.Element.prototype.attachShadow)&&j(n.Node.prototype.getRootNode),Qn=Jn?function(e){return cn.fromDom(e.dom().getRootNode())}:Mn,er=function(e){return Yn(e)?e:In(Mn(e))},tr=function(e){var t=Qn(e);return Yn(t)?T.some(t):T.none()},nr=function(e){return cn.fromDom(e.dom().host)},rr=function(e,t){var n=jn(e);n.each((function(n){n.dom().insertBefore(t.dom(),e.dom())}))},ir=function(e,t){var n=Vn(e);n.fold((function(){var n=jn(e);n.each((function(e){ar(e,t)}))}),(function(e){rr(e,t)}))},or=function(e,t){var n=Un(e);n.fold((function(){ar(e,t)}),(function(n){e.dom().insertBefore(t.dom(),n.dom())}))},ar=function(e,t){e.dom().appendChild(t.dom())},sr=function(e,t){rr(e,t),ar(t,e)},lr=function(e,t){q(t,(function(t){rr(e,t)}))},cr=function(e,t){q(t,(function(t){ar(e,t)}))},ur=function(e){e.dom().textContent="",q(Gn(e),(function(e){dr(e)}))},dr=function(e){var t=e.dom();null!==t.parentNode&&t.parentNode.removeChild(t)},fr=function(e){var t=Gn(e);t.length>0&&lr(e,t),dr(e)},hr=function(e){var t=Cn(e)?e.dom().parentNode:e.dom();return void 0!==t&&null!==t&&null!==t.ownerDocument&&tr(cn.fromDom(t)).fold((function(){return t.ownerDocument.body.contains(t)}),g(hr,nr))},pr=function(e,t){var n=function(n,r){return pr(e+n,t+r)};return{left:v(e),top:v(t),translate:n}},mr=pr,gr=function(e){var t=e.getBoundingClientRect();return mr(t.left,t.top)},vr=function(e,t){return void 0!==e?e:void 0!==t?t:0},br=function(e){var t=e.dom().ownerDocument,n=t.body,r=t.defaultView,i=t.documentElement;if(n===e.dom())return mr(n.offsetLeft,n.offsetTop);var o=vr(r.pageYOffset,i.scrollTop),a=vr(r.pageXOffset,i.scrollLeft),s=vr(i.clientTop,n.clientTop),l=vr(i.clientLeft,n.clientLeft);return yr(e).translate(a-l,o-s)},yr=function(e){var t=e.dom(),n=t.ownerDocument,r=n.body;return r===t?mr(r.offsetLeft,r.offsetTop):hr(e)?gr(t):mr(0,0)},Cr=function(e){var t=void 0!==e?e.dom():n.document,r=t.body.scrollLeft||t.documentElement.scrollLeft,i=t.body.scrollTop||t.documentElement.scrollTop;return mr(r,i)},wr=function(e,t,r){var i=void 0!==r?r.dom():n.document,o=i.defaultView;o.scrollTo(e,t)},xr=function(e,t){var n=Dt().browser.isSafari();n&&j(e.dom().scrollIntoViewIfNeeded)?e.dom().scrollIntoViewIfNeeded(!1):e.dom().scrollIntoView(t)},Ir=function(e){var t=void 0===e?n.window:e;return T.from(t["visualViewport"])},Ar=function(e,t,n,r){return{x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}},kr=function(e){var t=void 0===e?n.window:e,r=t.document,i=Cr(cn.fromDom(r));return Ir(t).fold((function(){var e=t.document.documentElement,n=e.clientWidth,r=e.clientHeight;return Ar(i.left(),i.top(),n,r)}),(function(e){return Ar(Math.max(e.pageLeft,i.left()),Math.max(e.pageTop,i.top()),e.width,e.height)}))},Sr=function(e){return function(t){return!!t&&t.nodeType===e}},_r=function(e){return!!e&&!Object.getPrototypeOf(e)},Tr=Sr(1),Er=function(e){var t=e.map((function(e){return e.toLowerCase()}));return function(e){if(e&&e.nodeName){var n=e.nodeName.toLowerCase();return G(t,n)}return!1}},Or=function(e,t){var n=t.toLowerCase().split(" ");return function(t){var r,i;if(Tr(t))for(r=0;r<n.length;r++){var o=t.ownerDocument.defaultView.getComputedStyle(t,null);if(i=o?o.getPropertyValue(e):null,i===n[r])return!0}return!1}},Rr=function(e){return function(t){return Tr(t)&&t.hasAttribute(e)}},Nr=function(e,t){return function(n){return Tr(n)&&n.getAttribute(e)===t}},Lr=function(e){return Tr(e)&&e.hasAttribute("data-mce-bogus")},Dr=function(e){return Tr(e)&&"all"===e.getAttribute("data-mce-bogus")},Br=function(e){return Tr(e)&&"TABLE"===e.tagName},Mr=function(e){return function(t){if(Tr(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1}},Pr=Er(["textarea","input"]),Fr=Sr(3),jr=Sr(8),Hr=Sr(9),zr=Sr(11),$r=Er(["br"]),Vr=Mr("true"),Wr=Mr("false"),Kr=function(e){return void 0!==e.style&&j(e.style.getPropertyValue)},Gr=function(e,t,r){if(!(L(r)||P(r)||H(r)))throw n.console.error("Invalid call to Attr.set. Key ",t,":: Value ",r,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,r+"")},Zr=function(e,t,n){Gr(e.dom(),t,n)},Ur=function(e,t){var n=e.dom();ge(t,(function(e,t){Gr(n,t,e)}))},qr=function(e,t){var n=e.dom().getAttribute(t);return null===n?void 0:n},Xr=function(e,t){return T.from(qr(e,t))},Yr=function(e,t){var n=e.dom();return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},Jr=function(e,t){e.dom().removeAttribute(t)},Qr=function(e){return ee(e.dom().attributes,(function(e,t){return e[t.name]=t.value,e}),{})},ei=function(e,t){var r=e.dom(),i=n.window.getComputedStyle(r),o=i.getPropertyValue(t);return""!==o||hr(e)?o:ti(r,t)},ti=function(e,t){return Kr(e)?e.style.getPropertyValue(t):""},ni=function(e,t){var n=e.dom(),r=ti(n,t);return T.from(r).filter((function(e){return e.length>0}))},ri=function(e){var t={},n=e.dom();if(Kr(n))for(var r=0;r<n.style.length;r++){var i=n.style.item(r);t[i]=n.style[i]}return t},ii=function(e){return e.dom().offsetWidth},oi=Dt().browser,ai=function(e){return ne(e,yn)},si=function(e){return oi.isFirefox()&&"table"===mn(e)?ai(Gn(e)).filter((function(e){return"caption"===mn(e)})).bind((function(e){return ai(Kn(e)).map((function(t){var n=t.dom().offsetTop,r=e.dom().offsetTop,i=e.dom().offsetHeight;return n<=r?-i:0}))})).getOr(0):0},li=function(e,t){return e.children&&G(e.children,t)},ci=function(e,t,n){var r,i,o=0,a=0,s=e.ownerDocument;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&"static"===ei(cn.fromDom(e),"position"))return i=t.getBoundingClientRect(),o=i.left+(s.documentElement.scrollLeft||e.scrollLeft)-s.documentElement.clientLeft,a=i.top+(s.documentElement.scrollTop||e.scrollTop)-s.documentElement.clientTop,{x:o,y:a};r=t;while(r&&r!==n&&r.nodeType&&!li(r,n))o+=r.offsetLeft||0,a+=r.offsetTop||0,r=r.offsetParent;r=t.parentNode;while(r&&r!==n&&r.nodeType&&!li(r,n))o-=r.scrollLeft||0,a-=r.scrollTop||0,r=r.parentNode;a+=si(cn.fromDom(t))}return{x:o,y:a}},ui=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],di=["area","base","basefont","br","col","frame","hr","img","input","isindex","link","meta","param","embed","source","wbr","track"],fi=["td","th"],hi=["thead","tbody","tfoot"],pi=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],mi=["h1","h2","h3","h4","h5","h6"],gi=["li","dd","dt"],vi=["ul","ol","dl"],bi=["pre","script","textarea","style"],yi=function(e){var t;return function(n){return t=t||ce(e,v(!0)),t.hasOwnProperty(mn(n))}},Ci=yi(mi),wi=yi(ui),xi=function(e){return"table"===mn(e)},Ii=function(e){return yn(e)&&!wi(e)},Ai=function(e){return yn(e)&&"br"===mn(e)},ki=yi(pi),Si=yi(vi),_i=yi(gi),Ti=yi(di),Ei=yi(hi),Oi=yi(fi),Ri=yi(bi),Ni=function(e){var t=e.previousSibling&&"SPAN"===e.previousSibling.nodeName,n=e.nextSibling&&"SPAN"===e.nextSibling.nodeName;return t&&n},Li=function(e){return e&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")},Di=function(e,t){var n,r=t.childNodes;if(!Tr(t)||!Li(t)){for(n=r.length-1;n>=0;n--)Di(e,r[n]);if(!1===Hr(t)){if(Fr(t)&&t.nodeValue.length>0){var i=nn.trim(t.nodeValue).length;if(e.isBlock(t.parentNode)||i>0)return;if(0===i&&Ni(t))return}else if(Tr(t)&&(r=t.childNodes,1===r.length&&Li(r[0])&&t.parentNode.insertBefore(r[0],t),r.length||Ti(cn.fromDom(t))))return;e.remove(t)}return t}},Bi=nn.makeMap,Mi=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Pi=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Fi=/[<>&\"\']/g,ji=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Hi={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},zi={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},$i={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Vi=function(e){var t=cn.fromTag("div").dom();return t.innerHTML=e,t.textContent||t.innerText||e},Wi=function(e,t){var n,r,i,o={};if(e){for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)r=String.fromCharCode(parseInt(e[n],t)),zi[r]||(i="&"+e[n+1]+";",o[r]=i,o[i]=r);return o}},Ki=Wi("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Gi=function(e,t){return e.replace(t?Mi:Pi,(function(e){return zi[e]||e}))},Zi=function(e){return(""+e).replace(Fi,(function(e){return zi[e]||e}))},Ui=function(e,t){return e.replace(t?Mi:Pi,(function(e){return e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":zi[e]||"&#"+e.charCodeAt(0)+";"}))},qi=function(e,t,n){return n=n||Ki,e.replace(t?Mi:Pi,(function(e){return zi[e]||n[e]||e}))},Xi=function(e,t){var n=Wi(t)||Ki,r=function(e,t){return e.replace(t?Mi:Pi,(function(e){return void 0!==zi[e]?zi[e]:void 0!==n[e]?n[e]:e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":"&#"+e.charCodeAt(0)+";"}))},i=function(e,t){return qi(e,t,n)},o=Bi(e.replace(/\+/g,","));return o.named&&o.numeric?r:o.named?t?i:qi:o.numeric?Ui:Gi},Yi=function(e){return e.replace(ji,(function(e,t){return t?(t="x"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10),t>65535?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):Hi[t]||String.fromCharCode(t)):$i[e]||Ki[e]||Vi(e)}))},Ji={encodeRaw:Gi,encodeAllRaw:Zi,encodeNumeric:Ui,encodeNamed:qi,getEncodeFunc:Xi,decode:Yi},Qi={},eo={},to=nn.makeMap,no=nn.each,ro=nn.extend,io=nn.explode,oo=nn.inArray,ao=function(e,t){return e=nn.trim(e),e?e.split(t||" "):[]},so=function(e){var t,n,r,i,o,a,s={},l=function(e,n,r){var i,o,a,l=function(e,t){var n,r,i={};for(n=0,r=e.length;n<r;n++)i[e[n]]=t||{};return i};r=r||[],n=n||"","string"===typeof r&&(r=ao(r)),e=ao(e),i=e.length;while(i--)o=ao([t,n].join(" ")),a={attributes:l(o),attributesOrder:o,children:l(r,eo)},s[e[i]]=a},c=function(e,t){var n,r,i,o;e=ao(e),n=e.length,t=ao(t);while(n--)for(r=s[e[n]],i=0,o=t.length;i<o;i++)r.attributes[t[i]]={},r.attributesOrder.push(t[i])};return Qi[e]?Qi[e]:(t="id accesskey class dir lang style tabindex title role",n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",r="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==e&&(t+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",n+=" article aside details dialog figure main header footer hgroup section nav",r+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==e&&(t+=" xml:lang",a="acronym applet basefont big font strike tt",r=[r,a].join(" "),no(ao(a),(function(e){l(e,"",r)})),o="center dir isindex noframes",n=[n,o].join(" "),i=[n,r].join(" "),no(ao(o),(function(e){l(e,"",i)}))),i=i||[n,r].join(" "),l("html","manifest","head body"),l("head","","base command link meta noscript script style title"),l("title hr noscript br"),l("base","href target"),l("link","href rel media hreflang type sizes hreflang"),l("meta","name http-equiv content charset"),l("style","media type scoped"),l("script","src async defer type charset"),l("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",i),l("address dt dd div caption","",i),l("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",r),l("blockquote","cite",i),l("ol","reversed start type","li"),l("ul","","li"),l("li","value",i),l("dl","","dt dd"),l("a","href target rel media hreflang type",r),l("q","cite",r),l("ins del","cite datetime",i),l("img","src sizes srcset alt usemap ismap width height"),l("iframe","src name width height",i),l("embed","src type width height"),l("object","data type typemustmatch name usemap form width height",[i,"param"].join(" ")),l("param","name value"),l("map","name",[i,"area"].join(" ")),l("area","alt coords shape href target rel media hreflang type"),l("table","border","caption colgroup thead tfoot tbody tr"+("html4"===e?" col":"")),l("colgroup","span","col"),l("col","span"),l("tbody thead tfoot","","tr"),l("tr","","td th"),l("td","colspan rowspan headers",i),l("th","colspan rowspan headers scope abbr",i),l("form","accept-charset action autocomplete enctype method name novalidate target",i),l("fieldset","disabled form name",[i,"legend"].join(" ")),l("label","form for",r),l("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),l("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===e?i:r),l("select","disabled form multiple name required size","option optgroup"),l("optgroup","disabled label","option"),l("option","disabled label selected value"),l("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),l("menu","type label",[i,"li"].join(" ")),l("noscript","",i),"html4"!==e&&(l("wbr"),l("ruby","",[r,"rt rp"].join(" ")),l("figcaption","",i),l("mark rt rp summary bdi","",r),l("canvas","width height",i),l("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[i,"track source"].join(" ")),l("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[i,"track source"].join(" ")),l("picture","","img source"),l("source","src srcset type media sizes"),l("track","kind src srclang label default"),l("datalist","",[r,"option"].join(" ")),l("article section nav aside main header footer","",i),l("hgroup","","h1 h2 h3 h4 h5 h6"),l("figure","",[i,"figcaption"].join(" ")),l("time","datetime",r),l("dialog","open",i),l("command","type label icon disabled checked radiogroup command"),l("output","for form name",r),l("progress","value max",r),l("meter","value min max low high optimum",r),l("details","open",[i,"summary"].join(" ")),l("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==e&&(c("script","language xml:space"),c("style","xml:space"),c("object","declare classid code codebase codetype archive standby align border hspace vspace"),c("embed","align name hspace vspace"),c("param","valuetype type"),c("a","charset name rev shape coords"),c("br","clear"),c("applet","codebase archive code object alt name width height align hspace vspace"),c("img","name longdesc align border hspace vspace"),c("iframe","longdesc frameborder marginwidth marginheight scrolling align"),c("font basefont","size color face"),c("input","usemap align"),c("select"),c("textarea"),c("h1 h2 h3 h4 h5 h6 div p legend caption","align"),c("ul","type compact"),c("li","type"),c("ol dl menu dir","compact"),c("pre","width xml:space"),c("hr","align noshade size width"),c("isindex","prompt"),c("table","summary width frame rules cellspacing cellpadding align bgcolor"),c("col","width align char charoff valign"),c("colgroup","width align char charoff valign"),c("thead","align char charoff valign"),c("tr","align char charoff valign bgcolor"),c("th","axis align char charoff valign nowrap bgcolor width height"),c("form","accept"),c("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),c("tfoot","align char charoff valign"),c("tbody","align char charoff valign"),c("area","nohref"),c("body","background bgcolor text link vlink alink")),"html4"!==e&&(c("input button select textarea","autofocus"),c("input textarea","placeholder"),c("a","download"),c("link script img","crossorigin"),c("img","loading"),c("iframe","sandbox seamless allowfullscreen loading")),no(ao("a form meter progress dfn"),(function(e){s[e]&&delete s[e].children[e]})),delete s.caption.children.table,delete s.script,Qi[e]=s,s)},lo=function(e,t){var n;return e&&(n={},"string"===typeof e&&(e={"*":e}),no(e,(function(e,r){n[r]=n[r.toUpperCase()]="map"===t?to(e,/[, ]/):io(e,/[, ]/)}))),n};function co(e){var t={},n={},r=[],i={},o={},a=function(t,n,r){var i=e[t];return i?i=to(i,/[, ]/,to(i.toUpperCase(),/[, ]/)):(i=Qi[t],i||(i=to(n," ",to(n.toUpperCase()," ")),i=ro(i,r),Qi[t]=i)),i};e=e||{};var s=so(e.schema);!1===e.verify_html&&(e.valid_elements="*[*]");var l=lo(e.valid_styles),c=lo(e.invalid_styles,"map"),u=lo(e.valid_classes,"map"),d=a("whitespace_elements","pre script noscript style textarea video audio iframe object code"),f=a("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),h=a("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),p=a("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),m=a("non_empty_elements","td th iframe video audio object script pre code",h),g=a("move_caret_before_on_enter_elements","table",m),v=a("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),b=a("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",v),y=a("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp");no((e.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),(function(e){o[e]=new RegExp("</"+e+"[^>]*>","gi")}));var C=function(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")},w=function(e){var n,i,o,a,s,l,c,u,d,f,h,p,m,g,v,b,y,w,x=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,I=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,A=/[*?+]/;if(e)for(e=ao(e,","),t["@"]&&(b=t["@"].attributes,y=t["@"].attributesOrder),n=0,i=e.length;n<i;n++)if(s=x.exec(e[n]),s){if(g=s[1],d=s[2],v=s[3],u=s[5],p={},m=[],l={attributes:p,attributesOrder:m},"#"===g&&(l.paddEmpty=!0),"-"===g&&(l.removeEmpty=!0),"!"===s[4]&&(l.removeEmptyAttrs=!0),b&&(ge(b,(function(e,t){p[t]=e})),m.push.apply(m,y)),u)for(u=ao(u,"|"),o=0,a=u.length;o<a;o++)if(s=I.exec(u[o]),s){if(c={},h=s[1],f=s[2].replace(/[\\:]:/g,":"),g=s[3],w=s[4],"!"===h&&(l.attributesRequired=l.attributesRequired||[],l.attributesRequired.push(f),c.required=!0),"-"===h){delete p[f],m.splice(oo(m,f),1);continue}g&&("="===g&&(l.attributesDefault=l.attributesDefault||[],l.attributesDefault.push({name:f,value:w}),c.defaultValue=w),":"===g&&(l.attributesForced=l.attributesForced||[],l.attributesForced.push({name:f,value:w}),c.forcedValue=w),"<"===g&&(c.validValues=to(w,"?"))),A.test(f)?(l.attributePatterns=l.attributePatterns||[],c.pattern=C(f),l.attributePatterns.push(c)):(p[f]||m.push(f),p[f]=c)}b||"@"!==d||(b=p,y=m),v&&(l.outputName=d,t[v]=l),A.test(d)?(l.pattern=C(d),r.push(l)):t[d]=l}},x=function(e){t={},r=[],w(e),no(s,(function(e,t){n[t]=e.children}))},I=function(e){var r=/^(~)?(.+)$/;e&&(Qi.text_block_elements=Qi.block_elements=null,no(ao(e,","),(function(e){var o=r.exec(e),a="~"===o[1],s=a?"span":"div",l=o[2];if(n[l]=n[s],i[l]=s,a||(b[l.toUpperCase()]={},b[l]={}),!t[l]){var c=t[s];c=ro({},c),delete c.removeEmptyAttrs,delete c.removeEmpty,t[l]=c}no(n,(function(e,t){e[s]&&(n[t]=e=ro({},n[t]),e[l]=e[s])}))})))},A=function(t){var r=/^([+\-]?)([A-Za-z0-9_\-\.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)\]$/;Qi[e.schema]=null,t&&no(ao(t,","),(function(e){var t,i,o=r.exec(e);o&&(i=o[1],t=i?n[o[2]]:n[o[2]]={"#comment":{}},t=n[o[2]],no(ao(o[3],"|"),(function(e){"-"===i?delete t[e]:t[e]={}})))}))},k=function(e){var n,i=t[e];if(i)return i;n=r.length;while(n--)if(i=r[n],i.pattern.test(e))return i};e.valid_elements?x(e.valid_elements):(no(s,(function(e,r){t[r]={attributes:e.attributes,attributesOrder:e.attributesOrder},n[r]=e.children})),"html5"!==e.schema&&no(ao("strong/b em/i"),(function(e){e=ao(e,"/"),t[e[1]].outputName=e[0]})),no(ao("ol ul sub sup blockquote span font a table tbody tr strong em b i"),(function(e){t[e]&&(t[e].removeEmpty=!0)})),no(ao("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),(function(e){t[e].paddEmpty=!0})),no(ao("span"),(function(e){t[e].removeEmptyAttrs=!0}))),I(e.custom_elements),A(e.valid_children),w(e.extended_valid_elements),A("+ol[ul|ol],+ul[ul|ol]"),no({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(function(e,n){t[n]&&(t[n].parentsRequired=ao(e))})),e.invalid_elements&&no(io(e.invalid_elements),(function(e){t[e]&&delete t[e]})),k("span")||w("span[!data-mce-type|*]");var S=function(){return l},_=function(){return c},T=function(){return u},E=function(){return p},O=function(){return b},R=function(){return v},N=function(){return y},L=function(){return h},D=function(){return f},B=function(){return m},M=function(){return g},P=function(){return d},F=function(){return o},j=function(e,t){var r=n[e.toLowerCase()];return!(!r||!r[t.toLowerCase()])},H=function(e,t){var n,r,i=k(e);if(i){if(!t)return!0;if(i.attributes[t])return!0;if(n=i.attributePatterns,n){r=n.length;while(r--)if(n[r].pattern.test(e))return!0}}return!1},z=function(){return i};return{children:n,elements:t,getValidStyles:S,getValidClasses:T,getBlockElements:O,getInvalidStyles:_,getShortEndedElements:L,getTextBlockElements:R,getTextInlineElements:N,getBoolAttrs:E,getElementRule:k,getSelfClosingElements:D,getNonEmptyElements:B,getMoveCaretBeforeOnEnterElements:M,getWhiteSpaceElements:P,getSpecialElements:F,isValidChild:j,isValid:H,getCustomElements:z,addValidElements:w,setValidElements:x,addCustomElements:I,addValidChildren:A}}var uo,fo,ho,po,mo,go,vo,bo,yo,Co,wo,xo,Io,Ao,ko,So,_o,To,Eo="\ufeff",Oo=" ",Ro=function(e){return e===Eo},No=function(e){return e.replace(/\uFEFF/g,"")},Lo=function(e,t,n,r){var i=function(e){return e=parseInt(e,10).toString(16),e.length>1?e:"0"+e};return"#"+i(t)+i(n)+i(r)},Do=function(e,t){var n,r,i,o=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,a=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,s=/\s*([^:]+):\s*([^;]+);?/g,l=/\s+$/,c={},u=Eo;e=e||{},t&&(r=t.getValidStyles(),i=t.getInvalidStyles());var d=("\\\" \\' \\; \\: ; : "+u).split(" ");for(n=0;n<d.length;n++)c[d[n]]=u+n,c[u+n]=d[n];return{toHex:function(e){return e.replace(o,Lo)},parse:function(t){var r,i,d,f,h={},p=e.url_converter,m=e.url_converter_scope||this,g=function(e,t,r){var i=h[e+"-top"+t];if(i){var o=h[e+"-right"+t];if(o){var a=h[e+"-bottom"+t];if(a){var s=h[e+"-left"+t];if(s){var l=[i,o,a,s];n=l.length-1;while(n--)if(l[n]!==l[n+1])break;n>-1&&r||(h[e+t]=-1===n?l[0]:l.join(" "),delete h[e+"-top"+t],delete h[e+"-right"+t],delete h[e+"-bottom"+t],delete h[e+"-left"+t])}}}}},v=function(e){var t,n=h[e];if(n){n=n.split(" "),t=n.length;while(t--)if(n[t]!==n[0])return!1;return h[e]=n[0],!0}},b=function(e,t,n,r){v(t)&&v(n)&&v(r)&&(h[e]=h[t]+" "+h[n]+" "+h[r],delete h[t],delete h[n],delete h[r])},y=function(e){return f=!0,c[e]},C=function(e,t){return f&&(e=e.replace(/\uFEFF[0-9]/g,(function(e){return c[e]}))),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e},w=function(e){return String.fromCharCode(parseInt(e.slice(1),16))},x=function(e){return e.replace(/\\[0-9a-f]+/gi,w)},I=function(t,n,r,i,o,a){if(o=o||a,o)return o=C(o),"'"+o.replace(/\'/g,"\\'")+"'";if(n=C(n||r||i),!e.allow_script_urls){var s=n.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(s))return"";if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(s))return""}return p&&(n=p.call(m,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"};if(t){t=t.replace(/[\u0000-\u001F]/g,""),t=t.replace(/\\[\"\';:\uFEFF]/g,y).replace(/\"[^\"]+\"|\'[^\']+\'/g,(function(e){return e.replace(/[;:]/g,y)}));while(r=s.exec(t))if(s.lastIndex=r.index+r[0].length,i=r[1].replace(l,"").toLowerCase(),d=r[2].replace(l,""),i&&d){if(i=x(i),d=x(d),-1!==i.indexOf(u)||-1!==i.indexOf('"'))continue;if(!e.allow_script_urls&&("behavior"===i||/expression\s*\(|\/\*|\*\//.test(d)))continue;"font-weight"===i&&"700"===d?d="bold":"color"!==i&&"background-color"!==i||(d=d.toLowerCase()),d=d.replace(o,Lo),d=d.replace(a,I),h[i]=f?C(d,!0):d}g("border","",!0),g("border","-width"),g("border","-color"),g("border","-style"),g("padding",""),g("margin",""),b("border","border-width","border-style","border-color"),"medium none"===h.border&&delete h.border,"none"===h["border-image"]&&delete h["border-image"]}return h},serialize:function(e,t){var n="",o=function(t){var i,o=r[t];if(o)for(var a=0,s=o.length;a<s;a++)t=o[a],i=e[t],i&&(n+=(n.length>0?" ":"")+t+": "+i+";")},a=function(e,t){var n=i["*"];return(!n||!n[e])&&(n=i[t],!(n&&n[e]))};return t&&r?(o("*"),o(t)):ge(e,(function(e,r){!e||i&&!a(r,t)||(n+=(n.length>0?" ":"")+r+": "+e+";")})),n}}},Bo="mce-data-",Mo=/^(?:mouse|contextmenu)|click/,Po={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1,mozPressure:1},Fo=function(e){return e.isDefaultPrevented===Ho||e.isDefaultPrevented===jo},jo=function(){return!1},Ho=function(){return!0},zo=function(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r||!1):e.attachEvent&&e.attachEvent("on"+t,n)},$o=function(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r||!1):e.detachEvent&&e.detachEvent("on"+t,n)},Vo=function(e,t){if(e.composedPath){var n=e.composedPath();if(n&&n.length>0)return n[0]}return t},Wo=function(e,t){var r,i=t||{};for(r in e)Po[r]||(i[r]=e[r]);if(i.target||(i.target=i.srcElement||n.document),Vt.experimentalShadowDom&&(i.target=Vo(e,i.target)),e&&Mo.test(e.type)&&void 0===e.pageX&&void 0!==e.clientX){var o=i.target.ownerDocument||n.document,a=o.documentElement,s=o.body;i.pageX=e.clientX+(a&&a.scrollLeft||s&&s.scrollLeft||0)-(a&&a.clientLeft||s&&s.clientLeft||0),i.pageY=e.clientY+(a&&a.scrollTop||s&&s.scrollTop||0)-(a&&a.clientTop||s&&s.clientTop||0)}return i.preventDefault=function(){i.isDefaultPrevented=Ho,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},i.stopPropagation=function(){i.isPropagationStopped=Ho,e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},i.stopImmediatePropagation=function(){i.isImmediatePropagationStopped=Ho,i.stopPropagation()},!1===Fo(i)&&(i.isDefaultPrevented=jo,i.isPropagationStopped=jo,i.isImmediatePropagationStopped=jo),"undefined"===typeof i.metaKey&&(i.metaKey=!1),i},Ko=function(e,t,n){var r=e.document,i={type:"ready"};if(n.domLoaded)t(i);else{var o=function(){return"complete"===r.readyState||"interactive"===r.readyState&&r.body},a=function(){$o(e,"DOMContentLoaded",a),$o(e,"load",a),n.domLoaded||(n.domLoaded=!0,t(i))};o()?a():zo(e,"DOMContentLoaded",a),zo(e,"load",a)}},Go=function(){function e(){this.domLoaded=!1,this.events={},this.count=1,this.expando=Bo+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in n.document.documentElement,this.hasFocusIn="onfocusin"in n.document.documentElement,this.count=1}return e.prototype.bind=function(e,t,r,i){var o,a,s,l,c,u,d,f=this,h=n.window,p=function(e){f.executeHandlers(Wo(e||h.event),o)};if(e&&3!==e.nodeType&&8!==e.nodeType){e[f.expando]?o=e[f.expando]:(o=f.count++,e[f.expando]=o,f.events[o]={}),i=i||e;var m=t.split(" ");s=m.length;while(s--)l=m[s],u=p,c=d=!1,"DOMContentLoaded"===l&&(l="ready"),f.domLoaded&&"ready"===l&&"complete"===e.readyState?r.call(i,Wo({type:l})):(f.hasMouseEnterLeave||(c=f.mouseEnterLeave[l],c&&(u=function(e){var t=e.currentTarget,n=e.relatedTarget;if(n&&t.contains)n=t.contains(n);else while(n&&n!==t)n=n.parentNode;n||(e=Wo(e||h.event),e.type="mouseout"===e.type?"mouseleave":"mouseenter",e.target=t,f.executeHandlers(e,o))})),f.hasFocusIn||"focusin"!==l&&"focusout"!==l||(d=!0,c="focusin"===l?"focus":"blur",u=function(e){e=Wo(e||h.event),e.type="focus"===e.type?"focusin":"focusout",f.executeHandlers(e,o)}),a=f.events[o][l],a?"ready"===l&&f.domLoaded?r(Wo({type:l})):a.push({func:r,scope:i}):(f.events[o][l]=a=[{func:r,scope:i}],a.fakeName=c,a.capture=d,a.nativeHandler=u,"ready"===l?Ko(e,u,f):zo(e,c||l,u,d)));return e=a=0,r}},e.prototype.unbind=function(e,t,n){var r,i,o,a,s;if(!e||3===e.nodeType||8===e.nodeType)return this;var l=e[this.expando];if(l){if(s=this.events[l],t){var c=t.split(" ");i=c.length;while(i--)if(a=c[i],r=s[a],r){if(n){o=r.length;while(o--)if(r[o].func===n){var u=r.nativeHandler,d=r.fakeName,f=r.capture;r=r.slice(0,o).concat(r.slice(o+1)),r.nativeHandler=u,r.fakeName=d,r.capture=f,s[a]=r}}n&&0!==r.length||(delete s[a],$o(e,r.fakeName||a,r.nativeHandler,r.capture))}}else ge(s,(function(t,n){$o(e,t.fakeName||n,t.nativeHandler,t.capture)})),s={};for(a in s)if(Se(s,a))return this;delete this.events[l];try{delete e[this.expando]}catch(h){e[this.expando]=null}}return this},e.prototype.fire=function(e,t,n){var r;if(!e||3===e.nodeType||8===e.nodeType)return this;var i=Wo(null,n);i.type=t,i.target=e;do{r=e[this.expando],r&&this.executeHandlers(i,r),e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow}while(e&&!i.isPropagationStopped());return this},e.prototype.clean=function(e){var t,n;if(!e||3===e.nodeType||8===e.nodeType)return this;if(e[this.expando]&&this.unbind(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName){this.unbind(e),n=e.getElementsByTagName("*"),t=n.length;while(t--)e=n[t],e[this.expando]&&this.unbind(e)}return this},e.prototype.destroy=function(){this.events={}},e.prototype.cancel=function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1},e.prototype.executeHandlers=function(e,t){var n=this.events[t],r=n&&n[e.type];if(r)for(var i=0,o=r.length;i<o;i++){var a=r[i];if(a&&!1===a.func.call(a.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return}},e.Event=new e,e}(),Zo="sizzle"+-new Date,Uo=n.window.document,qo=0,Xo=0,Yo=Ra(),Jo=Ra(),Qo=Ra(),ea=function(e,t){return e===t&&(Co=!0),0},ta="undefined",na=1<<31,ra={}.hasOwnProperty,ia=[],oa=ia.pop,aa=ia.push,sa=ia.push,la=ia.slice,ca=ia.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},ua="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",da="[\\x20\\t\\r\\n\\f]",fa="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ha="\\["+da+"*("+fa+")(?:"+da+"*([*^$|!~]?=)"+da+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+fa+"))|)"+da+"*\\]",pa=":("+fa+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ha+")*)|.*)\\)|)",ma=new RegExp("^"+da+"+|((?:^|[^\\\\])(?:\\\\.)*)"+da+"+$","g"),ga=new RegExp("^"+da+"*,"+da+"*"),va=new RegExp("^"+da+"*([>+~]|"+da+")"+da+"*"),ba=new RegExp("="+da+"*([^\\]'\"]*?)"+da+"*\\]","g"),ya=new RegExp(pa),Ca=new RegExp("^"+fa+"$"),wa={ID:new RegExp("^#("+fa+")"),CLASS:new RegExp("^\\.("+fa+")"),TAG:new RegExp("^("+fa+"|[*])"),ATTR:new RegExp("^"+ha),PSEUDO:new RegExp("^"+pa),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+da+"*(even|odd|(([+-]|)(\\d*)n|)"+da+"*(?:([+-]|)"+da+"*(\\d+)|))"+da+"*\\)|)","i"),bool:new RegExp("^(?:"+ua+")$","i"),needsContext:new RegExp("^"+da+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+da+"*((?:-\\d)?\\d*)"+da+"*\\)|)(?=[^-]|$)","i")},xa=/^(?:input|select|textarea|button)$/i,Ia=/^h\d$/i,Aa=/^[^{]+\{\s*\[native \w/,ka=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Sa=/[+~]/,_a=/'|\\/g,Ta=new RegExp("\\\\([\\da-f]{1,6}"+da+"?|("+da+")|.)","ig"),Ea=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{sa.apply(ia=la.call(Uo.childNodes),Uo.childNodes),ia[Uo.childNodes.length].nodeType}catch(qF){sa={apply:ia.length?function(e,t){aa.apply(e,la.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}var Oa=function(e,t,n,r){var i,o,a,s,l,c,u,d,f,h;if((t?t.ownerDocument||t:Uo)!==xo&&wo(t),t=t||xo,n=n||[],!e||"string"!==typeof e)return n;if(1!==(s=t.nodeType)&&9!==s)return[];if(Ao&&!r){if(i=ka.exec(e))if(a=i[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&To(t,o)&&o.id===a)return n.push(o),n}else{if(i[2])return sa.apply(n,t.getElementsByTagName(e)),n;if((a=i[3])&&uo.getElementsByClassName)return sa.apply(n,t.getElementsByClassName(a)),n}if(uo.qsa&&(!ko||!ko.test(e))){if(d=u=Zo,f=t,h=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){c=mo(e),(u=t.getAttribute("id"))?d=u.replace(_a,"\\$&"):t.setAttribute("id",d),d="[id='"+d+"'] ",l=c.length;while(l--)c[l]=d+ja(c[l]);f=Sa.test(e)&&Pa(t.parentNode)||t,h=c.join(",")}if(h)try{return sa.apply(n,f.querySelectorAll(h)),n}catch(p){}finally{u||t.removeAttribute("id")}}}return vo(e.replace(ma,"$1"),t,n,r)};function Ra(){var e=[];function t(n,r){return e.push(n+" ")>fo.cacheLength&&delete t[e.shift()],t[n+" "]=r}return t}function Na(e){return e[Zo]=!0,e}function La(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||na)-(~e.sourceIndex||na);if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function Da(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function Ba(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function Ma(e){return Na((function(t){return t=+t,Na((function(n,r){var i,o=e([],n.length,t),a=o.length;while(a--)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))}))}))}function Pa(e){return e&&typeof e.getElementsByTagName!==ta&&e}function Fa(){}function ja(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function Ha(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=Xo++;return t.first?function(t,n,o){while(t=t[r])if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,l,c=[qo,o];if(a){while(t=t[r])if((1===t.nodeType||i)&&e(t,n,a))return!0}else while(t=t[r])if(1===t.nodeType||i){if(l=t[Zo]||(t[Zo]={}),(s=l[r])&&s[0]===qo&&s[1]===o)return c[2]=s[2];if(l[r]=c,c[2]=e(t,n,a))return!0}}}function za(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function $a(e,t,n){for(var r=0,i=t.length;r<i;r++)Oa(e,t[r],n);return n}function Va(e,t,n,r,i){for(var o,a=[],s=0,l=e.length,c=null!=t;s<l;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),c&&t.push(s)));return a}function Wa(e,t,n,r,i,o){return r&&!r[Zo]&&(r=Wa(r)),i&&!i[Zo]&&(i=Wa(i,o)),Na((function(o,a,s,l){var c,u,d,f=[],h=[],p=a.length,m=o||$a(t||"*",s.nodeType?[s]:s,[]),g=!e||!o&&t?m:Va(m,f,e,s,l),v=n?i||(o?e:p||r)?[]:a:g;if(n&&n(g,v,s,l),r){c=Va(v,h),r(c,[],s,l),u=c.length;while(u--)(d=c[u])&&(v[h[u]]=!(g[h[u]]=d))}if(o){if(i||e){if(i){c=[],u=v.length;while(u--)(d=v[u])&&c.push(g[u]=d);i(null,v=[],c,l)}u=v.length;while(u--)(d=v[u])&&(c=i?ca.call(o,d):f[u])>-1&&(o[c]=!(a[c]=d))}}else v=Va(v===a?v.splice(p,v.length):v),i?i(null,a,v,l):sa.apply(a,v)}))}function Ka(e){for(var t,n,r,i=e.length,o=fo.relative[e[0].type],a=o||fo.relative[" "],s=o?1:0,l=Ha((function(e){return e===t}),a,!0),c=Ha((function(e){return ca.call(t,e)>-1}),a,!0),u=[function(e,n,r){return!o&&(r||n!==bo)||((t=n).nodeType?l(e,n,r):c(e,n,r))}];s<i;s++)if(n=fo.relative[e[s].type])u=[Ha(za(u),n)];else{if(n=fo.filter[e[s].type].apply(null,e[s].matches),n[Zo]){for(r=++s;r<i;r++)if(fo.relative[e[r].type])break;return Wa(s>1&&za(u),s>1&&ja(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ma,"$1"),n,s<r&&Ka(e.slice(s,r)),r<i&&Ka(e=e.slice(r)),r<i&&ja(e))}u.push(n)}return za(u)}function Ga(e,t){var n=t.length>0,r=e.length>0,i=function(i,o,a,s,l){var c,u,d,f=0,h="0",p=i&&[],m=[],g=bo,v=i||r&&fo.find.TAG("*",l),b=qo+=null==g?1:Math.random()||.1,y=v.length;for(l&&(bo=o!==xo&&o);h!==y&&null!=(c=v[h]);h++){if(r&&c){u=0;while(d=e[u++])if(d(c,o,a)){s.push(c);break}l&&(qo=b)}n&&((c=!d&&c)&&f--,i&&p.push(c))}if(f+=h,n&&h!==f){u=0;while(d=t[u++])d(p,m,o,a);if(i){if(f>0)while(h--)p[h]||m[h]||(m[h]=oa.call(s));m=Va(m)}sa.apply(s,m),l&&!i&&m.length>0&&f+t.length>1&&Oa.uniqueSort(s)}return l&&(qo=b,bo=g),p};return n?Na(i):i}uo=Oa.support={},po=Oa.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},wo=Oa.setDocument=function(e){var t,n=e?e.ownerDocument||e:Uo,r=n.defaultView;function i(e){try{return e.top}catch(t){}return null}return n!==xo&&9===n.nodeType&&n.documentElement?(xo=n,Io=n.documentElement,Ao=!po(n),r&&r!==i(r)&&(r.addEventListener?r.addEventListener("unload",(function(){wo()}),!1):r.attachEvent&&r.attachEvent("onunload",(function(){wo()}))),uo.attributes=!0,uo.getElementsByTagName=!0,uo.getElementsByClassName=Aa.test(n.getElementsByClassName),uo.getById=!0,fo.find.ID=function(e,t){if(typeof t.getElementById!==ta&&Ao){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},fo.filter.ID=function(e){var t=e.replace(Ta,Ea);return function(e){return e.getAttribute("id")===t}},fo.find.TAG=uo.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==ta)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},fo.find.CLASS=uo.getElementsByClassName&&function(e,t){if(Ao)return t.getElementsByClassName(e)},So=[],ko=[],uo.disconnectedMatch=!0,ko=ko.length&&new RegExp(ko.join("|")),So=So.length&&new RegExp(So.join("|")),t=Aa.test(Io.compareDocumentPosition),To=t||Aa.test(Io.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},ea=t?function(e,t){if(e===t)return Co=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&r||!uo.sortDetached&&t.compareDocumentPosition(e)===r?e===n||e.ownerDocument===Uo&&To(Uo,e)?-1:t===n||t.ownerDocument===Uo&&To(Uo,t)?1:yo?ca.call(yo,e)-ca.call(yo,t):0:4&r?-1:1)}:function(e,t){if(e===t)return Co=!0,0;var r,i=0,o=e.parentNode,a=t.parentNode,s=[e],l=[t];if(!o||!a)return e===n?-1:t===n?1:o?-1:a?1:yo?ca.call(yo,e)-ca.call(yo,t):0;if(o===a)return La(e,t);r=e;while(r=r.parentNode)s.unshift(r);r=t;while(r=r.parentNode)l.unshift(r);while(s[i]===l[i])i++;return i?La(s[i],l[i]):s[i]===Uo?-1:l[i]===Uo?1:0},n):xo},Oa.matches=function(e,t){return Oa(e,null,null,t)},Oa.matchesSelector=function(e,t){if((e.ownerDocument||e)!==xo&&wo(e),t=t.replace(ba,"='$1']"),uo.matchesSelector&&Ao&&(!So||!So.test(t))&&(!ko||!ko.test(t)))try{var n=_o.call(e,t);if(n||uo.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(qF){}return Oa(t,xo,null,[e]).length>0},Oa.contains=function(e,t){return(e.ownerDocument||e)!==xo&&wo(e),To(e,t)},Oa.attr=function(e,t){(e.ownerDocument||e)!==xo&&wo(e);var n=fo.attrHandle[t.toLowerCase()],r=n&&ra.call(fo.attrHandle,t.toLowerCase())?n(e,t,!Ao):void 0;return void 0!==r?r:uo.attributes||!Ao?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},Oa.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},Oa.uniqueSort=function(e){var t,n=[],r=0,i=0;if(Co=!uo.detectDuplicates,yo=!uo.sortStable&&e.slice(0),e.sort(ea),Co){while(t=e[i++])t===e[i]&&(r=n.push(i));while(r--)e.splice(n[r],1)}return yo=null,e},ho=Oa.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"===typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=ho(e)}else if(3===i||4===i)return e.nodeValue}else while(t=e[r++])n+=ho(t);return n},fo=Oa.selectors={cacheLength:50,createPseudo:Na,match:wa,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Ta,Ea),e[3]=(e[3]||e[4]||e[5]||"").replace(Ta,Ea),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||Oa.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&Oa.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return wa.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&ya.test(n)&&(t=mo(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Ta,Ea).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=Yo[e+" "];return t||(t=new RegExp("(^|"+da+")"+e+"("+da+"|$)"))&&Yo(e,(function(e){return t.test("string"===typeof e.className&&e.className||typeof e.getAttribute!==ta&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(r){var i=Oa.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,f,h,p,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),b=!l&&!s;if(g){if(o){while(m){d=t;while(d=d[m])if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=m="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?g.firstChild:g.lastChild],a&&b){u=g[Zo]||(g[Zo]={}),c=u[e]||[],h=c[0]===qo&&c[1],f=c[0]===qo&&c[2],d=h&&g.childNodes[h];while(d=++h&&d&&d[m]||(f=h=0)||p.pop())if(1===d.nodeType&&++f&&d===t){u[e]=[qo,h,f];break}}else if(b&&(c=(t[Zo]||(t[Zo]={}))[e])&&c[0]===qo)f=c[1];else while(d=++h&&d&&d[m]||(f=h=0)||p.pop())if((s?d.nodeName.toLowerCase()===v:1===d.nodeType)&&++f&&(b&&((d[Zo]||(d[Zo]={}))[e]=[qo,f]),d===t))break;return f-=i,f===r||f%r===0&&f/r>=0}}},PSEUDO:function(e,t){var n,r=fo.pseudos[e]||fo.setFilters[e.toLowerCase()]||Oa.error("unsupported pseudo: "+e);return r[Zo]?r(t):r.length>1?(n=[e,e,"",t],fo.setFilters.hasOwnProperty(e.toLowerCase())?Na((function(e,n){var i,o=r(e,t),a=o.length;while(a--)i=ca.call(e,o[a]),e[i]=!(n[i]=o[a])})):function(e){return r(e,0,n)}):r}},pseudos:{not:Na((function(e){var t=[],n=[],r=go(e.replace(ma,"$1"));return r[Zo]?Na((function(e,t,n,i){var o,a=r(e,null,i,[]),s=e.length;while(s--)(o=a[s])&&(e[s]=!(t[s]=o))})):function(e,i,o){return t[0]=e,r(t,null,o,n),!n.pop()}})),has:Na((function(e){return function(t){return Oa(e,t).length>0}})),contains:Na((function(e){return e=e.replace(Ta,Ea),function(t){return(t.textContent||t.innerText||ho(t)).indexOf(e)>-1}})),lang:Na((function(e){return Ca.test(e||"")||Oa.error("unsupported lang: "+e),e=e.replace(Ta,Ea).toLowerCase(),function(t){var n;do{if(n=Ao?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(e){var t=n.window.location&&n.window.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===Io},focus:function(e){return e===xo.activeElement&&(!xo.hasFocus||xo.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!fo.pseudos.empty(e)},header:function(e){return Ia.test(e.nodeName)},input:function(e){return xa.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:Ma((function(){return[0]})),last:Ma((function(e,t){return[t-1]})),eq:Ma((function(e,t,n){return[n<0?n+t:n]})),even:Ma((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:Ma((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:Ma((function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e})),gt:Ma((function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e}))}},fo.pseudos.nth=fo.pseudos.eq,q(["radio","checkbox","file","password","image"],(function(e){fo.pseudos[e]=Da(e)})),q(["submit","reset"],(function(e){fo.pseudos[e]=Ba(e)})),Fa.prototype=fo.filters=fo.pseudos,fo.setFilters=new Fa,mo=Oa.tokenize=function(e,t){var n,r,i,o,a,s,l,c=Jo[e+" "];if(c)return t?0:c.slice(0);a=e,s=[],l=fo.preFilter;while(a){for(o in n&&!(r=ga.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=va.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace(ma," ")}),a=a.slice(n.length)),fo.filter)fo.filter.hasOwnProperty(o)&&(!(r=wa[o].exec(a))||l[o]&&!(r=l[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length)));if(!n)break}return t?a.length:a?Oa.error(e):Jo(e,s).slice(0)},go=Oa.compile=function(e,t){var n,r=[],i=[],o=Qo[e+" "];if(!o){t||(t=mo(e)),n=t.length;while(n--)o=Ka(t[n]),o[Zo]?r.push(o):i.push(o);o=Qo(e,Ga(i,r)),o.selector=e}return o},vo=Oa.select=function(e,t,n,r){var i,o,a,s,l,c="function"===typeof e&&e,u=!r&&mo(e=c.selector||e);if(n=n||[],1===u.length){if(o=u[0]=u[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&uo.getById&&9===t.nodeType&&Ao&&fo.relative[o[1].type]){if(t=(fo.find.ID(a.matches[0].replace(Ta,Ea),t)||[])[0],!t)return n;c&&(t=t.parentNode),e=e.slice(o.shift().value.length)}i=wa.needsContext.test(e)?0:o.length;while(i--){if(a=o[i],fo.relative[s=a.type])break;if((l=fo.find[s])&&(r=l(a.matches[0].replace(Ta,Ea),Sa.test(o[0].type)&&Pa(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&ja(o),!e)return sa.apply(n,r),n;break}}}return(c||go(e,u))(r,t,!Ao,n,Sa.test(e)&&Pa(t.parentNode)||t),n},uo.sortStable=Zo.split("").sort(ea).join("")===Zo,uo.detectDuplicates=!!Co,wo(),uo.sortDetached=!0;var Za=n.document,Ua=Array.prototype.push,qa=Array.prototype.slice,Xa=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,Ya=Go.Event,Ja=nn.makeMap("children,contents,next,prev"),Qa=function(e){return"undefined"!==typeof e},es=function(e){return"string"===typeof e},ts=function(e){return e&&e===e.window},ns=function(e,t){t=t||Za;var n,r=t.createElement("div"),i=t.createDocumentFragment();r.innerHTML=e;while(n=r.firstChild)i.appendChild(n);return i},rs=function(e,t,n,r){var i;if(es(t))t=ns(t,bs(e[0]));else if(t.length&&!t.nodeType){if(t=xs.makeArray(t),r)for(i=t.length-1;i>=0;i--)rs(e,t[i],n,r);else for(i=0;i<t.length;i++)rs(e,t[i],n,r);return e}if(t.nodeType){i=e.length;while(i--)n.call(e[i],t)}return e},is=function(e,t){return e&&t&&-1!==(" "+e.className+" ").indexOf(" "+t+" ")},os=function(e,t,n){var r,i;return t=xs(t)[0],e.each((function(){var e=this;n&&r===e.parentNode||(r=e.parentNode,i=t.cloneNode(!1),e.parentNode.insertBefore(i,e)),i.appendChild(e)})),e},as=nn.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),ss=nn.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),ls={for:"htmlFor",class:"className",readonly:"readOnly"},cs={float:"cssFloat"},us={},ds={},fs=function(e,t){return new xs.fn.init(e,t)},hs=function(e,t){var n;if(t.indexOf)return t.indexOf(e);n=t.length;while(n--)if(t[n]===e)return n;return-1},ps=/^\s*|\s*$/g,ms=function(e){return null===e||void 0===e?"":(""+e).replace(ps,"")},gs=function(e,t){var n,r,i,o;if(e)if(n=e.length,void 0===n){for(r in e)if(e.hasOwnProperty(r)&&(o=e[r],!1===t.call(o,r,o)))break}else for(i=0;i<n;i++)if(o=e[i],!1===t.call(o,i,o))break;return e},vs=function(e,t){var n=[];return gs(e,(function(e,r){t(r,e)&&n.push(r)})),n},bs=function(e){return e?9===e.nodeType?e:e.ownerDocument:Za};fs.fn=fs.prototype={constructor:fs,selector:"",context:null,length:0,init:function(e,t){var r,i,o=this;if(!e)return o;if(e.nodeType)return o.context=o[0]=e,o.length=1,o;if(t&&t.nodeType)o.context=t;else{if(t)return xs(e).attr(t);o.context=t=n.document}if(es(e)){if(o.selector=e,r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:Xa.exec(e),!r)return xs(t).find(e);if(r[1]){i=ns(e,bs(t)).firstChild;while(i)Ua.call(o,i),i=i.nextSibling}else{if(i=bs(t).getElementById(r[2]),!i)return o;if(i.id!==r[2])return o.find(e);o.length=1,o[0]=i}}else this.add(e,!1);return o},toArray:function(){return nn.toArray(this)},add:function(e,t){var n,r,i=this;if(es(e))return i.add(xs(e));if(!1!==t)for(n=xs.unique(i.toArray().concat(xs.makeArray(e))),i.length=n.length,r=0;r<n.length;r++)i[r]=n[r];else Ua.apply(i,xs.makeArray(e));return i},attr:function(e,t){var n,r=this;if("object"===typeof e)gs(e,(function(e,t){r.attr(e,t)}));else{if(!Qa(t)){if(r[0]&&1===r[0].nodeType){if(n=us[e],n&&n.get)return n.get(r[0],e);if(ss[e])return r.prop(e)?e:void 0;t=r[0].getAttribute(e,2),null===t&&(t=void 0)}return t}this.each((function(){var n;if(1===this.nodeType){if(n=us[e],n&&n.set)return void n.set(this,t);null===t?this.removeAttribute(e,2):this.setAttribute(e,t,2)}}))}return r},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var n=this;if(e=ls[e]||e,"object"===typeof e)gs(e,(function(e,t){n.prop(e,t)}));else{if(!Qa(t))return n[0]&&n[0].nodeType&&e in n[0]?n[0][e]:t;this.each((function(){1===this.nodeType&&(this[e]=t)}))}return n},css:function(e,t){var n,r,i=this,o=function(e){return e.replace(/-(\D)/g,(function(e,t){return t.toUpperCase()}))},a=function(e){return e.replace(/[A-Z]/g,(function(e){return"-"+e}))};if("object"===typeof e)gs(e,(function(e,t){i.css(e,t)}));else if(Qa(t))e=o(e),"number"!==typeof t||as[e]||(t=t.toString()+"px"),i.each((function(){var n=this.style;if(r=ds[e],r&&r.set)r.set(this,t);else{try{this.style[cs[e]||e]=t}catch(i){}null!==t&&""!==t||(n.removeProperty?n.removeProperty(a(e)):n.removeAttribute(e))}}));else{if(n=i[0],r=ds[e],r&&r.get)return r.get(n);if(!n.ownerDocument.defaultView)return n.currentStyle?n.currentStyle[o(e)]:"";try{return n.ownerDocument.defaultView.getComputedStyle(n,null).getPropertyValue(a(e))}catch(s){return}}return i},remove:function(){var e,t=this,n=this.length;while(n--)e=t[n],Ya.clean(e),e.parentNode&&e.parentNode.removeChild(e);return this},empty:function(){var e,t=this,n=this.length;while(n--){e=t[n];while(e.firstChild)e.removeChild(e.firstChild)}return this},html:function(e){var t,n=this;if(Qa(e)){t=n.length;try{while(t--)n[t].innerHTML=e}catch(r){xs(n[t]).empty().append(e)}return n}return n[0]?n[0].innerHTML:""},text:function(e){var t,n=this;if(Qa(e)){t=n.length;while(t--)"innerText"in n[t]?n[t].innerText=e:n[0].textContent=e;return n}return n[0]?n[0].innerText||n[0].textContent:""},append:function(){return rs(this,arguments,(function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(e)}))},prepend:function(){return rs(this,arguments,(function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(e,this.firstChild)}),!0)},before:function(){var e=this;return e[0]&&e[0].parentNode?rs(e,arguments,(function(e){this.parentNode.insertBefore(e,this)})):e},after:function(){var e=this;return e[0]&&e[0].parentNode?rs(e,arguments,(function(e){this.parentNode.insertBefore(e,this.nextSibling)}),!0):e},appendTo:function(e){return xs(e).append(this),this},prependTo:function(e){return xs(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return os(this,e)},wrapAll:function(e){return os(this,e,!0)},wrapInner:function(e){return this.each((function(){xs(this).contents().wrapAll(e)})),this},unwrap:function(){return this.parent().each((function(){xs(this).replaceWith(this.childNodes)}))},clone:function(){var e=[];return this.each((function(){e.push(this.cloneNode(!0))})),xs(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,t){var n=this;return"string"!==typeof e||(-1!==e.indexOf(" ")?gs(e.split(" "),(function(){n.toggleClass(this,t)})):n.each((function(n,r){var i=is(r,e);if(i!==t){var o=r.className;i?r.className=ms((" "+o+" ").replace(" "+e+" "," ")):r.className+=o?" "+e:e}}))),n},hasClass:function(e){return is(this[0],e)},each:function(e){return gs(this,e)},on:function(e,t){return this.each((function(){Ya.bind(this,e,t)}))},off:function(e,t){return this.each((function(){Ya.unbind(this,e,t)}))},trigger:function(e){return this.each((function(){"object"===typeof e?Ya.fire(this,e.type,e):Ya.fire(this,e)}))},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new xs(qa.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var t,n,r=[];for(t=0,n=this.length;t<n;t++)xs.find(e,this[t],r);return xs(r)},filter:function(e){return xs("function"===typeof e?vs(this.toArray(),(function(t,n){return e(n,t)})):xs.filter(e,this.toArray()))},closest:function(e){var t=[];return e instanceof xs&&(e=e[0]),this.each((function(n,r){while(r){if("string"===typeof e&&xs(r).is(e)){t.push(r);break}if(r===e){t.push(r);break}r=r.parentNode}})),xs(t)},offset:function(e){var t,n,r,i,o=0,a=0;return e?this.css(e):(t=this[0],t&&(n=t.ownerDocument,r=n.documentElement,t.getBoundingClientRect&&(i=t.getBoundingClientRect(),o=i.left+(r.scrollLeft||n.body.scrollLeft)-r.clientLeft,a=i.top+(r.scrollTop||n.body.scrollTop)-r.clientTop)),{left:o,top:a})},push:Ua,sort:Array.prototype.sort,splice:Array.prototype.splice},nn.extend(fs,{extend:nn.extend,makeArray:function(e){return ts(e)||e.nodeType?[e]:nn.toArray(e)},inArray:hs,isArray:nn.isArray,each:gs,trim:ms,grep:vs,find:Oa,expr:Oa.selectors,unique:Oa.uniqueSort,text:Oa.getText,contains:Oa.contains,filter:function(e,t,n){var r=t.length;n&&(e=":not("+e+")");while(r--)1!==t[r].nodeType&&t.splice(r,1);return t=1===t.length?xs.find.matchesSelector(t[0],e)?[t[0]]:[]:xs.find.matches(e,t),t}});var ys=function(e,t,n){var r=[],i=e[t];"string"!==typeof n&&n instanceof xs&&(n=n[0]);while(i&&9!==i.nodeType){if(void 0!==n){if(i===n)break;if("string"===typeof n&&xs(i).is(n))break}1===i.nodeType&&r.push(i),i=i[t]}return r},Cs=function(e,t,n,r){var i=[];for(r instanceof xs&&(r=r[0]);e;e=e[t])if(!n||e.nodeType===n){if(void 0!==r){if(e===r)break;if("string"===typeof r&&xs(e).is(r))break}i.push(e)}return i},ws=function(e,t,n){for(e=e[t];e;e=e[t])if(e.nodeType===n)return e;return null};gs({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ys(e,"parentNode")},next:function(e){return ws(e,"nextSibling",1)},prev:function(e){return ws(e,"previousSibling",1)},children:function(e){return Cs(e.firstChild,"nextSibling",1)},contents:function(e){return nn.toArray(("iframe"===e.nodeName?e.contentDocument||e.contentWindow.document:e).childNodes)}},(function(e,t){fs.fn[e]=function(n){var r=this,i=[];r.each((function(){var e=t.call(i,this,n,i);e&&(xs.isArray(e)?i.push.apply(i,e):i.push(e))})),this.length>1&&(Ja[e]||(i=xs.unique(i)),0===e.indexOf("parents")&&(i=i.reverse()));var o=xs(i);return n?o.filter(n):o}})),gs({parentsUntil:function(e,t){return ys(e,"parentNode",t)},nextUntil:function(e,t){return Cs(e,"nextSibling",1,t).slice(1)},prevUntil:function(e,t){return Cs(e,"previousSibling",1,t).slice(1)}},(function(e,t){fs.fn[e]=function(n,r){var i=this,o=[];i.each((function(){var e=t.call(o,this,n,o);e&&(xs.isArray(e)?o.push.apply(o,e):o.push(e))})),this.length>1&&(o=xs.unique(o),0!==e.indexOf("parents")&&"prevUntil"!==e||(o=o.reverse()));var a=xs(o);return r?a.filter(r):a}})),fs.fn.is=function(e){return!!e&&this.filter(e).length>0},fs.fn.init.prototype=fs.fn,fs.overrideDefaults=function(e){var t,n=function(r,i){return t=t||e(),0===arguments.length&&(r=t.element),i||(i=t.context),new n.fn.init(r,i)};return xs.extend(n,this),n},fs.attrHooks=us,fs.cssHooks=ds;var xs=fs,Is=function(){function e(e,t){this.node=e,this.rootNode=t,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}return e.prototype.current=function(){return this.node},e.prototype.next=function(e){return this.node=this.findSibling(this.node,"firstChild","nextSibling",e),this.node},e.prototype.prev=function(e){return this.node=this.findSibling(this.node,"lastChild","previousSibling",e),this.node},e.prototype.prev2=function(e){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",e),this.node},e.prototype.findSibling=function(e,t,n,r){var i,o;if(e){if(!r&&e[t])return e[t];if(e!==this.rootNode){if(i=e[n],i)return i;for(o=e.parentNode;o&&o!==this.rootNode;o=o.parentNode)if(i=o[n],i)return i}}},e.prototype.findPreviousNode=function(e,t,n,r){var i,o,a;if(e){if(i=e[n],this.rootNode&&i===this.rootNode)return;if(i){if(!r)for(a=i[t];a;a=a[t])if(!a[t])return a;return i}if(o=e.parentNode,o&&o!==this.rootNode)return o}},e}(),As={},ks={exports:As};(function(e,n,r,i){(function(i){if("object"===typeof n&&"undefined"!==typeof r)r.exports=i();else if("function"===typeof e&&e.amd)e([],i);else{var o;o="undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:this,o.EphoxContactWrapper=i()}})((function(){return function(){function e(t,n,r){function o(s,l){if(!n[s]){if(!t[s]){var c="function"==typeof i&&i;if(!l&&c)return c(s,!0);if(a)return a(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var d=n[s]={exports:{}};t[s][0].call(d.exports,(function(e){var n=t[s][1][e];return o(n||e)}),d,d.exports,e,t,n,r)}return n[s].exports}for(var a="function"==typeof i&&i,s=0;s<r.length;s++)o(r[s]);return o}return e}()({1:[function(e,t,n){var r,i,o=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function l(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(qF){try{return r.call(null,e,0)}catch(qF){return r.call(this,e,0)}}}function c(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{return i(e)}catch(qF){try{return i.call(null,e)}catch(qF){return i.call(this,e)}}}(function(){try{r="function"===typeof setTimeout?setTimeout:a}catch(qF){r=a}try{i="function"===typeof clearTimeout?clearTimeout:s}catch(qF){i=s}})();var u,d=[],f=!1,h=-1;function p(){f&&u&&(f=!1,u.length?d=u.concat(d):h=-1,d.length&&m())}function m(){if(!f){var e=l(p);f=!0;var t=d.length;while(t){u=d,d=[];while(++h<t)u&&u[h].run();h=-1,t=d.length}u=null,f=!1,c(e)}}function g(e,t){this.fun=e,this.array=t}function v(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];d.push(new g(e,t)),1!==d.length||f||l(m)},g.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],2:[function(e,t,n){(function(e){(function(n){var r=setTimeout;function i(){}function o(e,t){return function(){e.apply(t,arguments)}}function a(e){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(e,this)}function s(e,t){while(3===e._state)e=e._value;0!==e._state?(e._handled=!0,a._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(qF){return void c(t.promise,qF)}l(t.promise,r)}else(1===e._state?l:c)(t.promise,e._value)}))):e._deferreds.push(t)}function l(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"===typeof t||"function"===typeof t)){var n=t.then;if(t instanceof a)return e._state=3,e._value=t,void u(e);if("function"===typeof n)return void f(o(n,t),e)}e._state=1,e._value=t,u(e)}catch(qF){c(e,qF)}}function c(e,t){e._state=2,e._value=t,u(e)}function u(e){2===e._state&&0===e._deferreds.length&&a._immediateFn((function(){e._handled||a._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)s(e,e._deferreds[t]);e._deferreds=null}function d(e,t,n){this.onFulfilled="function"===typeof e?e:null,this.onRejected="function"===typeof t?t:null,this.promise=n}function f(e,t){var n=!1;try{e((function(e){n||(n=!0,l(t,e))}),(function(e){n||(n=!0,c(t,e))}))}catch(r){if(n)return;n=!0,c(t,r)}}a.prototype["catch"]=function(e){return this.then(null,e)},a.prototype.then=function(e,t){var n=new this.constructor(i);return s(this,new d(e,t,n)),n},a.all=function(e){var t=Array.prototype.slice.call(e);return new a((function(e,n){if(0===t.length)return e([]);var r=t.length;function i(o,a){try{if(a&&("object"===typeof a||"function"===typeof a)){var s=a.then;if("function"===typeof s)return void s.call(a,(function(e){i(o,e)}),n)}t[o]=a,0===--r&&e(t)}catch(l){n(l)}}for(var o=0;o<t.length;o++)i(o,t[o])}))},a.resolve=function(e){return e&&"object"===typeof e&&e.constructor===a?e:new a((function(t){t(e)}))},a.reject=function(e){return new a((function(t,n){n(e)}))},a.race=function(e){return new a((function(t,n){for(var r=0,i=e.length;r<i;r++)e[r].then(t,n)}))},a._immediateFn="function"===typeof e?function(t){e(t)}:function(e){r(e,0)},a._unhandledRejectionFn=function(e){"undefined"!==typeof console&&console},a._setImmediateFn=function(e){a._immediateFn=e},a._setUnhandledRejectionFn=function(e){a._unhandledRejectionFn=e},"undefined"!==typeof t&&t.exports?t.exports=a:n.Promise||(n.Promise=a)})(this)}).call(this,e("timers").setImmediate)},{timers:3}],3:[function(e,t,n){(function(t,r){var i=e("process/browser.js").nextTick,o=Function.prototype.apply,a=Array.prototype.slice,s={},l=0;function c(e,t){this._id=e,this._clearFn=t}n.setTimeout=function(){return new c(o.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new c(o.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},c.prototype.unref=c.prototype.ref=function(){},c.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n.setImmediate="function"===typeof t?t:function(e){var t=l++,r=!(arguments.length<2)&&a.call(arguments,1);return s[t]=!0,i((function(){s[t]&&(r?e.apply(null,r):e.call(null),n.clearImmediate(t))})),t},n.clearImmediate="function"===typeof r?r:function(e){delete s[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(e,t,n){var r=e("promise-polyfill"),i=function(){return"undefined"!==typeof window?window:Function("return this;")()}();t.exports={boltExport:i.Promise||r}},{"promise-polyfill":2}]},{},[4])(4)}))})(void 0,As,ks,void 0);var Ss,_s=ks.exports.boltExport,Ts=function(e){var t=T.none(),r=[],i=function(e){return Ts((function(t){o((function(n){t(e(n))}))}))},o=function(e){s()?c(e):r.push(e)},a=function(e){s()||(t=T.some(e),l(r),r=[])},s=function(){return t.isSome()},l=function(e){q(e,c)},c=function(e){t.each((function(t){n.setTimeout((function(){e(t)}),0)}))};return e(a),{get:o,map:i,isReady:s}},Es=function(e){return Ts((function(t){t(e)}))},Os={nu:Ts,pure:Es},Rs=function(e){n.setTimeout((function(){throw e}),0)},Ns=function(e){var t=function(t){e().then(t,Rs)},n=function(t){return Ns((function(){return e().then(t)}))},r=function(t){return Ns((function(){return e().then((function(e){return t(e).toPromise()}))}))},i=function(t){return Ns((function(){return e().then((function(){return t.toPromise()}))}))},o=function(){return Os.nu(t)},a=function(){var t=null;return Ns((function(){return null===t&&(t=e()),t}))},s=e;return{map:n,bind:r,anonBind:i,toLazy:o,toCached:a,toPromise:s,get:t}},Ls=function(e){return Ns((function(){return new _s(e)}))},Ds=function(e){return Ns((function(){return _s.resolve(e)}))},Bs={nu:Ls,pure:Ds},Ms=function(e,t){return t((function(t){var n=[],r=0,i=function(i){return function(o){n[i]=o,r++,r>=e.length&&t(n)}};0===e.length?t([]):q(e,(function(e,t){e.get(i(t))}))}))},Ps=function(e){return Ms(e,Bs.nu)},Fs=function(e){var t=function(t){return e===t},n=function(t){return Fs(e)},r=function(t){return Fs(e)},i=function(t){return Fs(t(e))},o=function(t){return Fs(e)},a=function(t){t(e)},s=function(t){return t(e)},l=function(t,n){return n(e)},c=function(t){return t(e)},u=function(t){return t(e)},d=function(){return T.some(e)};return{is:t,isValue:I,isError:x,getOr:v(e),getOrThunk:v(e),getOrDie:v(e),or:n,orThunk:r,fold:l,map:i,mapError:o,each:a,bind:s,exists:c,forall:u,toOption:d}},js=function(e){var t=function(e){return e()},n=function(){return w(String(e))()},r=function(e){return e},i=function(e){return e()},o=function(t){return js(e)},a=function(t){return js(t(e))},s=function(t){return js(e)},l=function(t,n){return t(e)};return{is:x,isValue:x,isError:I,getOr:b,getOrThunk:t,getOrDie:n,or:r,orThunk:i,fold:l,map:o,mapError:a,each:p,bind:s,exists:x,forall:I,toOption:T.none}},Hs=function(e,t){return e.fold((function(){return js(t)}),Fs)},zs={value:Fs,error:js,fromOption:Hs},$s=function(e){if(!B(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");var t=[],r={};return q(e,(function(i,o){var a=pe(i);if(1!==a.length)throw new Error("one and only one name per case");var s=a[0],l=i[s];if(void 0!==r[s])throw new Error("duplicate key detected:"+s);if("cata"===s)throw new Error("cannot have a case named cata (sorry)");if(!B(l))throw new Error("case arguments must be an array");t.push(s),r[s]=function(){var r=arguments.length;if(r!==l.length)throw new Error("Wrong number of arguments to case "+s+". Expected "+l.length+" ("+l+"), got "+r);for(var i=new Array(r),a=0;a<i.length;a++)i[a]=arguments[a];var c=function(e){var n=pe(e);if(t.length!==n.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+n.join(","));var r=ae(t,(function(e){return G(n,e)}));if(!r)throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+t.join(", "));return e[s].apply(null,i)};return{fold:function(){if(arguments.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+arguments.length);var t=arguments[o];return t.apply(null,i)},match:c,log:function(e){n.console.log(e,{constructors:t,constructor:s,params:i})}}}})),r},Vs={generate:$s},Ws=(Vs.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]),function(e){return e.fold(b,b)}),Ks=function(){function e(e,t){return function(){e.apply(t,arguments)}}var t=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},r=function(t){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],u(t,e(a,this),e(s,this))},i=r.immediateFn||"function"===typeof n.setImmediate&&n.setImmediate||function(e){n.setTimeout(e,1)};function o(e){var t=this;null!==this._state?i((function(){var n=t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(qF){return void e.reject(qF)}e.resolve(r)}else(t._state?e.resolve:e.reject)(t._value)})):this._deferreds.push(e)}function a(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"===typeof t||"function"===typeof t)){var n=t.then;if("function"===typeof n)return void u(e(n,t),e(a,this),e(s,this))}this._state=!0,this._value=t,l.call(this)}catch(qF){s.call(this,qF)}}function s(e){this._state=!1,this._value=e,l.call(this)}function l(){for(var e=0,t=this._deferreds.length;e<t;e++)o.call(this,this._deferreds[e]);this._deferreds=null}function c(e,t,n,r){this.onFulfilled="function"===typeof e?e:null,this.onRejected="function"===typeof t?t:null,this.resolve=n,this.reject=r}function u(e,t,n){var r=!1;try{e((function(e){r||(r=!0,t(e))}),(function(e){r||(r=!0,n(e))}))}catch(i){if(r)return;r=!0,n(i)}}return r.prototype.catch=function(e){return this.then(null,e)},r.prototype.then=function(e,t){var n=this;return new r((function(r,i){o.call(n,new c(e,t,r,i))}))},r.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&t(arguments[0])?arguments[0]:arguments);return new r((function(t,n){if(0===e.length)return t([]);var r=e.length;function i(o,a){try{if(a&&("object"===typeof a||"function"===typeof a)){var s=a.then;if("function"===typeof s)return void s.call(a,(function(e){i(o,e)}),n)}e[o]=a,0===--r&&t(e)}catch(l){n(l)}}for(var o=0;o<e.length;o++)i(o,e[o])}))},r.resolve=function(e){return e&&"object"===typeof e&&e.constructor===r?e:new r((function(t){t(e)}))},r.reject=function(e){return new r((function(t,n){n(e)}))},r.race=function(e){return new r((function(t,n){for(var r=0,i=e.length;r<i;r++)e[r].then(t,n)}))},r},Gs=window.Promise?window.Promise:Ks(),Zs=function(e,t){var r,i=n.window.requestAnimationFrame,o=["ms","moz","webkit"],a=function(e){n.window.setTimeout(e,0)};for(r=0;r<o.length&&!i;r++)i=n.window[o[r]+"RequestAnimationFrame"];i||(i=a),i(e,t)},Us=function(e,t){return"number"!==typeof t&&(t=0),n.setTimeout(e,t)},qs=function(e,t){return"number"!==typeof t&&(t=1),n.setInterval(e,t)},Xs=function(e){return n.clearTimeout(e)},Ys=function(e){return n.clearInterval(e)},Js=function(e,t){var r,i=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];n.clearTimeout(r),r=Us((function(){e.apply(this,i)}),t)};return i.stop=function(){n.clearTimeout(r)},i},Qs={requestAnimationFrame:function(e,t){Ss?Ss.then(e):Ss=new Gs((function(e){t||(t=n.document.body),Zs(e,t)})).then(e)},setTimeout:Us,setInterval:qs,setEditorTimeout:function(e,t,n){return Us((function(){e.removed||t()}),n)},setEditorInterval:function(e,t,r){var i=qs((function(){e.removed?n.clearInterval(i):t()}),r);return i},debounce:Js,throttle:Js,clearInterval:Ys,clearTimeout:Xs};function el(e,t){void 0===t&&(t={});var r=0,i={},o=cn.fromDom(e),a=Mn(o),s=t.maxLoadTime||5e3,l=function(e){t.referrerPolicy=e},c=function(e){ar(er(o),e)},u=function(o,l,u){var d,f,h,p=function(e){h.status=e,h.passed=[],h.failed=[],d&&(d.onload=null,d.onerror=null,d=null)},m=function(){var e=h.passed,t=e.length;while(t--)e[t]();p(2)},g=function(){var e=h.failed,t=e.length;while(t--)e[t]();p(3)},v=function(){var e=n.navigator.userAgent.match(/WebKit\/(\d*)/);return!!(e&&parseInt(e[1],10)<536)},b=function(e,t){e()||((new Date).getTime()-w<s?Qs.setTimeout(t):g())},y=function(){b((function(){var t,n,r=e.styleSheets,i=r.length;while(i--)if(t=r[i],n=t.ownerNode?t.ownerNode:t.owningElement,n&&n.id===d.id)return m(),!0}),y)},C=function(){b((function(){try{var e=f.sheet.cssRules;return m(),!!e}catch(t){}}),C)};if(o=nn._addCacheSuffix(o),i[o]?h=i[o]:(h={passed:[],failed:[]},i[o]=h),l&&h.passed.push(l),u&&h.failed.push(u),1!==h.status)if(2!==h.status)if(3!==h.status){h.status=1,d=a.dom().createElement("link"),d.rel="stylesheet",d.type="text/css",d.id="u"+r++,d.async=!1,d.defer=!1;var w=(new Date).getTime();if(t.contentCssCors&&(d.crossOrigin="anonymous"),t.referrerPolicy&&Zr(cn.fromDom(d),"referrerpolicy",t.referrerPolicy),"onload"in d&&!v())d.onload=y,d.onerror=g;else{if(n.navigator.userAgent.indexOf("Firefox")>0)return f=a.dom().createElement("style"),f.textContent='@import "'+o+'"',C(),void c(cn.fromDom(f));y()}c(cn.fromDom(d)),d.href=o}else g();else m()},d=function(e){return Bs.nu((function(t){u(e,m(t,v(zs.value(e))),m(t,v(zs.error(e))))}))},f=function(e,t,n){Ps(U(e,d)).get((function(e){var r=Y(e,(function(e){return e.isValue()}));r.fail.length>0?n(r.fail.map(Ws)):t(r.pass.map(Ws))}))};return{load:u,loadAll:f,_setReferrerPolicy:l}}var tl=function(){var e=new WeakMap,t=function(t,n){var r=Qn(t),i=r.dom();return T.from(e.get(i)).getOrThunk((function(){var t=el(i,n);return e.set(i,t),t}))};return{forElement:t}},nl=tl(),rl=nn.each,il=nn.grep,ol=Vt.ie,al=/^([a-z0-9],?)+$/i,sl=/^[ \t\r\n]*$/,ll=function(e,t,n){var r=t.keep_values,i={set:function(e,r,i){t.url_converter&&(r=t.url_converter.call(t.url_converter_scope||n(),r,i,e[0])),e.attr("data-mce-"+i,r).attr(i,r)},get:function(e,t){return e.attr("data-mce-"+t)||e.attr(t)}},o={style:{set:function(t,n){null===n||"object"!==typeof n?(r&&t.attr("data-mce-style",n),null!==n&&"string"===typeof n?(t.removeAttr("style"),t.css(e.parse(n))):t.attr("style",n)):t.css(n)},get:function(t){var n=t.attr("data-mce-style")||t.attr("style");return n=e.serialize(e.parse(n),t[0].nodeName),n}}};return r&&(o.href=o.src=i),o},cl=function(e,t){var n=t.attr("style"),r=e.serialize(e.parse(n),t[0].nodeName);r||(r=null),t.attr("data-mce-style",r)},ul=function(e,t){var n,r,i=0;if(e)for(n=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)r=e.nodeType,(!t||3!==r||r!==n&&e.nodeValue.length)&&(i++,n=r);return i};function dl(e,t){var r=this;void 0===t&&(t={});var i={},o=n.window,a={},s=0,l=!0,c=!0,u=nl.forElement(cn.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),d=[],f=t.schema?t.schema:co({}),h=Do({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),p=t.ownEvents?new Go:Go.Event,m=f.getBlockElements(),g=xs.overrideDefaults((function(){return{context:e,element:Te.getRoot()}})),v=function(e){if("string"===typeof e)return!!m[e];if(e){var t=e.nodeType;if(t)return!(1!==t||!m[e.nodeName])}return!1},b=function(t){return t&&e&&L(t)?e.getElementById(t):t},y=function(e){return g("string"===typeof e?b(e):e)},C=function(e,t,n){var r,i,o=y(e);return o.length&&(r=Ee[t],i=r&&r.get?r.get(o,t):o.attr(t)),"undefined"===typeof i&&(i=n||""),i},w=function(e){var t=b(e);return t?t.attributes:[]},x=function(e,n,r){""===r&&(r=null);var i=y(e),o=i.attr(n);if(i.length){var a=Ee[n];a&&a.set?a.set(i,r,n):i.attr(n,r),o!==r&&t.onSetAttrib&&t.onSetAttrib({attrElm:i,attrName:n,attrValue:r})}},I=function(t,n){if(!ol||1!==t.nodeType||n)return t.cloneNode(n);var r=e.createElement(t.nodeName);return rl(w(t),(function(e){x(r,e.nodeName,C(t,e.nodeName))})),r},A=function(){return t.root_element||e.body},k=function(e){var t=kr(e);return{x:t.x,y:t.y,w:t.width,h:t.height}},S=function(t,n){return ci(e.body,b(t),n)},_=function(e,n,r){var i=L(n)?y(e).css(n,r):y(e).css(n);t.update_styles&&cl(h,i)},T=function(e,n){var r=y(e).css(n);t.update_styles&&cl(h,r)},E=function(e,t,n){var r=y(e);return n?r.css(t):(t=t.replace(/-(\D)/g,(function(e,t){return t.toUpperCase()})),"float"===t&&(t=Vt.browser.isIE()?"styleFloat":"cssFloat"),r[0]&&r[0].style?r[0].style[t]:void 0)},O=function(e){var t,n;return e=b(e),t=E(e,"width"),n=E(e,"height"),-1===t.indexOf("px")&&(t=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(t,10)||e.offsetWidth||e.clientWidth,h:parseInt(n,10)||e.offsetHeight||e.clientHeight}},R=function(e){e=b(e);var t=S(e),n=O(e);return{x:t.x,y:t.y,w:n.w,h:n.h}},N=function(e,t){var n;if(!e)return!1;if(!Array.isArray(e)){if("*"===t)return 1===e.nodeType;if(al.test(t)){var r=t.toLowerCase().split(/,/),i=e.nodeName.toLowerCase();for(n=r.length-1;n>=0;n--)if(r[n]===i)return!0;return!1}if(e.nodeType&&1!==e.nodeType)return!1}var o=Array.isArray(e)?e:[e];return Oa(t,o[0].ownerDocument||o[0],null,o).length>0},D=function(e,t,n,r){var i,o=[],a=b(e);r=void 0===r,n=n||("BODY"!==A().nodeName?A().parentNode:null),nn.is(t,"string")&&(i=t,t="*"===t?function(e){return 1===e.nodeType}:function(e){return N(e,i)});while(a){if(a===n||!a.nodeType||9===a.nodeType)break;if(!t||"function"===typeof t&&t(a)){if(!r)return[a];o.push(a)}a=a.parentNode}return r?o:null},B=function(e,t,n){var r=D(e,t,n,!1);return r&&r.length>0?r[0]:null},M=function(e,t,n){var r=t;if(e)for("string"===typeof t&&(r=function(e){return N(e,t)}),e=e[n];e;e=e[n])if("function"===typeof r&&r(e))return e;return null},P=function(e,t){return M(e,t,"nextSibling")},F=function(e,t){return M(e,t,"previousSibling")},j=function(n,r){return Oa(n,b(r)||t.root_element||e,[])},H=function(e,t,n){var i,o="string"===typeof e?b(e):e;if(!o)return!1;if(nn.isArray(o)&&(o.length||0===o.length))return i=[],rl(o,(function(e,r){e&&("string"===typeof e&&(e=b(e)),i.push(t.call(n,e,r)))})),i;var a=n||r;return t.call(a,o)},z=function(e,t){y(e).each((function(e,n){rl(t,(function(e,t){x(n,t,e)}))}))},$=function(e,t){var n=y(e);ol?n.each((function(e,n){if(!1!==n.canHaveHTML){while(n.firstChild)n.removeChild(n.firstChild);try{n.innerHTML="<br>"+t,n.removeChild(n.firstChild)}catch(r){xs("<div></div>").html("<br>"+t).contents().slice(1).appendTo(n)}return t}})):n.html(t)},V=function(t,n,r,i,o){return H(t,(function(t){var a="string"===typeof n?e.createElement(n):n;return z(a,r),i&&("string"!==typeof i&&i.nodeType?a.appendChild(i):"string"===typeof i&&$(a,i)),o?a:t.appendChild(a)}))},W=function(t,n,r){return V(e.createElement(t),t,n,r,!0)},K=Ji.decode,G=Ji.encodeAllRaw,Z=function(e,t,n){var r,i="";for(r in i+="<"+e,t)t.hasOwnProperty(r)&&null!==t[r]&&"undefined"!==typeof t[r]&&(i+=" "+r+'="'+G(t[r])+'"');return"undefined"!==typeof n?i+">"+n+"</"+e+">":i+" />"},U=function(t){var n,r=e.createElement("div"),i=e.createDocumentFragment();i.appendChild(r),t&&(r.innerHTML=t);while(n=r.firstChild)i.appendChild(n);return i.removeChild(r),i},q=function(e,t){var n=y(e);return t?n.each((function(){var e;while(e=this.firstChild)3===e.nodeType&&0===e.data.length?this.removeChild(e):this.parentNode.insertBefore(e,this)})).remove():n.remove(),n.length>1?n.toArray():n[0]},X=function(e){return H(e,(function(e){var t,n=e.attributes;for(t=n.length-1;t>=0;t--)e.removeAttributeNode(n.item(t))}))},Y=function(e){return h.parse(e)},J=function(e,t){return h.serialize(e,t)},Q=function(t){var r,o;if(Te!==dl.DOM&&e===n.document){if(i[t])return;i[t]=!0}o=e.getElementById("mceDefaultStyles"),o||(o=e.createElement("style"),o.id="mceDefaultStyles",o.type="text/css",r=e.getElementsByTagName("head")[0],r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o)),o.styleSheet?o.styleSheet.cssText+=t:o.appendChild(e.createTextNode(t))},ee=function(r){if(Te===dl.DOM||e!==n.document){r||(r="");var i=e.getElementsByTagName("head")[0];rl(r.split(","),(function(e){if(e=nn._addCacheSuffix(e),!a[e]){a[e]=!0;var n=W("link",Pe(Pe({rel:"stylesheet",type:"text/css",href:e},t.contentCssCors?{crossOrigin:"anonymous"}:{}),t.referrerPolicy?{referrerPolicy:t.referrerPolicy}:{}));i.appendChild(n)}}))}else dl.DOM.loadCSS(r)},te=function(e,t,n){y(e).toggleClass(t,n).each((function(){""===this.className&&xs(this).attr("class",null)}))},ne=function(e,t){y(e).addClass(t)},re=function(e,t){te(e,t,!1)},ie=function(e,t){return y(e).hasClass(t)},oe=function(e){y(e).show()},ae=function(e){y(e).hide()},se=function(e){return"none"===y(e).css("display")},le=function(e){return(e||"mce_")+s++},ce=function(e){var t="string"===typeof e?b(e):e;return Tr(t)?t.outerHTML:xs("<div></div>").append(xs(t).clone()).html()},ue=function(e,t){y(e).each((function(){try{if("outerHTML"in this)return void(this.outerHTML=t)}catch(e){}q(xs(this).html(t),!0)}))},de=function(e,t){var n=b(t);return H(e,(function(e){var t=n.parentNode,r=n.nextSibling;return r?t.insertBefore(e,r):t.appendChild(e),e}))},fe=function(e,t,n){return H(t,(function(t){return nn.is(t,"array")&&(e=e.cloneNode(!0)),n&&rl(il(t.childNodes),(function(t){e.appendChild(t)})),t.parentNode.replaceChild(e,t)}))},he=function(e,t){var n;return e.nodeName!==t.toUpperCase()&&(n=W(t),rl(w(e),(function(t){x(n,t.nodeName,C(e,t.nodeName))})),fe(n,e,!0)),n||e},pe=function(e,t){var n,r=e;while(r){n=t;while(n&&r!==n)n=n.parentNode;if(r===n)break;r=r.parentNode}return!r&&e.ownerDocument?e.ownerDocument.documentElement:r},me=function(e){return h.toHex(nn.trim(e))},ge=function(e){if(Tr(e)){var t="a"===e.nodeName.toLowerCase()&&!C(e,"href")&&C(e,"id");if(C(e,"name")||C(e,"data-mce-bookmark")||t)return!0}return!1},ve=function(e,t){var n,r,i=0;if(ge(e))return!1;if(e=e.firstChild,e){var o=new Is(e,e.parentNode),a=f?f.getWhiteSpaceElements():{};t=t||(f?f.getNonEmptyElements():null);do{if(n=e.nodeType,Tr(e)){var s=e.getAttribute("data-mce-bogus");if(s){e=o.next("all"===s);continue}if(r=e.nodeName.toLowerCase(),t&&t[r]){if("br"===r){i++,e=o.next();continue}return!1}if(ge(e))return!1}if(8===n)return!1;if(3===n&&!sl.test(e.nodeValue))return!1;if(3===n&&e.parentNode&&a[e.parentNode.nodeName]&&sl.test(e.nodeValue))return!1;e=o.next()}while(e)}return i<=1},be=function(){return e.createRange()},ye=function(e,t,n){var r,i,o,a=be();if(e&&t)return a.setStart(e.parentNode,ul(e)),a.setEnd(t.parentNode,ul(t)),r=a.extractContents(),a=be(),a.setStart(t.parentNode,ul(t)+1),a.setEnd(e.parentNode,ul(e)+1),i=a.extractContents(),o=e.parentNode,o.insertBefore(Di(Te,r),e),n?o.insertBefore(n,e):o.insertBefore(t,e),o.insertBefore(Di(Te,i),e),q(e),n||t},Ce=function(n,r,i,a){if(nn.isArray(n)){var s=n.length,l=[];while(s--)l[s]=Ce(n[s],r,i,a);return l}return!t.collect||n!==e&&n!==o||d.push([n,r,i,a]),p.bind(n,r,i,a||Te)},we=function(t,n,r){var i;if(nn.isArray(t)){i=t.length;var a=[];while(i--)a[i]=we(t[i],n,r);return a}if(d.length>0&&(t===e||t===o)){i=d.length;while(i--){var s=d[i];t!==s[0]||n&&n!==s[1]||r&&r!==s[2]||p.unbind(s[0],s[1],s[2])}}return p.unbind(t,n,r)},xe=function(e,t,n){return p.fire(e,t,n)},Ie=function(e){if(e&&Tr(e)){var t=e.getAttribute("data-mce-contenteditable");return t&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null}return null},Ae=function(e){for(var t=A(),n=null;e&&e!==t;e=e.parentNode)if(n=Ie(e),null!==n)break;return n},ke=function(){if(d.length>0){var e=d.length;while(e--){var t=d[e];p.unbind(t[0],t[1],t[2])}}Oa.setDocument&&Oa.setDocument()},Se=function(e,t){while(e){if(t===e)return!0;e=e.parentNode}return!1},_e=function(e){return"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset},Te={doc:e,settings:t,win:o,files:a,stdMode:l,boxModel:c,styleSheetLoader:u,boundEvents:d,styles:h,schema:f,events:p,isBlock:v,$:g,$$:y,root:null,clone:I,getRoot:A,getViewPort:k,getRect:R,getSize:O,getParent:B,getParents:D,get:b,getNext:P,getPrev:F,select:j,is:N,add:V,create:W,createHTML:Z,createFragment:U,remove:q,setStyle:_,getStyle:E,setStyles:T,removeAllAttribs:X,setAttrib:x,setAttribs:z,getAttrib:C,getPos:S,parseStyle:Y,serializeStyle:J,addStyle:Q,loadCSS:ee,addClass:ne,removeClass:re,hasClass:ie,toggleClass:te,show:oe,hide:ae,isHidden:se,uniqueId:le,setHTML:$,getOuterHTML:ce,setOuterHTML:ue,decode:K,encode:G,insertAfter:de,replace:fe,rename:he,findCommonAncestor:pe,toHex:me,run:H,getAttribs:w,isEmpty:ve,createRng:be,nodeIndex:ul,split:ye,bind:Ce,unbind:we,fire:xe,getContentEditable:Ie,getContentEditableParent:Ae,destroy:ke,isChildOf:Se,dumpRng:_e},Ee=ll(h,t,(function(){return Te}));return Te}(function(e){e.DOM=e(n.document),e.nodeIndex=ul})(dl||(dl={}));var fl=dl,hl=fl.DOM,pl=nn.each,ml=nn.grep,gl=0,vl=1,bl=2,yl=3,Cl=function(){function e(e){void 0===e&&(e={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=e}return e.prototype._setReferrerPolicy=function(e){this.settings.referrerPolicy=e},e.prototype.loadScript=function(e,t,r){var i,o=hl,a=function(){o.remove(l),i&&(i.onreadystatechange=i.onload=i=null),t()},s=function(){j(r)?r():"undefined"!==typeof n.console&&n.console.log&&n.console.log("Failed to load script: "+e)},l=o.uniqueId();i=n.document.createElement("script"),i.id=l,i.type="text/javascript",i.src=nn._addCacheSuffix(e),this.settings.referrerPolicy&&o.setAttrib(i,"referrerpolicy",this.settings.referrerPolicy),i.onload=a,i.onerror=s,(n.document.getElementsByTagName("head")[0]||n.document.body).appendChild(i)},e.prototype.isDone=function(e){return this.states[e]===bl},e.prototype.markDone=function(e){this.states[e]=bl},e.prototype.add=function(e,t,n,r){var i=this.states[e];void 0===i&&(this.queue.push(e),this.states[e]=gl),t&&(this.scriptLoadedCallbacks[e]||(this.scriptLoadedCallbacks[e]=[]),this.scriptLoadedCallbacks[e].push({success:t,failure:r,scope:n||this}))},e.prototype.load=function(e,t,n,r){return this.add(e,t,n,r)},e.prototype.remove=function(e){delete this.states[e],delete this.scriptLoadedCallbacks[e]},e.prototype.loadQueue=function(e,t,n){this.loadScripts(this.queue,e,t,n)},e.prototype.loadScripts=function(e,t,n,r){var i=this,o=[],a=function(e,t){pl(i.scriptLoadedCallbacks[t],(function(t){j(t[e])&&t[e].call(t.scope)})),i.scriptLoadedCallbacks[t]=void 0};i.queueLoadedCallbacks.push({success:t,failure:r,scope:n||this});var s=function(){var t=ml(e);if(e.length=0,pl(t,(function(e){i.states[e]!==bl?i.states[e]!==yl?i.states[e]!==vl&&(i.states[e]=vl,i.loading++,i.loadScript(e,(function(){i.states[e]=bl,i.loading--,a("success",e),s()}),(function(){i.states[e]=yl,i.loading--,o.push(e),a("failure",e),s()}))):a("failure",e):a("success",e)})),!i.loading){var n=i.queueLoadedCallbacks.slice(0);i.queueLoadedCallbacks.length=0,pl(n,(function(e){0===o.length?j(e.success)&&e.success.call(e.scope):j(e.failure)&&e.failure.call(e.scope,o)}))}};s()},e.ScriptLoader=new e,e}(),wl=function(e){var t=e,n=function(){return t},r=function(e){t=e};return{get:n,set:r}},xl=function(e){return D(e)&&Se(e,"raw")},Il=function(e){return B(e)&&e.length>1},Al={},kl=wl("en"),Sl=function(){return ke(Al,kl.get())},_l=function(){return ve(Al,(function(e){return Pe({},e)}))},Tl=function(e){e&&kl.set(e)},El=function(){return kl.get()},Ol=function(e,t){var n=Al[e];n||(Al[e]=n={}),ge(t,(function(e,t){n[t.toLowerCase()]=e}))},Rl=function(e){var t=Sl().getOr({}),n=function(e){return j(e)?Object.prototype.toString.call(e):r(e)?"":""+e},r=function(e){return""===e||null===e||void 0===e},i=function(e){var r=n(e);return ke(t,r.toLowerCase()).map(n).getOr(r)},o=function(e){return e.replace(/{context:\w+}$/,"")},a=function(e){return e};if(r(e))return a("");if(xl(e))return a(n(e.raw));if(Il(e)){var s=e.slice(1),l=i(e[0]).replace(/\{([0-9]+)\}/g,(function(e,t){return Se(s,t)?n(s[t]):e}));return a(o(l))}return a(o(i(e)))},Nl=function(){return Sl().bind((function(e){return ke(e,"_dir")})).exists((function(e){return"rtl"===e}))},Ll=function(e){return Se(Al,e)},Dl={getData:_l,setCode:Tl,getCode:El,add:Ol,translate:Rl,isRtl:Nl,hasCode:Ll};function Bl(){var e=this,t=[],n={},r={},i=[],o=function(e,t){var n=J(i,(function(n){return n.name===e&&n.state===t}));q(n,(function(e){return e.callback()}))},a=function(e){if(r[e])return r[e].instance},s=function(e){var t;return r[e]&&(t=r[e].dependencies),t||[]},l=function(e,t){!1!==Bl.languageLoad&&m(e,(function(){var r=Dl.getCode(),i=","+(t||"")+",";!r||t&&-1===i.indexOf(","+r+",")||Cl.ScriptLoader.add(n[e]+"/langs/"+r+".js")}),"loaded")},c=function(e,n,i){var a=n;return t.push(a),r[e]={instance:a,dependencies:i},o(e,"added"),a},u=function(e){delete n[e],delete r[e]},d=function(e,t){return"object"===typeof t?t:"string"===typeof e?{prefix:"",resource:t,suffix:""}:{prefix:e.prefix,resource:t,suffix:e.suffix}},f=function(t,n){var r=e.urls[t];q(n,(function(e){Cl.ScriptLoader.add(r+"/"+e)}))},h=function(e,t,n,r){var i=s(e);q(i,(function(e){var n=d(t,e);p(n.resource,n,void 0,void 0)})),n&&(r?n.call(r):n.call(Cl))},p=function(e,t,i,a,s){if(!n[e]){var l="string"===typeof t?t:t.prefix+t.resource+t.suffix;0!==l.indexOf("/")&&-1===l.indexOf("://")&&(l=Bl.baseURL+"/"+l),n[e]=l.substring(0,l.lastIndexOf("/"));var c=function(){o(e,"loaded"),h(e,t,i,a)};r[e]?c():Cl.ScriptLoader.add(l,c,a,s)}},m=function(e,t,o){void 0===o&&(o="added"),Se(r,e)&&"added"===o||Se(n,e)&&"loaded"===o?t():i.push({name:e,state:o,callback:t})};return{items:t,urls:n,lookup:r,_listeners:i,get:a,dependencies:s,requireLangPack:l,add:c,remove:u,createUrl:d,addComponents:f,load:p,waitFor:m}}(function(e){e.PluginManager=e(),e.ThemeManager=e()})(Bl||(Bl={}));var Ml=Bl,Pl=function(e,t){var r=null,i=function(){null!==r&&(n.clearTimeout(r),r=null)},o=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];null===r&&(r=n.setTimeout((function(){e.apply(null,i),r=null}),t))};return{cancel:i,throttle:o}},Fl=function(e,t){var r=null,i=function(){null!==r&&(n.clearTimeout(r),r=null)},o=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];null!==r&&n.clearTimeout(r),r=n.setTimeout((function(){e.apply(null,i),r=null}),t)};return{cancel:i,throttle:o}},jl=function(e,t){var n=qr(e,t);return void 0===n||""===n?[]:n.split(" ")},Hl=function(e,t,n){var r=jl(e,t),i=r.concat([n]);return Zr(e,t,i.join(" ")),!0},zl=function(e,t,n){var r=J(jl(e,t),(function(e){return e!==n}));return r.length>0?Zr(e,t,r.join(" ")):Jr(e,t),!1},$l=function(e){return void 0!==e.dom().classList},Vl=function(e){return jl(e,"class")},Wl=function(e,t){return Hl(e,"class",t)},Kl=function(e,t){return zl(e,"class",t)},Gl=function(e,t){$l(e)?e.dom().classList.add(t):Wl(e,t)},Zl=function(e){var t=$l(e)?e.dom().classList:Vl(e);0===t.length&&Jr(e,"class")},Ul=function(e,t){if($l(e)){var n=e.dom().classList;n.remove(t)}else Kl(e,t);Zl(e)},ql=function(e,t){return $l(e)&&e.dom().classList.contains(t)},Xl=function(e,t){var n=[];return q(Gn(e),(function(e){t(e)&&(n=n.concat([e])),n=n.concat(Xl(e,t))})),n},Yl=function(e,t){return En(t,e)};function Jl(e,t,n,r,i){return e(n,r)?T.some(n):j(i)&&i(n)?T.none():t(n,r,i)}var Ql=function(e,t,n){var r=e.dom(),i=j(n)?n:v(!1);while(r.parentNode){r=r.parentNode;var o=cn.fromDom(r);if(t(o))return T.some(o);if(i(o))break}return T.none()},ec=function(e,t,n){var r=function(e,t){return t(e)};return Jl(r,Ql,e,t,n)},tc=function(e,t,n){return Ql(e,(function(e){return _n(e,t)}),n)},nc=function(e,t){return On(t,e)},rc=function(e,t,n){var r=function(e,t){return _n(e,t)};return Jl(r,tc,e,t,n)},ic=v("mce-annotation"),oc=v("data-mce-annotation"),ac=v("data-mce-annotation-uid"),sc=function(e,t){var n=e.selection.getRng(),r=cn.fromDom(n.startContainer),i=cn.fromDom(e.getBody()),o=t.fold((function(){return"."+ic()}),(function(e){return"["+oc()+'="'+e+'"]'})),a=Zn(r,n.startOffset).getOr(r),s=rc(a,o,(function(e){return Rn(e,i)})),l=function(e,t){return Yr(e,t)?T.some(qr(e,t)):T.none()};return s.bind((function(t){return l(t,""+ac()).bind((function(n){return l(t,""+oc()).map((function(t){var r=cc(e,n);return{uid:n,name:t,elements:r}}))}))}))},lc=function(e){return yn(e)&&ql(e,ic())},cc=function(e,t){var n=cn.fromDom(e.getBody());return Yl(n,"["+ac()+'="'+t+'"]')},uc=function(e,t){var n=cn.fromDom(e.getBody()),r=Yl(n,"["+oc()+'="'+t+'"]'),i={};return q(r,(function(e){var t=qr(e,ac()),n=i.hasOwnProperty(t)?i[t]:[];i[t]=n.concat([e])})),i},dc=function(e,t){var n=wl({}),r=function(){return{listeners:[],previous:wl(T.none())}},i=function(e,t){o(e,(function(e){return t(e),e}))},o=function(e,t){var i=n.get(),o=i.hasOwnProperty(e)?i[e]:r(),a=t(o);i[e]=a,n.set(i)},a=function(e,t,n){i(e,(function(r){q(r.listeners,(function(r){return r(!0,e,{uid:t,nodes:U(n,(function(e){return e.dom()}))})}))}))},s=function(e){i(e,(function(t){q(t.listeners,(function(t){return t(!1,e)}))}))},l=Fl((function(){var t=n.get(),r=ue(pe(t));q(r,(function(t){o(t,(function(n){var r=n.previous.get();return sc(e,T.some(t)).fold((function(){r.isSome()&&(s(t),n.previous.set(T.none()))}),(function(e){var t=e.uid,i=e.name,o=e.elements;r.is(t)||(a(i,t,o),n.previous.set(T.some(t)))})),{previous:n.previous,listeners:n.listeners}}))}))}),30);e.on("remove",(function(){l.cancel()})),e.on("NodeChange",(function(){l.throttle()}));var c=function(e,t){o(e,(function(e){return{previous:e.previous,listeners:e.listeners.concat([t])}}))};return{addListener:c}},fc=function(e,t){var n=function(e){return T.from(e.attr(oc())).bind(t.lookup)};e.on("init",(function(){e.serializer.addNodeFilter("span",(function(e){q(e,(function(e){n(e).each((function(t){!1===t.persistent&&e.unwrap()}))}))}))}))},hc=function(){var e={},t=function(t,n){e[t]={name:t,settings:n}},n=function(t){return e.hasOwnProperty(t)?T.from(e[t]).map((function(e){return e.settings})):T.none()};return{register:t,lookup:n}},pc=0,mc=function(e){var t=new Date,n=t.getTime(),r=Math.floor(1e9*Math.random());return pc++,e+"_"+r+pc+String(n)},gc=function(e,t){q(t,(function(t){Gl(e,t)}))},vc=function(e,t){var r=t||n.document,i=r.createElement("div");return i.innerHTML=e,Gn(cn.fromDom(i))},bc=function(e){return e.dom().innerHTML},yc=function(e,t){var n=Bn(e),r=n.dom(),i=cn.fromDom(r.createDocumentFragment()),o=vc(t,r);cr(i,o),ur(e),ar(e,i)},Cc=function(e,t){return cn.fromDom(e.dom().cloneNode(t))},wc=function(e){return Cc(e,!1)},xc=function(e){return Cc(e,!0)},Ic=function(e,t,n){void 0===n&&(n=x);var r=new Is(e,t),i=function(e){var t;do{t=r[e]()}while(t&&!Fr(t)&&!n(t));return T.from(t).filter(Fr)};return{current:function(){return T.from(r.current()).filter(Fr)},next:function(){return i("next")},prev:function(){return i("prev")},prev2:function(){return i("prev2")}}},Ac=function(e,t){var n=t||function(t){return e.isBlock(t)||$r(t)||Wr(t)},r=function(e,t,n,i){if(Fr(e)){var o=i(e,t,e.data);if(-1!==o)return T.some({container:e,offset:o})}return n().bind((function(e){return r(e.container,e.offset,n,i)}))},i=function(e,t,i,o){var a=Ic(e,o,n);return r(e,t,(function(){return a.prev().map((function(e){return{container:e,offset:e.length}}))}),i).getOrNull()},o=function(e,t,i,o){var a=Ic(e,o,n);return r(e,t,(function(){return a.next().map((function(e){return{container:e,offset:0}}))}),i).getOrNull()};return{backwards:i,forwards:o}},kc=Eo,Sc=Ro,_c=No,Tc=Tr,Ec=Fr,Oc=function(e){return Ec(e)&&(e=e.parentNode),Tc(e)&&e.hasAttribute("data-mce-caret")},Rc=function(e){return Ec(e)&&Sc(e.data)},Nc=function(e){return Oc(e)||Rc(e)},Lc=function(e){return e.firstChild!==e.lastChild||!$r(e.firstChild)},Dc=function(e,t){var n,r=e.ownerDocument,i=r.createTextNode(kc),o=e.parentNode;if(t){if(n=e.previousSibling,Ec(n)){if(Nc(n))return n;if(Hc(n))return n.splitText(n.data.length-1)}o.insertBefore(i,e)}else{if(n=e.nextSibling,Ec(n)){if(Nc(n))return n;if(jc(n))return n.splitText(1),n}e.nextSibling?o.insertBefore(i,e.nextSibling):o.appendChild(i)}return i},Bc=function(e){var t=e.container();return!(!e||!Fr(t))&&(t.data.charAt(e.offset())===kc||e.isAtStart()&&Rc(t.previousSibling))},Mc=function(e){var t=e.container();return!(!e||!Fr(t))&&(t.data.charAt(e.offset()-1)===kc||e.isAtEnd()&&Rc(t.nextSibling))},Pc=function(){var e=n.document.createElement("br");return e.setAttribute("data-mce-bogus","1"),e},Fc=function(e,t,n){var r=t.ownerDocument,i=r.createElement(e);i.setAttribute("data-mce-caret",n?"before":"after"),i.setAttribute("data-mce-bogus","all"),i.appendChild(Pc());var o=t.parentNode;return n?o.insertBefore(i,t):t.nextSibling?o.insertBefore(i,t.nextSibling):o.appendChild(i),i},jc=function(e){return Ec(e)&&e.data[0]===kc},Hc=function(e){return Ec(e)&&e.data[e.data.length-1]===kc},zc=function(e){var t=e.getElementsByTagName("br"),n=t[t.length-1];Lr(n)&&n.parentNode.removeChild(n)},$c=function(e){return e&&e.hasAttribute("data-mce-caret")?(zc(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null},Vc=function(e){return Oc(e.startContainer)},Wc=function(e){for(var t=[],n=function(e){t.push(e)},r=0;r<e.length;r++)e[r].each(n);return t},Kc=function(e,t,n){return e.isSome()&&t.isSome()?T.some(n(e.getOrDie(),t.getOrDie())):T.none()},Gc=function(e,t,n,r){return e.isSome()&&t.isSome()&&n.isSome()?T.some(r(e.getOrDie(),t.getOrDie(),n.getOrDie())):T.none()},Zc=function(e,t){return e?T.some(t):T.none()},Uc=Math.round,qc=function(e){return e?{left:Uc(e.left),top:Uc(e.top),bottom:Uc(e.bottom),right:Uc(e.right),width:Uc(e.width),height:Uc(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},Xc=function(e,t){return e=qc(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e},Yc=function(e,t){return e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right},Jc=function(e,t,n){return e>=0&&e<=Math.min(t.height,n.height)/2},Qc=function(e,t){return e.bottom-e.height/2<t.top||!(e.top>t.bottom)&&Jc(t.top-e.bottom,e,t)},eu=function(e,t){return e.top>t.bottom||!(e.bottom<t.top)&&Jc(t.bottom-e.top,e,t)},tu=function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom},nu=function(e){var t=e.startContainer,n=e.startOffset;return t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},ru=function(e,t){return 1===e.nodeType&&e.hasChildNodes()&&(t>=e.childNodes.length&&(t=e.childNodes.length-1),e=e.childNodes[t]),e},iu=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),ou=function(e){return"string"===typeof e&&e.charCodeAt(0)>=768&&iu.test(e)},au=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){for(var n=0;n<e.length;n++)if(e[n](t))return!0;return!1}},su=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){for(var n=0;n<e.length;n++)if(!e[n](t))return!1;return!0}},lu=Vr,cu=Wr,uu=$r,du=Fr,fu=Er(["script","style","textarea"]),hu=Er(["img","input","textarea","hr","iframe","video","audio","object"]),pu=Er(["table"]),mu=Nc,gu=function(e){return!mu(e)&&(du(e)?!fu(e.parentNode):hu(e)||uu(e)||pu(e)||bu(e))},vu=function(e){return Tr(e)&&"true"===e.getAttribute("unselectable")},bu=function(e){return!1===vu(e)&&cu(e)},yu=function(e,t){for(e=e.parentNode;e&&e!==t;e=e.parentNode){if(bu(e))return!1;if(lu(e))return!0}return!0},Cu=function(e){return!!bu(e)&&!0!==ee(he(e.getElementsByTagName("*")),(function(e,t){return e||lu(t)}),!1)},wu=function(e){return hu(e)||Cu(e)},xu=function(e,t){return gu(e)&&yu(e,t)},Iu=Tr,Au=gu,ku=Or("display","block table"),Su=Or("float","left right"),_u=su(Iu,Au,C(Su)),Tu=C(Or("white-space","pre pre-line pre-wrap")),Eu=Fr,Ou=$r,Ru=fl.nodeIndex,Nu=ru,Lu=function(e){return"createRange"in e?e.createRange():fl.DOM.createRng()},Du=function(e){return e&&/[\r\n\t ]/.test(e)},Bu=function(e){return!!e.setStart&&!!e.setEnd},Mu=function(e){var t,n=e.startContainer,r=e.startOffset;return!!(Du(e.toString())&&Tu(n.parentNode)&&Fr(n)&&(t=n.data,Du(t[r-1])||Du(t[r+1])))},Pu=function(e){var t=e.ownerDocument,n=Lu(t),r=t.createTextNode(Oo),i=e.parentNode;i.insertBefore(r,e),n.setStart(r,0),n.setEnd(r,1);var o=qc(n.getBoundingClientRect());return i.removeChild(r),o},Fu=function(e){var t=e.startContainer,n=e.endContainer,r=e.startOffset,i=e.endOffset;if(t===n&&Fr(n)&&0===r&&1===i){var o=e.cloneRange();return o.setEndAfter(n),Hu(o)}return null},ju=function(e){return 0===e.left&&0===e.right&&0===e.top&&0===e.bottom},Hu=function(e){var t,n=e.getClientRects();return t=n.length>0?qc(n[0]):qc(e.getBoundingClientRect()),!Bu(e)&&Ou(e)&&ju(t)?Pu(e):ju(t)&&Bu(e)?Fu(e):t},zu=function(e,t){var n=Xc(e,t);return n.width=1,n.right=n.left+1,n},$u=function(e){var t,n,r=[],i=function(e){0!==e.height&&(r.length>0&&Yc(e,r[r.length-1])||r.push(e))},o=function(e,t){var n=Lu(e.ownerDocument);if(t<e.data.length){if(ou(e.data[t]))return r;if(ou(e.data[t-1])&&(n.setStart(e,t),n.setEnd(e,t+1),!Mu(n)))return i(zu(Hu(n),!1)),r}t>0&&(n.setStart(e,t-1),n.setEnd(e,t),Mu(n)||i(zu(Hu(n),!1))),t<e.data.length&&(n.setStart(e,t),n.setEnd(e,t+1),Mu(n)||i(zu(Hu(n),!0)))};if(Eu(e.container()))return o(e.container(),e.offset()),r;if(Iu(e.container()))if(e.isAtEnd())n=Nu(e.container(),e.offset()),Eu(n)&&o(n,n.data.length),_u(n)&&!Ou(n)&&i(zu(Hu(n),!1));else{if(n=Nu(e.container(),e.offset()),Eu(n)&&o(n,0),_u(n)&&e.isAtEnd())return i(zu(Hu(n),!1)),r;t=Nu(e.container(),e.offset()-1),_u(t)&&!Ou(t)&&(ku(t)||ku(n)||!_u(n))&&i(zu(Hu(t),!1)),_u(n)&&i(zu(Hu(n),!0))}return r};function Vu(e,t,n){var r=function(){return Eu(e),0===t},i=function(){return Eu(e)?t>=e.data.length:t>=e.childNodes.length},o=function(){var n=Lu(e.ownerDocument);return n.setStart(e,t),n.setEnd(e,t),n},a=function(){return n||(n=$u(Vu(e,t))),n},s=function(){return a().length>0},l=function(n){return n&&e===n.container()&&t===n.offset()},c=function(n){return Nu(e,n?t-1:t)};return{container:v(e),offset:v(t),toRange:o,getClientRects:a,isVisible:s,isAtStart:r,isAtEnd:i,isEqual:l,getNode:c}}(function(e){e.fromRangeStart=function(t){return e(t.startContainer,t.startOffset)},e.fromRangeEnd=function(t){return e(t.endContainer,t.endOffset)},e.after=function(t){return e(t.parentNode,Ru(t)+1)},e.before=function(t){return e(t.parentNode,Ru(t))},e.isAbove=function(e,t){return Kc(de(t.getClientRects()),fe(e.getClientRects()),Qc).getOr(!1)},e.isBelow=function(e,t){return Kc(fe(t.getClientRects()),de(e.getClientRects()),eu).getOr(!1)},e.isAtStart=function(e){return!!e&&e.isAtStart()},e.isAtEnd=function(e){return!!e&&e.isAtEnd()},e.isTextPosition=function(e){return!!e&&Fr(e.container())},e.isElementPosition=function(t){return!1===e.isTextPosition(t)}})(Vu||(Vu={}));var Wu,Ku=Vu,Gu=function(e,t){Fr(t)&&0===t.data.length&&e.remove(t)},Zu=function(e,t,n){t.insertNode(n),Gu(e,n.previousSibling),Gu(e,n.nextSibling)},Uu=function(e,t,n){var r=T.from(n.firstChild),i=T.from(n.lastChild);t.insertNode(n),r.each((function(t){return Gu(e,t.previousSibling)})),i.each((function(t){return Gu(e,t.nextSibling)}))},qu=function(e,t,n){zr(n)?Uu(e,t,n):Zu(e,t,n)},Xu=Fr,Yu=Lr,Ju=fl.nodeIndex,Qu=function(e){var t=e.parentNode;return Yu(t)?Qu(t):t},ed=function(e){return e?De(e.childNodes,(function(e,t){return Yu(t)&&"BR"!==t.nodeName?e=e.concat(ed(t)):e.push(t),e}),[]):[]},td=function(e,t){while(e=e.previousSibling){if(!Xu(e))break;t+=e.data.length}return t},nd=function(e){return function(t){return e===t}},rd=function(e){var t,n;t=ed(Qu(e)),n=Be(t,nd(e),e),t=t.slice(0,n+1);var r=De(t,(function(e,n,r){return Xu(n)&&Xu(t[r-1])&&e++,e}),0);return t=Ne(t,Er([e.nodeName])),n=Be(t,nd(e),e),n-r},id=function(e){var t;return t=Xu(e)?"text()":e.nodeName.toLowerCase(),t+"["+rd(e)+"]"},od=function(e,t,n){var r=[];for(t=t.parentNode;t!==e;t=t.parentNode){if(n&&n(t))break;r.push(t)}return r},ad=function(e,t){var n,r,i,o,a,s=[];return n=t.container(),r=t.offset(),Xu(n)?i=td(n,r):(o=n.childNodes,r>=o.length?(i="after",r=o.length-1):i="before",n=o[r]),s.push(id(n)),a=od(e,n),a=Ne(a,C(Lr)),s=s.concat(Re(a,(function(e){return id(e)}))),s.reverse().join("/")+","+i},sd=function(e,t,n){var r=ed(e);return r=Ne(r,(function(e,t){return!Xu(e)||!Xu(r[t-1])})),r=Ne(r,Er([t])),r[n]},ld=function(e,t){var n,r=e,i=0;while(Xu(r)){if(n=r.data.length,t>=i&&t<=i+n){e=r,t-=i;break}if(!Xu(r.nextSibling)){e=r,t=n;break}i+=n,r=r.nextSibling}return Xu(e)&&t>e.data.length&&(t=e.data.length),Ku(e,t)},cd=function(e,t){var n;if(!t)return null;var r=t.split(","),i=r[0].split("/");n=r.length>1?r[1]:"before";var o=De(i,(function(e,t){return t=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t),t?("text()"===t[1]&&(t[1]="#text"),sd(e,t[1],parseInt(t[2],10))):null}),e);return o?Xu(o)?ld(o,parseInt(n,10)):(n="after"===n?Ju(o)+1:Ju(o),Ku(o.parentNode,n)):null},ud=Wr,dd=function(e,t,n){var r,i;for(i=e(t.data.slice(0,n)).length,r=t.previousSibling;r&&Fr(r);r=r.previousSibling)i+=e(r.data).length;return i},fd=function(e,t,n,r,i){var o,a=r[i?"startContainer":"endContainer"],s=r[i?"startOffset":"endOffset"],l=[],c=0,u=e.getRoot();for(Fr(a)?l.push(n?dd(t,a,s):s):(o=a.childNodes,s>=o.length&&o.length&&(c=1,s=Math.max(0,o.length-1)),l.push(e.nodeIndex(o[s],n)+c));a&&a!==u;a=a.parentNode)l.push(e.nodeIndex(a,n));return l},hd=function(e,t,n,r){var i=t.dom,o={};return o.start=fd(i,e,n,r,!0),t.isCollapsed()||(o.end=fd(i,e,n,r,!1)),o},pd=function(e,t,n){var r=0;return nn.each(e.select(t),(function(e){if("all"!==e.getAttribute("data-mce-bogus"))return e!==n&&void r++})),r},md=function(e,t){var n,r,i,o=t?"start":"end";n=e[o+"Container"],r=e[o+"Offset"],Tr(n)&&"TR"===n.nodeName&&(i=n.childNodes,n=i[Math.min(t?r:r-1,i.length-1)],n&&(r=t?0:n.childNodes.length,e["set"+(t?"Start":"End")](n,r)))},gd=function(e){return md(e,!0),md(e,!1),e},vd=function(e,t){var n;if(Tr(e)&&(e=ru(e,t),ud(e)))return e;if(Nc(e)){if(Fr(e)&&Oc(e)&&(e=e.parentNode),n=e.previousSibling,ud(n))return n;if(n=e.nextSibling,ud(n))return n}},bd=function(e){return vd(e.startContainer,e.startOffset)||vd(e.endContainer,e.endOffset)},yd=function(e,t,n){var r=n.getNode(),i=r?r.nodeName:null,o=n.getRng();if(ud(r)||"IMG"===i)return{name:i,index:pd(n.dom,i,r)};var a=bd(o);return a?(i=a.tagName,{name:i,index:pd(n.dom,i,a)}):hd(e,n,t,o)},Cd=function(e){var t=e.getRng();return{start:ad(e.dom.getRoot(),Ku.fromRangeStart(t)),end:ad(e.dom.getRoot(),Ku.fromRangeEnd(t))}},wd=function(e){return{rng:e.getRng()}},xd=function(e,t,n){var r={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",r,"&#xFEFF;"):e.create("span",r)},Id=function(e,t){var n=e.dom,r=e.getRng(),i=n.uniqueId(),o=e.isCollapsed(),a=e.getNode(),s=a.nodeName;if("IMG"===s)return{name:s,index:pd(n,s,a)};var l=gd(r.cloneRange());if(!o){l.collapse(!1);var c=xd(n,i+"_end",t);qu(n,l,c)}r=gd(r),r.collapse(!0);var u=xd(n,i+"_start",t);return qu(n,r,u),e.moveToBookmark({id:i,keep:!0}),{id:i}},Ad=function(e,t,n){return 2===t?yd(_c,n,e):3===t?Cd(e):t?wd(e):Id(e,!1)},kd=y(yd,b,!0),Sd=fl.DOM,_d="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow",Td=function(e,t,n){var r=e.getParam(t,n);if(-1!==r.indexOf("=")){var i=e.getParam(t,"","hash");return i.hasOwnProperty(e.id)?i[e.id]:n}return r},Ed=function(e){return e.getParam("iframe_attrs",{})},Od=function(e){return e.getParam("doctype","<!DOCTYPE html>")},Rd=function(e){return e.getParam("document_base_url","")},Nd=function(e){return Td(e,"body_id","tinymce")},Ld=function(e){return Td(e,"body_class","")},Dd=function(e){return e.getParam("content_security_policy","")},Bd=function(e){return e.getParam("br_in_pre",!0)},Md=function(e){if(e.getParam("force_p_newlines",!1))return"p";var t=e.getParam("forced_root_block","p");return!1===t?"":!0===t?"p":t},Pd=function(e){return e.getParam("forced_root_block_attrs",{})},Fd=function(e){return e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},jd=function(e){return e.getParam("no_newline_selector","")},Hd=function(e){return e.getParam("keep_styles",!0)},zd=function(e){return e.getParam("end_container_on_empty_block",!1)},$d=function(e){return nn.explode(e.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large"))},Vd=function(e){return nn.explode(e.getParam("font_size_classes",""))},Wd=function(e){return e.getParam("images_dataimg_filter",v(!0),"function")},Kd=function(e){return e.getParam("automatic_uploads",!0,"boolean")},Gd=function(e){return e.getParam("images_reuse_filename",!1,"boolean")},Zd=function(e){return e.getParam("images_replace_blob_uris",!0,"boolean")},Ud=function(e){return e.getParam("icons","","string")},qd=function(e){return e.getParam("icons_url","","string")},Xd=function(e){return e.getParam("images_upload_url","","string")},Yd=function(e){return e.getParam("images_upload_base_path","","string")},Jd=function(e){return e.getParam("images_upload_credentials",!1,"boolean")},Qd=function(e){return e.getParam("images_upload_handler",null,"function")},ef=function(e){return e.getParam("content_css_cors",!1,"boolean")},tf=function(e){return e.getParam("referrer_policy","","string")},nf=function(e){return e.getParam("language","en","string")},rf=function(e){return e.getParam("language_url","","string")},of=function(e){return e.getParam("indent_use_margin",!1)},af=function(e){return e.getParam("indentation","40px","string")},sf=function(e){var t=e.getParam("content_css");return L(t)?U(t.split(","),xt):B(t)?t:!1===t||e.inline?[]:["default"]},lf=function(e){return e.getParam("directionality",Dl.isRtl()?"rtl":void 0)},cf=function(e){return e.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string")},uf=function(e){return e.getParam("object_resizing")},df=function(e){return e.getParam("resize_img_proportional",!0,"boolean")},ff=function(e){return e.getParam("placeholder",Sd.getAttrib(e.getElement(),"placeholder"),"string")},hf=function(e){return e.getParam("event_root")},pf=function(e){return e.getParam("service_message")},mf=function(e){return e.getParam("theme")},gf=function(e){return e.getParam("validate")},vf=function(e){return!1!==e.getParam("inline_boundaries")},bf=function(e){return e.getParam("formats")},yf=function(e){var t=e.getParam("preview_styles",_d);return L(t)?t:""},Cf=function(e){return e.getParam("custom_ui_selector","","string")},wf=function(e){return e.getParam("theme_url")},xf=function(e){return e.getParam("inline")},If=function(e){return e.getParam("hidden_input")},Af=function(e){return e.getParam("submit_patch")},kf=function(e){return"xml"===e.getParam("encoding")},Sf=function(e){return e.getParam("add_form_submit_trigger")},_f=function(e){return e.getParam("add_unload_trigger")},Tf=function(e){return""!==Md(e)},Ef=function(e){return e.getParam("custom_undo_redo_levels",0,"number")},Of=function(e){return e.getParam("disable_nodechange")},Rf=function(e){return e.getParam("readonly")},Nf=function(e){return e.getParam("content_css_cors")},Lf=function(e){return e.getParam("plugins")},Df=function(e){return e.getParam("external_plugins")},Bf=function(e){return e.getParam("block_unsupported_drop",!0,"boolean")},Mf=Tr,Pf=Fr,Ff=function(e){var t=e.parentNode;t&&t.removeChild(e)},jf=function(e){try{return e.nodeValue}catch(t){return""}},Hf=function(e,t){0===t.length?Ff(e):e.nodeValue=t},zf=function(e){var t=_c(e);return{count:e.length-t.length,text:t}},$f=function(e,t){return Uf(e),t},Vf=function(e,t){var n=zf(e.data.substr(0,t.offset())),r=zf(e.data.substr(t.offset())),i=n.text+r.text;return i.length>0?(Hf(e,i),Ku(e,t.offset()-n.count)):t},Wf=function(e,t){var n=t.container(),r=K(he(n.childNodes),e).map((function(e){return e<t.offset()?Ku(n,t.offset()-1):t})).getOr(t);return Uf(e),r},Kf=function(e,t){return Pf(e)&&t.container()===e?Vf(e,t):$f(e,t)},Gf=function(e,t){return t.container()===e.parentNode?Wf(e,t):$f(e,t)},Zf=function(e,t){return Ku.isTextPosition(t)?Kf(e,t):Gf(e,t)},Uf=function(e){if(Mf(e)&&Nc(e)&&(Lc(e)?e.removeAttribute("data-mce-caret"):Ff(e)),Pf(e)){var t=_c(jf(e));Hf(e,t)}},qf=Dt().browser,Xf=Wr,Yf=function(e){return Tr(e)&&/^(TD|TH)$/i.test(e.tagName)},Jf=function(e,t,n){var r,i,o,a,s,l=Xc(t.getBoundingClientRect(),n);return"BODY"===e.tagName?(r=e.ownerDocument.documentElement,i=e.scrollLeft||r.scrollLeft,o=e.scrollTop||r.scrollTop):(s=e.getBoundingClientRect(),i=e.scrollLeft-s.left,o=e.scrollTop-s.top),l.left+=i,l.right+=i,l.top+=o,l.bottom+=o,l.width=1,a=t.offsetWidth-t.clientWidth,a>0&&(n&&(a*=-1),l.left+=a,l.right+=a),l},Qf=function(e){var t,n,r,i,o=Yl(cn.fromDom(e),"*[contentEditable=false]");for(r=0;r<o.length;r++)t=o[r].dom(),n=t.previousSibling,Hc(n)&&(i=n.data,1===i.length?n.parentNode.removeChild(n):n.deleteData(i.length-1,1)),n=t.nextSibling,jc(n)&&(i=n.data,1===i.length?n.parentNode.removeChild(n):n.deleteData(0,1))},eh=function(e,t,n,r){var i,o,a=wl(T.none()),s=Md(e),l=s.length>0?s:"p",c=function(e,r){var i,s;if(u(),Yf(r))return null;if(!n(r))return o=Dc(r,e),s=r.ownerDocument.createRange(),Xf(o.nextSibling)?(s.setStart(o,0),s.setEnd(o,0)):(s.setStart(o,1),s.setEnd(o,1)),s;o=Fc(l,r,e),i=Jf(t,r,e),xs(o).css("top",i.top);var c=xs('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(i).appendTo(t)[0];return a.set(T.some({caret:c,element:r,before:e})),a.get().each((function(t){e&&xs(t.caret).addClass("mce-visual-caret-before")})),d(),s=r.ownerDocument.createRange(),s.setStart(o,0),s.setEnd(o,0),s},u=function(){Qf(t),o&&(Uf(o),o=null),a.get().each((function(e){xs(e.caret).remove(),a.set(T.none())})),i&&(Qs.clearInterval(i),i=null)},d=function(){i=Qs.setInterval((function(){r()?xs("div.mce-visual-caret",t).toggleClass("mce-visual-caret-hidden"):xs("div.mce-visual-caret",t).addClass("mce-visual-caret-hidden")}),500)},f=function(){a.get().each((function(e){var n=Jf(t,e.element,e.before);xs(e.caret).css(Pe({},n))}))},h=function(){return Qs.clearInterval(i)},p=function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"};return{show:c,hide:u,getCss:p,reposition:f,destroy:h}},th=function(){return qf.isIE()||qf.isEdge()||qf.isFirefox()},nh=function(e){return Xf(e)||Br(e)&&th()},rh=Wr,ih=Or("display","block table table-cell table-caption list-item"),oh=Nc,ah=Oc,sh=Tr,lh=gu,ch=function(e){return e>0},uh=function(e){return e<0},dh=function(e,t){var n;while(n=e(t))if(!ah(n))return n;return null},fh=function(e,t,n,r,i){var o=new Is(e,r);if(uh(t)){if((rh(e)||ah(e))&&(e=dh(o.prev,!0),n(e)))return e;while(e=dh(o.prev,i))if(n(e))return e}if(ch(t)){if((rh(e)||ah(e))&&(e=dh(o.next,!0),n(e)))return e;while(e=dh(o.next,i))if(n(e))return e}return null},hh=function(e,t){while(e&&e!==t){if(ih(e))return e;e=e.parentNode}return null},ph=function(e,t,n){return hh(e.container(),n)===hh(t.container(),n)},mh=function(e,t){if(!t)return null;var n=t.container(),r=t.offset();return sh(n)?n.childNodes[r+e]:null},gh=function(e,t){var n=t.ownerDocument.createRange();return e?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),n},vh=function(e,t,n){return hh(t,e)===hh(n,e)},bh=function(e,t,n){var r,i;i=e?"previousSibling":"nextSibling";while(n&&n!==t){if(r=n[i],oh(r)&&(r=r[i]),rh(r)){if(vh(t,r,n))return r;break}if(lh(r))break;n=n.parentNode}return null},yh=y(gh,!0),Ch=y(gh,!1),wh=function(e,t,n){var r,i,o,a=y(bh,!0,t),s=y(bh,!1,t);i=n.startContainer;var l=n.startOffset;if(Oc(i)){if(sh(i)||(i=i.parentNode),o=i.getAttribute("data-mce-caret"),"before"===o&&(r=i.nextSibling,nh(r)))return yh(r);if("after"===o&&(r=i.previousSibling,nh(r)))return Ch(r)}if(!n.collapsed)return n;if(Fr(i)){if(oh(i)){if(1===e){if(r=s(i),r)return yh(r);if(r=a(i),r)return Ch(r)}if(-1===e){if(r=a(i),r)return Ch(r);if(r=s(i),r)return yh(r)}return n}if(Hc(i)&&l>=i.data.length-1)return 1===e&&(r=s(i),r)?yh(r):n;if(jc(i)&&l<=1)return-1===e&&(r=a(i),r)?Ch(r):n;if(l===i.data.length)return r=s(i),r?yh(r):n;if(0===l)return r=a(i),r?Ch(r):n}return n},xh=function(e,t){return T.from(mh(e?0:-1,t)).filter(rh)},Ih=function(e,t,n){var r=wh(e,t,n);return-1===e?Vu.fromRangeStart(r):Vu.fromRangeEnd(r)},Ah=function(e){return T.from(e.getNode()).map(cn.fromDom)},kh=function(e){return T.from(e.getNode(!0)).map(cn.fromDom)},Sh=function(e,t){while(t=e(t))if(t.isVisible())return t;return t},_h=function(e,t){var n=ph(e,t);return!(n||!$r(e.getNode()))||n};(function(e){e[e["Backwards"]=-1]="Backwards",e[e["Forwards"]=1]="Forwards"})(Wu||(Wu={}));var Th=Wr,Eh=Fr,Oh=Tr,Rh=$r,Nh=gu,Lh=wu,Dh=xu,Bh=function(e,t){var n=[];while(e&&e!==t)n.push(e),e=e.parentNode;return n},Mh=function(e,t){return e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null},Ph=function(e,t){if(ch(e)){if(Nh(t.previousSibling)&&!Eh(t.previousSibling))return Ku.before(t);if(Eh(t))return Ku(t,0)}if(uh(e)){if(Nh(t.nextSibling)&&!Eh(t.nextSibling))return Ku.after(t);if(Eh(t))return Ku(t,t.data.length)}return uh(e)?Rh(t)?Ku.before(t):Ku.after(t):Ku.before(t)},Fh=function(e,t){var n=t.nextSibling;return n&&Nh(n)?Eh(n)?Ku(n,0):Ku.before(n):jh(Wu.Forwards,Ku.after(t),e)},jh=function(e,t,n){var r,i,o,a;if(!Oh(n)||!t)return null;if(t.isEqual(Ku.after(n))&&n.lastChild){if(a=Ku.after(n.lastChild),uh(e)&&Nh(n.lastChild)&&Oh(n.lastChild))return Rh(n.lastChild)?Ku.before(n.lastChild):a}else a=t;var s=a.container(),l=a.offset();if(Eh(s)){if(uh(e)&&l>0)return Ku(s,--l);if(ch(e)&&l<s.length)return Ku(s,++l);r=s}else{if(uh(e)&&l>0&&(i=Mh(s,l-1),Nh(i)))return!Lh(i)&&(o=fh(i,e,Dh,i),o)?Eh(o)?Ku(o,o.data.length):Ku.after(o):Eh(i)?Ku(i,i.data.length):Ku.before(i);if(ch(e)&&l<s.childNodes.length&&(i=Mh(s,l),Nh(i)))return Rh(i)?Fh(n,i):!Lh(i)&&(o=fh(i,e,Dh,i),o)?Eh(o)?Ku(o,0):Ku.before(o):Eh(i)?Ku(i,0):Ku.after(i);r=i||a.getNode()}if((ch(e)&&a.isAtEnd()||uh(e)&&a.isAtStart())&&(r=fh(r,e,v(!0),n,!0),Dh(r,n)))return Ph(e,r);i=fh(r,e,Dh,n);var c=Me(J(Bh(s,n),Th));return!c||i&&c.contains(i)?i?Ph(e,i):null:(a=ch(e)?Ku.after(c):Ku.before(c),a)},Hh=function(e){return{next:function(t){return jh(Wu.Forwards,t,e)},prev:function(t){return jh(Wu.Backwards,t,e)}}},zh=function(e,t,n){var r=e?Ku.before(n):Ku.after(n);return Uh(e,t,r)},$h=function(e){return $r(e)?Ku.before(e):Ku.after(e)},Vh=function(e){return Ku.isTextPosition(e)?0===e.offset():gu(e.getNode())},Wh=function(e){if(Ku.isTextPosition(e)){var t=e.container();return e.offset()===t.data.length}return gu(e.getNode(!0))},Kh=function(e,t){return!Ku.isTextPosition(e)&&!Ku.isTextPosition(t)&&e.getNode()===t.getNode(!0)},Gh=function(e){return!Ku.isTextPosition(e)&&$r(e.getNode())},Zh=function(e,t,n){return e?!Kh(t,n)&&!Gh(t)&&Wh(t)&&Vh(n):!Kh(n,t)&&Vh(t)&&Wh(n)},Uh=function(e,t,n){var r=Hh(t);return T.from(e?r.next(n):r.prev(n))},qh=function(e,t,n){return Uh(e,t,n).bind((function(r){return ph(n,r,t)&&Zh(e,n,r)?Uh(e,t,r):T.some(r)}))},Xh=function(e,t,n,r){return qh(e,t,n).bind((function(n){return r(n)?Xh(e,t,n,r):T.some(n)}))},Yh=function(e,t){var n=e?t.firstChild:t.lastChild;return Fr(n)?T.some(Ku(n,e?0:n.data.length)):n?gu(n)?T.some(e?Ku.before(n):$h(n)):zh(e,t,n):T.none()},Jh=y(Uh,!0),Qh=y(Uh,!1),ep=y(Yh,!0),tp=y(Yh,!1),np="_mce_caret",rp=function(e){return Tr(e)&&e.id===np},ip=function(e,t){while(t&&t!==e){if(t.id===np)return t;t=t.parentNode}return null},op=function(e){return"string"===typeof e.start},ap=function(e){return e.hasOwnProperty("rng")},sp=function(e){return e.hasOwnProperty("id")},lp=function(e){return e.hasOwnProperty("name")},cp=function(e){return nn.isArray(e.start)},up=function(e,t){return Tr(t)&&e.isBlock(t)&&!t.innerHTML&&!Vt.ie&&(t.innerHTML='<br data-mce-bogus="1" />'),t},dp=function(e,t){var n,r=e.createRng();return n=cd(e.getRoot(),t.start),r.setStart(n.container(),n.offset()),n=cd(e.getRoot(),t.end),r.setEnd(n.container(),n.offset()),r},fp=function(e,t){var n=e.ownerDocument.createTextNode(kc);e.appendChild(n),t.setStart(n,0),t.setEnd(n,0)},hp=function(e){return!1===e.hasChildNodes()},pp=function(e,t){return tp(e).fold((function(){return!1}),(function(e){return t.setStart(e.container(),e.offset()),t.setEnd(e.container(),e.offset()),!0}))},mp=function(e,t,n){return!(!hp(t)||!ip(e,t))&&(fp(t,n),!0)},gp=function(e,t,n,r){var i,o,a,s,l=n[t?"start":"end"],c=e.getRoot();if(l){for(a=l[0],o=c,i=l.length-1;i>=1;i--){if(s=o.childNodes,mp(c,o,r))return!0;if(l[i]>s.length-1)return!!mp(c,o,r)||pp(o,r);o=s[l[i]]}3===o.nodeType&&(a=Math.min(l[0],o.nodeValue.length)),1===o.nodeType&&(a=Math.min(l[0],o.childNodes.length)),t?r.setStart(o,a):r.setEnd(o,a)}return!0},vp=function(e){return Fr(e)&&e.data.length>0},bp=function(e,t,n){var r,i,o,a,s,l,c=e.get(n.id+"_"+t),u=n.keep;if(c){if(r=c.parentNode,"start"===t?(u?c.hasChildNodes()?(r=c.firstChild,i=1):vp(c.nextSibling)?(r=c.nextSibling,i=0):vp(c.previousSibling)?(r=c.previousSibling,i=c.previousSibling.data.length):(r=c.parentNode,i=e.nodeIndex(c)+1):i=e.nodeIndex(c),s=r,l=i):(u?c.hasChildNodes()?(r=c.firstChild,i=1):vp(c.previousSibling)?(r=c.previousSibling,i=c.previousSibling.data.length):(r=c.parentNode,i=e.nodeIndex(c)):i=e.nodeIndex(c),s=r,l=i),!u){a=c.previousSibling,o=c.nextSibling,nn.each(nn.grep(c.childNodes),(function(e){Fr(e)&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))}));while(c=e.get(n.id+"_"+t))e.remove(c,!0);a&&o&&a.nodeType===o.nodeType&&Fr(a)&&!Vt.opera&&(i=a.nodeValue.length,a.appendData(o.nodeValue),e.remove(o),s=a,l=i)}return T.some(Ku(s,l))}return T.none()},yp=function(e,t){var n=e.createRng();return gp(e,!0,t,n)&&gp(e,!1,t,n)?T.some(n):T.none()},Cp=function(e,t){var n=bp(e,"start",t),r=bp(e,"end",t);return Kc(n,r.or(n),(function(t,n){var r=e.createRng();return r.setStart(up(e,t.container()),t.offset()),r.setEnd(up(e,n.container()),n.offset()),r}))},wp=function(e,t){return T.from(e.select(t.name)[t.index]).map((function(t){var n=e.createRng();return n.selectNode(t),n}))},xp=function(e,t){var n=e.dom;if(t){if(cp(t))return yp(n,t);if(op(t))return T.some(dp(n,t));if(sp(t))return Cp(n,t);if(lp(t))return wp(n,t);if(ap(t))return T.some(t.rng)}return T.none()},Ip=function(e,t,n){return Ad(e,t,n)},Ap=function(e,t){xp(e,t).each((function(t){e.setRng(t)}))},kp=function(e){return Tr(e)&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")},Sp=function(e){return function(t){return e===t}},_p=Sp(Oo),Tp=function(e){return""!==e&&-1!==" \f\n\r\t\v".indexOf(e)},Ep=function(e){return!Tp(e)&&!_p(e)},Op=function(e){return!!e.nodeType},Rp=function(e){return e&&/^(IMG)$/.test(e.nodeName)},Np=function(e,t,n){var r,i,o,a=n.startOffset,s=n.startContainer;if((n.startContainer!==n.endContainer||!Rp(n.startContainer.childNodes[n.startOffset]))&&1===s.nodeType)for(o=s.childNodes,a<o.length?(s=o[a],r=new Is(s,e.getParent(s,e.isBlock))):(s=o[o.length-1],r=new Is(s,e.getParent(s,e.isBlock)),r.next(!0)),i=r.current();i;i=r.next())if(3===i.nodeType&&!Mp(i))return n.setStart(i,0),void t.setRng(n)},Lp=function(e,t,n){if(e){var r=t?"nextSibling":"previousSibling";for(e=n?e:e[r];e;e=e[r])if(1===e.nodeType||!Mp(e))return e}},Dp=function(e,t){return Op(t)&&(t=t.nodeName),!!e.schema.getTextBlockElements()[t.toLowerCase()]},Bp=function(e,t,n){return e.schema.isValidChild(t,n)},Mp=function(e){return e&&Fr(e)&&/^([\t \r\n]+|)$/.test(e.nodeValue)},Pp=function(e){return e&&Fr(e)&&0===e.length},Fp=function(e,t){return"string"!==typeof e?e=e(t):t&&(e=e.replace(/%(\w+)/g,(function(e,n){return t[n]||e}))),e},jp=function(e,t){return e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()},Hp=function(e,t,n){return"color"!==n&&"backgroundColor"!==n||(t=e.toHex(t)),"fontWeight"===n&&700===t&&(t="bold"),"fontFamily"===n&&(t=t.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+t},zp=function(e,t,n){return Hp(e,e.getStyle(t,n),n)},$p=function(e,t){var n;return e.getParent(t,(function(t){return n=e.getStyle(t,"text-decoration"),n&&"none"!==n})),n},Vp=function(e,t,n){return e.getParents(t,n,e.getRoot())},Wp=function(e,t){var n=function(e){var t=function(e){return e.length>1&&"%"===e.charAt(0)};return Z(["styles","attributes"],(function(n){return ke(e,n).exists((function(e){var n=B(e)?e:Ae(e);return Z(n,t)}))}))};return Z(e.formatter.get(t),n)},Kp=function(e,t,n){var r=["inline","block","selector","attributes","styles","classes"],i=function(e){return xe(e,(function(e,t){return Z(r,(function(e){return e===t}))}))};return Z(e.formatter.get(t),(function(t){var r=i(t);return Z(e.formatter.get(n),(function(e){var t=i(e);return _e(r,t)}))}))},Gp=kp,Zp=Vp,Up=Mp,qp=Dp,Xp=function(e){return"BR"===e.nodeName&&e.getAttribute("data-mce-bogus")&&!e.nextSibling},Yp=function(e,t){var n=t;while(n){if(Tr(n)&&e.getContentEditable(n))return"false"===e.getContentEditable(n)?n:t;n=n.parentNode}return t},Jp=function(e,t,n,r){for(var i=t.data,o=n;e?o>=0:o<i.length;e?o--:o++)if(r(i.charAt(o)))return e?o+1:o;return-1},Qp=function(e,t,n){return Jp(e,t,n,(function(e){return _p(e)||Tp(e)}))},em=function(e,t,n){return Jp(e,t,n,Ep)},tm=function(e,t,n,r,i,o){var a,s=e.getParent(n,e.isBlock)||t,l=function(t,n,r){var o=Ac(e),l=i?o.backwards:o.forwards;return T.from(l(t,n,(function(e,t){return Gp(e.parentNode)?-1:(a=e,r(i,e,t))}),s))},c=l(n,r,Qp);return c.bind((function(e){return o?l(e.container,e.offset+(i?-1:0),em):T.some(e)})).orThunk((function(){return a?T.some({container:a,offset:i?0:a.length}):T.none()}))},nm=function(e,t,n,r,i){Fr(r)&&0===r.nodeValue.length&&r[i]&&(r=r[i]);for(var o=Zp(e,r),a=0;a<o.length;a++)for(var s=0;s<t.length;s++){var l=t[s];if((!("collapsed"in l)||l.collapsed===n.collapsed)&&e.is(o[a],l.selector))return o[a]}return r},rm=function(e,t,n,r){var i,o=e.dom,a=o.getRoot();if(t[0].wrapper||(i=o.getParent(n,t[0].block,a)),!i){var s=o.getParent(n,"LI,TD,TH");i=o.getParent(Fr(n)?n.parentNode:n,(function(t){return t!==a&&qp(e,t)}),s)}if(i&&t[0].wrapper&&(i=Zp(o,i,"ul,ol").reverse()[0]||i),!i){i=n;while(i[r]&&!o.isBlock(i[r]))if(i=i[r],jp(i,"br"))break}return i||n},im=function(e,t,n,r,i,o,a){var s,l,c;s=l=a?n:i;var u=a?"previousSibling":"nextSibling",d=e.getRoot();if(Fr(s)&&!Up(s)&&(a?r>0:o<s.nodeValue.length))return s;while(1){if(!t[0].block_expand&&e.isBlock(l))return l;for(c=l[u];c;c=c[u])if(!Gp(c)&&!Up(c)&&!Xp(c))return l;if(l===d||l.parentNode===d){s=l;break}l=l.parentNode}return s},om=function(e,t,n,r){void 0===r&&(r=!1);var i=t.startContainer,o=t.startOffset,a=t.endContainer,s=t.endOffset,l=e.dom;if(Tr(i)&&i.hasChildNodes()&&(i=ru(i,o),Fr(i)&&(o=0)),Tr(a)&&a.hasChildNodes()&&(a=ru(a,t.collapsed?s:s-1),Fr(a)&&(s=a.nodeValue.length)),i=Yp(l,i),a=Yp(l,a),(Gp(i.parentNode)||Gp(i))&&(i=Gp(i)?i:i.parentNode,i=t.collapsed?i.previousSibling||i:i.nextSibling||i,Fr(i)&&(o=t.collapsed?i.length:0)),(Gp(a.parentNode)||Gp(a))&&(a=Gp(a)?a:a.parentNode,a=t.collapsed?a.nextSibling||a:a.previousSibling||a,Fr(a)&&(s=t.collapsed?0:a.length)),t.collapsed){var c=tm(l,e.getBody(),i,o,!0,r);c.each((function(e){var t=e.container,n=e.offset;i=t,o=n}));var u=tm(l,e.getBody(),a,s,!1,r);u.each((function(e){var t=e.container,n=e.offset;a=t,s=n}))}return(n[0].inline||n[0].block_expand)&&(n[0].inline&&Fr(i)&&0!==o||(i=im(l,n,i,o,a,s,!0)),n[0].inline&&Fr(a)&&s!==a.nodeValue.length||(a=im(l,n,i,o,a,s,!1))),n[0].selector&&!1!==n[0].expand&&!n[0].inline&&(i=nm(l,n,t,i,"previousSibling"),a=nm(l,n,t,a,"nextSibling")),(n[0].block||n[0].selector)&&(i=rm(e,n,i,"previousSibling"),a=rm(e,n,a,"nextSibling"),n[0].block&&(l.isBlock(i)||(i=im(l,n,i,o,a,s,!0)),l.isBlock(a)||(a=im(l,n,i,o,a,s,!1)))),Tr(i)&&(o=l.nodeIndex(i),i=i.parentNode),Tr(a)&&(s=l.nodeIndex(a)+1,a=a.parentNode),{startContainer:i,startOffset:o,endContainer:a,endOffset:s}},am=function(e,t){var n=e.childNodes;return t>=n.length?t=n.length-1:t<0&&(t=0),n[t]||e},sm=function(e,t){return am(e,t-1)},lm=function(e,t,n){var r=t.startContainer,i=t.startOffset,o=t.endContainer,a=t.endOffset,s=function(e){var t;return t=e[0],3===t.nodeType&&t===r&&i>=t.nodeValue.length&&e.splice(0,1),t=e[e.length-1],0===a&&e.length>0&&t===o&&3===t.nodeType&&e.splice(e.length-1,1),e},l=function(e,t,n){for(var r=[];e&&e!==n;e=e[t])r.push(e);return r},c=function(e,t){do{if(e.parentNode===t)return e;e=e.parentNode}while(e)},u=function(e,t,r){for(var i=r?"nextSibling":"previousSibling",o=e,a=o.parentNode;o&&o!==t;o=a){a=o.parentNode;var c=l(o===e?o:o[i],i);c.length&&(r||c.reverse(),n(s(c)))}};if(1===r.nodeType&&r.hasChildNodes()&&(r=am(r,i)),1===o.nodeType&&o.hasChildNodes()&&(o=sm(o,a)),r===o)return n(s([r]));for(var d=e.findCommonAncestor(r,o),f=r;f;f=f.parentNode){if(f===o)return u(r,d,!0);if(f===d)break}for(f=o;f;f=f.parentNode){if(f===r)return u(o,d);if(f===d)break}var h=c(r,d)||r,p=c(o,d)||o;u(r,h,!0);var m=l(h===r?h:h.nextSibling,"nextSibling",p===o?p.nextSibling:p);m.length&&n(s(m)),u(o,p)},cm=function(e){var t=[];if(e)for(var n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},um=function(e){return oe(e,(function(e){var t=nu(e);return t?[cn.fromDom(t)]:[]}))},dm=function(e){return cm(e).length>1},fm=function(e){return J(um(e),Oi)},hm=function(e){return Yl(e,"td[data-mce-selected],th[data-mce-selected]")},pm=function(e,t){var n=hm(t);return n.length>0?n:fm(e)},mm=function(e){return pm(cm(e.selection.getSel()),cn.fromDom(e.getBody()))},gm=function(e){var t=e.startContainer,n=e.startOffset;return Fr(t)?0===n?T.some(cn.fromDom(t)):T.none():T.from(t.childNodes[n]).map(cn.fromDom)},vm=function(e){var t=e.endContainer,n=e.endOffset;return Fr(t)?n===t.data.length?T.some(cn.fromDom(t)):T.none():T.from(t.childNodes[n-1]).map(cn.fromDom)},bm=function(e){return Un(e).fold(v([e]),(function(t){return[e].concat(bm(t))}))},ym=function(e){return qn(e).fold(v([e]),(function(t){return"br"===mn(t)?$n(t).map((function(t){return[e].concat(ym(t))})).getOr([]):[e].concat(ym(t))}))},Cm=function(e,t){return Kc(gm(t),vm(t),(function(t,n){var r=ne(bm(e),y(Rn,t)),i=ne(ym(e),y(Rn,n));return r.isSome()&&i.isSome()})).getOr(!1)},wm=function(e,t,n,r){var i=n,o=new Is(n,i),a=e.schema.getNonEmptyElements();do{if(3===n.nodeType&&0!==nn.trim(n.nodeValue).length)return void(r?t.setStart(n,0):t.setEnd(n,n.nodeValue.length));if(a[n.nodeName]&&!/^(TD|TH)$/.test(n.nodeName))return void(r?t.setStartBefore(n):"BR"===n.nodeName?t.setEndBefore(n):t.setEndAfter(n))}while(n=r?o.next():o.prev());"BODY"===i.nodeName&&(r?t.setStart(i,0):t.setEnd(i,i.childNodes.length))},xm=function(e){var t=e.selection.getSel();return t&&t.rangeCount>0},Im=function(e,t){var n=mm(e);n.length>0?q(n,(function(n){var r=n.dom(),i=e.dom.createRng();i.setStartBefore(r),i.setEndAfter(r),t(i,!0)})):t(e.selection.getRng(),!1)},Am=function(e,t,n){var r=Id(e,t);n(r),e.moveToBookmark(r)};function km(e,t){var n=function(n){if(!e(n))throw new Error("Can only get "+t+" value of a "+t+" node");return r(n).getOr("")},r=function(t){return e(t)?T.from(t.dom().nodeValue):T.none()},i=function(n,r){if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom().nodeValue=r};return{get:n,getOption:r,set:i}}var Sm=km(Cn,"text"),_m=function(e){return Sm.get(e)},Tm=function(e){return Cn(e)&&_m(e)===Eo},Em=function(e,t,n,r){return jn(t).fold((function(){return"skipping"}),(function(i){return"br"===r||Tm(t)?"valid":lc(t)?"existing":rp(t)?"caret":Bp(e,n,r)&&Bp(e,mn(i),n)?"valid":"invalid-child"}))},Om=function(e,t){var n=om(e,t,[{inline:!0}]);t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),e.selection.setRng(t)},Rm=function(e,t,n,r){var i=t.uid,o=void 0===i?mc("mce-annotation"):i,a=Fe(t,["uid"]),s=cn.fromTag("span",e);Gl(s,ic()),Zr(s,""+ac(),o),Zr(s,""+oc(),n);var l=r(o,a),c=l.attributes,u=void 0===c?{}:c,d=l.classes,f=void 0===d?[]:d;return Ur(s,u),gc(s,f),s},Nm=function(e,t,n,r,i){var o=[],a=Rm(e.getDoc(),i,n,r),s=wl(T.none()),l=function(){s.set(T.none())},c=function(){return s.get().getOrThunk((function(){var e=wc(a);return o.push(e),s.set(T.some(e)),e}))},u=function(e){q(e,d)},d=function(t){var n=Em(e,t,"span",mn(t));switch(n){case"invalid-child":l();var r=Gn(t);u(r),l();break;case"valid":var i=c();sr(t,i);break}},f=function(e){var t=U(e,cn.fromDom);u(t)};return lm(e.dom,t,(function(e){l(),f(e)})),o},Lm=function(e,t,n,r){e.undoManager.transact((function(){var i=e.selection,o=i.getRng(),a=mm(e).length>0;if(o.collapsed&&!a&&Om(e,o),i.getRng().collapsed&&!a){var s=Rm(e.getDoc(),r,t,n.decorate);yc(s,Oo),i.getRng().insertNode(s.dom()),i.select(s.dom())}else Am(i,!1,(function(){Im(e,(function(i){Nm(e,i,t,n.decorate,r)}))}))}))},Dm=function(e){var t=hc();fc(e,t);var n=dc(e);return{register:function(e,n){t.register(e,n)},annotate:function(n,r){t.lookup(n).each((function(t){Lm(e,n,t,r)}))},annotationChanged:function(e,t){n.addListener(e,t)},remove:function(t){sc(e,T.some(t)).each((function(e){var t=e.elements;q(t,fr)}))},getAll:function(t){var n=uc(e,t);return ve(n,(function(e){return U(e,(function(e){return e.dom()}))}))}}},Bm=/^[ \t\r\n]*$/,Mm={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},Pm=function(e,t,n){var r=n?"lastChild":"firstChild",i=n?"prev":"next";if(e[r])return e[r];if(e!==t){var o=e[i];if(o)return o;for(var a=e.parent;a&&a!==t;a=a.parent)if(o=a[i],o)return o}},Fm=function(e){if(!Bm.test(e.value))return!1;var t=e.parent;return!t||"span"===t.name&&!t.attr("style")||!/^[ ]+$/.test(e.value)},jm=function(e){var t="a"===e.name&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t},Hm=function(){function e(e,t){this.name=e,this.type=t,1===t&&(this.attributes=[],this.attributes.map={})}return e.create=function(t,n){var r=new e(t,Mm[t]||1);return n&&ge(n,(function(e,t){r.attr(t,e)})),r},e.prototype.replace=function(e){var t=this;return e.parent&&e.remove(),t.insert(e,t),t.remove(),t},e.prototype.attr=function(e,t){var n,r=this;if("string"!==typeof e)return void 0!==e&&null!==e&&ge(e,(function(e,t){r.attr(t,e)})),r;if(n=r.attributes){if(void 0!==t){if(null===t){if(e in n.map){delete n.map[e];var i=n.length;while(i--)if(n[i].name===e)return n.splice(i,1),r}return r}if(e in n.map){i=n.length;while(i--)if(n[i].name===e){n[i].value=t;break}}else n.push({name:e,value:t});return n.map[e]=t,r}return n.map[e]}},e.prototype.clone=function(){var t,n=this,r=new e(n.name,n.type);if(t=n.attributes){var i=[];i.map={};for(var o=0,a=t.length;o<a;o++){var s=t[o];"id"!==s.name&&(i[i.length]={name:s.name,value:s.value},i.map[s.name]=s.value)}r.attributes=i}return r.value=n.value,r.shortEnded=n.shortEnded,r},e.prototype.wrap=function(e){var t=this;return t.parent.insert(e,t),e.append(t),t},e.prototype.unwrap=function(){for(var e=this,t=e.firstChild;t;){var n=t.next;e.insert(t,e,!0),t=n}e.remove()},e.prototype.remove=function(){var e=this,t=e.parent,n=e.next,r=e.prev;return t&&(t.firstChild===e?(t.firstChild=n,n&&(n.prev=null)):r.next=n,t.lastChild===e?(t.lastChild=r,r&&(r.next=null)):n.prev=r,e.parent=e.next=e.prev=null),e},e.prototype.append=function(e){var t=this;e.parent&&e.remove();var n=t.lastChild;return n?(n.next=e,e.prev=n,t.lastChild=e):t.lastChild=t.firstChild=e,e.parent=t,e},e.prototype.insert=function(e,t,n){e.parent&&e.remove();var r=t.parent||this;return n?(t===r.firstChild?r.firstChild=e:t.prev.next=e,e.prev=t.prev,e.next=t,t.prev=e):(t===r.lastChild?r.lastChild=e:t.next.prev=e,e.next=t.next,e.prev=t,t.next=e),e.parent=r,e},e.prototype.getAll=function(e){for(var t=this,n=[],r=t.firstChild;r;r=Pm(r,t))r.name===e&&n.push(r);return n},e.prototype.empty=function(){var e=this;if(e.firstChild){for(var t=[],n=e.firstChild;n;n=Pm(n,e))t.push(n);var r=t.length;while(r--){n=t[r];n.parent=n.firstChild=n.lastChild=n.next=n.prev=null}}return e.firstChild=e.lastChild=null,e},e.prototype.isEmpty=function(e,t,n){void 0===t&&(t={});var r=this,i=r.firstChild;if(jm(r))return!1;if(i)do{if(1===i.type){if(i.attr("data-mce-bogus"))continue;if(e[i.name])return!1;if(jm(i))return!1}if(8===i.type)return!1;if(3===i.type&&!Fm(i))return!1;if(3===i.type&&i.parent&&t[i.parent.name]&&Bm.test(i.value))return!1;if(n&&n(i))return!1}while(i=Pm(i,r));return!0},e.prototype.walk=function(e){return Pm(this,null,e)},e}(),zm=nn.makeMap,$m=function(e){var t=[];e=e||{};var n=e.indent,r=zm(e.indent_before||""),i=zm(e.indent_after||""),o=Ji.getEncodeFunc(e.entity_encoding||"raw",e.entities),a="html"===e.element_format;return{start:function(e,s,l){var c,u,d,f;if(n&&r[e]&&t.length>0&&(f=t[t.length-1],f.length>0&&"\n"!==f&&t.push("\n")),t.push("<",e),s)for(c=0,u=s.length;c<u;c++)d=s[c],t.push(" ",d.name,'="',o(d.value,!0),'"');t[t.length]=!l||a?">":" />",l&&n&&i[e]&&t.length>0&&(f=t[t.length-1],f.length>0&&"\n"!==f&&t.push("\n"))},end:function(e){var r;t.push("</",e,">"),n&&i[e]&&t.length>0&&(r=t[t.length-1],r.length>0&&"\n"!==r&&t.push("\n"))},text:function(e,n){e.length>0&&(t[t.length]=n?e:o(e))},cdata:function(e){t.push("<![CDATA[",e,"]]>")},comment:function(e){t.push("\x3c!--",e,"--\x3e")},pi:function(e,r){r?t.push("<?",e," ",o(r),"?>"):t.push("<?",e,"?>"),n&&t.push("\n")},doctype:function(e){t.push("<!DOCTYPE",e,">",n?"\n":"")},reset:function(){t.length=0},getContent:function(){return t.join("").replace(/\n$/,"")}}},Vm=function(e,t){void 0===t&&(t=co());var n=$m(e);e=e||{},e.validate=!("validate"in e)||e.validate;var r=function(r){var i=e.validate,o={3:function(e){n.text(e.value,e.raw)},8:function(e){n.comment(e.value)},7:function(e){n.pi(e.name,e.value)},10:function(e){n.doctype(e.value)},4:function(e){n.cdata(e.value)},11:function(e){if(e=e.firstChild)do{a(e)}while(e=e.next)}};n.reset();var a=function(e){var r,s,l,c,u,d,f,h,p,m=o[e.type];if(m)m(e);else{if(r=e.name,s=e.shortEnded,l=e.attributes,i&&l&&l.length>1&&(d=[],d.map={},p=t.getElementRule(e.name),p)){for(f=0,h=p.attributesOrder.length;f<h;f++)c=p.attributesOrder[f],c in l.map&&(u=l.map[c],d.map[c]=u,d.push({name:c,value:u}));for(f=0,h=l.length;f<h;f++)c=l[f].name,c in d.map||(u=l.map[c],d.map[c]=u,d.push({name:c,value:u}));l=d}if(n.start(e.name,l,s),!s){if(e=e.firstChild)do{a(e)}while(e=e.next);n.end(r)}}};return 1!==r.type||e.inner?o[11](r):a(r),n.getContent()};return{serialize:r}},Wm=function(e){var t,n=/data:[^;]+;base64,([a-z0-9\+\/=]+)/gi,r=[],i={},o=mc("img"),a=0,s=0;while(t=n.exec(e)){var l=t[0],c=o+"_"+s++;i[c]=l,a<t.index&&r.push(e.substr(a,t.index-a)),r.push(c),a=t.index+l.length}return 0===a?{prefix:o,uris:i,html:e}:(a<e.length&&r.push(e.substr(a)),{prefix:o,uris:i,html:r.join("")})},Km=function(e,t){return e.replace(new RegExp(t.prefix+"_[0-9]+","g"),(function(e){return ke(t.uris,e).getOr(e)}))},Gm=function(e){var t=/data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(e);return t?T.some({type:t[1],data:decodeURIComponent(t[2])}):T.none()},Zm=function(e){return 0===e.indexOf("data-")||0===e.indexOf("aria-")},Um=function(e,t){return!e.allow_html_data_urls&&(/^data:image\//i.test(t)?!1===e.allow_svg_data_urls&&/^data:image\/svg\+xml/i.test(t):/^data:/i.test(t))},qm=function(e,t,n){var r,i,o=1,a=e.getShortEndedElements(),s=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g;s.lastIndex=r=n;while(i=s.exec(t)){if(r=s.lastIndex,"/"===i[1])o--;else if(!i[1]){if(i[2]in a)continue;o++}if(0===o)break}return r},Xm=function(e,t){return/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(t))},Ym=function(e,t,n){void 0===n&&(n=0);var r=e.toLowerCase();if(-1!==r.indexOf("[if ",n)&&Xm(r,n)){var i=r.indexOf("[endif]",n);return r.indexOf(">",i)}if(t){var o=r.indexOf(">",n);return-1!==o?o:r.length}var a=/--!?>/;a.lastIndex=n;var s=a.exec(e);return s?s.index+s[0].length:r.length},Jm=function(e,t){var n=e.exec(t);if(n){var r=n[1],i=n[2];return"string"===typeof r&&"data-mce-bogus"===r.toLowerCase()?i:null}return null};function Qm(e,t){void 0===t&&(t=co());var n=function(){};e=e||{},!1!==e.fix_self_closing&&(e.fix_self_closing=!0);var r=e.comment?e.comment:n,i=e.cdata?e.cdata:n,o=e.text?e.text:n,a=e.start?e.start:n,s=e.end?e.end:n,l=e.pi?e.pi:n,c=e.doctype?e.doctype:n,u=function(n,u){void 0===u&&(u="html");var d,f,h,p,m,g,v,b,y,C,w,x,I,A,k,S,_,T,E,O,R=n.html,N=0,L=[],D=0,B=Ji.decode,M=nn.makeMap("src,href,data,background,formaction,poster,xlink:href"),P=/((java|vb)script|mhtml):/i,F="html"===u?0:1,j=function(e){var t,n;t=L.length;while(t--)if(L[t].name===e)break;if(t>=0){for(n=L.length-1;n>=t;n--)e=L[n],e.valid&&s(e.name);L.length=t}},H=function(e,t){return o(Km(e,n),t)},z=function(t){""!==t&&(">"===t.charAt(0)&&(t=" "+t),e.allow_conditional_comments||"[if"!==t.substr(0,3).toLowerCase()||(t=" "+t),r(Km(t,n)))},$=function(e){return ke(n.uris,e).getOr(e)},V=function(e,t){var n=e||"",r=!Ct(n,"--"),i=Ym(R,r,t);return e=R.substr(t,i-t),z(r?n+e:e),i+1},W=function(t,n,r,i,o){var a,s,l=/[\s\u0000-\u001F]+/g;if(n=n.toLowerCase(),r=$(n in q?n:B(r||i||o||"")),X&&!b&&!1===Zm(n)){if(a=A[n],!a&&k){s=k.length;while(s--)if(a=k[s],a.pattern.test(n))break;-1===s&&(a=null)}if(!a)return;if(a.validValues&&!(r in a.validValues))return}if(M[n]&&!e.allow_script_urls){var c=r.replace(l,"");try{c=decodeURIComponent(c)}catch(u){c=unescape(c)}if(P.test(c))return;if(Um(e,c))return}b&&(n in M||0===n.indexOf("on"))||(p.map[n]=r,p.push({name:n,value:r}))},K=new RegExp("<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),G=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,Z=t.getShortEndedElements(),U=e.self_closing_elements||t.getSelfClosingElements(),q=t.getBoolAttrs(),X=e.validate,Y=e.remove_internals,J=e.fix_self_closing,Q=t.getSpecialElements(),ee=R+">";while(d=K.exec(ee)){var te=d[0];if(N<d.index&&H(B(R.substr(N,d.index-N))),f=d[7])f=f.toLowerCase(),":"===f.charAt(0)&&(f=f.substr(1)),j(f);else if(f=d[8]){if(d.index+te.length>R.length){H(B(R.substr(d.index))),N=d.index+te.length;continue}f=f.toLowerCase(),":"===f.charAt(0)&&(f=f.substr(1)),y=f in Z,J&&U[f]&&L.length>0&&L[L.length-1].name===f&&j(f);var ne=Jm(G,d[9]);if(null!==ne){if("all"===ne){N=qm(t,R,K.lastIndex),K.lastIndex=N;continue}w=!1}if(!X||(C=t.getElementRule(f))){if(w=!0,X&&(A=C.attributes,k=C.attributePatterns),(I=d[9])?(b=-1!==I.indexOf("data-mce-type"),b&&Y&&(w=!1),p=[],p.map={},I.replace(G,W)):(p=[],p.map={}),X&&!b){if(S=C.attributesRequired,_=C.attributesDefault,T=C.attributesForced,E=C.removeEmptyAttrs,E&&!p.length&&(w=!1),T){m=T.length;while(m--)x=T[m],v=x.name,O=x.value,"{$uid}"===O&&(O="mce_"+D++),p.map[v]=O,p.push({name:v,value:O})}if(_){m=_.length;while(m--)x=_[m],v=x.name,v in p.map||(O=x.value,"{$uid}"===O&&(O="mce_"+D++),p.map[v]=O,p.push({name:v,value:O}))}if(S){m=S.length;while(m--)if(S[m]in p.map)break;-1===m&&(w=!1)}if(x=p.map["data-mce-bogus"]){if("all"===x){N=qm(t,R,K.lastIndex),K.lastIndex=N;continue}w=!1}}w&&a(f,p,y)}else w=!1;if(h=Q[f]){h.lastIndex=N=d.index+te.length,(d=h.exec(R))?(w&&(g=R.substr(N,d.index-N)),N=d.index+d[0].length):(g=R.substr(N),N=R.length),w&&(g.length>0&&H(g,!0),s(f)),K.lastIndex=N;continue}y||(I&&I.indexOf("/")===I.length-1?w&&s(f):L.push({name:f,valid:w}))}else if(f=d[1])z(f);else if(f=d[2]){var re=1===F||e.preserve_cdata||L.length>0&&t.isValidChild(L[L.length-1].name,"#cdata");if(!re){N=V("",d.index+2),K.lastIndex=N;continue}i(f)}else if(f=d[3])c(f);else{if((f=d[4])||"<!"===te){N=V(f,d.index+te.length),K.lastIndex=N;continue}if(f=d[5]){if(1!==F){N=V("?",d.index+2),K.lastIndex=N;continue}l(f,d[6])}}N=d.index+te.length}for(N<R.length&&H(B(R.substr(N))),m=L.length-1;m>=0;m--)f=L[m],f.valid&&s(f.name)},d=function(e,t){void 0===t&&(t="html"),u(Wm(e),t)};return{parse:d}}(function(e){e.findEndTag=qm})(Qm||(Qm={}));var eg,tg=Qm,ng=function(e,t){var n=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return t.replace(n,"")},rg=function(e,t){var n,r,i,o,a=t,s=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,l=e.schema;a=ng(e.getTempAttrs(),a);var c=l.getShortEndedElements();while(o=s.exec(a))r=s.lastIndex,i=o[0].length,n=c[o[1]]?r:tg.findEndTag(l,a,r),a=a.substring(0,r-i)+a.substring(n),s.lastIndex=r-i;return _c(a)},ig=rg,og=function(e,t){var n=Md(e),r=new RegExp("^(<"+n+"[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/"+n+">[\r\n]*|<br \\/>[\r\n]*)$");return t.replace(r,"")},ag=function(e,t,n,r){var i;if(t.format=n,t.get=!0,t.getInner=!0,t.no_events||e.fire("BeforeGetContent",t),"raw"===t.format)i=nn.trim(ig(e.serializer,r.innerHTML));else if("text"===t.format)i=_c(r.innerText||r.textContent);else{if("tree"===t.format)return e.serializer.serialize(r,t);i=og(e,e.serializer.serialize(r,t))}return"text"===t.format||Ri(cn.fromDom(r))?t.content=i:t.content=nn.trim(i),t.no_events||e.fire("GetContent",t),t.content},sg=function(e,t,n){return T.from(e.getBody()).fold(v("tree"===t.format?new Hm("body",11):""),(function(r){return ag(e,t,n,r)}))},lg=nn.each,cg=function(e){this.compare=function(t,n){if(t.nodeName!==n.nodeName)return!1;var r=function(t){var n={};return lg(e.getAttribs(t),(function(r){var i=r.nodeName.toLowerCase();0!==i.indexOf("_")&&"style"!==i&&0!==i.indexOf("data-")&&(n[i]=e.getAttrib(t,i))})),n},i=function(e,t){var n,r;for(r in e)if(e.hasOwnProperty(r)){if(n=t[r],"undefined"===typeof n)return!1;if(e[r]!==n)return!1;delete t[r]}for(r in t)if(t.hasOwnProperty(r))return!1;return!0};return!!i(r(t),r(n))&&(!!i(e.parseStyle(e.getAttrib(t,"style")),e.parseStyle(e.getAttrib(n,"style")))&&(!kp(t)&&!kp(n)))}},ug=function(e,t,n){return T.from(n.container()).filter(Fr).exists((function(r){var i=e?0:-1;return t(r.data.charAt(n.offset()+i))}))},dg=y(ug,!0,Tp),fg=y(ug,!1,Tp),hg=function(e){var t=e.container();return Fr(t)&&0===t.data.length},pg=function(e,t){return function(n){return T.from(mh(e?0:-1,n)).filter(t).isSome()}},mg=function(e){return"IMG"===e.nodeName&&"block"===ei(cn.fromDom(e),"display")},gg=function(e){return Wr(e)&&!Dr(e)},vg=pg(!0,mg),bg=pg(!1,mg),yg=pg(!0,Br),Cg=pg(!1,Br),wg=pg(!0,gg),xg=pg(!1,gg),Ig=function(e,t,n){return tc(e,t,n).isSome()},Ag=function(e,t){var n=cn.fromDom(e),r=cn.fromDom(t);return Ig(r,"pre,code",y(Rn,n))},kg=function(e,t){return Fr(t)&&/^[ \t\r\n]*$/.test(t.data)&&!1===Ag(e,t)},Sg=function(e){return Tr(e)&&"A"===e.nodeName&&e.hasAttribute("name")},_g=function(e,t){return gu(t)&&!1===kg(e,t)||Sg(t)||Tg(t)},Tg=Rr("data-mce-bookmark"),Eg=Rr("data-mce-bogus"),Og=Nr("data-mce-bogus","all"),Rg=function(e,t){var n,r=0;if(_g(e,e))return!1;if(n=e.firstChild,!n)return!0;var i=new Is(n,e);do{if(t){if(Og(n)){n=i.next(!0);continue}if(Eg(n)){n=i.next();continue}}if($r(n))r++,n=i.next();else{if(_g(e,n))return!1;n=i.next()}}while(n);return r<=1},Ng=function(e,t){return void 0===t&&(t=!0),Rg(e.dom(),t)},Lg=function(e){var t=[],n=e.dom();while(n)t.push(cn.fromDom(n)),n=n.lastChild;return t},Dg=function(e){var t=Yl(e,"br"),n=J(Lg(e).slice(-1),Ai);t.length===n.length&&q(n,dr)},Bg=function(e){ur(e),ar(e,cn.fromHtml('<br data-mce-bogus="1">'))},Mg=function(e){qn(e).each((function(t){$n(t).each((function(n){wi(e)&&Ai(t)&&wi(n)&&dr(t)}))}))},Pg=function(e){return e.slice(0,-1)},Fg=function(e,t,n){return Dn(t,e)?Pg(Hn(e,(function(e){return n(e)||Rn(e,t)}))):[]},jg=function(e,t){return Fg(e,t,v(!1))},Hg=function(e,t){return[e].concat(jg(e,t))},zg=function(e,t,n){var r=ee(e,(function(r,i){return Tp(i)||_p(i)?r.previousCharIsSpace||""===r.str&&t||r.str.length===e.length-1&&n?{previousCharIsSpace:!1,str:r.str+Oo}:{previousCharIsSpace:!0,str:r.str+" "}:{previousCharIsSpace:!1,str:r.str+i}}),{previousCharIsSpace:!1,str:""});return r.str},$g=function(e,t,n){if(0!==n){var r=e.data.slice(t,t+n),i=t+n>=e.data.length,o=0===t;e.replaceData(t,n,zg(r,o,i))}},Vg=function(e,t){var n=e.data.slice(t),r=n.length-It(n).length;return $g(e,t,r)},Wg=function(e,t){var n=e.data.slice(0,t),r=n.length-At(n).length;return $g(e,t-r,r)},Kg=function(e,t,n){var r=At(e.data).length;return e.appendData(t.data),dr(cn.fromDom(t)),n&&Vg(e,r),e},Gg=function(e,t){var n=e.container(),r=e.offset();return!1===Ku.isTextPosition(e)&&n===t.parentNode&&r>Ku.before(t).offset()},Zg=function(e,t){return Gg(t,e)?Ku(t.container(),t.offset()-1):t},Ug=function(e){return Fr(e)?Ku(e,0):Ku.before(e)},qg=function(e){return Fr(e)?Ku(e,e.data.length):Ku.after(e)},Xg=function(e){return gu(e.previousSibling)?T.some(qg(e.previousSibling)):e.previousSibling?tp(e.previousSibling):T.none()},Yg=function(e){return gu(e.nextSibling)?T.some(Ug(e.nextSibling)):e.nextSibling?ep(e.nextSibling):T.none()},Jg=function(e,t){var n=Ku.before(t.previousSibling?t.previousSibling:t.parentNode);return Qh(e,n).fold((function(){return Jh(e,Ku.after(t))}),T.some)},Qg=function(e,t){return Jh(e,Ku.after(t)).fold((function(){return Qh(e,Ku.before(t))}),T.some)},ev=function(e,t){return Xg(t).orThunk((function(){return Yg(t)})).orThunk((function(){return Jg(e,t)}))},tv=function(e,t){return Yg(t).orThunk((function(){return Xg(t)})).orThunk((function(){return Qg(e,t)}))},nv=function(e,t,n){return e?tv(t,n):ev(t,n)},rv=function(e,t,n){return nv(e,t,n).map(y(Zg,n))},iv=function(e,t,n){n.fold((function(){e.focus()}),(function(n){e.selection.setRng(n.toRange(),t)}))},ov=function(e){return function(t){return t.dom()===e}},av=function(e,t){return t&&e.schema.getBlockElements().hasOwnProperty(mn(t))},sv=function(e){if(Ng(e)){var t=cn.fromHtml('<br data-mce-bogus="1">');return ur(e),ar(e,t),T.some(Ku.before(t.dom()))}return T.none()},lv=function(e,t,n){var r=$n(e).filter(Cn),i=Vn(e).filter(Cn);return dr(e),Gc(r,i,t,(function(e,t,r){var i=e.dom(),o=t.dom(),a=i.data.length;return Kg(i,o,n),r.container()===o?Ku(i,a):r})).orThunk((function(){return n&&(r.each((function(e){return Wg(e.dom(),e.dom().length)})),i.each((function(e){return Vg(e.dom(),0)}))),t}))},cv=function(e,t){return Se(e.schema.getTextInlineElements(),mn(t))},uv=function(e,t,n,r){void 0===r&&(r=!0);var i=rv(t,e.getBody(),n.dom()),o=Ql(n,y(av,e),ov(e.getBody())),a=lv(n,i,cv(e,n));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):o.bind(sv).fold((function(){r&&iv(e,t,a)}),(function(n){r&&iv(e,t,T.some(n))}))},dv=function(e,t){return{start:e,end:t}},fv=function(e,t,n){return{rng:e,table:t,cells:n}},hv=Vs.generate([{removeTable:["element"]},{emptyCells:["cells"]},{deleteCellSelection:["rng","cell"]}]),pv=function(e){return function(t){return Rn(e,t)}},mv=function(e,t){return rc(cn.fromDom(e),"td,th",t)},gv=function(e,t){return tc(e,"table",t)},vv=function(e){return!Rn(e.start,e.end)},bv=function(e,t){return gv(e.start,t).bind((function(n){return gv(e.end,t).bind((function(e){return Zc(Rn(n,e),n)}))}))},yv=function(e,t){return!vv(e)&&bv(e,t).exists((function(e){var t=e.dom().rows;return 1===t.length&&1===t[0].cells.length}))},Cv=function(e){return Yl(e,"td,th")},wv=function(e,t){var n=mv(e.startContainer,t),r=mv(e.endContainer,t);return Kc(n,r,dv)},xv=function(e,t){return gv(e.start,t).bind((function(t){return fe(Cv(t)).map((function(t){return dv(e.start,t)}))}))},Iv=function(e,t){var n=mv(t.startContainer,e),r=mv(t.endContainer,e);return t.collapsed?T.none():Kc(n,r,dv).fold((function(){return n.fold((function(){return r.bind((function(t){return gv(t,e).bind((function(e){return de(Cv(e)).map((function(e){return dv(e,t)}))}))}))}),(function(t){return gv(t,e).bind((function(e){return fe(Cv(e)).map((function(e){return dv(t,e)}))}))}))}),(function(t){return Av(e,t)?T.none():xv(t,e)}))},Av=function(e,t){return bv(t,e).isSome()},kv=function(e,t){return bv(e,t).map((function(t){return fv(e,t,Cv(t))}))},Sv=function(e,t,n){return e.filter((function(e){return vv(e)&&Av(n,e)})).orThunk((function(){return Iv(n,t)})).bind((function(e){return kv(e,n)}))},_v=function(e,t){return re(e,(function(e){return Rn(e,t)}))},Tv=function(e){return Kc(_v(e.cells,e.rng.start),_v(e.cells,e.rng.end),(function(t,n){return e.cells.slice(t,n+1)}))},Ev=function(e,t,n){return e.filter((function(e){return yv(e,n)&&Cm(e.start,t)})).map((function(e){return e.start}))},Ov=function(e){return Tv(e).map((function(t){var n=e.cells;return t.length===n.length?hv.removeTable(e.table):hv.emptyCells(t)}))},Rv=function(e,t){var n=pv(e),r=wv(t,n);return Ev(r,t,n).map((function(e){return hv.deleteCellSelection(t,e)})).orThunk((function(){return Sv(r,t,n).bind(Ov)}))},Nv=function(e){var t=bn(e)?$n(e):qn(e);return t.bind(Nv).orThunk((function(){return T.some(e)}))},Lv=function(e,t){return q(t,Bg),e.selection.setCursorLocation(t[0].dom(),0),!0},Dv=function(e,t,n){t.deleteContents();var r=Nv(n).getOr(n),i=cn.fromDom(e.dom.getParent(r.dom(),e.dom.isBlock));if(Ng(i)&&(Bg(i),e.selection.setCursorLocation(i.dom(),0)),!Rn(n,i)){var o=jn(i).is(n)?[]:zn(i);q(o.concat(Gn(n)),(function(e){Rn(e,i)||Dn(e,i)||dr(e)}))}return!0},Bv=function(e,t){return uv(e,!1,t),!0},Mv=function(e,t,n){return Rv(t,n).map((function(t){return t.fold(y(Bv,e),y(Lv,e),y(Dv,e))}))},Pv=function(e,t){return Vv(e,t)},Fv=function(e,t,n,r){return zv(t,r).fold((function(){return Mv(e,t,n)}),(function(t){return Pv(e,t)})).getOr(!1)},jv=function(e,t){var n=cn.fromDom(e.getBody()),r=e.selection.getRng(),i=mm(e);return 0!==i.length?Lv(e,i):Fv(e,n,r,t)},Hv=function(e,t){return ne(Hg(t,e),Oi)},zv=function(e,t){return ne(Hg(t,e),(function(e){return"caption"===mn(e)}))},$v=function(e,t,n,r,i){return qh(n,e.getBody(),i).bind((function(e){return Hv(t,cn.fromDom(e.getNode())).map((function(e){return!1===Rn(e,r)}))}))},Vv=function(e,t){return Bg(t),e.selection.setCursorLocation(t.dom(),0),T.some(!0)},Wv=function(e,t,n,r){return ep(e.dom()).bind((function(i){return tp(e.dom()).map((function(e){return t?n.isEqual(i)&&r.isEqual(e):n.isEqual(e)&&r.isEqual(i)}))})).getOr(!0)},Kv=function(e,t){return Vv(e,t)},Gv=function(e,t,n){return zv(e,cn.fromDom(n.getNode())).map((function(e){return!1===Rn(e,t)}))},Zv=function(e,t,n,r,i){return qh(n,e.getBody(),i).bind((function(o){return Wv(r,n,i,o)?Kv(e,r):Gv(t,r,o)})).or(T.some(!0))},Uv=function(e,t,n,r){var i=Ku.fromRangeStart(e.selection.getRng());return Hv(n,r).bind((function(r){return Ng(r)?Vv(e,r):$v(e,n,t,r,i)})).getOr(!1)},qv=function(e,t,n,r){var i=Ku.fromRangeStart(e.selection.getRng());return Ng(r)?Vv(e,r):Zv(e,n,t,r,i)},Xv=function(e,t){return e?yg(t):Cg(t)},Yv=function(e,t){var n=Ku.fromRangeStart(e.selection.getRng());return Xv(t,n)||Uh(t,e.getBody(),n).map((function(e){return Xv(t,e)})).getOr(!1)},Jv=function(e,t,n){var r=cn.fromDom(e.getBody());return zv(r,n).fold((function(){return Uv(e,t,r,n)||Yv(e,t)}),(function(n){return qv(e,t,r,n).getOr(!1)}))},Qv=function(e,t){var n=cn.fromDom(e.selection.getStart(!0)),r=mm(e);return e.selection.isCollapsed()&&0===r.length?Jv(e,t,n):jv(e,n)},eb=function(e,t,r,i){var o=n.document.createRange();return o.setStart(e,t),o.setEnd(r,i),o},tb=function(e){var t=Ku.fromRangeStart(e),n=Ku.fromRangeEnd(e),r=e.commonAncestorContainer;return Uh(!1,r,n).map((function(i){return!ph(t,n,r)&&ph(t,i,r)?eb(t.container(),t.offset(),i.container(),i.offset()):e})).getOr(e)},nb=function(e){return e.collapsed?e:tb(e)},rb=function(e){return e.firstChild&&e.firstChild===e.lastChild},ib=function(e){return"br"===e.name||e.value===Oo},ob=function(e,t){var n=e.getBlockElements();return n[t.name]&&rb(t)&&ib(t.firstChild)},ab=function(e,t){var n=e.getNonEmptyElements();return t&&(t.isEmpty(n)||ob(e,t))},sb=function(e,t){var n=t.firstChild,r=t.lastChild;return n&&"meta"===n.name&&(n=n.next),r&&"mce_marker"===r.attr("id")&&(r=r.prev),ab(e,r)&&(r=r.prev),!(!n||n!==r)&&("ul"===n.name||"ol"===n.name)},lb=function(e){var t=e.firstChild,n=e.lastChild;return t&&"META"===t.nodeName&&t.parentNode.removeChild(t),n&&"mce_marker"===n.id&&n.parentNode.removeChild(n),e},cb=function(e,t,n){var r=t.serialize(n),i=e.createFragment(r);return lb(i)},ub=function(e){return nn.grep(e.childNodes,(function(e){return"LI"===e.nodeName}))},db=function(e){return e.data===Oo||$r(e)},fb=function(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&db(e.firstChild)},hb=function(e){return!e.firstChild||fb(e)},pb=function(e){return e.length>0&&hb(e[e.length-1])?e.slice(0,-1):e},mb=function(e,t){var n=e.getParent(t,e.isBlock);return n&&"LI"===n.nodeName?n:null},gb=function(e,t){return!!mb(e,t)},vb=function(e,t){var n=t.cloneRange(),r=t.cloneRange();return n.setStartBefore(e),r.setEndAfter(e),[n.cloneContents(),r.cloneContents()]},bb=function(e,t){var n=Ku.before(e),r=Hh(t),i=r.next(n);return i?i.toRange():null},yb=function(e,t){var n=Ku.after(e),r=Hh(t),i=r.prev(n);return i?i.toRange():null},Cb=function(e,t,n,r){var i=vb(e,r),o=e.parentNode;return o.insertBefore(i[0],e),nn.each(t,(function(t){o.insertBefore(t,e)})),o.insertBefore(i[1],e),o.removeChild(e),yb(t[t.length-1],n)},wb=function(e,t,n){var r=e.parentNode;return nn.each(t,(function(t){r.insertBefore(t,e)})),bb(e,n)},xb=function(e,t,n,r){return r.insertAfter(t.reverse(),e),yb(t[0],n)},Ib=function(e,t,n,r){var i=cb(t,e,r),o=mb(t,n.startContainer),a=pb(ub(i.firstChild)),s=1,l=2,c=t.getRoot(),u=function(e){var r=Ku.fromRangeStart(n),i=Hh(t.getRoot()),a=e===s?i.prev(r):i.next(r);return!a||mb(t,a.getNode())!==o};return u(s)?wb(o,a,c):u(l)?xb(o,a,c,t):Cb(o,a,c,n)},Ab=function(e,t){return Fr(e)&&e.nodeValue[t-1]===Oo},kb=function(e,t){var n=e.startContainer,r=e.startOffset,i=function(e){return n[e]&&3===n[e].nodeType};return Fr(n)&&(r>0?t=t.replace(/^&nbsp;/," "):i("previousSibling")||(t=t.replace(/^ /,"&nbsp;")),r<n.length?t=t.replace(/&nbsp;(<br>|)$/," "):i("nextSibling")||(t=t.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),t},Sb=function(e,t){var n=e.startContainer,r=e.startOffset;return Fr(n)&&e.collapsed&&(n.data[r]===Oo?(n.deleteData(r,1),/[\u00a0| ]$/.test(t)||(t+=" ")):n.data[r-1]===Oo&&(n.deleteData(r-1,1),/[\u00a0| ]$/.test(t)||(t=" "+t))),t},_b=Er(["td","th"]),Tb=function(e,t,n){if(null!==n){var r=e.getParent(t.endContainer,_b);return n===r&&Cm(cn.fromDom(n),t)}return!1},Eb=function(e,t){var n=e.selection.getRng(),r=n.startContainer,i=n.startOffset;n.collapsed&&Ab(r,i)&&Fr(r)&&(r.insertData(i-1," "),r.deleteData(i,1),n.setStart(r,i),n.setEnd(r,i),e.selection.setRng(n)),e.selection.setContent(t)},Ob=function(e,t,n){if("all"===n.getAttribute("data-mce-bogus"))n.parentNode.insertBefore(e.dom.createFragment(t),n);else{var r=n.firstChild,i=n.lastChild;!r||r===i&&"BR"===r.nodeName?e.dom.setHTML(n,t):Eb(e,t)}},Rb=function(e,t){T.from(e.getParent(t,"td,th")).map(cn.fromDom).each(Mg)},Nb=function(e,t){var n=e.schema.getTextInlineElements(),r=e.dom;if(t){var i=e.getBody(),o=new cg(r);nn.each(r.select("*[data-mce-fragment]"),(function(e){for(var t=e.parentNode;t&&t!==i;t=t.parentNode)n[e.nodeName.toLowerCase()]&&o.compare(t,e)&&r.remove(e,!0)}))}},Lb=function(e){var t=e;while(t=t.walk())1===t.type&&t.attr("data-mce-fragment","1")},Db=function(e){nn.each(e.getElementsByTagName("*"),(function(e){e.removeAttribute("data-mce-fragment")}))},Bb=function(e){return!!e.getAttribute("data-mce-fragment")},Mb=function(e,t){return t&&!e.schema.getShortEndedElements()[t.nodeName]},Pb=function(e,t){var n,r,i=e.dom,o=e.selection,a=function(t){for(var n=e.getBody();t&&t!==n;t=t.parentNode)if("false"===e.dom.getContentEditable(t))return t;return null};if(t){e.selection.scrollIntoView(t);var s=a(t);if(s)return i.remove(t),void o.select(s);var l=i.createRng(),c=t.previousSibling;c&&3===c.nodeType?(l.setStart(c,c.nodeValue.length),Vt.ie||(r=t.nextSibling,r&&3===r.nodeType&&(c.appendData(r.data),r.parentNode.removeChild(r)))):(l.setStartBefore(t),l.setEndBefore(t));var u=function(t){var n=Ku.fromRangeStart(t),r=Hh(e.getBody());if(n=r.next(n),n)return n.toRange()},d=i.getParent(t,i.isBlock);i.remove(t),d&&i.isEmpty(d)&&(e.$(d).empty(),l.setStart(d,0),l.setEnd(d,0),_b(d)||Bb(d)||!(n=u(l))?i.add(d,i.create("br",{"data-mce-bogus":"1"})):(l=n,i.remove(d))),o.setRng(l)}},Fb=function(e){var t=e.dom,n=nb(e.selection.getRng());e.selection.setRng(n);var r=t.getParent(n.startContainer,_b);Tb(t,n,r)?Dv(e,n,cn.fromDom(r)):e.getDoc().execCommand("Delete",!1,null)},jb=function(e,t,n){var r,i,o,a,s,l,c=e.selection,u=e.dom;/^ | $/.test(t)&&(t=kb(c.getRng(),t));var d=e.parser,f=n.merge,h=Vm({validate:gf(e)},e.schema),p='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>';if(o={content:t,format:"html",selection:!0,paste:n.paste},o=e.fire("BeforeSetContent",o),o.isDefaultPrevented())e.fire("SetContent",{content:o.content,format:"html",selection:!0,paste:n.paste});else{t=o.content,-1===t.indexOf("{$caret}")&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,p),s=c.getRng();var m=s.startContainer||(s.parentElement?s.parentElement():null),g=e.getBody();m===g&&c.isCollapsed()&&u.isBlock(g.firstChild)&&Mb(e,g.firstChild)&&u.isEmpty(g.firstChild)&&(s=u.createRng(),s.setStart(g.firstChild,0),s.setEnd(g.firstChild,0),c.setRng(s)),c.isCollapsed()||(Fb(e),t=Sb(e.selection.getRng(),t)),r=c.getNode();var v={context:r.nodeName.toLowerCase(),data:n.data,insert:!0},b=d.parse(t,v);if(!0===n.paste&&sb(e.schema,b)&&gb(u,r))return s=Ib(h,u,e.selection.getRng(),b),e.selection.setRng(s),void e.fire("SetContent",o);if(Lb(b),l=b.lastChild,"mce_marker"===l.attr("id"))for(a=l,l=l.prev;l;l=l.walk(!0))if(3===l.type||!u.isBlock(l.name)){e.schema.isValidChild(l.parent.name,"span")&&l.parent.insert(a,l,"br"===l.name);break}if(e._selectionOverrides.showBlockCaretContainer(r),v.invalid){Eb(e,p),r=c.getNode(),i=e.getBody(),9===r.nodeType?r=l=i:l=r;while(l!==i)r=l,l=l.parentNode;t=r===i?i.innerHTML:u.getOuterHTML(r),t=h.serialize(d.parse(t.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,(function(){return h.serialize(b)})))),r===i?u.setHTML(i,t):u.setOuterHTML(r,t)}else t=h.serialize(b),Ob(e,t,r);Nb(e,f),Pb(e,u.get("mce_marker")),Db(e.getBody()),Rb(e.dom,e.selection.getStart()),e.fire("SetContent",o),e.addVisual()}},Hb=function(){return cn.fromDom(n.document)},zb=function(e){var t=Qn(e).dom();return e.dom()===t.activeElement},$b=function(e){return void 0===e&&(e=Hb()),T.from(e.dom().activeElement).map(cn.fromDom)},Vb=function(e){return $b(Qn(e)).filter((function(t){return e.dom().contains(t.dom())}))},Wb=function(e,t,n,r){return{start:v(e),soffset:v(t),finish:v(n),foffset:v(r)}},Kb={create:Wb},Gb=Vs.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Zb=function(e,t,n,r){return e.fold(t,n,r)},Ub=function(e){return e.fold(b,b,b)},qb=Gb.before,Xb=Gb.on,Yb=Gb.after,Jb={before:qb,on:Xb,after:Yb,cata:Zb,getStart:Ub},Qb=Vs.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),ey=function(e){return Qb.exact(e.start(),e.soffset(),e.finish(),e.foffset())},ty=function(e){return e.match({domRange:function(e){return cn.fromDom(e.startContainer)},relative:function(e,t){return Jb.getStart(e)},exact:function(e,t,n,r){return e}})},ny=Qb.domRange,ry=Qb.relative,iy=Qb.exact,oy=function(e){var t=ty(e);return Fn(t)},ay=Kb.create,sy={domRange:ny,relative:ry,exact:iy,exactFromRange:ey,getWin:oy,range:ay},ly=Dt().browser,cy=function(e,t){var n=Cn(t)?_m(t).length:Gn(t).length+1;return e>n?n:e<0?0:e},uy=function(e){return sy.range(e.start(),cy(e.soffset(),e.start()),e.finish(),cy(e.foffset(),e.finish()))},dy=function(e,t){return!_r(t.dom())&&(Dn(e,t)||Rn(e,t))},fy=function(e){return function(t){return dy(e,t.start())&&dy(e,t.finish())}},hy=function(e){return!0===e.inline||ly.isIE()},py=function(e){return sy.range(cn.fromDom(e.startContainer),e.startOffset,cn.fromDom(e.endContainer),e.endOffset)},my=function(e){var t=e.getSelection(),n=t&&0!==t.rangeCount?T.from(t.getRangeAt(0)):T.none();return n.map(py)},gy=function(e){var t=Fn(e);return my(t.dom()).filter(fy(e))},vy=function(e,t){return T.from(t).filter(fy(e)).map(uy)},by=function(e){var t=n.document.createRange();try{return t.setStart(e.start().dom(),e.soffset()),t.setEnd(e.finish().dom(),e.foffset()),T.some(t)}catch(r){return T.none()}},yy=function(e){var t=hy(e)?gy(cn.fromDom(e.getBody())):T.none();e.bookmark=t.isSome()?t:e.bookmark},Cy=function(e,t){var n=cn.fromDom(e.getBody()),r=hy(e)?T.from(t):T.none(),i=r.map(py).filter(fy(n));e.bookmark=i.isSome()?i:e.bookmark},wy=function(e){var t=e.bookmark?e.bookmark:T.none();return t.bind((function(t){return vy(cn.fromDom(e.getBody()),t)})).bind(by)},xy=function(e){wy(e).each((function(t){e.selection.setRng(t)}))},Iy=function(e){var t=e.className.toString();return-1!==t.indexOf("tox-")||-1!==t.indexOf("mce-")},Ay={isEditorUIElement:Iy},ky=function(e){return"nodechange"===e.type&&e.selectionChange},Sy=function(e,t){var r=function(){t.throttle()};fl.DOM.bind(n.document,"mouseup",r),e.on("remove",(function(){fl.DOM.unbind(n.document,"mouseup",r)}))},_y=function(e){e.on("focusout",(function(){yy(e)}))},Ty=function(e,t){e.on("mouseup touchend",(function(e){t.throttle()}))},Ey=function(e,t){var n=Dt().browser;n.isIE()?_y(e):Ty(e,t),e.on("keyup NodeChange",(function(t){ky(t)||yy(e)}))},Oy=function(e){var t=Pl((function(){yy(e)}),0);e.on("init",(function(){e.inline&&Sy(e,t),Ey(e,t)})),e.on("remove",(function(){t.cancel()}))},Ry=fl.DOM,Ny=function(e){return Ay.isEditorUIElement(e)},Ly=function(e){var t=e.classList;return void 0!==t&&(t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"))},Dy=function(e,t){var n=Cf(e),r=Ry.getParent(t,(function(t){return Ny(t)||!!n&&e.dom.is(t,n)}));return null!==r},By=function(){try{return n.document.activeElement}catch(e){return n.document.body}},My=function(e,t){var r=t.editor;Oy(r),r.on("focusin",(function(){var t=this,n=e.focusedEditor;n!==t&&(n&&n.fire("blur",{focusedEditor:t}),e.setActive(t),e.focusedEditor=t,t.fire("focus",{blurredEditor:n}),t.focus(!0))})),r.on("focusout",(function(){var t=this;Qs.setEditorTimeout(t,(function(){var n=e.focusedEditor;Dy(t,By())||n!==t||(t.fire("blur",{focusedEditor:null}),e.focusedEditor=null)}))})),eg||(eg=function(t){var r=e.activeEditor,i=t.target;r&&i.ownerDocument===n.document&&(i===n.document.body||Dy(r,i)||e.focusedEditor!==r||(r.fire("blur",{focusedEditor:null}),e.focusedEditor=null))},Ry.bind(n.document,"focusin",eg))},Py=function(e,t){e.focusedEditor===t.editor&&(e.focusedEditor=null),e.activeEditor||(Ry.unbind(n.document,"focusin",eg),eg=null)},Fy=function(e){e.on("AddEditor",y(My,e)),e.on("RemoveEditor",y(Py,e))},jy=function(e,t){return e.dom.getParent(t,(function(t){return"true"===e.dom.getContentEditable(t)}))},Hy=function(e){return e.collapsed?T.from(ru(e.startContainer,e.startOffset)).map(cn.fromDom):T.none()},zy=function(e,t){return Hy(t).bind((function(t){return Ei(t)?T.some(t):!1===Dn(e,t)?T.some(e):T.none()}))},$y=function(e,t){zy(cn.fromDom(e.getBody()),t).bind((function(e){return ep(e.dom())})).fold((function(){e.selection.normalize()}),(function(t){return e.selection.setRng(t.toRange())}))},Vy=function(e){if(e.setActive)try{e.setActive()}catch(t){e.focus()}else e.focus()},Wy=function(e){return zb(e)||Vb(e).isSome()},Ky=function(e){return e.iframeElement&&zb(cn.fromDom(e.iframeElement))},Gy=function(e){var t=e.getBody();return t&&Wy(cn.fromDom(t))},Zy=function(e){return $b().filter((function(t){return!Ly(t.dom())&&Dy(e,t.dom())})).isSome()},Uy=function(e){return e.inline?Gy(e):Ky(e)},qy=function(e){return Uy(e)||Zy(e)},Xy=function(e){var t=e.selection,n=e.getBody(),r=t.getRng();e.quirks.refreshContentEditable(),void 0!==e.bookmark&&!1===Uy(e)&&wy(e).each((function(t){e.selection.setRng(t),r=t}));var i=jy(e,t.getNode());if(e.$.contains(n,i))return Vy(i),$y(e,r),void Yy(e);e.inline||(Vt.opera||Vy(n),e.getWin().focus()),(Vt.gecko||e.inline)&&(Vy(n),$y(e,r)),Yy(e)},Yy=function(e){return e.editorManager.setActive(e)},Jy=function(e,t){e.removed||(t?Yy(e):Xy(e))},Qy=function(e,t){t(e),e.firstChild&&Qy(e.firstChild,t),e.next&&Qy(e.next,t)},eC=function(e,t,n){var r={},i={},o=[];for(var a in n.firstChild&&Qy(n.firstChild,(function(n){q(e,(function(e){e.name===n.name&&(r[e.name]?r[e.name].nodes.push(n):r[e.name]={filter:e,nodes:[n]})})),q(t,(function(e){"string"===typeof n.attr(e.name)&&(i[e.name]?i[e.name].nodes.push(n):i[e.name]={filter:e,nodes:[n]})}))})),r)r.hasOwnProperty(a)&&o.push(r[a]);for(var s in i)i.hasOwnProperty(s)&&o.push(i[s]);return o},tC=function(e,t,n){var r=eC(e,t,n);q(r,(function(e){q(e.filter.callbacks,(function(t){t(e.nodes,e.filter.name,{})}))}))},nC="html",rC=function(e){return e instanceof Hm},iC=function(e){Uy(e)&&ep(e.getBody()).each((function(t){var n=t.getNode(),r=Br(n)?ep(n).getOr(t):t;e.selection.setRng(r.toRange())}))},oC=function(e,t){e.dom.setHTML(e.getBody(),t),iC(e)},aC=function(e,t,n,r){var i,o;return 0===n.length||/^\s+$/.test(n)?(o='<br data-mce-bogus="1">',"TABLE"===t.nodeName?n="<tr><td>"+o+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(n="<li>"+o+"</li>"),i=Md(e),i&&e.schema.isValidChild(t.nodeName.toLowerCase(),i.toLowerCase())?(n=o,n=e.dom.createHTML(i,Pd(e),n)):n||(n='<br data-mce-bogus="1">'),oC(e,n),e.fire("SetContent",r)):("raw"!==r.format&&(n=Vm({validate:e.validate},e.schema).serialize(e.parser.parse(n,{isRootContent:!0,insert:!0}))),r.content=Ri(cn.fromDom(t))?n:nn.trim(n),oC(e,r.content),r.no_events||e.fire("SetContent",r)),r.content},sC=function(e,t,n,r){tC(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);var i=Vm({validate:e.validate},e.schema).serialize(n);return r.content=Ri(cn.fromDom(t))?i:nn.trim(i),oC(e,r.content),r.no_events||e.fire("SetContent",r),n},lC=function(e,t,n){return n.format=n.format?n.format:nC,n.set=!0,n.content=rC(t)?"":t,rC(t)||n.no_events||(e.fire("BeforeSetContent",n),t=n.content),T.from(e.getBody()).fold(v(t),(function(r){return rC(t)?sC(e,r,t,n):aC(e,r,t,n)}))},cC=function(e,t){return e.splitText(t)},uC=function(e){var t=e.startContainer,n=e.startOffset,r=e.endContainer,i=e.endOffset;return t===r&&Fr(t)?n>0&&n<t.nodeValue.length&&(r=cC(t,n),t=r.previousSibling,i>n?(i-=n,t=r=cC(r,i).previousSibling,i=r.nodeValue.length,n=0):i=0):(Fr(t)&&n>0&&n<t.nodeValue.length&&(t=cC(t,n),n=0),Fr(r)&&i>0&&i<r.nodeValue.length&&(r=cC(r,i).previousSibling,i=r.nodeValue.length)),{startContainer:t,startOffset:n,endContainer:r,endOffset:i}},dC=jp,fC=function(e,t,n){var r=e.formatter.get(n);if(r)for(var i=0;i<r.length;i++)if(!1===r[i].inherit&&e.dom.is(t,r[i].selector))return!0;return!1},hC=function(e,t,n,r){var i=e.dom.getRoot();return t!==i&&(t=e.dom.getParent(t,(function(t){return!!fC(e,t,n)||(t.parentNode===i||!!gC(e,t,n,r,!0))})),gC(e,t,n,r))},pC=function(e,t,n){return!!dC(t,n.inline)||(!!dC(t,n.block)||(n.selector?1===t.nodeType&&e.is(t,n.selector):void 0))},mC=function(e,t,n,r,i,o){var a,s,l,c=n[r];if(n.onmatch)return n.onmatch(t,n,r);if(c)if("undefined"===typeof c.length){for(a in c)if(c.hasOwnProperty(a)){if(s="attributes"===r?e.getAttrib(t,a):zp(e,t,a),i&&!s&&!n.exact)return;if((!i||n.exact)&&!dC(s,Hp(e,Fp(c[a],o),a)))return}}else for(l=0;l<c.length;l++)if("attributes"===r?e.getAttrib(t,c[l]):zp(e,t,c[l]))return n;return n},gC=function(e,t,n,r,i){var o,a,s,l,c=e.formatter.get(n),u=e.dom;if(c&&t)for(a=0;a<c.length;a++)if(o=c[a],pC(e.dom,t,o)&&mC(u,t,o,"attributes",i,r)&&mC(u,t,o,"styles",i,r)){if(l=o.classes)for(s=0;s<l.length;s++)if(!e.dom.hasClass(t,l[s]))return;return o}},vC=function(e,t,n,r){if(r)return hC(e,r,t,n);if(r=e.selection.getNode(),hC(e,r,t,n))return!0;var i=e.selection.getStart();return!(i===r||!hC(e,i,t,n))},bC=function(e,t,n){var r=[],i={},o=e.selection.getStart();return e.dom.getParent(o,(function(o){for(var a=0;a<t.length;a++){var s=t[a];!i[s]&&gC(e,o,s,n)&&(i[s]=!0,r.push(s))}}),e.dom.getRoot()),r},yC=function(e,t){var n,r,i,o,a,s=e.formatter.get(t),l=e.dom;if(s)for(n=e.selection.getStart(),r=Vp(l,n),o=s.length-1;o>=0;o--){if(a=s[o].selector,!a||s[o].defaultBlock)return!0;for(i=r.length-1;i>=0;i--)if(l.is(r[i],a))return!0}return!1},CC=function(e,t,n){return ee(n,(function(n,r){var i=Wp(e,r);return e.formatter.matchNode(t,r,{},i)?n.concat([r]):n}),[])},wC=kc,xC="_mce_caret",IC=function(e,t){return e.importNode(t,!0)},AC=function(e){var t=[];while(e){if(3===e.nodeType&&e.nodeValue!==wC||e.childNodes.length>1)return[];1===e.nodeType&&t.push(e),e=e.firstChild}return t},kC=function(e){return AC(e).length>0},SC=function(e){if(e){var t=new Is(e,e);for(e=t.current();e;e=t.next())if(Fr(e))return e}return null},_C=function(e){var t=cn.fromTag("span");return Ur(t,{id:xC,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&ar(t,cn.fromText(wC)),t},TC=function(e){var t=SC(e);return t&&t.nodeValue.charAt(0)===wC&&t.deleteData(0,1),t},EC=function(e,t,n){void 0===n&&(n=!0);var r=e.dom,i=e.selection;if(kC(t))uv(e,!1,cn.fromDom(t),n);else{var o=i.getRng(),a=r.getParent(t,r.isBlock),s=o.startContainer,l=o.startOffset,c=o.endContainer,u=o.endOffset,d=TC(t);r.remove(t,!0),s===d&&l>0&&o.setStart(d,l-1),c===d&&u>0&&o.setEnd(d,u-1),a&&r.isEmpty(a)&&Bg(cn.fromDom(a)),i.setRng(o)}},OC=function(e,t,n){void 0===n&&(n=!0);var r=e.dom,i=e.selection;if(t)EC(e,t,n);else if(t=ip(e.getBody(),i.getStart()),!t)while(t=r.get(xC))EC(e,t,!1)},RC=function(e,t,n){var r=e.dom,i=r.getParent(n,y(Dp,e));i&&r.isEmpty(i)?n.parentNode.replaceChild(t,n):(Dg(cn.fromDom(n)),r.isEmpty(n)?n.parentNode.replaceChild(t,n):r.insertAfter(t,n))},NC=function(e,t){return e.appendChild(t),t},LC=function(e,t){var n=Q(e,(function(e,t){return NC(e,t.cloneNode(!1))}),t);return NC(n,n.ownerDocument.createTextNode(wC))},DC=function(e,t,n,r,i,o){var a=e.formatter,s=e.dom,l=J(pe(a.get()),(function(e){return"removeformat"!==e&&e!==r})),c=CC(e,n,l),u=J(c,(function(t){return!Kp(e,t,r)}));if(u.length>0){var d=n.cloneNode(!1);return s.add(t,d),a.remove(r,i,d,o),s.remove(d),T.some(d)}return T.none()},BC=function(e,t,n){var r,i,o=e.selection,a=o.getRng(),s=a.startOffset,l=a.startContainer,c=l.nodeValue;r=ip(e.getBody(),o.getStart()),r&&(i=SC(r));var u=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(c&&s>0&&s<c.length&&u.test(c.charAt(s))&&u.test(c.charAt(s-1))){var d=o.getBookmark();a.collapse(!0);var f=om(e,a,e.formatter.get(t));f=uC(f),e.formatter.apply(t,n,f),o.moveToBookmark(d)}else r&&i.nodeValue===wC||(r=IC(e.getDoc(),_C(!0).dom()),i=r.firstChild,a.insertNode(r),s=1),e.formatter.apply(t,n,r),o.setCursorLocation(i,s)},MC=function(e,t,n,r){var i,o,a,s=e.dom,l=e.selection,c=[],u=l.getRng(),d=u.startContainer,f=u.startOffset;o=d,3===d.nodeType&&(f!==d.nodeValue.length&&(i=!0),o=o.parentNode);while(o){if(gC(e,o,t,n,r)){a=o;break}o.nextSibling&&(i=!0),c.push(o),o=o.parentNode}if(a)if(i){var h=l.getBookmark();u.collapse(!0);var p=om(e,u,e.formatter.get(t),!0);p=uC(p),e.formatter.remove(t,n,p,r),l.moveToBookmark(h)}else{var m=ip(e.getBody(),a),g=_C(!1).dom();RC(e,g,null!==m?m:a);var v=DC(e,g,a,t,n,r),b=LC(c.concat(v.toArray()),g);EC(e,m,!1),l.setCursorLocation(b,1),s.isEmpty(a)&&s.remove(a)}},PC=function(e,t){var n=e.selection,r=e.getBody();OC(e,null,!1),8!==t&&46!==t||!n.isCollapsed()||n.getStart().innerHTML!==wC||OC(e,ip(r,n.getStart())),37!==t&&39!==t||OC(e,ip(r,n.getStart()))},FC=function(e){e.on("mouseup keydown",(function(t){PC(e,t.keyCode)}))},jC=function(e,t){var n=_C(!1),r=LC(t,n.dom());return rr(cn.fromDom(e),n),dr(cn.fromDom(e)),Ku(r,0)},HC=function(e,t){var n=e.schema.getTextInlineElements();return n.hasOwnProperty(mn(t))&&!rp(t.dom())&&!Lr(t.dom())},zC=function(e){return rp(e.dom())&&kC(e.dom())},$C={},VC=Ne,WC=Oe,KC=function(e,t){var n=$C[e];n||($C[e]=[]),$C[e].push(t)},GC=function(e,t){WC($C[e],(function(e){e(t)}))};KC("pre",(function(e){var t,n=e.selection.getRng(),r=function(e){return o(e.previousSibling)&&-1!==Le(t,e.previousSibling)},i=function(e,t){xs(t).remove(),xs(e).append("<br><br>").append(t.childNodes)},o=Er(["pre"]);n.collapsed||(t=e.selection.getSelectedBlocks(),WC(VC(VC(t,o),r),(function(e){i(e.previousSibling,e)})))}));var ZC=/^(src|href|style)$/,UC=nn.each,qC=jp,XC=function(e){return/^(TR|TH|TD)$/.test(e.nodeName)},YC=function(e,t,n){return e.isChildOf(t,n)&&t!==n&&!e.isBlock(n)},JC=function(e,t,n){var r,i;if(r=t[n?"startContainer":"endContainer"],i=t[n?"startOffset":"endOffset"],Tr(r)){var o=r.childNodes.length-1;!n&&i&&i--,r=r.childNodes[i>o?o:i]}return Fr(r)&&n&&i>=r.nodeValue.length&&(r=new Is(r,e.getBody()).next()||r),Fr(r)&&!n&&0===i&&(r=new Is(r,e.getBody()).prev()||r),r},QC=function(e,t){var n=t?"firstChild":"lastChild";if(XC(e)&&e[n]){var r=e[n];return"TR"===e.nodeName&&r[n]||r}return e},ew=function(e,t,n,r){var i=e.create(n,r);return t.parentNode.insertBefore(i,t),i.appendChild(t),i},tw=function(e,t,n,r,i){var o=cn.fromDom(t),a=cn.fromDom(e.create(r,i)),s=n?Kn(o):Wn(o);return cr(a,s),n?(rr(o,a),or(a,o)):(ir(o,a),ar(a,o)),a.dom()},nw=function(e,t,n){return!!qC(t,n.inline)||(!!qC(t,n.block)||(n.selector?Tr(t)&&e.is(t,n.selector):void 0))},rw=function(e,t){return t.links&&"A"===e.nodeName},iw=function(e,t,n,r){return t=Lp(t,n,r),!t||"BR"===t.nodeName||e.isBlock(t)},ow=function(e,t,n){var r,i=t.parentNode,o=e.dom,a=Md(e);n.block&&(a?i===o.getRoot()&&(n.list_block&&qC(t,n.list_block)||q(he(t.childNodes),(function(t){Bp(e,a,t.nodeName.toLowerCase())?r?r.appendChild(t):(r=ew(o,t,a),o.setAttribs(r,e.settings.forced_root_block_attrs)):r=0}))):o.isBlock(t)&&!o.isBlock(i)&&(iw(o,t,!1)||iw(o,t.firstChild,!0,!0)||t.insertBefore(o.create("br"),t.firstChild),iw(o,t,!0)||iw(o,t.lastChild,!1,!0)||t.appendChild(o.create("br")))),n.selector&&n.inline&&!qC(n.inline,t)||o.remove(t,!0)},aw=function(e,t,n,r,i){var o,a=e.dom;if(!nw(a,r,t)&&!rw(r,t))return!1;var s=r;if(t.inline&&"all"===t.remove&&B(t.preserve_attributes)){var l=J(a.getAttribs(s),(function(e){return G(t.preserve_attributes,e.name.toLowerCase())}));if(a.removeAllAttribs(s),q(l,(function(e){return a.setAttrib(s,e.name,e.value)})),l.length>0)return e.dom.rename(r,"span"),!0}if("all"!==t.remove){UC(t.styles,(function(e,r){e=Hp(a,Fp(e,n),r),"number"===typeof r&&(r=e,i=null),(t.remove_similar||!i||qC(zp(a,i,r),e))&&a.setStyle(s,r,""),o=!0})),o&&""===a.getAttrib(s,"style")&&(s.removeAttribute("style"),s.removeAttribute("data-mce-style")),UC(t.attributes,(function(e,r){var o;if(e=Fp(e,n),"number"===typeof r&&(r=e,i=null),t.remove_similar||!i||qC(a.getAttrib(i,r),e)){if("class"===r&&(e=a.getAttrib(s,r),e&&(o="",q(e.split(/\s+/),(function(e){/mce\-\w+/.test(e)&&(o+=(o?" ":"")+e)})),o)))return void a.setAttrib(s,r,o);"class"===r&&s.removeAttribute("className"),ZC.test(r)&&s.removeAttribute("data-mce-"+r),s.removeAttribute(r)}})),UC(t.classes,(function(e){e=Fp(e,n),i&&!a.hasClass(i,e)||a.removeClass(s,e)}));for(var c=a.getAttribs(s),u=0;u<c.length;u++){var d=c[u].nodeName;if(0!==d.indexOf("_")&&0!==d.indexOf("data-"))return!1}}return"none"!==t.remove?(ow(e,s,t),!0):void 0},sw=function(e,t,n,r,i){var o;return q(Vp(e.dom,t.parentNode).reverse(),(function(t){if(!o&&"_start"!==t.id&&"_end"!==t.id){var a=gC(e,t,n,r,i);a&&!1!==a.split&&(o=t)}})),o},lw=function(e,t,n,r,i,o,a,s){var l,c,u,d=e.dom;if(n){for(var f=n.parentNode,h=r.parentNode;h&&h!==f;h=h.parentNode){l=d.clone(h,!1);for(var p=0;p<t.length;p++)if(aw(e,t[p],s,l,l)){l=0;break}l&&(c&&l.appendChild(c),u||(u=l),c=l)}!o||a.mixed&&d.isBlock(n)||(r=d.split(n,r)),c&&(i.parentNode.insertBefore(c,i),u.appendChild(i))}return r},cw=function(e,t,n,r,i){var o=e.formatter.get(t),a=o[0],s=!0,l=e.dom,c=e.selection,u=function(r){var s=sw(e,r,t,n,i);return lw(e,o,s,r,r,!0,a,n)},d=function(e){return kp(e)&&Tr(e)&&("_start"===e.id||"_end"===e.id)},f=function(t){var r,i;Tr(t)&&l.getContentEditable(t)&&(r=s,s="true"===l.getContentEditable(t),i=!0);var c=he(t.childNodes);if(s&&!i)for(var u=0;u<o.length;u++)if(aw(e,o[u],n,t,t))break;if(a.deep&&c.length){for(u=0;u<c.length;u++)f(c[u]);i&&(s=r)}},h=function(e){var t=l.get(e?"_start":"_end"),n=t[e?"firstChild":"lastChild"];return d(n)&&(n=n[e?"firstChild":"lastChild"]),Fr(n)&&0===n.data.length&&(n=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling),l.remove(t,!0),n},p=function(t){var n,r,i=om(e,t,o,!0);if(a.split){if(i=uC(i),n=JC(e,i,!0),r=JC(e,i),n!==r){if(n=QC(n,!0),r=QC(r,!1),YC(l,n,r)){var s=T.from(n.firstChild).getOr(n);return u(tw(l,s,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void h(!0)}if(YC(l,r,n)){s=T.from(r.lastChild).getOr(r);return u(tw(l,s,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void h(!1)}n=ew(l,n,"span",{id:"_start","data-mce-type":"bookmark"}),r=ew(l,r,"span",{id:"_end","data-mce-type":"bookmark"});var c=l.createRng();c.setStartAfter(n),c.setEndBefore(r),lm(l,c,(function(e){q(e,(function(e){kp(e)||kp(e.parentNode)||u(e)}))})),u(n),u(r),n=h(!0),r=h()}else n=r=u(n);i.startContainer=n.parentNode?n.parentNode:n,i.startOffset=l.nodeIndex(n),i.endContainer=r.parentNode?r.parentNode:r,i.endOffset=l.nodeIndex(r)+1}lm(l,i,(function(t){q(t,(function(t){f(t);var n=["underline","line-through","overline"];q(n,(function(n){Tr(t)&&e.dom.getStyle(t,"text-decoration")===n&&t.parentNode&&$p(l,t.parentNode)===n&&aw(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:n}},null,t)}))}))}))};if(r)if(Op(r)){var m=l.createRng();m.setStartBefore(r),m.setEndAfter(r),p(m)}else p(r);else if("false"!==l.getContentEditable(c.getNode()))c.isCollapsed()&&a.inline&&!mm(e).length?MC(e,t,n,i):(Am(c,!0,(function(){Im(e,p)})),a.inline&&vC(e,t,n,c.getStart())&&Np(l,c,c.getRng()),e.nodeChanged());else{r=c.getNode();for(var g=0;g<o.length;g++)if(o[g].ceFalseOverride&&aw(e,o[g],n,r,r))break}},uw=nn.each,dw=function(e){return Tr(e)&&!kp(e)&&!rp(e)&&!Lr(e)},fw=function(e,t){var n;for(n=e;n;n=n[t]){if(Fr(n)&&0!==n.nodeValue.length)return e;if(Tr(n)&&!kp(n))return n}return e},hw=function(e,t,n){var r,i,o=new cg(e);if(t&&n&&(t=fw(t,"previousSibling"),n=fw(n,"nextSibling"),o.compare(t,n))){for(r=t.nextSibling;r&&r!==n;)i=r,r=r.nextSibling,t.appendChild(i);return e.remove(n),nn.each(nn.grep(n.childNodes),(function(e){t.appendChild(e)})),t}return n},pw=function(e,t,n){uw(e.childNodes,(function(e){dw(e)&&(t(e)&&n(e),e.hasChildNodes()&&pw(e,t,n))}))},mw=function(e,t){return function(n){return!(!n||!zp(e,n,t))}},gw=function(e,t,n){return function(r){e.setStyle(r,t,n),""===r.getAttribute("style")&&r.removeAttribute("style"),vw(e,r)}},vw=function(e,t){"SPAN"===t.nodeName&&0===e.getAttribs(t).length&&e.remove(t,!0)},bw=function(e,t,n,r){var i=function(t){if(1===t.nodeType&&t.parentNode&&1===t.parentNode.nodeType){var n=$p(e,t.parentNode);e.getStyle(t,"color")&&n?e.setStyle(t,"text-decoration",n):e.getStyle(t,"text-decoration")===n&&e.setStyle(t,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(nn.walk(r,i,"childNodes"),i(r))},yw=function(e,t,n,r){t.styles&&t.styles.backgroundColor&&pw(r,mw(e,"fontSize"),gw(e,"backgroundColor",Fp(t.styles.backgroundColor,n)))},Cw=function(e,t,n,r){"sub"!==t.inline&&"sup"!==t.inline||(pw(r,mw(e,"fontSize"),gw(e,"fontSize","")),e.remove(e.select("sup"===t.inline?"sub":"sup",r),!0))},ww=function(e,t,n,r){r&&!1!==t.merge_siblings&&(r=hw(e,Lp(r),r),r=hw(e,r,Lp(r,!0)))},xw=function(e,t,n){if(t.clear_child_styles){var r=t.links?"*:not(a)":"*";uw(e.select(r,n),(function(n){dw(n)&&uw(t.styles,(function(t,r){e.setStyle(n,r,"")}))}))}},Iw=function(e,t,n,r){uw(t,(function(t){uw(e.dom.select(t.inline,r),(function(r){dw(r)&&aw(e,t,n,r,t.exact?r:null)})),xw(e.dom,t,r)}))},Aw=function(e,t,n,r,i){gC(e,i.parentNode,n,r)&&aw(e,t,r,i)||t.merge_with_parents&&e.dom.getParent(i.parentNode,(function(o){if(gC(e,o,n,r))return aw(e,t,r,i),!0}))},kw=nn.each,Sw=function(e){return e&&1===e.nodeType&&!kp(e)&&!rp(e)&&!Lr(e)},_w=function(e,t,n,r){var i,o=e.formatter.get(t),a=o[0],s=!r&&e.selection.isCollapsed(),l=e.dom,c=e.selection,u=function(e,t){if(t=t||a,e){if(t.onformat&&t.onformat(e,t,n,r),kw(t.styles,(function(t,r){l.setStyle(e,r,Fp(t,n))})),t.styles){var i=l.getAttrib(e,"style");i&&l.setAttrib(e,"data-mce-style",i)}kw(t.attributes,(function(t,r){l.setAttrib(e,r,Fp(t,n))})),kw(t.classes,(function(t){t=Fp(t,n),l.hasClass(e,t)||l.addClass(e,t)}))}},d=function(e,t){var n=!1;return!!a.selector&&(kw(e,(function(e){if(!("collapsed"in e)||e.collapsed===s)return l.is(t,e.selector)&&!rp(t)?(u(t,e),n=!0,!1):void 0})),n)},f=function(r,i,s,l){var c=[],f=!0,h=a.inline||a.block,p=r.create(h);u(p),lm(r,i,(function(i){var s,m=function(i){var g=!1,v=f,b=i.nodeName.toLowerCase(),y=i.parentNode.nodeName.toLowerCase();if(Tr(i)&&r.getContentEditable(i)&&(v=f,f="true"===r.getContentEditable(i),g=!0),jp(b,"br"))return s=0,void(a.block&&r.remove(i));if(a.wrapper&&gC(e,i,t,n))s=0;else{if(f&&!g&&a.block&&!a.wrapper&&Dp(e,b)&&Bp(e,y,h))return i=r.rename(i,h),u(i),c.push(i),void(s=0);if(a.selector){var C=d(o,i);if(!a.inline||C)return void(s=0)}!f||g||!Bp(e,h,b)||!Bp(e,y,h)||!l&&3===i.nodeType&&1===i.nodeValue.length&&65279===i.nodeValue.charCodeAt(0)||rp(i)||a.inline&&r.isBlock(i)?(s=0,kw(nn.grep(i.childNodes),m),g&&(f=v),s=0):(s||(s=r.clone(p,!1),i.parentNode.insertBefore(s,i),c.push(s)),s.appendChild(i))}};kw(i,m)})),!0===a.links&&kw(c,(function(e){var t=function(e){"A"===e.nodeName&&u(e,a),kw(nn.grep(e.childNodes),t)};t(e)})),kw(c,(function(i){var s=function(e){var t=0;return kw(e.childNodes,(function(e){Pp(e)||kp(e)||t++})),t},l=function(e){var t=!1;return kw(e.childNodes,(function(e){if(Sw(e))return t=e,!1})),t},d=function(e){var t,n=l(e);return n&&!kp(n)&&pC(r,n,a)&&(t=r.clone(n,!1),u(t),r.replace(t,e,!0),r.remove(n,!0)),t||e},f=s(i);!(c.length>1)&&r.isBlock(i)||0!==f?(a.inline||a.wrapper)&&(a.exact||1!==f||(i=d(i)),Iw(e,o,n,i),Aw(e,a,t,n,i),yw(r,a,n,i),bw(r,a,n,i),Cw(r,a,n,i),ww(r,a,n,i)):r.remove(i,!0)}))};if("false"!==l.getContentEditable(c.getNode())){if(a){if(r)Op(r)?d(o,r)||(i=l.createRng(),i.setStartBefore(r),i.setEndAfter(r),f(l,om(e,i,o),null,!0)):f(l,r,null,!0);else if(s&&a.inline&&!mm(e).length)BC(e,t,n);else{var h=c.getNode();e.settings.forced_root_block||!o[0].defaultBlock||l.getParent(h,l.isBlock)||_w(e,o[0].defaultBlock),c.setRng(nb(c.getRng())),Am(c,!0,(function(t){Im(e,(function(t,n){var r=n?t:om(e,t,o);f(l,r)}))})),Np(l,c,c.getRng()),e.nodeChanged()}GC(t,e)}}else{r=c.getNode();for(var p=0,m=o.length;p<m;p++)if(o[p].ceFalseOverride&&l.is(r,o[p].selector))return void u(r,o[p])}},Tw=function(e,t,n,r){var i=e.formatter.get(t);!vC(e,t,n,r)||"toggle"in i[0]&&!i[0].toggle?_w(e,t,n,r):cw(e,t,n,r)},Ew=function(e,t){return U(t,(function(t){var n=e.fire("GetSelectionRange",{range:t});return n.range!==t?n.range:t}))},Ow=function(e,t){var r=t||n.document,i=r.createDocumentFragment();return q(e,(function(e){i.appendChild(e.dom())})),cn.fromDom(i)},Rw=function(e,t,n){return{element:v(e),width:v(t),rows:v(n)}},Nw=function(e,t){return{element:v(e),cells:v(t)}},Lw=function(e,t){return{x:v(e),y:v(t)}},Dw=function(e,t){var n=parseInt(qr(e,t),10);return isNaN(n)?1:n},Bw=function(e,t,n,r,i){for(var o=Dw(i,"rowspan"),a=Dw(i,"colspan"),s=e.rows(),l=n;l<n+o;l++){s[l]||(s[l]=Nw(xc(r),[]));for(var c=t;c<t+a;c++){var u=s[l].cells();u[c]=l===n&&c===t?i:wc(i)}}},Mw=function(e,t,n){var r=e.rows(),i=r[n]?r[n].cells():[];return!!i[t]},Pw=function(e,t,n){while(Mw(e,t,n))t++;return t},Fw=function(e){return ee(e,(function(e,t){return t.cells().length>e?t.cells().length:e}),0)},jw=function(e,t){for(var n=e.rows(),r=0;r<n.length;r++)for(var i=n[r].cells(),o=0;o<i.length;o++)if(Rn(i[o],t))return T.some(Lw(o,r));return T.none()},Hw=function(e,t,n,r,i){for(var o=[],a=e.rows(),s=n;s<=i;s++){var l=a[s].cells(),c=t<r?l.slice(t,r+1):l.slice(r,t+1);o.push(Nw(a[s].element(),c))}return o},zw=function(e,t,n){var r=t.x(),i=t.y(),o=n.x(),a=n.y(),s=i<a?Hw(e,r,i,o,a):Hw(e,r,a,o,i);return Rw(e.element(),Fw(s),s)},$w=function(e,t){var n=wc(e.element()),r=cn.fromTag("tbody");return cr(r,t),ar(n,r),n},Vw=function(e){return U(e.rows(),(function(e){var t=U(e.cells(),(function(e){var t=xc(e);return Jr(t,"colspan"),Jr(t,"rowspan"),t})),n=wc(e.element());return cr(n,t),n}))},Ww=function(e){var t=Rw(wc(e),0,[]);return q(Yl(e,"tr"),(function(e,n){q(Yl(e,"td,th"),(function(r,i){Bw(t,Pw(t,i,n),n,e,r)}))})),Rw(t.element(),Fw(t.rows()),t.rows())},Kw=function(e){return $w(e,Vw(e))},Gw=function(e,t,n){return jw(e,t).bind((function(t){return jw(e,n).map((function(n){return zw(e,t,n)}))}))},Zw=function(e){return ne(e,(function(e){return"ul"===mn(e)||"ol"===mn(e)}))},Uw=function(e,t){return ne(e,(function(e){return"li"===mn(e)&&Cm(e,t)})).fold(v([]),(function(t){return Zw(e).map((function(e){return[cn.fromTag("li"),cn.fromTag(mn(e))]})).getOr([])}))},qw=function(e,t){var n=ee(t,(function(e,t){return ar(t,e),t}),e);return t.length>0?Ow([n]):n},Xw=function(e){return _i(e)?jn(e).filter(Si).fold(v([]),(function(t){return[e,t]})):Si(e)?[e]:[]},Yw=function(e,t){var n=cn.fromDom(t.commonAncestorContainer),r=Hg(n,e),i=J(r,(function(e){return Ii(e)||Ci(e)})),o=Uw(r,t),a=i.concat(o.length?o:Xw(n));return U(a,wc)},Jw=function(){return Ow([])},Qw=function(e,t){return qw(cn.fromDom(t.cloneContents()),Yw(e,t))},ex=function(e,t){return tc(t,"table",y(Rn,e))},tx=function(e,t){return ex(e,t[0]).bind((function(e){var n=t[0],r=t[t.length-1],i=Ww(e);return Gw(i,n,r).map((function(e){return Ow([Kw(e)])}))})).getOrThunk(Jw)},nx=function(e,t){return t.length>0&&t[0].collapsed?Jw():Qw(e,t[0])},rx=function(e,t){var n=pm(t,e);return n.length>0?tx(e,n):nx(e,t)},ix=function(e){return e.replace(/^[ \f\n\r\t\v]+/,"")},ox=function(e,t){return t>=0&&t<e.length&&Tp(e.charAt(t))},ax=function(e){var t=_c(e.innerText);return Vt.browser.isIE()?ix(t):t},sx=function(e){return T.from(e.selection.getRng()).map((function(t){var n=e.dom.add(e.getBody(),"div",{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},t.cloneContents()),r=ax(n),i=_c(n.textContent);if(e.dom.remove(n),ox(i,0)||ox(i,i.length-1)){var o=e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock),a=ax(o),s=a.indexOf(r);if(-1!==s){var l=ox(a,s-1),c=ox(a,s+r.length);return(l?" ":"")+r+(c?" ":"")}return r}return r})).getOr("")},lx=function(e,t){var n=e.selection.getRng(),r=e.dom.create("body"),i=e.selection.getSel(),o=Ew(e,cm(i)),a=t.contextual?rx(cn.fromDom(e.getBody()),o).dom():n.cloneContents();return a&&r.appendChild(a),e.selection.serializer.serialize(r,t)},cx=function(e,t,n){if(void 0===n&&(n={}),n.get=!0,n.format=t,n.selection=!0,n=e.fire("BeforeGetContent",n),n.isDefaultPrevented())return e.fire("GetContent",n),n.content;if("text"===n.format)return sx(e);n.getInner=!0;var r=lx(e,n);return"tree"===n.format?r:(n.content=e.selection.isCollapsed()?"":r,e.fire("GetContent",n),n.content)},ux=0,dx=1,fx=2,hx=function(e,t){var n=e.length+t.length+2,r=new Array(n),i=new Array(n),o=function(e,t,n){return{start:e,end:t,diag:n}},a=function(n,r,i,o,s){var c=l(n,r,i,o);if(null===c||c.start===r&&c.diag===r-o||c.end===n&&c.diag===n-i){var u=n,d=i;while(u<r||d<o)u<r&&d<o&&e[u]===t[d]?(s.push([ux,e[u]]),++u,++d):r-n>o-i?(s.push([fx,e[u]]),++u):(s.push([dx,t[d]]),++d)}else{a(n,c.start,i,c.start-c.diag,s);for(var f=c.start;f<c.end;++f)s.push([ux,e[f]]);a(c.end,r,c.end-c.diag,o,s)}},s=function(n,r,i,a){var s=n;while(s-r<a&&s<i&&e[s]===t[s-r])++s;return o(n,s,r)},l=function(n,o,a,l){var c=o-n,u=l-a;if(0===c||0===u)return null;var d,f,h,p,m,g=c-u,v=u+c,b=(v%2===0?v:v+1)/2;for(r[1+b]=n,i[1+b]=o+1,d=0;d<=b;++d){for(f=-d;f<=d;f+=2){h=f+b,f===-d||f!==d&&r[h-1]<r[h+1]?r[h]=r[h+1]:r[h]=r[h-1]+1,p=r[h],m=p-n+a-f;while(p<o&&m<l&&e[p]===t[m])r[h]=++p,++m;if(g%2!==0&&g-d<=f&&f<=g+d&&i[h-g]<=r[h])return s(i[h-g],f+n-a,o,l)}for(f=g-d;f<=g+d;f+=2){h=f+b-g,f===g-d||f!==g+d&&i[h+1]<=i[h-1]?i[h]=i[h+1]-1:i[h]=i[h-1],p=i[h]-1,m=p-n+a-f;while(p>=n&&m>=a&&e[p]===t[m])i[h]=p--,m--;if(g%2===0&&-d<=f&&f<=d&&i[h]<=r[h+g])return s(i[h],f+n-a,o,l)}}},c=[];return a(0,e.length,0,t.length,c),c},px=function(e){return Tr(e)?e.outerHTML:Fr(e)?Ji.encodeRaw(e.data,!1):jr(e)?"\x3c!--"+e.data+"--\x3e":""},mx=function(e){var t,r=n.document.createElement("div"),i=n.document.createDocumentFragment();e&&(r.innerHTML=e);while(t=r.firstChild)i.appendChild(t);return i},gx=function(e,t,n){var r=mx(t);if(e.hasChildNodes()&&n<e.childNodes.length){var i=e.childNodes[n];i.parentNode.insertBefore(r,i)}else e.appendChild(r)},vx=function(e,t){if(e.hasChildNodes()&&t<e.childNodes.length){var n=e.childNodes[t];n.parentNode.removeChild(n)}},bx=function(e,t){var n=0;q(e,(function(e){e[0]===ux?n++:e[0]===dx?(gx(t,e[1],n),n++):e[0]===fx&&vx(t,n)}))},yx=function(e){return J(U(he(e.childNodes),px),(function(e){return e.length>0}))},Cx=function(e,t){var n=U(he(t.childNodes),px);return bx(hx(n,e),t),t},wx=wl(T.none()),xx=function(){return wx.get().getOrThunk((function(){var e=n.document.implementation.createHTMLDocument("undo");return wx.set(T.some(e)),e}))},Ix=function(e){return-1!==e.indexOf("</iframe>")},Ax=function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}},kx=function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}},Sx=function(e){var t=yx(e.getBody()),n=oe(t,(function(t){var n=rg(e.serializer,t);return n.length>0?[n]:[]})),r=n.join("");return Ix(r)?Ax(n):kx(r)},_x=function(e,t,n){"fragmented"===t.type?Cx(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw"}),e.selection.moveToBookmark(n?t.beforeBookmark:t.bookmark)},Tx=function(e){return"fragmented"===e.type?e.fragments.join(""):e.content},Ex=function(e){var t=cn.fromTag("body",xx());return yc(t,Tx(e)),q(Yl(t,"*[data-mce-bogus]"),fr),bc(t)},Ox=function(e,t){return Tx(e)===Tx(t)},Rx=function(e,t){return Ex(e)===Ex(t)},Nx=function(e,t){return!(!e||!t)&&(!!Ox(e,t)||Rx(e,t))},Lx=function(e){return 0===e.get()},Dx=function(e,t,n){Lx(n)&&(e.typing=t)},Bx=function(e,t){e.typing&&(Dx(e,!1,t),e.add())},Mx=function(e){e.typing&&(e.typing=!1,e.add())},Px=function(e,t,n){Lx(t)&&n.set(T.some(kd(e.selection)))},Fx=function(e,t,n,r,i,o,a){var s=Sx(e);if(o=o||{},o=nn.extend(o,s),!1===Lx(r)||e.removed)return null;var l=t.data[n.get()];if(e.fire("BeforeAddUndo",{level:o,lastLevel:l,originalEvent:a}).isDefaultPrevented())return null;if(l&&Nx(l,o))return null;t.data[n.get()]&&i.get().each((function(e){t.data[n.get()].beforeBookmark=e}));var c=Ef(e);if(c&&t.data.length>c){for(var u=0;u<t.data.length-1;u++)t.data[u]=t.data[u+1];t.data.length--,n.set(t.data.length)}o.bookmark=kd(e.selection),n.get()<t.data.length-1&&(t.data.length=n.get()+1),t.data.push(o),n.set(t.data.length-1);var d={level:o,lastLevel:l,originalEvent:a};return e.fire("AddUndo",d),n.get()>0&&(e.setDirty(!0),e.fire("change",d)),o},jx=function(e,t,n){t.data=[],n.set(0),t.typing=!1,e.fire("ClearUndos")},Hx=function(e,t,n,r,i){if(t.transact(r)){var o=t.data[n.get()].bookmark,a=t.data[n.get()-1];_x(e,a,!0),t.transact(i)&&(t.data[n.get()-1].beforeBookmark=o)}},zx=function(e,t,n){var r;return t.get()<n.length-1&&(t.set(t.get()+1),r=n[t.get()],_x(e,r,!1),e.setDirty(!0),e.fire("Redo",{level:r})),r},$x=function(e,t,n,r){var i;return t.typing&&(t.add(),t.typing=!1,Dx(t,!1,n)),r.get()>0&&(r.set(r.get()-1),i=t.data[r.get()],_x(e,i,!0),e.setDirty(!0),e.fire("Undo",{level:i})),i},Vx=function(e){e.clear(),e.add()},Wx=function(e,t,n){return n.get()>0||t.typing&&t.data[0]&&!Nx(Sx(e),t.data[0])},Kx=function(e,t){return t.get()<e.data.length-1&&!e.typing},Gx=function(e,t,n){return Bx(e,t),e.beforeChange(),e.ignore(n),e.add()},Zx=function(e,t){try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},Ux=function(e){return e instanceof Hm},qx=function(e,t){tC(e.serializer.getNodeFilters(),e.serializer.getAttributeFilters(),t)},Xx=function(){return{type:"complete",fragments:[],content:"",bookmark:null,beforeBookmark:null}},Yx=function(e){return{undoManager:{beforeChange:function(t,n){return Px(e,t,n)},addUndoLevel:function(t,n,r,i,o,a){return Fx(e,t,n,r,i,o,a)},undo:function(t,n,r){return $x(e,t,n,r)},redo:function(t,n){return zx(e,t,n)},clear:function(t,n){return jx(e,t,n)},reset:function(e){return Vx(e)},hasUndo:function(t,n){return Wx(e,t,n)},hasRedo:function(e,t){return Kx(e,t)},transact:function(e,t,n){return Gx(e,t,n)},ignore:function(e,t){return Zx(e,t)},extra:function(t,n,r,i){return Hx(e,t,n,r,i)}},formatter:{apply:function(t,n,r){return _w(e,t,n,r)},remove:function(t,n,r,i){return cw(e,t,n,r,i)},toggle:function(t,n,r){return Tw(e,t,n,r)}},editor:{getContent:function(t,n){return sg(e,t,n)},setContent:function(t,n){return lC(e,t,n)},insertContent:function(t,n){return jb(e,t,n)}},selection:{getContent:function(t,n){return cx(e,t,n)}},raw:{getModel:function(){return T.none()}}}},Jx=function(e,t){var n=function(e){return D(e)?e:{}},r=w("Unimplemented feature for rtc"),i=p;return{undoManager:{beforeChange:i,addUndoLevel:r,undo:function(){return t.undo(),Xx()},redo:function(){return t.redo(),Xx()},clear:r,reset:r,hasUndo:function(){return t.hasUndo()},hasRedo:function(){return t.hasRedo()},transact:function(e,n,r){return t.transact(r),Xx()},ignore:r,extra:r},formatter:{apply:function(e,r,i){return t.applyFormat(e,n(r))},remove:function(e,r,i,o){return t.removeFormat(e,n(r))},toggle:function(e,r,i){return t.toggleFormat(e,n(r))}},editor:{getContent:function(n,r){if("html"===r||"tree"===r){var i=t.getContent(),o=Vm({inner:!0});return qx(e,i),"tree"===r?i:o.serialize(i)}return Yx(e).editor.getContent(n,r)},setContent:function(n,r){var i=Ux(n)?n:e.parser.parse(n,{isRootContent:!0,insert:!0});return t.setContent(i),n},insertContent:function(n,r){var i=Ux(n)?n:e.parser.parse(n,{insert:!0});t.insertContent(i)}},selection:{getContent:function(n,r){if("html"===n||"tree"===n){var i=t.getSelectedContent(),o=Vm({});return qx(e,i),"tree"===n?i:o.serialize(i)}return Yx(e).selection.getContent(n,r)}},raw:{getModel:function(){return T.some(t.getRawModel())}}}},Qx=function(e){return Se(e.plugins,"rtc")},eI=function(e){var t=e;return ke(e.plugins,"rtc").fold((function(){return t.rtcInstance=Yx(e),T.none()}),(function(n){return T.some(n.setup().then((function(n){return t.rtcInstance=Jx(e,n),n.isRemote})))}))},tI=function(e){return e.rtcInstance?e.rtcInstance:Yx(e)},nI=function(e){var t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},rI=function(e,t,n){nI(e).undoManager.beforeChange(t,n)},iI=function(e,t,n,r,i,o,a){return nI(e).undoManager.addUndoLevel(t,n,r,i,o,a)},oI=function(e,t,n,r){return nI(e).undoManager.undo(t,n,r)},aI=function(e,t,n){return nI(e).undoManager.redo(t,n)},sI=function(e,t,n){nI(e).undoManager.clear(t,n)},lI=function(e,t){nI(e).undoManager.reset(t)},cI=function(e,t,n){return nI(e).undoManager.hasUndo(t,n)},uI=function(e,t,n){return nI(e).undoManager.hasRedo(t,n)},dI=function(e,t,n,r){return nI(e).undoManager.transact(t,n,r)},fI=function(e,t,n){nI(e).undoManager.ignore(t,n)},hI=function(e,t,n,r,i){nI(e).undoManager.extra(t,n,r,i)},pI=function(e,t,n,r){nI(e).formatter.apply(t,n,r)},mI=function(e,t,n,r,i){nI(e).formatter.remove(t,n,r,i)},gI=function(e,t,n,r){nI(e).formatter.toggle(t,n,r)},vI=function(e,t,n){return tI(e).editor.getContent(t,n)},bI=function(e,t,n){return tI(e).editor.setContent(t,n)},yI=function(e,t,n){return tI(e).editor.insertContent(t,n)},CI=function(e,t,n){return nI(e).selection.getContent(t,n)},wI="html",xI=function(e,t){void 0===t&&(t={});var n=t.format?t.format:wI;return vI(e,t,n)},II=function(e,t,n){return void 0===n&&(n={}),bI(e,t,n)},AI=function(e,t){return e.fire("PreProcess",t)},kI=function(e,t){return e.fire("PostProcess",t)},SI=function(e){return e.fire("remove")},_I=function(e){return e.fire("detach")},TI=function(e,t){return e.fire("SwitchMode",{mode:t})},EI=function(e,t,n,r){e.fire("ObjectResizeStart",{target:t,width:n,height:r})},OI=function(e,t,n,r){e.fire("ObjectResized",{target:t,width:n,height:r})},RI=function(e){return e.fire("PreInit")},NI=function(e){return e.fire("PostRender")},LI=function(e){return e.fire("Init")},DI=function(e,t){return e.fire("PlaceholderToggle",{state:t})},BI=function(e,t,n){return e.fire(t,n)},MI=fl.DOM,PI=function(e){MI.setStyle(e.id,"display",e.orgDisplay)},FI=function(e){return T.from(e).each((function(e){return e.destroy()}))},jI=function(e){e.contentAreaContainer=e.formElement=e.container=e.editorContainer=null,e.bodyElement=e.contentDocument=e.contentWindow=null,e.iframeElement=e.targetElm=null,e.selection&&(e.selection=e.selection.win=e.selection.dom=e.selection.dom.doc=null)},HI=function(e){var t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,t._mceOldSubmit=null),MI.unbind(t,"submit reset",e.formEventDelegate))},zI=function(e){if(!e.removed){var t=e._selectionOverrides,n=e.editorUpload,r=e.getBody(),i=e.getElement();r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&i&&MI.remove(i.nextSibling),SI(e),e.editorManager.remove(e),!e.inline&&r&&PI(e),_I(e),MI.remove(e.getContainer()),FI(t),FI(n),e.destroy()}},$I=function(e,t){var n=e.selection,r=e.dom;e.destroyed||(t||e.removed?(t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),FI(n),FI(r)),HI(e),jI(e),e.destroyed=!0):e.remove())},VI=Object.prototype.hasOwnProperty,WI=function(e,t){var n=D(e)&&D(t);return n?GI(e,t):t},KI=function(e){return function(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];if(0===t.length)throw new Error("Can't merge zero objects");for(var r={},i=0;i<t.length;i++){var o=t[i];for(var a in o)VI.call(o,a)&&(r[a]=e(r[a],o[a]))}return r}},GI=KI(WI),ZI=function(e,t){return{sections:v(e),settings:v(t)}},UI=Dt().deviceType,qI=UI.isTouch(),XI=UI.isPhone(),YI=UI.isTablet(),JI=["lists","autolink","autosave"],QI={table_grid:!1,object_resizing:!1,resize:!1},eA=function(e){var t=B(e)?e.join(" "):e,n=U(L(t)?t.split(" "):[],xt);return J(n,(function(e){return e.length>0}))},tA=function(e){return J(e,y(G,JI))},nA=function(e,t){var n=we(t,(function(t,n){return G(e,n)}));return ZI(n.t,n.f)},rA=function(e,t,n){void 0===n&&(n={});var r=e.sections(),i=r.hasOwnProperty(t)?r[t]:{};return nn.extend({},n,i)},iA=function(e,t){return e.sections().hasOwnProperty(t)},oA=function(e,t,n){var r=e.sections();return iA(e,t)&&r[t].theme===n},aA=function(e,t){return iA(e,t)?e.sections()[t]:{}},sA=function(e,t){return ke(e,"toolbar_mode").orThunk((function(){return ke(e,"toolbar_drawer").map((function(e){return!1===e?"wrap":e}))})).getOr(t)},lA=function(e,t,n,r,i){var o={id:t,theme:"silver",toolbar_mode:sA(e,"floating"),plugins:"",document_base_url:n,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:i.convertURL,url_converter_scope:i};return Pe(Pe({},o),r?QI:{})},cA=function(e,t){var n={resize:!1,toolbar_mode:sA(e,"scrolling"),toolbar_sticky:!1},r={menubar:!1};return Pe(Pe(Pe({},QI),n),t?r:{})},uA=function(e,t){var n=t.external_plugins?t.external_plugins:{};return e&&e.external_plugins?nn.extend({},e.external_plugins,n):n},dA=function(e,t){return[].concat(eA(e)).concat(eA(t))},fA=function(e,t,n,r){var i=eA(n.forced_plugins),o=eA(r.plugins),a=aA(t,"mobile"),s=a.plugins?eA(a.plugins):o,l=e&&oA(t,"mobile","mobile")?tA(s):e&&iA(t,"mobile")?s:o,c=dA(i,l);return nn.extend(r,{plugins:c.join(" ")})},hA=function(e,t){return e&&iA(t,"mobile")},pA=function(e,t,n,r,i){var o=e?{mobile:cA(i.mobile||{},t)}:{},a=nA(["mobile"],GI(o,i)),s=nn.extend(n,r,a.settings(),hA(e,a)?rA(a,"mobile"):{},{validate:!0,external_plugins:uA(r,a.settings())});return fA(e,a,r,s)},mA=function(e,t,n,r,i){var o=lA(i,t,n,qI,e);return pA(XI||YI,XI,o,r,i)},gA=function(e,t,n){return T.from(t.settings[n]).filter(e)},vA=function(e){var t={};return"string"===typeof e?q(e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(","),(function(e){var n=e.split("=");n.length>1?t[nn.trim(n[0])]=nn.trim(n[1]):t[nn.trim(n[0])]=nn.trim(n[0])})):t=e,t},bA=function(e){return function(t){return B(t)&&ae(t,e)}},yA=function(e,t,n,r){var i=t in e.settings?e.settings[t]:n;return"hash"===r?vA(i):"string"===r?gA(L,e,t).getOr(n):"number"===r?gA(H,e,t).getOr(n):"boolean"===r?gA(P,e,t).getOr(n):"object"===r?gA(D,e,t).getOr(n):"array"===r?gA(B,e,t).getOr(n):"string[]"===r?gA(bA(L),e,t).getOr(n):"function"===r?gA(j,e,t).getOr(n):i},CA=function(){var e={},t=function(t,n){e[t]=n},n=function(t){return e[t]?e[t]:{icons:{}}},r=function(t){return Se(e,t)};return{add:t,get:n,has:r}},wA=CA(),xA=function(e,t){var n=t.dom();return n[e]},IA=function(e,t){return parseInt(ei(t,e),10)},AA=y(xA,"clientWidth"),kA=y(xA,"clientHeight"),SA=y(IA,"margin-top"),_A=y(IA,"margin-left"),TA=function(e){return e.dom().getBoundingClientRect()},EA=function(e,t,n){var r=AA(e),i=kA(e);return t>=0&&n>=0&&t<=r&&n<=i},OA=function(e,t,n,r){var i=TA(t),o=e?i.left+t.dom().clientLeft+_A(t):0,a=e?i.top+t.dom().clientTop+SA(t):0,s=n-o,l=r-a;return{x:s,y:l}},RA=function(e,t,n){var r=cn.fromDom(e.getBody()),i=e.inline?r:Pn(r),o=OA(e.inline,i,t,n);return EA(i,o.x,o.y)},NA=function(e){return T.from(e).map(cn.fromDom)},LA=function(e){var t=e.inline?e.getBody():e.getContentAreaContainer();return NA(t).map((function(e){return Dn(Bn(e),e)})).getOr(!1)};function DA(){var e=function(){throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,reposition:e,getArgs:e}}function BA(e){var t=[],n=function(){var t=e.theme;return t&&t.getNotificationManagerImpl?t.getNotificationManagerImpl():DA()},r=function(){return T.from(t[0])},i=function(e,t){return e.type===t.type&&e.text===t.text&&!e.progressBar&&!e.timeout&&!t.progressBar&&!t.timeout},o=function(){t.length>0&&n().reposition(t)},a=function(e){t.push(e)},s=function(e){re(t,(function(t){return t===e})).each((function(e){t.splice(e,1)}))},l=function(r){if(!e.removed&&LA(e))return ne(t,(function(e){return i(n().getArgs(e),r)})).getOrThunk((function(){e.editorManager.setActive(e);var t=n().open(r,(function(){s(t),o()}));return a(t),o(),t}))},c=function(){r().each((function(e){n().close(e),s(e),o()}))},u=function(){return t},d=function(e){e.on("SkinLoaded",(function(){var t=pf(e);t&&l({text:t,type:"warning",timeout:0})})),e.on("ResizeEditor ResizeWindow NodeChange",(function(){Qs.requestAnimationFrame(o)})),e.on("remove",(function(){q(t.slice(),(function(e){n().close(e)}))}))};return d(e),{open:l,close:c,getNotifications:u}}var MA=Ml.PluginManager,PA=Ml.ThemeManager;function FA(){var e=function(){throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e,getParams:e,setParams:e}}var jA=function(e){var t=[],n=function(){var t=e.theme;return t&&t.getWindowManagerImpl?t.getWindowManagerImpl():FA()},r=function(e,t){return function(){return t?t.apply(e,arguments):void 0}},i=function(t){e.fire("OpenWindow",{dialog:t})},o=function(t){e.fire("CloseWindow",{dialog:t})},a=function(e){t.push(e),i(e)},s=function(n){o(n),t=J(t,(function(e){return e!==n})),0===t.length&&e.focus()},l=function(){return T.from(t[t.length-1])},c=function(t){e.editorManager.setActive(e),yy(e);var n=t();return a(n),n},u=function(e,t){return c((function(){return n().open(e,t,s)}))},d=function(e){return c((function(){return n().openUrl(e,s)}))},f=function(e,t,i){n().alert(e,r(i||this,t))},h=function(e,t,i){n().confirm(e,r(i||this,t))},p=function(){l().each((function(e){n().close(e),s(e)}))};return e.on("remove",(function(){q(t,(function(e){n().close(e)}))})),{open:u,openUrl:d,alert:f,confirm:h,close:p}},HA=function(e,t){e.notificationManager.open({type:"error",text:t})},zA=function(e,t){e._skinLoaded?HA(e,t):e.on("SkinLoaded",(function(){HA(e,t)}))},$A=function(e,t){zA(e,Dl.translate(["Failed to upload image: {0}",t]))},VA=function(e,t,r){BI(e,t,{message:r}),n.console.error(r)},WA=function(e,t,n){return n?"Failed to load "+e+": "+n+" from url "+t:"Failed to load "+e+" url: "+t},KA=function(e,t,n){VA(e,"PluginLoadError",WA("plugin",t,n))},GA=function(e,t,n){VA(e,"IconsLoadError",WA("icons",t,n))},ZA=function(e,t,n){VA(e,"LanguageLoadError",WA("language",t,n))},UA=function(e,t,n){var r=Dl.translate(["Failed to initialize plugin: {0}",t]);qA(r,n),zA(e,r)},qA=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var i=n.window.console;i&&(i.error?i.error.apply(i,je([e],t)):i.log.apply(i,je([e],t)))},XA=function(e){return/^[a-z0-9\-]+$/i.test(e)},YA=function(e){var t=sf(e),n=e.editorManager.baseURL+"/skins/content",r=e.editorManager.suffix,i="content"+r+".css",o=!0===e.inline;return U(t,(function(t){return XA(t)&&!o?n+"/"+t+"/"+i:e.documentBaseURI.toAbsolute(t)}))},JA=function(e){e.contentCSS=e.contentCSS.concat(YA(e))};function QA(e,t){var n=function(t,n){if(!H(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);var r=t.dom();Kr(r)&&(r.style[e]=n+"px")},r=function(n){var r=t(n);if(r<=0||null===r){var i=ei(n,e);return parseFloat(i)||0}return r},i=r,o=function(e,t){return ee(t,(function(t,n){var r=ei(e,n),i=void 0===r?0:parseInt(r,10);return isNaN(i)?t:t+i}),0)},a=function(e,t,n){var r=o(e,n),i=t>r?t-r:0;return i};return{set:n,get:r,getOuter:i,aggregate:o,max:a}}var ek=QA("height",(function(e){var t=e.dom();return hr(e)?t.getBoundingClientRect().height:t.offsetHeight})),tk=function(e){return ek.get(e)},nk=function(e,t){var n=e.view(t);return n.fold(v([]),(function(t){var n=e.owner(t),r=nk(e,n);return[t].concat(r)}))},rk=function(e,t){var n=t.owner(e);return nk(t,n)},ik=function(e){var t=e.dom()===n.document?T.none():T.from(e.dom().defaultView.frameElement);return t.map(cn.fromDom)},ok=function(e){return Bn(e)},ak=Object.freeze({__proto__:null,view:ik,owner:ok}),sk=function(e){var t=cn.fromDom(n.document),r=Cr(t),i=rk(e,ak),o=yr(e),a=Q(i,(function(e,t){var n=yr(t);return{left:e.left+n.left(),top:e.top+n.top()}}),{left:0,top:0});return mr(a.left+o.left()+r.left(),a.top+o.top()+r.top())},lk=function(e){return"textarea"===mn(e)},ck=function(e,t){var n=e.fire("ScrollIntoView",t);return n.isDefaultPrevented()},uk=function(e,t){e.fire("AfterScrollIntoView",t)},dk=function(e,t){var n=Gn(e);if(0===n.length||lk(e))return{element:e,offset:t};if(t<n.length&&!lk(n[t]))return{element:n[t],offset:0};var r=n[n.length-1];return lk(r)?{element:e,offset:t}:"img"===mn(r)?{element:r,offset:1}:Cn(r)?{element:r,offset:_m(r).length}:{element:r,offset:Gn(r).length}},fk=function(e,t){var n=br(e),r=tk(e);return{element:e,bottom:n.top()+r,height:r,pos:n,cleanup:t}},hk=function(e,t){var n=dk(e,t),r=cn.fromHtml('<span data-mce-bogus="all">'+kc+"</span>");return rr(n.element,r),fk(r,(function(){return dr(r)}))},pk=function(e){return fk(cn.fromDom(e),p)},mk=function(e,t,n,r){yk(e,(function(i,o){return vk(e,t,n,r)}),n)},gk=function(e,t,n,r,i){var o={elm:r.element.dom(),alignToTop:i};if(!ck(e,o)){var a=Cr(t).top();n(t,a,r,i),uk(e,o)}},vk=function(e,t,n,r){var i=cn.fromDom(e.getBody()),o=cn.fromDom(e.getDoc());ii(i);var a=hk(cn.fromDom(n.startContainer),n.startOffset);gk(e,o,t,a,r),a.cleanup()},bk=function(e,t,n,r){var i=cn.fromDom(e.getDoc());gk(e,i,n,pk(t),r)},yk=function(e,t,n){var r=n.startContainer,i=n.startOffset,o=n.endContainer,a=n.endOffset;t(cn.fromDom(r),cn.fromDom(o));var s=e.dom.createRng();s.setStart(r,i),s.setEnd(o,a),e.selection.setRng(n)},Ck=function(e,t,n,r){var i=e.pos;if(n)wr(i.left(),i.top(),r);else{var o=i.top()-t+e.height;wr(i.left(),o,r)}},wk=function(e,t,n,r,i){var o=n+t,a=r.pos.top(),s=r.bottom,l=s-a>=n;if(a<t)Ck(r,n,!1!==i,e);else if(a>o){var c=l?!1!==i:!0===i;Ck(r,n,c,e)}else s>o&&!l&&Ck(r,n,!0===i,e)},xk=function(e,t,n,r){var i=e.dom().defaultView.innerHeight;wk(e,t,i,n,r)},Ik=function(e,t,r,i){var o=e.dom().defaultView.innerHeight;wk(e,t,o,r,i);var a=sk(r.element),s=kr(n.window);a.top()<s.y?xr(r.element,!1!==i):a.top()>s.bottom&&xr(r.element,!0===i)},Ak=function(e,t,n){return mk(e,xk,t,n)},kk=function(e,t,n){return bk(e,t,xk,n)},Sk=function(e,t,n){return mk(e,Ik,t,n)},_k=function(e,t,n){return bk(e,t,Ik,n)},Tk=function(e,t,n){var r=e.inline?kk:_k;r(e,t,n)},Ek=function(e,t,n){var r=e.inline?Ak:Sk;r(e,t,n)},Ok=function(e){return Vr(e)||Wr(e)},Rk=function(e,t,n){while(e&&e!==t){if(n(e))return e;e=e.parentNode}return null},Nk=function(e,t,n){var r,i=n.elementFromPoint(e,t),o=n.body.createTextRange();if(i&&"HTML"!==i.tagName||(i=n.body),o.moveToElementText(i),r=nn.toArray(o.getClientRects()),r=r.sort((function(e,n){return e=Math.abs(Math.max(e.top-t,e.bottom-t)),n=Math.abs(Math.max(n.top-t,n.bottom-t)),e-n})),r.length>0){t=(r[0].bottom+r[0].top)/2;try{return o.moveToPoint(e,t),o.collapse(!0),o}catch(a){}}return null},Lk=function(e,t){var n=e&&e.parentElement?e.parentElement():null;return Wr(Rk(n,t,Ok))?null:e},Dk=function(e,t,n){var r,i,o=n;if(o.caretPositionFromPoint)i=o.caretPositionFromPoint(e,t),i&&(r=n.createRange(),r.setStart(i.offsetNode,i.offset),r.collapse(!0));else if(n.caretRangeFromPoint)r=n.caretRangeFromPoint(e,t);else if(o.body.createTextRange){r=o.body.createTextRange();try{r.moveToPoint(e,t),r.collapse(!0)}catch(a){r=Nk(e,t,n)}return Lk(r,n.body)}return r},Bk=function(e,t,n,r,i){var o=n?t.startContainer:t.endContainer,a=n?t.startOffset:t.endOffset;return T.from(o).map(cn.fromDom).map((function(e){return r&&t.collapsed?e:Zn(e,i(e,a)).getOr(e)})).bind((function(e){return yn(e)?T.some(e):jn(e).filter(yn)})).map((function(e){return e.dom()})).getOr(e)},Mk=function(e,t,n){return Bk(e,t,!0,n,(function(e,t){return Math.min(Xn(e),t)}))},Pk=function(e,t,n){return Bk(e,t,!1,n,(function(e,t){return t>0?t-1:t}))},Fk=function(e,t){var n=e;while(e&&Fr(e)&&0===e.length)e=t?e.nextSibling:e.previousSibling;return e||n},jk=function(e,t){var n,r,i;if(!t)return e;r=t.startContainer,i=t.endContainer;var o=t.startOffset,a=t.endOffset;return n=t.commonAncestorContainer,!t.collapsed&&(r===i&&a-o<2&&r.hasChildNodes()&&(n=r.childNodes[o]),3===r.nodeType&&3===i.nodeType&&(r=r.length===o?Fk(r.nextSibling,!0):r.parentNode,i=0===a?Fk(i.previousSibling,!1):i.parentNode,r&&r===i))?r:n&&3===n.nodeType?n.parentNode:n},Hk=function(e,t,n,r){var i,o=[],a=e.getRoot();if(n=e.getParent(n||Mk(a,t,t.collapsed),e.isBlock),r=e.getParent(r||Pk(a,t,t.collapsed),e.isBlock),n&&n!==a&&o.push(n),n&&r&&n!==r){i=n;var s=new Is(n,a);while((i=s.next())&&i!==r)e.isBlock(i)&&o.push(i)}return r&&n!==r&&r!==a&&o.push(r),o},zk=function(e,t,n){return T.from(t).map((function(t){var r=e.nodeIndex(t),i=e.createRng();return i.setStart(t.parentNode,r),i.setEnd(t.parentNode,r+1),n&&(wm(e,i,t,!0),wm(e,i,t,!1)),i}))},$k=function(e,t){void 0===t&&(t={});var n=t.format?t.format:"html";return CI(e,n,t)},Vk=function(e,t){return e&&t&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset},Wk=function(e,t,n){while(e&&e!==t){if(n(e))return e;e=e.parentNode}return null},Kk=function(e,t,n){return null!==Wk(e,t,n)},Gk=function(e,t,n){return Kk(e,t,(function(e){return e.nodeName===n}))},Zk=function(e){return e&&"TABLE"===e.nodeName},Uk=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},qk=function(e,t){return Nc(e)&&!1===Kk(e,t,rp)},Xk=function(e,t,n){var r=new Is(t,e.getParent(t.parentNode,e.isBlock)||e.getRoot());while(t=r[n?"prev":"next"]())if($r(t))return!0},Yk=function(e,t){return e.previousSibling&&e.previousSibling.nodeName===t},Jk=function(e,t){while(t&&t!==e){if(Wr(t))return!0;t=t.parentNode}return!1},Qk=function(e,t,n,r,i){var o,a,s=e.getRoot(),l=e.schema.getNonEmptyElements(),c=e.getParent(i.parentNode,e.isBlock)||s;if(r&&$r(i)&&t&&e.isEmpty(c))return T.some(Vu(i.parentNode,e.nodeIndex(i)));var u=new Is(i,c);while(a=u[r?"prev":"next"]()){if("false"===e.getContentEditableParent(a)||qk(a,s))return T.none();if(Fr(a)&&a.nodeValue.length>0)return!1===Gk(a,s,"A")?T.some(Vu(a,r?a.nodeValue.length:0)):T.none();if(e.isBlock(a)||l[a.nodeName.toLowerCase()])return T.none();o=a}return n&&o?T.some(Vu(o,0)):T.none()},eS=function(e,t,n,r){var i,o,a,s,l=e.getRoot(),c=!1;i=r[(n?"start":"end")+"Container"],o=r[(n?"start":"end")+"Offset"];var u=Tr(i)&&o===i.childNodes.length,d=e.schema.getNonEmptyElements();if(s=n,Nc(i))return T.none();if(Tr(i)&&o>i.childNodes.length-1&&(s=!1),Hr(i)&&(i=l,o=0),i===l){if(s&&(a=i.childNodes[o>0?o-1:0],a)){if(Nc(a))return T.none();if(d[a.nodeName]||Zk(a))return T.none()}if(i.hasChildNodes()){if(o=Math.min(!s&&o>0?o-1:o,i.childNodes.length-1),i=i.childNodes[o],o=Fr(i)&&u?i.data.length:0,!t&&i===l.lastChild&&Zk(i))return T.none();if(Jk(l,i)||Nc(i))return T.none();if(i.hasChildNodes()&&!1===Zk(i)){a=i;var f=new Is(i,l);do{if(Wr(a)||Nc(a)){c=!1;break}if(Fr(a)&&a.nodeValue.length>0){o=s?0:a.nodeValue.length,i=a,c=!0;break}if(d[a.nodeName.toLowerCase()]&&!Uk(a)){o=e.nodeIndex(a),i=a.parentNode,s||o++,c=!0;break}}while(a=s?f.next():f.prev())}}}return t&&(Fr(i)&&0===o&&Qk(e,u,t,!0,i).each((function(e){i=e.container(),o=e.offset(),c=!0})),Tr(i)&&(a=i.childNodes[o],a||(a=i.childNodes[o-1]),!a||!$r(a)||Yk(a,"A")||Xk(e,a,!1)||Xk(e,a,!0)||Qk(e,u,t,!0,a).each((function(e){i=e.container(),o=e.offset(),c=!0})))),s&&!t&&Fr(i)&&o===i.nodeValue.length&&Qk(e,u,t,!1,i).each((function(e){i=e.container(),o=e.offset(),c=!0})),c?T.some(Vu(i,o)):T.none()},tS=function(e,t){var n=t.collapsed,r=t.cloneRange(),i=Vu.fromRangeStart(t);return eS(e,n,!0,r).each((function(e){n&&Vu.isAbove(i,e)||r.setStart(e.container(),e.offset())})),n||eS(e,n,!1,r).each((function(e){r.setEnd(e.container(),e.offset())})),n&&r.collapse(!0),Vk(t,r)?T.none():T.some(r)},nS=function(e,t){e.insertData(0,t)},rS=function(e){return 0===e.dom().length?(dr(e),T.none()):T.some(e)},iS=function(e,t){var n=T.from(t.firstChild).map(cn.fromDom),r=T.from(t.lastChild).map(cn.fromDom);e.deleteContents(),e.insertNode(t);var i=n.bind($n).filter(Cn).bind(rS),o=r.bind(Vn).filter(Cn).bind(rS);Kc(i,n.filter(Cn),(function(e,t){nS(t.dom(),e.dom().data),dr(e)})),Kc(o,r.filter(Cn),(function(t,n){var r=n.dom().length;n.dom().appendData(t.dom().data),e.setEnd(n.dom(),r),dr(t)})),e.collapse(!1)},oS=function(e,t){return Pe(Pe({format:"html"},e),{set:!0,selection:!0,content:t})},aS=function(e,t){if("raw"!==t.format){var n=e.parser.parse(t.content,Pe({isRootContent:!0,forced_root_block:!1},t));return Vm({validate:e.validate},e.schema).serialize(n)}return t.content},sS=function(e,t,n){void 0===n&&(n={});var r=oS(n,t);if(r.no_events||(r=e.fire("BeforeSetContent",r),!r.isDefaultPrevented())){n.content=aS(e,r);var i=e.selection.getRng();iS(i,i.createContextualFragment(n.content)),e.selection.setRng(i),Ek(e,i),r.no_events||e.fire("SetContent",r)}else e.fire("SetContent",r)};function lS(e){return{getBookmark:y(Ip,e),moveToBookmark:y(Ap,e)}}(function(e){e.isBookmarkNode=kp})(lS||(lS={}));var cS=lS,uS=function(e,t,n){if(n.collapsed)return!1;if(Vt.browser.isIE()&&n.startOffset===n.endOffset-1&&n.startContainer===n.endContainer){var r=n.startContainer.childNodes[n.startOffset];if(Tr(r))return Z(r.getClientRects(),(function(n){return tu(n,e,t)}))}return Z(n.getClientRects(),(function(n){return tu(n,e,t)}))},dS={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,END:35,HOME:36,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||this.metaKeyPressed(e)},metaKeyPressed:function(e){return Vt.mac?e.metaKey:e.ctrlKey&&!e.altKey}},fS=Wr,hS=Vr,pS=function(e,t){while(t&&t!==e){if(hS(t)||fS(t))return t;t=t.parentNode}return null},mS=function(e,t){var r,i,o,a,s,l,c,u,d,f,h,p,m,g,v,b,y=t.dom,C=nn.each,w=t.getDoc(),x=n.document,I=Math.abs,A=Math.round,k=t.getBody(),S={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},_=function(e){return e&&("IMG"===e.nodeName||t.dom.is(e,"figure.image"))},T=function(e,t){if("longpress"===e.type||0===e.type.indexOf("touch")){var n=e.touches[0];return _(e.target)&&!uS(n.clientX,n.clientY,t)}return _(e.target)&&!uS(e.clientX,e.clientY,t)},E=function(e){var n=e.target;T(e,t.selection.getRng())&&!e.isDefaultPrevented()&&t.selection.select(n)},O=function(e){return t.dom.is(e,"figure.image")?e.querySelector("img"):e},R=function(e){var n=uf(t);return!1!==n&&!Vt.iOS&&("string"!==typeof n&&(n="table,img,figure.image,div"),"false"!==e.getAttribute("data-mce-resize")&&(e!==t.getBody()&&_n(cn.fromDom(e),n)))},N=function(e,t,n){y.setStyles(O(e),{width:t,height:n})},L=function(e){var n,C,w,x,S;n=e.screenX-s,C=e.screenY-l,m=n*a[2]+d,g=C*a[3]+f,m=m<5?5:m,g=g<5?5:g,w=_(r)&&!1!==df(t)?!dS.modifierPressed(e):dS.modifierPressed(e),w&&(I(n)>I(C)?(g=A(m*h),m=A(g/h)):(m=A(g/h),g=A(m*h))),N(i,m,g),x=a.startPos.x+n,S=a.startPos.y+C,x=x>0?x:0,S=S>0?S:0,y.setStyles(o,{left:x,top:S,display:"block"}),o.innerHTML=m+" &times; "+g,a[2]<0&&i.clientWidth<=m&&y.setStyle(i,"left",c+(d-m)),a[3]<0&&i.clientHeight<=g&&y.setStyle(i,"top",u+(f-g)),n=k.scrollWidth-v,C=k.scrollHeight-b,n+C!==0&&y.setStyles(o,{left:x-n,top:S-C}),p||(EI(t,r,d,f),p=!0)},D=function(){var e=p;p=!1;var n=function(e,n){n&&(r.style[e]||!t.schema.isValid(r.nodeName.toLowerCase(),e)?y.setStyle(O(r),e,n):y.setAttrib(O(r),e,""+n))};e&&(n("width",m),n("height",g)),y.unbind(w,"mousemove",L),y.unbind(w,"mouseup",D),x!==w&&(y.unbind(x,"mousemove",L),y.unbind(x,"mouseup",D)),y.remove(i),y.remove(o),B(r),e&&(OI(t,r,m,g),y.setAttrib(r,"style",y.getAttrib(r,"style"))),t.nodeChanged()},B=function(e){M(),j();var n=y.getPos(e,k),c=n.x,u=n.y,p=e.getBoundingClientRect(),I=p.width||p.right-p.left,A=p.height||p.bottom-p.top;r!==e&&(r=e,m=g=0);var _=t.fire("ObjectSelected",{target:e});R(e)&&!_.isDefaultPrevented()?C(S,(function(e,t){var n,p=function(t){s=t.screenX,l=t.screenY,d=O(r).clientWidth,f=O(r).clientHeight,h=f/d,a=e,e.startPos={x:I*e[0]+c,y:A*e[1]+u},v=k.scrollWidth,b=k.scrollHeight,i=r.cloneNode(!0),y.addClass(i,"mce-clonedresizable"),y.setAttrib(i,"data-mce-bogus","all"),i.contentEditable=!1,i.unSelectabe=!0,y.setStyles(i,{left:c,top:u,margin:0}),N(i,I,A),i.removeAttribute("data-mce-selected"),k.appendChild(i),y.bind(w,"mousemove",L),y.bind(w,"mouseup",D),x!==w&&(y.bind(x,"mousemove",L),y.bind(x,"mouseup",D)),o=y.add(k,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},d+" &times; "+f)};n=y.get("mceResizeHandle"+t),n&&y.remove(n),n=y.add(k,"div",{id:"mceResizeHandle"+t,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+t+"-resize; margin:0; padding:0"}),11===Vt.ie&&(n.contentEditable=!1),y.bind(n,"mousedown",(function(e){e.stopImmediatePropagation(),e.preventDefault(),p(e)})),e.elm=n,y.setStyles(n,{left:I*e[0]+c-n.offsetWidth/2,top:A*e[1]+u-n.offsetHeight/2})})):M(),r.setAttribute("data-mce-selected","1")},M=function(){j(),r&&r.removeAttribute("data-mce-selected"),ge(S,(function(e,t){var n=y.get("mceResizeHandle"+t);n&&(y.unbind(n),y.remove(n))}))},P=function(n){var r,i,o=function(e,t){if(e)do{if(e===t)return!0}while(e=e.parentNode)};p||t.removed||(C(y.select("img[data-mce-selected],hr[data-mce-selected]"),(function(e){e.removeAttribute("data-mce-selected")})),i="mousedown"===n.type?n.target:e.getNode(),i=y.$(i).closest("table,img,figure.image,hr")[0],o(i,k)&&(H(),r=e.getStart(!0),o(r,i)&&o(e.getEnd(!0),i))?B(i):M())},F=function(e){return fS(pS(t.getBody(),e))},j=function(){ge(S,(function(e){e.elm&&(y.unbind(e.elm),delete e.elm)}))},H=function(){try{t.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(e){}};t.on("init",(function(){if(H(),Vt.browser.isIE()||Vt.browser.isEdge()){t.on("mousedown click",(function(e){var n=e.target,r=n.nodeName;p||!/^(TABLE|IMG|HR)$/.test(r)||F(n)||(2!==e.button&&t.selection.select(n,"TABLE"===r),"mousedown"===e.type&&t.nodeChanged())}));var e=function(e){var n=function(e){Qs.setEditorTimeout(t,(function(){return t.selection.select(e)}))};if(F(e.target))return e.preventDefault(),void n(e.target);/^(TABLE|IMG|HR)$/.test(e.target.nodeName)&&(e.preventDefault(),"IMG"===e.target.tagName&&n(e.target))};y.bind(k,"mscontrolselect",e),t.on("remove",(function(){return y.unbind(k,"mscontrolselect",e)}))}var n=Qs.throttle((function(e){t.composing||P(e)}));t.on("nodechange ResizeEditor ResizeWindow ResizeContent drop FullscreenStateChanged",n),t.on("keyup compositionend",(function(e){r&&"TABLE"===r.nodeName&&n(e)})),t.on("hide blur",M),t.on("contextmenu longpress",E,!0)})),t.on("remove",j);var z=function(){r=i=null};return{isResizable:R,showResizeRect:B,hideResizeRect:M,updateResizeRect:P,destroy:z}},gS=function(e,t,n){if(e&&e.hasOwnProperty(t)){var r=J(e[t],(function(e){return e!==n}));0===r.length?delete e[t]:e[t]=r}};function vS(e,t){var n,r;return{selectorChangedWithUnbind:function(i,o){return n||(n={},r={},t.on("NodeChange",(function(t){var i=t.element,o=e.getParents(i,null,e.getRoot()),a={};nn.each(n,(function(t,n){nn.each(o,(function(i){if(e.is(i,n))return r[n]||(nn.each(t,(function(e){e(!0,{node:i,selector:n,parents:o})})),r[n]=t),a[n]=t,!1}))})),nn.each(r,(function(e,t){a[t]||(delete r[t],nn.each(e,(function(e){e(!1,{node:i,selector:t,parents:o})})))}))}))),n[i]||(n[i]=[]),n[i].push(o),{unbind:function(){gS(n,i,o),gS(r,i,o)}}}}}var bS=function(e){return!!e.select},yS=function(e){return!(!e||!e.ownerDocument)&&Dn(cn.fromDom(e.ownerDocument),cn.fromDom(e))},CS=function(e){return!!e&&(!!bS(e)||yS(e.startContainer)&&yS(e.endContainer))},wS=function(e,t,n,r){var i,o,a=vS(e,r).selectorChangedWithUnbind,s=function(t,n){var i=e.createRng();t?(i.setStart(t,n),i.setEnd(t,n),y(i),g(!1)):(wm(e,i,r.getBody(),!0),y(i))},l=function(e){return $k(r,e)},c=function(e,t){return sS(r,e,t)},u=function(e){return Mk(r.getBody(),b(),e)},d=function(e){return Pk(r.getBody(),b(),e)},f=function(e,t){return N.getBookmark(e,t)},h=function(e){return N.moveToBookmark(e)},p=function(t,n){return zk(e,t,n).each(y),t},m=function(){var e=b(),t=v();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!t||e.collapsed)},g=function(e){var t=b();t.collapse(!!e),y(t)},v=function(){return t.getSelection?t.getSelection():t.document.selection},b=function(){var n,a,s,l=function(e,t,n){try{return t.compareBoundaryPoints(e,n)}catch(r){return-1}};if(!t)return null;var c=t.document;if("undefined"===typeof c||null===c)return null;if(void 0!==r.bookmark&&!1===Uy(r)){var u=wy(r);if(u.isSome())return u.map((function(e){return Ew(r,[e])[0]})).getOr(c.createRange())}try{(n=v())&&!_r(n.anchorNode)&&(a=n.rangeCount>0?n.getRangeAt(0):n.createRange?n.createRange():c.createRange())}catch(d){}return a=Ew(r,[a])[0],a||(a=c.createRange?c.createRange():c.body.createTextRange()),a.setStart&&9===a.startContainer.nodeType&&a.collapsed&&(s=e.getRoot(),a.setStart(s,0),a.setEnd(s,0)),i&&o&&(0===l(a.START_TO_START,a,i)&&0===l(a.END_TO_END,a,i)?a=o:(i=null,o=null)),a},y=function(e,t){var n;if(CS(e)){var a=bS(e)?e:null;if(a){o=null;try{a.select()}catch(c){}}else{var s=v(),l=r.fire("SetSelectionRange",{range:e,forward:t});if(e=l.range,s){o=e;try{s.removeAllRanges(),s.addRange(e)}catch(c){}!1===t&&s.extend&&(s.collapse(e.endContainer,e.endOffset),s.extend(e.startContainer,e.startOffset)),i=s.rangeCount>0?s.getRangeAt(0):null}e.collapsed||e.startContainer!==e.endContainer||!s.setBaseAndExtent||Vt.ie||e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()&&(n=e.startContainer.childNodes[e.startOffset],n&&"IMG"===n.tagName&&(s.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),s.anchorNode===e.startContainer&&s.focusNode===e.endContainer||s.setBaseAndExtent(n,0,n,1))),r.fire("AfterSetSelectionRange",{range:e,forward:t})}}},C=function(t){return c(e.getOuterHTML(t)),t},w=function(){return jk(r.getBody(),b())},x=function(t,n){return Hk(e,b(),t,n)},I=function(){var t=v();if(!t||!t.anchorNode||!t.focusNode)return!0;var n=e.createRng();n.setStart(t.anchorNode,t.anchorOffset),n.collapse(!0);var r=e.createRng();return r.setStart(t.focusNode,t.focusOffset),r.collapse(!0),n.compareBoundaryPoints(n.START_TO_START,r)<=0},A=function(){var t=b(),n=v();if(!dm(n)&&xm(r)){var i=tS(e,t);return i.each((function(e){y(e,I())})),i.getOr(t)}return t},k=function(e,t){return a(e,t),R},S=function(){var t,n=e.getRoot();while(n&&"BODY"!==n.nodeName){if(n.scrollHeight>n.clientHeight){t=n;break}n=n.parentNode}return t},_=function(e,t){return Tk(r,e,t)},T=function(e,t){return y(Dk(e,t,r.getDoc()))},E=function(){var e=b();return e.collapsed?Ku.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},O=function(){t=i=o=null,L.destroy()},R={bookmarkManager:null,controlSelection:null,dom:e,win:t,serializer:n,editor:r,collapse:g,setCursorLocation:s,getContent:l,setContent:c,getBookmark:f,moveToBookmark:h,select:p,isCollapsed:m,isForward:I,setNode:C,getNode:w,getSel:v,setRng:y,getRng:b,getStart:u,getEnd:d,getSelectedBlocks:x,normalize:A,selectorChanged:k,selectorChangedWithUnbind:a,getScrollContainer:S,scrollIntoView:_,placeCaretAt:T,getBoundingClientRect:E,destroy:O},N=cS(R),L=mS(R,r);return R.bookmarkManager=N,R.controlSelection=L,R},xS=function(e,t){q(t,(function(t){e.attr(t,null)}))},IS=function(e,t,n){e.addNodeFilter("font",(function(e){q(e,(function(e){var r=t.parse(e.attr("style")),i=e.attr("color"),o=e.attr("face"),a=e.attr("size");i&&(r.color=i),o&&(r["font-family"]=o),a&&(r["font-size"]=n[parseInt(e.attr("size"),10)-1]),e.name="span",e.attr("style",t.serialize(r)),xS(e,["color","face","size"])}))}))},AS=function(e,t){e.addNodeFilter("strike",(function(e){q(e,(function(e){var n=t.parse(e.attr("style"));n["text-decoration"]="line-through",e.name="span",e.attr("style",t.serialize(n))}))}))},kS=function(e,t){var n=Do();t.convert_fonts_to_spans&&IS(e,n,nn.explode(t.font_size_legacy_values)),AS(e,n)},SS=function(e,t){t.inline_styles&&kS(e,t)},_S=function(e){return new Gs((function(t,r){var i=function(){r("Cannot convert "+e+" to Blob. Resource might not exist or is inaccessible.")};try{var o=new n.XMLHttpRequest;o.open("GET",e,!0),o.responseType="blob",o.onload=function(){200===this.status?t(this.response):i()},o.onerror=i,o.send()}catch(a){i()}}))},TS=function(e){var t,n=decodeURIComponent(e).split(","),r=/data:([^;]+)/.exec(n[0]);return r&&(t=r[1]),{type:t,data:n[1]}},ES=function(e,t){var r;try{r=n.atob(t)}catch(qF){return T.none()}for(var i=new Uint8Array(r.length),o=0;o<i.length;o++)i[o]=r.charCodeAt(o);return T.some(new n.Blob([i],{type:e}))},OS=function(e){return new Gs((function(t){var r=TS(e),i=r.type,o=r.data;ES(i,o).fold((function(){return t(new n.Blob([]))}),t)}))},RS=function(e){return 0===e.indexOf("blob:")?_S(e):0===e.indexOf("data:")?OS(e):null},NS=function(e){return new Gs((function(t){var r=new n.FileReader;r.onloadend=function(){t(r.result)},r.readAsDataURL(e)}))},LS=0,DS=function(e){return(e||"blobid")+LS++},BS=function(e,t,n,r){var i,o;if(0===t.src.indexOf("blob:"))return o=e.getByUri(t.src),void(o?n({image:t,blobInfo:o}):RS(t.src).then((function(r){NS(r).then((function(a){i=TS(a).data,o=e.create(DS(),r,i),e.add(o),n({image:t,blobInfo:o})}))}),(function(e){r(e)})));var a=TS(t.src),s=a.data,l=a.type;i=s,o=e.getByData(i,l),o?n({image:t,blobInfo:o}):RS(t.src).then((function(r){o=e.create(DS(),r,i),e.add(o),n({image:t,blobInfo:o})}),(function(e){r(e)}))},MS=function(e){return e?he(e.getElementsByTagName("img")):[]};function PS(e,t){var n={},r=function(r,i){i||(i=v(!0));var o=J(MS(r),(function(t){var n=t.src;return!!Vt.fileApi&&(!t.hasAttribute("data-mce-bogus")&&(!t.hasAttribute("data-mce-placeholder")&&(!(!n||n===Vt.transparentSrc)&&(0===n.indexOf("blob:")?!e.isUploaded(n)&&i(t):0===n.indexOf("data:")&&i(t)))))})),a=U(o,(function(e){if(void 0!==n[e.src])return new Gs((function(t){n[e.src].then((function(n){if("string"===typeof n)return n;t({image:e,blobInfo:n.blobInfo})}))}));var r=new Gs((function(n,r){BS(t,e,n,r)})).then((function(e){return delete n[e.image.src],e})).catch((function(t){return delete n[e.src],t}));return n[e.src]=r,r}));return Gs.all(a)};return{findAll:r}}var FS=function(e,t,n,r){var i=e.padd_empty_with_br||t.insert;i&&n[r.name]?r.empty().append(new Hm("br",1)).shortEnded=!0:r.empty().append(new Hm("#text",3)).value=Oo},jS=function(e){return HS(e,"#text")&&e.firstChild.value===Oo},HS=function(e,t){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===t},zS=function(e,t){var n=e.getElementRule(t.name);return n&&n.paddEmpty},$S=function(e,t,n,r){return r.isEmpty(t,n,(function(t){return zS(e,t)}))},VS=function(e,t){return e&&(t[e.name]||"br"===e.name)},WS=function(e){return e.attr("data-mce-bogus")},KS=function(e){return e.attr("src")===Vt.transparentSrc||e.attr("data-mce-placeholder")},GS=function(e,t){if(t.images_dataimg_filter){var r=new n.Image;return r.src=e.attr("src"),ge(e.attributes.map,(function(e,t){r.setAttribute(t,e)})),t.images_dataimg_filter(r)}return!0},ZS=function(e,t){var n=t.blob_cache,r=function(e){var r=e.attr("src");KS(e)||WS(e)||Gm(r).filter((function(){return GS(e,t)})).bind((function(e){var t=e.type,r=e.data;return T.from(n.getByData(r,t)).orThunk((function(){return ES(t,r).map((function(e){var t=n.create(DS(),e,r);return n.add(t),t}))}))})).each((function(t){e.attr("src",t.blobUri())}))};n&&e.addAttributeFilter("src",(function(e){return q(e,r)}))},US=function(e,t){var n=e.schema;t.remove_trailing_brs&&e.addNodeFilter("br",(function(e,r,i){var o,a,s,l,c,u,d,f,h=e.length,p=nn.extend({},n.getBlockElements()),m=n.getNonEmptyElements(),g=n.getWhiteSpaceElements();for(p.body=1,o=0;o<h;o++)if(a=e[o],s=a.parent,p[a.parent.name]&&a===s.lastChild){c=a.prev;while(c){if(u=c.name,"span"!==u||"bookmark"!==c.attr("data-mce-type")){if("br"!==u)break;if("br"===u){a=null;break}}c=c.prev}a&&(a.remove(),$S(n,m,g,s)&&(d=n.getElementRule(s.name),d&&(d.removeEmpty?s.remove():d.paddEmpty&&FS(t,i,p,s))))}else{l=a;while(s&&s.firstChild===l&&s.lastChild===l){if(l=s,p[s.name])break;s=s.parent}l===s&&!0!==t.padd_empty_with_br&&(f=new Hm("#text",3),f.value=Oo,a.replace(f))}})),e.addAttributeFilter("href",(function(e){var n=e.length,r=function(e){var t=e.split(" ").filter((function(e){return e.length>0}));return t.concat(["noopener"]).sort().join(" ")},i=function(e){var t=e?nn.trim(e):"";return/\b(noopener)\b/g.test(t)?t:r(t)};if(!t.allow_unsafe_link_target)while(n--){var o=e[n];"a"===o.name&&"_blank"===o.attr("target")&&o.attr("rel",i(o.attr("rel")))}})),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",(function(e){var t,n,r,i,o=e.length;while(o--)if(i=e[o],"a"===i.name&&i.firstChild&&!i.attr("href")){r=i.parent,t=i.lastChild;do{n=t.prev,r.insert(t,i),t=n}while(t)}})),t.fix_list_elements&&e.addNodeFilter("ul,ol",(function(e){var t,n,r=e.length;while(r--)if(t=e[r],n=t.parent,"ul"===n.name||"ol"===n.name)if(t.prev&&"li"===t.prev.name)t.prev.append(t);else{var i=new Hm("li",1);i.attr("style","list-style-type: none"),t.wrap(i)}})),t.validate&&n.getValidClasses()&&e.addAttributeFilter("class",(function(e){var t,r,i,o,a,s,l,c=e.length,u=n.getValidClasses();while(c--){for(t=e[c],r=t.attr("class").split(" "),a="",i=0;i<r.length;i++)o=r[i],l=!1,s=u["*"],s&&s[o]&&(l=!0),s=u[t.name],!l&&s&&s[o]&&(l=!0),l&&(a&&(a+=" "),a+=o);a.length||(a=null),t.attr("class",a)}})),ZS(e,t)},qS=nn.makeMap,XS=nn.each,YS=nn.explode,JS=nn.extend,QS=function(e,t){void 0===t&&(t=co());var n={},r=[],i={},o={};e=e||{},e.validate=!("validate"in e)||e.validate,e.root_name=e.root_name||"body";var a=function(e){var n,r,i,o,a,l,c,u,d,f,h,p=qS("tr,td,th,tbody,thead,tfoot,table"),m=t.getNonEmptyElements(),g=t.getWhiteSpaceElements(),v=t.getTextBlockElements(),b=t.getSpecialElements();for(n=0;n<e.length;n++)if(r=e[n],r.parent&&!r.fixed)if(v[r.name]&&"li"===r.parent.name){f=r.next;while(f){if(!v[f.name])break;f.name="li",f.fixed=!0,r.parent.insert(f,r.parent),f=f.next}r.unwrap(r)}else{for(o=[r],i=r.parent;i&&!t.isValidChild(i.name,r.name)&&!p[i.name];i=i.parent)o.push(i);if(i&&o.length>1){for(o.reverse(),a=l=s(o[0].clone()),d=0;d<o.length-1;d++){for(t.isValidChild(l.name,o[d].name)?(c=s(o[d].clone()),l.append(c)):c=l,u=o[d].firstChild;u&&u!==o[d+1];)h=u.next,c.append(u),u=h;l=c}$S(t,m,g,a)?i.insert(r,o[0],!0):(i.insert(a,o[0],!0),i.insert(r,a)),i=o[0],($S(t,m,g,i)||HS(i,"br"))&&i.empty().remove()}else if(r.parent){if("li"===r.name){if(f=r.prev,f&&("ul"===f.name||"ul"===f.name)){f.append(r);continue}if(f=r.next,f&&("ul"===f.name||"ul"===f.name)){f.insert(r,f.firstChild,!0);continue}r.wrap(s(new Hm("ul",1)));continue}t.isValidChild(r.parent.name,"div")&&t.isValidChild("div",r.name)?r.wrap(s(new Hm("div",1))):b[r.name]?r.empty().remove():r.unwrap()}}},s=function(e){var t,a,s;a=e.name,a in n&&(s=i[a],s?s.push(e):i[a]=[e]),t=r.length;while(t--)a=r[t].name,a in e.attributes.map&&(s=o[a],s?s.push(e):o[a]=[e]);return e},l=function(e,t){XS(YS(e),(function(e){var r=n[e];r||(n[e]=r=[]),r.push(t)}))},c=function(){var e=[];for(var t in n)n.hasOwnProperty(t)&&e.push({name:t,callbacks:n[t]});return e},u=function(e,t){XS(YS(e),(function(e){var n;for(n=0;n<r.length;n++)if(r[n].name===e)return void r[n].callbacks.push(t);r.push({name:e,callbacks:[t]})}))},d=function(){return[].concat(r)},f=function(s,l){var c,u,d,f,h,p,m,g,v,b=[],y=function(e){return!1===e?"":!0===e?"p":e};l=l||{},i={},o={};var C=JS(qS("script,style,head,html,body,title,meta,param"),t.getBlockElements()),w=t.getNonEmptyElements(),x=t.children,I=e.validate,A="forced_root_block"in l?l.forced_root_block:e.forced_root_block,k=y(A),S=t.getWhiteSpaceElements(),_=/^[ \t\r\n]+/,T=/[ \t\r\n]+$/,E=/[ \t\r\n]+/g,O=/^[ \t\r\n]+$/;g=S.hasOwnProperty(l.context)||S.hasOwnProperty(e.root_name);var R=function(){var n,r,i=M.firstChild,o=function(e){e&&(i=e.firstChild,i&&3===i.type&&(i.value=i.value.replace(_,"")),i=e.lastChild,i&&3===i.type&&(i.value=i.value.replace(T,"")))};if(t.isValidChild(M.name,k.toLowerCase())){while(i)n=i.next,3===i.type||1===i.type&&"p"!==i.name&&!C[i.name]&&!i.attr("data-mce-type")?(r||(r=N(k,1),r.attr(e.forced_root_block_attrs),M.insert(r,i)),r.append(i)):(o(r),r=null),i=n;o(r)}},N=function(e,t){var r,o=new Hm(e,t);return e in n&&(r=i[e],r?r.push(o):i[e]=[o]),o},L=function(e){var n,r,i,o,a=t.getBlockElements();for(n=e.prev;n&&3===n.type;){if(i=n.value.replace(T,""),i.length>0)return void(n.value=i);if(r=n.next,r){if(3===r.type&&r.value.length){n=n.prev;continue}if(!a[r.name]&&"script"!==r.name&&"style"!==r.name){n=n.prev;continue}}o=n.prev,n.remove(),n=o}},D=function(e){var t,n={};for(t in e)"li"!==t&&"p"!==t&&(n[t]=e[t]);return n},B=tg({validate:I,allow_html_data_urls:e.allow_html_data_urls,allow_script_urls:e.allow_script_urls,allow_conditional_comments:e.allow_conditional_comments,preserve_cdata:e.preserve_cdata,self_closing_elements:D(t.getSelfClosingElements()),cdata:function(e){v.append(N("#cdata",4)).value=e},text:function(e,t){var n;g||(e=e.replace(E," "),VS(v.lastChild,C)&&(e=e.replace(_,""))),0!==e.length&&(n=N("#text",3),n.raw=!!t,v.append(n).value=e)},comment:function(e){v.append(N("#comment",8)).value=e},pi:function(e,t){v.append(N(e,7)).value=t,L(v)},doctype:function(e){var t=v.append(N("#doctype",10));t.value=e,L(v)},start:function(e,n,i){var a,s,l,c,u=I?t.getElementRule(e):{};if(u){a=N(u.outputName||e,1),a.attributes=n,a.shortEnded=i,v.append(a),c=x[v.name],c&&x[a.name]&&!c[a.name]&&b.push(a),s=r.length;while(s--)l=r[s].name,l in n.map&&(p=o[l],p?p.push(a):o[l]=[a]);C[e]&&L(a),i||(v=a),!g&&S[e]&&(g=!0)}},end:function(n){var r,i,o,a,s=I?t.getElementRule(n):{};if(s){if(C[n]&&!g){if(r=v.firstChild,r&&3===r.type)if(i=r.value.replace(_,""),i.length>0)r.value=i,r=r.next;else{o=r.next,r.remove(),r=o;while(r&&3===r.type)i=r.value,o=r.next,(0===i.length||O.test(i))&&(r.remove(),r=o),r=o}if(r=v.lastChild,r&&3===r.type)if(i=r.value.replace(T,""),i.length>0)r.value=i,r=r.prev;else{o=r.prev,r.remove(),r=o;while(r&&3===r.type)i=r.value,o=r.prev,(0===i.length||O.test(i))&&(r.remove(),r=o),r=o}}if(g&&S[n]&&(g=!1),s.removeEmpty&&$S(t,w,S,v))return a=v.parent,C[v.name]?v.empty().remove():v.unwrap(),void(v=a);s.paddEmpty&&(jS(v)||$S(t,w,S,v))&&FS(e,l,C,v),v=v.parent}}},t),M=v=new Hm(l.context||e.root_name,11);if(B.parse(s,l.format),I&&b.length&&(l.context?l.invalid=!0:a(b)),k&&("body"===M.name||l.isRootContent)&&R(),!l.invalid){for(m in i)if(i.hasOwnProperty(m)){p=n[m],c=i[m],f=c.length;while(f--)c[f].parent||c.splice(f,1);for(u=0,d=p.length;u<d;u++)p[u](c,m,l)}for(u=0,d=r.length;u<d;u++)if(p=r[u],p.name in o){c=o[p.name],f=c.length;while(f--)c[f].parent||c.splice(f,1);for(f=0,h=p.callbacks.length;f<h;f++)p.callbacks[f](c,p.name,l)}}return M},h={schema:t,addAttributeFilter:u,getAttributeFilters:d,addNodeFilter:l,getNodeFilters:c,filterNode:s,parse:f};return US(h,e),SS(h,e),h},e_=function(e,t,n){e.addAttributeFilter("data-mce-tabindex",(function(e,t){var n,r=e.length;while(r--)n=e[r],n.attr("tabindex",n.attr("data-mce-tabindex")),n.attr(t,null)})),e.addAttributeFilter("src,href,style",(function(e,r){var i,o,a=e.length,s="data-mce-"+r,l=t.url_converter,c=t.url_converter_scope;while(a--)i=e[a],o=i.attr(s),void 0!==o?(i.attr(r,o.length>0?o:null),i.attr(s,null)):(o=i.attr(r),"style"===r?o=n.serializeStyle(n.parseStyle(o),i.name):l&&(o=l.call(c,o,r,i.name)),i.attr(r,o.length>0?o:null))})),e.addAttributeFilter("class",(function(e){var t,n,r=e.length;while(r--)t=e[r],n=t.attr("class"),n&&(n=t.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),t.attr("class",n.length>0?n:null))})),e.addAttributeFilter("data-mce-type",(function(e,t,n){var r,i=e.length;while(i--)if(r=e[i],"bookmark"===r.attr("data-mce-type")&&!n.cleanup){var o=T.from(r.firstChild).exists((function(e){return!Sc(e.value)}));o?r.unwrap():r.remove()}})),e.addNodeFilter("noscript",(function(e){var t,n=e.length;while(n--)t=e[n].firstChild,t&&(t.value=Ji.decode(t.value))})),e.addNodeFilter("script,style",(function(e,n){var r,i,o,a=e.length,s=function(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")};while(a--)r=e[a],i=r.firstChild?r.firstChild.value:"","script"===n?(o=r.attr("type"),o&&r.attr("type","mce-no/type"===o?null:o.replace(/^mce\-/,"")),"xhtml"===t.element_format&&i.length>0&&(r.firstChild.value="// <![CDATA[\n"+s(i)+"\n// ]]>")):"xhtml"===t.element_format&&i.length>0&&(r.firstChild.value="\x3c!--\n"+s(i)+"\n--\x3e")})),e.addNodeFilter("#comment",(function(e){var r,i=e.length;while(i--)r=e[i],t.preserve_cdata&&0===r.value.indexOf("[CDATA[")?(r.name="#cdata",r.type=4,r.value=n.decode(r.value.replace(/^\[CDATA\[|\]\]$/g,""))):0===r.value.indexOf("mce:protected ")&&(r.name="#text",r.type=3,r.raw=!0,r.value=unescape(r.value).substr(14))})),e.addNodeFilter("xml:namespace,input",(function(e,t){var n,r=e.length;while(r--)n=e[r],7===n.type?n.remove():1===n.type&&("input"!==t||n.attr("type")||n.attr("type","text"))})),e.addAttributeFilter("data-mce-type",(function(t){q(t,(function(t){"format-caret"===t.attr("data-mce-type")&&(t.isEmpty(e.schema.getNonEmptyElements())?t.remove():t.unwrap())}))})),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",(function(e,t){var n=e.length;while(n--)e[n].attr(t,null)}))},t_=function(e){var t=function(e){return e&&"br"===e.name},n=e.lastChild;if(t(n)){var r=n.prev;t(r)&&(n.remove(),r.remove())}},n_=function(e,t,r){var i,o,a=e.dom;t=t.cloneNode(!0);var s=n.document.implementation;return s.createHTMLDocument&&(i=s.createHTMLDocument(""),nn.each("BODY"===t.nodeName?t.childNodes:[t],(function(e){i.body.appendChild(i.importNode(e,!0))})),t="BODY"!==t.nodeName?i.body.firstChild:i.body,o=a.doc,a.doc=i),AI(e,Pe(Pe({},r),{node:t})),o&&(a.doc=o),t},r_=function(e,t){return e&&e.hasEventListeners("PreProcess")&&!t.no_events},i_=function(e,t,n){return r_(e,n)?n_(e,t,n):t},o_=function(e,t,n){-1===nn.inArray(t,n)&&(e.addAttributeFilter(n,(function(e,t){var n=e.length;while(n--)e[n].attr(t,null)})),t.push(n))},a_=function(e,t,n){if(!t.no_events&&e){var r=kI(e,Pe(Pe({},t),{content:n}));return r.content}return n},s_=function(e,t,n){var r=_c(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection||Ri(cn.fromDom(t))?r:nn.trim(r)},l_=function(e,t,n){var r=n.selection?Pe({forced_root_block:!1},n):n,i=e.parse(t,r);return t_(i),i},c_=function(e,t,n){var r=Vm(e,t);return r.serialize(n)},u_=function(e,t,n,r,i){var o=c_(t,n,r);return a_(e,i,o)},d_=function(e,t){var n=["data-mce-selected"],r=t&&t.dom?t.dom:fl.DOM,i=t&&t.schema?t.schema:co(e);e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs=!("remove_trailing_brs"in e)||e.remove_trailing_brs;var o=QS(e,i);e_(o,e,r);var a=function(n,a){void 0===a&&(a={});var s=Pe({format:"html"},a),l=i_(t,n,s),c=s_(r,l,s),u=l_(o,c,s);return"tree"===s.format?u:u_(t,e,i,u,s)};return{schema:i,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:a,addRules:function(e){i.addValidElements(e)},setRules:function(e){i.setValidElements(e)},addTempAttr:y(o_,o,n),getTempAttrs:function(){return n},getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters}},f_=function(e,t){var n=d_(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters}};function h_(e,t){var r={},i=function(e,t){return e?e.replace(/\/$/,"")+"/"+t.replace(/^\//,""):t},o=function(e,r,o,a){var s=new n.XMLHttpRequest;s.open("POST",t.url),s.withCredentials=t.credentials,s.upload.onprogress=function(e){a(e.loaded/e.total*100)},s.onerror=function(){o("Image upload failed due to a XHR Transport error. Code: "+s.status)},s.onload=function(){if(s.status<200||s.status>=300)o("HTTP Error: "+s.status);else{var e=JSON.parse(s.responseText);e&&"string"===typeof e.location?r(i(t.basePath,e.location)):o("Invalid JSON: "+s.responseText)}};var l=new n.FormData;l.append("file",e.blob(),e.filename()),s.send(l)},a=function(){return new Gs((function(e){e([])}))},s=function(e,t){return{url:t,blobInfo:e,status:!0}},l=function(e,t){return{url:"",blobInfo:e,status:!1,error:t}},c=function(e,t){nn.each(r[e],(function(e){e(t)})),delete r[e]},u=function(t,n,r){return e.markPending(t.blobUri()),new Gs((function(i){var o,a,u=function(){};try{var d=function(){o&&(o.close(),a=u)},f=function(n){d(),e.markUploaded(t.blobUri(),n),c(t.blobUri(),s(t,n)),i(s(t,n))},h=function(n){d(),e.removeFailed(t.blobUri()),c(t.blobUri(),l(t,n)),i(l(t,n))};a=function(e){e<0||e>100||(o||(o=r()),o.progressBar.value(e))},n(t,f,h,a)}catch(p){i(l(t,p.message))}}))},d=function(e){return e===o},f=function(e){var t=e.blobUri();return new Gs((function(e){r[t]=r[t]||[],r[t].push(e)}))},h=function(n,r){return n=nn.grep(n,(function(t){return!e.isUploaded(t.blobUri())})),Gs.all(nn.map(n,(function(n){return e.isPending(n.blobUri())?f(n):u(n,t.handler,r)})))},p=function(e,n){return!t.url&&d(t.handler)?a():h(e,n)};return!1===j(t.handler)&&(t.handler=o),{upload:p}}function p_(){var e=1,t=2,n={},r=function(e,t){return{status:e,resultUri:t}},i=function(e){return e in n},o=function(e){var t=n[e];return t?t.resultUri:null},a=function(t){return!!i(t)&&n[t].status===e},s=function(e){return!!i(e)&&n[e].status===t},l=function(t){n[t]=r(e,null)},c=function(e,i){n[e]=r(t,i)},u=function(e){delete n[e]},d=function(){n={}};return{hasBlobUri:i,getResultUri:o,isPending:a,isUploaded:s,markPending:l,markUploaded:c,removeFailed:u,destroy:d}}var m_=0,g_=function(){var e=function(){return Math.round(4294967295*Math.random()).toString(36)},t=(new Date).getTime();return"s"+t.toString(36)+e()+e()+e()},v_=function(e){return e+m_+++g_()},b_=function(){var e=[],t=function(e){var t={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"};return t[e.toLowerCase()]||"dat"},r=function(e,t,n,r){if(L(e)){var o=e;return i({id:o,name:r,blob:t,base64:n})}if(D(e))return i(e);throw new Error("Unknown input type")},i=function(e){if(!e.blob||!e.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");var r=e.id||v_("blobid"),i=e.name||r;return{id:v(r),name:v(i),filename:v(i+"."+t(e.blob.type)),blob:v(e.blob),base64:v(e.base64),blobUri:v(e.blobUri||n.URL.createObjectURL(e.blob)),uri:v(e.uri)}},o=function(t){s(t.id())||e.push(t)},a=function(t){return ne(e,t).getOrUndefined()},s=function(e){return a((function(t){return t.id()===e}))},l=function(e){return a((function(t){return t.blobUri()===e}))},c=function(e,t){return a((function(n){return n.base64()===e&&n.blob().type===t}))},u=function(t){e=J(e,(function(e){return e.blobUri()!==t||(n.URL.revokeObjectURL(e.blobUri()),!1)}))},d=function(){q(e,(function(e){n.URL.revokeObjectURL(e.blobUri())})),e=[]};return{create:r,add:o,get:s,getByUri:l,getByData:c,findFirst:a,removeByUri:u,destroy:d}},y_=function(e){var t,n,r=b_(),i=p_(),o=[],a=function(t){return function(n){return e.selection?t(n):[]}},s=function(e){return e+(-1===e.indexOf("?")?"?":"&")+(new Date).getTime()},l=function(e,t,n){var r=0;do{r=e.indexOf(t,r),-1!==r&&(e=e.substring(0,r)+n+e.substr(r+t.length),r+=n.length-t.length+1)}while(-1!==r);return e},c=function(e,t,n){return e=l(e,'src="'+t+'"','src="'+n+'"'),e=l(e,'data-mce-src="'+t+'"','data-mce-src="'+n+'"'),e},u=function(t,n){q(e.undoManager.data,(function(e){"fragmented"===e.type?e.fragments=U(e.fragments,(function(e){return c(e,t,n)})):e.content=c(e.content,t,n)}))},d=function(){return e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})},f=function(t,n){var r=e.convertURL(n,"src");u(t.src,n),e.$(t).attr({src:Gd(e)?s(n):n,"data-mce-src":r})},h=function(n){return t||(t=h_(i,{url:Xd(e),basePath:Yd(e),credentials:Jd(e),handler:Qd(e)})),v().then(a((function(i){var o=U(i,(function(e){return e.blobInfo}));return t.upload(o,d).then(a((function(t){var o=U(t,(function(t,n){var o=i[n].blobInfo,a=i[n].image;return t.status&&Zd(e)?(r.removeByUri(a.src),f(a,t.url)):t.error&&$A(e,t.error),{element:a,status:t.status,uploadUri:t.url,blobInfo:o}}));return n&&n(o),o})))})))},p=function(t){if(Kd(e))return h(t)},m=function(t){if(!1===ae(o,(function(e){return e(t)})))return!1;if(0===t.getAttribute("src").indexOf("data:")){var n=Wd(e);return n(t)}return!0},g=function(e){o.push(e)},v=function(){return n||(n=PS(i,r)),n.findAll(e.getBody(),m).then(a((function(t){return t=J(t,(function(t){return"string"!==typeof t||(zA(e,t),!1)})),q(t,(function(e){u(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute("data-mce-src")})),t})))},b=function(){r.destroy(),i.destroy(),n=t=null},y=function(t){return t.replace(/src="(blob:[^"]+)"/g,(function(t,n){var o=i.getResultUri(n);if(o)return'src="'+o+'"';var a=r.getByUri(n);if(a||(a=ee(e.editorManager.get(),(function(e,t){return e||t.editorUpload&&t.editorUpload.blobCache.getByUri(n)}),null)),a){var s=a.blob();return'src="data:'+s.type+";base64,"+a.base64()+'"'}return t}))};return e.on("SetContent",(function(){Kd(e)?p():v()})),e.on("RawSaveContent",(function(e){e.content=y(e.content)})),e.on("GetContent",(function(e){e.source_view||"raw"===e.format||(e.content=y(e.content))})),e.on("PostRender",(function(){e.parser.addNodeFilter("img",(function(e){q(e,(function(e){var t=e.attr("src");if(!r.getByUri(t)){var n=i.getResultUri(t);n&&e.attr("src",n)}}))}))})),{blobCache:r,addFilter:g,uploadImages:h,uploadImagesAuto:p,scanForImages:v,destroy:b}},C_=function(e,t){var n=wl({});e.set({}),t.on("NodeChange",(function(r){w_(t,r.element,n,e.get())}))},w_=function(e,t,n,r){var i=pe(n.get()),o={},a={},s=J(Vp(e.dom,t),(function(e){return 1===e.nodeType&&!e.getAttribute("data-mce-bogus")}));ge(r,(function(t,n){nn.each(s,(function(r){return e.formatter.matchNode(r,n,{},t.similar)?(-1===i.indexOf(n)&&(q(t.callbacks,(function(e){e(!0,{node:r,format:n,parents:s})})),o[n]=t.callbacks),a[n]=t.callbacks,!1):!fC(e,r,n)&&void 0}))}));var l=x_(n.get(),a,t,s);n.set(Pe(Pe({},o),l))},x_=function(e,t,n,r){return we(e,(function(e,i){return!!Se(t,i)||(q(e,(function(e){e(!1,{node:n,format:i,parents:r})})),!1)})).t},I_=function(e,t,n,r){var i=e.get();q(t.split(","),(function(e){i[e]||(i[e]={similar:r,callbacks:[]}),i[e].callbacks.push(n)})),e.set(i)},A_=function(e,t,n){var r=e.get();q(t.split(","),(function(e){r[e].callbacks=J(r[e].callbacks,(function(e){return e!==n})),0===r[e].callbacks.length&&delete r[e]})),e.set(r)},k_=function(e,t,n,r,i){return null===t.get()&&C_(t,e),I_(t,n,r,i),{unbind:function(){return A_(t,n,r)}}},S_=function(e){var t={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all",preserve_attributes:["class","style"]}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(t,n,r){nn.each(r,(function(n,r){e.setAttrib(t,r,n)}))}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return nn.each("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),(function(e){t[e]={block:e,remove:"all"}})),t};function __(e){var t={},n=function(e){return e?t[e]:t},r=function(e){return Se(t,e)},i=function(e,n){e&&("string"!==typeof e?nn.each(e,(function(e,t){i(t,e)})):(B(n)||(n=[n]),nn.each(n,(function(e){"undefined"===typeof e.deep&&(e.deep=!e.selector),"undefined"===typeof e.split&&(e.split=!e.selector||e.inline),"undefined"===typeof e.remove&&e.selector&&!e.inline&&(e.remove="none"),e.selector&&e.inline&&(e.mixed=!0,e.block_expand=!0),"string"===typeof e.classes&&(e.classes=e.classes.split(/\s+/))})),t[e]=n))},o=function(e){return e&&t[e]&&delete t[e],t};return i(S_(e.dom)),i(bf(e)),{get:n,has:r,register:i,unregister:o}}var T_,E_=nn.each,O_=fl.DOM,R_=function(e,t){var n,r,i,o=t&&t.schema||co({}),a=function(e,t){t.classes.length&&O_.addClass(e,t.classes.join(" ")),O_.setAttribs(e,t.attrs)},s=function(e){r="string"===typeof e?{name:e,classes:[],attrs:{}}:e;var t=O_.create(r.name);return a(t,r),t},l=function(e,t){var n="string"!==typeof e?e.nodeName.toLowerCase():e,r=o.getElementRule(n),i=r&&r.parentsRequired;return!(!i||!i.length)&&(t&&-1!==nn.inArray(i,t)?t:i[0])},c=function(e,t,n){var r,i,o=t.length>0&&t[0],a=o&&o.name,u=l(e,a);if(u)a===u?(i=t[0],t=t.slice(1)):i=u;else if(o)i=t[0],t=t.slice(1);else if(!n)return e;return i&&(r=s(i),r.appendChild(e)),n&&(r||(r=O_.create("div"),r.appendChild(e)),nn.each(n,(function(t){var n=s(t);r.insertBefore(n,e)}))),c(r,t,i&&i.siblings)};return e&&e.length?(r=e[0],n=s(r),i=O_.create("div"),i.appendChild(c(n,e.slice(1),r.siblings)),i):""},N_=function(e){var t,n={classes:[],attrs:{}};return e=n.selector=nn.trim(e),"*"!==e&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(function(e,t,r,i,o){switch(t){case"#":n.attrs.id=r;break;case".":n.classes.push(r);break;case":":-1!==nn.inArray("checked disabled enabled read-only required".split(" "),r)&&(n.attrs[r]=r);break}if("["===i){var a=o.match(/([\w\-]+)(?:\=\"([^\"]+))?/);a&&(n.attrs[a[1]]=a[2])}return""}))),n.name=t||"div",n},L_=function(e){return e&&"string"===typeof e?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),nn.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),(function(e){var t=nn.map(e.split(/(?:~\+|~|\+)/),N_),n=t.pop();return t.length&&(n.siblings=t),n})).reverse()):[]},D_=function(e,t){var n,r,i,o="",a=yf(e);if(""===a)return"";var s=function(e){return e.replace(/%(\w+)/g,"")};if("string"===typeof t){if(t=e.formatter.get(t),!t)return;t=t[0]}if("preview"in t){var l=ke(t,"preview");if(l.is(!1))return"";a=l.getOr(a)}n=t.block||t.inline||"span";var c=L_(t.selector);c.length?(c[0].name||(c[0].name=n),n=t.selector,r=R_(c,e)):r=R_([n],e);var u=O_.select(n,r)[0]||r.firstChild;return E_(t.styles,(function(e,t){e=s(e),e&&O_.setStyle(u,t,e)})),E_(t.attributes,(function(e,t){e=s(e),e&&O_.setAttrib(u,t,e)})),E_(t.classes,(function(e){e=s(e),O_.hasClass(u,e)||O_.addClass(u,e)})),e.fire("PreviewFormats"),O_.setStyles(r,{position:"absolute",left:-65535}),e.getBody().appendChild(r),i=O_.getStyle(e.getBody(),"fontSize",!0),i=/px$/.test(i)?parseInt(i,10):0,E_(a.split(" "),(function(t){var n=O_.getStyle(u,t,!0);if(("background-color"!==t||!/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)||(n=O_.getStyle(e.getBody(),t,!0),"#ffffff"!==O_.toHex(n).toLowerCase()))&&("color"!==t||"#000000"!==O_.toHex(n).toLowerCase())){if("font-size"===t&&/em|%$/.test(n)){if(0===i)return;var r=parseFloat(n)/(/%$/.test(n)?100:1);n=r*i+"px"}"border"===t&&n&&(o+="padding:0 2px;"),o+=t+":"+n+";"}})),e.fire("AfterPreviewFormats"),O_.remove(r),o},B_=function(e){e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(var t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},M_=function(e){var t=__(e),n=wl(null);return B_(e),FC(e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:function(t,n,r){pI(e,t,n,r)},remove:function(t,n,r,i){mI(e,t,n,r,i)},toggle:function(t,n,r){gI(e,t,n,r)},match:y(vC,e),matchAll:y(bC,e),matchNode:y(gC,e),canApply:y(yC,e),formatChanged:y(k_,e,n),getCssText:y(D_,e)}},P_=function(e,t,n){var r=wl(!1),i=function(e){Dx(t,!1,n),t.add({},e)};e.on("init",(function(){t.add()})),e.on("BeforeExecCommand",(function(e){var r=e.command.toLowerCase();"undo"!==r&&"redo"!==r&&"mcerepaint"!==r&&(Bx(t,n),t.beforeChange())})),e.on("ExecCommand",(function(e){var t=e.command.toLowerCase();"undo"!==t&&"redo"!==t&&"mcerepaint"!==t&&i(e)})),e.on("ObjectResizeStart cut",(function(){t.beforeChange()})),e.on("SaveContent ObjectResized blur",i),e.on("dragend",i),e.on("keyup",(function(n){var o=n.keyCode;n.isDefaultPrevented()||((o>=33&&o<=36||o>=37&&o<=40||45===o||n.ctrlKey)&&(i(),e.nodeChanged()),46!==o&&8!==o||e.nodeChanged(),r.get()&&t.typing&&!1===Nx(Sx(e),t.data[0])&&(!1===e.isDirty()&&(e.setDirty(!0),e.fire("change",{level:t.data[0],lastLevel:null})),e.fire("TypingUndo"),r.set(!1),e.nodeChanged()))})),e.on("keydown",(function(e){var o=e.keyCode;if(!e.isDefaultPrevented())if(o>=33&&o<=36||o>=37&&o<=40||45===o)t.typing&&i(e);else{var a=e.ctrlKey&&!e.altKey||e.metaKey;!(o<16||o>20)||224===o||91===o||t.typing||a||(t.beforeChange(),Dx(t,!0,n),t.add({},e),r.set(!0))}})),e.on("mousedown",(function(e){t.typing&&i(e)}));var o=function(e){return"insertReplacementText"===e.inputType},a=function(e){return"insertText"===e.inputType&&null===e.data},s=function(e){return"insertFromPaste"===e.inputType||"insertFromDrop"===e.inputType};e.on("input",(function(e){e.inputType&&(o(e)||a(e)||s(e))&&i(e)})),e.on("AddUndo Undo Redo ClearUndos",(function(t){t.isDefaultPrevented()||e.nodeChanged()}))},F_=function(e){e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},j_=function(e){var t=wl(T.none()),n=wl(0),r=wl(0),i={data:[],typing:!1,beforeChange:function(){rI(e,n,t)},add:function(o,a){return iI(e,i,r,n,t,o,a)},undo:function(){return oI(e,i,n,r)},redo:function(){return aI(e,r,i.data)},clear:function(){sI(e,i,r)},reset:function(){lI(e,i)},hasUndo:function(){return cI(e,i,r)},hasRedo:function(){return uI(e,i,r)},transact:function(t){return dI(e,i,n,t)},ignore:function(t){fI(e,n,t)},extra:function(t,n){hI(e,i,r,t,n)}};return Qx(e)||P_(e,i,n),F_(e),i},H_=[9,27,dS.HOME,dS.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,dS.DOWN,dS.UP,dS.LEFT,dS.RIGHT].concat(Vt.browser.isFirefox()?[224]:[]),z_="data-mce-placeholder",$_=function(e){return"keydown"===e.type||"keyup"===e.type},V_=function(e){var t=e.keyCode;return t===dS.BACKSPACE||t===dS.DELETE},W_=function(e){if($_(e)){var t=e.keyCode;return!V_(e)&&(dS.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||G(H_,t))}return!1},K_=function(e){return $_(e)&&!(V_(e)||"keyup"===e.type&&229===e.keyCode)},G_=function(e,t,n){if(Ng(cn.fromDom(t),!1)){var r=""===n,i=t.firstElementChild;return!i||!e.getStyle(t.firstElementChild,"padding-left")&&!e.getStyle(t.firstElementChild,"padding-right")&&(r?!e.isBlock(i):n===i.nodeName.toLowerCase())}return!1},Z_=function(e){var t=e.dom,n=Md(e),r=ff(e),i=function(o,a){if(!W_(o)){var s=e.getBody(),l=!K_(o)&&G_(t,s,n),c=""!==t.getAttrib(s,z_);(c!==l||a)&&(t.setAttrib(s,z_,l?r:null),t.setAttrib(s,"aria-placeholder",l?r:null),DI(e,l),e.on(l?"keydown":"keyup",i),e.off(l?"keyup":"keydown",i))}};r&&e.on("init",(function(t){i(t,!0),e.on("change SetContent ExecCommand",i),e.on("paste",(function(t){return Qs.setEditorTimeout(e,(function(){return i(t)}))}))}))},U_=5,q_=400,X_=function(e){return void 0===e.touches||1!==e.touches.length?T.none():T.some(e.touches[0])},Y_=function(e,t){var n=Math.abs(e.clientX-t.x()),r=Math.abs(e.clientY-t.y());return n>U_||r>U_},J_=function(e){var t=wl(T.none()),n=wl(!1),r=Fl((function(t){e.fire("longpress",Pe(Pe({},t),{type:"longpress"})),n.set(!0)}),q_);e.on("touchstart",(function(e){X_(e).each((function(i){r.cancel();var o={x:v(i.clientX),y:v(i.clientY),target:v(e.target)};r.throttle(e),n.set(!1),t.set(T.some(o))}))}),!0),e.on("touchmove",(function(i){r.cancel(),X_(i).each((function(r){t.get().each((function(i){Y_(r,i)&&(t.set(T.none()),n.set(!1),e.fire("longpresscancel"))}))}))}),!0),e.on("touchend touchcancel",(function(i){r.cancel(),"touchcancel"!==i.type&&t.get().filter((function(e){return e.target().isEqualNode(i.target)})).each((function(){n.get()?i.preventDefault():e.fire("tap",Pe(Pe({},i),{type:"tap"}))}))}),!0)},Q_=function(e,t){return e.hasOwnProperty(t.nodeName)},eT=function(e,t){return!!Fr(t)||!!Tr(t)&&(!Q_(e,t)&&!kp(t))},tT=function(e,t,n){return Z(jg(cn.fromDom(n),cn.fromDom(t)),(function(t){return Q_(e,t.dom())}))},nT=function(e,t){if(Fr(t)){if(0===t.nodeValue.length)return!0;if(/^\s+$/.test(t.nodeValue)&&(!t.nextSibling||Q_(e,t.nextSibling)))return!0}return!1},rT=function(e){var t,n,r,i=e.dom,o=e.selection,a=e.schema,s=a.getBlockElements(),l=o.getStart(),c=e.getBody(),u=Md(e);if(l&&Tr(l)&&u){var d=c.nodeName.toLowerCase();if(a.isValidChild(d,u.toLowerCase())&&!tT(s,c,l)){var f=o.getRng(),h=f.startContainer,p=f.startOffset,m=f.endContainer,g=f.endOffset,v=Uy(e);l=c.firstChild;while(l)if(eT(s,l)){if(nT(s,l)){n=l,l=l.nextSibling,i.remove(n);continue}t||(t=i.create(u,Pd(e)),l.parentNode.insertBefore(t,l),r=!0),n=l,l=l.nextSibling,t.appendChild(n)}else t=null,l=l.nextSibling;r&&v&&(f.setStart(h,p),f.setEnd(m,g),o.setRng(f),e.nodeChanged())}}},iT=function(e){Md(e)&&e.on("NodeChange",y(rT,e))},oT=function(e){return j(e.selection.getSel().modify)},aT=function(e,t,n){var r=e?1:-1;return t.setRng(Ku(n.container(),n.offset()+r).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},sT=function(e,t){var n=t.selection.getRng(),r=e?Ku.fromRangeEnd(n):Ku.fromRangeStart(n);return!!oT(t)&&(e&&Bc(r)?aT(!0,t.selection,r):!(e||!Mc(r))&&aT(!1,t.selection,r))},lT=Fr,cT=function(e){return lT(e)&&e.data[0]===kc},uT=function(e){return lT(e)&&e.data[e.data.length-1]===kc},dT=function(e){return e.ownerDocument.createTextNode(kc)},fT=function(e){if(lT(e.previousSibling))return uT(e.previousSibling)||e.previousSibling.appendData(kc),e.previousSibling;if(lT(e))return cT(e)||e.insertData(0,kc),e;var t=dT(e);return e.parentNode.insertBefore(t,e),t},hT=function(e){if(lT(e.nextSibling))return cT(e.nextSibling)||e.nextSibling.insertData(0,kc),e.nextSibling;if(lT(e))return uT(e)||e.appendData(kc),e;var t=dT(e);return e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t},pT=function(e,t){return e?fT(t):hT(t)},mT=y(pT,!0),gT=y(pT,!1),vT=function(e,t){return Fr(e.container())?pT(t,e.container()):pT(t,e.getNode())},bT=function(e,t){var n=t.get();return n&&e.container()===n&&Rc(n)},yT=function(e,t){return t.fold((function(t){Uf(e.get());var n=mT(t);return e.set(n),T.some(Ku(n,n.length-1))}),(function(t){return ep(t).map((function(t){if(bT(t,e))return Ku(e.get(),1);Uf(e.get());var n=vT(t,!0);return e.set(n),Ku(n,1)}))}),(function(t){return tp(t).map((function(t){if(bT(t,e))return Ku(e.get(),e.get().length-1);Uf(e.get());var n=vT(t,!1);return e.set(n),Ku(n,n.length-1)}))}),(function(t){Uf(e.get());var n=gT(t);return e.set(n),T.some(Ku(n,1))}))},CT=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,wT=function(e){return CT.test(e)},xT=function(e,t){return _n(cn.fromDom(t),cf(e))},IT=function(e){return"rtl"===fl.DOM.getStyle(e,"direction",!0)||wT(e.textContent)},AT=function(e,t,n){return J(fl.DOM.getParents(n.container(),"*",t),e)},kT=function(e,t,n){var r=AT(e,t,n);return T.from(r[r.length-1])},ST=function(e,t,n){var r=hh(t,e),i=hh(n,e);return r&&r===i},_T=function(e){return Bc(e)||Mc(e)},TT=function(e,t){if(!t)return t;var n=t.container(),r=t.offset();return e?Rc(n)?Fr(n.nextSibling)?Ku(n.nextSibling,0):Ku.after(n):Bc(t)?Ku(n,r+1):t:Rc(n)?Fr(n.previousSibling)?Ku(n.previousSibling,n.previousSibling.data.length):Ku.before(n):Mc(t)?Ku(n,r-1):t},ET=y(TT,!0),OT=y(TT,!1),RT=function(e,t){for(var n=0;n<e.length;n++){var r=e[n].apply(null,t);if(r.isSome())return r}return T.none()},NT=Vs.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),LT=function(e,t){var n=hh(t,e);return n||e},DT=function(e,t,n){var r=ET(n),i=LT(t,r.container());return kT(e,i,r).fold((function(){return Jh(i,r).bind(y(kT,e,i)).map((function(e){return NT.before(e)}))}),T.none)},BT=function(e,t){return null===ip(e,t)},MT=function(e,t,n){return kT(e,t,n).filter(y(BT,t))},PT=function(e,t,n){var r=OT(n);return MT(e,t,r).bind((function(e){var t=Qh(e,r);return t.isNone()?T.some(NT.start(e)):T.none()}))},FT=function(e,t,n){var r=ET(n);return MT(e,t,r).bind((function(e){var t=Jh(e,r);return t.isNone()?T.some(NT.end(e)):T.none()}))},jT=function(e,t,n){var r=OT(n),i=LT(t,r.container());return kT(e,i,r).fold((function(){return Qh(i,r).bind(y(kT,e,i)).map((function(e){return NT.after(e)}))}),T.none)},HT=function(e){return!1===IT($T(e))},zT=function(e,t,n){var r=RT([DT,PT,FT,jT],[e,t,n]);return r.filter(HT)},$T=function(e){return e.fold(b,b,b,b)},VT=function(e){return e.fold(v("before"),v("start"),v("end"),v("after"))},WT=function(e){return e.fold(NT.before,NT.before,NT.after,NT.after)},KT=function(e){return e.fold(NT.start,NT.start,NT.end,NT.end)},GT=function(e,t){return VT(e)===VT(t)&&$T(e)===$T(t)},ZT=function(e,t,n,r,i,o){return Kc(kT(t,n,r),kT(t,n,i),(function(t,r){return t!==r&&ST(n,t,r)?NT.after(e?t:r):o})).getOr(o)},UT=function(e,t){return e.fold(v(!0),(function(e){return!GT(e,t)}))},qT=function(e,t,n,r,i){var o=TT(e,i),a=Uh(e,n,o).map(y(TT,e)),s=a.fold((function(){return r.map(WT)}),(function(i){return zT(t,n,i).map(y(ZT,e,t,n,o,i)).filter(y(UT,r))}));return s.filter(HT)},XT=function(e,t){return e?t.fold(m(T.some,NT.start),T.none,m(T.some,NT.after),T.none):t.fold(T.none,m(T.some,NT.before),T.none,m(T.some,NT.end))},YT=function(e,t,n,r){var i=TT(e,r),o=zT(t,n,i);return zT(t,n,i).bind(y(XT,e)).orThunk((function(){return qT(e,t,n,o,r)}))},JT=(y(YT,!1),y(YT,!0),function(e,t){var n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)}),QT=function(e,t){e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},eE=function(e,t,n){return yT(t,n).map((function(t){return JT(e,t),n}))},tE=function(e,t,n){var r=e.getBody(),i=Ku.fromRangeStart(e.selection.getRng()),o=y(xT,e),a=YT(n,o,r,i);return a.bind((function(n){return eE(e,t,n)}))},nE=function(e,t,n){var r=U(Yl(cn.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),(function(e){return e.dom()})),i=J(r,e),o=J(n,e);q(le(i,o),y(QT,!1)),q(le(o,i),y(QT,!0))},rE=function(e,t){if(e.selection.isCollapsed()&&!0!==e.composing&&t.get()){var n=Ku.fromRangeStart(e.selection.getRng());Ku.isTextPosition(n)&&!1===_T(n)&&(JT(e,Zf(t.get(),n)),t.set(null))}},iE=function(e,t,n,r){if(t.selection.isCollapsed()){var i=J(r,e);q(i,(function(r){var i=Ku.fromRangeStart(t.selection.getRng());zT(e,t.getBody(),i).bind((function(e){return eE(t,n,e)}))}))}},oE=function(e,t,n){return function(){return!!vf(e)&&tE(e,t,n).isSome()}},aE=function(e,t,n){return function(){return!!vf(t)&&sT(e,t)}},sE=function(e){var t=wl(null),n=y(xT,e);return e.on("NodeChange",(function(r){!vf(e)||Vt.browser.isIE()&&r.initial||(nE(n,e.dom,r.parents),rE(e,t),iE(n,e,t,r.parents))})),t},lE=y(aE,!0),cE=y(aE,!1);(function(e){e[e["Br"]=0]="Br",e[e["Block"]=1]="Block",e[e["Wrap"]=2]="Wrap",e[e["Eol"]=3]="Eol"})(T_||(T_={}));var uE,dE=function(e,t){return e===Wu.Backwards?se(t):t},fE=function(e,t,n){return e===Wu.Forwards?t.next(n):t.prev(n)},hE=function(e,t,n,r){return $r(r.getNode(t===Wu.Forwards))?T_.Br:!1===ph(n,r)?T_.Block:T_.Wrap},pE=function(e,t,n,r){var i,o=Hh(n),a=r,s=[];while(a){if(i=fE(t,o,a),!i)break;if($r(i.getNode(!1)))return t===Wu.Forwards?{positions:dE(t,s).concat([i]),breakType:T_.Br,breakAt:T.some(i)}:{positions:dE(t,s),breakType:T_.Br,breakAt:T.some(i)};if(i.isVisible()){if(e(a,i)){var l=hE(n,t,a,i);return{positions:dE(t,s),breakType:l,breakAt:T.some(i)}}s.push(i),a=i}else a=i}return{positions:dE(t,s),breakType:T_.Eol,breakAt:T.none()}},mE=function(e,t,n,r){return t(n,r).breakAt.map((function(r){var i=t(n,r).positions;return e===Wu.Backwards?i.concat(r):[r].concat(i)})).getOr([])},gE=function(e,t){return ee(e,(function(e,n){return e.fold((function(){return T.some(n)}),(function(r){return Kc(de(r.getClientRects()),de(n.getClientRects()),(function(e,i){var o=Math.abs(t-e.left),a=Math.abs(t-i.left);return a<=o?n:r})).or(e)}))}),T.none())},vE=function(e,t){return de(t.getClientRects()).bind((function(t){return gE(e,t.left)}))},bE=y(pE,Vu.isAbove,-1),yE=y(pE,Vu.isBelow,1),CE=function(e,t){return bE(e,t).breakAt.isNone()},wE=function(e,t){return yE(e,t).breakAt.isNone()},xE=y(mE,-1,bE),IE=y(mE,1,yE),AE=function(e){return ep(e).map((function(t){return[t].concat(yE(e,t).positions)})).getOr([])},kE=function(e){return tp(e).map((function(t){return bE(e,t).positions.concat(t)})).getOr([])},SE=function(e){var t=function(t){return U(t,(function(t){return t=qc(t),t.node=e,t}))};if(Tr(e))return t(e.getClientRects());if(Fr(e)){var n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}},_E=function(e){return oe(e,SE)};(function(e){e[e["Up"]=-1]="Up",e[e["Down"]=1]="Down"})(uE||(uE={}));var TE,EE,OE=function(e,t,n,r){while(r=fh(r,e,xu,t))if(n(r))return},RE=function(e,t,n,r,i,o){var a=0,s=[],l=function(r){var o,l,u;for(u=_E([r]),-1===e&&(u=u.reverse()),o=0;o<u.length;o++)if(l=u[o],!n(l,c)){if(s.length>0&&t(l,Me(s))&&a++,l.line=a,i(l))return!0;s.push(l)}},c=Me(o.getClientRects());if(!c)return s;var u=o.getNode();return l(u),OE(e,r,l,u),s},NE=function(e,t){return t.line>e},LE=function(e,t){return t.line===e},DE=y(RE,uE.Up,Qc,eu),BE=y(RE,uE.Down,eu,Qc),ME=function(e,t,n,r){var i,o,a,s,l,c=Hh(t),u=[],d=0,f=function(e){return Me(e.getClientRects())};1===e?(i=c.next,o=eu,a=Qc,s=Ku.after(r)):(i=c.prev,o=Qc,a=eu,s=Ku.before(r));var h=f(s);do{if(s.isVisible()&&(l=f(s),!a(l,h))){if(u.length>0&&o(l,Me(u))&&d++,l=qc(l),l.position=s,l.line=d,n(l))return u;u.push(l)}}while(s=i(s));return u},PE=function(e){return function(t){return NE(e,t)}},FE=function(e){return function(t){return LE(e,t)}},jE=Wr,HE=fh,zE=function(e,t){return Math.abs(e.left-t)},$E=function(e,t){return Math.abs(e.right-t)},VE=function(e,t){return e>=t.left&&e<=t.right},WE=function(e,t){return e>=t.top&&e<=t.bottom},KE=function(e,t){return De(e,(function(e,n){var r=Math.min(zE(e,t),$E(e,t)),i=Math.min(zE(n,t),$E(n,t));return VE(t,n)?n:VE(t,e)?e:i===r&&jE(n.node)||i<r?n:e}))},GE=function(e,t,n,r,i){var o=HE(r,e,xu,t,!i);do{if(!o||n(o))return}while(o=HE(o,e,xu,t))},ZE=function(e,t,n){void 0===n&&(n=!0);var r=[],i=function(e,n){var i=J(_E([n]),(function(n){return!e(n,t)}));return r=r.concat(i),0===i.length};return r.push(t),GE(uE.Up,e,y(i,Qc),t.node,n),GE(uE.Down,e,y(i,eu),t.node,n),r},UE=function(e){return J(he(e.getElementsByTagName("*")),nh)},qE=function(e,t){return{node:e.node,before:zE(e,t)<$E(e,t)}},XE=function(e,t,n){var r=_E(UE(e)),i=J(r,y(WE,n)),o=KE(i,t);if(o){var a=!Br(o.node);if(o=KE(ZE(e,o,a),t),o&&nh(o.node))return qE(o,t)}return null},YE=Vr,JE=Wr,QE=function(e,t,n,r,i){return t._selectionOverrides.showCaret(e,n,r,i)},eO=function(e){var t=e.ownerDocument.createRange();return t.selectNode(e),t},tO=function(e,t){var n=e.fire("BeforeObjectSelected",{target:t});return n.isDefaultPrevented()?null:eO(t)},nO=function(e,t,n){var r=wh(1,e.getBody(),t),i=Ku.fromRangeStart(r),o=i.getNode();if(JE(o))return QE(1,e,o,!i.isAtEnd(),!1);var a=i.getNode(!0);if(JE(a))return QE(1,e,a,!1,!1);var s=e.dom.getParent(i.getNode(),(function(e){return JE(e)||YE(e)}));return JE(s)?QE(1,e,s,!1,n):null},rO=function(e,t,n){if(!t||!t.collapsed)return t;var r=nO(e,t,n);return r||t},iO=Wr,oO=nu,aO=function(e,t,n,r){var i=e===Wu.Forwards,o=i?wg:xg;if(!r.collapsed){var a=oO(r);if(iO(a))return QE(e,t,a,e===Wu.Backwards,!0)}var s=Vc(r),l=Ih(e,t.getBody(),r);if(o(l))return tO(t,l.getNode(!i));var c=TT(i,n(l));if(!c)return s?r:null;if(o(c))return QE(e,t,c.getNode(!i),i,!0);var u=n(c);return u&&o(u)&&_h(c,u)?QE(e,t,u.getNode(!i),i,!0):s?rO(t,c.toRange(),!0):null},sO=function(e,t,n,r){var i,o,a,s;s=oO(r);var l=Ih(e,t.getBody(),r),c=n(t.getBody(),PE(1),l),u=J(c,FE(1)),d=Me(l.getClientRects());if((wg(l)||yg(l))&&(s=l.getNode()),(xg(l)||Cg(l))&&(s=l.getNode(!0)),!d)return null;var f=d.left;if(i=KE(u,f),i&&iO(i.node))return o=Math.abs(f-i.left),a=Math.abs(f-i.right),QE(e,t,i.node,o<a,!0);if(s){var h=ME(e,t.getBody(),PE(1),s);if(i=KE(J(h,FE(1)),f),i)return rO(t,i.position.toRange(),!0);if(i=Me(J(h,FE(0))),i)return rO(t,i.position.toRange(),!0)}},lO=function(e){var t=e.dom.create(Md(e));return(!Vt.ie||Vt.ie>=11)&&(t.innerHTML='<br data-mce-bogus="1">'),t},cO=function(e,t,n){var r,i,o,a=Hh(e.getBody()),s=y(Sh,a.next),l=y(Sh,a.prev);if(n.collapsed&&Tf(e)){if(r=e.dom.getParent(n.startContainer,"PRE"),!r)return;i=1===t?s(Ku.fromRangeStart(n)):l(Ku.fromRangeStart(n)),i||(o=lO(e),1===t?e.$(r).after(o):e.$(r).before(o),e.selection.select(o,!0),e.selection.collapse())}},uO=function(e,t){var n,r=Hh(e.getBody()),i=y(Sh,r.next),o=y(Sh,r.prev),a=t?Wu.Forwards:Wu.Backwards,s=t?i:o,l=e.selection.getRng();return n=aO(a,e,s,l),n||(n=cO(e,a,l),n||null)},dO=function(e,t){var n,r=t?1:-1,i=t?BE:DE,o=e.selection.getRng();return n=sO(r,e,i,o),n||(n=cO(e,r,o),n||null)},fO=function(e,t){return function(){var n=uO(e,t);return!!n&&(e.selection.setRng(n),!0)}},hO=function(e,t){return function(){var n=dO(e,t);return!!n&&(e.selection.setRng(n),!0)}},pO=function(e){return function(t){return e?xg(t):wg(t)}},mO=function(e,t){return function(){var n=t?Ku.fromRangeEnd(e.selection.getRng()):Ku.fromRangeStart(e.selection.getRng()),r=t?yE(e.getBody(),n):bE(e.getBody(),n),i=t?fe(r.positions):de(r.positions);return i.filter(pO(t)).fold(v(!1),(function(t){return e.selection.setRng(t.toRange()),!0}))}},gO=function(e,t){return{left:e.left-t,top:e.top-t,right:e.right+2*t,bottom:e.bottom+2*t,width:e.width+t,height:e.height+t}},vO=function(e,t){return oe(t,(function(t){var n=gO(qc(t.getBoundingClientRect()),-1);return[{x:n.left,y:e(n),cell:t},{x:n.right,y:e(n),cell:t}]}))},bO=function(e,t,n){return ee(e,(function(e,r){return e.fold((function(){return T.some(r)}),(function(e){var i=Math.sqrt(Math.abs(e.x-t)+Math.abs(e.y-n)),o=Math.sqrt(Math.abs(r.x-t)+Math.abs(r.y-n));return T.some(o<i?r:e)}))}),T.none())},yO=function(e,t,n,r,i){var o=Yl(cn.fromDom(n),"td,th,caption").map((function(e){return e.dom()})),a=J(vO(e,o),(function(e){return t(e,i)}));return bO(a,r,i).map((function(e){return e.cell}))},CO=function(e){return e.bottom},wO=function(e){return e.top},xO=function(e,t){return e.y<t},IO=function(e,t){return e.y>t},AO=y(yO,CO,xO),kO=y(yO,wO,IO),SO=function(e,t){return de(t.getClientRects()).bind((function(t){return AO(e,t.left,t.top)})).bind((function(e){return vE(kE(e),t)}))},_O=function(e,t){return fe(t.getClientRects()).bind((function(t){return kO(e,t.left,t.top)})).bind((function(e){return vE(AE(e),t)}))},TO=function(e,t){e.selection.setRng(t),Ek(e,t)},EO=function(e,t,n){return n.breakAt.map((function(n){return e(t,n).breakAt.isSome()})).getOr(!1)},OO=function(e){return e.breakType===T_.Wrap&&0===e.positions.length},RO=function(e){return e.breakType===T_.Br&&1===e.positions.length},NO=function(e,t,n){var r=e(t,n);return OO(r)||!$r(n.getNode())&&RO(r)?!EO(e,t,r):r.breakAt.isNone()},LO=y(NO,bE),DO=y(NO,yE),BO=function(e,t,n){var r=Ku.fromRangeStart(t);return Yh(!e,n).map((function(e){return e.isEqual(r)})).getOr(!1)},MO=function(e,t,n,r){var i=e.selection.getRng(),o=t?1:-1;if(th()&&BO(t,i,n)){var a=QE(o,e,n,!t,!0);return TO(e,a),!0}return!1},PO=function(e,t,n){return SO(t,n).orThunk((function(){return de(n.getClientRects()).bind((function(n){return gE(xE(e,Ku.before(t)),n.left)}))})).getOr(Ku.before(t))},FO=function(e,t,n){return _O(t,n).orThunk((function(){return de(n.getClientRects()).bind((function(n){return gE(IE(e,Ku.after(t)),n.left)}))})).getOr(Ku.after(t))},jO=function(e,t){var n=t.getNode(e);return Tr(n)&&"TABLE"===n.nodeName?T.some(n):T.none()},HO=function(e,t,n,r){var i=Md(t);i?t.undoManager.transact((function(){var r=cn.fromTag(i);Ur(r,Pd(t)),ar(r,cn.fromTag("br")),e?ir(cn.fromDom(n),r):rr(cn.fromDom(n),r);var o=t.dom.createRng();o.setStart(r.dom(),0),o.setEnd(r.dom(),0),TO(t,o)})):TO(t,r.toRange())},zO=function(e,t,n){var r=jO(!!t,n),i=!1===t;r.fold((function(){return TO(e,n.toRange())}),(function(r){return Yh(i,e.getBody()).filter((function(e){return e.isEqual(n)})).fold((function(){return TO(e,n.toRange())}),(function(i){return HO(t,e,r,n)}))}))},$O=function(e,t,n,r){var i=e.selection.getRng(),o=Ku.fromRangeStart(i),a=e.getBody();if(!t&&LO(r,o)){var s=PO(a,n,o);return zO(e,t,s),!0}if(t&&DO(r,o)){s=FO(a,n,o);return zO(e,t,s),!0}return!1},VO=function(e,t){return function(){return T.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind((function(n){return T.from(e.dom.getParent(n,"table")).map((function(n){return MO(e,t,n)}))})).getOr(!1)}},WO=function(e,t){return function(){return T.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind((function(n){return T.from(e.dom.getParent(n,"table")).map((function(r){return $O(e,t,r,n)}))})).getOr(!1)}},KO=function(e){return G(["figcaption"],mn(e))},GO=function(e){var t=n.document.createRange();return t.setStartBefore(e.dom()),t.setEndBefore(e.dom()),t},ZO=function(e,t,n){n?ar(e,t):or(e,t)},UO=function(e,t){var n=cn.fromTag("br");return ZO(e,n,t),GO(n)},qO=function(e,t,n,r){var i=cn.fromTag(n),o=cn.fromTag("br");return Ur(i,r),ar(i,o),ZO(e,i,t),GO(o)},XO=function(e,t,n,r){return""===t?UO(e,r):qO(e,r,t,n)},YO=function(e,t){var n=y(Rn,t);return ec(cn.fromDom(e.container()),wi,n).filter(KO)},JO=function(e,t,n){return t?wE(e.dom(),n):CE(e.dom(),n)},QO=function(e,t){var n=cn.fromDom(e.getBody()),r=Ku.fromRangeStart(e.selection.getRng()),i=Md(e),o=Pd(e);return YO(r,n).exists((function(){if(JO(n,t,r)){var a=XO(n,i,o,t);return e.selection.setRng(a),!0}return!1}))},eR=function(e,t){return function(){return!!e.selection.isCollapsed()&&QO(e,t)}},tR=function(e){return U(e,(function(e){return Pe({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:p},e)}))},nR=function(e,t){return t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey},rR=function(e,t){return oe(tR(e),(function(e){return nR(e,t)?[e]:[]}))},iR=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){return e.apply(null,t)}},oR=function(e,t){return ne(rR(e,t),(function(e){return e.action()}))},aR=function(e,t,n){var r=Dt().os;oR([{keyCode:dS.RIGHT,action:fO(e,!0)},{keyCode:dS.LEFT,action:fO(e,!1)},{keyCode:dS.UP,action:hO(e,!1)},{keyCode:dS.DOWN,action:hO(e,!0)},{keyCode:dS.RIGHT,action:VO(e,!0)},{keyCode:dS.LEFT,action:VO(e,!1)},{keyCode:dS.UP,action:WO(e,!1)},{keyCode:dS.DOWN,action:WO(e,!0)},{keyCode:dS.RIGHT,action:oE(e,t,!0)},{keyCode:dS.LEFT,action:oE(e,t,!1)},{keyCode:dS.RIGHT,ctrlKey:!r.isOSX(),altKey:r.isOSX(),action:lE(e,t)},{keyCode:dS.LEFT,ctrlKey:!r.isOSX(),altKey:r.isOSX(),action:cE(e,t)},{keyCode:dS.UP,action:eR(e,!1)},{keyCode:dS.DOWN,action:eR(e,!0)}],n).each((function(e){n.preventDefault()}))},sR=function(e,t){e.on("keydown",(function(n){!1===n.isDefaultPrevented()&&aR(e,t,n)}))},lR=function(e){return function(t){return Rn(e,cn.fromDom(t.dom().parentNode))}},cR=function(e,t){return Dn(e,t)?ec(t,(function(e){return ki(e)||_i(e)}),lR(e)):T.none()},uR=function(e){var t=e.getBody(),n=t.firstChild&&e.dom.isBlock(t.firstChild)?t.firstChild:t;e.selection.setCursorLocation(n,0)},dR=function(e){e.dom.isEmpty(e.getBody())&&(e.setContent(""),uR(e))},fR=function(e,t,n){return Kc(ep(n),tp(n),(function(r,i){var o=TT(!0,r),a=TT(!1,i),s=TT(!1,t);return e?Jh(n,s).map((function(e){return e.isEqual(a)&&t.isEqual(o)})).getOr(!1):Qh(n,s).map((function(e){return e.isEqual(o)&&t.isEqual(a)})).getOr(!1)})).getOr(!0)},hR=function(e,t){return{block:e,position:t}},pR=function(e,t){return{from:e,to:t}},mR=function(e,t){var n=cn.fromDom(e),r=cn.fromDom(t.container());return cR(n,r).map((function(e){return hR(e,t)}))},gR=function(e){return!1===Rn(e.from.block,e.to.block)},vR=function(e){return jn(e.from.block).bind((function(t){return jn(e.to.block).filter((function(e){return Rn(t,e)}))})).isSome()},bR=function(e){return!1===Wr(e.from.block.dom())&&!1===Wr(e.to.block.dom())},yR=function(e,t,n){return $r(n.position.getNode())&&!1===Ng(n.block)?Yh(!1,n.block.dom()).bind((function(r){return r.isEqual(n.position)?Uh(t,e,r).bind((function(t){return mR(e,t)})):T.some(n)})).getOr(n):n},CR=function(e,t,n){var r=mR(e,Ku.fromRangeStart(n)),i=r.bind((function(n){return Uh(t,e,n.position).bind((function(n){return mR(e,n).map((function(n){return yR(e,t,n)}))}))}));return Kc(r,i,pR).filter((function(e){return gR(e)&&vR(e)&&bR(e)}))},wR=function(e,t,n){return n.collapsed?CR(e,t,n):T.none()},xR=function(e){var t=Gn(e);return re(t,wi).fold((function(){return t}),(function(e){return t.slice(0,e)}))},IR=function(e){var t=xR(e);return q(t,dr),t},AR=function(e,t){var n=Hg(t,e);return ne(n.reverse(),(function(e){return Ng(e)})).each(dr)},kR=function(e){return 0===J(Wn(e),(function(e){return!Ng(e)})).length},SR=function(e,t,n,r){if(Ng(n))return Bg(n),ep(n.dom());kR(r)&&Ng(t)&&rr(r,cn.fromTag("br"));var i=Qh(n.dom(),Ku.before(r.dom()));return q(IR(t),(function(e){rr(r,e)})),AR(e,t),i},_R=function(e,t,n){if(Ng(n))return dr(n),Ng(t)&&Bg(t),ep(t.dom());var r=tp(n.dom());return q(IR(t),(function(e){ar(n,e)})),AR(e,t),r},TR=function(e,t){var n=Hg(t,e);return T.from(n[n.length-1])},ER=function(e,t){return Dn(t,e)?TR(t,e):T.none()},OR=function(e,t){Yh(e,t.dom()).map((function(e){return e.getNode()})).map(cn.fromDom).filter(Ai).each(dr)},RR=function(e,t,n){return OR(!0,t),OR(!1,n),ER(t,n).fold(y(_R,e,t,n),y(SR,e,t,n))},NR=function(e,t,n,r){return t?RR(e,r,n):RR(e,n,r)},LR=function(e,t){var n=cn.fromDom(e.getBody()),r=wR(n.dom(),t,e.selection.getRng()).bind((function(e){return NR(n,t,e.from.block,e.to.block)}));return r.each((function(t){e.selection.setRng(t.toRange())})),r.isSome()},DR=function(e,t){var n=t.getRng();return Kc(cR(e,cn.fromDom(n.startContainer)),cR(e,cn.fromDom(n.endContainer)),(function(r,i){return!1===Rn(r,i)&&(n.deleteContents(),NR(e,!0,r,i).each((function(e){t.setRng(e.toRange())})),!0)})).getOr(!1)},BR=function(e,t){var n=cn.fromDom(t),r=y(Rn,e);return Ql(n,Oi,r).isSome()},MR=function(e,t){return BR(e,t.startContainer)||BR(e,t.endContainer)},PR=function(e,t){var n=Qh(e.dom(),Ku.fromRangeStart(t)).isNone(),r=Jh(e.dom(),Ku.fromRangeEnd(t)).isNone();return!MR(e,t)&&n&&r},FR=function(e){return e.setContent(""),e.selection.setCursorLocation(),!0},jR=function(e){var t=cn.fromDom(e.getBody()),n=e.selection.getRng();return PR(t,n)?FR(e):DR(t,e.selection)},HR=function(e,t){return!e.selection.isCollapsed()&&jR(e)},zR=function(e){return Ah(e).exists(Ai)},$R=function(e,t,n){var r=J(Hg(cn.fromDom(n.container()),t),wi),i=de(r).getOr(t);return Uh(e,i.dom(),n).filter(zR)},VR=function(e,t){return Ah(t).exists(Ai)||$R(!0,e,t).isSome()},WR=function(e,t){return kh(t).exists(Ai)||$R(!1,e,t).isSome()},KR=y($R,!1),GR=y($R,!0),ZR=function(e){return Oi(cn.fromDom(e))||_i(cn.fromDom(e))},UR=Vs.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),qR=function(e,t){var n=t.getNode(!1===e),r=e?"after":"before";return Tr(n)&&n.getAttribute("data-mce-caret")===r},XR=function(e,t,n,r){var i=function(t){return Ii(cn.fromDom(t))&&!ph(n,r,e)};return xh(!t,n).fold((function(){return xh(t,r).fold(v(!1),i)}),i)},YR=function(e,t,n,r){var i=r.getNode(!1===t);return cR(cn.fromDom(e),cn.fromDom(n.getNode())).map((function(e){return Ng(e)?UR.remove(e.dom()):UR.moveToElement(i)})).orThunk((function(){return T.some(UR.moveToElement(i))}))},JR=function(e,t,n){return Uh(t,e,n).bind((function(r){return ZR(r.getNode())||XR(e,t,n,r)?T.none():t&&Wr(r.getNode())||!1===t&&Wr(r.getNode(!0))?YR(e,t,n,r):t&&xg(n)||!1===t&&wg(n)?T.some(UR.moveToPosition(r)):T.none()}))},QR=function(e,t){return e&&Wr(t.nextSibling)?T.some(UR.moveToElement(t.nextSibling)):!1===e&&Wr(t.previousSibling)?T.some(UR.moveToElement(t.previousSibling)):T.none()},eN=function(e,t,n){return n.fold((function(e){return T.some(UR.remove(e))}),(function(e){return T.some(UR.moveToElement(e))}),(function(n){return ph(t,n,e)?T.none():T.some(UR.moveToPosition(n))}))},tN=function(e,t,n){return qR(t,n)?QR(t,n.getNode(!1===t)).fold((function(){return JR(e,t,n)}),T.some):JR(e,t,n).bind((function(t){return eN(e,n,t)}))},nN=function(e,t,n){var r=wh(t?1:-1,e,n),i=Ku.fromRangeStart(r),o=cn.fromDom(e);return!1===t&&xg(i)?T.some(UR.remove(i.getNode(!0))):t&&wg(i)?T.some(UR.remove(i.getNode())):!1===t&&wg(i)&&WR(o,i)?KR(o,i).map((function(e){return UR.remove(e.getNode())})):t&&xg(i)&&VR(o,i)?GR(o,i).map((function(e){return UR.remove(e.getNode())})):tN(e,t,i)},rN=function(e,t){return function(n){return e._selectionOverrides.hideFakeCaret(),uv(e,t,cn.fromDom(n)),!0}},iN=function(e,t){return function(n){var r=t?Ku.before(n):Ku.after(n);return e.selection.setRng(r.toRange()),!0}},oN=function(e){return function(t){return e.selection.setRng(t.toRange()),!0}},aN=function(e,t){return T.from(uN(e.getBody(),t))},sN=function(e,t){var n=e.selection.getNode();return aN(e,n).filter(Wr).fold((function(){var n=nN(e.getBody(),t,e.selection.getRng()).map((function(n){return n.fold(rN(e,t),iN(e,t),oN(e))}));return n.getOr(!1)}),(function(){return!0}))},lN=function(e){q(Yl(e,".mce-offscreen-selection"),dr)},cN=function(e,t){var n=e.selection.getNode();if(Wr(n)){var r=aN(e,n.parentNode).filter(Wr);return r.fold((function(){return lN(cn.fromDom(e.getBody())),uv(e,t,cn.fromDom(e.selection.getNode())),dR(e),!0}),(function(){return!0}))}return!1},uN=function(e,t){while(t&&t!==e){if(Vr(t)||Wr(t))return t;t=t.parentNode}return null},dN=function(e){var t,n=uN(e.getBody(),e.selection.getNode());return Vr(n)&&e.dom.isBlock(n)&&e.dom.isEmpty(n)&&(t=e.dom.create("br",{"data-mce-bogus":"1"}),e.dom.setHTML(n,""),n.appendChild(t),e.selection.setRng(Ku.before(t).toRange())),!0},fN=function(e,t){return e.selection.isCollapsed()?sN(e,t):cN(e,t)},hN=function(e,t){Fr(t)&&0===t.data.length&&e.remove(t)},pN=function(e,t,n,r,i,o){var a=QE(r,e,o.getNode(!i),i,!0);if(t.collapsed){var s=t.cloneRange();i?s.setEnd(a.startContainer,a.startOffset):s.setStart(a.endContainer,a.endOffset),s.deleteContents()}else t.deleteContents();return e.selection.setRng(a),hN(e.dom,n),!0},mN=function(e,t){var n=e.selection.getRng();if(!Fr(n.commonAncestorContainer))return!1;var r=t?Wu.Forwards:Wu.Backwards,i=Hh(e.getBody()),o=y(Sh,i.next),a=y(Sh,i.prev),s=t?o:a,l=t?wg:xg,c=Ih(r,e.getBody(),n),u=TT(t,s(c));if(!u||!_h(c,u))return!1;if(l(u))return pN(e,n,c.getNode(),r,t,u);var d=s(u);return!!(d&&l(d)&&_h(u,d))&&pN(e,n,c.getNode(),r,t,d)},gN=function(e,t){return mN(e,t)},vN=function(e,t){var r=n.document.createRange();return r.setStart(e.container(),e.offset()),r.setEnd(t.container(),t.offset()),r},bN=function(e){return Kc(ep(e),tp(e),(function(t,n){var r=TT(!0,t),i=TT(!1,n);return Jh(e,r).map((function(e){return e.isEqual(i)})).getOr(!0)})).getOr(!0)},yN=function(e,t){return function(n){return yT(t,n).map((function(t){return JT(e,t),!0})).getOr(!1)}},CN=function(e,t,n,r){var i=e.getBody(),o=y(xT,e);e.undoManager.ignore((function(){e.selection.setRng(vN(n,r)),e.execCommand("Delete"),zT(o,i,Ku.fromRangeStart(e.selection.getRng())).map(KT).map(yN(e,t))})),e.nodeChanged()},wN=function(e,t){var n=hh(t,e);return n||e},xN=function(e,t,n,r){var i=wN(e.getBody(),r.container()),o=y(xT,e),a=zT(o,i,r);return a.bind((function(e){return n?e.fold(v(T.some(KT(e))),T.none,v(T.some(WT(e))),T.none):e.fold(T.none,v(T.some(WT(e))),T.none,v(T.some(KT(e))))})).map(yN(e,t)).getOrThunk((function(){var s=qh(n,i,r),l=s.bind((function(e){return zT(o,i,e)}));return a.isSome()&&l.isSome()?kT(o,i,r).map((function(t){return!!bN(t)&&(uv(e,n,cn.fromDom(t)),!0)})).getOr(!1):l.bind((function(i){return s.map((function(i){return n?CN(e,t,r,i):CN(e,t,i,r),!0}))})).getOr(!1)}))},IN=function(e,t,n){if(e.selection.isCollapsed()&&vf(e)){var r=Ku.fromRangeStart(e.selection.getRng());return xN(e,t,n,r)}return!1},AN=function(e,t){var n=Hg(t,e);return re(n,wi).fold(v(n),(function(e){return n.slice(0,e)}))},kN=function(e){return 1===Gn(e).length},SN=function(e,t,n,r){var i=y(HC,t),o=U(J(r,i),(function(e){return e.dom()}));if(0===o.length)uv(t,e,n);else{var a=jC(n.dom(),o);t.selection.setRng(a.toRange())}},_N=function(e,t){var n=cn.fromDom(e.getBody()),r=cn.fromDom(e.selection.getStart()),i=J(AN(n,r),kN);return fe(i).map((function(n){var r=Ku.fromRangeStart(e.selection.getRng());return!(!fR(t,r,n.dom())||zC(n))&&(SN(t,e,n,i),!0)})).getOr(!1)},TN=function(e,t){return!!e.selection.isCollapsed()&&_N(e,t)},EN=function(e,t){var n=Ku.fromRangeStart(e.selection.getRng());return Uh(t,e.getBody(),n).filter((function(e){return t?vg(e):bg(e)})).bind((function(e){return T.from(mh(t?0:-1,e))})).map((function(t){return e.selection.select(t),!0})).getOr(!1)},ON=function(e,t){return!!e.selection.isCollapsed()&&EN(e,t)},RN=function(e){return ec(e,(function(e){return Vr(e.dom())||Wr(e.dom())})).exists((function(e){return Vr(e.dom())}))},NN=function(e){var t=parseInt(e,10);return isNaN(t)?0:t},LN=function(e,t){var n=e||xi(t)?"margin":"padding",r="rtl"===ei(t,"direction")?"-right":"-left";return n+r},DN=function(e,t,n,r,i,o){var a=LN(n,cn.fromDom(o));if("outdent"===t){var s=Math.max(0,NN(o.style[a])-r);e.setStyle(o,a,s?s+i:"")}else{s=NN(o.style[a])+r+i;e.setStyle(o,a,s)}},BN=function(e,t){return ae(t,(function(t){var n=LN(of(e),t),r=ni(t,n).map(NN).getOr(0),i=e.dom.getContentEditable(t.dom());return"false"!==i&&r>0}))},MN=function(e){var t=jN(e);return!e.mode.isReadOnly()&&(t.length>1||BN(e,t))},PN=function(e){return Si(e)||_i(e)},FN=function(e){return jn(e).map(PN).getOr(!1)},jN=function(e){return J(U(e.selection.getSelectedBlocks(),cn.fromDom),(function(e){return!PN(e)&&!FN(e)&&RN(e)}))},HN=function(e,t){var n=e.dom,r=e.selection,i=e.formatter,o=af(e),a=/[a-z%]+$/i.exec(o)[0],s=parseInt(o,10),l=of(e),c=Md(e);e.queryCommandState("InsertUnorderedList")||e.queryCommandState("InsertOrderedList")||""!==c||n.getParent(r.getNode(),n.isBlock)||i.apply("div"),q(jN(e),(function(e){DN(n,t,l,s,a,e.dom())}))},zN=function(e,t,n){return Xh(e,t,n,hg)},$N=function(e,t){return ne(Hg(cn.fromDom(t.container()),e),wi)},VN=function(e,t,n){return zN(e,t.dom(),n).forall((function(e){return $N(t,n).fold((function(){return!1===ph(e,n,t.dom())}),(function(r){return!1===ph(e,n,t.dom())&&Dn(r,cn.fromDom(e.container()))}))}))},WN=function(e,t,n){return $N(t,n).fold((function(){return zN(e,t.dom(),n).forall((function(e){return!1===ph(e,n,t.dom())}))}),(function(t){return zN(e,t.dom(),n).isNone()}))},KN=y(WN,!1),GN=y(WN,!0),ZN=y(VN,!1),UN=y(VN,!0),qN=function(e,t,n){if(e.selection.isCollapsed()&&MN(e)){var r=e.dom,i=e.selection.getRng(),o=Ku.fromRangeStart(i),a=r.getParent(i.startContainer,r.isBlock);if(null!==a&&KN(cn.fromDom(a),o))return HN(e,"outdent"),!0}return!1},XN=function(e,t,n){oR([{keyCode:dS.BACKSPACE,action:iR(qN,e,!1)},{keyCode:dS.BACKSPACE,action:iR(fN,e,!1)},{keyCode:dS.DELETE,action:iR(fN,e,!0)},{keyCode:dS.BACKSPACE,action:iR(gN,e,!1)},{keyCode:dS.DELETE,action:iR(gN,e,!0)},{keyCode:dS.BACKSPACE,action:iR(IN,e,t,!1)},{keyCode:dS.DELETE,action:iR(IN,e,t,!0)},{keyCode:dS.BACKSPACE,action:iR(Qv,e,!1)},{keyCode:dS.DELETE,action:iR(Qv,e,!0)},{keyCode:dS.BACKSPACE,action:iR(ON,e,!1)},{keyCode:dS.DELETE,action:iR(ON,e,!0)},{keyCode:dS.BACKSPACE,action:iR(HR,e,!1)},{keyCode:dS.DELETE,action:iR(HR,e,!0)},{keyCode:dS.BACKSPACE,action:iR(LR,e,!1)},{keyCode:dS.DELETE,action:iR(LR,e,!0)},{keyCode:dS.BACKSPACE,action:iR(TN,e,!1)},{keyCode:dS.DELETE,action:iR(TN,e,!0)}],n).each((function(e){n.preventDefault()}))},YN=function(e,t){oR([{keyCode:dS.BACKSPACE,action:iR(dN,e)},{keyCode:dS.DELETE,action:iR(dN,e)}],t)},JN=function(e,t){e.on("keydown",(function(n){!1===n.isDefaultPrevented()&&XN(e,t,n)})),e.on("keyup",(function(t){!1===t.isDefaultPrevented()&&YN(e,t)}))},QN=function(e){while(e){if(1===e.nodeType||3===e.nodeType&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}},eL=function(e,t){var n,r=t,i=e.dom,o=e.schema.getMoveCaretBeforeOnEnterElements();if(t){if(/^(LI|DT|DD)$/.test(t.nodeName)){var a=QN(t.firstChild);a&&/^(UL|OL|DL)$/.test(a.nodeName)&&t.insertBefore(i.doc.createTextNode(Oo),t.firstChild)}var s=i.createRng();if(t.normalize(),t.hasChildNodes()){var l=new Is(t,t);while(n=l.current()){if(Fr(n)){s.setStart(n,0),s.setEnd(n,0);break}if(o[n.nodeName.toLowerCase()]){s.setStartBefore(n),s.setEndBefore(n);break}r=n,n=l.next()}n||(s.setStart(r,0),s.setEnd(r,0))}else $r(t)?t.nextSibling&&i.isBlock(t.nextSibling)?(s.setStartBefore(t),s.setEndBefore(t)):(s.setStartAfter(t),s.setEndAfter(t)):(s.setStart(t,0),s.setEnd(t,0));e.selection.setRng(s),Ek(e,s)}},tL=function(e,t){var n,r,i=e.getRoot();n=t;while(n!==i&&"false"!==e.getContentEditable(n))"true"===e.getContentEditable(n)&&(r=n),n=n.parentNode;return n!==i?r:i},nL=function(e){return T.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))},rL=function(e){return nL(e).fold(v(""),(function(e){return e.nodeName.toUpperCase()}))},iL=function(e){return nL(e).filter((function(e){return _i(cn.fromDom(e))})).isSome()},oL=function(e,t){return e.firstChild&&e.firstChild.nodeName===t},aL=function(e,t){return e&&e.parentNode&&e.parentNode.nodeName===t},sL=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)},lL=function(e){return sL(e)&&sL(e.parentNode)},cL=function(e){var t=e.parentNode;return/^(LI|DT|DD)$/.test(t.nodeName)?t:e},uL=function(e,t,n){var r=e[n?"firstChild":"lastChild"];while(r){if(Tr(r))break;r=r[n?"nextSibling":"previousSibling"]}return r===t},dL=function(e,t,n,r,i){var o=e.dom,a=e.selection.getRng();if(n!==e.getBody()){lL(n)&&(i="LI");var s=i?t(i):o.create("BR");if(uL(n,r,!0)&&uL(n,r,!1))aL(n,"LI")?o.insertAfter(s,cL(n)):o.replace(s,n);else if(uL(n,r,!0))aL(n,"LI")?(o.insertAfter(s,cL(n)),s.appendChild(o.doc.createTextNode(" ")),s.appendChild(n)):n.parentNode.insertBefore(s,n);else if(uL(n,r,!1))o.insertAfter(s,cL(n));else{n=cL(n);var l=a.cloneRange();l.setStartAfter(r),l.setEndAfter(n);var c=l.extractContents();"LI"===i&&oL(c,"LI")?(s=c.firstChild,o.insertAfter(c,n)):(o.insertAfter(c,n),o.insertAfter(s,n))}o.remove(r),eL(e,s)}},fL=function(e){q(Xl(cn.fromDom(e),Cn),(function(e){var t=e.dom();t.nodeValue=_c(t.nodeValue)}))},hL=function(e,t){return t&&"A"===t.nodeName&&e.isEmpty(t)},pL=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},mL=function(e){e.innerHTML='<br data-mce-bogus="1">'},gL=function(e,t){return e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t},vL=function(e,t){return t&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&"true"!==e.getContentEditable(t)},bL=function(e,t,n){var r,i=n,o=[];if(i){while(i=i.firstChild){if(e.isBlock(i))return;Tr(i)&&!t[i.nodeName.toLowerCase()]&&o.push(i)}r=o.length;while(r--)i=o[r],(!i.hasChildNodes()||i.firstChild===i.lastChild&&""===i.firstChild.nodeValue||hL(e,i))&&e.remove(i)}},yL=function(e,t,n){return!1===Fr(t)?n:e?1===n&&t.data.charAt(n-1)===kc?0:n:n===t.data.length-1&&t.data.charAt(n)===kc?t.data.length:n},CL=function(e){var t=e.cloneRange();return t.setStart(e.startContainer,yL(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,yL(!1,e.endContainer,e.endOffset)),t},wL=function(e){do{Fr(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild}while(e)},xL=function(e,t){var n,r,i=e.getRoot();n=t;while(n!==i&&"false"!==e.getContentEditable(n))"true"===e.getContentEditable(n)&&(r=n),n=n.parentNode;return n!==i?r:i},IL=function(e,t,n){T.from(n.style).map(e.dom.parseStyle).each((function(n){var r=ri(cn.fromDom(t)),i=Pe(Pe({},r),n);e.dom.setStyles(t,i)}));var r=T.from(n.class).map((function(e){return e.split(/\s+/)})),i=T.from(t.className).map((function(e){return J(e.split(/\s+/),(function(e){return""!==e}))}));Kc(r,i,(function(n,r){var i=J(r,(function(e){return!G(n,e)})),o=je(n,i);e.dom.setAttrib(t,"class",o.join(" "))}));var o=["style","class"],a=xe(n,(function(e,t){return!G(o,t)}));e.dom.setAttribs(t,a)},AL=function(e,t){var n=Md(e);if(n&&n.toLowerCase()===t.tagName.toLowerCase()){var r=Pd(e);IL(e,t,r)}},kL=function(e,t,n,r,i){var o,a,s,l,c,u,d=t||"P",f=e.dom,h=xL(f,r);if(a=f.getParent(r,f.isBlock),!a||!vL(f,a)){if(a=a||h,u=a===e.getBody()||pL(a)?a.nodeName.toLowerCase():a.parentNode.nodeName.toLowerCase(),!a.hasChildNodes())return o=f.create(d),AL(e,o),a.appendChild(o),n.setStart(o,0),n.setEnd(o,0),o;l=r;while(l.parentNode!==a)l=l.parentNode;while(l&&!f.isBlock(l))s=l,l=l.previousSibling;if(s&&e.schema.isValidChild(u,d.toLowerCase())){o=f.create(d),AL(e,o),s.parentNode.insertBefore(o,s),l=s;while(l&&!f.isBlock(l))c=l.nextSibling,o.appendChild(l),l=c;n.setStart(r,i),n.setEnd(r,i)}}return r},SL=function(e,t){t.normalize();var n=t.lastChild;n&&!/^(left|right)$/gi.test(e.getStyle(n,"float",!0))||e.add(t,"br")},_L=function(e,t){var n,r,i,o,a,s,l,c,u,d,f=e.dom,h=e.schema,p=h.getNonEmptyElements(),m=e.selection.getRng(),g=function(t){var n,i,a,s=r,l=h.getTextInlineElements();if(n=t||"TABLE"===c||"HR"===c?f.create(t||u):o.cloneNode(!1),a=n,!1===Hd(e))f.setAttrib(n,"style",null),f.setAttrib(n,"class",null);else do{if(l[s.nodeName]){if(rp(s)||kp(s))continue;i=s.cloneNode(!1),f.setAttrib(i,"id",""),n.hasChildNodes()?(i.appendChild(n.firstChild),n.appendChild(i)):(a=i,n.appendChild(i))}}while((s=s.parentNode)&&s!==w);return AL(e,n),mL(a),n},v=function(e){var t,n,a=yL(e,r,i);if(Fr(r)&&(e?a>0:a<r.nodeValue.length))return!1;if(r.parentNode===o&&d&&!e)return!0;if(e&&Tr(r)&&r===o.firstChild)return!0;if(gL(r,"TABLE")||gL(r,"HR"))return d&&!e||!d&&e;var s=new Is(r,o);Fr(r)&&(e&&0===a?s.prev():e||a!==r.nodeValue.length||s.next());while(t=s.current()){if(Tr(t)){if(!t.getAttribute("data-mce-bogus")&&(n=t.nodeName.toLowerCase(),p[n]&&"br"!==n))return!1}else if(Fr(t)&&!/^[ \t\r\n]*$/.test(t.nodeValue))return!1;e?s.prev():s.next()}return!0},b=function(){a=/^(H[1-6]|PRE|FIGURE)$/.test(c)&&"HGROUP"!==x?g(u):g(),zd(e)&&vL(f,l)&&f.isEmpty(o)?a=f.split(l,o):f.insertAfter(a,o),eL(e,a)};tS(f,m).each((function(e){m.setStart(e.startContainer,e.startOffset),m.setEnd(e.endContainer,e.endOffset)})),r=m.startContainer,i=m.startOffset,u=Md(e);var y=!(!t||!t.shiftKey),C=!(!t||!t.ctrlKey);Tr(r)&&r.hasChildNodes()&&(d=i>r.childNodes.length-1,r=r.childNodes[Math.min(i,r.childNodes.length-1)]||r,i=d&&Fr(r)?r.nodeValue.length:0);var w=xL(f,r);if(w){(u&&!y||!u&&y)&&(r=kL(e,u,m,r,i)),o=f.getParent(r,f.isBlock),l=o?f.getParent(o.parentNode,f.isBlock):null,c=o?o.nodeName.toUpperCase():"";var x=l?l.nodeName.toUpperCase():"";"LI"!==x||C||(o=l,l=l.parentNode,c=x),/^(LI|DT|DD)$/.test(c)&&f.isEmpty(o)?dL(e,g,l,o,u):u&&o===e.getBody()||(u=u||"P",Oc(o)?(a=$c(o),f.isEmpty(o)&&mL(o),AL(e,a),eL(e,a)):v()?b():v(!0)?(a=o.parentNode.insertBefore(g(),o),eL(e,gL(o,"HR")?a:o)):(n=CL(m).cloneRange(),n.setEndAfter(o),s=n.extractContents(),fL(s),wL(s),a=s.firstChild,f.insertAfter(s,o),bL(f,p,a),SL(f,o),f.isEmpty(o)&&mL(o),a.normalize(),f.isEmpty(a)?(f.remove(a),b()):(AL(e,a),eL(e,a))),f.setAttrib(a,"id",""),e.fire("NewBlock",{newBlock:a}))}},TL=function(e,t,n){var r,i=new Is(t,n),o=e.getNonEmptyElements();while(r=i.next())if(o[r.nodeName.toLowerCase()]||r.length>0)return!0},EL=function(e,t,n){var r=e.create("span",{},"&nbsp;");n.parentNode.insertBefore(r,n),t.scrollIntoView(r),e.remove(r)},OL=function(e,t,n,r){var i=e.createRng();r?(i.setStartBefore(n),i.setEndBefore(n)):(i.setStartAfter(n),i.setEndAfter(n)),t.setRng(i)},RL=function(e,t){var n,r,i=e.selection,o=e.dom,a=i.getRng();tS(o,a).each((function(e){a.setStart(e.startContainer,e.startOffset),a.setEnd(e.endContainer,e.endOffset)}));var s=a.startOffset,l=a.startContainer;if(1===l.nodeType&&l.hasChildNodes()){var c=s>l.childNodes.length-1;l=l.childNodes[Math.min(s,l.childNodes.length-1)]||l,s=c&&3===l.nodeType?l.nodeValue.length:0}var u=o.getParent(l,o.isBlock),d=u?o.getParent(u.parentNode,o.isBlock):null,f=d?d.nodeName.toUpperCase():"",h=!(!t||!t.ctrlKey);"LI"!==f||h||(u=d),l&&3===l.nodeType&&s>=l.nodeValue.length&&(TL(e.schema,l,u)||(n=o.create("br"),a.insertNode(n),a.setStartAfter(n),a.setEndAfter(n),r=!0)),n=o.create("br"),qu(o,a,n),EL(o,i,n),OL(o,i,n,r),e.undoManager.add()},NL=function(e,t){var n=cn.fromTag("br");rr(cn.fromDom(t),n),e.undoManager.add()},LL=function(e,t){BL(e.getBody(),t)||ir(cn.fromDom(t),cn.fromTag("br"));var n=cn.fromTag("br");ir(cn.fromDom(t),n),EL(e.dom,e.selection,n.dom()),OL(e.dom,e.selection,n.dom(),!1),e.undoManager.add()},DL=function(e){return $r(e.getNode())},BL=function(e,t){return!!DL(Ku.after(t))||Jh(e,Ku.after(t)).map((function(e){return $r(e.getNode())})).getOr(!1)},ML=function(e){return e&&"A"===e.nodeName&&"href"in e},PL=function(e){return e.fold(v(!1),ML,ML,v(!1))},FL=function(e){var t=y(xT,e),n=Ku.fromRangeStart(e.selection.getRng());return zT(t,e.getBody(),n).filter(PL)},jL=function(e,t){t.fold(p,y(NL,e),y(LL,e),p)},HL=function(e,t){var n=FL(e);n.isSome()?n.each(y(jL,e)):RL(e,t)},zL=function(e,t){return nL(e).filter((function(e){return t.length>0&&_n(cn.fromDom(e),t)})).isSome()},$L=function(e){return zL(e,Fd(e))},VL=function(e){return zL(e,jd(e))},WL=Vs.generate([{br:[]},{block:[]},{none:[]}]),KL=function(e,t){return VL(e)},GL=function(e){return function(t,n){var r=""===Md(t);return r===e}},ZL=function(e){return function(t,n){return iL(t)===e}},UL=function(e,t){return function(n,r){var i=rL(n)===e.toUpperCase();return i===t}},qL=function(e){return UL("pre",e)},XL=function(){return UL("summary",!0)},YL=function(e){return function(t,n){return Bd(t)===e}},JL=function(e,t){return $L(e)},QL=function(e,t){return t},eD=function(e){var t=Md(e),n=tL(e.dom,e.selection.getStart());return n&&e.schema.isValidChild(n.nodeName,t||"P")},tD=function(e,t){return function(n,r){var i=ee(e,(function(e,t){return e&&t(n,r)}),!0);return i?T.some(t):T.none()}},nD=function(e,t){return RT([tD([KL],WL.none()),tD([XL()],WL.br()),tD([qL(!0),YL(!1),QL],WL.br()),tD([qL(!0),YL(!1)],WL.block()),tD([qL(!0),YL(!0),QL],WL.block()),tD([qL(!0),YL(!0)],WL.br()),tD([ZL(!0),QL],WL.br()),tD([ZL(!0)],WL.block()),tD([GL(!0),QL,eD],WL.block()),tD([GL(!0)],WL.br()),tD([JL],WL.br()),tD([GL(!1),QL],WL.br()),tD([eD],WL.block())],[e,!(!t||!t.shiftKey)]).getOr(WL.none())},rD=function(e,t){nD(e,t).fold((function(){HL(e,t)}),(function(){_L(e,t)}),p)},iD=function(e,t){t.isDefaultPrevented()||(t.preventDefault(),Mx(e.undoManager),e.undoManager.transact((function(){!1===e.selection.isCollapsed()&&e.execCommand("Delete"),rD(e,t)})))},oD=function(e){e.on("keydown",(function(t){t.keyCode===dS.ENTER&&iD(e,t)}))},aD=function(e,t){var n=t.container(),r=t.offset();return Fr(n)?(n.insertData(r,e),T.some(Vu(n,r+e.length))):Ah(t).map((function(n){var r=cn.fromText(e);return t.isAtEnd()?ir(n,r):rr(n,r),Vu(r.dom(),e.length)}))},sD=y(aD,Oo),lD=y(aD," "),cD=function(e){return Vu.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd()},uD=function(e,t){var n=J(Hg(cn.fromDom(t.container()),e),wi);return de(n).getOr(e)},dD=function(e,t){return cD(t)?fg(t):fg(t)||Qh(uD(e,t).dom(),t).exists(fg)},fD=function(e,t){return cD(t)?dg(t):dg(t)||Jh(uD(e,t).dom(),t).exists(dg)},hD=function(e){return G(["pre","pre-wrap"],e)},pD=function(e){return Ah(e).bind((function(e){return ec(e,yn)})).exists((function(e){return hD(ei(e,"white-space"))}))},mD=function(e,t){return Qh(e.dom(),t).isNone()},gD=function(e,t){return Jh(e.dom(),t).isNone()},vD=function(e,t){return mD(e,t)||gD(e,t)||KN(e,t)||GN(e,t)||WR(e,t)||VR(e,t)},bD=function(e,t){return!pD(t)&&(vD(e,t)||dD(e,t)||fD(e,t))},yD=function(e,t){return!pD(t)&&(KN(e,t)||ZN(e,t)||WR(e,t)||dD(e,t))},CD=function(e){var t=e.container(),n=e.offset();return Fr(t)&&n<t.data.length?Vu(t,n+1):e},wD=function(e,t){var n=CD(t);return!pD(n)&&(GN(e,n)||UN(e,n)||VR(e,n)||fD(e,n))},xD=function(e,t){return yD(e,t)||wD(e,t)},ID=function(e,t){return _p(e.charAt(t))},AD=function(e){var t=e.container();return Fr(t)&&yt(t.data,Oo)},kD=function(e){var t=e.split("");return U(t,(function(e,n){return _p(e)&&n>0&&n<t.length-1&&Ep(t[n-1])&&Ep(t[n+1])?" ":e})).join("")},SD=function(e,t){var n=t.data,r=Vu(t,0);return!(!ID(n,0)||xD(e,r))&&(t.data=" "+n.slice(1),!0)},_D=function(e){var t=e.data,n=kD(t);return n!==t&&(e.data=n,!0)},TD=function(e,t){var n=t.data,r=Vu(t,n.length-1);return!(!ID(n,n.length-1)||xD(e,r))&&(t.data=n.slice(0,-1)+" ",!0)},ED=function(e,t){return T.some(t).filter(AD).bind((function(t){var n=t.container(),r=SD(e,n)||_D(n)||TD(e,n);return r?T.some(t):T.none()}))},OD=function(e){var t=cn.fromDom(e.getBody());e.selection.isCollapsed()&&ED(t,Vu.fromRangeStart(e.selection.getRng())).each((function(t){e.selection.setRng(t.toRange())}))},RD=function(e){return function(t){return t.fold((function(t){return Qh(e.dom(),Ku.before(t))}),(function(e){return ep(e)}),(function(e){return tp(e)}),(function(t){return Jh(e.dom(),Ku.after(t))}))}},ND=function(e,t){return function(n){return bD(e,n)?sD(t):lD(t)}},LD=function(e){return function(t){return e.selection.setRng(t.toRange()),e.nodeChanged(),!0}},DD=function(e){var t=Ku.fromRangeStart(e.selection.getRng()),n=cn.fromDom(e.getBody());if(e.selection.isCollapsed()){var r=y(xT,e),i=Ku.fromRangeStart(e.selection.getRng());return zT(r,e.getBody(),i).bind(RD(n)).bind(ND(n,t)).exists(LD(e))}return!1},BD=function(e,t){oR([{keyCode:dS.SPACEBAR,action:iR(DD,e)}],t).each((function(e){t.preventDefault()}))},MD=function(e){e.on("keydown",(function(t){!1===t.isDefaultPrevented()&&BD(e,t)}))},PD=function(e){return nc(cn.fromDom(e.getBody()),"*[data-mce-caret]").fold(v(null),(function(e){return e.dom()}))},FD=function(e){e.selection.setRng(e.selection.getRng())},jD=function(e,t){t.hasAttribute("data-mce-caret")&&($c(t),FD(e),e.selection.scrollIntoView(t))},HD=function(e,t){var n=PD(e);if(n)return"compositionstart"===t.type?(t.preventDefault(),t.stopPropagation(),void jD(e,n)):void(Lc(n)&&(jD(e,n),e.undoManager.add()))},zD=function(e){e.on("keyup compositionstart",y(HD,e))},$D=Dt().browser,VD=function(e){var t=Pl((function(){e.composing||OD(e)}),0);$D.isIE()&&(e.on("keypress",(function(e){t.throttle()})),e.on("remove",(function(e){t.cancel()})))},WD=function(e){VD(e),e.on("input",(function(t){!1===t.isComposing&&OD(e)}))},KD=function(e,t){oR([{keyCode:dS.END,action:mO(e,!0)},{keyCode:dS.HOME,action:mO(e,!1)}],t).each((function(e){t.preventDefault()}))},GD=function(e){e.on("keydown",(function(t){!1===t.isDefaultPrevented()&&KD(e,t)}))},ZD=function(e){var t=sE(e);zD(e),sR(e,t),JN(e,t),oD(e),MD(e),WD(e),GD(e)},UD=function(e){Qx(e)||ZD(e)},qD=function(){function e(e){var t;this.lastPath=[],this.editor=e;var n=this;"onselectionchange"in e.getDoc()||e.on("NodeChange click mouseup keyup focus",(function(n){var r=e.selection.getRng(),i={startContainer:r.startContainer,startOffset:r.startOffset,endContainer:r.endContainer,endOffset:r.endOffset};"nodechange"!==n.type&&Vk(i,t)||e.fire("SelectionChange"),t=i})),e.on("contextmenu",(function(){e.fire("SelectionChange")})),e.on("SelectionChange",(function(){var t=e.selection.getStart(!0);!t||!Vt.range&&e.selection.isCollapsed()||xm(e)&&!n.isSameElementPath(t)&&e.dom.isChildOf(t,e.getBody())&&e.nodeChanged({selectionChange:!0})})),e.on("mouseup",(function(t){!t.isDefaultPrevented()&&xm(e)&&("IMG"===e.selection.getNode().nodeName?Qs.setEditorTimeout(e,(function(){e.nodeChanged()})):e.nodeChanged())}))}return e.prototype.nodeChanged=function(e){var t,n,r,i=this.editor.selection;this.editor.initialized&&i&&!Of(this.editor)&&!this.editor.mode.isReadOnly()&&(r=this.editor.getBody(),t=i.getStart(!0)||r,t.ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(t,r)||(t=r),n=[],this.editor.dom.getParent(t,(function(e){if(e===r)return!0;n.push(e)})),e=e||{},e.element=t,e.parents=n,this.editor.fire("NodeChange",e))},e.prototype.isSameElementPath=function(e){var t,n=this.editor.$(e).parentsUntil(this.editor.getBody()).add(e);if(n.length===this.lastPath.length){for(t=n.length;t>=0;t--)if(n[t]!==this.lastPath[t])break;if(-1===t)return this.lastPath=n,!0}return this.lastPath=n,!1},e}(),XD=function(e){e.on("click",(function(t){e.dom.getParent(t.target,"details")&&t.preventDefault()}))},YD=function(e){e.parser.addNodeFilter("details",(function(e){q(e,(function(e){e.attr("data-mce-open",e.attr("open")),e.attr("open","open")}))})),e.serializer.addNodeFilter("details",(function(e){q(e,(function(e){var t=e.attr("data-mce-open");e.attr("open",L(t)?t:null),e.attr("data-mce-open",null)}))}))},JD=function(e){XD(e),YD(e)},QD=function(e){return Tr(e)&&ki(cn.fromDom(e))},eB=function(e){var t=e.selection.getRng(),n=Vu.fromRangeStart(t),r=Vu.fromRangeEnd(t);if(Vu.isElementPosition(n)){var i=n.container();QD(i)&&ep(i).each((function(e){return t.setStart(e.container(),e.offset())}))}if(Vu.isElementPosition(r)){i=n.container();QD(i)&&tp(i).each((function(e){return t.setEnd(e.container(),e.offset())}))}e.selection.setRng(nb(t))},tB=function(e){e.on("click",(function(t){t.detail>=3&&eB(e)}))},nB=function(e){var t=e.getBoundingClientRect(),n=e.ownerDocument,r=n.documentElement,i=n.defaultView;return{top:t.top+i.pageYOffset-r.clientTop,left:t.left+i.pageXOffset-r.clientLeft}},rB=function(e){return e.inline?nB(e.getBody()):{left:0,top:0}},iB=function(e){var t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},oB=function(e){var t=e.getBody(),n=e.getDoc().documentElement,r={left:t.scrollLeft,top:t.scrollTop},i={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?r:i},aB=function(e,t){if(t.target.ownerDocument!==e.getDoc()){var n=nB(e.getContentAreaContainer()),r=oB(e);return{left:t.pageX-n.left+r.left,top:t.pageY-n.top+r.top}}return{left:t.pageX,top:t.pageY}},sB=function(e,t,n){return{pageX:n.left-e.left+t.left,pageY:n.top-e.top+t.top}},lB=function(e,t){return sB(rB(e),iB(e),aB(e,t))},cB=Wr,uB=Vr,dB=function(e,t){return cB(t)&&t!==e},fB=function(e,t,n){return t!==n&&!e.dom.isChildOf(t,n)&&!cB(t)},hB=function(e){var t=e.cloneNode(!0);return t.removeAttribute("data-mce-selected"),t},pB=function(e,t,n,r){var i=t.cloneNode(!0);e.dom.setStyles(i,{width:n,height:r}),e.dom.setAttrib(i,"data-mce-selected",null);var o=e.dom.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return e.dom.setStyles(o,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:r}),e.dom.setStyles(i,{margin:0,boxSizing:"border-box"}),o.appendChild(i),o},mB=function(e,t){e.parentNode!==t&&t.appendChild(e)},gB=function(e,t,n,r,i,o){var a=0,s=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+n>i&&(a=t.pageX+n-i),t.pageY+r>o&&(s=t.pageY+r-o),e.style.width=n-a+"px",e.style.height=r-s+"px"},vB=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},bB=function(e){return 0===e.button},yB=function(e){return e.element},CB=function(e,t){return{pageX:t.pageX-e.relX,pageY:t.pageY+5}},wB=function(e,t){return function(n){if(bB(n)){var r=ne(t.dom.getParents(n.target),au(cB,uB)).getOr(null);if(dB(t.getBody(),r)){var i=t.dom.getPos(r),o=t.getBody(),a=t.getDoc().documentElement;e.element=r,e.screenX=n.screenX,e.screenY=n.screenY,e.maxX=(t.inline?o.scrollWidth:a.offsetWidth)-2,e.maxY=(t.inline?o.scrollHeight:a.offsetHeight)-2,e.relX=n.pageX-i.x,e.relY=n.pageY-i.y,e.width=r.offsetWidth,e.height=r.offsetHeight,e.ghost=pB(t,r,e.width,e.height)}}}},xB=function(e,t){var n=Qs.throttle((function(e,n){t._selectionOverrides.hideFakeCaret(),t.selection.placeCaretAt(e,n)}),0);return function(r){var i=Math.max(Math.abs(r.screenX-e.screenX),Math.abs(r.screenY-e.screenY));if(yB(e)&&!e.dragging&&i>10){var o=t.fire("dragstart",{target:e.element});if(o.isDefaultPrevented())return;e.dragging=!0,t.focus()}if(e.dragging){var a=CB(e,lB(t,r));mB(e.ghost,t.getBody()),gB(e.ghost,a,e.width,e.height,e.maxX,e.maxY),n(r.clientX,r.clientY)}}},IB=function(e){var t=e.getSel().getRangeAt(0),n=t.startContainer;return 3===n.nodeType?n.parentNode:n},AB=function(e,t){return function(n){if(e.dragging&&fB(t,IB(t.selection),e.element)){var r=hB(e.element),i=t.fire("drop",{targetClone:r,clientX:n.clientX,clientY:n.clientY});i.isDefaultPrevented()||(r=i.targetClone,t.undoManager.transact((function(){vB(e.element),t.insertContent(t.dom.getOuterHTML(r)),t._selectionOverrides.hideFakeCaret()})))}SB(e)}},kB=function(e,t){return function(){e.dragging&&t.fire("dragend"),SB(e)}},SB=function(e){e.dragging=!1,e.element=null,vB(e.ghost)},_B=function(e){var t={},r=fl.DOM,i=n.document,o=wB(t,e),a=xB(t,e),s=AB(t,e),l=kB(t,e);e.on("mousedown",o),e.on("mousemove",a),e.on("mouseup",s),r.bind(i,"mousemove",a),r.bind(i,"mouseup",l),e.on("remove",(function(){r.unbind(i,"mousemove",a),r.unbind(i,"mouseup",l)}))},TB=function(e){e.on("drop",(function(t){var n="undefined"!==typeof t.clientX?e.getDoc().elementFromPoint(t.clientX,t.clientY):null;(cB(n)||cB(e.dom.getContentEditableParent(n)))&&t.preventDefault()}))},EB=function(e){var t=function(e){if(!e.defaultPrevented){var t=e.dataTransfer;t&&(G(t.types,"Files")||t.files.length>0)&&e.preventDefault()}},r=function(n){Dy(e,n.target)&&t(n)},i=function(){var i=fl.DOM,o=e.dom,a=n.document,s=e.inline?e.getBody():e.getDoc(),l=["drop","dragover"];q(l,(function(e){i.bind(a,e,r),o.bind(s,e,t)})),e.on("remove",(function(){q(l,(function(e){i.unbind(a,e,r),o.unbind(s,e,t)}))}))};e.on("init",(function(){Qs.setEditorTimeout(e,i,0)}))},OB=function(e){_B(e),TB(e),Bf(e)&&EB(e)},RB=function(e){var t=Pl((function(){if(!e.removed&&e.getBody().contains(n.document.activeElement)){var t=e.selection.getRng();if(t.collapsed){var r=rO(e,e.selection.getRng(),!1);e.selection.setRng(r)}}}),0);e.on("focus",(function(){t.throttle()})),e.on("blur",(function(){t.cancel()}))},NB=Vr,LB=Wr,DB=function(e,t){var n=e.getBody();while(t&&t!==n){if(NB(t)||LB(t))return t;t=t.parentNode}return null},BB=function(e){var t,n=function(t){return e.dom.isBlock(t)},r=e.getBody(),i=eh(e,r,n,(function(){return Uy(e)})),o="sel-"+e.dom.uniqueId(),a=function(t){return e.dom.hasClass(t,"mce-offscreen-selection")},s=function(){var t=e.dom.get(o);return t?t.getElementsByTagName("*")[0]:t},l=function(t){t&&e.selection.setRng(t)},c=function(){return e.selection.getRng()},u=function(t,n,r,o){void 0===o&&(o=!0);var a=e.fire("ShowCaret",{target:n,direction:t,before:r});return a.isDefaultPrevented()?null:(o&&e.selection.scrollIntoView(n,-1===t),i.show(r,n))},d=function(t){t.hasAttribute("data-mce-caret")&&($c(t),l(c()),e.selection.scrollIntoView(t))},f=function(){e.on("mouseup",(function(t){var n=c();n.collapsed&&RA(e,t.clientX,t.clientY)&&l(nO(e,n,!1))})),e.on("click",(function(t){var n=DB(e,t.target);n&&(LB(n)&&(t.preventDefault(),e.focus()),NB(n)&&e.dom.isChildOf(n,e.selection.getNode())&&v())})),e.on("blur NewBlock",(function(){v()})),e.on("ResizeWindow FullscreenStateChanged",(function(){return i.reposition()}));var n=function(e){e.on("tap",(function(t){var n=DB(e,t.target);LB(n)&&(t.preventDefault(),g(tO(e,n)))}),!0)},o=function(e){var t=Hh(e);if(!e.firstChild)return!1;var n=Ku.before(e.firstChild),r=t.next(n);return r&&!wg(r)&&!xg(r)},d=function(t,n){var r=e.dom.getParent(t,e.dom.isBlock),i=e.dom.getParent(n,e.dom.isBlock);return r===i},f=function(t,n){var r=e.dom.getParent(t,e.dom.isBlock),i=e.dom.getParent(n,e.dom.isBlock);return!(!r||!e.dom.isChildOf(r,i)||!1!==LB(DB(e,r)))||r&&!d(r,i)&&o(r)};n(e),e.on("mousedown",(function(t){var n=t.target;if((n===r||"HTML"===n.nodeName||e.dom.isChildOf(n,r))&&!1!==RA(e,t.clientX,t.clientY)){var i=DB(e,n);if(i)LB(i)?(t.preventDefault(),g(tO(e,i))):(v(),NB(i)&&t.shiftKey||uS(t.clientX,t.clientY,e.selection.getRng())||(y(),e.selection.placeCaretAt(t.clientX,t.clientY)));else if(!1===nh(n)){v(),y();var o=XE(r,t.clientX,t.clientY);if(o&&!f(t.target,o.node)){t.preventDefault();var a=u(1,o.node,o.before,!1);e.getBody().focus(),l(a)}}}})),e.on("keypress",(function(t){if(!dS.modifierPressed(t))switch(t.keyCode){default:LB(e.selection.getNode())&&t.preventDefault();break}})),e.on("GetSelectionRange",(function(e){var n=e.range;if(t){if(!t.parentNode)return void(t=null);n=n.cloneRange(),n.selectNode(t),e.range=n}})),e.on("SetSelectionRange",(function(e){e.range=m(e.range);var t=g(e.range,e.forward);t&&(e.range=t)}));var h=function(e){return"mcepastebin"===e.id};e.on("AfterSetSelectionRange",(function(e){var t=e.range;p(t)||h(t.startContainer.parentNode)||y(),a(t.startContainer.parentNode)||v()})),e.on("copy",(function(e){var t=e.clipboardData;if(!e.isDefaultPrevented()&&e.clipboardData&&!Vt.ie){var n=s();n&&(e.preventDefault(),t.clearData(),t.setData("text/html",n.outerHTML),t.setData("text/plain",n.outerText))}})),OB(e),RB(e)},h=function(e){return Nc(e)||jc(e)||Hc(e)},p=function(e){return h(e.startContainer)||h(e.endContainer)},m=function(t){var n=e.schema.getShortEndedElements(),r=e.dom.createRng(),i=t.startContainer,o=t.startOffset,a=t.endContainer,s=t.endOffset;return Se(n,i.nodeName.toLowerCase())?0===o?r.setStartBefore(i):r.setStartAfter(i):r.setStart(i,o),Se(n,a.nodeName.toLowerCase())?0===s?r.setEndBefore(a):r.setEndAfter(a):r.setEnd(a,s),r},g=function(n,i){var a,s,l,c,d,f,h,m=e.$,g=e.dom;if(!n)return null;if(n.collapsed){if(!p(n))if(!1===i){if(d=Ih(-1,r,n),nh(d.getNode(!0)))return u(-1,d.getNode(!0),!1,!1);if(nh(d.getNode()))return u(-1,d.getNode(),!d.isAtEnd(),!1)}else{if(d=Ih(1,r,n),nh(d.getNode()))return u(1,d.getNode(),!d.isAtEnd(),!1);if(nh(d.getNode(!0)))return u(1,d.getNode(!0),!1,!1)}return null}l=n.startContainer,c=n.startOffset;var v=n.endOffset;if(3===l.nodeType&&0===c&&LB(l.parentNode)&&(l=l.parentNode,c=g.nodeIndex(l),l=l.parentNode),1!==l.nodeType)return null;if(v===c+1&&l===n.endContainer&&(a=l.childNodes[c]),!LB(a))return null;f=h=a.cloneNode(!0);var b=e.fire("ObjectSelected",{target:a,targetClone:f});if(b.isDefaultPrevented())return null;s=nc(cn.fromDom(e.getBody()),"#"+o).fold((function(){return m([])}),(function(e){return m([e.dom()])})),f=b.targetClone,0===s.length&&(s=m('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",o),s.appendTo(e.getBody())),n=e.dom.createRng(),f===h&&Vt.ie?(s.empty().append('<p style="font-size: 0" data-mce-bogus="all"> </p>').append(f),n.setStartAfter(s[0].firstChild.firstChild),n.setEndAfter(f)):(s.empty().append(Oo).append(f).append(Oo),n.setStart(s[0].firstChild,1),n.setEnd(s[0].lastChild,0)),s.css({top:g.getPos(a,e.getBody()).y}),s[0].focus();var C=e.selection.getSel();C.removeAllRanges(),C.addRange(n);var w=cn.fromDom(a);return q(Yl(cn.fromDom(e.getBody()),"*[data-mce-selected]"),(function(e){Rn(w,e)||Jr(e,"data-mce-selected")})),e.dom.getAttrib(a,"data-mce-selected")||a.setAttribute("data-mce-selected","1"),t=a,y(),n},v=function(){t&&(t.removeAttribute("data-mce-selected"),nc(cn.fromDom(e.getBody()),"#"+o).each(dr),t=null),nc(cn.fromDom(e.getBody()),"#"+o).each(dr),t=null},b=function(){i.destroy(),t=null},y=function(){i.hide()};return Vt.ceFalse&&f(),{showCaret:u,showBlockCaretContainer:d,hideFakeCaret:y,destroy:b}},MB=function(e){var t=nn.each,r=dS.BACKSPACE,i=dS.DELETE,o=e.dom,a=e.selection,s=e.parser,l=Vt.gecko,c=Vt.ie,u=Vt.webkit,d="data:text/mce-internal,",f=c?"Text":"URL",h=function(t,n){try{e.getDoc().execCommand(t,!1,n)}catch(r){}},p=function(e){return e.isDefaultPrevented()},m=function(t){var n,r;t.dataTransfer&&(e.selection.isCollapsed()&&"IMG"===t.target.tagName&&a.select(t.target),n=e.selection.getContent(),n.length>0&&(r=d+escape(e.id)+","+escape(n),t.dataTransfer.setData(f,r)))},g=function(e){var t;return e.dataTransfer&&(t=e.dataTransfer.getData(f),t&&t.indexOf(d)>=0)?(t=t.substr(d.length).split(","),{id:unescape(t[0]),html:unescape(t[1])}):null},v=function(t,n){e.queryCommandSupported("mceInsertClipboardContent")?e.execCommand("mceInsertClipboardContent",!1,{content:t,internal:n}):e.execCommand("mceInsertContent",!1,t)},b=function(){var t=function(e){var t=o.create("body"),n=e.cloneContents();return t.appendChild(n),a.serializer.serialize(t,{format:"html"})},n=function(n){var r=t(n),i=o.createRng();i.selectNode(e.getBody());var a=t(i);return r===a};e.on("keydown",(function(t){var a,s,l=t.keyCode;if(!p(t)&&(l===i||l===r)){if(a=e.selection.isCollapsed(),s=e.getBody(),a&&!o.isEmpty(s))return;if(!a&&!n(e.selection.getRng()))return;t.preventDefault(),e.setContent(""),s.firstChild&&o.isBlock(s.firstChild)?e.selection.setCursorLocation(s.firstChild,0):e.selection.setCursorLocation(s,0),e.nodeChanged()}}))},y=function(){e.shortcuts.add("meta+a",null,"SelectAll")},C=function(){e.inline||o.bind(e.getDoc(),"mousedown mouseup",(function(t){var n;if(t.target===e.getDoc().documentElement)if(n=a.getRng(),e.getBody().focus(),"mousedown"===t.type){if(Nc(n.startContainer))return;a.placeCaretAt(t.clientX,t.clientY)}else a.setRng(n)}))},w=function(){e.on("keydown",(function(t){if(!p(t)&&t.keyCode===r){if(!e.getBody().getElementsByTagName("hr").length)return;if(a.isCollapsed()&&0===a.getRng().startOffset){var n=a.getNode(),i=n.previousSibling;if("HR"===n.nodeName)return o.remove(n),void t.preventDefault();i&&i.nodeName&&"hr"===i.nodeName.toLowerCase()&&(o.remove(i),t.preventDefault())}}}))},x=function(){n.Range.prototype.getClientRects||e.on("mousedown",(function(t){if(!p(t)&&"HTML"===t.target.nodeName){var n=e.getBody();n.blur(),Qs.setEditorTimeout(e,(function(){n.focus()}))}}))},I=function(){e.on("click",(function(t){var n=t.target;/^(IMG|HR)$/.test(n.nodeName)&&"false"!==o.getContentEditableParent(n)&&(t.preventDefault(),e.selection.select(n),e.nodeChanged()),"A"===n.nodeName&&o.hasClass(n,"mce-item-anchor")&&(t.preventDefault(),a.select(n))}))},A=function(){var n=function(){var n=o.getAttribs(a.getStart().cloneNode(!1));return function(){var r=a.getStart();r!==e.getBody()&&(o.setAttrib(r,"style",null),t(n,(function(e){r.setAttributeNode(e.cloneNode(!0))})))}},r=function(){return!a.isCollapsed()&&o.getParent(a.getStart(),o.isBlock)!==o.getParent(a.getEnd(),o.isBlock)};e.on("keypress",(function(t){var i;if(!p(t)&&(8===t.keyCode||46===t.keyCode)&&r())return i=n(),e.getDoc().execCommand("delete",!1,null),i(),t.preventDefault(),!1})),o.bind(e.getDoc(),"cut",(function(t){var i;!p(t)&&r()&&(i=n(),Qs.setEditorTimeout(e,(function(){i()})))}))},k=function(){e.on("keydown",(function(e){if(!p(e)&&e.keyCode===r&&a.isCollapsed()&&0===a.getRng().startOffset){var t=a.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}}))},S=function(){e.on("keydown",(function(t){var n,r;if(!p(t)&&t.keyCode===dS.BACKSPACE){n=a.getRng();var i=n.startContainer,s=n.startOffset,l=o.getRoot();if(r=i,n.collapsed&&0===s){while(r&&r.parentNode&&r.parentNode.firstChild===r&&r.parentNode!==l)r=r.parentNode;"BLOCKQUOTE"===r.tagName&&(e.formatter.toggle("blockquote",null,r),n=o.createRng(),n.setStart(i,0),n.setEnd(i,0),a.setRng(n))}}}))},_=function(){var t=function(){h("StyleWithCSS",!1),h("enableInlineTableEditing",!1),uf(e)||h("enableObjectResizing",!1)};Rf(e)||e.on("BeforeExecCommand mousedown",t)},T=function(){var n=function(){t(o.select("a"),(function(e){var t=e.parentNode,n=o.getRoot();if(t.lastChild===e){while(t&&!o.isBlock(t)){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode}o.add(t,"br",{"data-mce-bogus":1})}}))};e.on("SetContent ExecCommand",(function(e){"setcontent"!==e.type&&"mceInsertLink"!==e.command||n()}))},E=function(){Md(e)&&e.on("init",(function(){h("DefaultParagraphSeparator",Md(e))}))},O=function(){e.on("keyup focusin mouseup",(function(e){dS.modifierPressed(e)||a.normalize()}),!0)},R=function(){e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},N=function(){e.inline||e.on("keydown",(function(){n.document.activeElement===n.document.body&&e.getWin().focus()}))},L=function(){e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",(function(t){var n;if("HTML"===t.target.nodeName){if(Vt.ie>11)return void e.getBody().focus();n=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(n),e.selection.normalize(),e.nodeChanged()}})))},D=function(){Vt.mac&&e.on("keydown",(function(t){if(dS.metaKeyPressed(t)&&!t.shiftKey&&(37===t.keyCode||39===t.keyCode)){t.preventDefault();var n=e.selection.getSel();n.modify("move",37===t.keyCode?"backward":"forward","lineboundary")}}))},B=function(){h("AutoUrlDetect",!1)},M=function(){e.on("click",(function(e){var t=e.target;do{if("A"===t.tagName)return void e.preventDefault()}while(t=t.parentNode)})),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},P=function(){e.on("init",(function(){e.dom.bind(e.getBody(),"submit",(function(e){e.preventDefault()}))}))},F=function(){s.addNodeFilter("br",(function(e){var t=e.length;while(t--)"Apple-interchange-newline"===e[t].attr("class")&&e[t].remove()}))},j=function(){e.on("dragstart",(function(e){m(e)})),e.on("drop",(function(t){if(!p(t)){var n=g(t);if(n&&n.id!==e.id){t.preventDefault();var r=Dk(t.x,t.y,e.getDoc());a.setRng(r),v(n.html,!0)}}}))},H=function(){},z=function(){if(!l||e.removed)return!1;var t=e.selection.getSel();return!t||!t.rangeCount||0===t.rangeCount};return S(),b(),Vt.windowsPhone||O(),u&&(C(),I(),E(),P(),k(),F(),Vt.iOS?(N(),L(),M()):y()),Vt.ie>=11&&(L(),k()),Vt.ie&&(y(),B(),j()),l&&(w(),x(),A(),_(),T(),R(),D(),k()),{refreshContentEditable:H,isHidden:z}},PB=fl.DOM,FB=function(e,t){var n=cn.fromDom(e.getDoc().head),r=cn.fromTag("style");Zr(r,"type","text/css"),ar(r,cn.fromText(t)),ar(n,r)},jB=function(e){return e.inline?e.getElement().nodeName.toLowerCase():void 0},HB=function(e){return xe(e,(function(e){return!1===F(e)}))},zB=function(e){var t=e.settings,n=e.editorUpload.blobCache;return HB({allow_conditional_comments:t.allow_conditional_comments,allow_html_data_urls:t.allow_html_data_urls,allow_html_in_named_anchor:t.allow_html_in_named_anchor,allow_script_urls:t.allow_script_urls,allow_unsafe_link_target:t.allow_unsafe_link_target,convert_fonts_to_spans:t.convert_fonts_to_spans,fix_list_elements:t.fix_list_elements,font_size_legacy_values:t.font_size_legacy_values,forced_root_block:t.forced_root_block,forced_root_block_attrs:t.forced_root_block_attrs,padd_empty_with_br:t.padd_empty_with_br,preserve_cdata:t.preserve_cdata,remove_trailing_brs:t.remove_trailing_brs,inline_styles:t.inline_styles,root_name:jB(e),validate:!0,blob_cache:n,images_dataimg_filter:t.images_dataimg_filter})},$B=function(e){var t=e.settings;return Pe(Pe({},zB(e)),HB({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope,element_format:t.element_format,entities:t.entities,entity_encoding:t.entity_encoding,indent:t.indent,indent_after:t.indent_after,indent_before:t.indent_before,block_elements:t.block_elements,boolean_attributes:t.boolean_attributes,custom_elements:t.custom_elements,extended_valid_elements:t.extended_valid_elements,invalid_elements:t.invalid_elements,invalid_styles:t.invalid_styles,move_caret_before_on_enter_elements:t.move_caret_before_on_enter_elements,non_empty_elements:t.non_empty_elements,schema:t.schema,self_closing_elements:t.self_closing_elements,short_ended_elements:t.short_ended_elements,special:t.special,text_block_elements:t.text_block_elements,text_inline_elements:t.text_inline_elements,valid_children:t.valid_children,valid_classes:t.valid_classes,valid_elements:t.valid_elements,valid_styles:t.valid_styles,verify_html:t.verify_html,whitespace_elements:t.whitespace_elements}))},VB=function(e){var t=QS(zB(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",(function(t,n){var r,i,o=t.length,a=e.dom,s="data-mce-"+n;while(o--)if(r=t[o],i=r.attr(n),i&&!r.attr(s)){if(0===i.indexOf("data:")||0===i.indexOf("blob:"))continue;"style"===n?(i=a.serializeStyle(a.parseStyle(i),r.name),i.length||(i=null),r.attr(s,i),r.attr(n,i)):"tabindex"===n?(r.attr(s,i),r.attr(n,null)):r.attr(s,e.convertURL(i,n,r.name))}})),t.addNodeFilter("script",(function(e){var t=e.length;while(t--){var n=e[t],r=n.attr("type")||"no/type";0!==r.indexOf("mce-")&&n.attr("type","mce-"+r)}})),e.settings.preserve_cdata&&t.addNodeFilter("#cdata",(function(t){var n=t.length;while(n--){var r=t[n];r.type=8,r.name="#comment",r.value="[CDATA["+e.dom.encode(r.value)+"]]"}})),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",(function(t){var n=t.length,r=e.schema.getNonEmptyElements();while(n--){var i=t[n];i.isEmpty(r)&&0===i.getAll("br").length&&(i.append(new Hm("br",1)).shortEnded=!0)}})),t},WB=function(e){e.settings.auto_focus&&Qs.setEditorTimeout(e,(function(){var t;t=!0===e.settings.auto_focus?e:e.editorManager.get(e.settings.auto_focus),t.destroyed||t.focus()}),100)},KB=function(e){var t=e.dom.getRoot();e.inline||xm(e)&&e.selection.getStart(!0)!==t||ep(t).each((function(t){var n=t.getNode(),r=Br(n)?ep(n).getOr(t):t;Vt.browser.isIE()?Cy(e,r.toRange()):e.selection.setRng(r.toRange())}))},GB=function(e){e.bindPendingEventDelegates(),e.initialized=!0,LI(e),e.focus(!0),KB(e),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),WB(e)},ZB=function(e){return e.inline?PB.styleSheetLoader:e.dom.styleSheetLoader},UB=function(e,t){var n=e.settings,r=e.getDoc(),i=e.getBody();n.browser_spellcheck||n.gecko_spellcheck||(r.body.spellcheck=!1,PB.setAttrib(i,"spellcheck","false")),e.quirks=MB(e),NI(e);var o=lf(e);if(void 0!==o&&(i.dir=o),n.protect&&e.on("BeforeSetContent",(function(e){nn.each(n.protect,(function(t){e.content=e.content.replace(t,(function(e){return"\x3c!--mce:protected "+escape(e)+"--\x3e"}))}))})),e.on("SetContent",(function(){e.addVisual(e.getBody())})),!1===t&&e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"}),e.on("compositionstart compositionend",(function(t){e.composing="compositionstart"===t.type})),e.contentStyles.length>0){var a="";nn.each(e.contentStyles,(function(e){a+=e+"\r\n"})),e.dom.addStyle(a)}ZB(e).loadAll(e.contentCSS,(function(t){GB(e)}),(function(t){GB(e)})),n.content_style&&FB(e,n.content_style)},qB=function(e,t){var r=e.settings,i=e.getElement(),o=e.getDoc();r.inline||(e.getElement().style.visibility=e.orgVisibility),t||e.inline||(o.open(),o.write(e.iframeHTML),o.close()),e.inline&&(PB.addClass(i,"mce-content-body"),e.contentDocument=o=n.document,e.contentWindow=n.window,e.bodyElement=i,e.contentAreaContainer=i);var a=e.getBody();a.disabled=!0,e.readonly=!!r.readonly,e.readonly||(e.inline&&"static"===PB.getStyle(a,"position",!0)&&(a.style.position="relative"),a.contentEditable=e.getParam("content_editable_state",!0)),a.disabled=!1,e.editorUpload=y_(e),e.schema=co(r),e.dom=fl(o,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,hex_colors:r.force_hex_style_colors,update_styles:!0,root_element:e.inline?e.getBody():null,collect:function(){return e.inline},schema:e.schema,contentCssCors:ef(e),referrerPolicy:tf(e),onSetAttrib:function(t){e.fire("SetAttrib",t)}}),e.parser=VB(e),e.serializer=f_($B(e),e),e.selection=wS(e.dom,e.getWin(),e.serializer,e),e.annotator=Dm(e),e.formatter=M_(e),e.undoManager=j_(e),e._nodeChangeDispatcher=new qD(e),e._selectionOverrides=BB(e),J_(e),JD(e),Qx(e)||tB(e),UD(e),iT(e),Z_(e),RI(e),eI(e).fold((function(){UB(e,!1)}),(function(t){e.setProgressState(!0),t.then((function(t){e.setProgressState(!1),UB(e,t)}))}))},XB=fl.DOM,YB=function(e,t){if(n.document.domain!==n.window.location.hostname&&Vt.browser.isIE()){var r=v_("mce");e[r]=function(){qB(e)};var i='javascript:(function(){document.open();document.domain="'+n.document.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.'+r+"(true);})()";return XB.setAttrib(t,"src",i),!0}return!1},JB=function(e,t,n,r){var i=cn.fromTag("iframe");return Ur(i,r),Ur(i,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),Gl(i,"tox-edit-area__iframe"),i},QB=function(e){var t=Od(e)+"<html><head>";Rd(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';var n=Nd(e),r=Ld(e);return Dd(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+Dd(e)+'" />'),t+='</head><body id="'+n+'" class="mce-content-body '+r+'" data-id="'+e.id+'"><br></body></html>',t},eM=function(e,t){var n=e.editorManager.translate("Rich Text Area. Press ALT-0 for help."),r=JB(e.id,n,t.height,Ed(e)).dom();r.onload=function(){r.onload=null,e.fire("load")};var i=YB(e,r);return e.contentAreaContainer=t.iframeContainer,e.iframeElement=r,e.iframeHTML=QB(e),XB.add(t.iframeContainer,r),i},tM=function(e,t){var n=eM(e,t);t.editorContainer&&(XB.get(t.editorContainer).style.display=e.orgDisplay,e.hidden=XB.isHidden(t.editorContainer)),e.getElement().style.display="none",XB.setAttrib(e.id,"aria-hidden","true"),n||qB(e)},nM=fl.DOM,rM=function(e,t,n){var r=MA.get(n),i=MA.urls[n]||e.documentBaseUrl.replace(/\/$/,"");if(n=nn.trim(n),r&&-1===nn.inArray(t,n)){if(nn.each(MA.dependencies(n),(function(n){rM(e,t,n)})),e.plugins[n])return;try{var o=new r(e,i,e.$);e.plugins[n]=o,o.init&&(o.init(e,i),t.push(n))}catch(qF){UA(e,n,qF)}}},iM=function(e){return e.replace(/^\-/,"")},oM=function(e){var t=[];nn.each(Lf(e).split(/[ ,]/),(function(n){rM(e,t,iM(n))}))},aM=function(e){var t=nn.trim(Ud(e)),n=e.ui.registry.getAll().icons,r=Pe(Pe({},wA.get("default").icons),wA.get(t).icons);ge(r,(function(t,r){Se(n,r)||e.ui.registry.addIcon(r,t)}))},sM=function(e){var t=mf(e);if(L(t)){e.settings.theme=iM(t);var n=PA.get(t);e.theme=new n(e,PA.urls[t]),e.theme.init&&e.theme.init(e,PA.urls[t]||e.documentBaseUrl.replace(/\/$/,""),e.$)}else e.theme={}},lM=function(e){return e.theme.renderUI()},cM=function(e){var t=e.getElement(),n=mf(e),r=n(e,t);return r.editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||e.id+"_parent"),r.iframeContainer&&r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||e.id+"_iframecontainer"),r.height=r.iframeHeight?r.iframeHeight:t.offsetHeight,r},uM=function(e){return{editorContainer:e,iframeContainer:e}},dM=function(e){var t=nM.create("div");return nM.insertAfter(t,e),uM(t)},fM=function(e){var t=e.getElement();return e.inline?uM(null):dM(t)},hM=function(e){var t=e.getElement();return e.orgDisplay=t.style.display,L(mf(e))?lM(e):j(mf(e))?cM(e):fM(e)},pM=function(e){e.fire("ScriptsLoaded"),aM(e),sM(e),oM(e);var t=hM(e);return e.editorContainer=t.editorContainer?t.editorContainer:null,JA(e),e.inline?qB(e):tM(e,t)},mM=fl.DOM,gM=function(e){return"-"===e.charAt(0)},vM=function(e,t){var n=nf(t),r=rf(t);if(!1===Dl.hasCode(n)&&"en"!==n){var i=""!==r?r:t.editorManager.baseURL+"/langs/"+n+".js";e.add(i,p,void 0,(function(){ZA(t,i,n)}))}},bM=function(e,t,n,r){var i=mf(t);if(L(i)){if(!gM(i)&&!PA.urls.hasOwnProperty(i)){var o=wf(t);o?PA.load(i,t.documentBaseURI.toAbsolute(o)):PA.load(i,"themes/"+i+"/theme"+n+".js")}e.loadQueue((function(){PA.waitFor(i,r)}))}else r()},yM=function(e){return T.from(qd(e)).filter((function(e){return e.length>0})).map((function(e){return{url:e,name:T.none()}}))},CM=function(e,t,n){return T.from(t).filter((function(e){return e.length>0&&!wA.has(e)})).map((function(t){return{url:e.editorManager.baseURL+"/icons/"+t+"/icons"+n+".js",name:T.some(t)}}))},wM=function(e,t,n){var r=CM(t,"default",n),i=yM(t).orThunk((function(){return CM(t,Ud(t),"")}));q(Wc([r,i]),(function(n){e.add(n.url,p,void 0,(function(){GA(t,n.url,n.name.getOrUndefined())}))}))},xM=function(e,t){nn.each(Df(e),(function(t,n){MA.load(n,t,p,void 0,(function(){KA(e,t,n)})),e.settings.plugins+=" "+n})),nn.each(Lf(e).split(/[ ,]/),(function(n){if(n=nn.trim(n),n&&!MA.urls[n])if(gM(n)){n=n.substr(1,n.length);var r=MA.dependencies(n);nn.each(r,(function(n){var r={prefix:"plugins/",resource:n,suffix:"/plugin"+t+".js"},i=MA.createUrl(r,n);MA.load(i.resource,i,p,void 0,(function(){KA(e,i.prefix+i.resource+i.suffix,i.resource)}))}))}else{var i={prefix:"plugins/",resource:n,suffix:"/plugin"+t+".js"};MA.load(n,i,p,void 0,(function(){KA(e,i.prefix+i.resource+i.suffix,n)}))}}))},IM=function(e,t){var n=Cl.ScriptLoader;bM(n,e,t,(function(){vM(n,e),wM(n,e,t),xM(e,t),n.loadQueue((function(){e.removed||pM(e)}),e,(function(){e.removed||pM(e)}))}))},AM=function(e,t){return nl.forElement(e,{contentCssCors:Nf(t),referrerPolicy:tf(t)})},kM=function(e){var t=e.id;Dl.setCode(nf(e));var r=function(){mM.unbind(n.window,"ready",r),e.render()};if(Go.Event.domLoaded){if(e.getElement()&&Vt.contentEditable){var i=cn.fromDom(e.getElement()),o=Qr(i);e.on("remove",(function(){X(i.dom().attributes,(function(e){return Jr(i,e.name)})),Ur(i,o)})),e.ui.styleSheetLoader=AM(i,e),xf(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");var a=e.getElement().form||mM.getParent(t,"form");a&&(e.formElement=a,If(e)&&!Pr(e.getElement())&&(mM.insertAfter(mM.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=function(t){e.fire(t.type,t)},mM.bind(a,"submit reset",e.formEventDelegate),e.on("reset",(function(){e.resetContent()})),!Af(e)||a.submit.nodeType||a.submit.length||a._mceOldSubmit||(a._mceOldSubmit=a.submit,a.submit=function(){return e.editorManager.triggerSave(),e.setDirty(!1),a._mceOldSubmit(a)})),e.windowManager=jA(e),e.notificationManager=BA(e),kf(e)&&e.on("GetContent",(function(e){e.save&&(e.content=mM.encode(e.content))})),Sf(e)&&e.on("submit",(function(){e.initialized&&e.save()})),_f(e)&&(e._beforeUnload=function(){!e.initialized||e.destroyed||e.isHidden()||e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),IM(e,e.suffix)}}else mM.bind(n.window,"ready",r)},SM=function(e){return j(e)?e:v(!1)},_M=function(e,t,n){var r=e.dom(),i=SM(n);while(r.parentNode){r=r.parentNode;var o=cn.fromDom(r),a=t(o);if(a.isSome())return a;if(i(o))break}return T.none()},TM=function(e,t,n){var r=t(e),i=SM(n);return r.orThunk((function(){return i(e)?T.none():_M(e,t,i)}))},EM={"font-size":"size","font-family":"face"},OM=function(e,t,n){var r=function(t){return ni(t,e).orThunk((function(){return"font"===mn(t)?ke(EM,e).bind((function(e){return Xr(t,e)})):T.none()}))},i=function(e){return Rn(cn.fromDom(t),e)};return TM(cn.fromDom(n),(function(e){return r(e)}),i)},RM=function(e){return e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},NM=function(e,t){return T.from(fl.DOM.getStyle(t,e,!0))},LM=function(e){return function(t,n){return T.from(n).map(cn.fromDom).filter(yn).bind((function(n){return OM(e,t,n.dom()).or(NM(e,n.dom()))})).getOr("")}},DM=LM("font-size"),BM=m(RM,LM("font-family")),MM=function(e){return ep(e.getBody()).map((function(e){var t=e.container();return Fr(t)?t.parentNode:t}))},PM=function(e,t){return e.startContainer===t&&0===e.startOffset},FM=function(e){return T.from(e.selection.getRng()).bind((function(t){var n=e.getBody();return PM(t,n)?T.none():T.from(e.selection.getStart(!0))}))},jM=function(e,t){if(/^[0-9\.]+$/.test(t)){var n=parseInt(t,10);if(n>=1&&n<=7){var r=$d(e),i=Vd(e);return i?i[n-1]||t:r[n-1]||t}return t}return t},HM=function(e){var t=e.split(/\s*,\s*/);return U(t,(function(e){return-1===e.indexOf(" ")||Ct(e,'"')||Ct(e,"'")?e:"'"+e+"'"})).join(",")},zM=function(e,t){var n=jM(e,t);e.formatter.toggle("fontname",{value:HM(n)}),e.nodeChanged()},$M=function(e){return FM(e).fold((function(){return MM(e).map((function(t){return BM(e.getBody(),t)})).getOr("")}),(function(t){return BM(e.getBody(),t)}))},VM=function(e,t){e.formatter.toggle("fontsize",{value:jM(e,t)}),e.nodeChanged()},WM=function(e){return FM(e).fold((function(){return MM(e).map((function(t){return DM(e.getBody(),t)})).getOr("")}),(function(t){return DM(e.getBody(),t)}))},KM=function(e){var t;return"string"!==typeof e?(t=nn.extend({paste:e.paste,data:{paste:e.paste}},e),{content:e.content,details:t}):{content:e,details:{}}},GM=function(e,t){var n=KM(t);yI(e,n.content,n.details)},ZM=function(e,t){e.getDoc().execCommand(t,!1,null)},UM=function(e){qN(e)||fN(e,!1)||gN(e,!1)||IN(e,!1)||LR(e,!1)||Qv(e)||HR(e)||TN(e,!1)||(ZM(e,"Delete"),dR(e))},qM=function(e){fN(e,!0)||gN(e,!0)||IN(e,!0)||LR(e,!0)||Qv(e)||HR(e)||TN(e,!0)||ZM(e,"ForwardDelete")},XM=nn.each,YM=nn.map,JM=nn.inArray,QM=function(){function e(e){this.commands={state:{},exec:{},value:{}},this.editor=e,this.setupCommands(e)}return e.prototype.execCommand=function(e,t,n,r){var i,o=!1,a=this;if(!a.editor.removed){if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(e)||r&&r.skip_focus?xy(a.editor):a.editor.focus(),r=a.editor.fire("BeforeExecCommand",{command:e,ui:t,value:n}),r.isDefaultPrevented())return!1;var s=e.toLowerCase();if(i=a.commands.exec[s])return i(s,t,n),a.editor.fire("ExecCommand",{command:e,ui:t,value:n}),!0;if(XM(this.editor.plugins,(function(r){if(r.execCommand&&r.execCommand(e,t,n))return a.editor.fire("ExecCommand",{command:e,ui:t,value:n}),o=!0,!1})),o)return o;if(a.editor.theme&&a.editor.theme.execCommand&&a.editor.theme.execCommand(e,t,n))return a.editor.fire("ExecCommand",{command:e,ui:t,value:n}),!0;try{o=a.editor.getDoc().execCommand(e,t,n)}catch(l){}return!!o&&(a.editor.fire("ExecCommand",{command:e,ui:t,value:n}),!0)}},e.prototype.queryCommandState=function(e){var t;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(e=e.toLowerCase(),t=this.commands.state[e])return t(e);try{return this.editor.getDoc().queryCommandState(e)}catch(n){}return!1}},e.prototype.queryCommandValue=function(e){var t;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(e=e.toLowerCase(),t=this.commands.value[e])return t(e);try{return this.editor.getDoc().queryCommandValue(e)}catch(n){}}},e.prototype.addCommands=function(e,t){var n=this;t=t||"exec",XM(e,(function(e,r){XM(r.toLowerCase().split(","),(function(r){n.commands[t][r]=e}))}))},e.prototype.addCommand=function(e,t,n){var r=this;e=e.toLowerCase(),this.commands.exec[e]=function(e,i,o,a){return t.call(n||r.editor,i,o,a)}},e.prototype.queryCommandSupported=function(e){if(e=e.toLowerCase(),this.commands.exec[e])return!0;try{return this.editor.getDoc().queryCommandSupported(e)}catch(t){}return!1},e.prototype.addQueryStateHandler=function(e,t,n){var r=this;e=e.toLowerCase(),this.commands.state[e]=function(){return t.call(n||r.editor)}},e.prototype.addQueryValueHandler=function(e,t,n){var r=this;e=e.toLowerCase(),this.commands.value[e]=function(){return t.call(n||r.editor)}},e.prototype.hasCustomCommand=function(e){return e=e.toLowerCase(),!!this.commands.exec[e]},e.prototype.execNativeCommand=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=null),this.editor.getDoc().execCommand(e,t,n)},e.prototype.isFormatMatch=function(e){return this.editor.formatter.match(e)},e.prototype.toggleFormat=function(e,t){this.editor.formatter.toggle(e,t?{value:t}:void 0),this.editor.nodeChanged()},e.prototype.storeSelection=function(e){this.selectionBookmark=this.editor.selection.getBookmark(e)},e.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},e.prototype.setupCommands=function(e){var t=this;this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){e.undoManager.add()},"Cut,Copy,Paste":function(n){var r,i=e.getDoc();try{t.execNativeCommand(n)}catch(a){r=!0}if("paste"!==n||i.queryCommandEnabled(n)||(r=!0),r||!i.queryCommandSupported(n)){var o=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");Vt.mac&&(o=o.replace(/Ctrl\+/g,"⌘+")),e.notificationManager.open({text:o,type:"error"})}},unlink:function(){if(e.selection.isCollapsed()){var t=e.dom.getParent(e.selection.getStart(),"a");t&&e.dom.remove(t,!0)}else e.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(n){var r=n.substring(7);"full"===r&&(r="justify"),XM("left,center,right,justify".split(","),(function(t){r!==t&&e.formatter.remove("align"+t)})),"none"!==r&&t.toggleFormat("align"+r)},"InsertUnorderedList,InsertOrderedList":function(n){var r;t.execNativeCommand(n);var i=e.dom.getParent(e.selection.getNode(),"ol,ul");i&&(r=i.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(r.nodeName)&&(t.storeSelection(),e.dom.split(r,i),t.restoreSelection()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){t.toggleFormat(e)},"ForeColor,HiliteColor":function(e,n,r){t.toggleFormat(e,r)},FontName:function(t,n,r){zM(e,r)},FontSize:function(t,n,r){VM(e,r)},RemoveFormat:function(t){e.formatter.remove(t)},mceBlockQuote:function(){t.toggleFormat("blockquote")},FormatBlock:function(e,n,r){return t.toggleFormat(r||"p")},mceCleanup:function(){var t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},mceRemoveNode:function(n,r,i){var o=i||e.selection.getNode();o!==e.getBody()&&(t.storeSelection(),e.dom.remove(o,!0),t.restoreSelection())},mceSelectNodeDepth:function(t,n,r){var i=0;e.dom.getParent(e.selection.getNode(),(function(t){if(1===t.nodeType&&i++===r)return e.selection.select(t),!1}),e.getBody())},mceSelectNode:function(t,n,r){e.selection.select(r)},mceInsertContent:function(t,n,r){GM(e,r)},mceInsertRawHTML:function(t,n,r){e.selection.setContent("tiny_mce_marker");var i=e.getContent();e.setContent(i.replace(/tiny_mce_marker/g,(function(){return r})))},mceInsertNewLine:function(t,n,r){rD(e,r)},mceToggleFormat:function(e,n,r){t.toggleFormat(r)},mceSetContent:function(t,n,r){e.setContent(r)},"Indent,Outdent":function(t){HN(e,t)},mceRepaint:function(){},InsertHorizontalRule:function(){e.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){e.hasVisual=!e.hasVisual,e.addVisual()},mceReplaceContent:function(t,n,r){e.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceInsertLink:function(t,n,r){"string"===typeof r&&(r={href:r});var i=e.dom.getParent(e.selection.getNode(),"a");r.href=r.href.replace(/ /g,"%20"),i&&r.href||e.formatter.remove("link"),r.href&&e.formatter.apply("link",r,i)},selectAll:function(){var t=e.dom.getParent(e.selection.getStart(),Vr);if(t){var n=e.dom.createRng();n.selectNodeContents(t),e.selection.setRng(n)}},delete:function(){UM(e)},forwardDelete:function(){qM(e)},mceNewDocument:function(){e.setContent("")},InsertLineBreak:function(t,n,r){return HL(e,r),!0}});var n=function(t){return function(){var n=e.selection.isCollapsed()?[e.dom.getParent(e.selection.getNode(),e.dom.isBlock)]:e.selection.getSelectedBlocks(),r=YM(n,(function(n){return!!e.formatter.matchNode(n,t)}));return-1!==JM(r,!0)}};t.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){return t.isFormatMatch(e)},mceBlockQuote:function(){return t.isFormatMatch("blockquote")},Outdent:function(){return MN(e)},"InsertUnorderedList,InsertOrderedList":function(t){var n=e.dom.getParent(e.selection.getNode(),"ul,ol");return n&&("insertunorderedlist"===t&&"UL"===n.tagName||"insertorderedlist"===t&&"OL"===n.tagName)}},"state"),t.addCommands({Undo:function(){e.undoManager.undo()},Redo:function(){e.undoManager.redo()}}),t.addQueryValueHandler("FontName",(function(){return $M(e)}),this),t.addQueryValueHandler("FontSize",(function(){return WM(e)}),this)},e}(),eP="data-mce-contenteditable",tP=function(e,t,n){ql(e,t)&&!1===n?Ul(e,t):n&&Gl(e,t)},nP=function(e,t,n){try{e.getDoc().execCommand(t,!1,n)}catch(r){}},rP=function(e,t){e.dom().contentEditable=t?"true":"false"},iP=function(e){q(Yl(e,'*[contenteditable="true"]'),(function(e){Zr(e,eP,"true"),rP(e,!1)}))},oP=function(e){q(Yl(e,"*["+eP+'="true"]'),(function(e){Jr(e,eP),rP(e,!0)}))},aP=function(e){T.from(e.selection.getNode()).each((function(e){e.removeAttribute("data-mce-selected")}))},sP=function(e){e.selection.setRng(e.selection.getRng())},lP=function(e,t){var n=cn.fromDom(e.getBody());tP(n,"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),aP(e),e.readonly=!0,rP(n,!1),iP(n)):(e.readonly=!1,rP(n,!0),oP(n),nP(e,"StyleWithCSS",!1),nP(e,"enableInlineTableEditing",!1),nP(e,"enableObjectResizing",!1),qy(e)&&e.focus(),sP(e),e.nodeChanged())},cP=function(e){return e.readonly},uP=function(e){e.parser.addAttributeFilter("contenteditable",(function(t){cP(e)&&q(t,(function(e){e.attr(eP,e.attr("contenteditable")),e.attr("contenteditable","false")}))})),e.serializer.addAttributeFilter(eP,(function(t){cP(e)&&q(t,(function(e){e.attr("contenteditable",e.attr(eP))}))})),e.serializer.addTempAttr(eP)},dP=function(e){e.serializer?uP(e):e.on("PreInit",(function(){uP(e)}))},fP=function(e){return"click"===e.type},hP=function(e,t){return null!==e.dom.getParent(t,"a")},pP=function(e,t){var n=t.target;fP(t)&&!dS.metaKeyPressed(t)&&hP(e,n)&&t.preventDefault()},mP=function(e){e.on("ShowCaret",(function(t){cP(e)&&t.preventDefault()})),e.on("ObjectSelected",(function(t){cP(e)&&t.preventDefault()}))},gP=nn.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),vP=function(){function e(e){this.bindings={},this.settings=e||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||x}return e.isNative=function(e){return!!gP[e.toLowerCase()]},e.prototype.fire=function(e,t){e=e.toLowerCase(),t=t||{},t.type=e,t.target||(t.target=this.scope),t.preventDefault||(t.preventDefault=function(){t.isDefaultPrevented=I},t.stopPropagation=function(){t.isPropagationStopped=I},t.stopImmediatePropagation=function(){t.isImmediatePropagationStopped=I},t.isDefaultPrevented=x,t.isPropagationStopped=x,t.isImmediatePropagationStopped=x),this.settings.beforeFire&&this.settings.beforeFire(t);var n=this.bindings[e];if(n)for(var r=0,i=n.length;r<i;r++){var o=n[r];if(o.once&&this.off(e,o.func),t.isImmediatePropagationStopped())return t.stopPropagation(),t;if(!1===o.func.call(this.scope,t))return t.preventDefault(),t}return t},e.prototype.on=function(e,t,n,r){var i,o,a;if(!1===t&&(t=x),t){var s={func:t};r&&nn.extend(s,r),o=e.toLowerCase().split(" "),a=o.length;while(a--)e=o[a],i=this.bindings[e],i||(i=this.bindings[e]=[],this.toggleEvent(e,!0)),n?i.unshift(s):i.push(s)}return this},e.prototype.off=function(e,t){var n,r,i,o,a=this;if(e){i=e.toLowerCase().split(" "),n=i.length;while(n--){if(e=i[n],r=this.bindings[e],!e)return ge(this.bindings,(function(e,t){a.toggleEvent(t,!1),delete a.bindings[t]})),this;if(r){if(t){o=r.length;while(o--)r[o].func===t&&(r=r.slice(0,o).concat(r.slice(o+1)),this.bindings[e]=r)}else r.length=0;r.length||(this.toggleEvent(e,!1),delete this.bindings[e])}}}else ge(this.bindings,(function(e,t){a.toggleEvent(t,!1)})),this.bindings={};return this},e.prototype.once=function(e,t,n){return this.on(e,t,n,{once:!0})},e.prototype.has=function(e){return e=e.toLowerCase(),!(!this.bindings[e]||0===this.bindings[e].length)},e}(),bP=function(e){return e._eventDispatcher||(e._eventDispatcher=new vP({scope:e,toggleEvent:function(t,n){vP.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher},yP={fire:function(e,t,n){var r=this;if(r.removed&&"remove"!==e&&"detach"!==e)return t;var i=bP(r).fire(e,t);if(!1!==n&&r.parent){var o=r.parent();while(o&&!i.isPropagationStopped())o.fire(e,i,!1),o=o.parent()}return i},on:function(e,t,n){return bP(this).on(e,t,n)},off:function(e,t){return bP(this).off(e,t)},once:function(e,t){return bP(this).once(e,t)},hasEventListeners:function(e){return bP(this).has(e)}},CP=fl.DOM,wP=function(e,t){if("selectionchange"===t)return e.getDoc();if(!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t))return e.getDoc().documentElement;var n=hf(e);return n?(e.eventRoot||(e.eventRoot=CP.select(n)[0]),e.eventRoot):e.getBody()},xP=function(e){return!e.hidden&&!cP(e)},IP=function(e,t,n){xP(e)?e.fire(t,n):cP(e)&&pP(e,n)},AP=function(e,t){var n;if(e.delegates||(e.delegates={}),!e.delegates[t]&&!e.removed){var r=wP(e,t);if(hf(e)){if(TE||(TE={},e.editorManager.on("removeEditor",(function(){e.editorManager.activeEditor||TE&&(ge(TE,(function(t,n){e.dom.unbind(wP(e,n))})),TE=null)}))),TE[t])return;n=function(n){var r=n.target,i=e.editorManager.get(),o=i.length;while(o--){var a=i[o].getBody();(a===r||CP.isChildOf(r,a))&&IP(i[o],t,n)}},TE[t]=n,CP.bind(r,t,n)}else n=function(n){IP(e,t,n)},CP.bind(r,t,n),e.delegates[t]=n}},kP=Pe(Pe({},yP),{bindPendingEventDelegates:function(){var e=this;nn.each(e._pendingNativeEvents,(function(t){AP(e,t)}))},toggleNativeEvent:function(e,t){var n=this;"focus"!==e&&"blur"!==e&&(t?n.initialized?AP(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&(n.dom.unbind(wP(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents:function(){var e=this,t=e.getBody(),n=e.dom;e.delegates&&(ge(e.delegates,(function(t,n){e.dom.unbind(wP(e,n),n,t)})),delete e.delegates),!e.inline&&t&&n&&(t.onload=null,n.unbind(e.getWin()),n.unbind(e.getDoc())),n&&(n.unbind(t),n.unbind(e.getContainer()))}}),SP=["design","readonly"],_P=function(e,t,r,i){var o=r[t.get()],a=r[i];try{a.activate()}catch(qF){return void n.console.error("problem while activating editor mode "+i+":",qF)}o.deactivate(),o.editorReadOnly!==a.editorReadOnly&&lP(e,a.editorReadOnly),t.set(i),TI(e,i)},TP=function(e,t,n,r){if(r!==n.get()){if(!Se(t,r))throw new Error("Editor mode '"+r+"' is invalid");e.initialized?_P(e,n,t,r):e.on("init",(function(){return _P(e,n,t,r)}))}},EP=function(e,t,r){var i;if(G(SP,t))throw new Error("Cannot override default mode "+t);return Pe(Pe({},e),(i={},i[t]=Pe(Pe({},r),{deactivate:function(){try{r.deactivate()}catch(qF){n.console.error("problem while deactivating editor mode "+t+":",qF)}}}),i))},OP=function(e){var t=wl("design"),n=wl({design:{activate:p,deactivate:p,editorReadOnly:!1},readonly:{activate:p,deactivate:p,editorReadOnly:!0}});return dP(e),mP(e),{isReadOnly:function(){return cP(e)},set:function(r){return TP(e,n.get(),t,r)},get:function(){return t.get()},register:function(e,t){n.set(EP(n.get(),e,t))}}},RP=nn.each,NP=nn.explode,LP={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},DP=nn.makeMap("alt,ctrl,shift,meta,access"),BP=function(){function e(e){this.shortcuts={},this.pendingPatterns=[],this.editor=e;var t=this;e.on("keyup keypress keydown",(function(e){!t.hasModifier(e)&&!t.isFunctionKey(e)||e.isDefaultPrevented()||(RP(t.shortcuts,(function(n){if(t.matchShortcut(e,n))return t.pendingPatterns=n.subpatterns.slice(0),"keydown"===e.type&&t.executeShortcutAction(n),!0})),t.matchShortcut(e,t.pendingPatterns[0])&&(1===t.pendingPatterns.length&&"keydown"===e.type&&t.executeShortcutAction(t.pendingPatterns[0]),t.pendingPatterns.shift()))}))}return e.prototype.add=function(e,t,n,r){var i=this,o=n;return"string"===typeof o?n=function(){i.editor.execCommand(o,!1,null)}:nn.isArray(o)&&(n=function(){i.editor.execCommand(o[0],o[1],o[2])}),RP(NP(nn.trim(e)),(function(e){var o=i.createShortcut(e,t,n,r);i.shortcuts[o.id]=o})),!0},e.prototype.remove=function(e){var t=this.createShortcut(e);return!!this.shortcuts[t.id]&&(delete this.shortcuts[t.id],!0)},e.prototype.parseShortcut=function(e){var t,n={};RP(NP(e.toLowerCase(),"+"),(function(e){e in DP?n[e]=!0:/^[0-9]{2,}$/.test(e)?n.keyCode=parseInt(e,10):(n.charCode=e.charCodeAt(0),n.keyCode=LP[e]||e.toUpperCase().charCodeAt(0))}));var r=[n.keyCode];for(t in DP)n[t]?r.push(t):n[t]=!1;return n.id=r.join(","),n.access&&(n.alt=!0,Vt.mac?n.ctrl=!0:n.shift=!0),n.meta&&(Vt.mac?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n},e.prototype.createShortcut=function(e,t,n,r){var i=nn.map(NP(e,">"),this.parseShortcut);return i[i.length-1]=nn.extend(i[i.length-1],{func:n,scope:r||this.editor}),nn.extend(i[0],{desc:this.editor.translate(t),subpatterns:i.slice(1)})},e.prototype.hasModifier=function(e){return e.altKey||e.ctrlKey||e.metaKey},e.prototype.isFunctionKey=function(e){return"keydown"===e.type&&e.keyCode>=112&&e.keyCode<=123},e.prototype.matchShortcut=function(e,t){return!!t&&(t.ctrl===e.ctrlKey&&t.meta===e.metaKey&&(t.alt===e.altKey&&t.shift===e.shiftKey&&(!!(e.keyCode===t.keyCode||e.charCode&&e.charCode===t.charCode)&&(e.preventDefault(),!0))))},e.prototype.executeShortcutAction=function(e){return e.func?e.func.call(e.scope):null},e}(),MP=function(){var e={},t={},n={},r={},i={},o={},a={},s=function(e,t){return function(n,r){return e[n.toLowerCase()]=Pe(Pe({},r),{type:t})}},l=function(e,t){return r[e.toLowerCase()]=t};return{addButton:s(e,"button"),addGroupToolbarButton:s(e,"grouptoolbarbutton"),addToggleButton:s(e,"togglebutton"),addMenuButton:s(e,"menubutton"),addSplitButton:s(e,"splitbutton"),addMenuItem:s(t,"menuitem"),addNestedMenuItem:s(t,"nestedmenuitem"),addToggleMenuItem:s(t,"togglemenuitem"),addAutocompleter:s(n,"autocompleter"),addContextMenu:s(i,"contextmenu"),addContextToolbar:s(o,"contexttoolbar"),addContextForm:s(o,"contextform"),addSidebar:s(a,"sidebar"),addIcon:l,getAll:function(){return{buttons:e,menuItems:t,icons:r,popups:n,contextMenus:i,contextToolbars:o,sidebars:a}}}},PP=function(){var e=MP();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,getAll:e.getAll}},FP=nn.each,jP=nn.trim,HP="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),zP={ftp:21,http:80,https:443,mailto:25},$P=function(){function e(t,r){t=jP(t),this.settings=r||{};var i=this.settings.base_uri,o=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t))o.source=t;else{var a=0===t.indexOf("//");if(0!==t.indexOf("/")||a||(t=(i&&i.protocol||"http")+"://mce_host"+t),!/^[\w\-]*:?\/\//.test(t)){var s=this.settings.base_uri?this.settings.base_uri.path:new e(n.document.location.href).directory;if(this.settings.base_uri&&""==this.settings.base_uri.protocol)t="//mce_host"+o.toAbsPath(s,t);else{var l=/([^#?]*)([#?]?.*)/.exec(t);t=(i&&i.protocol||"http")+"://mce_host"+o.toAbsPath(s,l[1])+l[2]}}t=t.replace(/@@/g,"(mce_at)");var c=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);FP(HP,(function(e,t){var n=c[t];n&&(n=n.replace(/\(mce_at\)/g,"@@")),o[e]=n})),i&&(o.protocol||(o.protocol=i.protocol),o.userInfo||(o.userInfo=i.userInfo),o.port||"mce_host"!==o.host||(o.port=i.port),o.host&&"mce_host"!==o.host||(o.host=i.host),o.source=""),a&&(o.protocol="")}}return e.parseDataUri=function(e){var t,n=decodeURIComponent(e).split(","),r=/data:([^;]+)/.exec(n[0]);return r&&(t=r[1]),{type:t,data:n[1]}},e.getDocumentBaseUrl=function(e){var t;return t=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?e.href:e.protocol+"//"+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),t},e.prototype.setPath=function(e){var t=/^(.*?)\/?(\w+)?$/.exec(e);this.path=t[0],this.directory=t[1],this.file=t[2],this.source="",this.getURI()},e.prototype.toRelative=function(t){var n;if("./"===t)return t;var r=new e(t,{base_uri:this});if("mce_host"!==r.host&&this.host!==r.host&&r.host||this.port!==r.port||this.protocol!==r.protocol&&""!==r.protocol)return r.getURI();var i=this.getURI(),o=r.getURI();return i===o||"/"===i.charAt(i.length-1)&&i.substr(0,i.length-1)===o?i:(n=this.toRelPath(this.path,r.path),r.query&&(n+="?"+r.query),r.anchor&&(n+="#"+r.anchor),n)},e.prototype.toAbsolute=function(t,n){var r=new e(t,{base_uri:this});return r.getURI(n&&this.isSameOrigin(r))},e.prototype.isSameOrigin=function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;var t=zP[this.protocol];if(t&&(this.port||t)==(e.port||t))return!0}return!1},e.prototype.toRelPath=function(e,t){var n,r,i=0,o="",a=e.substring(0,e.lastIndexOf("/")).split("/"),s=t.split("/");if(a.length>=s.length)for(n=0,r=a.length;n<r;n++)if(n>=s.length||a[n]!==s[n]){i=n+1;break}if(a.length<s.length)for(n=0,r=s.length;n<r;n++)if(n>=a.length||a[n]!==s[n]){i=n+1;break}if(1===i)return t;for(n=0,r=a.length-(i-1);n<r;n++)o+="../";for(n=i-1,r=s.length;n<r;n++)o+=n!==i-1?"/"+s[n]:s[n];return o},e.prototype.toAbsPath=function(e,t){var n,r,i=0,o=[],a=/\/$/.test(t)?"/":"",s=e.split("/"),l=t.split("/");for(FP(s,(function(e){e&&o.push(e)})),s=o,n=l.length-1,o=[];n>=0;n--)0!==l[n].length&&"."!==l[n]&&(".."!==l[n]?i>0?i--:o.push(l[n]):i++);return n=s.length-i,r=n<=0?se(o).join("/"):s.slice(0,n).join("/")+"/"+se(o).join("/"),0!==r.indexOf("/")&&(r="/"+r),a&&r.lastIndexOf("/")!==r.length-1&&(r+=a),r},e.prototype.getURI=function(e){var t;return void 0===e&&(e=!1),this.source&&!e||(t="",e||(this.protocol?t+=this.protocol+"://":t+="//",this.userInfo&&(t+=this.userInfo+"@"),this.host&&(t+=this.host),this.port&&(t+=":"+this.port)),this.path&&(t+=this.path),this.query&&(t+="?"+this.query),this.anchor&&(t+="#"+this.anchor),this.source=t),this.source},e}(),VP=fl.DOM,WP=nn.extend,KP=nn.each,GP=nn.resolve,ZP=Vt.ie,UP=function(){function e(e,t,n){var r=this;this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=n,this.documentBaseUrl=n.documentBaseURL,WP(this,kP),this.settings=mA(this,e,this.documentBaseUrl,n.defaultSettings,t),this.settings.suffix&&(n.suffix=this.settings.suffix),this.suffix=n.suffix,this.settings.base_url&&n._setBaseUrl(this.settings.base_url),this.baseUri=n.baseURI,this.settings.referrer_policy&&(Cl.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),fl.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),Ml.languageLoad=this.settings.language_load,Ml.baseURL=n.baseURL,this.id=e,this.setDirty(!1),this.documentBaseURI=new $P(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new BP(this),this.editorCommands=new QM(this),this.settings.cache_suffix&&(Vt.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:PP(),styleSheetLoader:void 0};var i=this,o=OP(i);this.mode=o,this.setMode=o.set,n.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=xs.overrideDefaults((function(){return{context:r.inline?r.getBody():r.getDoc(),element:r.getBody()}}))}return e.prototype.render=function(){kM(this)},e.prototype.focus=function(e){Jy(this,e)},e.prototype.hasFocus=function(){return Uy(this)},e.prototype.execCallback=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r,i=this,o=i.settings[e];if(o)return i.callbackLookup&&(r=i.callbackLookup[e])&&(o=r.func,r=r.scope),"string"===typeof o&&(r=o.replace(/\.\w+$/,""),r=r?GP(r):0,o=GP(o),i.callbackLookup=i.callbackLookup||{},i.callbackLookup[e]={func:o,scope:r}),o.apply(r||i,t)},e.prototype.translate=function(e){return Dl.translate(e)},e.prototype.getParam=function(e,t,n){return yA(this,e,t,n)},e.prototype.nodeChanged=function(e){this._nodeChangeDispatcher.nodeChanged(e)},e.prototype.addCommand=function(e,t,n){this.editorCommands.addCommand(e,t,n)},e.prototype.addQueryStateHandler=function(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)},e.prototype.addQueryValueHandler=function(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)},e.prototype.addShortcut=function(e,t,n,r){this.shortcuts.add(e,t,n,r)},e.prototype.execCommand=function(e,t,n,r){return this.editorCommands.execCommand(e,t,n,r)},e.prototype.queryCommandState=function(e){return this.editorCommands.queryCommandState(e)},e.prototype.queryCommandValue=function(e){return this.editorCommands.queryCommandValue(e)},e.prototype.queryCommandSupported=function(e){return this.editorCommands.queryCommandSupported(e)},e.prototype.show=function(){var e=this;e.hidden&&(e.hidden=!1,e.inline?e.getBody().contentEditable="true":(VP.show(e.getContainer()),VP.hide(e.id)),e.load(),e.fire("show"))},e.prototype.hide=function(){var e=this,t=e.getDoc();e.hidden||(ZP&&t&&!e.inline&&t.execCommand("SelectAll"),e.save(),e.inline?(e.getBody().contentEditable="false",e===e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(VP.hide(e.getContainer()),VP.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.fire("hide"))},e.prototype.isHidden=function(){return!!this.hidden},e.prototype.setProgressState=function(e,t){this.fire("ProgressState",{state:e,time:t})},e.prototype.load=function(e){var t,n=this,r=n.getElement();if(n.removed)return"";if(r){e=e||{},e.load=!0;var i=Pr(r)?r.value:r.innerHTML;return t=n.setContent(i,e),e.element=r,e.no_events||n.fire("LoadContent",e),e.element=r=null,t}},e.prototype.save=function(e){var t,n,r=this,i=r.getElement();if(i&&r.initialized&&!r.removed)return e=e||{},e.save=!0,e.element=i,t=e.content=r.getContent(e),e.no_events||r.fire("SaveContent",e),"raw"===e.format&&r.fire("RawSaveContent",e),t=e.content,Pr(i)?i.value=t:(!e.is_removing&&r.inline||(i.innerHTML=t),(n=VP.getParent(r.id,"form"))&&KP(n.elements,(function(e){if(e.name===r.id)return e.value=t,!1}))),e.element=i=null,!1!==e.set_dirty&&r.setDirty(!1),t},e.prototype.setContent=function(e,t){return II(this,e,t)},e.prototype.getContent=function(e){return xI(this,e)},e.prototype.insertContent=function(e,t){t&&(e=WP({content:e},t)),this.execCommand("mceInsertContent",!1,e)},e.prototype.resetContent=function(e){void 0===e?II(this,this.startContent,{format:"raw"}):II(this,e),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},e.prototype.isDirty=function(){return!this.isNotDirty},e.prototype.setDirty=function(e){var t=!this.isNotDirty;this.isNotDirty=!e,e&&e!==t&&this.fire("dirty")},e.prototype.getContainer=function(){var e=this;return e.container||(e.container=VP.get(e.editorContainer||e.id+"_parent")),e.container},e.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},e.prototype.getElement=function(){return this.targetElm||(this.targetElm=VP.get(this.id)),this.targetElm},e.prototype.getWin=function(){var e,t=this;return t.contentWindow||(e=t.iframeElement,e&&(t.contentWindow=e.contentWindow)),t.contentWindow},e.prototype.getDoc=function(){var e,t=this;return t.contentDocument||(e=t.getWin(),e&&(t.contentDocument=e.document)),t.contentDocument},e.prototype.getBody=function(){var e=this.getDoc();return this.bodyElement||(e?e.body:null)},e.prototype.convertURL=function(e,t,n){var r=this,i=r.settings;return i.urlconverter_callback?r.execCallback("urlconverter_callback",e,n,!0,t):!i.convert_urls||n&&"LINK"===n.nodeName||0===e.indexOf("file:")||0===e.length?e:i.relative_urls?r.documentBaseURI.toRelative(e):(e=r.documentBaseURI.toAbsolute(e,i.remove_script_host),e)},e.prototype.addVisual=function(e){var t,n=this,r=n.settings,i=n.dom;e=e||n.getBody(),void 0===n.hasVisual&&(n.hasVisual=r.visual),KP(i.select("table,a",e),(function(e){var o;switch(e.nodeName){case"TABLE":return t=r.visual_table_class||"mce-item-table",o=i.getAttrib(e,"border"),void(o&&"0"!==o||!n.hasVisual?i.removeClass(e,t):i.addClass(e,t));case"A":return void(i.getAttrib(e,"href")||(o=i.getAttrib(e,"name")||e.id,t=r.visual_anchor_class||"mce-item-anchor",o&&n.hasVisual?i.addClass(e,t):i.removeClass(e,t)))}})),n.fire("VisualAid",{element:e,hasVisual:n.hasVisual})},e.prototype.remove=function(){zI(this)},e.prototype.destroy=function(e){$I(this,e)},e.prototype.uploadImages=function(e){return this.editorUpload.uploadImages(e)},e.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},e.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},e.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},e.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},e.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},e}(),qP=fl.DOM,XP=nn.explode,YP=nn.each,JP=nn.extend,QP=0,eF=!1,tF=[],nF=[],rF=function(e){return"length"!==e},iF=function(e){var t=e.type;YP(cF.get(),(function(n){switch(t){case"scroll":n.fire("ScrollWindow",e);break;case"resize":n.fire("ResizeWindow",e);break}}))},oF=function(e){e!==eF&&(e?xs(window).on("resize scroll",iF):xs(window).off("resize scroll",iF),eF=e)},aF=function(e){var t=nF;delete tF[e.id];for(var n=0;n<tF.length;n++)if(tF[n]===e){tF.splice(n,1);break}return nF=J(nF,(function(t){return e!==t})),cF.activeEditor===e&&(cF.activeEditor=nF.length>0?nF[0]:null),cF.focusedEditor===e&&(cF.focusedEditor=null),t.length!==nF.length},sF=function(e){return e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(aF(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null),e},lF="CSS1Compat"!==n.document.compatMode,cF=Pe(Pe({},yP),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:xs,majorVersion:"5",minorVersion:"4.1",releaseDate:"2020-07-08",editors:tF,i18n:Dl,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var e,t,r=this,i="";t=$P.getDocumentBaseUrl(n.document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/"));var o=window.tinymce||window.tinyMCEPreInit;if(o)e=o.base||o.baseURL,i=o.suffix;else{for(var a=n.document.getElementsByTagName("script"),s=0;s<a.length;s++){var l=a[s].src||"";if(""!==l){var c=l.substring(l.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(l)){-1!==c.indexOf(".min")&&(i=".min"),e=l.substring(0,l.lastIndexOf("/"));break}}}if(!e&&n.document.currentScript){l=n.document.currentScript.src;-1!==l.indexOf(".min")&&(i=".min"),e=l.substring(0,l.lastIndexOf("/"))}}r.baseURL=new $P(t).toAbsolute(e),r.documentBaseURL=t,r.baseURI=new $P(r.baseURL),r.suffix=i,Fy(r)},overrideDefaults:function(e){var t=e.base_url;t&&this._setBaseUrl(t);var n=e.suffix;e.suffix&&(this.suffix=n),this.defaultSettings=e;var r=e.plugin_base_urls;void 0!==r&&ge(r,(function(e,t){Ml.PluginManager.urls[t]=e}))},init:function(e){var t,r=this,i=nn.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),o=function(e,t){return e.inline&&t.tagName.toLowerCase()in i},a=function(e){var t=e.id;return t||(t=ke(e,"name").filter((function(e){return!qP.get(e)})).getOrThunk(qP.uniqueId),e.setAttribute("id",t)),t},s=function(t){var n=e[t];if(n)return n.apply(r,Array.prototype.slice.call(arguments,2))},l=function(e,t){return t.constructor===RegExp?t.test(e.className):qP.hasClass(e,t)},c=function(e){var t=[];if(Vt.browser.isIE()&&Vt.browser.version.major<11)return qA("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(lF)return qA("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(e.types)return YP(e.types,(function(e){t=t.concat(qP.select(e.selector))})),t;if(e.selector)return qP.select(e.selector);if(e.target)return[e.target];switch(e.mode){case"exact":var r=e.elements||"";r.length>0&&YP(XP(r),(function(e){var r=qP.get(e);r?t.push(r):YP(n.document.forms,(function(n){YP(n.elements,(function(n){n.name===e&&(e="mce_editor_"+QP++,qP.setAttrib(n,"id",e),t.push(n))}))}))}));break;case"textareas":case"specific_textareas":YP(qP.select("textarea"),(function(n){e.editor_deselector&&l(n,e.editor_deselector)||e.editor_selector&&!l(n,e.editor_selector)||t.push(n)}));break}return t},u=function(e){t=e},d=function(){var t,n=0,i=[],l=function(e,o,a){var s=new UP(e,o,r);i.push(s),s.on("init",(function(){++n===t.length&&u(i)})),s.targetElm=s.targetElm||a,s.render()};qP.unbind(window,"ready",d),s("onpageload"),t=xs.unique(c(e)),e.types?YP(e.types,(function(n){nn.each(t,(function(t){return!qP.is(t,n.selector)||(l(a(t),JP({},e,n),t),!1)}))})):(nn.each(t,(function(e){sF(r.get(e.id))})),t=nn.grep(t,(function(e){return!r.get(e.id)})),0===t.length?u([]):YP(t,(function(t){o(e,t)?qA("Could not initialize inline editor on invalid inline target element",t):l(a(t),e,t)})))};return r.settings=e,qP.bind(window,"ready",d),new Gs((function(e){t?e(t):u=function(t){e(t)}}))},get:function(e){return 0===arguments.length?nF.slice(0):L(e)?ne(nF,(function(t){return t.id===e})).getOr(null):H(e)&&nF[e]?nF[e]:null},add:function(e){var t=this,n=tF[e.id];return n===e||(null===t.get(e.id)&&(rF(e.id)&&(tF[e.id]=e),tF.push(e),nF.push(e)),oF(!0),t.activeEditor=e,t.fire("AddEditor",{editor:e}),EE||(EE=function(e){var n=t.fire("BeforeUnload");if(n.returnValue)return e.preventDefault(),e.returnValue=n.returnValue,n.returnValue},window.addEventListener("beforeunload",EE))),e},createEditor:function(e,t){return this.add(new UP(e,t,this))},remove:function(e){var t,n,r=this;if(e){if(!L(e))return n=e,M(r.get(n.id))?null:(aF(n)&&r.fire("RemoveEditor",{editor:n}),0===nF.length&&window.removeEventListener("beforeunload",EE),n.remove(),oF(nF.length>0),n);YP(qP.select(e),(function(e){n=r.get(e.id),n&&r.remove(n)}))}else for(t=nF.length-1;t>=0;t--)r.remove(nF[t])},execCommand:function(e,t,n){var r=this,i=r.get(n);switch(e){case"mceAddEditor":return r.get(n)||new UP(n,r.settings,r).render(),!0;case"mceRemoveEditor":return i&&i.remove(),!0;case"mceToggleEditor":return i?(i.isHidden()?i.show():i.hide(),!0):(r.execCommand("mceAddEditor",0,n),!0)}return!!r.activeEditor&&r.activeEditor.execCommand(e,t,n)},triggerSave:function(){YP(nF,(function(e){e.save()}))},addI18n:function(e,t){Dl.add(e,t)},translate:function(e){return Dl.translate(e)},setActive:function(e){var t=this.activeEditor;this.activeEditor!==e&&(t&&t.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl:function(e){this.baseURL=new $P(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new $P(this.baseURL)}});function uF(e){var t=function(t,n){return lm(e,t,n)},n=uC,r=function(t){return tS(e,t).fold(v(!1),(function(e){return t.setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset),!0}))};return{walk:t,split:n,normalize:r}}cF.setup(),function(e){e.compareRanges=Vk,e.getCaretRangeFromPoint=Dk,e.getSelectedNode=nu,e.getNode=ru}(uF||(uF={}));var dF,fF,hF=uF,pF=function(e,t,r){void 0===r&&(r=1e3);var i=!1,o=null,a=function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];i||(i=!0,null!==o&&(n.clearTimeout(o),o=null),e.apply(null,t))}},s=a(e),l=a(t),c=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];i||null!==o||(o=n.setTimeout((function(){return l.apply(null,e)}),r))};return{start:c,resolve:s,reject:l}},mF=function(){var e={},t={},n=function(n,r){var i='Script at URL "'+r+'" failed to load',o='Script at URL "'+r+"\" did not call `tinymce.Resource.add('"+n+"', data)` within 1 second";if(void 0!==e[n])return e[n];var a=new Gs((function(e,a){var s=pF(e,a);t[n]=s.resolve,Cl.ScriptLoader.loadScript(r,(function(){return s.start(o)}),(function(){return s.reject(i)}))}));return e[n]=a,a},r=function(n,r){void 0!==t[n]&&(t[n](r),delete t[n]),e[n]=Gs.resolve(r)};return{load:n,add:r}},gF=mF(),vF=Math.min,bF=Math.max,yF=Math.round,CF=function(e,t,n){var r=t.x,i=t.y,o=e.w,a=e.h,s=t.w,l=t.h;return n=(n||"").split(""),"b"===n[0]&&(i+=l),"r"===n[1]&&(r+=s),"c"===n[0]&&(i+=yF(l/2)),"c"===n[1]&&(r+=yF(s/2)),"b"===n[3]&&(i-=a),"r"===n[4]&&(r-=o),"c"===n[3]&&(i-=yF(a/2)),"c"===n[4]&&(r-=yF(o/2)),kF(r,i,o,a)},wF=function(e,t,n,r){var i,o;for(o=0;o<r.length;o++)if(i=CF(e,t,r[o]),i.x>=n.x&&i.x+i.w<=n.w+n.x&&i.y>=n.y&&i.y+i.h<=n.h+n.y)return r[o];return null},xF=function(e,t,n){return kF(e.x-t,e.y-n,e.w+2*t,e.h+2*n)},IF=function(e,t){var n=bF(e.x,t.x),r=bF(e.y,t.y),i=vF(e.x+e.w,t.x+t.w),o=vF(e.y+e.h,t.y+t.h);return i-n<0||o-r<0?null:kF(n,r,i-n,o-r)},AF=function(e,t,n){var r=e.x,i=e.y,o=e.x+e.w,a=e.y+e.h,s=t.x+t.w,l=t.y+t.h,c=bF(0,t.x-r),u=bF(0,t.y-i),d=bF(0,o-s),f=bF(0,a-l);return r+=c,i+=u,n&&(o+=c,a+=u,r-=d,i-=f),o-=d,a-=f,kF(r,i,o-r,a-i)},kF=function(e,t,n,r){return{x:e,y:t,w:n,h:r}},SF=function(e){return kF(e.left,e.top,e.width,e.height)},_F={inflate:xF,relativePosition:CF,findBestRelativePosition:wF,intersect:IF,clamp:AF,create:kF,fromClientRect:SF},TF=nn.each,EF=nn.extend,OF=function(){};OF.extend=dF=function(e){var t=this,n=t.prototype,r=function(){var e,t,n,r=this;if(!fF&&(r.init&&r.init.apply(r,arguments),t=r.Mixins,t)){e=t.length;while(e--)n=t[e],n.init&&n.init.apply(r,arguments)}},i=function(){return this},o=function(e,t){return function(){var r=this,i=r._super;r._super=n[e];var o=t.apply(r,arguments);return r._super=i,o}};fF=!0;var a=new t;return fF=!1,e.Mixins&&(TF(e.Mixins,(function(t){for(var n in t)"init"!==n&&(e[n]=t[n])})),n.Mixins&&(e.Mixins=n.Mixins.concat(e.Mixins))),e.Methods&&TF(e.Methods.split(","),(function(t){e[t]=i})),e.Properties&&TF(e.Properties.split(","),(function(t){var n="_"+t;e[t]=function(e){var t=this;return void 0!==e?(t[n]=e,t):t[n]}})),e.Statics&&TF(e.Statics,(function(e,t){r[t]=e})),e.Defaults&&n.Defaults&&(e.Defaults=EF({},n.Defaults,e.Defaults)),ge(e,(function(e,t){"function"===typeof e&&n[t]?a[t]=o(t,e):a[t]=e})),r.prototype=a,r.constructor=r,r.extend=dF,r};var RF,NF=Math.min,LF=Math.max,DF=Math.round,BF=function(e){var t={},n=0,r=0,i=0,o=function(e,t,n){var r,i,o;r=0,i=0,o=0,e/=255,t/=255,n/=255;var a=NF(e,NF(t,n)),s=LF(e,LF(t,n));if(a===s)return o=a,{h:0,s:0,v:100*o};var l=e===a?t-n:n===a?e-t:n-e;return r=e===a?3:n===a?1:5,r=60*(r-l/(s-a)),i=(s-a)/s,o=s,{h:DF(r),s:DF(100*i),v:DF(100*o)}},a=function(e,t,o){if(e=(parseInt(e,10)||0)%360,t=parseInt(t,10)/100,o=parseInt(o,10)/100,t=LF(0,NF(t,1)),o=LF(0,NF(o,1)),0!==t){var a=e/60,s=o*t,l=s*(1-Math.abs(a%2-1)),c=o-s;switch(Math.floor(a)){case 0:n=s,r=l,i=0;break;case 1:n=l,r=s,i=0;break;case 2:n=0,r=s,i=l;break;case 3:n=0,r=l,i=s;break;case 4:n=l,r=0,i=s;break;case 5:n=s,r=0,i=l;break;default:n=r=i=0}n=DF(255*(n+c)),r=DF(255*(r+c)),i=DF(255*(i+c))}else n=r=i=DF(255*o)},s=function(){var e=function(e){return e=parseInt(e,10).toString(16),e.length>1?e:"0"+e};return"#"+e(n)+e(r)+e(i)},l=function(){return{r:n,g:r,b:i}},c=function(){return o(n,r,i)},u=function(e){var o;return"object"===typeof e?"r"in e?(n=e.r,r=e.g,i=e.b):"v"in e&&a(e.h,e.s,e.v):(o=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(e))?(n=parseInt(o[1],10),r=parseInt(o[2],10),i=parseInt(o[3],10)):(o=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e))?(n=parseInt(o[1],16),r=parseInt(o[2],16),i=parseInt(o[3],16)):(o=/#([0-F])([0-F])([0-F])/gi.exec(e))&&(n=parseInt(o[1]+o[1],16),r=parseInt(o[2]+o[2],16),i=parseInt(o[3]+o[3],16)),n=n<0?0:n>255?255:n,r=r<0?0:r>255?255:r,i=i<0?0:i>255?255:i,t};return e&&u(e),t.toRgb=l,t.toHsv=c,t.toHex=s,t.parse=u,t},MF=function(e){var t=JSON.stringify(e);return L(t)?t.replace(/[\u0080-\uFFFF]/g,(function(e){var t=e.charCodeAt(0).toString(16);return"\\u"+"0000".substring(t.length)+t})):t},PF={serialize:MF,parse:function(e){try{return JSON.parse(e)}catch(t){}}},FF={callbacks:{},count:0,send:function(e){var t=this,n=fl.DOM,r=void 0!==e.count?e.count:t.count,i="tinymce_jsonp_"+r;t.callbacks[r]=function(o){n.remove(i),delete t.callbacks[r],e.callback(o)},n.add(n.doc.body,"script",{id:i,src:e.url,type:"text/javascript"}),t.count++}},jF=Pe(Pe({},yP),{send:function(e){var t,r=0,i=function(){!e.async||4===t.readyState||r++>1e4?(e.success&&r<1e4&&200===t.status?e.success.call(e.success_scope,""+t.responseText,t,e):e.error&&e.error.call(e.error_scope,r>1e4?"TIMED_OUT":"GENERAL",t,e),t=null):Qs.setTimeout(i,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=!1!==e.async,e.data=e.data||"",jF.fire("beforeInitialize",{settings:e}),t=new n.XMLHttpRequest,t){if(t.overrideMimeType&&t.overrideMimeType(e.content_type),t.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(t.withCredentials=!0),e.content_type&&t.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&nn.each(e.requestheaders,(function(e){t.setRequestHeader(e.key,e.value)})),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t=jF.fire("beforeSend",{xhr:t,settings:e}).xhr,t.send(e.data),!e.async)return i();Qs.setTimeout(i,10)}}}),HF=nn.extend,zF=function(){function e(e){this.settings=HF({},e),this.count=0}return e.sendRPC=function(t){return(new e).send(t)},e.prototype.send=function(e){var t=e.error,n=e.success,r=HF(this.settings,e);r.success=function(e,i){e=PF.parse(e),"undefined"===typeof e&&(e={error:"JSON Parse error."}),e.error?t.call(r.error_scope||r.scope,e.error,i):n.call(r.success_scope||r.scope,e.result)},r.error=function(e,n){t&&t.call(r.error_scope||r.scope,e,n)},r.data=PF.serialize({id:e.id||"c"+this.count++,method:e.method,params:e.params}),r.content_type="application/json",jF.send(r)},e}(),$F=function(){return function(){var e={},t=[],n={getItem:function(t){var n=e[t];return n||null},setItem:function(n,r){t.push(n),e[n]=String(r)},key:function(e){return t[e]},removeItem:function(n){t=t.filter((function(e){return e===n})),delete e[n]},clear:function(){t=[],e={}},length:0};return Object.defineProperty(n,"length",{get:function(){return t.length},configurable:!1,enumerable:!1}),n}()};try{var VF="__storage_test__";RF=n.window.localStorage,RF.setItem(VF,VF),RF.removeItem(VF)}catch(qF){RF=$F()}var WF=RF,KF={geom:{Rect:_F},util:{Promise:Gs,Delay:Qs,Tools:nn,VK:dS,URI:$P,Class:OF,EventDispatcher:vP,Observable:yP,I18n:Dl,XHR:jF,JSON:PF,JSONRequest:zF,JSONP:FF,LocalStorage:WF,Color:BF},dom:{EventUtils:Go,Sizzle:Oa,DomQuery:xs,TreeWalker:Is,TextSeeker:Ac,DOMUtils:fl,ScriptLoader:Cl,RangeUtils:hF,Serializer:f_,StyleSheetLoader:el,ControlSelection:mS,BookmarkManager:cS,Selection:wS,Event:Go.Event},html:{Styles:Do,Entities:Ji,Node:Hm,Schema:co,SaxParser:tg,DomParser:QS,Writer:$m,Serializer:Vm},Env:Vt,AddOnManager:Ml,Annotator:Dm,Formatter:M_,UndoManager:j_,EditorCommands:QM,WindowManager:jA,NotificationManager:BA,EditorObservable:kP,Shortcuts:BP,Editor:UP,FocusManager:Ay,EditorManager:cF,DOM:fl.DOM,ScriptLoader:Cl.ScriptLoader,PluginManager:Ml.PluginManager,ThemeManager:Ml.ThemeManager,IconManager:wA,Resource:gF,trim:nn.trim,isArray:nn.isArray,is:nn.is,toArray:nn.toArray,makeMap:nn.makeMap,each:nn.each,map:nn.map,grep:nn.grep,inArray:nn.inArray,extend:nn.extend,create:nn.create,walk:nn.walk,createNS:nn.createNS,resolve:nn.resolve,explode:nn.explode,_addCacheSuffix:nn._addCacheSuffix,isOpera:Vt.opera,isWebKit:Vt.webkit,isIE:Vt.ie,isGecko:Vt.gecko,isMac:Vt.mac},GF=nn.extend(cF,KF),ZF=function(t){try{e.exports=t}catch(n){}},UF=function(e){window.tinymce=e,window.tinyMCE=e};UF(GF),ZF(GF)})(window)}).call(this,n("c8ba"))},e57a:function(e,t,n){"use strict";var r=n("67e6"),i=n.n(r);i.a},e5ab:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:e.title,width:800,visible:e.visible,confirmLoading:e.confirmLoading,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-row",{attrs:{gutter:{xs:8,sm:16,md:24,lg:32}}},[n("a-col",{attrs:{span:12}},[n("a-form-item",{staticStyle:{"margin-right":"-35px"},attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"模板CODE"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["templateCode",e.validatorRules.templateCode],expression:"['templateCode', validatorRules.templateCode ]"}],attrs:{disabled:e.disable,placeholder:"请输入模板编码"}})],1)],1),n("a-col",{attrs:{span:12}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"模板类型"}},[n("j-dict-select-tag",{directives:[{name:"decorator",rawName:"v-decorator",value:["templateType",e.validatorRules.templateType],expression:"['templateType', validatorRules.templateType ]"}],attrs:{triggerChange:!0,dictCode:"msgType",placeholder:"请选择模板类型"},on:{change:e.handleChangeTemplateType}})],1)],1)],1),n("a-row",{staticClass:"form-row",attrs:{gutter:24}},[n("a-col",{attrs:{span:24,pull:"2"}},[n("a-form-item",{staticStyle:{"margin-left":"-15px"},attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"模板标题"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["templateName",e.validatorRules.templateName],expression:"['templateName', validatorRules.templateName]"}],staticStyle:{width:"122%"},attrs:{placeholder:"请输入模板标题"}})],1)],1)],1),n("a-row",{staticClass:"form-row",attrs:{gutter:24}},[n("a-col",{attrs:{span:24,pull:"4"}},[n("a-form-item",{directives:[{name:"show",rawName:"v-show",value:!e.useEditor,expression:"!useEditor"}],staticStyle:{"margin-left":"4px",width:"126%"},attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"模板内容"}},[n("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["templateContent",e.validatorRules.templateContent],expression:"['templateContent', validatorRules.templateContent ]"}],attrs:{placeholder:"请输入模板内容",autosize:{minRows:8,maxRows:8}}})],1)],1)],1),n("a-row",{staticClass:"form-row",attrs:{gutter:24}},[n("a-col",{attrs:{span:24,pull:"4"}},[n("a-form-item",{directives:[{name:"show",rawName:"v-show",value:e.useEditor,expression:"useEditor"}],staticStyle:{"margin-left":"4px",width:"126%"},attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"模板内容"}},[n("j-editor",{model:{value:e.templateEditorContent,callback:function(t){e.templateEditorContent=t},expression:"templateEditorContent"}})],1)],1)],1)],1)],1)],1)},i=[],o=n("0fea"),a=n("88bc"),s=n.n(a),l=n("4ec3"),c=n("a061"),u={name:"SysMessageTemplateModal",components:{JEditor:c["default"]},data:function(){return{title:"操作",visible:!1,disable:!0,model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{templateCode:{rules:[{required:!0,message:"请输入模板CODE!"},{validator:this.validateTemplateCode}]},templateName:{rules:[{required:!0,message:"请输入模板标题!"}]},templateContent:{rules:[]},templateType:{rules:[{required:!0,message:"请输入模板类型!"}]}},url:{add:"/message/sysMessageTemplate/add",edit:"/message/sysMessageTemplate/edit"},useEditor:!1,templateEditorContent:""}},created:function(){},methods:{add:function(){this.disable=!1,this.edit({})},edit:function(e){var t=this;this.form.resetFields(),this.model=Object.assign({},e),this.useEditor=2==e.templateType||4==e.templateType,this.useEditor?this.templateEditorContent=e.templateContent:this.templateEditorContent="",this.visible=!0,this.$nextTick((function(){t.useEditor?t.form.setFieldsValue(s()(t.model,"templateCode","templateName","templateTestJson","templateType")):t.form.setFieldsValue(s()(t.model,"templateCode","templateContent","templateName","templateTestJson","templateType"))}))},close:function(){this.$emit("close"),this.visible=!1,this.disable=!0},handleOk:function(){var e=this;this.model.templateType=this.templateType;var t=this;this.form.validateFields((function(n,r){if(!n){t.confirmLoading=!0;var i="",a="";e.model.id?(i+=e.url.edit,a="put"):(i+=e.url.add,a="post");var s=Object.assign(e.model,r);e.useEditor&&(s.templateContent=e.templateEditorContent),Object(o["h"])(i,s,a).then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}}))},validateTemplateCode:function(e,t,n){var r={tableName:"sys_sms_template",fieldName:"template_code",fieldVal:t,dataId:this.model.id};Object(l["m"])(r).then((function(e){e.success?n():n(e.message)}))},handleCancel:function(){this.close()},handleChangeTemplateType:function(e){this.useEditor=2==e||4==e}}},d=u,f=n("2877"),h=Object(f["a"])(d,r,i,!1,null,"c72c3d3e",null);t["default"]=h.exports},e610:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-upload",{attrs:{name:"file",listType:"picture-card",multiple:e.isMultiple,action:e.uploadAction,headers:e.headers,data:{biz:e.bizPath},fileList:e.fileList,beforeUpload:e.beforeUpload,disabled:e.disabled,isMultiple:e.isMultiple,showUploadList:e.isMultiple},on:{change:e.handleChange,preview:e.handlePreview}},[!e.isMultiple&&e.picUrl?n("img",{staticStyle:{height:"104px","max-width":"300px"},attrs:{src:e.getAvatarView()}}):n("div",[n("a-icon",{attrs:{type:e.uploadLoading?"loading":"plus"}}),n("div",{staticClass:"ant-upload-text"},[e._v(e._s(e.text))])],1),n("a-modal",{attrs:{visible:e.previewVisible,footer:null},on:{cancel:function(t){return e.handleCancel()}}},[n("img",{staticStyle:{width:"100%"},attrs:{alt:"example",src:e.previewImage}})])],1)},i=[],o=n("2b0e"),a=n("9fb0"),s=n("0fea"),l=function(){return"-"+parseInt(1e4*Math.random()+1,10)},c=function(e){if(e.lastIndexOf("\\")>=0){var t=new RegExp("\\\\","g");e=e.replace(t,"/")}return e.substring(e.lastIndexOf("/")+1)},u={name:"JImageUpload",data:function(){return{uploadAction:window._CONFIG["domianURL"]+"/sys/common/upload",uploadLoading:!1,picUrl:!1,headers:{},fileList:[],previewImage:"",previewVisible:!1}},props:{text:{type:String,required:!1,default:"上传"},bizPath:{type:String,required:!1,default:"temp"},value:{type:[String,Array],required:!1},disabled:{type:Boolean,required:!1,default:!1},isMultiple:{type:Boolean,required:!1,default:!1}},watch:{value:function(e){e instanceof Array?this.initFileList(e.join(",")):this.initFileList(e),e&&0!=e.length||(this.picUrl=!1)}},created:function(){var e=o["default"].ls.get(a["a"]);this.headers={"X-Access-Token":e}},methods:{initFileList:function(e){if(e&&0!=e.length){this.picUrl=!0;for(var t=[],n=e.split(","),r=0;r<n.length;r++){var i=Object(s["d"])(n[r]);t.push({uid:l(),name:c(n[r]),status:"done",url:i,response:{status:"history",message:n[r]}})}this.fileList=t}else this.fileList=[]},beforeUpload:function(e){var t=e.type;if(t.indexOf("image")<0)return this.$message.warning("请上传图片"),!1},handleChange:function(e){this.picUrl=!1;var t=e.fileList;"done"===e.file.status?e.file.response.success&&(this.picUrl=!0,t=t.map((function(e){return e.response&&(e.url=e.response.message),e}))):"error"===e.file.status?this.$message.error("".concat(e.file.name," 上传失败.")):"removed"===e.file.status&&this.handleDelete(e.file),this.fileList=t,"done"!==e.file.status&&"removed"!==e.file.status||this.handlePathChange()},handlePreview:function(e){this.previewImage=e.url||e.thumbUrl,this.previewVisible=!0},getAvatarView:function(){if(this.fileList.length>0){var e=this.fileList[0].url;return Object(s["d"])(e)}},handlePathChange:function(){var e=this.fileList,t="";e&&0!=e.length||(t="");var n=[];if(this.isMultiple)for(var r=0;r<e.length;r++)n.push(e[r].response.message);else n.push(e[e.length-1].response.message);n.length>0&&(t=n.join(",")),this.$emit("change",t)},handleDelete:function(e){},handleCancel:function(){this.close(),this.previewVisible=!1},close:function(){}},model:{prop:"value",event:"change"}},d=u,f=n("2877"),h=Object(f["a"])(d,r,i,!1,null,"699acc90",null);t["default"]=h.exports},e636:function(e,t,n){},e659:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{style:{padding:"0 50px 32px 0"}},[n("h4",{style:{marginBottom:"20px"}},[e._v(e._s(e.title))]),n("v-chart",{attrs:{forceFit:!0,height:e.height,data:e.data,scale:e.scale,padding:e.padding,onClick:e.handleClick}},[n("v-tooltip"),n("v-legend"),n("v-axis"),n("v-bar",{attrs:{position:"type*bar"}}),n("v-line",{attrs:{position:"type*line",color:"#2fc25b",size:3}})],1)],1)},i=[],o=n("c917"),a={name:"BarAndLine",mixins:[o["a"]],props:{title:{type:String,default:""},dataSource:{type:Array,default:function(){return[{type:"10:10",bar:200,line:1e3},{type:"10:15",bar:600,line:1e3},{type:"10:20",bar:200,line:1e3},{type:"10:25",bar:900,line:1e3},{type:"10:30",bar:200,line:1e3},{type:"10:35",bar:200,line:1e3},{type:"10:40",bar:100,line:1e3}]}},height:{type:Number,default:400}},data:function(){return{padding:{top:50,right:50,bottom:100,left:50},scale:[{dataKey:"bar",min:0},{dataKey:"line",min:0}]}},computed:{data:function(){return this.dataSource}}},s=a,l=n("2877"),c=Object(l["a"])(s,r,i,!1,null,null,null);t["default"]=c.exports},e6b8:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("iframe",{attrs:{id:e.id,src:e.url,frameborder:"0",width:"100%",height:"800px",scrolling:"auto"}})},i=[],o=n("2b0e"),a=n("9fb0"),s=(n("b445"),n("501f"),{name:"IframePageContent",inject:["closeCurrent"],data:function(){return{url:"",id:""}},created:function(){this.goUrl()},updated:function(){this.goUrl()},watch:{$route:function(e,t){this.goUrl()}},methods:{goUrl:function(){var e=this.$route.meta.url,t=this.$route.path;if(this.id=t,null!==e&&void 0!==e&&(this.url=e,void 0!=this.$route.meta.internalOrExternal&&1==this.$route.meta.internalOrExternal)){this.closeCurrent();var n="${token}";if(-1!=e.indexOf(n)){var r=o["default"].ls.get(a["a"]);this.url=e.replace(n,r)}window.open(this.url)}}}}),l=s,c=n("2877"),u=Object(c["a"])(l,r,i,!1,null,null,null);t["default"]=u.exports},e8b0:function(e,t){(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(e){return e},n=function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)},r="\ufeff",i=function(e){return e.replace(/\uFEFF/g,"")},o="[!-#%-*,-\\/:;?@\\[-\\]_{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]",a={aletter:"[A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-׳ؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆༀཀ-ཇཉ-ཬྈ-ྌႠ-Ⴥა-ჺჼᄀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᨀ-ᨖᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᯀ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⒶ-ⓩⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⴀ-ⴥⴰ-ⵥⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〻〼ㄅ-ㄭㄱ-ㆎㆠ-ㆺꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐꞑꞠ-ꞩꟺ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]",midnumlet:"[-'\\.‘’․﹒＇．]",midletter:"[:··״‧︓﹕：]",midnum:"[±+*/,;;։،؍٬߸⁄︐︔﹐﹔，；]",numeric:"[0-9٠-٩٫۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꩐-꩙꯰-꯹]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ऀ-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣஂா-ூெ-ைொ-்ௗఁ-ఃా-ౄె-ైొ-్ౕౖౢౣಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣംഃാ-ൄെ-ൈൊ-്ൗൢൣංඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ູົຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳា-៓៝᠋-᠍ᢩᤠ-ᤫᤰ-᤻ᦰ-ᧀᧈᧉᨗ-ᨛᩕ-ᩞ᩠-᩿᩼ᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-᯦᮪-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭ᳲ᷀-ᷦ᷼-᷿‌‍⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲꙼꙽꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-꣄꣠-꣱ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꨩ-ꨶꩃꩌꩍꩻꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︦ﾞﾟ]",format:"[­؀-؃۝܏឴឵‎‏‪-‮⁠-⁤⁪-⁯\ufeff￹-￻]",katakana:"[〱-〵゛゜゠-ヺー-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ﾝ]",extendnumlet:"[=_‿⁀⁔︳︴﹍-﹏＿∀-⋿<>]",punctuation:o},s={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},l=[new RegExp(a.aletter),new RegExp(a.midnumlet),new RegExp(a.midletter),new RegExp(a.midnum),new RegExp(a.numeric),new RegExp(a.cr),new RegExp(a.lf),new RegExp(a.newline),new RegExp(a.extend),new RegExp(a.format),new RegExp(a.katakana),new RegExp(a.extendnumlet),new RegExp("@")],c="",u=new RegExp("^"+a.punctuation+"$"),d=/^\s+$/,f=function(e,t){for(var n=e.length,r=new Array(n),i=0;i<n;i++){var o=e[i];r[i]=t(o,i)}return r},h=l,p=s.OTHER,m=function(e){for(var t=p,n=h.length,r=0;r<n;++r){var i=h[r];if(i&&i.test(e)){t=r;break}}return t},g=function(e){var t={};return function(n){if(t[n])return t[n];var r=e(n);return t[n]=r,r}},v=function(e){var t=g(m);return f(e,t)},b=function(e,t){var n=e[t],r=e[t+1];if(t<0||t>e.length-1&&0!==t)return!1;if(n===s.ALETTER&&r===s.ALETTER)return!1;var i=e[t+2];if(n===s.ALETTER&&(r===s.MIDLETTER||r===s.MIDNUMLET||r===s.AT)&&i===s.ALETTER)return!1;var o=e[t-1];return(n!==s.MIDLETTER&&n!==s.MIDNUMLET&&r!==s.AT||r!==s.ALETTER||o!==s.ALETTER)&&((n!==s.NUMERIC&&n!==s.ALETTER||r!==s.NUMERIC&&r!==s.ALETTER)&&((n!==s.MIDNUM&&n!==s.MIDNUMLET||r!==s.NUMERIC||o!==s.NUMERIC)&&((n!==s.NUMERIC||r!==s.MIDNUM&&r!==s.MIDNUMLET||i!==s.NUMERIC)&&(n!==s.EXTEND&&n!==s.FORMAT&&o!==s.EXTEND&&o!==s.FORMAT&&r!==s.EXTEND&&r!==s.FORMAT&&((n!==s.CR||r!==s.LF)&&(n===s.NEWLINE||n===s.CR||n===s.LF||(r===s.NEWLINE||r===s.CR||r===s.LF||(n!==s.KATAKANA||r!==s.KATAKANA)&&((r!==s.EXTENDNUMLET||n!==s.ALETTER&&n!==s.NUMERIC&&n!==s.KATAKANA&&n!==s.EXTENDNUMLET)&&((n!==s.EXTENDNUMLET||r!==s.ALETTER&&r!==s.NUMERIC&&r!==s.KATAKANA)&&n!==s.AT)))))))))},y=c,C=d,w=u,x=function(e){return"http"===e||"https"===e},I=function(e,t){var n;for(n=t;n<e.length;n++)if(C.test(e[n]))break;return n},A=function(e,t){var n=I(e,t+1),r=e.slice(t+1,n).join(y);return"://"===r.substr(0,3)?n:t},k=function(e,t,n,r){for(var i=[],o=[],a=0;a<n.length;++a)if(o.push(e[a]),b(n,a)){var s=t[a];if((r.includeWhitespace||!C.test(s))&&(r.includePunctuation||!w.test(s))){var l=a-o.length+1,c=a+1,u=t.slice(l,c).join(y);if(x(u)){var d=A(t,a),f=e.slice(c,d);Array.prototype.push.apply(o,f),a=d}i.push(o)}o=[]}return i},S=function(){return{includeWhitespace:!1,includePunctuation:!1}},_=function(e,t,i){i=n(n({},S()),i);for(var o=[],a=[],s=0;s<e.length;s++){var l=t(e[s]);l!==r&&(o.push(e[s]),a.push(l))}var c=v(a);return k(o,a,c,i)},T=_,E=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),O=function(e,t){var n=t.getBlockElements(),r=t.getShortEndedElements(),o=function(e){return n[e.nodeName]||r[e.nodeName]},a=[],s="",l=new E(e,e);while(e=l.next())3===e.nodeType?s+=i(e.data):o(e)&&s.length&&(a.push(s),s="");return s.length&&a.push(s),a},R=function(e){return e.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length},N=function(e,n){var r=O(e,n).join("\n");return T(r.split(""),t).length},L=function(e,t){var n=O(e,t).join("");return R(n)},D=function(e,t){var n=O(e,t).join("").replace(/\s/g,"");return R(n)},B=function(e,t){return function(){return t(e.getBody(),e.schema)}},M=function(e,t){return function(){return t(e.selection.getRng().cloneContents(),e.schema)}},P=function(e){return B(e,N)},F=function(e){return{body:{getWordCount:P(e),getCharacterCount:B(e,L),getCharacterCountWithoutSpaces:B(e,D)},selection:{getWordCount:M(e,N),getCharacterCount:M(e,L),getCharacterCountWithoutSpaces:M(e,D)},getCount:P(e)}},j=tinymce.util.Tools.resolve("tinymce.util.Delay"),H=function(e,t){e.fire("wordCountUpdate",{wordCount:{words:t.body.getWordCount(),characters:t.body.getCharacterCount(),charactersWithoutSpaces:t.body.getCharacterCountWithoutSpaces()}})},z=function(e,t){H(e,t)},$=function(e,t,n){var r=j.debounce((function(){return z(e,t)}),n);e.on("init",(function(){z(e,t),j.setEditorTimeout(e,(function(){e.on("SetContent BeforeAddUndo Undo Redo keyup",r)}),0)}))},V=function(e,t){e.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(t.body.getWordCount()),String(t.selection.getWordCount())],["Characters (no spaces)",String(t.body.getCharacterCountWithoutSpaces()),String(t.selection.getCharacterCountWithoutSpaces())],["Characters",String(t.body.getCharacterCount()),String(t.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},W=function(e,t){e.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:function(){return V(e,t)}}),e.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:function(){return V(e,t)}})};function K(t){void 0===t&&(t=300),e.add("wordcount",(function(e){var n=F(e);return W(e,n),$(e,n,t),n}))}K()})()},e8c4:function(e,t,n){"use strict";var r=n("372e"),i=n("c832"),o=n.n(i);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t["a"]={data:function(){return{needTotalList:[],selectedRows:[],selectedRowKeys:[],localLoading:!1,localDataSource:[],localPagination:Object.assign({},r["a"].props.pagination)}},props:Object.assign({},r["a"].props,{rowKey:{type:[String,Function],default:"id"},data:{type:Function,required:!0},pageNum:{type:Number,default:1},pageSize:{type:Number,default:10},showSizeChanger:{type:Boolean,default:!0},showAlertInfo:{type:Boolean,default:!1},showPagination:{default:"auto"}}),watch:{"localPagination.current":function(e){this.$router.push({name:this.$route.name,params:Object.assign({},this.$route.params,{pageNo:e})})},pageNum:function(e){Object.assign(this.localPagination,{current:e})},pageSize:function(e){Object.assign(this.localPagination,{pageSize:e})},showSizeChanger:function(e){Object.assign(this.localPagination,{showSizeChanger:e})}},created:function(){this.localPagination=["auto",!0].includes(this.showPagination)&&Object.assign({},this.localPagination,{current:this.pageNum,pageSize:this.pageSize,showSizeChanger:this.showSizeChanger}),this.needTotalList=this.initTotalList(this.columns),this.loadData()},methods:{refresh:function(){this.loadData()},loadData:function(e,t,n){var r=this;this.localLoading=!0;var i=this.data(Object.assign({pageNo:e&&e.current||this.localPagination.current,pageSize:e&&e.pageSize||this.localPagination.pageSize},n&&n.field&&{sortField:n.field}||{},n&&n.order&&{sortOrder:n.order}||{},s({},t)));i instanceof Promise&&i.then((function(t){r.localPagination=Object.assign({},r.localPagination,{current:t.pageNo,total:t.totalCount,showSizeChanger:r.showSizeChanger,pageSize:e&&e.pageSize||r.localPagination.pageSize}),!t.totalCount&&["auto",!1].includes(r.showPagination)&&(r.localPagination=!1),r.localDataSource=t.data,r.localLoading=!1}))},initTotalList:function(e){var t=[];return e&&e instanceof Array&&e.forEach((function(e){e.needTotal&&t.push(s(s({},e),{},{total:0}))})),t},updateSelect:function(e,t){this.selectedRowKeys=e,this.selectedRows=t;var n=this.needTotalList;this.needTotalList=n.map((function(e){return s(s({},e),{},{total:t.reduce((function(t,n){var r=t+o()(n,e.dataIndex);return isNaN(r)?0:r}),0)})}))},updateEdit:function(){this.selectedRows=[]},onClearSelected:function(){this.selectedRowKeys=[],this.selectedRows=[],this.updateSelect([],[]),this.$emit("clearAll")},renderMsg:function(e){var t=this,n=[];return n.push(e("span",{style:{marginRight:"12px"}},["已选择 ",e("a",{style:{fontWeight:600}},this.selectedRows.length)])),this.needTotalList.map((function(t){n.push(e("span",{style:{marginRight:"12px"}},["".concat(t.title,"总计 "),e("a",{style:{fontWeight:600}},"".concat(t.customRender?t.customRender(t.total):t.total))]))})),n.push(e("a",{style:{marginLeft:"24px"},on:{click:t.onClearSelected}},"清空")),n},renderAlert:function(e){return e("span",{slot:"message"},this.renderMsg(e))}},render:function(e){var t=this,n={},i=Object.keys(this.$data);return Object.keys(r["a"].props).forEach((function(e){var r="local".concat(e.substring(0,1).toUpperCase()).concat(e.substring(1));return i.includes(r)?n[e]=t[r]:n[e]=t[e]})),this.showAlertInfo?(n.rowSelection={selectedRowKeys:this.selectedRowKeys,onChange:function(e,n){t.updateSelect(e,n),t.$emit("onSelect",{selectedRowKeys:e,selectedRows:n})}},e("div",{},[e("a-alert",{style:{marginBottom:"16px"},props:{type:"info",showIcon:!0}},[t.renderAlert(e)]),e("a-table",{tag:"component",attrs:n,on:{change:t.loadData},scopedSlots:this.$scopedSlots},this.$slots.default)])):e("a-table",{tag:"component",attrs:n,on:{change:t.loadData},scopedSlots:this.$scopedSlots},this.$slots.default)}}},e92e:function(e,t,n){},ea4e:function(e,t,n){},eb0c:function(e,t,n){(function(e){e(n("56b3"))})((function(e){"use strict";e.multiplexingMode=function(t){var n=Array.prototype.slice.call(arguments,1);function r(e,t,n,r){if("string"==typeof t){var i=e.indexOf(t,n);return r&&i>-1?i+t.length:i}var o=t.exec(n?e.slice(n):e);return o?o.index+n+(r?o[0].length:0):-1}return{startState:function(){return{outer:e.startState(t),innerActive:null,inner:null}},copyState:function(n){return{outer:e.copyState(t,n.outer),innerActive:n.innerActive,inner:n.innerActive&&e.copyState(n.innerActive.mode,n.inner)}},token:function(i,o){if(o.innerActive){var a=o.innerActive;c=i.string;if(!a.close&&i.sol())return o.innerActive=o.inner=null,this.token(i,o);f=a.close?r(c,a.close,i.pos,a.parseDelimiters):-1;if(f==i.pos&&!a.parseDelimiters)return i.match(a.close),o.innerActive=o.inner=null,a.delimStyle&&a.delimStyle+" "+a.delimStyle+"-close";f>-1&&(i.string=c.slice(0,f));var s=a.mode.token(i,o.inner);return f>-1&&(i.string=c),f==i.pos&&a.parseDelimiters&&(o.innerActive=o.inner=null),a.innerStyle&&(s=s?s+" "+a.innerStyle:a.innerStyle),s}for(var l=1/0,c=i.string,u=0;u<n.length;++u){var d=n[u],f=r(c,d.open,i.pos);if(f==i.pos){d.parseDelimiters||i.match(d.open),o.innerActive=d;var h=0;if(t.indent){var p=t.indent(o.outer,"","");p!==e.Pass&&(h=p)}return o.inner=e.startState(d.mode,h),d.delimStyle&&d.delimStyle+" "+d.delimStyle+"-open"}-1!=f&&f<l&&(l=f)}l!=1/0&&(i.string=c.slice(0,l));var m=t.token(i,o.outer);return l!=1/0&&(i.string=c),m},indent:function(n,r,i){var o=n.innerActive?n.innerActive.mode:t;return o.indent?o.indent(n.innerActive?n.inner:n.outer,r,i):e.Pass},blankLine:function(r){var i=r.innerActive?r.innerActive.mode:t;if(i.blankLine&&i.blankLine(r.innerActive?r.inner:r.outer),r.innerActive)"\n"===r.innerActive.close&&(r.innerActive=r.inner=null);else for(var o=0;o<n.length;++o){var a=n[o];"\n"===a.open&&(r.innerActive=a,r.inner=e.startState(a.mode,i.indent?i.indent(r.outer,"",""):0))}},electricChars:t.electricChars,innerMode:function(e){return e.inner?{state:e.inner,mode:e.innerActive.mode}:{state:e.outer,mode:t}}}}}))},eb9c:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{width:1e3,title:e.title,visible:e.innerVisible,cancelText:"关闭",okButtonProps:{style:{display:"none"}}},on:{cancel:e.handleCancel}},[n("a-alert",{staticStyle:{"margin-bottom":"16px"},attrs:{type:"info",showIcon:""}},[n("template",{slot:"message"},[n("span",[e._v("已选择")]),n("a",{staticStyle:{"font-weight":"600",padding:"0 4px"}},[e._v(e._s(e.selectedRowKeys.length))]),n("span",[e._v("项")]),e.selectedRowKeys.length>0?[n("a-divider",{attrs:{type:"vertical"}}),n("a",{on:{click:e.handleClearSelection}},[e._v("清空选择")]),n("a-divider",{attrs:{type:"vertical"}}),n("a",{on:{click:e.handleRevertBatch}},[e._v("批量还原")]),n("a-divider",{attrs:{type:"vertical"}}),n("a",{on:{click:e.handleDeleteBatch}},[e._v("批量删除")])]:e._e()],2)],2),n("a-table",{ref:"table",attrs:{rowKey:"id",size:"middle",bordered:"",columns:e.columns,loading:e.loading,dataSource:e.dataSource,pagination:!1,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.handleTableSelectChange}},scopedSlots:e._u([{key:"avatarslot",fn:function(t,r,i){return[n("div",{staticClass:"anty-img-wrap"},[n("a-avatar",{attrs:{shape:"square",src:e.url.getAvatar(r.avatar),icon:"user"}})],1)]}},{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleRevert([r.id])}}},[n("a-icon",{attrs:{type:"redo"}}),e._v(" 还原用户")],1),n("a-divider",{attrs:{type:"vertical"}}),n("a",{on:{click:function(t){return e.handleDelete([r.id])}}},[n("a-icon",{attrs:{type:"delete"}}),e._v(" 彻底删除")],1)],1)}}])})],1)},i=[],o=n("0fea");function a(e){var t=this;this.loading=!!e.loading,e.promise.then((function(t){if(!t.success||"function"!==typeof e.success)throw new Error(t.message);e.success(t)})).catch((function(e){t.$message.warning("查询已删除的用户失败："+(e.message||e))})).finally((function(){t.loading=!1}))}var s={name:"UserRecycleBinModal",props:{visible:{type:Boolean,default:!1}},data:function(){return{title:"用户回收站",loading:!1,innerVisible:!1,selectedRowKeys:[],dataSource:[],columns:[{title:"#",align:"center",key:"rowIndex",width:80,customRender:function(e,t,n){return n+1}},{title:"账号",align:"center",dataIndex:"username"},{title:"姓名",align:"center",dataIndex:"realname"},{title:"头像",align:"center",dataIndex:"avatar",scopedSlots:{customRender:"avatarslot"}},{title:"部门",align:"center",dataIndex:"orgCode"},{title:"操作",align:"center",dataIndex:"action",width:200,scopedSlots:{customRender:"action"}}],url:{getAvatar:function(e){return Object(o["d"])("".concat(e))},recycleBin:"/sys/user/recycleBin",putRecycleBin:"/sys/user/putRecycleBin",deleteRecycleBin:"/sys/user/deleteRecycleBin"}}},watch:{visible:{immediate:!0,handler:function(e){e&&this.loadData(),this.innerVisible=e}},innerVisible:function(e){this.$emit("update:visible",e)}},methods:{loadData:function(){var e=this;a.call(this,{loading:!0,promise:this.$http.get(this.url.recycleBin),success:function(t){return e.dataSource=t.result}})},handleOk:function(){this.loadData(),this.$emit("ok")},handleCancel:function(){this.innerVisible=!1},handleRevert:function(e){var t=this;this.$confirm({title:"恢复用户",content:"您确定要恢复这 ".concat(e.length," 个用户吗？"),centered:!0,onOk:function(){Object(o["j"])(t.url.putRecycleBin,{userIds:e.join(",")}).then((function(n){n.success&&(t.handleOk(),t.handleClearSelection(),t.$message.success("还原 ".concat(e.length," 个用户成功！")))}))}})},handleDelete:function(e){var t=this,n=this.$createElement;this.$confirm({title:"彻底删除用户",content:n("div",[n("p",["您确定要彻底删除这 ",e.length," 个用户吗？"]),n("p",{style:"color:red;"},["注意：彻底删除后将无法恢复，请谨慎操作！"])]),centered:!0,onOk:function(){var n=t;Object(o["a"])(n.url.deleteRecycleBin,{userIds:e.join(",")}).then((function(r){r.success?(t.loadData(),t.handleClearSelection(),t.$message.success("彻底删除 ".concat(e.length," 个用户成功！"))):n.$message.warning(r.message)}))}})},handleRevertBatch:function(){this.handleRevert(this.selectedRowKeys)},handleDeleteBatch:function(){this.handleDelete(this.selectedRowKeys)},handleClearSelection:function(){this.handleTableSelectChange([],[])},handleTableSelectChange:function(e,t){this.selectedRowKeys=e,this.selectionRows=t}}},l=s,c=n("2877"),u=Object(c["a"])(l,r,i,!1,null,"36eb7e79",null);t["default"]=u.exports},ebd5:function(e,t,n){},ebd6:function(e,t,n){},ebfa:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-skeleton",{attrs:{active:"",loading:e.loading,paragraph:{rows:17}}},[n("a-card",[n("a-row",{attrs:{gutter:8}},[n("a-col",{attrs:{sm:24,xl:12}},[n("area-chart-ty",e._b({},"area-chart-ty",e.memory,!1))],1),n("a-col",{attrs:{sm:24,xl:12}},[n("area-chart-ty",e._b({},"area-chart-ty",e.key,!1))],1)],1),n("h3",[e._v("Redis 详细信息")]),n("a-table",{attrs:{loading:e.tableLoading,columns:e.columns,dataSource:e.redisInfo,pagination:!1}})],1)],1)},i=[],o=n("c1df"),a=n.n(o),s=n("0fea"),l=n("f552");function c(e,t){return p(e)||h(e,t)||d(e,t)||u()}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(e,t){if(e){if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0)if(n.push(a.value),t&&n.length===t)break}catch(l){i=!0,o=l}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw o}}return n}}function p(e){if(Array.isArray(e))return e}var m={name:"RedisInfo",components:{AreaChartTy:l["default"]},data:function(){return{loading:!0,tableLoading:!0,timer:null,millisec:3e3,key:{title:"Radis Key 实时数量（个）",dataSource:[],y:"数量（个）",height:340,min:0,max:100,color:"#FF6987",lineSize:8,lineColor:"#DC143C"},memory:{title:"Radis 内存实时占用情况（KB）",dataSource:[],y:"内存（KB）",min:0,max:3e3,height:340,lineSize:8},redisInfo:[],columns:[{title:"Key",align:"center",dataIndex:"key"},{title:"Description",align:"left",dataIndex:"description"},{title:"Value",align:"center",dataIndex:"value"}],url:{keysSize:"/actuator/redis/keysSize",memoryInfo:"/actuator/redis/memoryInfo",info:"/actuator/redis/info"},path:"/monitor/redis/info"}},mounted:function(){var e=this;this.openTimer(),this.loadRedisInfo(),setTimeout((function(){e.loadData()}),1e3)},beforeDestroy:function(){this.closeTimer()},methods:{openTimer:function(){var e=this;this.loadData(),this.closeTimer(),this.timer=setInterval((function(){e.$route.path===e.path&&e.loadData()}),this.millisec)},closeTimer:function(){this.timer&&clearInterval(this.timer)},loadData:function(){var e=this;Promise.all([Object(s["c"])(this.url.keysSize),Object(s["c"])(this.url.memoryInfo)]).then((function(t){var n=a()().format("hh:mm:ss"),r=c(t,2),i=r[0].dbSize,o=r[1],s=o.used_memory/1e3;e.key.dataSource.push({x:n,y:i}),e.memory.dataSource.push({x:n,y:s}),e.key.dataSource.length>6&&(e.key.dataSource.splice(0,1),e.memory.dataSource.splice(0,1));var l=e.getMaxAndMin(e.key.dataSource,"y");e.key.max=Math.floor(l[0])+10,e.key.min=Math.floor(l[1])-10,e.key.min<0&&(e.key.min=0);var u=e.getMaxAndMin(e.memory.dataSource,"y");e.memory.max=Math.floor(u[0])+100,e.memory.min=Math.floor(u[1])-100,e.memory.min<0&&(e.memory.min=0)})).catch((function(t){e.closeTimer(),e.$message.error("获取 Redis 信息失败")})).finally((function(){e.loading=!1}))},getMaxAndMin:function(e,t){var n=null,r=null;return e.forEach((function(e){var i=Number.parseInt(e[t]);(null==n||i>n)&&(n=i),(null==r||i<r)&&(r=i)})),[n,r]},loadRedisInfo:function(){var e=this;this.tableLoading=!0,Object(s["c"])(this.url.info).then((function(t){e.redisInfo=t.result})).finally((function(){e.tableLoading=!1}))}}},g=m,v=n("2877"),b=Object(v["a"])(g,r,i,!1,null,null,null);t["default"]=b.exports},ec27:function(e,t,n){n("fc39")},ed2a:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:e.title,width:1200,visible:e.visible,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:6}},[n("a-form-item",{attrs:{label:"账号"}},[n("a-input",{attrs:{placeholder:"请输入账号"},model:{value:e.queryParam.username,callback:function(t){e.$set(e.queryParam,"username",t)},expression:"queryParam.username"}})],1)],1),n("a-col",{attrs:{span:6}},[n("a-form-item",{attrs:{label:"性别"}},[n("a-select",{attrs:{placeholder:"请选择性别"},model:{value:e.queryParam.sex,callback:function(t){e.$set(e.queryParam,"sex",t)},expression:"queryParam.sex"}},[n("a-select-option",{attrs:{value:""}},[e._v("请选择性别查询")]),n("a-select-option",{attrs:{value:"1"}},[e._v("男性")]),n("a-select-option",{attrs:{value:"2"}},[e._v("女性")])],1)],1)],1),e.toggleSearchStatus?[n("a-col",{attrs:{span:6}},[n("a-form-item",{attrs:{label:"邮箱"}},[n("a-input",{attrs:{placeholder:"请输入邮箱"},model:{value:e.queryParam.email,callback:function(t){e.$set(e.queryParam,"email",t)},expression:"queryParam.email"}})],1)],1),n("a-col",{attrs:{span:6}},[n("a-form-item",{attrs:{label:"手机号码"}},[n("a-input",{attrs:{placeholder:"请输入手机号码"},model:{value:e.queryParam.phone,callback:function(t){e.$set(e.queryParam,"phone",t)},expression:"queryParam.phone"}})],1)],1),n("a-col",{attrs:{span:6}},[n("a-form-item",{attrs:{label:"状态"}},[n("a-select",{attrs:{placeholder:"请选择状态"},model:{value:e.queryParam.status,callback:function(t){e.$set(e.queryParam,"status",t)},expression:"queryParam.status"}},[n("a-select-option",{attrs:{value:""}},[e._v("请选择状态")]),n("a-select-option",{attrs:{value:"1"}},[e._v("正常")]),n("a-select-option",{attrs:{value:"2"}},[e._v("解冻")])],1)],1)],1)]:e._e(),n("a-col",{attrs:{span:6}},[n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchByquery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")]),n("a",{staticStyle:{"margin-left":"8px"},on:{click:e.handleToggleSearch}},[e._v("\n                "+e._s(e.toggleSearchStatus?"收起":"展开")+"\n                "),n("a-icon",{attrs:{type:e.toggleSearchStatus?"up":"down"}})],1)],1)])],2)],1)],1),n("a-table",{ref:"table",attrs:{rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange,onSelect:e.onSelect}},on:{change:e.handleTableChange}})],1)},i=[],o=n("ca00"),a=n("4ec3"),s={name:"SelectUserListModal",components:{},data:function(){return{title:"选择用户",queryParam:{},columns:[{title:"用户账号",align:"center",dataIndex:"username",fixed:"left",width:200},{title:"用户名称",align:"center",dataIndex:"realname"},{title:"性别",align:"center",dataIndex:"sex",customRender:function(e){return 1==e?"男":2==e?"女":e}},{title:"手机号码",align:"center",dataIndex:"phone"},{title:"邮箱",align:"center",dataIndex:"email"},{title:"状态",align:"center",dataIndex:"status",customRender:function(e){return 1==e?"正常":2==e?"冻结":e}}],dataSource:[],ipagination:{current:1,pageSize:5,pageSizeOptions:["5","10","20"],showTotal:function(e,t){return t[0]+"-"+t[1]+" 共"+e+"条"},showQuickJumper:!0,showSizeChanger:!0,total:0},isorter:{column:"createTime",order:"desc"},selectedRowKeys:[],selectionRows:[],visible:!1,toggleSearchStatus:!1}},created:function(){this.loadData()},methods:{add:function(e,t){this.visible=!0,this.edit(e,t)},edit:function(e,t){if(t&&t.length>0?this.selectedRowKeys=t.split(","):this.selectedRowKeys=[],e){var n=this;n.selectionRows=[],e.forEach((function(e,t){n.selectionRows.push({id:n.selectedRowKeys[t],realname:e.label})}))}else this.selectionRows=[]},loadData:function(e){var t=this;1===e&&(this.ipagination.current=1);var n=this.getQueryParams();Object(a["A"])(n).then((function(e){e.success&&(t.dataSource=e.result.records,t.ipagination.total=e.result.total)}))},getQueryParams:function(){var e=Object.assign({},this.queryParam,this.isorter);return e.field=this.getQueryField(),e.pageNo=this.ipagination.current,e.pageSize=this.ipagination.pageSize,Object(o["d"])(e)},getQueryField:function(){for(var e="id,",t=0;t<this.columns.length;t++)e+=","+this.columns[t].dataIndex;return e},onSelectChange:function(e){this.selectedRowKeys=e},onSelect:function(e,t){1==t?this.selectionRows.push(e):this.selectionRows.forEach((function(t,n,r){t.id==e.id&&r.splice(n,1)}))},searchReset:function(){var e=this;Object.keys(e.queryParam).forEach((function(t){e.queryParam[t]=""})),e.loadData(1)},handleTableChange:function(e,t,n){Object.keys(n).length>0&&(this.isorter.column=n.field,this.isorter.order="ascend"==n.order?"asc":"desc"),this.ipagination=e,this.loadData()},handleCancel:function(){this.selectionRows=[],this.selectedRowKeys=[],this.visible=!1},handleOk:function(){this.$emit("choseUser",this.selectionRows),this.handleCancel()},searchByquery:function(){this.loadData(1)},handleToggleSearch:function(){this.toggleSearchStatus=!this.toggleSearchStatus}}},l=s,c=(n("50c1"),n("2877")),u=Object(c["a"])(l,r,i,!1,null,"731d685b",null);t["default"]=u.exports},edd9:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{style:{padding:"0 0 32px 32px"}},[n("h4",{style:{marginBottom:"20px"}},[e._v(e._s(e.title))]),n("v-chart",{attrs:{forceFit:!0,height:e.height,data:e.dataSource,scale:e.scale,padding:e.padding}},[n("v-tooltip"),n("v-axis"),n("v-bar",{attrs:{position:"x*y"}})],1)],1)},i=[],o=n("ca00"),a={name:"Bar",props:{dataSource:{type:Array,required:!0},yaxisText:{type:String,default:"y"},title:{type:String,default:""},height:{type:Number,default:254}},data:function(){return{padding:["auto","auto","40","50"]}},computed:{scale:function(){return[{dataKey:"y",alias:this.yaxisText}]}},mounted:function(){Object(o["m"])()}},s=a,l=n("2877"),c=Object(l["a"])(s,r,i,!1,null,null,null);t["default"]=c.exports},ee18:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-drawer",{staticStyle:{overflow:"auto","padding-bottom":"53px"},attrs:{title:e.title,maskClosable:!0,width:"650",placement:"right",closable:!0,visible:e.visible},on:{close:e.close}},[n("a-form",[n("a-form-item",{attrs:{label:"所拥有的权限"}},[n("a-tree",{attrs:{checkable:"",checkedKeys:e.checkedKeys,treeData:e.treeData,selectedKeys:e.selectedKeys,expandedKeys:e.expandedKeysss,checkStrictly:e.checkStrictly},on:{check:e.onCheck,expand:e.onExpand,select:e.onTreeNodeSelect},scopedSlots:e._u([{key:"hasDatarule",fn:function(t){var r=t.slotTitle,i=t.ruleFlag;return n("span",{},[e._v("\n          "+e._s(r)),i?n("a-icon",{staticStyle:{"margin-left":"5px",color:"red"},attrs:{type:"align-left"}}):e._e()],1)}}])})],1)],1),n("div",{staticClass:"drawer-bootom-button"},[n("a-dropdown",{staticStyle:{float:"left"},attrs:{trigger:["click"],placement:"topCenter"}},[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:function(t){return e.switchCheckStrictly(1)}}},[e._v("父子关联")]),n("a-menu-item",{key:"2",on:{click:function(t){return e.switchCheckStrictly(2)}}},[e._v("取消关联")]),n("a-menu-item",{key:"3",on:{click:e.checkALL}},[e._v("全部勾选")]),n("a-menu-item",{key:"4",on:{click:e.cancelCheckALL}},[e._v("取消全选")]),n("a-menu-item",{key:"5",on:{click:e.expandAll}},[e._v("展开所有")]),n("a-menu-item",{key:"6",on:{click:e.closeAll}},[e._v("合并所有")])],1),n("a-button",[e._v("\n        树操作 "),n("a-icon",{attrs:{type:"up"}})],1)],1),n("a-popconfirm",{attrs:{title:"确定放弃编辑？",okText:"确定",cancelText:"取消"},on:{confirm:e.close}},[n("a-button",{staticStyle:{"margin-right":".8rem"}},[e._v("取消")])],1),n("a-button",{staticStyle:{"margin-right":"0.8rem"},attrs:{type:"primary",loading:e.loading,ghost:""},on:{click:function(t){return e.handleSubmit(!1)}}},[e._v("仅保存")]),n("a-button",{attrs:{type:"primary",loading:e.loading},on:{click:function(t){return e.handleSubmit(!0)}}},[e._v("保存并关闭")])],1),n("role-datarule-modal",{ref:"datarule"})],1)},i=[],o=n("4ec3"),a=n("2285");function s(e){return d(e)||u(e)||c(e)||l()}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){if(e){if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function u(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function d(e){if(Array.isArray(e))return f(e)}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h={name:"RoleModal",components:{RoleDataruleModal:a["default"]},data:function(){return{roleId:"",treeData:[],defaultCheckedKeys:[],checkedKeys:[],expandedKeysss:[],allTreeKeys:[],autoExpandParent:!0,checkStrictly:!0,title:"角色权限配置",visible:!1,loading:!1,selectedKeys:[]}},methods:{onTreeNodeSelect:function(e){e&&e.length>0&&(this.selectedKeys=e),this.$refs.datarule.show(this.selectedKeys[0],this.roleId)},onCheck:function(e){this.checkStrictly?this.checkedKeys=e.checked:this.checkedKeys=e},show:function(e){this.roleId=e,this.visible=!0},close:function(){this.reset(),this.$emit("close"),this.visible=!1},onExpand:function(e){this.expandedKeysss=e,this.autoExpandParent=!1},reset:function(){this.expandedKeysss=[],this.checkedKeys=[],this.defaultCheckedKeys=[],this.loading=!1},expandAll:function(){this.expandedKeysss=this.allTreeKeys},closeAll:function(){this.expandedKeysss=[]},checkALL:function(){this.checkedKeys=this.allTreeKeys},cancelCheckALL:function(){this.checkedKeys=[]},switchCheckStrictly:function(e){1==e?this.checkStrictly=!1:2==e&&(this.checkStrictly=!0)},handleCancel:function(){this.close()},handleSubmit:function(e){var t=this,n=this,r={roleId:n.roleId,permissionIds:n.checkedKeys.join(","),lastpermissionIds:n.defaultCheckedKeys.join(",")};n.loading=!0,Object(o["S"])(r).then((function(r){r.success?(n.$message.success(r.message),n.loading=!1,e&&n.close()):(n.$message.error(r.message),n.loading=!1,e&&n.close()),t.loadData()}))},loadData:function(){var e=this;Object(o["M"])().then((function(t){e.treeData=t.result.treeList,e.allTreeKeys=t.result.ids,Object(o["J"])({roleId:e.roleId}).then((function(t){e.checkedKeys=s(t.result),e.defaultCheckedKeys=s(t.result),e.expandedKeysss=e.allTreeKeys}))}))}},watch:{visible:function(){this.visible&&this.loadData()}}},p=h,m=(n("222d"),n("2877")),g=Object(m["a"])(p,r,i,!1,null,"60e39634",null);t["default"]=g.exports},f034:function(e,t){(function(e){"use strict";var t=function(e){var t=e,n=function(){return t},r=function(e){t=e};return{get:n,set:r}},n=tinymce.util.Tools.resolve("tinymce.PluginManager"),r=function(e){return{isFullscreen:function(){return null!==e.get()}}},i=function(){},o=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e(t.apply(null,n))}},a=function(e,t){return function(n){return e(t(n))}},s=function(e){return function(){return e}},l=s(!1),c=s(!0),u=function(){return d},d=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e},r={fold:function(e,t){return e()},is:l,isSome:l,isNone:c,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:s(null),getOrUndefined:s(void 0),or:n,orThunk:t,map:u,each:i,bind:u,exists:l,forall:c,filter:u,equals:e,equals_:e,toArray:function(){return[]},toString:s("none()")};return r}(),f=function(e){var t=s(e),n=function(){return i},r=function(t){return t(e)},i={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:c,isNone:l,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return f(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?i:d},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(l,(function(t){return n(e,t)}))}};return i},h=function(e){return null===e||void 0===e?d:f(e)},p={some:f,none:u,from:h},m=function(e){var n=t(p.none()),r=function(){n.get().each(e)},i=function(){r(),n.set(p.none())},o=function(e){r(),n.set(p.some(e))},a=function(){return n.get().isSome()};return{clear:i,isSet:a,set:o}},g=function(){return m((function(e){e.unbind()}))},v=function(){var e=t(p.none()),n=function(){e.set(p.none())},r=function(t){e.set(p.some(t))},i=function(t){e.get().each(t)},o=function(){return e.get().isSome()};return{clear:n,set:r,isSet:o,on:i}},b=function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},y=function(e){return function(t){return b(t)===e}},C=function(e){return function(t){return typeof t===e}},w=y("string"),x=y("array"),I=C("boolean"),A=function(e){return null===e||void 0===e},k=function(e){return!A(e)},S=C("function"),_=C("number"),T=Array.prototype.push,E=function(e,t){for(var n=e.length,r=new Array(n),i=0;i<n;i++){var o=e[i];r[i]=t(o,i)}return r},O=function(e,t){for(var n=0,r=e.length;n<r;n++){var i=e[n];t(i,n)}},R=function(e,t){for(var n=[],r=0,i=e.length;r<i;r++){var o=e[r];t(o,r)&&n.push(o)}return n},N=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!x(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);T.apply(t,e[n])}return t},L=function(e,t){return N(E(e,t))},D=function(e){return 0===e.length?p.none():p.some(e[0])},B=Object.keys,M=function(e,t){for(var n=B(e),r=0,i=n.length;r<i;r++){var o=n[r],a=e[o];t(a,o)}},P=function(e){return void 0!==e.style&&S(e.style.getPropertyValue)},F=function(t,n){var r=n||e.document,i=r.createElement("div");if(i.innerHTML=t,!i.hasChildNodes()||i.childNodes.length>1)throw e.console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return z(i.childNodes[0])},j=function(t,n){var r=n||e.document,i=r.createElement(t);return z(i)},H=function(t,n){var r=n||e.document,i=r.createTextNode(t);return z(i)},z=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:s(e)}},$=function(e,t,n){var r=e.dom();return p.from(r.elementFromPoint(t,n)).map(z)},V={fromHtml:F,fromTag:j,fromText:H,fromDom:z,fromPoint:$},W=("undefined"!==typeof e.window?e.window:Function("return this;")(),9),K=11,G=1,Z=3,U=function(e){return e.dom().nodeType},q=function(e){return function(t){return U(t)===e}},X=q(G),Y=q(Z),J=q(W),Q=q(K),ee=function(e,t){var n=e.dom();if(n.nodeType!==G)return!1;var r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},te=function(e){return e.nodeType!==G&&e.nodeType!==W&&e.nodeType!==K||0===e.childElementCount},ne=function(t,n){var r=void 0===n?e.document:n.dom();return te(r)?[]:E(r.querySelectorAll(t),V.fromDom)},re=function(e,t){return e.dom()===t.dom()},ie=function(e){return V.fromDom(e.dom().ownerDocument)},oe=function(e){return J(e)?e:ie(e)},ae=function(e){return p.from(e.dom().parentNode).map(V.fromDom)},se=function(e,t){var n=S(t)?t:l,r=e.dom(),i=[];while(null!==r.parentNode&&void 0!==r.parentNode){var o=r.parentNode,a=V.fromDom(o);if(i.push(a),!0===n(a))break;r=o}return i},le=function(e){var t=function(t){return R(t,(function(t){return!re(e,t)}))};return ae(e).map(ce).map(t).getOr([])},ce=function(e){return E(e.dom().childNodes,V.fromDom)},ue=function(e){return Q(e)},de=S(e.Element.prototype.attachShadow)&&S(e.Node.prototype.getRootNode),fe=s(de),he=de?function(e){return V.fromDom(e.dom().getRootNode())}:oe,pe=function(e){var t=he(e);return ue(t)?p.some(t):p.none()},me=function(e){return V.fromDom(e.dom().host)},ge=function(e){if(fe()&&k(e.target)){var t=V.fromDom(e.target);if(X(t)&&ve(V.fromDom(e.target))){var n=e;if(n.composed&&n.composedPath){var r=n.composedPath();if(r)return D(r)}}}return p.from(e.target)},ve=function(e){return k(e.dom().shadowRoot)},be=function(e){var t=Y(e)?e.dom().parentNode:e.dom();return void 0!==t&&null!==t&&null!==t.ownerDocument&&pe(V.fromDom(t)).fold((function(){return t.ownerDocument.body.contains(t)}),a(be,me))},ye=function(t,n,r){if(!(w(r)||I(r)||_(r)))throw e.console.error("Invalid call to Attr.set. Key ",n,":: Value ",r,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(n,r+"")},Ce=function(e,t,n){ye(e.dom(),t,n)},we=function(e,t){var n=e.dom().getAttribute(t);return null===n?void 0:n},xe=function(e,t){e.dom().removeAttribute(t)},Ie=function(t,n,r){if(!w(r))throw e.console.error("Invalid call to CSS.set. Property ",n,":: Value ",r,":: Element ",t),new Error("CSS value must be a string: "+r);P(t)&&t.style.setProperty(n,r)},Ae=function(e,t){var n=e.dom();M(t,(function(e,t){Ie(n,t,e)}))},ke=function(t,n){var r=t.dom(),i=e.window.getComputedStyle(r),o=i.getPropertyValue(n);return""!==o||be(t)?o:Se(r,n)},Se=function(e,t){return P(e)?e.style.getPropertyValue(t):""},_e=function(e,t,n,r,i,o,a){return{target:s(e),x:s(t),y:s(n),stop:r,prevent:i,kill:o,raw:s(a)}},Te=function(e){var t=V.fromDom(ge(e).getOr(e.target)),n=function(){return e.stopPropagation()},r=function(){return e.preventDefault()},i=o(r,n);return _e(t,e.clientX,e.clientY,n,r,i,e)},Ee=function(e,t){var n=function(n,r){return Ee(e+n,t+r)};return{left:s(e),top:s(t),translate:n}},Oe=Ee,Re=function(t){var n=void 0!==t?t.dom():e.document,r=n.body.scrollLeft||n.documentElement.scrollLeft,i=n.body.scrollTop||n.documentElement.scrollTop;return Oe(r,i)},Ne=function(t){var n=void 0===t?e.window:t;return p.from(n["visualViewport"])},Le=function(e,t,n,r){return{x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}},De=function(t){var n=void 0===t?e.window:t,r=n.document,i=Re(V.fromDom(r));return Ne(n).fold((function(){var e=n.document.documentElement,t=e.clientWidth,r=e.clientHeight;return Le(i.left(),i.top(),t,r)}),(function(e){return Le(Math.max(e.pageLeft,i.left()),Math.max(e.pageTop,i.top()),e.width,e.height)}))},Be=function(e,t,n){return Ne(n).map((function(t){var n=function(e){return Te(e)};return t.addEventListener(e,n),{unbind:function(){return t.removeEventListener(e,n)}}})).getOrThunk((function(){return{unbind:i}}))},Me=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Pe=tinymce.util.Tools.resolve("tinymce.Env"),Fe=tinymce.util.Tools.resolve("tinymce.util.Delay"),je=function(e,t){e.fire("FullscreenStateChanged",{state:t})},He=function(e,t,n){return R(se(e,n),t)},ze=function(e,t){return R(le(e),t)},$e=function(e){return ne(e)},Ve=function(e,t,n){return He(e,(function(e){return ee(e,t)}),n)},We=function(e,t){return ze(e,(function(e){return ee(e,t)}))},Ke="data-ephox-mobile-fullscreen-style",Ge="display:none!important;",Ze="position:absolute!important;",Ue="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",qe="background-color:rgb(255,255,255)!important;",Xe=Pe.os.isAndroid(),Ye=function(e){var t=ke(e,"background-color");return void 0!==t&&""!==t?"background-color:"+t+"!important":qe},Je=function(e,t,n){var r=function(e){return We(e,"*:not(.tox-silver-sink)")},i=function(t){return function(n){var r=we(n,"style"),i=void 0===r?"no-styles":r.trim();i!==t&&(Ce(n,Ke,i),Ae(n,e.parseStyle(t)))}},o=Ve(t,"*"),a=L(o,r),s=Ye(n);O(a,i(Ge)),O(o,i(Ze+Ue+s));var l=!0===Xe?"":Ze;i(l+Ue+s)(t)},Qe=function(e){var t=$e("["+Ke+"]");O(t,(function(t){var n=we(t,Ke);"no-styles"!==n?Ae(t,e.parseStyle(n)):xe(t,"style"),xe(t,Ke)}))},et=Me.DOM,tt=function(){var t=De(e.window);return{x:t.x,y:t.y}},nt=function(t){e.window.scrollTo(t.x,t.y)},rt=Ne().fold((function(){return{bind:i,unbind:i}}),(function(t){var n=v(),r=g(),i=g(),o=function(){e.document.body.scrollTop=0,e.document.documentElement.scrollTop=0},a=function(){e.window.requestAnimationFrame((function(){n.on((function(e){return Ae(e,{top:t.offsetTop+"px",left:t.offsetLeft+"px",height:t.height+"px",width:t.width+"px"})}))}))},s=Fe.throttle((function(){o(),a()}),50),l=function(e){n.set(e),s(),r.set(Be("resize")),i.set(Be("scroll"))},c=function(){n.on((function(){r.clear(),i.clear()})),n.clear()};return{bind:l,unbind:c}})),it=function(t,n){var r=e.document.body,i=e.document.documentElement,o=t.getContainer(),a=V.fromDom(o),s=n.get(),l=V.fromDom(t.getBody()),c=Pe.deviceType.isTouch(),u=o.style,d=t.iframeElement,f=d.style,h=function(){c&&Qe(t.dom),et.removeClass(r,"tox-fullscreen"),et.removeClass(i,"tox-fullscreen"),et.removeClass(o,"tox-fullscreen"),rt.unbind()};if(s)f.width=s.iframeWidth,f.height=s.iframeHeight,u.width=s.containerWidth,u.height=s.containerHeight,u.top=s.containerTop,u.left=s.containerLeft,nt(s.scrollPos),n.set(null),je(t,!1),h(),t.off("remove",h);else{var p={scrollPos:tt(),containerWidth:u.width,containerHeight:u.height,containerTop:u.top,containerLeft:u.left,iframeWidth:f.width,iframeHeight:f.height};c&&Je(t.dom,a,l),f.width=f.height="100%",u.width=u.height="",et.addClass(r,"tox-fullscreen"),et.addClass(i,"tox-fullscreen"),et.addClass(o,"tox-fullscreen"),rt.bind(a),t.on("remove",h),n.set(p),je(t,!0)}},ot=function(e,t){e.addCommand("mceFullScreen",(function(){it(e,t)}))},at=function(e,t){return function(n){n.setActive(null!==t.get());var r=function(e){return n.setActive(e.state)};return e.on("FullscreenStateChanged",r),function(){return e.off("FullscreenStateChanged",r)}}},st=function(e,t){e.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:function(){return e.execCommand("mceFullScreen")},onSetup:at(e,t)}),e.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:function(){return e.execCommand("mceFullScreen")},onSetup:at(e,t)})};function lt(){n.add("fullscreen",(function(e){var n=t(null);return e.inline||(ot(e,n),st(e,n),e.addShortcut("Meta+Shift+F","","mceFullScreen")),r(n)}))}lt()})(window)},f040:function(e,t,n){(function(e){e(n("56b3"))})((function(e){"use strict";e.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded Javascript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history).md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]}];for(var t=0;t<e.modeInfo.length;t++){var n=e.modeInfo[t];n.mimes&&(n.mime=n.mimes[0])}e.findModeByMIME=function(t){t=t.toLowerCase();for(var n=0;n<e.modeInfo.length;n++){var r=e.modeInfo[n];if(r.mime==t)return r;if(r.mimes)for(var i=0;i<r.mimes.length;i++)if(r.mimes[i]==t)return r}return/\+xml$/.test(t)?e.findModeByMIME("application/xml"):/\+json$/.test(t)?e.findModeByMIME("application/json"):void 0},e.findModeByExtension=function(t){t=t.toLowerCase();for(var n=0;n<e.modeInfo.length;n++){var r=e.modeInfo[n];if(r.ext)for(var i=0;i<r.ext.length;i++)if(r.ext[i]==t)return r}},e.findModeByFileName=function(t){for(var n=0;n<e.modeInfo.length;n++){var r=e.modeInfo[n];if(r.file&&r.file.test(t))return r}var i=t.lastIndexOf("."),o=i>-1&&t.substring(i+1,t.length);if(o)return e.findModeByExtension(o)},e.findModeByName=function(t){t=t.toLowerCase();for(var n=0;n<e.modeInfo.length;n++){var r=e.modeInfo[n];if(r.name.toLowerCase()==t)return r;if(r.alias)for(var i=0;i<r.alias.length;i++)if(r.alias[i].toLowerCase()==t)return r}}}))},f07c:function(e,t,n){},f101:function(e,t,n){},f14a:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"main"},[r("a-form",{staticStyle:{"max-width":"500px",margin:"40px auto 0"},attrs:{form:e.form},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.nextStep(t)}}},[r("a-form-item",[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["username",e.validatorRules.username],expression:"['username',validatorRules.username]"}],attrs:{size:"large",type:"text",autocomplete:"false",placeholder:"请输入用户账号或手机号"}},[r("a-icon",{style:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"lock"},slot:"prefix"})],1)],1),r("a-row",{attrs:{gutter:0}},[r("a-col",{attrs:{span:14}},[r("a-form-item",[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["inputCode",e.validatorRules.inputCode],expression:"['inputCode',validatorRules.inputCode]"}],attrs:{size:"large",type:"text",placeholder:"请输入验证码"},on:{change:e.inputCodeChange}},[e.inputCodeContent==e.verifiedCode?r("a-icon",{style:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"smile"},slot:"prefix"}):r("a-icon",{style:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"frown"},slot:"prefix"})],1)],1)],1),r("a-col",{staticStyle:{"text-align":"right"},attrs:{span:10}},[e.requestCodeSuccess?r("img",{staticStyle:{"margin-top":"2px"},attrs:{src:e.randCodeImage},on:{click:e.handleChangeCheckCode}}):r("img",{staticStyle:{"margin-top":"2px"},attrs:{src:n("d5ac")},on:{click:e.handleChangeCheckCode}})])],1),r("a-form-item",{attrs:{wrapperCol:{span:19,offset:5}}},[r("router-link",{staticStyle:{float:"left","line-height":"40px"},attrs:{to:{name:"login"}}},[e._v("使用已有账户登录")]),r("a-button",{attrs:{type:"primary"},on:{click:e.nextStep}},[e._v("下一步")])],1)],1)],1)},i=[],o=n("0fea"),a=n("4ec3"),s={name:"Step1",data:function(){return{form:this.$form.createForm(this),inputCodeContent:"",inputCodeNull:!0,verifiedCode:"",validatorRules:{username:{rules:[{required:!1},{validator:this.validateInputUsername}]},inputCode:{rules:[{required:!0,message:"请输入验证码!"}]}},randCodeImage:"",requestCodeSuccess:!0,currdatetime:""}},created:function(){this.handleChangeCheckCode()},methods:{handleChangeCheckCode:function(){var e=this;this.currdatetime=(new Date).getTime(),Object(o["c"])("/sys/randomImage/".concat(this.currdatetime)).then((function(t){t.success?(e.randCodeImage=t.result,e.requestCodeSuccess=!0):(e.$message.error(t.message),e.requestCodeSuccess=!1)})).catch((function(){e.requestCodeSuccess=!1}))},nextStep:function(){var e=this;this.form.validateFields((function(t,n){if(!t){var r=!1,i={},a=/^[1-9]\d*$|^0$/,s=n.username;1==a.test(s)?(i.phone=s,r=!0):i.username=s,e.validateInputCode().then((function(){Object(o["c"])("/sys/user/querySysUser",i).then((function(t){if(t.success){var n={username:t.result.username,phone:t.result.phone,isPhone:r};setTimeout((function(){e.$emit("nextStep",n)}))}}))}))}}))},validateInputCode:function(){var e=this;return new Promise((function(t,n){Object(o["i"])("/sys/checkCaptcha",{captcha:e.inputCodeContent,checkKey:e.currdatetime}).then((function(r){r.success?t():(e.$message.error(r.message),n())}))}))},inputCodeChange:function(e){this.inputCodeContent=e.target.value,e.target.value&&0!=e.target.value?(this.inputCodeContent=this.inputCodeContent.toLowerCase(),this.inputCodeNull=!1):this.inputCodeNull=!0},generateCode:function(e){this.verifiedCode=e.toLowerCase()},validateInputUsername:function(e,t,n){var r=/^[0-9]+.?[0-9]*/;if(t||n("请输入用户名和手机号！"),r.test(t)){var i={phone:t};Object(a["h"])(i).then((function(e){e.success?n("用户名不存在!"):n()}))}else{i={username:t};Object(a["h"])(i).then((function(e){e.success?n("用户名不存在!"):n()}))}}}},l=s,c=n("2877"),u=Object(c["a"])(l,r,i,!1,null,"e6d6156e",null);t["default"]=u.exports},f1cf:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:e.title,width:e.width,visible:e.visible,confirmLoading:e.confirmLoading,destroyOnClose:!0,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{label:"父级节点",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("j-tree-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["pid",e.validatorRules.pid],expression:"['pid', validatorRules.pid]"}],ref:"treeSelect",attrs:{placeholder:"请选择父级节点",dict:"sys_category,name,id",pidField:"pid",pidValue:"0"}})],1),n("a-form-item",{attrs:{label:"分类名称",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",e.validatorRules.name],expression:"[ 'name', validatorRules.name]"}],attrs:{placeholder:"请输入分类名称"}})],1)],1)],1)],1)},i=[],o=n("0fea"),a=n("88bc"),s=n.n(a),l=n("b098"),c={name:"SysCategoryModal",components:{JTreeSelect:l["default"]},data:function(){return{form:this.$form.createForm(this),title:"操作",width:800,visible:!1,model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,validatorRules:{code:{rules:[{required:!0,message:"请输入类型编码!"},{validator:this.validateMyCode}]},pid:{},name:{rules:[{required:!0,message:"请输入类型名称!"}]}},url:{add:"/sys/category/add",edit:"/sys/category/edit",checkCode:"/sys/category/checkCode"},expandedRowKeys:[],pidField:"pid",subExpandedKeys:[]}},created:function(){},methods:{add:function(){this.edit({})},edit:function(e){var t=this;this.form.resetFields(),this.model=Object.assign({},e),this.visible=!0,this.$nextTick((function(){t.form.setFieldsValue(s()(t.model,"pid","name","code"))}))},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields((function(n,r){if(!n){t.confirmLoading=!0;var i="",a="";e.model.id?(i+=e.url.edit,a="put"):(i+=e.url.add,a="post");var s=Object.assign(e.model,r);Object(o["h"])(i,s,a).then((function(e){e.success?(t.$message.success(e.message),t.submitSuccess(s)):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}}))},handleCancel:function(){this.close()},popupCallback:function(e){this.form.setFieldsValue(s()(e,"pid","name","code"))},submitSuccess:function(e){if(e.id)this.$emit("ok",e);else{var t=this.$refs.treeSelect.getCurrTreeData();this.expandedRowKeys=[],this.getExpandKeysByPid(e[this.pidField],t,t),e.pid&&0==this.expandedRowKeys.length&&(this.expandedRowKeys=this.subExpandedKeys),this.$emit("ok",e,this.expandedRowKeys.reverse())}},getExpandKeysByPid:function(e,t,n){if(e&&t&&t.length>0)for(var r=0;r<t.length;r++)t[r].key==e?(this.expandedRowKeys.push(t[r].key),this.getExpandKeysByPid(t[r]["parentId"],n,n)):this.getExpandKeysByPid(e,t[r].children,n)},validateMyCode:function(e,t,n){var r={pid:this.form.getFieldValue("pid"),code:t};Object(o["c"])(this.url.checkCode,r).then((function(e){e.success?n():n(e.message)}))}}},u=c,d=n("2877"),f=Object(d["a"])(u,r,i,!1,null,null,null);t["default"]=f.exports},f267:function(e,t,n){"use strict";var r=n("29a4"),i=n.n(r);i.a},f2f0:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-header-index-wide page-header-wrapper-grid-content-main"},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{md:24,lg:7}},[n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"account-center-avatarHolder"},[n("div",{staticClass:"avatar"},[n("img",{attrs:{src:e.getAvatar()}})]),n("div",{staticClass:"username"},[e._v(e._s(e.nickname()))]),n("div",{staticClass:"bio"},[e._v("海纳百川，有容乃大")])]),n("div",{staticClass:"account-center-detail"},[n("p",[n("i",{staticClass:"title"}),e._v("交互专家\n          ")]),n("p",[n("i",{staticClass:"group"}),e._v("蚂蚁金服－某某某事业群－某某平台部－某某技术部－UED\n          ")]),n("p",[n("i",{staticClass:"address"}),n("span",[e._v("浙江省")]),n("span",[e._v("杭州市")])])]),n("a-divider"),n("div",{staticClass:"account-center-tags"},[n("div",{staticClass:"tagsTitle"},[e._v("标签")]),n("div",[e._l(e.tags,(function(t,r){return[t.length>20?n("a-tooltip",{key:t,attrs:{title:t}},[n("a-tag",{key:t,attrs:{closable:0!==r,afterClose:function(){return e.handleTagClose(t)}}},[e._v("\n                  "+e._s(t.slice(0,20)+"...")+"\n                ")])],1):n("a-tag",{key:t,attrs:{closable:0!==r,afterClose:function(){return e.handleTagClose(t)}}},[e._v(e._s(t))])]})),e.tagInputVisible?n("a-input",{ref:"tagInput",style:{width:"78px"},attrs:{type:"text",size:"small",value:e.tagInputValue},on:{change:e.handleInputChange,blur:e.handleTagInputConfirm,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleTagInputConfirm(t)}}}):n("a-tag",{staticStyle:{background:"#fff",borderStyle:"dashed"},on:{click:e.showTagInput}},[n("a-icon",{attrs:{type:"plus"}}),e._v(" New Tag\n            ")],1)],2)]),n("a-divider",{attrs:{dashed:!0}}),n("div",{staticClass:"account-center-team"},[n("div",{staticClass:"teamTitle"},[e._v("团队")]),n("a-spin",{attrs:{spinning:e.teamSpinning}},[n("div",{staticClass:"members"},[n("a-row",e._l(e.teams,(function(t,r){return n("a-col",{key:r,attrs:{span:12}},[n("a",[n("a-avatar",{attrs:{size:"small",src:t.avatar}}),n("span",{staticClass:"member"},[e._v(e._s(t.name))])],1)])})),1)],1)])],1)],1)],1),n("a-col",{attrs:{md:24,lg:17}},[n("a-card",{staticStyle:{width:"100%"},attrs:{bordered:!1,tabList:e.tabListNoTitle,activeTabKey:e.noTitleKey},on:{tabChange:function(t){return e.handleTabChange(t,"noTitleKey")}}},["article"===e.noTitleKey?n("article-page"):"app"===e.noTitleKey?n("app-page"):"project"===e.noTitleKey?n("project-page"):e._e()],1)],1)],1)],1)},i=[],o=n("b445"),a=n("501f"),s=n("2f5e"),l=n("b8ea"),c=n("b8c5"),u=n("2f62"),d=n("0fea");function f(e){return g(e)||m(e)||p(e)||h()}function h(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e,t){if(e){if("string"===typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}function m(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function g(e){if(Array.isArray(e))return v(e)}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w={components:{RouteView:a["default"],PageLayout:o["default"],AppPage:s["default"],ArticlePage:l["default"],ProjectPage:c["default"]},data:function(){return{tags:["很有想法的","专注设计","辣~","大长腿","川妹子","海纳百川"],tagInputVisible:!1,tagInputValue:"",teams:[],teamSpinning:!0,tabListNoTitle:[{key:"article",tab:"文章(8)"},{key:"app",tab:"应用(8)"},{key:"project",tab:"项目(8)"}],noTitleKey:"app"}},mounted:function(){this.getTeams()},methods:y(y({},Object(u["c"])(["nickname","avatar"])),{},{getAvatar:function(){return Object(d["d"])(this.avatar())},getTeams:function(){var e=this;this.$http.get("/api/workplace/teams").then((function(t){e.teams=t.result,e.teamSpinning=!1}))},handleTabChange:function(e,t){this[t]=e},handleTagClose:function(e){var t=this.tags.filter((function(t){return t!=e}));this.tags=t},showTagInput:function(){var e=this;this.tagInputVisible=!0,this.$nextTick((function(){e.$refs.tagInput.focus()}))},handleInputChange:function(e){this.tagInputValue=e.target.value},handleTagInputConfirm:function(){var e=this.tagInputValue,t=this.tags;e&&-1===t.indexOf(e)&&(t=[].concat(f(t),[e])),Object.assign(this,{tags:t,tagInputVisible:!1,tagInputValue:""})}})},x=w,I=(n("72c0"),n("2877")),A=Object(I["a"])(x,r,i,!1,null,"4bfa2712",null);t["default"]=A.exports},f311:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("a-steps",{staticClass:"steps",attrs:{current:e.currentTab}},[n("a-step",{attrs:{title:"填写转账信息"}}),n("a-step",{attrs:{title:"确认转账信息"}}),n("a-step",{attrs:{title:"完成"}})],1),n("div",{staticClass:"content"},[0===e.currentTab?n("step1",{on:{nextStep:e.nextStep}}):e._e(),1===e.currentTab?n("step2",{on:{nextStep:e.nextStep,prevStep:e.prevStep}}):e._e(),2===e.currentTab?n("step3",{on:{prevStep:e.prevStep,finish:e.finish}}):e._e()],1)],1)},i=[],o=n("82ef"),a=n("f4a3"),s=n("a462"),l={name:"StepForm",components:{Step1:o["default"],Step2:a["default"],Step3:s["default"]},data:function(){return{description:"将一个冗长或用户不熟悉的表单任务分成多个步骤，指导用户完成。",currentTab:0,form:null}},methods:{nextStep:function(){this.currentTab<2&&(this.currentTab+=1)},prevStep:function(){this.currentTab>0&&(this.currentTab-=1)},finish:function(){this.currentTab=0}}},c=l,u=(n("fd9f"),n("2877")),d=Object(u["a"])(c,r,i,!1,null,"41d92e96",null);t["default"]=d.exports},f32b:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("result",{attrs:{"is-success":!1,title:e.title,description:e.description}},[n("template",{slot:"action"},[n("a-button",{attrs:{type:"primary"}},[e._v("返回修改")])],1),n("div",[n("div",{staticStyle:{"font-size":"16px",color:"rgba(0, 0, 0, 0.85)","font-weight":"500","margin-bottom":"16px"}},[e._v("\n        您提交的内容有如下错误：\n      ")]),n("div",{staticStyle:{"margin-bottom":"16px"}},[n("a-icon",{staticStyle:{color:"#f5222d","margin-right":"8px"},attrs:{type:"close-circle-o"}}),e._v("\n        您的账户已被冻结\n        "),n("a",{staticStyle:{"margin-left":"16px"}},[e._v("立即解冻 "),n("a-icon",{attrs:{type:"right"}})],1)],1),n("div",[n("a-icon",{staticStyle:{color:"#f5222d","margin-right":"8px"},attrs:{type:"close-circle-o"}}),e._v("\n        您的账户还不具备申请资格\n        "),n("a",{staticStyle:{"margin-left":"16px"}},[e._v("立即升级 "),n("a-icon",{attrs:{type:"right"}})],1)],1)])],2)],1)},i=[],o=n("9a3d"),a={name:"Error",components:{Result:o["default"]},data:function(){return{title:"提交失败",description:"请核对并修改以下信息后，再重新提交。"}}},s=a,l=n("2877"),c=Object(l["a"])(s,r,i,!1,null,"54c6ede9",null);t["default"]=c.exports},f337:function(e,t,n){},f4a3:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-form",{staticStyle:{"max-width":"500px",margin:"40px auto 0"}},[n("a-alert",{staticStyle:{"margin-bottom":"24px"},attrs:{closable:!0,message:"确认转账后，资金将直接打入对方账户，无法退回。"}}),n("a-form-item",{staticClass:"stepFormText",attrs:{label:"付款账户",labelCol:{span:5},wrapperCol:{span:19}}},[e._v("\n      ant-design@alipay.com\n    ")]),n("a-form-item",{staticClass:"stepFormText",attrs:{label:"收款账户",labelCol:{span:5},wrapperCol:{span:19}}},[e._v("\n      test@example.com\n    ")]),n("a-form-item",{staticClass:"stepFormText",attrs:{label:"收款人姓名",labelCol:{span:5},wrapperCol:{span:19}}},[e._v("\n      Alex\n    ")]),n("a-form-item",{staticClass:"stepFormText",attrs:{label:"转账金额",labelCol:{span:5},wrapperCol:{span:19}}},[e._v("\n      ￥ 5,000.00\n    ")]),n("a-form-item",{attrs:{wrapperCol:{span:19,offset:5}}},[n("a-button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.nextStep}},[e._v("提交")]),n("a-button",{staticStyle:{"margin-left":"8px"},on:{click:e.prevStep}},[e._v("上一步")])],1)],1)],1)},i=[],o={name:"Step2",data:function(){return{loading:!1}},methods:{nextStep:function(){var e=this;e.loading=!0,setTimeout((function(){e.$emit("nextStep")}),1500)},prevStep:function(){this.$emit("prevStep")}}},a=o,s=(n("c7af"),n("2877")),l=Object(s["a"])(a,r,i,!1,null,"20889b00",null);t["default"]=l.exports},f4c3:function(e,t,n){
/*!
 * TOAST UI Editor : i18n
 * @version 2.2.0
 * @author NHN FE Development Lab <dl_javascript@nhn.com>
 * @license MIT
 */
(function(t,r){e.exports=r(n("a0ae"))})(window,(function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=18)}({0:function(t,n){t.exports=e},18:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r);i.a.setLanguage("zh-CN",{Markdown:"Markdown",WYSIWYG:"所见即所得",Write:"编辑",Preview:"预览",Headings:"标题",Paragraph:"文本",Bold:"加粗",Italic:"斜体字",Strike:"删除线",Code:"内嵌代码",Line:"水平线",Blockquote:"引用块","Unordered list":"无序列表","Ordered list":"有序列表",Task:"任务",Indent:"缩进",Outdent:"减少缩进","Insert link":"插入链接","Insert CodeBlock":"插入代码块","Insert table":"插入表格","Insert image":"插入图片",Heading:"标题","Image URL":"图片网址","Select image file":"选择图片文件",Description:"说明",OK:"确认",More:"更多",Cancel:"取消",File:"文件",URL:"URL","Link text":"链接文本","Add row":"添加行","Add col":"添加列","Remove row":"删除行","Remove col":"删除列","Align left":"左对齐","Align center":"居中对齐","Align right":"右对齐","Remove table":"删除表格","Would you like to paste as table?":"需要粘贴为表格吗?","Text color":"文字颜色","Auto scroll enabled":"自动滚动已启用","Auto scroll disabled":"自动滚动已禁用","Choose language":"选择语言"})}})}))},f4c9:function(e,t,n){"use strict";var r=n("7ce2"),i=n.n(r);i.a},f513:function(e,t,n){},f534:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:"高级查询构造器",width:800,visible:e.visible,confirmLoading:e.confirmLoading,mask:!1,okText:"查询",cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",[n("div",e._l(e.queryParamsModel,(function(t,r){return n("a-row",{key:r,staticStyle:{"margin-bottom":"10px"},attrs:{type:"flex",gutter:16}},[n("a-col",{attrs:{span:6}},[n("a-select",{attrs:{placeholder:"选择查询字段"},model:{value:t.field,callback:function(n){e.$set(t,"field",n)},expression:"item.field"}},[n("a-select-option",{attrs:{value:"name"}},[e._v("用户名")]),n("a-select-option",{attrs:{value:"key_word"}},[e._v("关键词")]),n("a-select-option",{attrs:{value:"birthday"}},[e._v("生日")]),n("a-select-option",{attrs:{value:"age"}},[e._v("年龄")])],1)],1),n("a-col",{attrs:{span:6}},[n("a-select",{attrs:{placeholder:"选择匹配规则"},model:{value:t.rule,callback:function(n){e.$set(t,"rule",n)},expression:"item.rule"}},[n("a-select-option",{attrs:{value:"="}},[e._v("等于")]),n("a-select-option",{attrs:{value:"!="}},[e._v("不等于")]),n("a-select-option",{attrs:{value:">"}},[e._v("大于")]),n("a-select-option",{attrs:{value:">="}},[e._v("大于等于")]),n("a-select-option",{attrs:{value:"<"}},[e._v("小于")]),n("a-select-option",{attrs:{value:"<="}},[e._v("小于等于")]),n("a-select-option",{attrs:{value:"LEFT_LIKE"}},[e._v("以..开始")]),n("a-select-option",{attrs:{value:"RIGHT_LIKE"}},[e._v("以..结尾")]),n("a-select-option",{attrs:{value:"LIKE"}},[e._v("包含")]),n("a-select-option",{attrs:{value:"IN"}},[e._v("在...中")])],1)],1),n("a-col",{attrs:{span:6}},[n("a-input",{attrs:{placeholder:"请输入值"},model:{value:t.val,callback:function(n){e.$set(t,"val",n)},expression:"item.val"}})],1),n("a-col",{attrs:{span:6}},[n("a-button",{attrs:{icon:"plus"},on:{click:e.handleAdd}}),e._v(" \n            "),n("a-button",{attrs:{icon:"minus"},on:{click:function(t){return e.handleDel(r)}}})],1)],1)})),1)])],1)],1)},i=[],o=(n("0fea"),{name:"SuperQueryModal",data:function(){return{visible:!1,queryParamsModel:[{},{}],confirmLoading:!1}},created:function(){},methods:{show:function(){this.visible=!0},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){this.$emit("handleSuperQuery",this.queryParamsModel)},handleCancel:function(){this.close()},handleAdd:function(){this.queryParamsModel.push({})},handleDel:function(e){this.queryParamsModel.splice(e,1)}}}),a=o,s=n("2877"),l=Object(s["a"])(a,r,i,!1,null,"6338e1ab",null);t["default"]=l.exports},f552:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{style:{padding:"0"}},[n("h4",{style:{marginBottom:"20px"}},[e._v(e._s(e.title))]),n("v-chart",{ref:"chart",attrs:{forceFit:!0,height:e.height,data:e.dataSource,scale:e.scale}},[n("v-tooltip",{attrs:{shared:!1}}),n("v-axis"),n("v-line",{attrs:{position:"x*y",size:e.lineSize,color:e.lineColor}}),n("v-area",{attrs:{position:"x*y",color:e.color}})],1)],1)},i=[],o=n("ca00"),a={name:"AreaChartTy",props:{dataSource:{type:Array,required:!0},title:{type:String,default:""},x:{type:String,default:"x"},y:{type:String,default:"y"},min:{type:Number,default:0},max:{type:Number,default:null},height:{type:Number,default:254},lineSize:{type:Number,default:2},color:{type:String,default:""},lineColor:{type:String,default:""}},computed:{scale:function(){return[{dataKey:"x",title:this.x,alias:this.x},{dataKey:"y",title:this.y,alias:this.y,min:this.min,max:this.max}]}},mounted:function(){Object(o["m"])()}},s=a,l=(n("54ab"),n("2877")),c=Object(l["a"])(s,r,i,!1,null,"18834924",null);t["default"]=c.exports},f557:function(e,t,n){n("5e4c")},f594:function(e,t,n){},f5b0:function(e,t,n){"use strict";var r=n("754d"),i=n.n(r);i.a},f5b0f:function(e,t,n){"use strict";var r=n("d60a"),i=n.n(r);i.a},f5eb:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=this,n=t.$createElement,r=t._self._c||n;return r("a-card",{attrs:{bordered:!1}},[r("div",{staticClass:"table-page-search-wrapper"},[r("a-form",{attrs:{layout:"inline"}},[r("a-row",{attrs:{gutter:48}},[r("a-col",{attrs:{md:8,sm:24}},[r("a-form-item",{attrs:{label:"规则编号"}},[r("a-input",{attrs:{placeholder:""},model:{value:t.queryParam.id,callback:function(e){t.$set(t.queryParam,"id",e)},expression:"queryParam.id"}})],1)],1),r("a-col",{attrs:{md:8,sm:24}},[r("a-form-item",{attrs:{label:"使用状态"}},[r("a-select",{attrs:{placeholder:"请选择","default-value":"0"},model:{value:t.queryParam.status,callback:function(e){t.$set(t.queryParam,"status",e)},expression:"queryParam.status"}},[r("a-select-option",{attrs:{value:"0"}},[t._v("全部")]),r("a-select-option",{attrs:{value:"1"}},[t._v("关闭")]),r("a-select-option",{attrs:{value:"2"}},[t._v("运行中")])],1)],1)],1),t.advanced?[r("a-col",{attrs:{md:8,sm:24}},[r("a-form-item",{attrs:{label:"调用次数"}},[r("a-input-number",{staticStyle:{width:"100%"},model:{value:t.queryParam.callNo,callback:function(e){t.$set(t.queryParam,"callNo",e)},expression:"queryParam.callNo"}})],1)],1),r("a-col",{attrs:{md:8,sm:24}},[r("a-form-item",{attrs:{label:"更新日期"}},[r("a-date-picker",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入更新日期"},model:{value:t.queryParam.date,callback:function(e){t.$set(t.queryParam,"date",e)},expression:"queryParam.date"}})],1)],1),r("a-col",{attrs:{md:8,sm:24}},[r("a-form-item",{attrs:{label:"使用状态"}},[r("a-select",{attrs:{placeholder:"请选择","default-value":"0"},model:{value:t.queryParam.useStatus,callback:function(e){t.$set(t.queryParam,"useStatus",e)},expression:"queryParam.useStatus"}},[r("a-select-option",{attrs:{value:"0"}},[t._v("全部")]),r("a-select-option",{attrs:{value:"1"}},[t._v("关闭")]),r("a-select-option",{attrs:{value:"2"}},[t._v("运行中")])],1)],1)],1),r("a-col",{attrs:{md:8,sm:24}},[r("a-form-item",{attrs:{label:"使用状态"}},[r("a-select",{attrs:{placeholder:"请选择","default-value":"0"}},[r("a-select-option",{attrs:{value:"0"}},[t._v("全部")]),r("a-select-option",{attrs:{value:"1"}},[t._v("关闭")]),r("a-select-option",{attrs:{value:"2"}},[t._v("运行中")])],1)],1)],1)]:t._e(),r("a-col",{attrs:{md:t.advanced?24:8,sm:24}},[r("span",{staticClass:"table-page-search-submitButtons",style:t.advanced&&{float:"right",overflow:"hidden"}||{}},[r("a-button",{attrs:{type:"primary"}},[t._v("查询")]),r("a-button",{staticStyle:{"margin-left":"8px"},on:{click:t.resetSearchForm}},[t._v("重置")]),r("a",{staticStyle:{"margin-left":"8px"},on:{click:t.toggleAdvanced}},[t._v("\n              "+t._s(t.advanced?"收起":"展开")+"\n              "),r("a-icon",{attrs:{type:t.advanced?"up":"down"}})],1)],1)])],2)],1)],1),r("div",{staticClass:"table-operator"},[r("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:function(){return e.handleModalVisible(!0)}}},[t._v("新建")]),t.selectedRowKeys.length>0?r("a-dropdown",[r("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[r("a-menu-item",{key:"1"},[r("a-icon",{attrs:{type:"delete"}}),t._v("删除")],1),r("a-menu-item",{key:"2"},[r("a-icon",{attrs:{type:"lock"}}),t._v("锁定")],1)],1),r("a-button",{staticStyle:{"margin-left":"8px"}},[t._v("\n        批量操作 "),r("a-icon",{attrs:{type:"down"}})],1)],1):t._e()],1),r("s-table",{ref:"table",attrs:{size:"default",columns:t.columns,data:t.loadData,showAlertInfo:!0},on:{onSelect:t.onChange},scopedSlots:t._u([{key:"action",fn:function(e,n){return r("span",{},[r("a",{on:{click:function(e){return t.handleEdit(n)}}},[t._v("编辑")]),r("a-divider",{attrs:{type:"vertical"}}),r("a-dropdown",[r("a",{staticClass:"ant-dropdown-link"},[t._v("\n          更多 "),r("a-icon",{attrs:{type:"down"}})],1),r("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[r("a-menu-item",[r("a",{attrs:{href:"javascript:;"}},[t._v("详情")])]),r("a-menu-item",[r("a",{attrs:{href:"javascript:;"}},[t._v("禁用")])]),r("a-menu-item",[r("a",{attrs:{href:"javascript:;"}},[t._v("删除")])])],1)],1)],1)}}])}),r("a-modal",{attrs:{title:"操作",width:800},on:{ok:t.handleOk},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[r("a-form",{attrs:{autoFormCreate:function(t){e.form=t}}},[r("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"规则编号",hasFeedback:"",validateStatus:"success"}},[r("a-input",{attrs:{placeholder:"规则编号",id:"no"},model:{value:t.mdl.no,callback:function(e){t.$set(t.mdl,"no",e)},expression:"mdl.no"}})],1),r("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"服务调用次数",hasFeedback:"",validateStatus:"success"}},[r("a-input-number",{staticStyle:{width:"100%"},attrs:{min:1,id:"callNo"},model:{value:t.mdl.callNo,callback:function(e){t.$set(t.mdl,"callNo",e)},expression:"mdl.callNo"}})],1),r("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"状态",hasFeedback:"",validateStatus:"warning"}},[r("a-select",{attrs:{defaultValue:"1"},model:{value:t.mdl.status,callback:function(e){t.$set(t.mdl,"status",e)},expression:"mdl.status"}},[r("a-select-option",{attrs:{value:"1"}},[t._v("Option 1")]),r("a-select-option",{attrs:{value:"2"}},[t._v("Option 2")]),r("a-select-option",{attrs:{value:"3"}},[t._v("Option 3")])],1)],1),r("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"描述",hasFeedback:"",help:"请填写一段描述"}},[r("a-textarea",{attrs:{rows:5,placeholder:"...",id:"description"},model:{value:t.mdl.description,callback:function(e){t.$set(t.mdl,"description",e)},expression:"mdl.description"}})],1),r("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"更新时间",hasFeedback:"",validateStatus:"error"}},[r("a-date-picker",{staticStyle:{width:"100%"},attrs:{showTime:"",format:"YYYY-MM-DD HH:mm:ss",placeholder:"Select Time"}})],1)],1)],1),r("a-modal",{attrs:{title:"新建规则",destroyOnClose:"",visible:t.visibleCreateModal},on:{ok:t.handleCreateModalOk,cancel:t.handleCreateModalCancel}},[r("a-form",{staticStyle:{"margin-top":"8px"},attrs:{autoFormCreate:function(t){e.createForm=t}}},[r("a-form-item",{attrs:{labelCol:{span:5},wrapperCol:{span:15},label:"描述",fieldDecoratorId:"description",fieldDecoratorOptions:{rules:[{required:!0,message:"请输入至少五个字符的规则描述！",min:5}]}}},[r("a-input",{attrs:{placeholder:"请输入"}})],1)],1)],1)],1)},i=[],o=n("e8c4"),a=n("261e"),s=n("27e3"),l=n("c1df"),c=n.n(l),u=n("bc3a"),d=n.n(u),f=n("0fea"),h={name:"TableList",components:{AInput:s["a"],ATextarea:a["a"],STable:o["a"]},data:function(){var e=this;return{visibleCreateModal:!1,visible:!1,labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:12}},form:null,mdl:{},advanced:!0,queryParam:{},columns:[{title:"规则编号",dataIndex:"no"},{title:"描述",dataIndex:"description"},{title:"服务调用次数",dataIndex:"callNo",sorter:!0,needTotal:!0,customRender:function(e){return e+" 次"}},{title:"状态",dataIndex:"status",needTotal:!0},{title:"更新时间",dataIndex:"updatedAt",sorter:!0},{table:"操作",dataIndex:"action",width:"150px",scopedSlots:{customRender:"action"}}],loadData:function(t){return Object(f["g"])(Object.assign(t,e.queryParam)).then((function(e){return e.result}))},selectedRowKeys:[],selectedRows:[]}},created:function(){Object(f["f"])({t:new Date})},methods:{handleEdit:function(e){this.mdl=Object.assign({},e),this.visible=!0},handleOk:function(){},handleModalVisible:function(e){this.visibleCreateModal=e},handleCreateModalOk:function(){var e=this;this.createForm.validateFields((function(t,n){if(!t){var r=e.createForm.getFieldValue("description");d.a.post("/saveRule",{desc:r}).then((function(t){e.createForm.resetFields(),e.visibleCreateModal=!1,e.loadRuleData()}))}}))},handleCreateModalCancel:function(){this.visibleCreateModal=!1},onChange:function(e){this.selectedRowKeys=e.selectedRowKeys,this.selectedRows=e.selectedRows},toggleAdvanced:function(){this.advanced=!this.advanced},resetSearchForm:function(){this.queryParam={date:c()(new Date)}}},watch:{}},p=h,m=n("2877"),g=Object(m["a"])(p,r,i,!1,null,null,null);t["default"]=g.exports},f680:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return"checkbox"==e.tagType?n("a-checkbox-group",{attrs:{value:e.arrayValue,disabled:e.disabled},on:{change:e.onChange}},e._l(e.dictOptions,(function(t,r){return n("a-checkbox",{key:r,attrs:{value:t.value}},[e._v(e._s(t.text||t.label))])})),1):"select"==e.tagType?n("a-select",{attrs:{value:e.arrayValue,disabled:e.disabled,mode:"multiple",placeholder:e.placeholder,getPopupContainer:function(e){return e.parentNode},allowClear:""},on:{change:e.onChange}},e._l(e.dictOptions,(function(t,r){return n("a-select-option",{key:r,attrs:{value:t.value}},[n("span",{staticStyle:{display:"inline-block",width:"100%"},attrs:{title:t.text||t.label}},[e._v("\n      "+e._s(t.text||t.label)+"\n    ")])])})),1):e._e()},i=[],o=n("4ec3");function a(e){return u(e)||c(e)||l(e)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){if(e){if("string"===typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function c(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function u(e){if(Array.isArray(e))return d(e)}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f={name:"JMultiSelectTag",props:{dictCode:String,placeholder:String,disabled:Boolean,value:String,type:String,options:Array},data:function(){return{dictOptions:[],tagType:"",arrayValue:this.value?this.value.split(","):[]}},created:function(){this.type&&"list_multi"!==this.type?this.tagType=this.type:this.tagType="select"},watch:{options:function(e){this.setCurrentDictOptions(e)},dictCode:{immediate:!0,handler:function(){this.initDictData()}},value:function(e){this.arrayValue=e?this.value.split(","):[]}},methods:{initDictData:function(){var e=this;if(this.options&&this.options.length>0)this.dictOptions=a(this.options);else{if(Object(o["t"])(this.dictCode))return void(this.dictOptions=Object(o["t"])(this.dictCode));Object(o["f"])(this.dictCode,null).then((function(t){t.success&&(e.dictOptions=t.result)}))}},onChange:function(e){this.$emit("change",e.join(","))},setCurrentDictOptions:function(e){this.dictOptions=e},getCurrentDictOptions:function(){return this.dictOptions}},model:{prop:"value",event:"change"}},h=f,p=n("2877"),m=Object(p["a"])(h,r,i,!1,null,null,null);t["default"]=m.exports},f6b6:function(e,t,n){},f6d9:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-form",{staticStyle:{"max-width":"500px",margin:"40px auto 0"},attrs:{form:e.form}},[n("a-form-item",{attrs:{label:"账号名",labelCol:{span:5},wrapperCol:{span:19}}},[n("a-input",{attrs:{type:"text",autocomplete:"false",value:e.accountName,disabled:""}})],1),n("a-form-item",{staticClass:"stepFormText",attrs:{label:"新密码",labelCol:{span:5},wrapperCol:{span:19}}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",e.validatorRules.password],expression:"['password',validatorRules.password]"}],attrs:{type:"password",autocomplete:"false"}})],1),n("a-form-item",{staticClass:"stepFormText",attrs:{label:"确认密码",labelCol:{span:5},wrapperCol:{span:19}}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["confirmPassword",e.validatorRules.confirmPassword],expression:"['confirmPassword',validatorRules.confirmPassword]"}],attrs:{type:"password",autocomplete:"false"}})],1),n("a-form-item",{attrs:{wrapperCol:{span:19,offset:5}}},[n("a-button",{staticStyle:{"margin-left":"8px"},on:{click:e.prevStep}},[e._v("上一步")]),n("a-button",{staticStyle:{"margin-left":"20px"},attrs:{loading:e.loading,type:"primary"},on:{click:e.nextStep}},[e._v("提交")])],1)],1)],1)},i=[],o=n("0fea"),a={name:"Step3",props:["userList"],data:function(){return{loading:!1,form:this.$form.createForm(this),accountName:this.userList.username,validatorRules:{username:{rules:[{required:!0,message:"用户名不能为空!"}]},password:{rules:[{required:!0,pattern:/^(?=.*[a-zA-Z])(?=.*\d)(?=.*[~!@#$%^&*()_+`\-={}:";'<>?,.\/]).{8,}$/,message:"密码由8位数字、大小写字母和特殊符号组成!!"},{validator:this.handlePasswordLevel}]},confirmPassword:{rules:[{required:!0,message:"密码不能为空!"},{validator:this.handlePasswordCheck}]}}}},methods:{nextStep:function(){var e=this,t=this;t.loading=!0,this.form.validateFields((function(n,r){if(n)t.loading=!1;else{var i={};i.username=e.userList.username,i.password=r.password,i.smscode=e.userList.smscode,i.phone=e.userList.phone,Object(o["c"])("/sys/user/passwordChange",i).then((function(n){if(n.success){var r={username:e.userList.username};setTimeout((function(){t.$emit("nextStep",r)}),1500)}else e.passwordFailed(n.message),t.loading=!1}))}}))},prevStep:function(){this.$emit("prevStep",this.userList)},handlePasswordCheck:function(e,t,n){var r=this.form.getFieldValue("password");t&&r&&t.trim()!==r.trim()&&n(new Error("两次密码不一致")),n()},passwordFailed:function(e){this.$notification["error"]({message:"更改密码失败",description:e,duration:4})}}},s=a,l=(n("e57a"),n("2877")),c=Object(l["a"])(s,r,i,!1,null,"cf3c3ea8",null);t["default"]=c.exports},f73f:function(e,t,n){},f81c:function(e,t,n){"use strict";var r=n("a5ae"),i=n.n(r);i.a},f92c:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.query?n("a-select",{staticStyle:{width:"100%"},on:{change:e.handleSelectChange}},e._l(e.queryOption,(function(t,r){return n("a-select-option",{key:r,attrs:{value:t.value}},[e._v("\n      "+e._s(t.text)+"\n    ")])})),1):n("a-switch",{attrs:{disabled:e.disabled},on:{change:e.handleChange},model:{value:e.checkStatus,callback:function(t){e.checkStatus=t},expression:"checkStatus"}})],1)},i=[],o={name:"JSwitch",props:{value:{type:String|Number,required:!1},disabled:{type:Boolean,required:!1,default:!1},options:{type:Array,required:!1,default:function(){return["Y","N"]}},query:{type:Boolean,required:!1,default:!1}},data:function(){return{checkStatus:!1}},watch:{value:{immediate:!0,handler:function(e){this.query||(e?this.options[0]==e?this.checkStatus=!0:this.checkStatus=!1:(this.checkStatus=!1,this.$emit("change",this.options[1])))}}},computed:{queryOption:function(){var e=[];return e.push({value:this.options[0],text:"是"}),e.push({value:this.options[1],text:"否"}),e}},methods:{handleChange:function(e){var t=!1===e?this.options[1]:this.options[0];this.$emit("change",t)},handleSelectChange:function(e){this.$emit("change",e)}},model:{prop:"value",event:"change"}},a=o,s=n("2877"),l=Object(s["a"])(a,r,i,!1,null,null,null);t["default"]=l.exports},f97e:function(e,t,n){},f9d4:function(e,t,n){(function(e){e(n("56b3"))})((function(e){"use strict";e.defineMode("javascript",(function(t,n){var r,i,o=t.indentUnit,a=n.statementIndent,s=n.jsonld,l=n.json||s,c=n.typescript,u=n.wordCharacters||/[\w$\xa1-\uffff]/,d=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),r=e("keyword c"),i=e("keyword d"),o=e("operator"),a={type:"atom",style:"atom"};return{if:e("if"),while:t,with:t,else:n,do:n,try:n,finally:n,return:i,break:i,continue:i,new:e("new"),delete:r,void:r,throw:r,debugger:e("debugger"),var:e("var"),const:e("var"),let:e("var"),function:e("function"),catch:e("catch"),for:e("for"),switch:e("switch"),case:e("case"),default:e("default"),in:o,typeof:o,instanceof:o,true:a,false:a,null:a,undefined:a,NaN:a,Infinity:a,this:e("this"),class:e("class"),super:e("atom"),yield:r,export:e("export"),import:e("import"),extends:r,await:r}}(),f=/[+\-*&%=<>!?|~^@]/,h=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function p(e){var t,n=!1,r=!1;while(null!=(t=e.next())){if(!n){if("/"==t&&!r)return;"["==t?r=!0:r&&"]"==t&&(r=!1)}n=!n&&"\\"==t}}function m(e,t,n){return r=e,i=n,t}function g(e,t){var n=e.next();if('"'==n||"'"==n)return t.tokenize=v(n),t.tokenize(e,t);if("."==n&&e.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return m("number","number");if("."==n&&e.match(".."))return m("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(n))return m(n);if("="==n&&e.eat(">"))return m("=>","operator");if("0"==n&&e.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return m("number","number");if(/\d/.test(n))return e.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),m("number","number");if("/"==n)return e.eat("*")?(t.tokenize=b,b(e,t)):e.eat("/")?(e.skipToEnd(),m("comment","comment")):et(e,t,1)?(p(e),e.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),m("regexp","string-2")):(e.eat("="),m("operator","operator",e.current()));if("`"==n)return t.tokenize=y,y(e,t);if("#"==n&&"!"==e.peek())return e.skipToEnd(),m("meta","meta");if("#"==n&&e.eatWhile(u))return m("variable","property");if("<"==n&&e.match("!--")||"-"==n&&e.match("->")&&!/\S/.test(e.string.slice(0,e.start)))return e.skipToEnd(),m("comment","comment");if(f.test(n))return">"==n&&t.lexical&&">"==t.lexical.type||(e.eat("=")?"!"!=n&&"="!=n||e.eat("="):/[<>*+\-]/.test(n)&&(e.eat(n),">"==n&&e.eat(n))),"?"==n&&e.eat(".")?m("."):m("operator","operator",e.current());if(u.test(n)){e.eatWhile(u);var r=e.current();if("."!=t.lastType){if(d.propertyIsEnumerable(r)){var i=d[r];return m(i.type,i.style,r)}if("async"==r&&e.match(/^(\s|\/\*.*?\*\/)*[\[\(\w]/,!1))return m("async","keyword",r)}return m("variable","variable",r)}}function v(e){return function(t,n){var r,i=!1;if(s&&"@"==t.peek()&&t.match(h))return n.tokenize=g,m("jsonld-keyword","meta");while(null!=(r=t.next())){if(r==e&&!i)break;i=!i&&"\\"==r}return i||(n.tokenize=g),m("string","string")}}function b(e,t){var n,r=!1;while(n=e.next()){if("/"==n&&r){t.tokenize=g;break}r="*"==n}return m("comment","comment")}function y(e,t){var n,r=!1;while(null!=(n=e.next())){if(!r&&("`"==n||"$"==n&&e.eat("{"))){t.tokenize=g;break}r=!r&&"\\"==n}return m("quasi","string-2",e.current())}var C="([{}])";function w(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var n=e.string.indexOf("=>",e.start);if(!(n<0)){if(c){var r=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(e.string.slice(e.start,n));r&&(n=r.index)}for(var i=0,o=!1,a=n-1;a>=0;--a){var s=e.string.charAt(a),l=C.indexOf(s);if(l>=0&&l<3){if(!i){++a;break}if(0==--i){"("==s&&(o=!0);break}}else if(l>=3&&l<6)++i;else if(u.test(s))o=!0;else if(/["'\/`]/.test(s))for(;;--a){if(0==a)return;var d=e.string.charAt(a-1);if(d==s&&"\\"!=e.string.charAt(a-2)){a--;break}}else if(o&&!i){++a;break}}o&&!i&&(t.fatArrowAt=a)}}var x={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0};function I(e,t,n,r,i,o){this.indented=e,this.column=t,this.type=n,this.prev=i,this.info=o,null!=r&&(this.align=r)}function A(e,t){for(var n=e.localVars;n;n=n.next)if(n.name==t)return!0;for(var r=e.context;r;r=r.prev)for(n=r.vars;n;n=n.next)if(n.name==t)return!0}function k(e,t,n,r,i){var o=e.cc;S.state=e,S.stream=i,S.marked=null,S.cc=o,S.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);while(1){var a=o.length?o.pop():l?W:$;if(a(n,r)){while(o.length&&o[o.length-1].lex)o.pop()();return S.marked?S.marked:"variable"==n&&A(e,r)?"variable-2":t}}}var S={state:null,column:null,marked:null,cc:null};function _(){for(var e=arguments.length-1;e>=0;e--)S.cc.push(arguments[e])}function T(){return _.apply(null,arguments),!0}function E(e,t){for(var n=t;n;n=n.next)if(n.name==e)return!0;return!1}function O(e){var t=S.state;if(S.marked="def",t.context)if("var"==t.lexical.info&&t.context&&t.context.block){var r=R(e,t.context);if(null!=r)return void(t.context=r)}else if(!E(e,t.localVars))return void(t.localVars=new D(e,t.localVars));n.globalVars&&!E(e,t.globalVars)&&(t.globalVars=new D(e,t.globalVars))}function R(e,t){if(t){if(t.block){var n=R(e,t.prev);return n?n==t.prev?t:new L(n,t.vars,!0):null}return E(e,t.vars)?t:new L(t.prev,new D(e,t.vars),!1)}return null}function N(e){return"public"==e||"private"==e||"protected"==e||"abstract"==e||"readonly"==e}function L(e,t,n){this.prev=e,this.vars=t,this.block=n}function D(e,t){this.name=e,this.next=t}var B=new D("this",new D("arguments",null));function M(){S.state.context=new L(S.state.context,S.state.localVars,!1),S.state.localVars=B}function P(){S.state.context=new L(S.state.context,S.state.localVars,!0),S.state.localVars=null}function F(){S.state.localVars=S.state.context.vars,S.state.context=S.state.context.prev}function j(e,t){var n=function(){var n=S.state,r=n.indented;if("stat"==n.lexical.type)r=n.lexical.indented;else for(var i=n.lexical;i&&")"==i.type&&i.align;i=i.prev)r=i.indented;n.lexical=new I(r,S.stream.column(),e,null,n.lexical,t)};return n.lex=!0,n}function H(){var e=S.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function z(e){function t(n){return n==e?T():";"==e||"}"==n||")"==n||"]"==n?_():T(t)}return t}function $(e,t){return"var"==e?T(j("vardef",t),Ae,z(";"),H):"keyword a"==e?T(j("form"),G,$,H):"keyword b"==e?T(j("form"),$,H):"keyword d"==e?S.stream.match(/^\s*$/,!1)?T():T(j("stat"),U,z(";"),H):"debugger"==e?T(z(";")):"{"==e?T(j("}"),P,de,H,F):";"==e?T():"if"==e?("else"==S.state.lexical.info&&S.state.cc[S.state.cc.length-1]==H&&S.state.cc.pop()(),T(j("form"),G,$,H,Oe)):"function"==e?T(De):"for"==e?T(j("form"),Re,$,H):"class"==e||c&&"interface"==t?(S.marked="keyword",T(j("form","class"==e?e:t),je,H)):"variable"==e?c&&"declare"==t?(S.marked="keyword",T($)):c&&("module"==t||"enum"==t||"type"==t)&&S.stream.match(/^\s*\w/,!1)?(S.marked="keyword","enum"==t?T(Ye):"type"==t?T(Me,z("operator"),ge,z(";")):T(j("form"),ke,z("{"),j("}"),de,H,H)):c&&"namespace"==t?(S.marked="keyword",T(j("form"),W,$,H)):c&&"abstract"==t?(S.marked="keyword",T($)):T(j("stat"),ie):"switch"==e?T(j("form"),G,z("{"),j("}","switch"),P,de,H,H,F):"case"==e?T(W,z(":")):"default"==e?T(z(":")):"catch"==e?T(j("form"),M,V,$,H,F):"export"==e?T(j("stat"),Ve,H):"import"==e?T(j("stat"),Ke,H):"async"==e?T($):"@"==t?T(W,$):_(j("stat"),W,z(";"),H)}function V(e){if("("==e)return T(Pe,z(")"))}function W(e,t){return Z(e,t,!1)}function K(e,t){return Z(e,t,!0)}function G(e){return"("!=e?_():T(j(")"),U,z(")"),H)}function Z(e,t,n){if(S.state.fatArrowAt==S.stream.start){var r=n?ee:Q;if("("==e)return T(M,j(")"),ce(Pe,")"),H,z("=>"),r,F);if("variable"==e)return _(M,ke,z("=>"),r,F)}var i=n?X:q;return x.hasOwnProperty(e)?T(i):"function"==e?T(De,i):"class"==e||c&&"interface"==t?(S.marked="keyword",T(j("form"),Fe,H)):"keyword c"==e||"async"==e?T(n?K:W):"("==e?T(j(")"),U,z(")"),H,i):"operator"==e||"spread"==e?T(n?K:W):"["==e?T(j("]"),Xe,H,i):"{"==e?ue(ae,"}",null,i):"quasi"==e?_(Y,i):"new"==e?T(te(n)):"import"==e?T(W):T()}function U(e){return e.match(/[;\}\)\],]/)?_():_(W)}function q(e,t){return","==e?T(U):X(e,t,!1)}function X(e,t,n){var r=0==n?q:X,i=0==n?W:K;return"=>"==e?T(M,n?ee:Q,F):"operator"==e?/\+\+|--/.test(t)||c&&"!"==t?T(r):c&&"<"==t&&S.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?T(j(">"),ce(ge,">"),H,r):"?"==t?T(W,z(":"),i):T(i):"quasi"==e?_(Y,r):";"!=e?"("==e?ue(K,")","call",r):"."==e?T(oe,r):"["==e?T(j("]"),U,z("]"),H,r):c&&"as"==t?(S.marked="keyword",T(ge,r)):"regexp"==e?(S.state.lastType=S.marked="operator",S.stream.backUp(S.stream.pos-S.stream.start-1),T(i)):void 0:void 0}function Y(e,t){return"quasi"!=e?_():"${"!=t.slice(t.length-2)?T(Y):T(W,J)}function J(e){if("}"==e)return S.marked="string-2",S.state.tokenize=y,T(Y)}function Q(e){return w(S.stream,S.state),_("{"==e?$:W)}function ee(e){return w(S.stream,S.state),_("{"==e?$:K)}function te(e){return function(t){return"."==t?T(e?re:ne):"variable"==t&&c?T(we,e?X:q):_(e?K:W)}}function ne(e,t){if("target"==t)return S.marked="keyword",T(q)}function re(e,t){if("target"==t)return S.marked="keyword",T(X)}function ie(e){return":"==e?T(H,$):_(q,z(";"),H)}function oe(e){if("variable"==e)return S.marked="property",T()}function ae(e,t){return"async"==e?(S.marked="property",T(ae)):"variable"==e||"keyword"==S.style?(S.marked="property","get"==t||"set"==t?T(se):(c&&S.state.fatArrowAt==S.stream.start&&(n=S.stream.match(/^\s*:\s*/,!1))&&(S.state.fatArrowAt=S.stream.pos+n[0].length),T(le))):"number"==e||"string"==e?(S.marked=s?"property":S.style+" property",T(le)):"jsonld-keyword"==e?T(le):c&&N(t)?(S.marked="keyword",T(ae)):"["==e?T(W,fe,z("]"),le):"spread"==e?T(K,le):"*"==t?(S.marked="keyword",T(ae)):":"==e?_(le):void 0;var n}function se(e){return"variable"!=e?_(le):(S.marked="property",T(De))}function le(e){return":"==e?T(K):"("==e?_(De):void 0}function ce(e,t,n){function r(i,o){if(n?n.indexOf(i)>-1:","==i){var a=S.state.lexical;return"call"==a.info&&(a.pos=(a.pos||0)+1),T((function(n,r){return n==t||r==t?_():_(e)}),r)}return i==t||o==t?T():n&&n.indexOf(";")>-1?_(e):T(z(t))}return function(n,i){return n==t||i==t?T():_(e,r)}}function ue(e,t,n){for(var r=3;r<arguments.length;r++)S.cc.push(arguments[r]);return T(j(t,n),ce(e,t),H)}function de(e){return"}"==e?T():_($,de)}function fe(e,t){if(c){if(":"==e)return T(ge);if("?"==t)return T(fe)}}function he(e,t){if(c&&(":"==e||"in"==t))return T(ge)}function pe(e){if(c&&":"==e)return S.stream.match(/^\s*\w+\s+is\b/,!1)?T(W,me,ge):T(ge)}function me(e,t){if("is"==t)return S.marked="keyword",T()}function ge(e,t){return"keyof"==t||"typeof"==t||"infer"==t?(S.marked="keyword",T("typeof"==t?K:ge)):"variable"==e||"void"==t?(S.marked="type",T(Ce)):"|"==t||"&"==t?T(ge):"string"==e||"number"==e||"atom"==e?T(Ce):"["==e?T(j("]"),ce(ge,"]",","),H,Ce):"{"==e?T(j("}"),ce(be,"}",",;"),H,Ce):"("==e?T(ce(ye,")"),ve,Ce):"<"==e?T(ce(ge,">"),ge):void 0}function ve(e){if("=>"==e)return T(ge)}function be(e,t){return"variable"==e||"keyword"==S.style?(S.marked="property",T(be)):"?"==t||"number"==e||"string"==e?T(be):":"==e?T(ge):"["==e?T(z("variable"),he,z("]"),be):"("==e?_(Be,be):void 0}function ye(e,t){return"variable"==e&&S.stream.match(/^\s*[?:]/,!1)||"?"==t?T(ye):":"==e?T(ge):"spread"==e?T(ye):_(ge)}function Ce(e,t){return"<"==t?T(j(">"),ce(ge,">"),H,Ce):"|"==t||"."==e||"&"==t?T(ge):"["==e?T(ge,z("]"),Ce):"extends"==t||"implements"==t?(S.marked="keyword",T(ge)):"?"==t?T(ge,z(":"),ge):void 0}function we(e,t){if("<"==t)return T(j(">"),ce(ge,">"),H,Ce)}function xe(){return _(ge,Ie)}function Ie(e,t){if("="==t)return T(ge)}function Ae(e,t){return"enum"==t?(S.marked="keyword",T(Ye)):_(ke,fe,Te,Ee)}function ke(e,t){return c&&N(t)?(S.marked="keyword",T(ke)):"variable"==e?(O(t),T()):"spread"==e?T(ke):"["==e?ue(_e,"]"):"{"==e?ue(Se,"}"):void 0}function Se(e,t){return"variable"!=e||S.stream.match(/^\s*:/,!1)?("variable"==e&&(S.marked="property"),"spread"==e?T(ke):"}"==e?_():"["==e?T(W,z("]"),z(":"),Se):T(z(":"),ke,Te)):(O(t),T(Te))}function _e(){return _(ke,Te)}function Te(e,t){if("="==t)return T(K)}function Ee(e){if(","==e)return T(Ae)}function Oe(e,t){if("keyword b"==e&&"else"==t)return T(j("form","else"),$,H)}function Re(e,t){return"await"==t?T(Re):"("==e?T(j(")"),Ne,H):void 0}function Ne(e){return"var"==e?T(Ae,Le):"variable"==e?T(Le):_(Le)}function Le(e,t){return")"==e?T():";"==e?T(Le):"in"==t||"of"==t?(S.marked="keyword",T(W,Le)):_(W,Le)}function De(e,t){return"*"==t?(S.marked="keyword",T(De)):"variable"==e?(O(t),T(De)):"("==e?T(M,j(")"),ce(Pe,")"),H,pe,$,F):c&&"<"==t?T(j(">"),ce(xe,">"),H,De):void 0}function Be(e,t){return"*"==t?(S.marked="keyword",T(Be)):"variable"==e?(O(t),T(Be)):"("==e?T(M,j(")"),ce(Pe,")"),H,pe,F):c&&"<"==t?T(j(">"),ce(xe,">"),H,Be):void 0}function Me(e,t){return"keyword"==e||"variable"==e?(S.marked="type",T(Me)):"<"==t?T(j(">"),ce(xe,">"),H):void 0}function Pe(e,t){return"@"==t&&T(W,Pe),"spread"==e?T(Pe):c&&N(t)?(S.marked="keyword",T(Pe)):c&&"this"==e?T(fe,Te):_(ke,fe,Te)}function Fe(e,t){return"variable"==e?je(e,t):He(e,t)}function je(e,t){if("variable"==e)return O(t),T(He)}function He(e,t){return"<"==t?T(j(">"),ce(xe,">"),H,He):"extends"==t||"implements"==t||c&&","==e?("implements"==t&&(S.marked="keyword"),T(c?ge:W,He)):"{"==e?T(j("}"),ze,H):void 0}function ze(e,t){return"async"==e||"variable"==e&&("static"==t||"get"==t||"set"==t||c&&N(t))&&S.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(S.marked="keyword",T(ze)):"variable"==e||"keyword"==S.style?(S.marked="property",T($e,ze)):"number"==e||"string"==e?T($e,ze):"["==e?T(W,fe,z("]"),$e,ze):"*"==t?(S.marked="keyword",T(ze)):c&&"("==e?_(Be,ze):";"==e||","==e?T(ze):"}"==e?T():"@"==t?T(W,ze):void 0}function $e(e,t){if("?"==t)return T($e);if(":"==e)return T(ge,Te);if("="==t)return T(K);var n=S.state.lexical.prev,r=n&&"interface"==n.info;return _(r?Be:De)}function Ve(e,t){return"*"==t?(S.marked="keyword",T(qe,z(";"))):"default"==t?(S.marked="keyword",T(W,z(";"))):"{"==e?T(ce(We,"}"),qe,z(";")):_($)}function We(e,t){return"as"==t?(S.marked="keyword",T(z("variable"))):"variable"==e?_(K,We):void 0}function Ke(e){return"string"==e?T():"("==e?_(W):_(Ge,Ze,qe)}function Ge(e,t){return"{"==e?ue(Ge,"}"):("variable"==e&&O(t),"*"==t&&(S.marked="keyword"),T(Ue))}function Ze(e){if(","==e)return T(Ge,Ze)}function Ue(e,t){if("as"==t)return S.marked="keyword",T(Ge)}function qe(e,t){if("from"==t)return S.marked="keyword",T(W)}function Xe(e){return"]"==e?T():_(ce(K,"]"))}function Ye(){return _(j("form"),ke,z("{"),j("}"),ce(Je,"}"),H,H)}function Je(){return _(ke,Te)}function Qe(e,t){return"operator"==e.lastType||","==e.lastType||f.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}function et(e,t,n){return t.tokenize==g&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(t.lastType)||"quasi"==t.lastType&&/\{\s*$/.test(e.string.slice(0,e.pos-(n||0)))}return F.lex=!0,H.lex=!0,{startState:function(e){var t={tokenize:g,lastType:"sof",cc:[],lexical:new I((e||0)-o,0,"block",!1),localVars:n.localVars,context:n.localVars&&new L(null,null,!1),indented:e||0};return n.globalVars&&"object"==typeof n.globalVars&&(t.globalVars=n.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),w(e,t)),t.tokenize!=b&&e.eatSpace())return null;var n=t.tokenize(e,t);return"comment"==r?n:(t.lastType="operator"!=r||"++"!=i&&"--"!=i?r:"incdec",k(t,n,r,i,e))},indent:function(t,r){if(t.tokenize==b)return e.Pass;if(t.tokenize!=g)return 0;var i,s=r&&r.charAt(0),l=t.lexical;if(!/^\s*else\b/.test(r))for(var c=t.cc.length-1;c>=0;--c){var u=t.cc[c];if(u==H)l=l.prev;else if(u!=Oe)break}while(("stat"==l.type||"form"==l.type)&&("}"==s||(i=t.cc[t.cc.length-1])&&(i==q||i==X)&&!/^[,\.=+\-*:?[\(]/.test(r)))l=l.prev;a&&")"==l.type&&"stat"==l.prev.type&&(l=l.prev);var d=l.type,f=s==d;return"vardef"==d?l.indented+("operator"==t.lastType||","==t.lastType?l.info.length+1:0):"form"==d&&"{"==s?l.indented:"form"==d?l.indented+o:"stat"==d?l.indented+(Qe(t,r)?a||o:0):"switch"!=l.info||f||0==n.doubleIndentSwitch?l.align?l.column+(f?0:1):l.indented+(f?0:o):l.indented+(/^(?:case|default)\b/.test(r)?o:2*o)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:l?null:"/*",blockCommentEnd:l?null:"*/",blockCommentContinue:l?null:" * ",lineComment:l?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:l?"json":"javascript",jsonldMode:s,jsonMode:l,expressionAllowed:et,skipExpression:function(e){var t=e.cc[e.cc.length-1];t!=W&&t!=K||e.cc.pop()}}})),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})}))},fa29:function(e,t,n){"use strict";var r=n("19fe"),i=n.n(r);i.a},fa3b:function(e,t,n){"use strict";var r=n("130a"),i=n.n(r);i.a},fad2:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchQuery(t)}}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"数据源名称"}},[n("a-input",{attrs:{placeholder:"请输入数据源名称"},model:{value:e.queryParam.name,callback:function(t){e.$set(e.queryParam,"name",t)},expression:"queryParam.name"}})],1)],1),n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"数据库类型"}},[n("j-dict-select-tag",{attrs:{placeholder:"请选择数据库类型","dict-code":"database_type"},model:{value:e.queryParam.dbType,callback:function(t){e.$set(e.queryParam,"dbType",t)},expression:"queryParam.dbType"}})],1)],1),n("a-col",{attrs:{md:6,sm:8}},[n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")])],1)])],1)],1)],1),n("div",{staticClass:"table-operator"},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("新增")]),n("a-button",{attrs:{type:"primary",icon:"download"},on:{click:function(t){return e.handleExportXls("多数据源管理")}}},[e._v("导出")]),n("a-upload",{attrs:{name:"file",showUploadList:!1,multiple:!1,headers:e.tokenHeader,action:e.importExcelUrl},on:{change:e.handleImportExcel}},[n("a-button",{attrs:{type:"primary",icon:"import"}},[e._v("导入")])],1),e.selectedRowKeys.length>0?n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:e.batchDel}},[n("a-icon",{attrs:{type:"delete"}}),e._v("\n          删除\n        ")],1)],1),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v(" 批量操作\n        "),n("a-icon",{attrs:{type:"down"}})],1)],1):e._e()],1),n("div",[n("a-alert",{staticStyle:{"margin-bottom":"16px"},attrs:{type:"info",showIcon:""}},[n("template",{slot:"message"},[n("span",[e._v("已选择")]),n("a",{staticStyle:{"font-weight":"600",padding:"0 4px"}},[e._v(e._s(e.selectedRowKeys.length))]),n("span",[e._v("项")]),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])])],2),n("a-table",{ref:"table",attrs:{size:"middle",bordered:"",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link"},[e._v("更多 "),n("a-icon",{attrs:{type:"down"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete(r.id)}}},[n("a",[e._v("删除")])])],1)],1)],1)],1)}}])})],1),n("sys-data-source-modal",{ref:"modalForm",on:{ok:e.modalFormOk}})],1)},i=[],o=n("d579"),a=n("b65a"),s=n("d57c"),l={name:"SysDataSourceList",mixins:[a["a"]],components:{JEllipsis:o["default"],SysDataSourceModal:s["default"]},data:function(){var e=this.$createElement,t=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return e("j-ellipsis",{attrs:{value:t,length:n}})};return{description:"多数据源管理管理页面",columns:[{title:"#",dataIndex:"",key:"rowIndex",width:60,align:"center",customRender:function(e,t,n){return n+1}},{title:"数据源编码",align:"center",dataIndex:"code"},{title:"数据源名称",align:"center",dataIndex:"name"},{title:"数据库类型",align:"center",dataIndex:"dbType_dictText"},{title:"驱动类",align:"center",dataIndex:"dbDriver",customRender:function(e){return t(e)}},{title:"数据源地址",align:"center",dataIndex:"dbUrl",customRender:function(e){return t(e)}},{title:"数据库名称",align:"center",dataIndex:"dbName"},{title:"用户名",align:"center",dataIndex:"dbUsername"},{title:"操作",dataIndex:"action",align:"center",scopedSlots:{customRender:"action"}}],url:{list:"/sys/dataSource/list",delete:"/sys/dataSource/delete",deleteBatch:"/sys/dataSource/deleteBatch",exportXlsUrl:"sys/dataSource/exportXls",importExcelUrl:"sys/dataSource/importExcel"}}},computed:{importExcelUrl:function(){return"".concat(window._CONFIG["domianURL"],"/").concat(this.url.importExcelUrl)}},methods:{}},c=l,u=(n("a10a"),n("2877")),d=Object(u["a"])(c,r,i,!1,null,"05cfd9a6",null);t["default"]=d.exports},fade:function(e,t,n){},faf4:function(e,t,n){"use strict";var r=n("bac7"),i=n.n(r);i.a},fb45:function(e,t,n){"use strict";var r=n("ebd5"),i=n.n(r);i.a},fc39:function(e,t){tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2c0-1.1.9-2 2-2zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 01-1-1v-5c0-.6-.4-1-1-1a1 1 0 00-1 1v5c0 .6-.4 1-1 1a1 1 0 01-1-1V9H4a1 1 0 110-2h16c.6 0 1 .4 1 1s-.4 1-1 1z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 00-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 10-1.4-1.4L12 13.6 5.7 7.3z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 001.4-1.4L12 6.6l-7.7 7.7a1 1 0 001.4 1.4L12 9.4l6.3 6.3z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5L13 7H5a1 1 0 110-2h9.2zm4 0h.8a1 1 0 010 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h6.8zm4 0H19a1 1 0 010 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h4.4zm4 0H19a1 1 0 010 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 010-2h2zm4 0h8a1 1 0 010 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="M5.6 13l12 6a1 1 0 001.4-1V6a1 1 0 00-1.4-.9l-12 6a1 1 0 000 1.8z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="M18.5 13l-12 6A1 1 0 015 18V6a1 1 0 011.4-.9l12 6a1 1 0 010 1.8z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 01-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 00-1 1z" fill-rule="nonzero"/></svg>',"border-width":'<svg width="24" height="24"><path d="M5 14.8h14a1 1 0 010 2H5a1 1 0 010-2zm-.5 3.7h15c.3 0 .5.2.5.5s-.2.5-.5.5h-15a.5.5 0 110-1zm.5-8.3h14c.6 0 1 .4 1 1v1c0 .5-.4 1-1 1H5a1 1 0 01-1-1v-1c0-.6.4-1 1-1zm0-5.7h14c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-2c0-.6.4-1 1-1z" fill-rule="evenodd"/></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3zm0-10a1 1 0 01-.7-.3A1 1 0 0111 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3h-1a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1zM7 12c0 .3-.1.5-.3.7a1 1 0 01-.7.3H5a1 1 0 01-.7-.3A1 1 0 014 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7zm10 3.5l.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 01-.8.3 1 1 0 01-.6-.3l-.8-.7a1 1 0 01-.3-.8c0-.2.1-.5.3-.7a1 1 0 011.4 0zm-10-7l-.7-.8a1 1 0 01-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.8-.3zm10 0a1 1 0 01-.8.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 010 1.4l-.8.8a1 1 0 01-.6.3 1 1 0 01-.8-.3 1 1 0 01-.3-.8c0-.2.1-.5.3-.6l.7-.8zM12 8a4 4 0 013.7 2.4 4 4 0 010 3.2A4 4 0 0112 16a4 4 0 01-3.7-2.4 4 4 0 010-3.2A4 4 0 0112 8zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9.4l-2.3 2.3a1 1 0 11-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 01-1.4 1.4L13 13.4V20a1 1 0 01-2 0v-6.6z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 110 14.8 7.4 7.4 0 010-14.8zM12 3a9 9 0 100 18 9 9 0 000-18zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7z" fill-rule="nonzero"/></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 01-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 01-1 .7h-.2a.7.7 0 01-.7-1l4-12a1 1 0 012 0l4 12a.7.7 0 01-.8 1h-.2a1 1 0 01-1-.7l-.8-2.6zm-.3-1.5l-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 01-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 00-.5-.1 1 1 0 00-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 00-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 001.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 00-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 00-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 01-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 01-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8a1 1 0 010 2h-8a1 1 0 010-2zM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 011.6 1.2l-8 12a1 1 0 01-1.5.1l-5-5a1 1 0 111.4-1.4l4.1 4.1 7.4-11z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 010-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3L4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 010-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 010-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 010-1.1L6 5 2.2 1.3z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8L5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 010-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2L13.4 12l3.9 3.8a1 1 0 01-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 01-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 011.5-1.5l3.8 3.9 3.8-3.9a1 1 0 011.5 1.5z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 01-.8 2 2.8 2.8 0 01.8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 01-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 01.8-2 2.8 2.8 0 01-.8-2zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2zM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 01-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 01-.5-.5V17a3 3 0 001-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0118 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 01-3.7 3 5.7 5.7 0 01-3.2 0A5.9 5.9 0 017.6 18a6.2 6.2 0 01-1.4-2.6 6.7 6.7 0 010-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 012.3-4A20 20 0 0112 4a26.4 26.4 0 013.2 3.4 18.2 18.2 0 012.3 4zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 00-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 01-1.3 3 5.3 5.3 0 01-2.3 1.5 4.9 4.9 0 01-2 .1 4.3 4.3 0 002.4.8 4 4 0 002-.6 4 4 0 001.5-1.5z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 000 18 1.5 1.5 0 001.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 005-5c0-4.4-4-8-9-8zm-5.5 9a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3-4a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3 4a1.5 1.5 0 110-3 1.5 1.5 0 010 3z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3L3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/><path d="M13 10h2a1 1 0 010 2h-2v2a1 1 0 01-2 0v-2H9a1 1 0 010-2h2V8a1 1 0 012 0v2z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-6 8a6 6 0 006 6V6a6 6 0 00-6 6z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 00-2 2v11h2V5h10V3zm1 4a2 2 0 012 2v10a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7zm0 12V9h-7v10h7z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 01-1-1v-2H7V9H5a1 1 0 110-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3zM9 9v5l5-5H9zm1 6h5v-5l-5 5z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0110.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 012 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 017 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7zm12.3 5h-3v10h3v-10zM8 13.8h-.3l-.4.2a2.8 2.8 0 00-.7.4v.1a2.8 2.8 0 00-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 00.8-.3 2.4 2.4 0 00.7-.7 2.5 2.5 0 00.3-.8 1.5 1.5 0 000-.8 1 1 0 00-.2-.4 1 1 0 00-.5-.2H8zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zM7 5.8h-.4a1 1 0 00-.5.3 1 1 0 00-.2.5v.7a2.5 2.5 0 00.3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 000-.8 2.6 2.6 0 00-.3-.8A2.5 2.5 0 007.7 6l-.4-.1H7z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l2 2V3h14zM8.5 15.3h-.3a2.6 2.6 0 00-.8.4 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3L9 18V18l.4-.4.2-.4.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2h-.5zm7 0H15a1 1 0 00-.4.3 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4a2.8 2.8 0 00.5.7h.1a2.8 2.8 0 00.8.6l.4.1h.7l.5-.2.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3h-.3zM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zm8.5-7.1h-11v2h11v-2z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 010 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8zm-8.5 2.2l.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2 1.6 1.6 0 00-.8 0 2.6 2.6 0 00-.8.3 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3 2.8 2.8 0 001-1zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4zm5.4 4l.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3 1.5 1.5 0 00-.8 0 1 1 0 00-.4.2 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4l.3.4.3.4a2.8 2.8 0 00.8.5l.4.1h.7l.5-.2z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5zm0 4h2v2h-2V9zM9 9h2v2H9V9zm4 4h2v2h-2v-2zm-4 0h2v2H9v-2zm0 4h2v2H9v-2zm4 0h2v2h-2v-2zM9 5h2v2H9V5z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7zm-2 2h-3v12h3V8zm-2-6v2H8v15H6V2h7z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16zm-2 2H8v3h12v-3zm-1-6v2H4v5H2V7h17z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10zm3 8h-2V9h-7v10h9a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7a2 2 0 012 2v2z"/><path d="M17 14h1a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1h-1a1 1 0 010-2h1v-1a1 1 0 012 0v1z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19.8 8.8l-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5zm-2-.2l1-.9v-.3l-2.2-2.2a.3.3 0 00-.3 0l-1 1L18 8.5zm-1 1l-2.5-2.4-6 6 2.5 2.5 6-6zm-7 7.1l-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 00-2-2H7v2h11v9zM6 17h15a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1H6a2 2 0 01-2-2V7H3a1 1 0 110-2h1V4a1 1 0 112 0v13zm3-5.3l1.3 2 3-4.7 3.7 6H7l2-3.3z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0119 6zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 008 19h3zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 00-4 4.5h2.2zm-3.4 0a12 12 0 012.8-4 12 12 0 00-5 4h2.2z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 010 .8l-5.6 4A.5.5 0 019 16V8a.5.5 0 01.8-.4z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5zM12 4a8 8 0 100 16 8 8 0 000-16zm0 14.5a6.5 6.5 0 110-13 6.5 6.5 0 010 13z" fill-rule="nonzero"/></svg>',fill:'<svg width="24" height="26"><path d="M16.6 12l-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 002.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2zM5.2 13L10 8.2l4.8 4.8H5.2zM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 002-2c0-1.3-2-3.5-2-3.5z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 00-2 2zm14-2v2h2a2 2 0 00-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 002-2h-2v2z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5zm8 4v2h2v-2h-2zm4-14H7a2 2 0 00-2 2v3h2V6h10v3h2V6a2 2 0 00-2-2zm2 14h-2v2a2 2 0 002-2zM3 11v2h18v-2H3zm6 7v2h2v-2H9zm8-4v2h2v-2h-2zM5 18c0 1.1.9 2 2 2v-2H5z" fill-rule="nonzero"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 00-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 010 2h-4v11a1 1 0 01-2 0V7H7a1 1 0 110-2h10z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="M15.3 10l-1.2-1.3 2.9-3h-2.3a.9.9 0 110-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 11-1.8 0V7l-2.9 3zm0 4l3 3v-2.3a.9.9 0 111.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 110-1.8H17l-3-2.9 1.3-1.2zM10 15.4l-2.9 3h2.3a.9.9 0 110 1.7H5a.9.9 0 01-.9-.9v-4.4a.9.9 0 111.8 0V17l2.9-3 1.2 1.3zM8.7 10L5.7 7v2.3a.9.9 0 01-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 010 1.8H7l3 2.9-1.3 1.2z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="M5 15.7l2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7zM5 18V19h3l1.8-1.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 01-1-1V7c0-.6.4-1 1-1zm6 7a2 2 0 110-4 2 2 0 010 4zM4.5 4h15a.5.5 0 110 1h-15a.5.5 0 010-1zm2-2h11a.5.5 0 110 1h-11a.5.5 0 010-1z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 00-.4-.8l-.1-.2H8 8v-1l.3-.1.3-.1h.7a1 1 0 01.6.5l.1.3a8.5 8.5 0 01.3.6l1.9 4.6 2-5.2a1 1 0 011-.6.5.5 0 01.5.6L13 14v2.8a.7.7 0 01-1.4 0z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 00-6 9 6.3 6.3 0 001.4 2l1 1a6.3 6.3 0 003.6 1 6.5 6.5 0 006-9 6.3 6.3 0 00-1.4-2l-1-1a6.3 6.3 0 00-3.6-1zM12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4z"/><path d="M9.6 9.7a.7.7 0 01-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 00-.8.8.8.8 0 01-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 012.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 100-4 2 2 0 000 4z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-1 3v2h2V7h-2zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 001.8-2.9 6.3 6.3 0 00-.1-4.1 5.8 5.8 0 00-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 00-3.9 1.8 6.3 6.3 0 00-1.3 6 6.2 6.2 0 001.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 014 11c0-1 .2-1.9.6-2.7A7 7 0 016.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 015.7 2 7 7 0 011.7 2.3 6 6 0 01.2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 01-3.6 2.5v.5z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 100-14 7 7 0 000 14zm0 2a9 9 0 110-18 9 9 0 010 18z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 00-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3L16.5 18a5.8 5.8 0 01-3.1 1.9 6.1 6.1 0 01-5.5-1.6A5.8 5.8 0 016 14v-.3l.1-1.2A13.9 13.9 0 017.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 00.2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 00-3-4.2L12 6a26.1 26.1 0 00-2.2 2.5l-1-1a20.9 20.9 0 012.9-3.3L12 4l1 .8a22.2 22.2 0 014 5.4c.6 1.2 1 2.4 1 3.6z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z" fill-rule="evenodd"/></svg>',line:'<svg width="24" height="24"><path d="M15 9l-8 8H4v-3l8-8 3 3zm1-1l-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1zM4 18h16v2H4v-2z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2.1 2a2 2 0 102.7 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2-2a2 2 0 10-2.6-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 26a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 36a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8l-1.6 1v-1.1l1.6-1h1.2V17zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6zM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3zM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4zM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3zM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM37.1 34.6L34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33zm0 10v-1.2h-1.3V26H33zm0 10v-1.2h-1.3V36H33z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M39.3 17l-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3zm-1.6-4.7l-.7 2.3h1.6l-.8-2.3zM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26zM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3zm0 10v-1.2H33V27h-1.3zm0 10v-1.2H33V37h-1.3z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3zM10 8v3h4V8a1 1 0 00-.3-.7A1 1 0 0013 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 017.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L11 5zM4.4 16.2L6.2 15l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="M15 13l2-2v8H5V7h8l-2 2H7v8h8v-4zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 110-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 01-1-1v-3zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M17.8 9.8L15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8zm0 0l2.2 5.7-2.3-5.8zM13 17v-2h-2v2h2zm0-4V7h-2v6h2z" fill-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 110-2zm13-1v3.5a.5.5 0 11-1 0V5h-.5a.5.5 0 110-1H19zm-1 8.8l.2.2h1.3a.5.5 0 110 1h-1.6a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2h-1.3a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 010-1h1.2a.3.3 0 100-.6h-1.3a.4.4 0 110-.8h1.3a.3.3 0 000-.6h-1.2a.5.5 0 110-1H19c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 110-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 01-.5-.5V5h-.5a.5.5 0 010-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2H4.5a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 010-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 110-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 110-1H6c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4L1 13l6.4 6.5 6.5-6.5-6.5-6.5zM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7zM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 010-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 11-4.3 16.9l1.5-1.5A7 7 0 1013 6h-1z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm1.6-3.8a1 1 0 01-1.2 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 011.2 1.6L6.8 12l1.8 1.2z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1zM6 22a1 1 0 01-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 01-1-1v-5H7v5c0 .6-.4 1-1 1z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm8 7v12h-6V8h6zm-1.5 1.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm-2 7v12H4V8h6zM8.5 9.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 11v5H8v-5h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 7v5H8V8h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5L8 20H3v-3l3.5-3.5a2 2 0 010-3L14 3l1 1-7.3 7.3a1 1 0 000 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 01-2.8 0l-.1-.1z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 01.1 2H13v6a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H11V5c0-.6.4-1 1-1z"/></svg>',preferences:'<svg width="24" height="24"><path d="M20.1 13.5l-1.9.2a5.8 5.8 0 01-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 01-1.4 0l-1.5-1.2a6.2 6.2 0 01-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 01-1-.9l-.2-1.9a5.8 5.8 0 01-1.5-.6l-1.5 1.2a1 1 0 01-1.4 0l-.7-.7a1 1 0 010-1.4l1.2-1.5a6.2 6.2 0 01-.6-1.5l-1.9-.2a1 1 0 01-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 01.6-1.5L5.2 7.3a1 1 0 010-1.4l.7-.7a1 1 0 011.4 0l1.5 1.2a6.2 6.2 0 011.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 011.5.6l1.5-1.2a1 1 0 011.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 01.6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1zM12 15a3 3 0 100-6 3 3 0 000 6z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 002.1-2.8 15.7 15.7 0 00-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 00-6.7 3.2A16.2 16.2 0 003.2 12c0 .2.2.3.3.5zm-2.4-1l.7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 012.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 01-2.8-3.7 1 1 0 010-1zm12-3.3a2 2 0 102.7 2.6 4 4 0 11-2.6-2.6z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 00-3 3v6h2v3h14v-3h2v-6a3 3 0 00-3-3zm-1 10H7v-4h10v4zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm.5-8H6v2h12V5z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 11-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 111.4-1.4l5 5a1 1 0 010 1.4l-5 5a1 1 0 01-1.4-1.4l3.3-3.3z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M5 22.1l-1.2-4.7v-.2a1 1 0 011-1l5 .4a1 1 0 11-.2 2l-2.2-.2a7.8 7.8 0 008.4.2 7.5 7.5 0 003.5-6.4 1 1 0 112 0 9.5 9.5 0 01-4.5 8 9.9 9.9 0 01-10.2 0l.4 1.4a1 1 0 11-2 .5zM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 00-9.5-1 7.5 7.5 0 00-3.6 7 1 1 0 01-2 0 9.5 9.5 0 014.5-8.6 10 10 0 0110.9.3l-.3-1a1 1 0 012-.5l1.1 4.8a1 1 0 01-1 1.2l-5-.4a1 1 0 01-.9-1z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 010 .2l-2.6 10a1 1 0 01-1 .8h-.2a.8.8 0 01-.8-1l2.6-10H8a1 1 0 110-2h9a1 1 0 010 2h-3.8zM5 18h7a1 1 0 010 2H5a1 1 0 010-2zm13 1.5L16.5 18 15 19.5a.7.7 0 01-1-1l1.5-1.5-1.5-1.5a.7.7 0 011-1l1.5 1.5 1.5-1.5a.7.7 0 011 1L17.5 17l1.5 1.5a.7.7 0 01-1 1z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 010 2h-1v9a3 3 0 01-3 3H9a3 3 0 01-3-3V9H5a1 1 0 110-2h3V6a3 3 0 013-3h2a3 3 0 013 3v1zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 00-1 1v1h4zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9zm-7 3a1 1 0 012 0v4a1 1 0 01-2 0v-4zm4 0a1 1 0 012 0v4a1 1 0 01-2 0v-4z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 119 2l-7 7A.5.5 0 111 8l7-7zM8.1 5.1A.5.5 0 119 6l-3 3A.5.5 0 115 8l3-3z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-6a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3A1 1 0 014 11V5z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1z"/><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 012 0v6c0 .6-.4 1-1 1h-6a1 1 0 010-2h4.3L16 7A7.2 7.2 0 007.7 6a7 7 0 003 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 011.4 1.5A9.2 9.2 0 012.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 014.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L8 5zm12 11.2a1 1 0 11-1 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 111 1.6L18.4 15l1.8 1.2z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 012 2v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-2c0-1.1.9-2 2-2zm0 2v2h14v-2H5zm10 0h2v2h-2v-2zm-4-6.4L8.7 9.3a1 1 0 10-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 10-1.4-1.4L13 11.6V4a1 1 0 00-2 0v7.6z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 00-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2a2 2 0 00-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8a2 2 0 002-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm3.6 10.9L7 12.3a.7.7 0 00-1 1L9.6 17 18 8.6a.7.7 0 000-1 .7.7 0 00-1 0l-7.4 7.3z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V8H5a1 1 0 110-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6zM8 8h2V6H8v2zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V13H5a1 1 0 010-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6zM14 13h2v-2h-2v2zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V18H5a1 1 0 010-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6zM8 18h2v-2H8v2z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="M16 6l4 4-8 9-8-9 4-4h8zm-4 10.2l5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 010-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7zM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 00-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6zm0-3v2h2V5H6zm13 0h-3v5h3v1h-3a1 1 0 01-.7-.3 1 1 0 01-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1zm-5 1.5l-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5zM13 10V8h-2v2h2zm0-3V5h-2v2h2zm3 5l1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 017 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1z"/><path d="M5 11h14a1 1 0 010 2H5a1 1 0 010-2z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10zM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 00-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 01-1.3 1.3l-.6.6h2.6V19z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11z" fill-rule="nonzero"/></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8 0h-6v5h6v-5zm-8-7H5v5h6V6z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2zm.3.5l1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6zm-4.7 1.8l1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 6v12h14V6H5z"/><path d="M14.4 8.6l1 1-2.3 2.4 2.3 2.4-1 1-2.4-2.3-2.4 2.3-1-1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 01-2 0V6h-8v12h8v-1a1 1 0 012 0v2c0 .5-.4 1-.9 1H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h15zM9 13H5v5h4v-5zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H17v2a1 1 0 01-2 .1V13h-2a1 1 0 01-.1-2H15V9c0-.6.4-1 1-1zM9 6H5v5h4V6z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H4a1 1 0 01-1-1v-2a1 1 0 012 0v1h8V6H5v1a1 1 0 11-2 0V5c0-.6.4-1 1-1h15zm0 9h-4v5h4v-5zM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H9v2a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H7V9c0-.6.4-1 1-1zm11-2h-4v5h4V6z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 110 2H5v6h14V6h-1a1 1 0 010-2h2c.6 0 1 .4 1 1v13a2 2 0 01-2 2H5a2 2 0 01-2-2V5c0-.6.4-1 1-1h2zm5 10H5v4h6v-4zm8 0h-6v4h6v-4zM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 010 2h-2v2a1 1 0 01-2 .1V8H9a1 1 0 010-2h2V4c0-.6.4-1 1-1z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 01.1 2H13v2a1 1 0 01-2 .1V18H9a1 1 0 01-.1-2H11v-2c0-.6.4-1 1-1zm6 7a1 1 0 010-2h1v-6H5v6h1a1 1 0 010 2H4a1 1 0 01-1-1V6c0-1.1.9-2 2-2h14a2 2 0 012 2v13c0 .5-.4 1-.9 1H18zM11 6H5v4h6V6zm8 0h-6v4h6V6z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 9h-4v5h4v-5zm-6 0H9v5h4v-5zm0-7H9v5h4V6zm6 0h-4v5h4V6z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15.5V18h3v-2.5H5zm14-5h-9V18h9v-7.5zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6zm-8 7.5h3v-3H5v3z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-9h-6v3h6V6zM5 9h6V6H5v3z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM8 15.5H5V18h3v-2.5zm11-5h-9V18h9v-7.5zm-2.5 1l1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2zm-8.5-1H5v3h3v-3zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 11H5v3h6v-3zm8 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 14v4h6v-4H5zm14 0h-6v4h6v-4zm0-6h-6v4h6V8zM5 12h6V8H5v4z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14zM9 16v-4a5 5 0 116 0v4h4a2 2 0 012 2v3H3v-3c0-1.1.9-2 2-2h4zm4 0v-5l.8-.6a3 3 0 10-3.6 0l.8.6v5h2z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 111 0V6H15v1.6a8 8 0 11-6 0zm-2.6 5.3a.5.5 0 00.3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 013.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 00-4.1 3.7z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 01-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 01-.5.6h-.8a.5.5 0 01-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 00.5.6h1.6a.5.5 0 00.5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z"/></g></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="M12.7 14.3l-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 010-1l3.1-3A12.4 12.4 0 016.7 9H8a10.1 10.1 0 001.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 110-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 01-1 2.4 13.5 13.5 0 01-1.7 2.3l1.9 1.8zm4.3-3l2.7 7.3a.5.5 0 01-.4.7 1 1 0 01-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 01-1 .7.5.5 0 01-.4-.7l2.7-7.4a1 1 0 012 0zm-2.2 4.4h2.4L16 12.5l-1.2 3.2z" fill-rule="evenodd"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 01-.4 1.8l-1 1.4a5.3 5.3 0 01-5.5 1 5 5 0 01-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 01-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 002.2.8 3.4 3.4 0 002.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 01-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 11-1.4 1.4l-5-5a1 1 0 010-1.4l5-5a1 1 0 011.4 1.4L6.4 8z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2 2a2 2 0 102.6 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2.1-2a2 2 0 10-2.7-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2zM7.6 6.3a.8.8 0 01-1 1.1L3.3 4.2a.7.7 0 111-1l3.2 3.1zM5.1 8.6a.8.8 0 010 1.5H3a.8.8 0 010-1.5H5zm5-3.5a.8.8 0 01-1.5 0V3a.8.8 0 011.5 0V5zm6 11.8a.8.8 0 011-1l3.2 3.2a.8.8 0 01-1 1L16 17zm-2.2 2a.8.8 0 011.5 0V21a.8.8 0 01-1.5 0V19zm5-3.5a.7.7 0 110-1.5H21a.8.8 0 010 1.5H19z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 00-.3-.7A1 1 0 0016 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm0 1a1 1 0 00-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 012 0v3c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-3a1 1 0 012 0v2h12zM11 6.4L8.7 8.7a1 1 0 01-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 11-1.4 1.4L13 6.4V16a1 1 0 01-2 0V6.4z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 110-24 12 12 0 010 24zm-8.7-5.3a11 11 0 0017.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7zM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13z" fill-rule="nonzero"/></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2zm-4 0v2a2 2 0 01-2-2h2zm8 0v2h-2v-2h2zm8 0a2 2 0 01-2 2v-2h2zm-4 0v2h-2v-2h2zM15 7a1 1 0 010 2v7a1 1 0 01-2 0V9h-1v7a1 1 0 01-2 0v-4a2.5 2.5 0 01-.2-5H15zM5 15v2H3v-2h2zm16 0v2h-2v-2h2zM5 11v2H3v-2h2zm16 0v2h-2v-2h2zM5 7v2H3V7h2zm16 0v2h-2V7h2zM5 3v2H3c0-1.1.9-2 2-2zm8 0v2h-2V3h2zm6 0a2 2 0 012 2h-2V3zM9 3v2H7V3h2zm8 0v2h-2V3h2z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6zM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3zm.7-3l.3-4a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7l.3 4h1.4z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-1-9a1 1 0 012 0v6a1 1 0 01-2 0V8zm-2 4a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-3-5a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>'}})},fca0:function(e,t,n){"use strict";var r=n("4fa4"),i=n.n(r);i.a},fca9:function(e,t,n){"use strict";var r=n("a174"),i=n.n(r);i.a},fcbc:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{width:e.modalWidth,visible:e.visible,footer:null,cancelText:"关闭"},on:{cancel:e.handleCancel}},[n("div",{staticClass:"marginCss"},[n("a-table",{ref:"table",attrs:{size:"small",bordered:"",rowKey:"id",columns:e.columns,dataSource:e.dataSource,rowClassName:e.setdataCss,loading:e.loading,scroll:{y:700},pagination:!1},scopedSlots:e._u([{key:"avatarslot",fn:function(t,r){return[n("div",{staticClass:"anty-img-wrap"},[n("img",{attrs:{src:e.getAvatarView(r)}})])]}}])},[n("span",{attrs:{slot:"dataVersionTitle1"},slot:"dataVersionTitle1"},[n("a-icon",{attrs:{type:"smile-o"}}),e._v(" 版本:"+e._s(e.dataVersion1Num))],1),n("span",{attrs:{slot:"dataVersionTitle2"},slot:"dataVersionTitle2"},[n("a-icon",{attrs:{type:"smile-o"}}),e._v(" 版本:"+e._s(e.dataVersion2Num))],1)])],1)])},i=[],o=n("0fea"),a={name:"DataLogCompareModal",data:function(){return{modalWidth:1e3,modaltoggleFlag:!0,confirmDirty:!1,title:"操作",visible:!1,model:{},confirmLoading:!1,headers:{},dataVersion1Num:"",dataVersion2Num:"",columns:[{title:"字段名",align:"left",dataIndex:"code",width:"30%"},{align:"left",dataIndex:"dataVersion1",width:"30%",slots:{title:"dataVersionTitle1"}},{title:"",dataIndex:"imgshow",align:"center",scopedSlots:{customRender:"avatarslot"},width:"10%"},{align:"left",dataIndex:"dataVersion2",width:"30%",slots:{title:"dataVersionTitle2"}}],dataSource:[],loading:!1,url:{queryCompareUrl:"/sys/dataLog/queryCompareList"}}},created:function(){},methods:{loadData:function(e,t){var n=this;this.dataSource=[];var r=this;Object(o["c"])(r.url.queryCompareUrl,{dataId1:e,dataId2:t}).then((function(e){if(e.success){r.dataVersion1Num=e.result[0].dataVersion,r.dataVersion2Num=e.result[1].dataVersion;var t=JSON.parse(e.result[0].dataContent),i=JSON.parse(e.result[1].dataContent);for(var o in t)for(var a in i)o==a&&n.dataSource.push({code:o,imgshow:"",dataVersion1:t[o],dataVersion2:i[a]})}}))},compareModal:function(e,t){this.visible=!0,this.loadData(e,t)},handleCancel:function(){this.close()},modalFormOk:function(){},close:function(){this.$emit("close"),this.visible=!1,this.disableSubmit=!1},setdataCss:function(e){var t="trcolor",n=e.dataVersion1,r=e.dataVersion2;if(n!=r)return t},getAvatarView:function(e){return e.dataVersion1!=e.dataVersion2?"/goright.png":""}}},s=a,l=(n("d74e"),n("2877")),c=Object(l["a"])(s,r,i,!1,null,"7a4f8dd3",null);t["default"]=c.exports},fd15:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchQuery(t)}}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"模板CODE"}},[n("a-input",{attrs:{placeholder:"请输入模板CODE"},model:{value:e.queryParam.templateCode,callback:function(t){e.$set(e.queryParam,"templateCode",t)},expression:"queryParam.templateCode"}})],1)],1),n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"模板内容"}},[n("a-input",{attrs:{placeholder:"请输入模板内容"},model:{value:e.queryParam.templateContent,callback:function(t){e.$set(e.queryParam,"templateContent",t)},expression:"queryParam.templateContent"}})],1)],1),e.toggleSearchStatus?[n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"模板标题"}},[n("a-input",{attrs:{placeholder:"请输入模板标题"},model:{value:e.queryParam.templateName,callback:function(t){e.$set(e.queryParam,"templateName",t)},expression:"queryParam.templateName"}})],1)],1),n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"模板类型"}},[n("a-input",{attrs:{placeholder:"请输入模板类型"},model:{value:e.queryParam.templateType,callback:function(t){e.$set(e.queryParam,"templateType",t)},expression:"queryParam.templateType"}})],1)],1)]:e._e(),n("a-col",{attrs:{md:6,sm:8}},[n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")]),n("a",{staticStyle:{"margin-left":"8px"},on:{click:e.handleToggleSearch}},[e._v("\n              "+e._s(e.toggleSearchStatus?"收起":"展开")+"\n              "),n("a-icon",{attrs:{type:e.toggleSearchStatus?"up":"down"}})],1)],1)])],2)],1)],1),n("div",{staticClass:"table-operator"},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("新增")]),n("a-button",{attrs:{type:"primary",icon:"download"},on:{click:function(t){return e.handleExportXls("消息模板")}}},[e._v("导出")]),n("a-upload",{attrs:{name:"file",showUploadList:!1,multiple:!1,headers:e.tokenHeader,action:e.importExcelUrl},on:{change:e.handleImportExcel}},[n("a-button",{attrs:{type:"primary",icon:"import"}},[e._v("导入")])],1),e.selectedRowKeys.length>0?n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:e.batchDel}},[n("a-icon",{attrs:{type:"delete"}}),e._v("\n          删除\n        ")],1)],1),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v(" 批量操作\n        "),n("a-icon",{attrs:{type:"down"}})],1)],1):e._e()],1),n("div",[n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),e._v(" 已选择 "),n("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRowKeys.length))]),e._v("项\n      "),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])]),n("a-table",{ref:"table",attrs:{size:"middle",bordered:"",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"templateContent",fn:function(e){return n("span",{},[n("j-ellipsis",{attrs:{value:e,length:25}})],1)}},{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link"},[e._v("更多 "),n("a-icon",{attrs:{type:"down"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete(r.id)}}},[n("a",[e._v("删除")])])],1),n("a-menu-item",[n("a",{on:{click:function(t){return e.handleTest(r)}}},[e._v("发送测试")])])],1)],1)],1)}}])})],1),n("sysMessageTemplate-modal",{ref:"modalForm",on:{ok:e.modalFormOk}}),n("sysMessageTest-modal",{ref:"testModal"})],1)},i=[],o=n("e5ab"),a=n("86a6"),s=n("b65a"),l=n("d579"),c={name:"SysMessageTemplateList",mixins:[s["a"]],components:{JEllipsis:l["default"],SysMessageTemplateModal:o["default"],SysMessageTestModal:a["default"]},data:function(){return{description:"消息模板管理页面",columns:[{title:"#",dataIndex:"",key:"rowIndex",width:60,align:"center",customRender:function(e,t,n){return parseInt(n)+1}},{title:"模板CODE",align:"center",dataIndex:"templateCode"},{title:"模板标题",align:"center",dataIndex:"templateName"},{title:"模板内容",align:"center",dataIndex:"templateContent",scopedSlots:{customRender:"templateContent"}},{title:"模板类型",align:"center",dataIndex:"templateType",customRender:function(e){return"1"==e?"短信":"2"==e?"邮件":"3"==e?"微信":"4"==e?"系统":void 0}},{title:"操作",dataIndex:"action",align:"center",scopedSlots:{customRender:"action"}}],url:{list:"/message/sysMessageTemplate/list",delete:"/message/sysMessageTemplate/delete",deleteBatch:"/message/sysMessageTemplate/deleteBatch",exportXlsUrl:"message/sysMessageTemplate/exportXls",importExcelUrl:"message/sysMessageTemplate/importExcel"}}},computed:{importExcelUrl:function(){return"".concat(window._CONFIG["domianURL"],"/").concat(this.url.importExcelUrl)}},methods:{handleTest:function(e){this.$refs.testModal.open(e),this.$refs.testModal.title="发送测试"}}},u=c,d=(n("7a83"),n("2877")),f=Object(d["a"])(u,r,i,!1,null,"44f4bde8",null);t["default"]=f.exports},fd9c:function(e,t,n){},fd9f:function(e,t,n){"use strict";var r=n("ea4e"),i=n.n(r);i.a},fe54:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"components-input-demo-presuffix"},[n("a-input",{attrs:{placeholder:"请点击选择部门",readOnly:"",disabled:e.disabled},on:{click:e.openModal},model:{value:e.departNames,callback:function(t){e.departNames=t},expression:"departNames"}},[n("a-icon",{attrs:{slot:"prefix",type:"cluster",title:"部门选择控件"},slot:"prefix"}),e.departIds?n("a-icon",{attrs:{slot:"suffix",type:"close-circle",title:"清空"},on:{click:e.handleEmpty},slot:"suffix"}):e._e()],1),n("j-select-depart-modal",{ref:"innerDepartSelectModal",attrs:{"modal-width":e.modalWidth,multi:e.multi,rootOpened:e.rootOpened,"depart-id":e.departIds},on:{ok:e.handleOK,initComp:e.initComp}})],1)},i=[],o=n("b0cd"),a={name:"JSelectDepart",components:{JSelectDepartModal:o["default"]},props:{modalWidth:{type:Number,default:500,required:!1},multi:{type:Boolean,default:!1,required:!1},rootOpened:{type:Boolean,default:!0,required:!1},value:{type:String,required:!1},disabled:{type:Boolean,required:!1,default:!1},customReturnField:{type:String,default:"id"}},data:function(){return{visible:!1,confirmLoading:!1,departNames:"",departIds:""}},mounted:function(){this.departIds=this.value},watch:{value:function(e){"id"===this.customReturnField&&(this.departIds=e)}},methods:{initComp:function(e){var t=this;if(this.departNames=e,"id"!==this.customReturnField&&this.value){var n=this.$refs.innerDepartSelectModal.dataList;this.departIds=this.value.split(",").map((function(e){var r=n.filter((function(n){return n[t.customReturnField]===e}));return r.length>0?r[0].id:""})).join(",")}},openModal:function(){this.$refs.innerDepartSelectModal.show()},handleOK:function(e,t){var n=this,r="";!e&&e.length<=0?(this.departNames="",this.departIds=""):(r=e.map((function(e){return e[n.customReturnField]})).join(","),this.departNames=e.map((function(e){return e["departName"]})).join(","),this.departIds=t),this.$emit("change",r)},getDepartNames:function(){return this.departNames},handleEmpty:function(){this.handleOK("")}},model:{prop:"value",event:"change"}},s=a,l=(n("9b3e"),n("2877")),c=Object(l["a"])(s,r,i,!1,null,"4334b3e0",null);t["default"]=c.exports},ff2a:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("a-row",[n("a-col",{attrs:{md:2,sm:4}},[n("a-select",{staticStyle:{width:"90px"},attrs:{defaultValue:"POST",size:"large"},on:{change:e.handleChange}},[n("a-select-option",{attrs:{value:"POST"}},[e._v("POST")])],1)],1),n("a-col",{attrs:{md:22,sm:20}},[n("a-input-search",{attrs:{placeholder:"input send url",enterButton:"Send",size:"large"},on:{search:e.onSearch},model:{value:e.url,callback:function(t){e.url=t},expression:"url"}})],1)],1),n("a-tabs",{attrs:{defaultActiveKey:"2"}},[n("a-tab-pane",{key:"2",attrs:{tab:"params"}},[n("textarea",{staticStyle:{width:"100%","font-size":"16px","font-weight":"500"},attrs:{rows:13},on:{input:e.changeVal}})])],1),n("a-tabs",{attrs:{defaultActiveKey:"1"}},[n("a-tab-pane",{key:"1",attrs:{tab:"response"}},[n("textarea",{staticStyle:{width:"100%","font-size":"16px","font-weight":"500"},attrs:{rows:10,readOnly:""},domProps:{innerHTML:e._s(e.resultJson)}})])],1)],1)},i=[],o=n("0fea"),a=n("9fb0"),s=n("2b0e"),l={name:"FlowTest",data:function(){return{url:"",paramJson:"",resultJson:{},requestMethod:"POST"}},methods:{onSearch:function(e){var t=this,n=this;this.resultJson={},"POST"===this.requestMethod.toUpperCase()?Object(o["i"])(e,this.paramJson).then((function(e){t.resultJson=e})).catch((function(e){n.$message.error("请求异常："+e)})):Object(o["c"])(e,this.paramJson).then((function(e){t.resultJson=e})).catch((function(e){n.$message.error("请求异常："+e)}))},changeVal:function(e){try{var t=e.target.value;t=t.replace(/\n/g,""),t=t.replace(/\s*/g,""),t.indexOf(",}")>0&&(t=t.replace(",}","}")),this.paramJson=JSON.parse(t)}catch(e){this.$message.error("非法的JSON字符串")}},handleChange:function(e){this.requestMethod=e},created:function(){var e=s["default"].ls.get(a["a"]);this.headers={"X-Access-Token":e}}}},c=l,u=n("2877"),d=Object(u["a"])(c,r,i,!1,null,null,null);t["default"]=d.exports},ff3c:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-button",{attrs:{type:"primary"},on:{click:e.handleTableCheck}},[e._v("表单验证")]),n("span",{staticStyle:{"padding-left":"8px"}}),n("a-tooltip",{attrs:{placement:"top",title:"获取值，忽略表单验证",autoAdjustOverflow:!0}},[n("a-button",{attrs:{type:"primary"},on:{click:e.handleTableGet}},[e._v("获取值")])],1),n("span",{staticStyle:{"padding-left":"8px"}}),n("a-tooltip",{attrs:{placement:"top",title:"模拟加载1000条数据",autoAdjustOverflow:!0}},[n("a-button",{attrs:{type:"primary"},on:{click:e.handleTableSet}},[e._v("设置值")])],1),n("j-editable-table",{ref:"editableTable",staticStyle:{"margin-top":"8px"},attrs:{loading:e.loading,columns:e.columns,dataSource:e.dataSource,rowNumber:!0,rowSelection:!0,actionButton:!0,dragSort:!0},on:{selectRowChange:e.handleSelectRowChange},scopedSlots:e._u([{key:"action",fn:function(t){return[n("a",{on:{click:function(n){return e.handleDelete(t)}}},[e._v("删除")])]}}])})],1)},i=[],o=n("c1df"),a=n.n(o),s=n("e2e0"),l=n("ca00"),c=n("7550"),u={name:"DefaultTable",components:{JEditableTable:c["default"]},data:function(){return{loading:!1,columns:[{title:"字段名称",key:"dbFieldName",width:"300px",type:s["a"].input,defaultValue:"",placeholder:"请输入${title}",validateRules:[{required:!0,message:"请输入${title}"},{pattern:/^[a-z|A-Z][a-z|A-Z\d_-]{0,}$/,message:"${title}必须以字母开头，可包含数字、下划线、横杠"},{unique:!0,message:"${title}不能重复"},{handler:function(e,t,n,r,i,o){"blur"===e&&"abc"===t?i(!1,"${title}不能是abc"):i(!0)},message:"${title}默认提示"}]},{title:"文件域",key:"upload",type:s["a"].upload,width:"300px",placeholder:"点击上传",token:!0,responseName:"message",action:window._CONFIG["domianURL"]+"/sys/common/upload"},{title:"字段类型",key:"dbFieldType",width:"300px",type:s["a"].select,options:[{title:"String",value:"string"},{title:"Integer",value:"int"},{title:"Double",value:"double"},{title:"Boolean",value:"boolean"}],allowInput:!0,defaultValue:"",placeholder:"请选择${title}",validateRules:[{required:!0,message:"请选择${title}"}]},{title:"性别（字典）",key:"sex_dict",width:"300px",type:s["a"].select,options:[],dictCode:"sex",placeholder:"请选择${title}",validateRules:[{required:!0,message:"请选择${title}"}]},{title:"多选测试",key:"multipleSelect",width:"300px",type:s["a"].select,props:{mode:"multiple"},options:[{title:"String",value:"string"},{title:"Integer",value:"int"},{title:"Double",value:"double"},{title:"Boolean",value:"boolean"}],defaultValue:["int","boolean"],placeholder:"这里可以多选",validateRules:[{required:!0,message:"请选择${title}"}]},{title:"字段长度",key:"dbLength",width:"100px",type:s["a"].inputNumber,defaultValue:32,placeholder:"${title}",statistics:!0,validateRules:[{required:!0,message:"请输入${title}"}]},{title:"日期",key:"datetime",width:"320px",type:s["a"].datetime,defaultValue:"2019-4-30 14:52:22",placeholder:"请选择${title}",validateRules:[{required:!0,message:"请选择${title}"}]},{title:"数字",key:"money",width:"320px",type:s["a"].inputNumber,defaultValue:"100.32",placeholder:"请选择${title}",validateRules:[{required:!0,message:"请选择${title}"}]},{title:"可以为空",key:"isNull",width:"100px",type:s["a"].checkbox,customValue:["Y","N"],defaultChecked:!1},{type:s["a"].popup,key:"popup",title:"JPopup",width:"180px",popupCode:"demo",field:"name",orgFields:"name",destFields:"name"},{title:"操作",key:"action",width:"100px",type:s["a"].slot,slotName:"action"}],dataSource:[],selectedRowIds:[]}},mounted:function(){this.randomData(23,!1)},methods:{handleTableCheck:function(){var e=this;this.$refs.editableTable.getValues((function(t){0===t?e.$message.success("验证通过"):e.$message.error("验证未通过")}))},handleTableGet:function(){this.$refs.editableTable.getValues((function(e,t){}),!1),this.$message.info("获取值成功，请看控制台输出")},handleTableSet:function(){this.randomData(1e3,!0)},handleSelectRowChange:function(e){this.selectedRowIds=e},randomData:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n&&(this.loading=!0);for(var r=function(){var e=parseInt(Object(l["i"])(1e3,9999999999999));return a()(new Date(e)).format("YYYY-MM-DD HH:mm:ss")},i=Date.now(),o=[],s=0;s<e;s++)o.push({id:Object(l["k"])(),dbFieldName:"name_".concat(s+1),multipleSelect:["string",["int","double","boolean"][Object(l["i"])(0,2)]],dbFieldType:["string","int","double","boolean"][Object(l["i"])(0,3)],dbLength:Object(l["i"])(0,233),datetime:r(),isNull:["Y","N"][Object(l["i"])(0,1)]});this.dataSource=o;var c=Date.now(),u=c-i;n&&u<e&&setTimeout((function(){t.loading=!1}),e-u)},handleDelete:function(e){var t=e.rowId,n=e.target;n.removeRows(t)}}},d=u,f=n("2877"),h=Object(f["a"])(d,r,i,!1,null,"2d5e7020",null);t["default"]=h.exports},ffc3:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{staticStyle:{width:"130%","text-align":"center","margin-left":"-10%"},attrs:{bordered:!1}},[n("a-steps",{staticClass:"steps",attrs:{current:e.currentTab}},[n("a-step",{attrs:{title:"手机验证"}}),n("a-step",{attrs:{title:"密码"}}),n("a-step",{attrs:{title:"完成"}})],1),n("div",{staticClass:"content"},[0===e.currentTab?n("step2",{on:{nextStep:e.nextStep}}):e._e(),1===e.currentTab?n("step3",{attrs:{userList:e.userList},on:{nextStep:e.nextStep,prevStep:e.prevStep}}):e._e(),2===e.currentTab?n("step4",{attrs:{userList:e.userList},on:{prevStep:e.prevStep,finish:e.finish}}):e._e()],1)],1)},i=[],o=n("f14a"),a=n("ba6d"),s=n("f6d9"),l=n("8e46"),c={name:"Alteration",components:{Step1:o["default"],Step2:a["default"],Step3:s["default"],Step4:l["default"]},data:function(){return{description:"将一个冗长或用户不熟悉的表单任务分成多个步骤，指导用户完成。",currentTab:0,userList:{},form:null}},methods:{nextStep:function(e){this.userList=e,this.currentTab<4&&(this.currentTab+=1)},prevStep:function(e){this.userList=e,this.currentTab>0&&(this.currentTab-=1)},finish:function(){this.currentTab=0}}},u=c,d=(n("19a5"),n("2877")),f=Object(d["a"])(u,r,i,!1,null,"e9f3f206",null);t["default"]=f.exports},ffda:function(e,t,n){(function(e){e(n("56b3"))})((function(e){"use strict";function t(e){var t;while(null!=(t=e.next()))if("`"==t&&!e.eat("`"))return"variable-2";return e.backUp(e.current().length-1),e.eatWhile(/\w/)?"variable-2":null}function n(e){var t;while(null!=(t=e.next()))if('"'==t&&!e.eat('"'))return"variable-2";return e.backUp(e.current().length-1),e.eatWhile(/\w/)?"variable-2":null}function r(e){return e.eat("@")&&(e.match(/^session\./),e.match(/^local\./),e.match(/^global\./)),e.eat("'")?(e.match(/^.*'/),"variable-2"):e.eat('"')?(e.match(/^.*"/),"variable-2"):e.eat("`")?(e.match(/^.*`/),"variable-2"):e.match(/^[0-9a-zA-Z$\.\_]+/)?"variable-2":null}function i(e){return e.eat("N")?"atom":e.match(/^[a-zA-Z.#!?]/)?"variable-2":null}e.defineMode("sql",(function(t,n){var r=n.client||{},i=n.atoms||{false:!0,true:!0,null:!0},l=n.builtin||a(s),c=n.keywords||a(o),u=n.operatorChars||/^[*+\-%<>!=&|~^\/]/,d=n.support||{},f=n.hooks||{},h=n.dateSQL||{date:!0,time:!0,timestamp:!0},p=!1!==n.backslashStringEscapes,m=n.brackets||/^[\{}\(\)\[\]]/,g=n.punctuation||/^[;.,:]/;function v(e,t){var n=e.next();if(f[n]){var o=f[n](e,t);if(!1!==o)return o}if(d.hexNumber&&("0"==n&&e.match(/^[xX][0-9a-fA-F]+/)||("x"==n||"X"==n)&&e.match(/^'[0-9a-fA-F]+'/)))return"number";if(d.binaryNumber&&(("b"==n||"B"==n)&&e.match(/^'[01]+'/)||"0"==n&&e.match(/^b[01]+/)))return"number";if(n.charCodeAt(0)>47&&n.charCodeAt(0)<58)return e.match(/^[0-9]*(\.[0-9]+)?([eE][-+]?[0-9]+)?/),d.decimallessFloat&&e.match(/^\.(?!\.)/),"number";if("?"==n&&(e.eatSpace()||e.eol()||e.eat(";")))return"variable-3";if("'"==n||'"'==n&&d.doubleQuote)return t.tokenize=b(n),t.tokenize(e,t);if((d.nCharCast&&("n"==n||"N"==n)||d.charsetCast&&"_"==n&&e.match(/[a-z][a-z0-9]*/i))&&("'"==e.peek()||'"'==e.peek()))return"keyword";if(d.escapeConstant&&("e"==n||"E"==n)&&("'"==e.peek()||'"'==e.peek()&&d.doubleQuote))return t.tokenize=function(e,t){return(t.tokenize=b(e.next(),!0))(e,t)},"keyword";if(d.commentSlashSlash&&"/"==n&&e.eat("/"))return e.skipToEnd(),"comment";if(d.commentHash&&"#"==n||"-"==n&&e.eat("-")&&(!d.commentSpaceRequired||e.eat(" ")))return e.skipToEnd(),"comment";if("/"==n&&e.eat("*"))return t.tokenize=y(1),t.tokenize(e,t);if("."!=n){if(u.test(n))return e.eatWhile(u),"operator";if(m.test(n))return"bracket";if(g.test(n))return e.eatWhile(g),"punctuation";if("{"==n&&(e.match(/^( )*(d|D|t|T|ts|TS)( )*'[^']*'( )*}/)||e.match(/^( )*(d|D|t|T|ts|TS)( )*"[^"]*"( )*}/)))return"number";e.eatWhile(/^[_\w\d]/);var a=e.current().toLowerCase();return h.hasOwnProperty(a)&&(e.match(/^( )+'[^']*'/)||e.match(/^( )+"[^"]*"/))?"number":i.hasOwnProperty(a)?"atom":l.hasOwnProperty(a)?"builtin":c.hasOwnProperty(a)?"keyword":r.hasOwnProperty(a)?"string-2":null}return d.zerolessFloat&&e.match(/^(?:\d+(?:e[+-]?\d+)?)/i)?"number":e.match(/^\.+/)?null:d.ODBCdotTable&&e.match(/^[\w\d_$#]+/)?"variable-2":void 0}function b(e,t){return function(n,r){var i,o=!1;while(null!=(i=n.next())){if(i==e&&!o){r.tokenize=v;break}o=(p||t)&&!o&&"\\"==i}return"string"}}function y(e){return function(t,n){var r=t.match(/^.*?(\/\*|\*\/)/);return r?"/*"==r[1]?n.tokenize=y(e+1):n.tokenize=e>1?y(e-1):v:t.skipToEnd(),"comment"}}function C(e,t,n){t.context={prev:t.context,indent:e.indentation(),col:e.column(),type:n}}function w(e){e.indent=e.context.indent,e.context=e.context.prev}return{startState:function(){return{tokenize:v,context:null}},token:function(e,t){if(e.sol()&&t.context&&null==t.context.align&&(t.context.align=!1),t.tokenize==v&&e.eatSpace())return null;var n=t.tokenize(e,t);if("comment"==n)return n;t.context&&null==t.context.align&&(t.context.align=!0);var r=e.current();return"("==r?C(e,t,")"):"["==r?C(e,t,"]"):t.context&&t.context.type==r&&w(t),n},indent:function(n,r){var i=n.context;if(!i)return e.Pass;var o=r.charAt(0)==i.type;return i.align?i.col+(o?0:1):i.indent+(o?0:t.indentUnit)},blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:d.commentSlashSlash?"//":d.commentHash?"#":"--",closeBrackets:"()[]{}''\"\"``"}}));var o="alter and as asc between by count create delete desc distinct drop from group having in insert into is join like not on or order select set table union update values where limit ";function a(e){for(var t={},n=e.split(" "),r=0;r<n.length;++r)t[n[r]]=!0;return t}var s="bool boolean bit blob enum long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision real date datetime year unsigned signed decimal numeric";e.defineMIME("text/x-sql",{name:"sql",keywords:a(o+"begin"),builtin:a(s),atoms:a("false true null unknown"),dateSQL:a("date time timestamp"),support:a("ODBCdotTable doubleQuote binaryNumber hexNumber")}),e.defineMIME("text/x-mssql",{name:"sql",client:a("$partition binary_checksum checksum connectionproperty context_info current_request_id error_line error_message error_number error_procedure error_severity error_state formatmessage get_filestream_transaction_context getansinull host_id host_name isnull isnumeric min_active_rowversion newid newsequentialid rowcount_big xact_state object_id"),keywords:a(o+"begin trigger proc view index for add constraint key primary foreign collate clustered nonclustered declare exec go if use index holdlock nolock nowait paglock readcommitted readcommittedlock readpast readuncommitted repeatableread rowlock serializable snapshot tablock tablockx updlock with"),builtin:a("bigint numeric bit smallint decimal smallmoney int tinyint money float real char varchar text nchar nvarchar ntext binary varbinary image cursor timestamp hierarchyid uniqueidentifier sql_variant xml table "),atoms:a("is not null like and or in left right between inner outer join all any some cross unpivot pivot exists"),operatorChars:/^[*+\-%<>!=^\&|\/]/,brackets:/^[\{}\(\)]/,punctuation:/^[;.,:/]/,backslashStringEscapes:!1,dateSQL:a("date datetimeoffset datetime2 smalldatetime datetime time"),hooks:{"@":r}}),e.defineMIME("text/x-mysql",{name:"sql",client:a("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),keywords:a(o+"accessible action add after algorithm all analyze asensitive at authors auto_increment autocommit avg avg_row_length before binary binlog both btree cache call cascade cascaded case catalog_name chain change changed character check checkpoint checksum class_origin client_statistics close coalesce code collate collation collations column columns comment commit committed completion concurrent condition connection consistent constraint contains continue contributors convert cross current current_date current_time current_timestamp current_user cursor data database databases day_hour day_microsecond day_minute day_second deallocate dec declare default delay_key_write delayed delimiter des_key_file describe deterministic dev_pop dev_samp deviance diagnostics directory disable discard distinctrow div dual dumpfile each elseif enable enclosed end ends engine engines enum errors escape escaped even event events every execute exists exit explain extended fast fetch field fields first flush for force foreign found_rows full fulltext function general get global grant grants group group_concat handler hash help high_priority hosts hour_microsecond hour_minute hour_second if ignore ignore_server_ids import index index_statistics infile inner innodb inout insensitive insert_method install interval invoker isolation iterate key keys kill language last leading leave left level limit linear lines list load local localtime localtimestamp lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters match max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modifies modify mutex mysql_errno natural next no no_write_to_binlog offline offset one online open optimize option optionally out outer outfile pack_keys parser partition partitions password phase plugin plugins prepare preserve prev primary privileges procedure processlist profile profiles purge query quick range read read_write reads real rebuild recover references regexp relaylog release remove rename reorganize repair repeatable replace require resignal restrict resume return returns revoke right rlike rollback rollup row row_format rtree savepoint schedule schema schema_name schemas second_microsecond security sensitive separator serializable server session share show signal slave slow smallint snapshot soname spatial specific sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sqlexception sqlstate sqlwarning ssl start starting starts status std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace temporary terminated to trailing transaction trigger triggers truncate uncommitted undo uninstall unique unlock upgrade usage use use_frm user user_resources user_statistics using utc_date utc_time utc_timestamp value variables varying view views warnings when while with work write xa xor year_month zerofill begin do then else loop repeat"),builtin:a("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision date datetime year unsigned signed numeric"),atoms:a("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^]/,dateSQL:a("date time timestamp"),support:a("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber doubleQuote nCharCast charsetCast commentHash commentSpaceRequired"),hooks:{"@":r,"`":t,"\\":i}}),e.defineMIME("text/x-mariadb",{name:"sql",client:a("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),keywords:a(o+"accessible action add after algorithm all always analyze asensitive at authors auto_increment autocommit avg avg_row_length before binary binlog both btree cache call cascade cascaded case catalog_name chain change changed character check checkpoint checksum class_origin client_statistics close coalesce code collate collation collations column columns comment commit committed completion concurrent condition connection consistent constraint contains continue contributors convert cross current current_date current_time current_timestamp current_user cursor data database databases day_hour day_microsecond day_minute day_second deallocate dec declare default delay_key_write delayed delimiter des_key_file describe deterministic dev_pop dev_samp deviance diagnostics directory disable discard distinctrow div dual dumpfile each elseif enable enclosed end ends engine engines enum errors escape escaped even event events every execute exists exit explain extended fast fetch field fields first flush for force foreign found_rows full fulltext function general generated get global grant grants group groupby_concat handler hard hash help high_priority hosts hour_microsecond hour_minute hour_second if ignore ignore_server_ids import index index_statistics infile inner innodb inout insensitive insert_method install interval invoker isolation iterate key keys kill language last leading leave left level limit linear lines list load local localtime localtimestamp lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters match max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modifies modify mutex mysql_errno natural next no no_write_to_binlog offline offset one online open optimize option optionally out outer outfile pack_keys parser partition partitions password persistent phase plugin plugins prepare preserve prev primary privileges procedure processlist profile profiles purge query quick range read read_write reads real rebuild recover references regexp relaylog release remove rename reorganize repair repeatable replace require resignal restrict resume return returns revoke right rlike rollback rollup row row_format rtree savepoint schedule schema schema_name schemas second_microsecond security sensitive separator serializable server session share show shutdown signal slave slow smallint snapshot soft soname spatial specific sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sqlexception sqlstate sqlwarning ssl start starting starts status std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace temporary terminated to trailing transaction trigger triggers truncate uncommitted undo uninstall unique unlock upgrade usage use use_frm user user_resources user_statistics using utc_date utc_time utc_timestamp value variables varying view views virtual warnings when while with work write xa xor year_month zerofill begin do then else loop repeat"),builtin:a("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision date datetime year unsigned signed numeric"),atoms:a("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^]/,dateSQL:a("date time timestamp"),support:a("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber doubleQuote nCharCast charsetCast commentHash commentSpaceRequired"),hooks:{"@":r,"`":t,"\\":i}}),e.defineMIME("text/x-sqlite",{name:"sql",client:a("auth backup bail binary changes check clone databases dbinfo dump echo eqp exit explain fullschema headers help import imposter indexes iotrace limit lint load log mode nullvalue once open output print prompt quit read restore save scanstats schema separator session shell show stats system tables testcase timeout timer trace vfsinfo vfslist vfsname width"),keywords:a(o+"abort action add after all analyze attach autoincrement before begin cascade case cast check collate column commit conflict constraint cross current_date current_time current_timestamp database default deferrable deferred detach each else end escape except exclusive exists explain fail for foreign full glob if ignore immediate index indexed initially inner instead intersect isnull key left limit match natural no notnull null of offset outer plan pragma primary query raise recursive references regexp reindex release rename replace restrict right rollback row savepoint temp temporary then to transaction trigger unique using vacuum view virtual when with without"),builtin:a("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text clob bigint int int2 int8 integer float double char varchar date datetime year unsigned signed numeric real"),atoms:a("null current_date current_time current_timestamp"),operatorChars:/^[*+\-%<>!=&|/~]/,dateSQL:a("date time timestamp datetime"),support:a("decimallessFloat zerolessFloat"),identifierQuote:'"',hooks:{"@":r,":":r,"?":r,$:r,'"':n,"`":t}}),e.defineMIME("text/x-cassandra",{name:"sql",client:{},keywords:a("add all allow alter and any apply as asc authorize batch begin by clustering columnfamily compact consistency count create custom delete desc distinct drop each_quorum exists filtering from grant if in index insert into key keyspace keyspaces level limit local_one local_quorum modify nan norecursive nosuperuser not of on one order password permission permissions primary quorum rename revoke schema select set storage superuser table three to token truncate ttl two type unlogged update use user users using values where with writetime"),builtin:a("ascii bigint blob boolean counter decimal double float frozen inet int list map static text timestamp timeuuid tuple uuid varchar varint"),atoms:a("false true infinity NaN"),operatorChars:/^[<>=]/,dateSQL:{},support:a("commentSlashSlash decimallessFloat"),hooks:{}}),e.defineMIME("text/x-plsql",{name:"sql",client:a("appinfo arraysize autocommit autoprint autorecovery autotrace blockterminator break btitle cmdsep colsep compatibility compute concat copycommit copytypecheck define describe echo editfile embedded escape exec execute feedback flagger flush heading headsep instance linesize lno loboffset logsource long longchunksize markup native newpage numformat numwidth pagesize pause pno recsep recsepchar release repfooter repheader serveroutput shiftinout show showmode size spool sqlblanklines sqlcase sqlcode sqlcontinue sqlnumber sqlpluscompatibility sqlprefix sqlprompt sqlterminator suffix tab term termout time timing trimout trimspool ttitle underline verify version wrap"),keywords:a("abort accept access add all alter and any array arraylen as asc assert assign at attributes audit authorization avg base_table begin between binary_integer body boolean by case cast char char_base check close cluster clusters colauth column comment commit compress connect connected constant constraint crash create current currval cursor data_base database date dba deallocate debugoff debugon decimal declare default definition delay delete desc digits dispose distinct do drop else elseif elsif enable end entry escape exception exception_init exchange exclusive exists exit external fast fetch file for force form from function generic goto grant group having identified if immediate in increment index indexes indicator initial initrans insert interface intersect into is key level library like limited local lock log logging long loop master maxextents maxtrans member minextents minus mislabel mode modify multiset new next no noaudit nocompress nologging noparallel not nowait number_base object of off offline on online only open option or order out package parallel partition pctfree pctincrease pctused pls_integer positive positiven pragma primary prior private privileges procedure public raise range raw read rebuild record ref references refresh release rename replace resource restrict return returning returns reverse revoke rollback row rowid rowlabel rownum rows run savepoint schema segment select separate session set share snapshot some space split sql start statement storage subtype successful synonym tabauth table tables tablespace task terminate then to trigger truncate type union unique unlimited unrecoverable unusable update use using validate value values variable view views when whenever where while with work"),builtin:a("abs acos add_months ascii asin atan atan2 average bfile bfilename bigserial bit blob ceil character chartorowid chr clob concat convert cos cosh count dec decode deref dual dump dup_val_on_index empty error exp false float floor found glb greatest hextoraw initcap instr instrb int integer isopen last_day least length lengthb ln lower lpad ltrim lub make_ref max min mlslabel mod months_between natural naturaln nchar nclob new_time next_day nextval nls_charset_decl_len nls_charset_id nls_charset_name nls_initcap nls_lower nls_sort nls_upper nlssort no_data_found notfound null number numeric nvarchar2 nvl others power rawtohex real reftohex round rowcount rowidtochar rowtype rpad rtrim serial sign signtype sin sinh smallint soundex sqlcode sqlerrm sqrt stddev string substr substrb sum sysdate tan tanh to_char text to_date to_label to_multi_byte to_number to_single_byte translate true trunc uid unlogged upper user userenv varchar varchar2 variance varying vsize xml"),operatorChars:/^[*\/+\-%<>!=~]/,dateSQL:a("date time timestamp"),support:a("doubleQuote nCharCast zerolessFloat binaryNumber hexNumber")}),e.defineMIME("text/x-hive",{name:"sql",keywords:a("select alter $elem$ $key$ $value$ add after all analyze and archive as asc before between binary both bucket buckets by cascade case cast change cluster clustered clusterstatus collection column columns comment compute concatenate continue create cross cursor data database databases dbproperties deferred delete delimited desc describe directory disable distinct distribute drop else enable end escaped exclusive exists explain export extended external fetch fields fileformat first format formatted from full function functions grant group having hold_ddltime idxproperties if import in index indexes inpath inputdriver inputformat insert intersect into is items join keys lateral left like limit lines load local location lock locks mapjoin materialized minus msck no_drop nocompress not of offline on option or order out outer outputdriver outputformat overwrite partition partitioned partitions percent plus preserve procedure purge range rcfile read readonly reads rebuild recordreader recordwriter recover reduce regexp rename repair replace restrict revoke right rlike row schema schemas semi sequencefile serde serdeproperties set shared show show_database sort sorted ssl statistics stored streamtable table tables tablesample tblproperties temporary terminated textfile then tmp to touch transform trigger unarchive undo union uniquejoin unlock update use using utc utc_tmestamp view when where while with admin authorization char compact compactions conf cube current current_date current_timestamp day decimal defined dependency directories elem_type exchange file following for grouping hour ignore inner interval jar less logical macro minute month more none noscan over owner partialscan preceding pretty principals protection reload rewrite role roles rollup rows second server sets skewed transactions truncate unbounded unset uri user values window year"),builtin:a("bool boolean long timestamp tinyint smallint bigint int float double date datetime unsigned string array struct map uniontype key_type utctimestamp value_type varchar"),atoms:a("false true null unknown"),operatorChars:/^[*+\-%<>!=]/,dateSQL:a("date timestamp"),support:a("ODBCdotTable doubleQuote binaryNumber hexNumber")}),e.defineMIME("text/x-pgsql",{name:"sql",client:a("source"),keywords:a(o+"a abort abs absent absolute access according action ada add admin after aggregate alias all allocate also alter always analyse analyze and any are array array_agg array_max_cardinality as asc asensitive assert assertion assignment asymmetric at atomic attach attribute attributes authorization avg backward base64 before begin begin_frame begin_partition bernoulli between bigint binary bit bit_length blob blocked bom boolean both breadth by c cache call called cardinality cascade cascaded case cast catalog catalog_name ceil ceiling chain char char_length character character_length character_set_catalog character_set_name character_set_schema characteristics characters check checkpoint class class_origin clob close cluster coalesce cobol collate collation collation_catalog collation_name collation_schema collect column column_name columns command_function command_function_code comment comments commit committed concurrently condition condition_number configuration conflict connect connection connection_name constant constraint constraint_catalog constraint_name constraint_schema constraints constructor contains content continue control conversion convert copy corr corresponding cost count covar_pop covar_samp create cross csv cube cume_dist current current_catalog current_date current_default_transform_group current_path current_role current_row current_schema current_time current_timestamp current_transform_group_for_type current_user cursor cursor_name cycle data database datalink datatype date datetime_interval_code datetime_interval_precision day db deallocate debug dec decimal declare default defaults deferrable deferred defined definer degree delete delimiter delimiters dense_rank depends depth deref derived desc describe descriptor detach detail deterministic diagnostics dictionary disable discard disconnect dispatch distinct dlnewcopy dlpreviouscopy dlurlcomplete dlurlcompleteonly dlurlcompletewrite dlurlpath dlurlpathonly dlurlpathwrite dlurlscheme dlurlserver dlvalue do document domain double drop dump dynamic dynamic_function dynamic_function_code each element else elseif elsif empty enable encoding encrypted end end_frame end_partition endexec enforced enum equals errcode error escape event every except exception exclude excluding exclusive exec execute exists exit exp explain expression extension external extract false family fetch file filter final first first_value flag float floor following for force foreach foreign fortran forward found frame_row free freeze from fs full function functions fusion g general generated get global go goto grant granted greatest group grouping groups handler having header hex hierarchy hint hold hour id identity if ignore ilike immediate immediately immutable implementation implicit import in include including increment indent index indexes indicator info inherit inherits initially inline inner inout input insensitive insert instance instantiable instead int integer integrity intersect intersection interval into invoker is isnull isolation join k key key_member key_type label lag language large last last_value lateral lead leading leakproof least left length level library like like_regex limit link listen ln load local localtime localtimestamp location locator lock locked log logged loop lower m map mapping match matched materialized max max_cardinality maxvalue member merge message message_length message_octet_length message_text method min minute minvalue mod mode modifies module month more move multiset mumps name names namespace national natural nchar nclob nesting new next nfc nfd nfkc nfkd nil no none normalize normalized not nothing notice notify notnull nowait nth_value ntile null nullable nullif nulls number numeric object occurrences_regex octet_length octets of off offset oids old on only open operator option options or order ordering ordinality others out outer output over overlaps overlay overriding owned owner p pad parallel parameter parameter_mode parameter_name parameter_ordinal_position parameter_specific_catalog parameter_specific_name parameter_specific_schema parser partial partition pascal passing passthrough password path percent percent_rank percentile_cont percentile_disc perform period permission pg_context pg_datatype_name pg_exception_context pg_exception_detail pg_exception_hint placing plans pli policy portion position position_regex power precedes preceding precision prepare prepared preserve primary print_strict_params prior privileges procedural procedure procedures program public publication query quote raise range rank read reads real reassign recheck recovery recursive ref references referencing refresh regr_avgx regr_avgy regr_count regr_intercept regr_r2 regr_slope regr_sxx regr_sxy regr_syy reindex relative release rename repeatable replace replica requiring reset respect restart restore restrict result result_oid return returned_cardinality returned_length returned_octet_length returned_sqlstate returning returns reverse revoke right role rollback rollup routine routine_catalog routine_name routine_schema routines row row_count row_number rows rowtype rule savepoint scale schema schema_name schemas scope scope_catalog scope_name scope_schema scroll search second section security select selective self sensitive sequence sequences serializable server server_name session session_user set setof sets share show similar simple size skip slice smallint snapshot some source space specific specific_name specifictype sql sqlcode sqlerror sqlexception sqlstate sqlwarning sqrt stable stacked standalone start state statement static statistics stddev_pop stddev_samp stdin stdout storage strict strip structure style subclass_origin submultiset subscription substring substring_regex succeeds sum symmetric sysid system system_time system_user t table table_name tables tablesample tablespace temp template temporary text then ties time timestamp timezone_hour timezone_minute to token top_level_count trailing transaction transaction_active transactions_committed transactions_rolled_back transform transforms translate translate_regex translation treat trigger trigger_catalog trigger_name trigger_schema trim trim_array true truncate trusted type types uescape unbounded uncommitted under unencrypted union unique unknown unlink unlisten unlogged unnamed unnest until untyped update upper uri usage use_column use_variable user user_defined_type_catalog user_defined_type_code user_defined_type_name user_defined_type_schema using vacuum valid validate validator value value_of values var_pop var_samp varbinary varchar variable_conflict variadic varying verbose version versioning view views volatile warning when whenever where while whitespace width_bucket window with within without work wrapper write xml xmlagg xmlattributes xmlbinary xmlcast xmlcomment xmlconcat xmldeclaration xmldocument xmlelement xmlexists xmlforest xmliterate xmlnamespaces xmlparse xmlpi xmlquery xmlroot xmlschema xmlserialize xmltable xmltext xmlvalidate year yes zone"),builtin:a("bigint int8 bigserial serial8 bit varying varbit boolean bool box bytea character char varchar cidr circle date double precision float8 inet integer int int4 interval json jsonb line lseg macaddr macaddr8 money numeric decimal path pg_lsn point polygon real float4 smallint int2 smallserial serial2 serial serial4 text time without zone with timetz timestamp timestamptz tsquery tsvector txid_snapshot uuid xml"),atoms:a("false true null unknown"),operatorChars:/^[*\/+\-%<>!=&|^\/#@?~]/,backslashStringEscapes:!1,dateSQL:a("date time timestamp"),support:a("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber nCharCast charsetCast escapeConstant")}),e.defineMIME("text/x-gql",{name:"sql",keywords:a("ancestor and asc by contains desc descendant distinct from group has in is limit offset on order select superset where"),atoms:a("false true"),builtin:a("blob datetime first key __key__ string integer double boolean null"),operatorChars:/^[*+\-%<>!=]/}),e.defineMIME("text/x-gpsql",{name:"sql",client:a("source"),keywords:a("abort absolute access action active add admin after aggregate all also alter always analyse analyze and any array as asc assertion assignment asymmetric at authorization backward before begin between bigint binary bit boolean both by cache called cascade cascaded case cast chain char character characteristics check checkpoint class close cluster coalesce codegen collate column comment commit committed concurrency concurrently configuration connection constraint constraints contains content continue conversion copy cost cpu_rate_limit create createdb createexttable createrole createuser cross csv cube current current_catalog current_date current_role current_schema current_time current_timestamp current_user cursor cycle data database day deallocate dec decimal declare decode default defaults deferrable deferred definer delete delimiter delimiters deny desc dictionary disable discard distinct distributed do document domain double drop dxl each else enable encoding encrypted end enum errors escape every except exchange exclude excluding exclusive execute exists explain extension external extract false family fetch fields filespace fill filter first float following for force foreign format forward freeze from full function global grant granted greatest group group_id grouping handler hash having header hold host hour identity if ignore ilike immediate immutable implicit in including inclusive increment index indexes inherit inherits initially inline inner inout input insensitive insert instead int integer intersect interval into invoker is isnull isolation join key language large last leading least left level like limit list listen load local localtime localtimestamp location lock log login mapping master match maxvalue median merge minute minvalue missing mode modifies modify month move name names national natural nchar new newline next no nocreatedb nocreateexttable nocreaterole nocreateuser noinherit nologin none noovercommit nosuperuser not nothing notify notnull nowait null nullif nulls numeric object of off offset oids old on only operator option options or order ordered others out outer over overcommit overlaps overlay owned owner parser partial partition partitions passing password percent percentile_cont percentile_disc placing plans position preceding precision prepare prepared preserve primary prior privileges procedural procedure protocol queue quote randomly range read readable reads real reassign recheck recursive ref references reindex reject relative release rename repeatable replace replica reset resource restart restrict returning returns revoke right role rollback rollup rootpartition row rows rule savepoint scatter schema scroll search second security segment select sequence serializable session session_user set setof sets share show similar simple smallint some split sql stable standalone start statement statistics stdin stdout storage strict strip subpartition subpartitions substring superuser symmetric sysid system table tablespace temp template temporary text then threshold ties time timestamp to trailing transaction treat trigger trim true truncate trusted type unbounded uncommitted unencrypted union unique unknown unlisten until update user using vacuum valid validation validator value values varchar variadic varying verbose version view volatile web when where whitespace window with within without work writable write xml xmlattributes xmlconcat xmlelement xmlexists xmlforest xmlparse xmlpi xmlroot xmlserialize year yes zone"),builtin:a("bigint int8 bigserial serial8 bit varying varbit boolean bool box bytea character char varchar cidr circle date double precision float float8 inet integer int int4 interval json jsonb line lseg macaddr macaddr8 money numeric decimal path pg_lsn point polygon real float4 smallint int2 smallserial serial2 serial serial4 text time without zone with timetz timestamp timestamptz tsquery tsvector txid_snapshot uuid xml"),atoms:a("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^\/#@?~]/,dateSQL:a("date time timestamp"),support:a("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber nCharCast charsetCast")}),e.defineMIME("text/x-sparksql",{name:"sql",keywords:a("add after all alter analyze and anti archive array as asc at between bucket buckets by cache cascade case cast change clear cluster clustered codegen collection column columns comment commit compact compactions compute concatenate cost create cross cube current current_date current_timestamp database databases datata dbproperties defined delete delimited deny desc describe dfs directories distinct distribute drop else end escaped except exchange exists explain export extended external false fields fileformat first following for format formatted from full function functions global grant group grouping having if ignore import in index indexes inner inpath inputformat insert intersect interval into is items join keys last lateral lazy left like limit lines list load local location lock locks logical macro map minus msck natural no not null nulls of on optimize option options or order out outer outputformat over overwrite partition partitioned partitions percent preceding principals purge range recordreader recordwriter recover reduce refresh regexp rename repair replace reset restrict revoke right rlike role roles rollback rollup row rows schema schemas select semi separated serde serdeproperties set sets show skewed sort sorted start statistics stored stratify struct table tables tablesample tblproperties temp temporary terminated then to touch transaction transactions transform true truncate unarchive unbounded uncache union unlock unset use using values view when where window with"),builtin:a("tinyint smallint int bigint boolean float double string binary timestamp decimal array map struct uniontype delimited serde sequencefile textfile rcfile inputformat outputformat"),atoms:a("false true null"),operatorChars:/^[*\/+\-%<>!=~&|^]/,dateSQL:a("date time timestamp"),support:a("ODBCdotTable doubleQuote zerolessFloat")}),e.defineMIME("text/x-esper",{name:"sql",client:a("source"),keywords:a("alter and as asc between by count create delete desc distinct drop from group having in insert into is join like not on or order select set table union update values where limit after all and as at asc avedev avg between by case cast coalesce count create current_timestamp day days delete define desc distinct else end escape events every exists false first from full group having hour hours in inner insert instanceof into irstream is istream join last lastweekday left limit like max match_recognize matches median measures metadatasql min minute minutes msec millisecond milliseconds not null offset on or order outer output partition pattern prev prior regexp retain-union retain-intersection right rstream sec second seconds select set some snapshot sql stddev sum then true unidirectional until update variable weekday when where window"),builtin:{},atoms:a("false true null"),operatorChars:/^[*+\-%<>!=&|^\/#@?~]/,dateSQL:a("time"),support:a("decimallessFloat zerolessFloat binaryNumber hexNumber")})}))}}]);